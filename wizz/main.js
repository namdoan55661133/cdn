var _0x1d1507=_0x4b18;function _0x4b18(_0x3f818e,_0x151df3){var _0x5f1d40=_0x3d55();_0x4b18=function(_0x4a5aab,_0x3d553f){_0x4a5aab=_0x4a5aab-0x0;var _0x4b18fb=_0x5f1d40[_0x4a5aab];return _0x4b18fb;};return _0x4b18(_0x3f818e,_0x151df3);}var _0x573967=_0x4b18;var _0x4c5c29=(function(){var _0x12046e=!![];return function(_0x3230e9,_0x9051){var _0x3e2301=_0x12046e?function(){var _0x24433e=_0x4b18;if(_0x9051){var _0x58f4a5=_0x9051[_0x24433e(0x3)](_0x3230e9,arguments);_0x9051=null;return _0x58f4a5;}}:function(){};_0x12046e=![];return _0x3e2301;};}());var _0x57c409=_0x4c5c29(this,function(){var _0x4e1bf1=_0x4b18;var _0x219cf8=_0x4b18;var _0x29785f=_0x4b18;var _0x7f996d=_0x4b18;var _0x25f216=_0x4b18;var _0x5820de=function(){var _0x2da41c=_0x4b18;var _0x396a64=_0x4b18;var _0x482f5b=_0x4b18;var _0x19e48f;try{_0x19e48f=Function(_0x2da41c(0x4)+_0x396a64(0x6)+('{}.constru'+'ctor("retu'+_0x482f5b(0x8)+' )')+');')();}catch(_0xa29703){_0x19e48f=window;}return _0x19e48f;};var _0x558857=_0x5820de();var _0x13715e=_0x558857[_0x4e1bf1(0xa)]=_0x558857['console']||{};var _0x4e3d07=[_0x4e1bf1(0x9),_0x4e1bf1(0x2),'info',_0x29785f(0xb),_0x219cf8(0x7),_0x4e1bf1(0xf),_0x4e1bf1(0x0)];for(var _0x1c5cd0=0x0;_0x1c5cd0<_0x4e3d07[_0x4e1bf1(0xe)];_0x1c5cd0++){var _0x546529=_0x4c5c29['constructo'+'r']['prototype'][_0x4e1bf1(0xc)](_0x4c5c29);var _0x39092c=_0x4e3d07[_0x1c5cd0];var _0x3ff5d6=_0x13715e[_0x39092c]||_0x546529;_0x546529[_0x219cf8(0x5)]=_0x4c5c29[_0x7f996d(0xc)](_0x4c5c29);_0x546529[_0x219cf8(0x1)]=_0x3ff5d6[_0x219cf8(0x1)]['bind'](_0x3ff5d6);_0x13715e[_0x39092c]=_0x546529;}});_0x57c409();function _0x3d55(){var _0x3755d9=['trace','toString','warn','apply','return (fu','__proto__','nction() ','exception','rn this")(','log','console','error','bind','prototype','length','table','Boolean'];_0x3d55=function(){return _0x3755d9;};return _0x3d55();}System.register("chunks:///_virtual/all.chain.config.ts",["cc"],(function(){"use strict";var c;return{setters:[function(t){c=t.cclegacy}],execute:function(){c._RF.push({},"90da1x/o2ZKL7bMVdPSMjrJ","all.chain.config",void 0),c._RF.pop()}}}));

System.register("chunks:///_virtual/all.chain.data.ts",["cc"],(function(){"use strict";var t;return{setters:[function(c){t=c.cclegacy}],execute:function(){t._RF.push({},"e3b10l/OK1EhLyPZVr2S0/P","all.chain.data",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/all.coin.config.ts",["cc"],(function(n){"use strict";var c;return{setters:[function(n){c=n.cclegacy}],execute:function(){var e;n("CoinType",void 0),c._RF.push({},"a7ce67TGJhHL7RlRvd6/Rva","all.coin.config",void 0),function(n){n.None="none",n.Chain="chain",n.ERC20="erc20",n.BGT="bgt"}(e||(e=n("CoinType",{}))),c._RF.pop()}}}));

System.register("chunks:///_virtual/all.contract.config.ts",["cc"],(function(){"use strict";var c;return{setters:[function(t){c=t.cclegacy}],execute:function(){c._RF.push({},"e0e1cmG6FZCI7QyBre5I6SS","all.contract.config",void 0),c._RF.pop()}}}));

System.register("chunks:///_virtual/all.define.ts",["cc"],(function(F){"use strict";var _,e;return{setters:[function(F){_=F.cclegacy,e=F.Color}],execute:function(){F("ELanType",void 0),_._RF.push({},"3ed6ebM+lpOU7JObEBpZ0r/","all.define",void 0);var O;F("sGameDesignHeight",896),F("sGameDesignWidth",504);!function(F){F[F.None=0]="None",F[F.ZH=1]="ZH",F[F.EN=2]="EN",F[F.JP=3]="JP",F[F.HK=4]="HK",F[F.KO=5]="KO",F[F.RU=6]="RU"}(O||(O=F("ELanType",{})));F("CursorType",{Default:0,Interactive:1}),F("EColliderGroup",{Default:1,MainRole:2,Npc:4,Role:8,FarmItem:16}),F("EMazeMonsterState",{Hide:0,Normal:1,Dead:2}),F("FARM_CAN_PUT_COLOR",new e(0,255,0,128)),F("FARM_CAN_NOT_PUT_COLOR",new e(255,0,0,128)),F("FARM_TERRAIN_CLONE_COLOR",new e(255,255,0,150)),F("FARM_RES_EMPTY_COLOR",new e("#000000")),F("PLAYER_SELF_NAME_COLOR",new e("#7AE0E9")),F("PLAYER_OTHER_NAME_COLOR",new e("#E9D57A")),F("NPC_NAME_COLOR",new e("#398A53")),F("MAZE_NPC_NAME_COLOR",new e("#398A53")),F("POP_FIGHT_DAMAGE_COLOR",new e("#CF0000")),F("POP_FIGHT_CURE_COLOR",new e("#26BE00")),F("POP_FIGHT_MISS_COLOR",new e("#FF9900")),F("PARTY_TIP_CAN_USE_COLOR",new e("#01c97d")),F("PARTY_TIP_CAN_NOT_USE_COLOR",new e("#c8004a")),F("ROLE_NORMAL_COLOR",new e(255,255,255,255)),F("ROLE_TRANSPARENT_COLOR",new e(255,255,255,100)),F("EMPTY_WALLET_ADDRESS","0x0000000000000000000000000000000000000000"),F("DEFAULT_ANT_TOKEN_ID","1"),F("CURSOR_URL_DEV",["http://192.168.1.11/_cursor/cur_1.png","http://192.168.1.11/_cursor/cur_2.png","http://192.168.1.11/_cursor/cur_2.png"]),F("CURSOR_URL",["./_cursor/cur_1.png","./_cursor/cur_2.png"]),F("ITEM_QUALITY_COLOR",["#FFFFFF","#57F908","#0CC8E3","#FE3EEA","#EA8D06","#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF","#b8b3a6"]),F("ITEM_QUALITY_COLOR_TIP_DESC",["#FFFFFF","#14d110","#09bdf1","#b244f9","#ffb424","#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF","#f2fbda"]);_._RF.pop()}}}));

System.register("chunks:///_virtual/all.logic.manager.ts",["cc","./object.playerself.ts","./table.manager.ts","./resource.manager.ts","./server.config.manager.ts","./game.state.manager.ts","./scene.node.manager.ts","./localstorage.manager.ts","./path.finder.manager.ts","./attributes.manager.ts","./skill.data.manager.ts","./state.data.manager.ts","./farm.board.terrain.manager.ts","./farm.board.item.manager.ts","./new.guide.manager.ts","./chain.history.manager.ts"],(function(a){"use strict";var n,e,t,r,i,c,s,o,g,l,f,u,m,M,d,h;return{setters:[function(a){n=a.cclegacy},function(a){e=a.PlayerSelf},function(a){t=a.TableManager},function(a){r=a.ResourceManager},function(a){i=a.ServerConfigManager},function(a){c=a.GameStateManager},function(a){s=a.SceneNodeManager},function(a){o=a.LocalStorageManager},function(a){g=a.PathFinderManager},function(a){l=a.AttributesManager},function(a){f=a.SkillDataManager},function(a){u=a.StateDataManager},function(a){m=a.FarmBoardTerrainManager},function(a){M=a.FarmBoardItemManager},function(a){d=a.NewGuideManager},function(a){h=a.ChainHistoryManager}],execute:function(){a({clearAllManager:function(){for(var a=0;a<v.length;a+=1)v[a].clearManager()},initAllManger:function(){for(var a=0;a<v.length;a+=1)v[a].initManger(),v[a].UsePlayerSelf=e.instance},onAllPreLoadFinish:function(){for(var a=0;a<v.length;a+=1)v[a].onPreLoadFinish()},releaseAllManager:function(){for(var a=0;a<v.length;a+=1)v[a].releaseManager()}}),n._RF.push({},"ec498BLlnlOAq+eMWhtKNiP","all.logic.manager",void 0);var v=[o.instance,r.instance,i.instance,t.instance,c.instance,s.instance,g.instance,m.instance,M.instance,l.instance,f.instance,u.instance,d.instance,h.instance];n._RF.pop()}}}));

System.register("chunks:///_virtual/all.logic.system.ts",["cc","./net.system.ts","./camera.system.ts","./input.system.ts","./time.system.ts","./scene.system.ts","./object.playerself.ts","./fight.system.ts","./effect.system.ts","./sound.system.ts","./farm.system.ts","./work.system.ts","./farm.res.system.ts","./robot.system.ts","./twitter.box.system.ts","./chain.system.ts"],(function(t){"use strict";var s,n,e,i,c,a,o,m,y,r,f,l,u,S,h,g;return{setters:[function(t){s=t.cclegacy},function(t){n=t.NetSystem},function(t){e=t.CameraSystem},function(t){i=t.InputSystem},function(t){c=t.TimeSystem},function(t){a=t.SceneSystem},function(t){o=t.PlayerSelf},function(t){m=t.FightSystem},function(t){y=t.EffectSystem},function(t){r=t.SoundSystem},function(t){f=t.FarmSystem},function(t){l=t.WorkSystem},function(t){u=t.FarmResSystem},function(t){S=t.RobotSystem},function(t){h=t.TwitterBoxSystem},function(t){g=t.ChainSystem}],execute:function(){t({clearAllSystem:function(){for(var t=0;t<v.length;t+=1)v[t].clearSysData()},finalizeAllSystem:function(){for(var t=0;t<v.length;t+=1)v[t].sysFinalize()},initAllSystem:function(){for(var t=0;t<v.length;t+=1)v[t].sysInitial(),v[t].UsePlayerSelf=o.instance},onAllPreLoadFinish:function(){for(var t=0;t<v.length;t+=1)v[t].onPreLoadFinish()},updateAllSystem:function(t){for(var s=0;s<v.length;s+=1)v[s].sysUpdate(t)}}),s._RF.push({},"97395rVTHJKaqQmBEKK3zGm","all.logic.system",void 0);var v=t("logicSystemArray",[g.instance,c.instance,n.instance,i.instance,a.instance,e.instance,m.instance,y.instance,r.instance,f.instance,l.instance,u.instance,S.instance,h.instance]);s._RF.pop()}}}));

System.register("chunks:///_virtual/all.model.manager.ts",["cc","./object.playerself.ts","./model.item.manager.ts","./model.chat.manager.ts","./model.mainrole.manager.ts","./model.farm.manager.ts","./model.worker.manager.ts","./model.web.quest.manager.ts","./model.achievement.manager.ts","./model.charge.manager.ts","./model.mining.manager.ts"],(function(e){"use strict";var n,a,t,r,o,l,i,c,s,g,m;return{setters:[function(e){n=e.cclegacy},function(e){a=e.PlayerSelf},function(e){t=e.ModelItemManager},function(e){r=e.ModelChatManager},function(e){o=e.ModelMainRoleManager},function(e){l=e.ModelFarmManager},function(e){i=e.ModelWorkerManager},function(e){c=e.ModelWebQuestManager},function(e){s=e.ModelAchievementManager},function(e){g=e.ModelChargeManager},function(e){m=e.ModelMiningManager}],execute:function(){e({clearAllManager:function(){for(var e=0;e<M.length;e+=1)M[e].clearManager()},initAllManger:function(){for(var e=0;e<M.length;e+=1)M[e].initManger(),M[e].UsePlayerSelf=a.instance},onAllPreLoadFinish:function(){for(var e=0;e<M.length;e+=1)M[e].onPreLoadFinish()},releaseAllManager:function(){for(var e=0;e<M.length;e+=1)M[e].releaseManager()}}),n._RF.push({},"70f6dUN4ihLGqAHZyMlX/3T","all.model.manager",void 0);var M=[o.instance,t.instance,r.instance,l.instance,i.instance,c.instance,s.instance,g.instance,m.instance];n._RF.pop()}}}));

System.register("chunks:///_virtual/anim.utility.ts",["cc","./data.anim.name.ts"],(function(n){"use strict";var i,t;return{setters:[function(n){i=n.cclegacy},function(n){t=n.DefineWholeAnimConfig}],execute:function(){i._RF.push({},"c04bfknQehIpZTgX9eVxd4g","anim.utility",void 0),n("AnimUtility",function(){function n(){}return n.initAnim=function(){var n=this;t.forEach((function(i){n.wholeAnim.has(i.anim)||n.wholeAnim.set(i.anim,i.name)}))},n.getWholeAnimName=function(n){return this.wholeAnim.has(n)?this.wholeAnim.get(n):""},n}()).wholeAnim=new Map,i._RF.pop()}}}));

System.register("chunks:///_virtual/api.account.model.ts",["cc"],(function(){"use strict";var c;return{setters:[function(e){c=e.cclegacy}],execute:function(){c._RF.push({},"ce5e1D94j9C24S4p1I2zZqN","api.account.model",void 0),c._RF.pop()}}}));

System.register("chunks:///_virtual/api.account.ts",["cc"],(function(){"use strict";var c;return{setters:[function(t){c=t.cclegacy}],execute:function(){c._RF.push({},"c0254V7VJVPzqq/Id9r9NTu","api.account",void 0),c._RF.pop()}}}));

System.register("chunks:///_virtual/api.auth.model.ts",["cc"],(function(){"use strict";var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"67e722z7GxBlpeuk2W7SNY+","api.auth.model",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/api.auth.ts",["cc","./http.manager.ts"],(function(t){"use strict";var n,a;return{setters:[function(t){n=t.cclegacy},function(t){a=t.HttpManager}],execute:function(){t({apiAuthKaiaLogin:function(t){return a.instance.post("/auth/kaia-login",{data:t})},apiAuthKaiaLoginPre:function(t){return a.instance.get("/auth/kaia-login-pre",{params:t})},apiAuthLineLogin:function(t){return a.instance.post("/auth/ln-login",{data:t})},apiAuthLogin:function(t){return a.instance.post("/auth/login",{data:t})},apiAuthTelegramLogin:function(t){return a.instance.post("/auth/tma-login",{data:t})},apiAuthTelegramWebLogin:function(t){return a.instance.post("/auth/tg-login",{data:t})},apiAuthXLogin:function(t){return a.instance.post("/auth/x-login",{data:t})},apiAuthXLoginPre:function(){return a.instance.get("/auth/x-login-pre")},apiAuthXLoginWeb:function(t){return a.instance.post("/auth/x-login-web",{data:t})},apiAuthXLoginWebPre:function(){return a.instance.get("/auth/x-login-web-pre")},apiRefreshToken:function(t){return a.instance.post("/auth/refresh",{data:t})}}),n._RF.push({},"da493eEe0lB8oNdFNhixuV+","api.auth",void 0),n._RF.pop()}}}));

System.register("chunks:///_virtual/api.bera.faucet.model.ts",["cc"],(function(){"use strict";var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"a1ff3HQaF1C979Bn3qL+Vni","api.bera.faucet.model",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/api.bera.faucet.ts",["cc","./http.manager.ts"],(function(t){"use strict";var e,a;return{setters:[function(t){e=t.cclegacy},function(t){a=t.HttpManager}],execute:function(){t({apiAskBeraFaucet:function(){return a.instance.post("/bera-faucet/ask")},apiGetBeraFaucetStatus:function(){return a.instance.get("/bera-faucet/status")}}),e._RF.push({},"05242348+pDKqGLoYenPzjL","api.bera.faucet",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/api.bera.token.model.ts",["cc"],(function(){"use strict";var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"bec36BNjGlFTrkH5Kerq1uL","api.bera.token.model",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/api.bera.token.ts",["cc","./http.manager.ts"],(function(e){"use strict";var t,n;return{setters:[function(e){t=e.cclegacy},function(e){n=e.HttpManager}],execute:function(){e("apiGetBeraTokenPrice",(function(){if(n.instance.isHasAuthHeder())return n.instance.get("/bera-token/price");return null})),t._RF.push({},"ed5aeQViMREZIfgCTZpOYM2","api.bera.token",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/api.chain.marketplace.model.ts",["cc"],(function(e){"use strict";var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){var r;e("EMarketOrderSort",void 0),t._RF.push({},"89a14MU9vFKX5JKkPn5UOFZ","api.chain.marketplace.model",void 0),function(e){e[e.LASTEST=1]="LASTEST",e[e.LOWEST=2]="LOWEST",e[e.HIGHEST=3]="HIGHEST"}(r||(r=e("EMarketOrderSort",{}))),t._RF.pop()}}}));

System.register("chunks:///_virtual/api.chain.marketplace.ts",["cc","./http.manager.ts"],(function(e){"use strict";var t,a;return{setters:[function(e){t=e.cclegacy},function(e){a=e.HttpManager}],execute:function(){e({apiAddInvalidOrder:function(e){return a.instance.post("/marketplace/invalid-order",{data:{orderId:e}})},apiAddValidOrder:function(e){return a.instance.post("/marketplace/valid-order",{data:{orderId:e}})},apiGetMarketplaceItemList:function(e){return a.instance.post("/marketplace/item",{data:e})},apiGetMarketplaceItemPrice:function(){return a.instance.get("/marketplace/item-price")},apiGetMarketplaceSelfItemOrder:function(e){return a.instance.post("/marketplace/self-order-item",{data:e})},apiGetMarketplaceSelfWizardOrder:function(e){return a.instance.post("/marketplace/self-order-wizard",{data:e})},apiGetMarketplaceWizardList:function(e){return a.instance.post("/marketplace/wizard",{data:e})}}),t._RF.push({},"677bfeTDYFI9qjGPlIU9Ew4","api.chain.marketplace",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/api.game.map.data.ts",["cc","./http.manager.ts"],(function(t){"use strict";var a,e;return{setters:[function(t){a=t.cclegacy},function(t){e=t.HttpManager}],execute:function(){t({getEditMapData:function(){return e.instance.get("/game/getEditMap")},getMapData:function(){return e.instance.get("/game/getMap")},setEditMapData:function(t){return e.instance.post("/game/setEditMap",{data:t})},setMapData:function(t){return e.instance.post("/game/setMap",{data:t})}}),a._RF.push({},"c5c4eDiiG1FDrFb5w5NI6xv","api.game.map.data",void 0),a._RF.pop()}}}));

System.register("chunks:///_virtual/api.inner.map.data.model.ts",["cc"],(function(){"use strict";var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"77592CYBUZBvLX19ZGWTuy+","api.inner.map.data.model",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/api.kaia.model.ts",["cc"],(function(){"use strict";var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"c5e3e/dOT1LbqA9eeMsfCge","api.kaia.model",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/api.kaia.quest.model.ts",["cc"],(function(){"use strict";var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"720b3auVslG5rIgqvuq3M2x","api.kaia.quest.model",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/api.kaia.quest.ts",["cc","./http.manager.ts"],(function(t){"use strict";var a,e;return{setters:[function(t){a=t.cclegacy},function(t){e=t.HttpManager}],execute:function(){t({apiKaiaQuestApplyCommon:function(t){return e.instance.post("/kaia-quest/applyCom",{data:t})},apiKaiaQuestApplyLevel:function(t){return e.instance.post("/kaia-quest/applyLevelStage2",{data:t})},apiKaiaQuestGetStatus:function(){return e.instance.get("/kaia-quest/getStatus")}}),a._RF.push({},"20e241uBbBJOasZ9ONYKJ7C","api.kaia.quest",void 0),a._RF.pop()}}}));

System.register("chunks:///_virtual/api.kaia.ts",["cc","./http.manager.ts"],(function(t){"use strict";var a,e;return{setters:[function(t){a=t.cclegacy},function(t){e=t.HttpManager}],execute:function(){t("apiCreatePay",(function(t){return e.instance.post("/kaia/getPaymentId",{data:t})})),a._RF.push({},"7ea5epSZ7ZPSIaZLf+6vKao","api.kaia",void 0),a._RF.pop()}}}));

System.register("chunks:///_virtual/api.legacy.x.model.ts",["cc"],(function(){"use strict";var e;return{setters:[function(c){e=c.cclegacy}],execute:function(){e._RF.push({},"ec8fbOqzOlALb3OBtnIPabQ","api.legacy.x.model",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/api.legacy.x.ts",["cc","./http.manager.ts"],(function(t){"use strict";var a,e;return{setters:[function(t){a=t.cclegacy},function(t){e=t.HttpManager}],execute:function(){t({apiLegacyXClaimAward:function(){return e.instance.post("/legacy-x/claimAward")},apiLegacyXGetStatus:function(){return e.instance.get("/legacy-x/getAwardStatus")}}),a._RF.push({},"4cb30GREiBEOIb4zP5DaDGs","api.legacy.x",void 0),a._RF.pop()}}}));

System.register("chunks:///_virtual/api.me.model.ts",["cc"],(function(){"use strict";var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"d24f1S94WBH6YBQf23zyGeP","api.me.model",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/api.me.ts",["cc","./http.manager.ts"],(function(n){"use strict";var t,e;return{setters:[function(n){t=n.cclegacy},function(n){e=n.HttpManager}],execute:function(){n({apiInfos:function(n){if(e.instance.isHasAuthHeder())return e.instance.post("/me/infos",{data:n});return null},apiInvite:function(n){return e.instance.post("/me/invite",{data:n})},apiMeInfo:function(){return e.instance.get("/me/info")}}),t._RF.push({},"22c59hnBppLVajT/DjFR6Ca","api.me",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/api.okx.evm.quest.model.ts",["cc"],(function(){"use strict";var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"0a462GXhIBIhpFbbooMz8W0","api.okx.evm.quest.model",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/api.okx.evm.quest.ts",["cc","./http.manager.ts"],(function(t){"use strict";var e,n;return{setters:[function(t){e=t.cclegacy},function(t){n=t.HttpManager}],execute:function(){t({apiOKXBindAddress:function(t){return n.instance.post("/okx-quest/bindAddress",{data:t})},apiOKXCheckStage1:function(){return n.instance.post("/okx-quest/checkStage1")},apiOKXCheckStage2:function(){return n.instance.post("/okx-quest/checkStage2")},apiOKXCheckStage3:function(){return n.instance.post("/okx-quest/checkStage3")},apiOKXGetAward:function(){return n.instance.post("/okx-quest/getAward")},apiOKXGetQuestStatus:function(){return n.instance.get("/okx-quest/getQuestStatus")}}),e._RF.push({},"2bc0bpNDyNERpAt7E1rYGzm","api.okx.evm.quest",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/api.tabi.evm.quest.model.ts",["cc"],(function(){"use strict";var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"ffa9f2Bl5tJM79ozGeJcjXL","api.tabi.evm.quest.model",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/api.tabi.evm.quest.ts",["cc","./http.manager.ts"],(function(t){"use strict";var e,n;return{setters:[function(t){e=t.cclegacy},function(t){n=t.HttpManager}],execute:function(){t({apiBindAddress:function(t){return n.instance.post("/tabi-quest/bindAddress",{data:t})},apiCheckStage2:function(){return n.instance.post("/tabi-quest/checkStage2")},apiCheckStage3:function(){return n.instance.post("/tabi-quest/checkStage3")},apiGetAward:function(){return n.instance.post("/tabi-quest/getAward")},apiGetQuestStatus:function(){return n.instance.get("/tabi-quest/getQuestStatus")}}),e._RF.push({},"523a9ZXjB5DM7/FS6F0FDth","api.tabi.evm.quest",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/api.test.inner.ts",["cc","./http.manager.ts"],(function(t){"use strict";var e,n;return{setters:[function(t){e=t.cclegacy},function(t){n=t.HttpManager}],execute:function(){t("testFinishOrder",(function(t){return n.instance.post("/test/finishOrder",{data:{orderId:t}})})),e._RF.push({},"c3ea8hSfeJOLY2fPtUnBHc6","api.test.inner",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/api.tg.bot.model.ts",["cc"],(function(){"use strict";var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"517320EoO1J8KD407j/a3Hn","api.tg.bot.model",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/api.tg.bot.ts",["cc","./http.manager.ts"],(function(t){"use strict";var e,n;return{setters:[function(t){e=t.cclegacy},function(t){n=t.HttpManager}],execute:function(){t("createInvoiceUrl",(function(t){return n.instance.post("/tg-bot/getInvoiceUrl",{data:{orderId:t}})})),e._RF.push({},"8b561AGHOBI2b0jfWfH1dnM","api.tg.bot",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/api.tg.quest.model.ts",["cc"],(function(t){"use strict";var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){var n,s,o;t({TgQuestCondition:void 0,TgQuestGroup:void 0,TgQuestType:void 0}),e._RF.push({},"5be0db+595IfZ2XKGy574pM","api.tg.quest.model",void 0),function(t){t[t.None=0]="None",t[t.Base=1]="Base",t[t.Daily=11]="Daily",t[t.X=21]="X",t[t.Channel=31]="Channel"}(n||(n=t("TgQuestGroup",{}))),function(t){t[t.Forever=1]="Forever",t[t.EveryDay=11]="EveryDay"}(s||(s=t("TgQuestType",{}))),function(t){t.SubChannel="sub_channel",t.MessageBot="message_bot",t.EnterGroup="enter_group",t.ClickUrl="click_url",t.GotoTgChat="goto_tg_chat",t.ConnectWallet="connect_wallet",t.FinishNow="finish_now",t.OtherAuthTgUser="other_auth_tg",t.ChainBeraCheckIn="chain_bera_check",t.XBoxGetAmount="x_box_get_amount",t.XUserWatch="x_user_watch",t.XUserNotify="x_user_notify",t.XSendStatus="x_send_status",t.XStatusReply="x_status_reply",t.XStatusLike="x_status_like",t.XStatusRepost="x_status_repost",t.NewYearActivity="new_year_activity"}(o||(o=t("TgQuestCondition",{}))),e._RF.pop()}}}));

System.register("chunks:///_virtual/api.tg.quest.ts",["cc","./http.manager.ts"],(function(t){"use strict";var e,n;return{setters:[function(t){e=t.cclegacy},function(t){n=t.HttpManager}],execute:function(){t({finishTgQuest:function(t,e){void 0===e&&(e="");return n.instance.post("/tg-quest/finish",{data:{questId:t,param:e}})},getTgQuestList:function(){return n.instance.get("/tg-quest/list")}}),e._RF.push({},"c592f70wFRFhpTvzcxpPKHZ","api.tg.quest",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/api.tomarket.award.ts",["cc","./http.manager.ts"],(function(t){"use strict";var a,e;return{setters:[function(t){a=t.cclegacy},function(t){e=t.HttpManager}],execute:function(){t({apiTomarketClaimAward:function(){return e.instance.post("/tomarket/claimAward")},apiTomarketGetStatus:function(){return e.instance.get("/tomarket/getAwardStatus")}}),a._RF.push({},"8a9c3NZ6zVCoIhZa5WAvz8K","api.tomarket.award",void 0),a._RF.pop()}}}));

System.register("chunks:///_virtual/api.tomarket.model.ts",["cc"],(function(){"use strict";var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"bd619yaY6xIe6HZcsFExTTk","api.tomarket.model",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/api.wizard.wallet.model.ts",["cc"],(function(){"use strict";var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"d04043Gx7lIFb/L1HKnypsg","api.wizard.wallet.model",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/api.wizard.wallet.ts",["cc","./http.manager.ts"],(function(t){"use strict";var e,n;return{setters:[function(t){e=t.cclegacy},function(t){n=t.HttpManager}],execute:function(){t({apiVerifyWalletCreate:function(t){return n.instance.post("/wallet/create",{data:t})},apiWalletConnect:function(){return n.instance.post("/wallet/connect")}}),e._RF.push({},"0d1979siYJAR5EyTf3n/bCW","api.wizard.wallet",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/api.x.box.model.ts",["cc"],(function(){"use strict";var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"97aac8g84dFSJXEddLh/pZo","api.x.box.model",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/api.x.box.ts",["cc","./http.manager.ts"],(function(t){"use strict";var n,e;return{setters:[function(t){n=t.cclegacy},function(t){e=t.HttpManager}],execute:function(){t({finishXBox:function(t){return e.instance.post("/x-box/getBox",{data:{configId:t}})},getXBoxReplyMsgList:function(){return e.instance.get("/x-box/replyMsg")},getXShowBoxList:function(){return e.instance.get("/x-box/list")}}),n._RF.push({},"f69ecoEbC5KmYBl5td2v5Cj","api.x.box",void 0),n._RF.pop()}}}));

System.register("chunks:///_virtual/attributes.container.ts",["cc","./attributes.define.ts"],(function(t){"use strict";var e,a,n;return{setters:[function(t){e=t.cclegacy,a=t._decorator},function(t){n=t.EAttributeType}],execute:function(){var i,r;e._RF.push({},"b3683b2WEdKObtwKMwr2Mn3","attributes.container",void 0);var u=a.ccclass;t("AttributesContainer",u("AttributesContainer")(((r=function(){function t(){this.attributesMap=new Map}var e=t.prototype;return e.getAsFloat=function(e){return this._getByKey(e)/t.cFloatRate},e.getAsInt=function(t){return Math.round(this._getByKey(t))},e.setIntValue=function(t,e){this._setValue(t,e)},e.setFloatValue=function(e,a){var n=Math.round(a*t.cFloatRate);this._setValue(e,n)},e._getByKey=function(t){var e=this.attributesMap.get(t);return void 0===e?0:e},e._setValue=function(t,e){this._getByKey(t)!==e&&(this.attributesMap.set(t,e),t>n.Max&&this._updateAttrRealValue(t))},e._updateAttrRealValue=function(t){var e=Math.floor(t/10),a=10*e+1,n=10*e+2,i=10*e+3,r=(this._getByKey(a)+this._getByKey(n))*(100+this.getAsFloat(i))/100;this._setValue(t,r)},t}()).cFloatRate=1e4,i=r))||i);e._RF.pop()}}}));

System.register("chunks:///_virtual/attributes.define.ts",["cc"],(function(t){"use strict";var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"06066jqTu1PI4H739k7eC1F","attributes.define",void 0);t("EAttributeType",{Max:1e4,GrowthFactor:1e3,Life:1001,Attack:1002,Defense:1003,Speed:1004,LifeSteal:1100,FightBack:1101,Combo:1102,Evade:1103,Crit:1104,Stun:1105,LifeStealResistant:1200,FightBackResistant:1201,ComboResistant:1202,EvadeResistant:1203,CritResistant:1204,StunResistant:1205,CurHp:2e3,LifeBase:10011,LifeAdd:10012,LifePct:10013,AttackBase:10021,AttackAdd:10022,AttackPct:10023,DefenseBase:10031,DefenseAdd:10032,DefensePct:10033,SpeedBase:10041,SpeedAdd:10042,SpeedPct:10043,LifeStealBase:11001,LifeStealAdd:11002,LifeStealPct:11003,FightBackBase:11011,FightBackAdd:11012,FightBackPct:11013,ComboBase:11021,ComboAdd:11022,ComboPct:11023,EvadeBase:11031,EvadeAdd:11032,EvadePct:11033,CritBase:11041,CritAdd:11042,CritPct:11043,StunBase:11051,StunAdd:11052,StunPct:11053,LifeStealResistantBase:12001,LifeStealResistantAdd:12002,LifeStealResistantPct:12003,FightBackResistantBase:12011,FightBackResistantAdd:12012,FightBackResistantPct:12013,ComboResistantBase:12021,ComboResistantAdd:12022,ComboResistantPct:12023,EvadeResistantBase:12031,EvadeResistantAdd:12032,EvadeResistantPct:12033,CritResistantBase:12041,CritResistantAdd:12042,CritResistantPct:12043,StunResistantBase:12051,StunResistantAdd:12052,StunResistantPct:12053,CurHpBase:20001});e._RF.pop()}}}));

System.register("chunks:///_virtual/attributes.manager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./base.manager.ts","./attributes.define.ts","./table.helper.ts","./model.mainrole.manager.ts"],(function(t){"use strict";var e,a,s,n,r,i,u,c;return{setters:[function(t){e=t.inheritsLoose,a=t.createClass},function(t){s=t.cclegacy,n=t._decorator},function(t){r=t.BaseManager},function(t){i=t.EAttributeType},function(t){u=t.TableHelper},function(t){c=t.ModelMainRoleManager}],execute:function(){var g,o;s._RF.push({},"c91000ObjlIyoOgjc61Uf8h","attributes.manager",void 0);var I=n.ccclass;t("AttributesManager",I("AttributesManager")(((o=function(t){function s(){return t.apply(this,arguments)||this}e(s,t);var n=s.prototype;return n.getMainRoleShowMainAttr=function(){var t=[],e=c.instance;return t.push({type:i.Attack,value:e.PropAttack.toString()}),t.push({type:i.Defense,value:e.PropDefense.toString()}),t.push({type:i.Speed,value:e.PropSpeed.toString()}),t},n.getMainRoleShowOtherAttr=function(){var t=[],e=c.instance;return t.push({type:i.GrowthFactor,value:this._getUseAttrValue(e.GrowthFactor)}),t.push({type:i.LifeSteal,value:this._getUseAttrPercent(e.AttrLifeSteal)}),t.push({type:i.FightBack,value:this._getUseAttrPercent(e.AttrFightBack)}),t.push({type:i.Combo,value:this._getUseAttrPercent(e.AttrCombo)}),t.push({type:i.Evade,value:this._getUseAttrPercent(e.AttrEvade)}),t.push({type:i.Crit,value:this._getUseAttrPercent(e.AttrCrit)}),t.push({type:i.Stun,value:this._getUseAttrPercent(e.AttrStun)}),t.push({type:i.LifeStealResistant,value:this._getUseAttrPercent(e.AttrLifeStealResistant)}),t.push({type:i.FightBackResistant,value:this._getUseAttrPercent(e.AttrFightBackResistant)}),t.push({type:i.ComboResistant,value:this._getUseAttrPercent(e.AttrComboResistant)}),t.push({type:i.EvadeResistant,value:this._getUseAttrPercent(e.AttrEvadeResistant)}),t.push({type:i.CritResistant,value:this._getUseAttrPercent(e.AttrCritResistant)}),t.push({type:i.StunResistant,value:this._getUseAttrPercent(e.AttrStunResistant)}),t},n._getUseAttrPercent=function(t){return(.01*t).toFixed(2)+"%"},n._getUseAttrValue=function(t){return""+(.01*t).toFixed(2)},n.getAttributeText=function(t){var e="";switch(t){case i.GrowthFactor:e=u.getI18nUIText("u.1005");break;case i.Life:e=u.getI18nUIText("u.1001");break;case i.Attack:e=u.getI18nUIText("u.1002");break;case i.Defense:e=u.getI18nUIText("u.1003");break;case i.Speed:e=u.getI18nUIText("u.1004");break;case i.LifeSteal:e=u.getI18nUIText("u.1006");break;case i.FightBack:e=u.getI18nUIText("u.1007");break;case i.Combo:e=u.getI18nUIText("u.1008");break;case i.Evade:e=u.getI18nUIText("u.1009");break;case i.Crit:e=u.getI18nUIText("u.1010");break;case i.Stun:e=u.getI18nUIText("u.1011");break;case i.LifeStealResistant:e=u.getI18nUIText("u.1012");break;case i.FightBackResistant:e=u.getI18nUIText("u.1013");break;case i.ComboResistant:e=u.getI18nUIText("u.1014");break;case i.EvadeResistant:e=u.getI18nUIText("u.1015");break;case i.CritResistant:e=u.getI18nUIText("u.1016");break;case i.StunResistant:e=u.getI18nUIText("u.1017")}return e},n.getAttributeTipText=function(t){var e="";switch(t){case i.GrowthFactor:e=u.getI18nUIText("u.1055");break;case i.Life:e=u.getI18nUIText("u.1051");break;case i.Attack:e=u.getI18nUIText("u.1052");break;case i.Defense:e=u.getI18nUIText("u.1053");break;case i.Speed:e=u.getI18nUIText("u.1054");break;case i.LifeSteal:e=u.getI18nUIText("u.1056");break;case i.FightBack:e=u.getI18nUIText("u.1057");break;case i.Combo:e=u.getI18nUIText("u.1058");break;case i.Evade:e=u.getI18nUIText("u.1059");break;case i.Crit:e=u.getI18nUIText("u.1060");break;case i.Stun:e=u.getI18nUIText("u.1061");break;case i.LifeStealResistant:e=u.getI18nUIText("u.1062");break;case i.FightBackResistant:e=u.getI18nUIText("u.1063");break;case i.ComboResistant:e=u.getI18nUIText("u.1064");break;case i.EvadeResistant:e=u.getI18nUIText("u.1065");break;case i.CritResistant:e=u.getI18nUIText("u.1066");break;case i.StunResistant:e=u.getI18nUIText("u.1067")}return e},a(s,null,[{key:"instance",get:function(){return null==this._instance&&(this._instance=new s),this._instance}}]),s}(r))._instance=null,g=o))||g);s._RF.pop()}}}));

System.register("chunks:///_virtual/auth.popup.window.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var n,r,e,o,i;return{setters:[function(t){n=t.extends,r=t.asyncToGenerator,e=t.regeneratorRuntime},function(t){o=t.cclegacy,i=t.log}],execute:function(){o._RF.push({},"2908f9qOCtFQLEr5yVE0JXJ","auth.popup.window",void 0);t("default",function(){function t(t,n){this.popupWindow=null,this.name="",this.popupOptions={},this.openUrl="",this.redirectUrl="",this.popupWindow=null,this.name=t,this.popupOptions=this.center(n)}var o=t.prototype;return o.open=function(){var t=r(e().mark((function t(n,r){var o;return e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,this.openUrl=n,this.redirectUrl=r,o=this.serializeOptions(),this.popupWindow=window.open(this.openUrl,this.name,o),this.popupWindow&&this.popupWindow.focus&&this.popupWindow.focus(),t.abrupt("return",this.pooling(this.redirectUrl));case 9:throw t.prev=9,t.t0=t.catch(0),i(t.t0),new Error("OAuth popup error occurred");case 13:case"end":return t.stop()}}),t,this,[[0,9]])})));return function(n,r){return t.apply(this,arguments)}}(),o.pooling=function(){var t=r(e().mark((function t(n){var r=this;return e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,e){var o=setInterval((function(){r.popupWindow&&!r.popupWindow.closed&&void 0!==r.popupWindow.closed||(clearInterval(o),o=null,t({ok:!1}));try{if(r.getFullUrlPath(r.popupWindow.location)===n)if(r.popupWindow.location.search||r.popupWindow.location.hash){var i=r._parseQueryString(r.popupWindow.location.search.substring(1).replace(/\/$/,"")),u=r._parseQueryString(r.popupWindow.location.hash.substring(1).replace(/[/$]/,"")),p={error:null};i&&Object.assign(p,i),u&&Object.assign(p,u),t(p.error?{ok:!1}:{ok:!0,result:p}),clearInterval(o),o=null,r.popupWindow.close()}else e(new Error("OAuth redirect has occurred but no query or hash parameters were found."))}catch(t){}}),550)})));case 1:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),o.serializeOptions=function(){return Object.entries(this.popupOptions).filter((function(t){return null!=t[1]})).map((function(t){var n=t[0],r=t[1];return n+"="+("boolean"!=typeof r?r:r?"yes":"no")})).join(",")},o.center=function(t){var r,e=n({},t);null==e.width&&(e.width=null!=(r=[800,720,600,480].find((function(t){return t<=window.outerWidth/1.618})))?r:360);(null!=e.left||(e.left=Math.max(0,Math.round(window.screenX+(window.outerWidth-e.width)/2))),null!=e.height)&&(null!=e.top||(e.top=Math.max(0,Math.round(window.screenY+(window.outerHeight-e.height)/2))));return e},o.getFullUrlPath=function(t){return""+t.origin+t.pathname},o._parseQueryString=function(t){var n,r,e={};return(t||"").split("&").forEach((function(t){t&&(r=t.split("="),n=decodeURIComponent(r[0]),e[n]=!r[1]||decodeURIComponent(r[1]))})),e},t}());o._RF.pop()}}}));

System.register("chunks:///_virtual/auto.connect.tool.ts",["./rollupPluginModLoBabelHelpers.js","cc","./net.system.ts","./ui.manager.ts","./all.logic.system.ts","./all.logic.manager.ts","./all.model.manager.ts","./sdk.manager.ts","./common.tool.ts"],(function(n){"use strict";var t,e,o,c,r,a,s,l,u,i,f;return{setters:[function(n){t=n.asyncToGenerator,e=n.regeneratorRuntime},function(n){o=n.cclegacy,c=n._decorator},function(n){r=n.NetSystem},function(n){a=n.UIManager},function(n){s=n.clearAllSystem},function(n){l=n.clearAllManager},function(n){u=n.clearAllManager},function(n){i=n.SDKManager},function(n){f=n.CommonTool}],execute:function(){var m;o._RF.push({},"34be1DKpINMG7nU8vRsA4fz","auto.connect.tool",void 0);var g=c.ccclass;n("AutoConnectTool",g("AutoConnectTool")(m=function(){function n(){}return n.startReconnect=function(){var n=t(e().mark((function n(){return e().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r.instance.closeAllConnect(),a.instance.closeAllUI(),l(),s(),u(),n.next=7,f.sleep(2e3);case 7:i.instance.curSDKPlugin.SDKReconnect();case 8:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),n}())||m);o._RF.pop()}}}));

System.register("chunks:///_virtual/bapi.pool.state.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(n){"use strict";var e,t,a;return{setters:[function(n){e=n.asyncToGenerator,t=n.regeneratorRuntime},function(n){a=n.cclegacy}],execute:function(){a._RF.push({},"98c5bJeyVRGL55HD7+eJJBt","bapi.pool.state",void 0);n("BApiPoolState",function(){function n(n){this.getPoolDetailQuery="#graphql\n    query GetPool($id: String!, $chain: GqlChain!) {\n      poolGetPool(id: $id, chain: $chain) {\n        ...MinimalPool\n        __typename\n      }\n    }\n\n    fragment MinimalPool on GqlPoolBase {\n      id\n      name\n      address\n      factory\n      address\n      protocolVersion\n      type\n      createTime\n      tokens: poolTokens {\n        index\n        address\n        symbol\n        name\n        decimals\n        weight\n        balance\n        balanceUSD\n        __typename\n      }\n      dynamicData {\n        ...DynamicData\n        __typename\n      }\n      rewardVault {\n        ...RewardVault\n        __typename\n      }\n      __typename\n    }\n\n    fragment DynamicData on GqlPoolDynamicData {\n      totalShares\n      fees24h\n      volume24h\n      swapFee\n      isInRecoveryMode\n      isPaused\n      totalLiquidity\n      aprItems {\n        apr\n        type\n        id\n        __typename\n      }\n      __typename\n    }\n\n    fragment RewardVault on GqlRewardVault {\n      dynamicData {\n        activeIncentivesValueUsd\n        apr\n        bgtCapturePercentage\n        allTimeReceivedBGTAmount\n        __typename\n      }\n      isVaultWhitelisted\n      vaultAddress\n      stakingTokenAddress\n      __typename\n    }\n  ",this.getCustomPoolsQuery="#graphql\n    query GetPools($idIn:[String!], $first:Int, $userAddress: String, $chain: [GqlChain!]!, $orderBy: GqlPoolOrderBy, $orderDirection: GqlPoolOrderDirection) {\n      poolGetPools(\n        first: $first\n        orderBy: $orderBy\n        orderDirection: $orderDirection\n        where: {idIn:$idIn, userAddress: $userAddress, chainIn: $chain}\n      ) {\n        ...MinimalPoolInList\n        __typename\n      }\n    }\n\n    fragment MinimalPoolInList on GqlPoolMinimal {\n      id\n      name\n      address\n      factory\n      tokens: allTokens {\n        address\n        symbol\n        name\n        decimals\n        weight\n        __typename\n      }\n      address\n      protocolVersion\n      type\n      dynamicData {\n        ...DynamicData\n        __typename\n      }\n      userBalance {\n        ...UserBalance\n        __typename\n      }\n      rewardVault {\n        ...RewardVault\n        __typename\n      }\n      __typename\n    }\n\n    fragment DynamicData on GqlPoolDynamicData {\n      totalShares\n      fees24h\n      volume24h\n      swapFee\n      isInRecoveryMode\n      isPaused\n      totalLiquidity\n      aprItems {\n        apr\n        type\n        id\n        __typename\n      }\n      __typename\n    }\n\n    fragment UserBalance on GqlPoolUserBalance {\n      totalBalance  \n      totalBalanceUsd\n      walletBalance\n      walletBalanceUsd\n      __typename\n    }\n\n    fragment RewardVault on GqlRewardVault {\n      dynamicData {\n        activeIncentivesValueUsd\n        apr\n        bgtCapturePercentage\n        allTimeReceivedBGTAmount\n        __typename\n      }\n      isVaultWhitelisted\n      vaultAddress\n      stakingTokenAddress\n      __typename\n    }\n  ",this.balancerApiClient=null,this.balancerApiClient=n.balancerApiClient}var a=n.prototype;return a.fetchCustomAllPools=function(){var n=e(t().mark((function n(e){var a,r,i,o;return t().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a={chain:["BERACHAIN"],idIn:e,first:e.length},n.next=3,this.balancerApiClient.fetch({query:this.getCustomPoolsQuery,variables:a});case 3:return r=n.sent,i=r.data,o=i.poolGetPools,n.abrupt("return",o);case 7:case"end":return n.stop()}}),n,this)})));return function(e){return n.apply(this,arguments)}}(),a.fetchCustomMyPools=function(){var n=e(t().mark((function n(e,a){var r,i,o,s;return t().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r={chain:["BERACHAIN"],idIn:e,first:e.length,userAddress:a},n.next=3,this.balancerApiClient.fetch({query:this.getCustomPoolsQuery,variables:r});case 3:return i=n.sent,o=i.data,s=o.poolGetPools,n.abrupt("return",s);case 7:case"end":return n.stop()}}),n,this)})));return function(e,t){return n.apply(this,arguments)}}(),a.fetchPoolDetail=function(){var n=e(t().mark((function n(e){var a,r,i,o;return t().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a={chain:"BERACHAIN",id:e},n.next=3,this.balancerApiClient.fetch({query:this.getPoolDetailQuery,variables:a});case 3:return r=n.sent,i=r.data,o=i.poolGetPool,n.abrupt("return",o);case 7:case"end":return n.stop()}}),n,this)})));return function(e){return n.apply(this,arguments)}}(),n}());a._RF.pop()}}}));

System.register("chunks:///_virtual/bapi.token.price.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var n,r,t;return{setters:[function(e){n=e.asyncToGenerator,r=e.regeneratorRuntime},function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"cfa91LIRRpCXpi6qhtRripr","bapi.token.price",void 0);e("BApiTokenPrice",function(){function e(e){this.getPriceQuery="#graphql\n  query TokenGetTokensPrice($addressIn:[String!]!,$chains:[GqlChain!]!){\n    tokenGetCurrentPrices(chains:$chains,addressIn:$addressIn){\n      price\n      address\n      chain\n      updatedAt\n    }\n  }\n",this.balancerApiClient=null,this.balancerApiClient=e.balancerApiClient}return e.prototype.fetchTokenPrices=function(){var e=n(r().mark((function e(n){var t,i,c,a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={chains:["BERACHAIN"],addressIn:n},e.next=3,this.balancerApiClient.fetch({query:this.getPriceQuery,variables:t});case 3:return i=e.sent,c=i.data,a=c.tokenGetCurrentPrices,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e,this)})));return function(n){return e.apply(this,arguments)}}(),e}());t._RF.pop()}}}));

System.register("chunks:///_virtual/bapi.validator.state.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(n){"use strict";var t,e,a;return{setters:[function(n){t=n.asyncToGenerator,e=n.regeneratorRuntime},function(n){a=n.cclegacy}],execute:function(){a._RF.push({},"c9ea0xuQNdAQpDUJ8q7zODH","bapi.validator.state",void 0);n("BApiValidatorState",function(){function n(n,t){this.getValidatorsBlockStatsQuery="#graphql\n    query GetValidatorBlockStats($pubKey: Bytes, $first: Int) {\n      blockStatsByValidators(\n        interval: day\n        first: $first\n        where: {validator_: {publicKey: $pubKey}}\n      ) {\n        blockCount\n        allTimeBlockCount\n        validator {\n          ...ValidatorMinimal\n          __typename\n        }\n        timestamp\n        __typename\n      }\n      blockStats_collection(interval: day, first: $first) {\n        blockCount\n        __typename\n      }\n    }\n\n    fragment ValidatorMinimal on Validator {\n      id\n      publicKey\n      activeBoostAmount: activeBoostAmount\n      __typename\n    }\n  ",this.getValidatorsGlobalDataQuery="#graphql\n    query GlobalData($chain: GqlChain!) {\n      top3EmittingValidators: polGetValidators(\n        orderBy: bgtCapturePercentage\n        orderDirection: desc\n        first: 3\n      ) {\n        pagination {\n          currentPage\n          totalCount\n          __typename\n        }\n        validators {\n          ...ApiValidatorMinimal\n          __typename\n        }\n        __typename\n      }\n      polGetGlobalInfo(chain: $chain) {\n        totalActiveBoostAmount\n        totalValidatorsCount\n        totalWhitelistedRewardVaults\n        totalActiveRewardVaults\n        totalActiveIncentives\n        totalActiveIncentivesValueUSD\n        totalDistributedBGTAmount\n        totalStakedBeraAmount\n        annualizedBGTEmission\n        annualizedBGTInflation\n        __typename\n      }\n      allValidatorsCount: polGetValidators {\n        pagination {\n          totalCount\n          __typename\n        }\n        __typename\n      }\n    }\n\n    fragment ApiValidatorMinimal on GqlValidator {\n      id\n      pubkey\n      operator\n      metadata {\n        name\n        logoURI\n        __typename\n      }\n      dynamicData {\n        activeBoostAmount\n        usersActiveBoostCount\n        queuedBoostAmount\n        usersQueuedBoostCount\n        allTimeDistributedBGTAmount\n        rewardRate\n        stakedBeraAmount\n        lastDayDistributedBGTAmount\n        activeBoostAmountRank\n        __typename\n      }\n      __typename\n    }\n  ",this.getVaultValidatorsQuery="#graphql\n    query GetVaultValidators($vaultId: String!, $chain: GqlChain) {\n      validators: polGetValidators(\n        where: {vaultAddress: $vaultId}\n        orderDirection: desc\n        orderBy: rewardRate\n        chain: $chain\n      ) {\n        pagination {\n          currentPage\n          totalCount\n          __typename\n        }\n        validators {\n          ...ApiValidator\n          __typename\n        }\n        __typename\n      }\n    }\n\n    fragment ApiValidator on GqlValidator {\n      ...ApiValidatorMinimal\n      operator\n      rewardAllocationWeights {\n        ...ApiRewardAllocationWeight\n        __typename\n      }\n      lastBlockUptime {\n        isActive\n        __typename\n      }\n      metadata {\n        name\n        logoURI\n        website\n        description\n        __typename\n      }\n      __typename\n    }\n\n    fragment ApiValidatorMinimal on GqlValidator {\n      id\n      pubkey\n      operator\n      metadata {\n        name\n        logoURI\n        __typename\n      }\n      dynamicData {\n        activeBoostAmount\n        usersActiveBoostCount\n        queuedBoostAmount\n        usersQueuedBoostCount\n        allTimeDistributedBGTAmount\n        rewardRate\n        stakedBeraAmount\n        lastDayDistributedBGTAmount\n        activeBoostAmountRank\n        __typename\n      }\n      __typename\n    }\n\n    fragment ApiRewardAllocationWeight on GqlValidatorRewardAllocationWeight {\n      percentageNumerator\n      validatorId\n      receivingVault {\n        ...ApiVault\n        __typename\n      }\n      receiver\n      startBlock\n      __typename\n    }\n\n    fragment ApiVault on GqlRewardVault {\n      id: vaultAddress\n      vaultAddress\n      address: vaultAddress\n      isVaultWhitelisted\n      dynamicData {\n        allTimeReceivedBGTAmount\n        apr\n        bgtCapturePercentage\n        activeIncentivesValueUsd\n        __typename\n      }\n      stakingToken {\n        address\n        name\n        symbol\n        decimals\n        __typename\n      }\n      metadata {\n        name\n        logoURI\n        url\n        protocolName\n        description\n        __typename\n      }\n      activeIncentives {\n        ...ApiVaultIncentive\n        __typename\n      }\n      __typename\n    }\n\n    fragment ApiVaultIncentive on GqlRewardVaultIncentive {\n      active\n      remainingAmount\n      remainingAmountUsd\n      incentiveRate\n      tokenAddress\n      token {\n        address\n        name\n        symbol\n        decimals\n        __typename\n      }\n      __typename\n    }\n  ",this.getUserValidationInfoQuery="#graphql\n    query GetUserValidatorInformation($address: Bytes!, $block: Block_height) {\n      userValidatorInformations: userBoosts(\n        block: $block\n        where: {user: $address}\n        first: 1000\n      ) {\n        id\n        queuedBoostAmount\n        activeBoostAmount\n        queuedDropBoostAmount\n        queuedDropBoostStartBlock\n        queuedBoostStartBlock\n        user\n        validator {\n          ...ValidatorMinimal\n          __typename\n        }\n        __typename\n      }\n      _meta {\n        ...SubgraphStatusMeta\n        __typename\n      }\n    }\n\n    fragment ValidatorMinimal on Validator {\n      id\n      publicKey\n      activeBoostAmount\n      __typename\n    }\n\n    fragment SubgraphStatusMeta on _Meta_ {\n      block {\n        timestamp\n        __typename\n      }\n      hasIndexingErrors\n      __typename\n    }\n  ",this.getCustomValidatorsQuery="#graphql\n    query GetValidators($where: GqlValidatorFilter, $sortBy: GqlValidatorOrderBy = lastDayDistributedBGTAmount, $sortOrder: GqlValidatorOrderDirection = desc, $pageSize: Int, $skip: Int, $search: String, $chain: GqlChain) {\n      validators: polGetValidators(\n        where: $where\n        orderBy: $sortBy\n        orderDirection: $sortOrder\n        first: $pageSize\n        skip: $skip\n        search: $search\n        chain: $chain\n      ) {\n          pagination {\n            currentPage\n            totalCount\n            totalPages\n            pageSize\n            __typename\n          }\n          validators {\n            ...ApiValidator\n            __typename\n          }\n          __typename\n      }\n    }\n\n    fragment ApiValidator on GqlValidator {\n      ...ApiValidatorMinimal\n      operator\n      rewardAllocationWeights {\n        ...ApiRewardAllocationWeight\n        __typename\n      }\n      lastBlockUptime {\n        isActive\n        __typename\n      }\n      metadata {\n        name\n        logoURI\n        website\n        description\n        __typename\n      }\n      __typename\n    }\n\n    fragment ApiValidatorMinimal on GqlValidator {\n      id\n      pubkey\n      operator\n      metadata {\n        name\n        logoURI\n        __typename\n      }\n      dynamicData {\n        activeBoostAmount\n        usersActiveBoostCount\n        queuedBoostAmount\n        usersQueuedBoostCount\n        allTimeDistributedBGTAmount\n        rewardRate\n        stakedBeraAmount\n        lastDayDistributedBGTAmount\n        activeBoostAmountRank\n        __typename\n      }\n      __typename\n    }\n\n    fragment ApiRewardAllocationWeight on GqlValidatorRewardAllocationWeight {\n      percentageNumerator\n      validatorId\n      receivingVault {\n        ...ApiVault\n        __typename\n      }\n      receiver\n      startBlock\n      __typename\n    }\n\n    fragment ApiVault on GqlRewardVault {\n      id: vaultAddress\n      vaultAddress\n      address: vaultAddress\n      isVaultWhitelisted\n      dynamicData {\n        allTimeReceivedBGTAmount\n        apr\n        bgtCapturePercentage\n        activeIncentivesValueUsd\n        __typename\n      }\n      stakingToken {\n        address\n        name\n        symbol\n        decimals\n        __typename\n      }\n      metadata {\n        name\n        logoURI\n        url\n        protocolName\n        description\n        __typename\n      }\n      activeIncentives {\n        ...ApiVaultIncentive\n        __typename\n      }\n      __typename\n    }\n\n    fragment ApiVaultIncentive on GqlRewardVaultIncentive {\n      active\n      remainingAmount\n      remainingAmountUsd\n      incentiveRate\n      tokenAddress\n      token {\n        address\n        name\n        symbol\n        decimals\n        __typename\n      }\n      __typename\n    }\n  ",this.balancerApiClient=null,this.beraPolSubgraph=null,this.balancerApiClient=n.balancerApiClient,this.beraPolSubgraph=t.balancerApiClient}var a=n.prototype;return a.fetchValidatorsGlobalData=function(){var n=t(e().mark((function n(){var t,a,r,i;return e().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t={chain:"BERACHAIN"},n.next=3,this.balancerApiClient.fetch({query:this.getValidatorsGlobalDataQuery,variables:t});case 3:return a=n.sent,r=a.data,i=r,n.abrupt("return",i);case 7:case"end":return n.stop()}}),n,this)})));return function(){return n.apply(this,arguments)}}(),a.fetchVaultValidators=function(){var n=t(e().mark((function n(t){var a,r,i,o;return e().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a={vaultId:t},n.next=3,this.balancerApiClient.fetch({query:this.getVaultValidatorsQuery,variables:a});case 3:return r=n.sent,i=r.data,o=i.validators.validators,n.abrupt("return",o);case 7:case"end":return n.stop()}}),n,this)})));return function(t){return n.apply(this,arguments)}}(),a.fetchValidatorBlockStats=function(){var n=t(e().mark((function n(t){var a,r,i,o;return e().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a={first:1,pubKey:t},n.next=3,this.beraPolSubgraph.fetch({query:this.getValidatorsBlockStatsQuery,variables:a});case 3:return r=n.sent,i=r.data,o=i,n.abrupt("return",o);case 7:case"end":return n.stop()}}),n,this)})));return function(t){return n.apply(this,arguments)}}(),a.fetchUserValidatorInformation=function(){var n=t(e().mark((function n(t){var a,r,i,o;return e().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a={address:t},n.next=3,this.beraPolSubgraph.fetch({query:this.getUserValidationInfoQuery,variables:a});case 3:return r=n.sent,i=r.data,o=i.userValidatorInformations,n.abrupt("return",o);case 7:case"end":return n.stop()}}),n,this)})));return function(t){return n.apply(this,arguments)}}(),a.fetchCustomAllValidators=function(){var n=t(e().mark((function n(t){var a,r,i,o;return e().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a={chain:"BERACHAIN",where:{idIn:t},first:t.length},n.next=3,this.balancerApiClient.fetch({query:this.getCustomValidatorsQuery,variables:a});case 3:return r=n.sent,i=r.data,o=i.validators,n.abrupt("return",o);case 7:case"end":return n.stop()}}),n,this)})));return function(t){return n.apply(this,arguments)}}(),n}());a._RF.pop()}}}));

System.register("chunks:///_virtual/bapi.vault.state.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(n){"use strict";var e,t,a;return{setters:[function(n){e=n.asyncToGenerator,t=n.regeneratorRuntime},function(n){a=n.cclegacy}],execute:function(){a._RF.push({},"88328/U59ZMLY+e6SBS3hrw","bapi.vault.state",void 0);n("BApiVaultState",function(){function n(n){this.getVaultDetailQuery="#graphql\n    query GetRewardVault($vaultId: String!, $chain: GqlChain!) {\n      rewardVault: polGetRewardVault(vaultAddress: $vaultId, chain: $chain) {\n        ...ApiVault\n        __typename\n      }\n    }\n\n    fragment ApiVault on GqlRewardVault {\n      id: vaultAddress\n      vaultAddress\n      address: vaultAddress\n      isVaultWhitelisted\n      dynamicData {\n        allTimeReceivedBGTAmount\n        apy\n        bgtCapturePercentage\n        activeIncentivesValueUsd\n        __typename\n      }\n      stakingToken {\n        address\n        name\n        symbol\n        decimals\n        __typename\n      }\n      metadata {\n        name\n        logoURI\n        url\n        protocolName\n        description\n        __typename\n      }\n      activeIncentives {\n        ...ApiVaultIncentive\n        __typename\n      }\n      __typename\n    }\n\n    fragment ApiVaultIncentive on GqlRewardVaultIncentive {\n      active\n      remainingAmount\n      remainingAmountUsd\n      incentiveRate\n      tokenAddress\n      token {\n        address\n        name\n        symbol\n        decimals\n        __typename\n      }\n      __typename\n    }\n  ",this.getCustomVaultsQuery="#graphql\n    query GetVaults($idIn:[String!], $pageSize: Int) {\n      polGetRewardVaults(\n        first: $pageSize\n        where: {\n          includeNonWhitelisted:false,\n          vaultAddressIn:$idIn,\n        }) \n      {\n        pagination {\n          currentPage\n          totalCount\n          __typename\n        }\n        vaults {\n          ...ApiVault\n          __typename\n        }\n        __typename\n      }\n    }\n\n    fragment ApiVault on GqlRewardVault {\n      id: vaultAddress\n      vaultAddress\n      address: vaultAddress\n      isVaultWhitelisted\n      dynamicData {\n        allTimeReceivedBGTAmount\n        apr\n        bgtCapturePercentage\n        activeIncentivesValueUsd\n        __typename\n      }\n      stakingToken {\n        address\n        name\n        symbol\n        decimals\n        __typename\n      }\n      metadata {\n        name\n        logoURI\n        url\n        protocolName\n        description\n        __typename\n      }\n      activeIncentives {\n        ...ApiVaultIncentive\n        __typename\n      }\n      __typename\n    }\n\n    fragment ApiVaultIncentive on GqlRewardVaultIncentive {\n      active\n      remainingAmount\n      remainingAmountUsd\n      incentiveRate\n      tokenAddress\n      token {\n        address\n        name\n        symbol\n        decimals\n        __typename\n      }\n      __typename\n    }\n  ",this.getMyVaultsQuery="#graphql\n    query GetUserVaults($userAddress: String!, $chain: GqlChain!) {\n      userVaultDeposits: polGetUserVaultDeposits(userAddress: $userAddress, chain: $chain) {\n        pagination {\n          currentPage\n          totalCount\n          __typename\n        }\n        deposits {\n          amount\n          vaultAddress\n          vault {\n            ...ApiVault\n            __typename\n          }\n          __typename\n        }\n        __typename\n      }\n    }\n\n    fragment ApiVault on GqlRewardVault {\n      id: vaultAddress\n      vaultAddress\n      address: vaultAddress\n      isVaultWhitelisted\n      dynamicData {\n        allTimeReceivedBGTAmount\n        apy\n        bgtCapturePercentage\n        activeIncentivesValueUsd\n        __typename\n      }\n      stakingToken {\n        address\n        name\n        symbol\n        decimals\n        __typename\n      }\n      metadata {\n        name\n        logoURI\n        url\n        protocolName\n        description\n        __typename\n      }\n      activeIncentives {\n        ...ApiVaultIncentive\n        __typename\n      }\n      __typename\n    }\n\n    fragment ApiVaultIncentive on GqlRewardVaultIncentive {\n      active\n      remainingAmount\n      remainingAmountUsd\n      incentiveRate\n      tokenAddress\n      token {\n        address\n        name\n        symbol\n        decimals\n        __typename\n      }\n      __typename\n    }\n  ",this.balancerApiClient=null,this.balancerApiClient=n.balancerApiClient}var a=n.prototype;return a.fetchCustomAllVaults=function(){var n=e(t().mark((function n(e){var a,r,i,s;return t().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a={idIn:e,first:e.length},n.next=3,this.balancerApiClient.fetch({query:this.getCustomVaultsQuery,variables:a});case 3:return r=n.sent,i=r.data,s=i.polGetRewardVaults,n.abrupt("return",s);case 7:case"end":return n.stop()}}),n,this)})));return function(e){return n.apply(this,arguments)}}(),a.fetchMyAllVaults=function(){var n=e(t().mark((function n(e){var a,r,i,s;return t().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a={chain:"BERACHAIN",userAddress:e},n.next=3,this.balancerApiClient.fetch({query:this.getMyVaultsQuery,variables:a});case 3:return r=n.sent,i=r.data,s=i.userVaultDeposits,n.abrupt("return",s);case 7:case"end":return n.stop()}}),n,this)})));return function(e){return n.apply(this,arguments)}}(),a.fetchVaultDetail=function(){var n=e(t().mark((function n(e){var a,r,i,s;return t().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a={chain:"BERACHAIN",vaultId:e},n.next=3,this.balancerApiClient.fetch({query:this.getVaultDetailQuery,variables:a});case 3:return r=n.sent,i=r.data,s=i.rewardVault,n.abrupt("return",s);case 7:case"end":return n.stop()}}),n,this)})));return function(e){return n.apply(this,arguments)}}(),n}());a._RF.pop()}}}));

System.register("chunks:///_virtual/base.manager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var n,a,r;return{setters:[function(e){n=e.createClass},function(e){a=e.cclegacy,r=e._decorator}],execute:function(){var t;a._RF.push({},"382d0r4ElpOo7y//7knXDLG","base.manager",void 0);var s=r.ccclass;e("BaseManager",s("BaseManager")(t=function(){function e(){this.mUsePlayerSelf=void 0}var a=e.prototype;return a.initManger=function(){this.addAllManagerEvents()},a.releaseManager=function(){this.removeAllManagerEvents()},a.addAllManagerEvents=function(){},a.removeAllManagerEvents=function(){},a.clearManager=function(){},a.onPreLoadFinish=function(){},n(e,[{key:"UsePlayerSelf",set:function(e){this.mUsePlayerSelf=e}}]),e}())||t);a._RF.pop()}}}));

System.register("chunks:///_virtual/base.model.manager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var n,a,t;return{setters:[function(e){n=e.createClass},function(e){a=e.cclegacy,t=e._decorator}],execute:function(){var r;a._RF.push({},"ba7e6ZTtipOFJuf7MEqYV8j","base.model.manager",void 0);var s=t.ccclass;e("BaseModelManager",s("BaseModelManager")(r=function(){function e(){this.mUsePlayerSelf=void 0}var a=e.prototype;return a.initManger=function(){this.addAllManagerEvents()},a.releaseManager=function(){this.removeAllManagerEvents()},a.addAllManagerEvents=function(){},a.removeAllManagerEvents=function(){},a.clearManager=function(){},a.onPreLoadFinish=function(){},n(e,[{key:"UsePlayerSelf",set:function(e){this.mUsePlayerSelf=e}}]),e}())||r);a._RF.pop()}}}));

System.register("chunks:///_virtual/base.scene.ts",["./rollupPluginModLoBabelHelpers.js","cc","./resource.manager.ts","./table.helper.ts","./net.system.ts","./userdata.client.protocol.ts","./scene.define.ts"],(function(e){"use strict";var n,t,r,c,s,i,a,u,o,p,f;return{setters:[function(e){n=e.createClass,t=e.asyncToGenerator,r=e.regeneratorRuntime},function(e){c=e.cclegacy,s=e._decorator,i=e.error},function(e){a=e.ResourceManager},function(e){u=e.TableHelper},function(e){o=e.NetSystem},function(e){p=e.stLoadMapOKDataUserCmd},function(e){f=e.ESceneType}],execute:function(){var h;c._RF.push({},"3cc5cv4QVtB/qq6fxGfrHwC","base.scene",void 0);var m=s.ccclass;e("BaseScene",m("BaseScene")(h=function(){function e(){this.mCurSceneID=0,this.mSceneType=f.None,this.mSceneAssetName="",this.mIsSceneLoadingFinish=!1,this.mCurMapRecord=null}var c=e.prototype;return c.initScene=function(e){this.mCurSceneID=e,this.mCurMapRecord=u.getMapRecord(this.mCurSceneID),this.mSceneType=this.mCurMapRecord.mapType,this.mSceneAssetName=this.mCurMapRecord.mapResName},c.updateScene=function(e){},c.finalizeScene=function(){},c.doLoadAssets=function(){var e=t(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.mIsSceneLoadingFinish=!1,e.prev=1,e.next=4,a.instance.loadScene(this.mSceneAssetName);case 4:return this.mIsSceneLoadingFinish=!0,e.abrupt("return",!0);case 8:return e.prev=8,e.t0=e.catch(1),i(e.t0),e.abrupt("return",!1);case 12:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),c.doStarting=function(){var e=t(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),c.doEnterRunning=function(){var e=t(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),c.sendLoadMapOkToServer=function(){var e=new p;o.instance.sendCmdGate(e)},n(e,[{key:"SceneID",get:function(){return this.mCurSceneID}},{key:"SceneType",get:function(){return this.mSceneType}},{key:"IsSceneLoadingFinish",get:function(){return this.mIsSceneLoadingFinish}},{key:"IsShowRadar",get:function(){return this.mCurMapRecord,!1}}]),e}())||h);c._RF.pop()}}}));

System.register("chunks:///_virtual/base.system.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,s,n;return{setters:[function(e){t=e.createClass},function(e){s=e.cclegacy,n=e._decorator}],execute:function(){var i;s._RF.push({},"08877bBpstFhKe8FVdexqOr","base.system",void 0);var r=n.ccclass;e("BaseSystem",r("BaseSystem")(i=function(){function e(){this.mUsePlayerSelf=void 0}var s=e.prototype;return s.sysInitial=function(){this.addAllEvents()},s.sysUpdate=function(e){},s.sysFinalize=function(){this.removeAllEvents()},s.addAllEvents=function(){},s.removeAllEvents=function(){},s.clearSysData=function(){},s.onPreLoadFinish=function(){},t(e,[{key:"UsePlayerSelf",get:function(){return this.mUsePlayerSelf},set:function(e){this.mUsePlayerSelf=e}}]),e}())||i);s._RF.pop()}}}));

System.register("chunks:///_virtual/battle.fsm.ts",["./rollupPluginModLoBabelHelpers.js","cc","./battle.state.init.ts","./battle.state.loading.ts","./battle.state.ready.ts","./battle.state.fighting.ts","./battle.state.finish.ts","./battle.state.none.ts","./battle.state.clearing.ts"],(function(t){"use strict";var e,a,n,s,i,l,r,u,S,o,c;return{setters:[function(t){e=t.createClass,a=t.asyncToGenerator,n=t.regeneratorRuntime},function(t){s=t.cclegacy},function(t){i=t.BattleStateInit},function(t){l=t.BattleStateLoading},function(t){r=t.BattleStateReady},function(t){u=t.BattleStateFighting},function(t){S=t.BattleStateFinish},function(t){o=t.BattleStateNone},function(t){c=t.BattleStateClearing}],execute:function(){s._RF.push({},"1e6b5UtY3hNQZUgKej4m/Ox","battle.fsm",void 0);t("BattleStateFSM",function(){function t(){this.mAllStatesMap=new Map,this.mCurState=null}var s=t.prototype;return s.initStateFSM=function(t){var e=new o(t),a=new i(t),n=new l(t),s=new r(t),h=new u(t),f=new c(t),m=new S(t);this.mAllStatesMap.set(e.BattleState,e),this.mAllStatesMap.set(a.BattleState,a),this.mAllStatesMap.set(n.BattleState,n),this.mAllStatesMap.set(s.BattleState,s),this.mAllStatesMap.set(h.BattleState,h),this.mAllStatesMap.set(f.BattleState,f),this.mAllStatesMap.set(m.BattleState,m)},s.isInState=function(t){return null!=this.mCurState&&this.mCurState.BattleState===t},s.fsmUpdate=function(t){null!==this.mCurState&&this.mCurState.onUpdate(t)},s.triggerState=function(){var t=a(n().mark((function t(e){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null==this.mCurState||this.CurrentState.BattleState===e){t.next=3;break}return t.next=3,this.mCurState.onExit();case 3:return this.mCurState=this.mAllStatesMap.get(e),t.next=6,this.mCurState.onEnter();case 6:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),e(t,[{key:"CurrentState",get:function(){return this.mCurState}}]),t}());s._RF.pop()}}}));

System.register("chunks:///_virtual/battle.state.base.ts",["./rollupPluginModLoBabelHelpers.js","cc","./enum.battle.state.ts"],(function(t){"use strict";var e,n,r,a,c,s;return{setters:[function(t){e=t.createClass,n=t.asyncToGenerator,r=t.regeneratorRuntime},function(t){a=t.cclegacy,c=t._decorator},function(t){s=t.EBattleState}],execute:function(){var u;a._RF.push({},"22360+nB8RIzY7jBhrt65MT","battle.state.base",void 0);var o=c.ccclass;t("BattleStateBase",o("BattleStateBase")(u=function(){function t(t){this.mBattleState=s.None,this.mBattleInterface=null,this.mBattleInterface=t}var a=t.prototype;return a.onEnter=function(){var t=n(r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),a.onExit=function(){var t=n(r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),a.onUpdate=function(t){},e(t,[{key:"BattleState",get:function(){return this.mBattleState}}]),t}())||u);a._RF.pop()}}}));

System.register("chunks:///_virtual/battle.state.clearing.ts",["./rollupPluginModLoBabelHelpers.js","cc","./enum.battle.state.ts","./battle.state.base.ts"],(function(t){"use strict";var e,n,a,r,i,s,c;return{setters:[function(t){e=t.inheritsLoose,n=t.asyncToGenerator,a=t.regeneratorRuntime},function(t){r=t.cclegacy,i=t._decorator},function(t){s=t.EBattleState},function(t){c=t.BattleStateBase}],execute:function(){var l;r._RF.push({},"5444eQZ47VFX7twivf5mRxg","battle.state.clearing",void 0);var u=i.ccclass;t("BattleStateClearing",u("BattleStateClearing")(l=function(t){function r(e){var n;return(n=t.call(this,e)||this).mBattleState=s.Clearing,n}e(r,t);var i=r.prototype;return i.onEnter=function(){var t=n(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null==this.mBattleInterface||!this.mBattleInterface.stateClearingOnEnter){t.next=3;break}return t.next=3,this.mBattleInterface.stateClearingOnEnter();case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),i.onExit=function(){var t=n(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null==this.mBattleInterface||!this.mBattleInterface.stateClearingOnExit){t.next=3;break}return t.next=3,this.mBattleInterface.stateClearingOnExit();case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),i.onUpdate=function(t){null!=this.mBattleInterface&&this.mBattleInterface.stateClearingOnUpdate&&this.mBattleInterface.stateClearingOnUpdate(t)},r}(c))||l);r._RF.pop()}}}));

System.register("chunks:///_virtual/battle.state.fighting.ts",["./rollupPluginModLoBabelHelpers.js","cc","./enum.battle.state.ts","./battle.state.base.ts"],(function(t){"use strict";var e,n,a,r,i,s,c;return{setters:[function(t){e=t.inheritsLoose,n=t.asyncToGenerator,a=t.regeneratorRuntime},function(t){r=t.cclegacy,i=t._decorator},function(t){s=t.EBattleState},function(t){c=t.BattleStateBase}],execute:function(){var u;r._RF.push({},"70fe4BUs9JHdLkzACxxPS9o","battle.state.fighting",void 0);var o=i.ccclass;t("BattleStateFighting",o("BattleStateFighting")(u=function(t){function r(e){var n;return(n=t.call(this,e)||this).mBattleState=s.Fighting,n}e(r,t);var i=r.prototype;return i.onEnter=function(){var t=n(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null==this.mBattleInterface||!this.mBattleInterface.stateFightingOnEnter){t.next=3;break}return t.next=3,this.mBattleInterface.stateFightingOnEnter();case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),i.onExit=function(){var t=n(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null==this.mBattleInterface||!this.mBattleInterface.stateFightingOnExit){t.next=3;break}return t.next=3,this.mBattleInterface.stateFightingOnExit();case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),i.onUpdate=function(t){null!=this.mBattleInterface&&this.mBattleInterface.stateFightingOnUpdate&&this.mBattleInterface.stateFightingOnUpdate(t)},r}(c))||u);r._RF.pop()}}}));

System.register("chunks:///_virtual/battle.state.finish.ts",["./rollupPluginModLoBabelHelpers.js","cc","./enum.battle.state.ts","./battle.state.base.ts"],(function(t){"use strict";var e,n,a,r,i,s,c;return{setters:[function(t){e=t.inheritsLoose,n=t.asyncToGenerator,a=t.regeneratorRuntime},function(t){r=t.cclegacy,i=t._decorator},function(t){s=t.EBattleState},function(t){c=t.BattleStateBase}],execute:function(){var u;r._RF.push({},"a3cf0OJpGdKfp3daChfkJmj","battle.state.finish",void 0);var o=i.ccclass;t("BattleStateFinish",o("BattleStateFinish")(u=function(t){function r(e){var n;return(n=t.call(this,e)||this).mBattleState=s.Finish,n}e(r,t);var i=r.prototype;return i.onEnter=function(){var t=n(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null==this.mBattleInterface||!this.mBattleInterface.stateFinishOnEnter){t.next=3;break}return t.next=3,this.mBattleInterface.stateFinishOnEnter();case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),i.onExit=function(){var t=n(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null==this.mBattleInterface||!this.mBattleInterface.stateFinishOnExit){t.next=3;break}return t.next=3,this.mBattleInterface.stateFinishOnExit();case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),i.onUpdate=function(t){null!=this.mBattleInterface&&this.mBattleInterface.stateFinishOnUpdate&&this.mBattleInterface.stateFinishOnUpdate(t)},r}(c))||u);r._RF.pop()}}}));

System.register("chunks:///_virtual/battle.state.init.ts",["./rollupPluginModLoBabelHelpers.js","cc","./enum.battle.state.ts","./battle.state.base.ts"],(function(t){"use strict";var e,n,a,r,i,s,c;return{setters:[function(t){e=t.inheritsLoose,n=t.asyncToGenerator,a=t.regeneratorRuntime},function(t){r=t.cclegacy,i=t._decorator},function(t){s=t.EBattleState},function(t){c=t.BattleStateBase}],execute:function(){var u;r._RF.push({},"8f24fQu5e1AlZ3BjL0xh+BY","battle.state.init",void 0);var o=i.ccclass;t("BattleStateInit",o("BattleStateInit")(u=function(t){function r(e){var n;return(n=t.call(this,e)||this).mBattleState=s.Init,n}e(r,t);var i=r.prototype;return i.onEnter=function(){var t=n(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null==this.mBattleInterface||!this.mBattleInterface.stateInitOnEnter){t.next=3;break}return t.next=3,this.mBattleInterface.stateInitOnEnter();case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),i.onExit=function(){var t=n(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null==this.mBattleInterface||!this.mBattleInterface.stateInitOnExit){t.next=3;break}return t.next=3,this.mBattleInterface.stateInitOnExit();case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),i.onUpdate=function(t){null!=this.mBattleInterface&&this.mBattleInterface.stateInitOnUpdate&&this.mBattleInterface.stateInitOnUpdate(t)},r}(c))||u);r._RF.pop()}}}));

System.register("chunks:///_virtual/battle.state.interface.ts",["cc"],(function(){"use strict";var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"d1bc3+XaVZOeYq9T3VwSDZv","battle.state.interface",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/battle.state.loading.ts",["./rollupPluginModLoBabelHelpers.js","cc","./enum.battle.state.ts","./battle.state.base.ts"],(function(t){"use strict";var e,n,a,r,i,s,o;return{setters:[function(t){e=t.inheritsLoose,n=t.asyncToGenerator,a=t.regeneratorRuntime},function(t){r=t.cclegacy,i=t._decorator},function(t){s=t.EBattleState},function(t){o=t.BattleStateBase}],execute:function(){var c;r._RF.push({},"f25b324EzdNa4xV+REKHtti","battle.state.loading",void 0);var u=i.ccclass;t("BattleStateLoading",u("BattleStateLoading")(c=function(t){function r(e){var n;return(n=t.call(this,e)||this).mBattleState=s.Loading,n}e(r,t);var i=r.prototype;return i.onEnter=function(){var t=n(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null==this.mBattleInterface||!this.mBattleInterface.stateLoadingOnEnter){t.next=3;break}return t.next=3,this.mBattleInterface.stateLoadingOnEnter();case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),i.onExit=function(){var t=n(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null==this.mBattleInterface||!this.mBattleInterface.stateLoadingOnExit){t.next=3;break}return t.next=3,this.mBattleInterface.stateLoadingOnExit();case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),i.onUpdate=function(t){null!=this.mBattleInterface&&this.mBattleInterface.stateLoadingOnUpdate&&this.mBattleInterface.stateLoadingOnUpdate(t)},r}(o))||c);r._RF.pop()}}}));

System.register("chunks:///_virtual/battle.state.none.ts",["./rollupPluginModLoBabelHelpers.js","cc","./enum.battle.state.ts","./battle.state.base.ts"],(function(t){"use strict";var e,n,a,r,s,o,c;return{setters:[function(t){e=t.inheritsLoose,n=t.asyncToGenerator,a=t.regeneratorRuntime},function(t){r=t.cclegacy,s=t._decorator},function(t){o=t.EBattleState},function(t){c=t.BattleStateBase}],execute:function(){var i;r._RF.push({},"5d4f99Y+3BJHpHNQ1Q23oyj","battle.state.none",void 0);var u=s.ccclass;t("BattleStateNone",u("BattleStateNone")(i=function(t){function r(e){var n;return(n=t.call(this,e)||this).mBattleState=o.None,n}e(r,t);var s=r.prototype;return s.onEnter=function(){var t=n(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null==this.mBattleInterface||!this.mBattleInterface.stateNoneOnEnter){t.next=3;break}return t.next=3,this.mBattleInterface.stateNoneOnEnter();case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),s.onExit=function(){var t=n(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null==this.mBattleInterface||!this.mBattleInterface.stateNoneOnExit){t.next=3;break}return t.next=3,this.mBattleInterface.stateNoneOnExit();case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),s.onUpdate=function(t){null!=this.mBattleInterface&&this.mBattleInterface.stateNoneOnUpdate&&this.mBattleInterface.stateNoneOnUpdate(t)},r}(c))||i);r._RF.pop()}}}));

System.register("chunks:///_virtual/battle.state.ready.ts",["./rollupPluginModLoBabelHelpers.js","cc","./enum.battle.state.ts","./battle.state.base.ts"],(function(t){"use strict";var e,a,n,r,s,c,i;return{setters:[function(t){e=t.inheritsLoose,a=t.asyncToGenerator,n=t.regeneratorRuntime},function(t){r=t.cclegacy,s=t._decorator},function(t){c=t.EBattleState},function(t){i=t.BattleStateBase}],execute:function(){var u;r._RF.push({},"509cbqrg6BEMbwnLhR9l5DR","battle.state.ready",void 0);var o=s.ccclass;t("BattleStateReady",o("BattleStateReady")(u=function(t){function r(e){var a;return(a=t.call(this,e)||this).mBattleState=c.Ready,a}e(r,t);var s=r.prototype;return s.onEnter=function(){var t=a(n().mark((function t(){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null==this.mBattleInterface||!this.mBattleInterface.stateReadyOnEnter){t.next=3;break}return t.next=3,this.mBattleInterface.stateReadyOnEnter();case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),s.onExit=function(){var t=a(n().mark((function t(){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null==this.mBattleInterface||!this.mBattleInterface.stateReadyOnExit){t.next=3;break}return t.next=3,this.mBattleInterface.stateReadyOnExit();case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),s.onUpdate=function(t){null!=this.mBattleInterface&&this.mBattleInterface.stateReadyOnUpdate&&this.mBattleInterface.stateReadyOnUpdate(t)},r}(i))||u);r._RF.pop()}}}));

System.register("chunks:///_virtual/bera.chain.contract.config.ts",["cc"],(function(){"use strict";var c;return{setters:[function(t){c=t.cclegacy}],execute:function(){c._RF.push({},"33ba2O/SllAErCTrEU1RL2N","bera.chain.contract.config",void 0),c._RF.pop()}}}));

System.register("chunks:///_virtual/bera.refresh.price.interface.ts",["cc"],(function(){"use strict";var e;return{setters:[function(r){e=r.cclegacy}],execute:function(){e._RF.push({},"47bc9eKbyZDmK1VayLxULvf","bera.refresh.price.interface",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/bera.swap.mainnet.ts",["./rollupPluginModLoBabelHelpers.js","cc","./use.berancer.sdk.ts","./project.bera.mainnet.ts","./use.ethers.ts","./bapi.pool.state.ts","./bapi.token.price.ts","./chain.utils.ts","./bapi.vault.state.ts","./bapi.validator.state.ts","./api.bera.token.ts"],(function(t){"use strict";var e,r,n,a,s,i,u,c,o,p,l,h,d,f,v,b,w,x,m,k,g,S,I,y,A,P,L;return{setters:[function(t){e=t.createClass,r=t.asyncToGenerator,n=t.regeneratorRuntime,a=t.extends},function(t){s=t.cclegacy,i=t.error,u=t.log},function(t){c=t.useCreateApiMainnet,o=t.useCreateToken,p=t.useFromHumanAmount,l=t.BerancerSwapKind,h=t.BerancerAddLiquidityKind,d=t.useCreateAddLiquidity,f=t.berancerSDK,v=t.BerancerRemoveLiquidityKind,b=t.useCreateRemoveLiquidity,w=t.useFromPercentage,x=t.useIsZeroAddress,m=t.useCreateSwap},function(t){k=t.BERA_MAINNET_PROJECT},function(t){g=t.parseUnits},function(t){S=t.BApiPoolState},function(t){I=t.BApiTokenPrice},function(t){y=t.isWberaMainnet},function(t){A=t.BApiVaultState},function(t){P=t.BApiValidatorState},function(t){L=t.apiGetBeraTokenPrice}],execute:function(){s._RF.push({},"d5fa0VkpPVMGKmau52dlYvL","bera.swap.mainnet",void 0);var V=["function approve(address spender, uint256 amount) public returns (bool)"],C=["function balanceOf(address account) public view returns (uint256)","function approve(address spender, uint256 amount) public returns (bool)","function symbol() public view returns (string memory)"],q=["function balanceOf(address account) public view returns (uint256)","function approve(address spender, uint256 amount) public returns (bool)","function rewards(address account) external view returns (uint256)","function earned(address account) external view returns (uint256)","function withdraw(uint256 amount)","function stake(uint256 amount)","function getReward(address account, address recipient) external returns (uint256)"];t("BeraSwapMainnet",function(){function t(){this.chainSinger=null,this.useChainId=void 0,this.useRpcUrl=void 0,this.usePoolIdList=void 0,this.useVaultIdList=void 0,this.useValidatorIdList=void 0,this.beraPolSubgraphApi=null,this.balancerApi=null,this.berancerSelfTokenPrice=null,this.berancerSelfPoolState=null,this.berancerSelfVaultState=null,this.berancerSelfValidatorState=null,this.tokensMap=new Map}var s=t.prototype;return s.init=function(){this.tokensMap.clear(),this.useChainId=k.chain.id,this.useRpcUrl=k.chain.rpc,this.usePoolIdList=k.dexPoolIdList,this.useVaultIdList=k.dexVaultIdList,this.useValidatorIdList=k.dexValidatorIdList,this.balancerApi=c("https://api.berachain.com/",this.useChainId),this.beraPolSubgraphApi=c("https://api.goldsky.com/api/public/project_clq1h5ct0g4a201x18tfte5iv/subgraphs/pol-subgraph/mainnet-v1.1.0/gn",this.useChainId),this.berancerSelfTokenPrice=new I(this.balancerApi),this.berancerSelfPoolState=new S(this.balancerApi),this.berancerSelfVaultState=new A(this.balancerApi),this.berancerSelfValidatorState=new P(this.balancerApi,this.beraPolSubgraphApi)},s.setSinger=function(t){t&&(this.chainSinger=t)},s.clearSinger=function(){this.chainSinger=null},s.getToken=function(t){if(this.tokensMap.has(t.address))return this.tokensMap.get(t.address);var e=o(t);return this.tokensMap.set(t.address,e),e},s.getLpTokenInWalletBalance=function(){var t=r(n().mark((function t(e){var r,a,s;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.chainSinger){t.next=2;break}return t.abrupt("return","0");case 2:return t.next=4,this.chainSinger.getAddress();case 4:return r=t.sent,a=new window.ethers.Contract(e,C,this.chainSinger),t.next=8,a.balanceOf(r);case 8:return s=t.sent,t.abrupt("return",s);case 10:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),s.getLpSymbol=function(){var t=r(n().mark((function t(e){var r,a;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=new window.ethers.Contract(e,C,this.chainSinger),t.next=3,r.symbol();case 3:return a=t.sent,t.abrupt("return",a);case 5:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),s.getLpTokenInVaultBalance=function(){var t=r(n().mark((function t(e){var r,a,s;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.chainSinger){t.next=2;break}return t.abrupt("return","0");case 2:return t.next=4,this.chainSinger.getAddress();case 4:return r=t.sent,a=new window.ethers.Contract(e,q,this.chainSinger),t.next=8,a.balanceOf(r);case 8:return s=t.sent,t.abrupt("return",s);case 10:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),s.getLpTokenInVaultReward=function(){var t=r(n().mark((function t(e){var r,a,s;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,this.chainSinger){t.next=3;break}return t.abrupt("return",0n);case 3:return t.next=5,this.chainSinger.getAddress();case 5:return r=t.sent,a=new window.ethers.Contract(e,q,this.chainSinger),t.next=9,a.earned(r);case 9:return s=t.sent,t.abrupt("return",s);case 13:return t.prev=13,t.t0=t.catch(0),i(t.t0),t.abrupt("return",0n);case 17:case"end":return t.stop()}}),t,this,[[0,13]])})));return function(e){return t.apply(this,arguments)}}(),s.stakeLpTokenToVaultReward=function(){var t=r(n().mark((function t(e,r,a){var s,u,c,o;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,this.chainSinger){t.next=3;break}return t.abrupt("return",0n);case 3:return s=g(a,18),u=new window.ethers.Contract(r,V,this.chainSinger),t.next=7,u.approve(e,s);case 7:return c=new window.ethers.Contract(e,q,this.chainSinger),t.next=10,c.stake(s,{gasLimit:180000n});case 10:return o=t.sent,t.next=13,o.wait();case 13:return t.abrupt("return",o);case 16:return t.prev=16,t.t0=t.catch(0),i(t.t0),t.abrupt("return",0n);case 20:case"end":return t.stop()}}),t,this,[[0,16]])})));return function(e,r,n){return t.apply(this,arguments)}}(),s.unStakeLpTokenFromVaultReward=function(){var t=r(n().mark((function t(e,r,a){var s,u,c;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,this.chainSinger){t.next=3;break}return t.abrupt("return",0n);case 3:return s=g(a,18),u=new window.ethers.Contract(e,q,this.chainSinger),t.next=7,u.withdraw(s);case 7:return c=t.sent,t.next=10,c.wait();case 10:return t.abrupt("return",c);case 13:return t.prev=13,t.t0=t.catch(0),i(t.t0),t.abrupt("return",0n);case 17:case"end":return t.stop()}}),t,this,[[0,13]])})));return function(e,r,n){return t.apply(this,arguments)}}(),s.claimLpRewardFromVault=function(){var t=r(n().mark((function t(e){var r,a,s;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,this.chainSinger){t.next=3;break}return t.abrupt("return",0n);case 3:return t.next=5,this.chainSinger.getAddress();case 5:return r=t.sent,a=new window.ethers.Contract(e,q,this.chainSinger),t.next=9,a.getReward(r,r);case 9:return s=t.sent,t.next=12,s.wait();case 12:return t.abrupt("return",s);case 15:return t.prev=15,t.t0=t.catch(0),i(t.t0),t.abrupt("return",0n);case 19:case"end":return t.stop()}}),t,this,[[0,15]])})));return function(e){return t.apply(this,arguments)}}(),s.fetchTokenPrice=function(){var t=r(n().mark((function t(){var e,r,a=this;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,L();case 2:return(e=t.sent)&&(e.forEach((function(t){t.key=a.useChainId+"-"+t.address.toLowerCase()})),e.find((function(t){return"0x0000000000000000000000000000000000000000"===t.address}))||(r=e.find((function(t){return"0x6969696969696969696969696969696969696969"===t.address})),e.push({key:this.useChainId+"-0x0000000000000000000000000000000000000000",price:r.price,address:"0x0000000000000000000000000000000000000000",chain:r.chain,updatedAt:r.updatedAt}))),t.abrupt("return",e);case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),s.getSwapInfo=function(){var t=r(n().mark((function t(e,r,a){var s,i,u,c,o;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,s=this.getToken(e),i=this.getToken(r),u=p(s,a),t.next=6,this.balancerApi.sorSwapPaths.fetchSorSwapPaths({chainId:this.useChainId,tokenIn:s.address,tokenOut:i.address,swapKind:l.GivenIn,swapAmount:u});case 6:if(!((c=t.sent).paths.length<=0)){t.next=9;break}return t.abrupt("return",null);case 9:return o=c.data.sorGetSwapPaths.returnAmount,t.abrupt("return",{sorSwapData:c,returnAmount:o});case 13:return t.prev=13,t.t0=t.catch(0),console.log(t.t0),t.abrupt("return",null);case 17:case"end":return t.stop()}}),t,this,[[0,13]])})));return function(e,r,n){return t.apply(this,arguments)}}(),s.getAddLiquidityUnbalancedInfo=function(){var t=r(n().mark((function t(e,r){var a,s,i,u,c,o,p;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.balancerApi.pools.fetchPoolState(e);case 3:return a=t.sent,s=[],r.forEach((function(t){s.push({address:t.token.address,decimals:t.token.decimals,rawAmount:g(t.inputAmount,t.token.decimals)})})),i={chainId:this.useChainId,kind:h.Unbalanced,rpcUrl:this.useRpcUrl,amountsIn:s},u=d(),t.next=10,Promise.all([u.query(i,a),f.PriceImpact.addLiquidityUnbalanced(i,a)]);case 10:return c=t.sent,o=c[0],p=c[1],t.abrupt("return",{queryOutput:o,priceImpact:p});case 16:return t.prev=16,t.t0=t.catch(0),console.log(t.t0),t.abrupt("return",null);case 20:case"end":return t.stop()}}),t,this,[[0,16]])})));return function(e,r){return t.apply(this,arguments)}}(),s.getAddLiquidityProportionalInfo=function(){var t=r(n().mark((function t(e,r){var a,s,i,u;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.balancerApi.pools.fetchPoolState(e);case 3:return a=t.sent,s={chainId:this.useChainId,kind:h.Proportional,rpcUrl:this.useRpcUrl,referenceAmount:{address:r.token.address,decimals:r.token.decimals,rawAmount:g(r.inputAmount,r.token.decimals)}},i=d(),t.next=8,i.query(s,a);case 8:return u=t.sent,t.abrupt("return",{queryOutput:u});case 12:return t.prev=12,t.t0=t.catch(0),console.log(t.t0),t.abrupt("return",null);case 16:case"end":return t.stop()}}),t,this,[[0,12]])})));return function(e,r){return t.apply(this,arguments)}}(),s.getRemoveLiquidityProportionalInfo=function(){var t=r(n().mark((function t(e,r){var a,s,i,u,c,o;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.balancerApi.pools.fetchPoolState(e);case 3:return a=t.sent,s={chainId:this.useChainId,kind:v.Proportional,rpcUrl:this.useRpcUrl,bptIn:{address:a.address,decimals:18,rawAmount:g(r,18)}},i=b(),t.next=8,Promise.all([i.query(s,a),f.PriceImpact.removeLiquidity(s,a)]);case 8:return u=t.sent,c=u[0],o=u[1],t.abrupt("return",{queryOutput:c,priceImpact:o});case 14:return t.prev=14,t.t0=t.catch(0),console.log(t.t0),t.abrupt("return",null);case 18:case"end":return t.stop()}}),t,this,[[0,14]])})));return function(e,r){return t.apply(this,arguments)}}(),s.getRemoveLiquiditySingleTokenExactInInfo=function(){var t=r(n().mark((function t(e,r,a){var s,i,u,c,o,p;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.balancerApi.pools.fetchPoolState(e);case 3:return s=t.sent,i={chainId:this.useChainId,kind:v.SingleTokenExactIn,rpcUrl:this.useRpcUrl,bptIn:{address:s.address,decimals:18,rawAmount:g(a,18)},tokenOut:r},u=b(),t.next=8,Promise.all([u.query(i,s),f.PriceImpact.removeLiquidity(i,s)]);case 8:return c=t.sent,o=c[0],p=c[1],t.abrupt("return",{queryOutput:o,priceImpact:p});case 14:return t.prev=14,t.t0=t.catch(0),console.log(t.t0),t.abrupt("return",null);case 18:case"end":return t.stop()}}),t,this,[[0,14]])})));return function(e,r,n){return t.apply(this,arguments)}}(),s.fetchAllPoolList=function(){var t=r(n().mark((function t(){var e,r;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.berancerSelfPoolState.fetchCustomAllPools(this.usePoolIdList);case 3:return e=t.sent,r=[],this.usePoolIdList.forEach((function(t){var n=e.find((function(e){return e.id===t}));n&&r.push(n)})),t.abrupt("return",r);case 9:return t.prev=9,t.t0=t.catch(0),i(t.t0),t.abrupt("return",null);case 13:case"end":return t.stop()}}),t,this,[[0,9]])})));return function(){return t.apply(this,arguments)}}(),s.fetchMyPoolList=function(){var t=r(n().mark((function t(){var e,r,a;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,null!==this.chainSinger){t.next=3;break}return t.abrupt("return",null);case 3:return t.next=5,this.chainSinger.getAddress();case 5:return e=t.sent,t.next=8,this.berancerSelfPoolState.fetchCustomMyPools(this.usePoolIdList,e);case 8:return r=t.sent,a=[],this.usePoolIdList.forEach((function(t){var e=r.find((function(e){return e.id===t}));e&&a.push(e)})),t.abrupt("return",a);case 14:return t.prev=14,t.t0=t.catch(0),i(t.t0),t.abrupt("return",null);case 18:case"end":return t.stop()}}),t,this,[[0,14]])})));return function(){return t.apply(this,arguments)}}(),s.fetchPoolDetail=function(){var t=r(n().mark((function t(e){var r;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.berancerSelfPoolState.fetchPoolDetail(e);case 3:return r=t.sent,t.abrupt("return",r);case 7:return t.prev=7,t.t0=t.catch(0),i(t.t0),t.abrupt("return",null);case 11:case"end":return t.stop()}}),t,this,[[0,7]])})));return function(e){return t.apply(this,arguments)}}(),s.fetchAllVaultsList=function(){var t=r(n().mark((function t(){var e,r;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.berancerSelfVaultState.fetchCustomAllVaults(this.useVaultIdList);case 3:return e=t.sent,r=[],this.useVaultIdList.forEach((function(t){var n=e.vaults.find((function(e){return e.id===t}));n&&r.push(n)})),t.abrupt("return",r);case 9:return t.prev=9,t.t0=t.catch(0),i(t.t0),t.abrupt("return",null);case 13:case"end":return t.stop()}}),t,this,[[0,9]])})));return function(){return t.apply(this,arguments)}}(),s.fetchMyVaultDepositList=function(){var t=r(n().mark((function t(){var e,r,a;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,null!==this.chainSinger){t.next=3;break}return t.abrupt("return",null);case 3:return t.next=5,this.chainSinger.getAddress();case 5:return e=t.sent,t.next=8,this.berancerSelfVaultState.fetchMyAllVaults(e);case 8:return r=t.sent,a=[],this.useVaultIdList.forEach((function(t){var e=r.deposits.find((function(e){return e.vault.id===t}));e&&a.push(e)})),t.abrupt("return",a);case 14:return t.prev=14,t.t0=t.catch(0),i(t.t0),t.abrupt("return",null);case 18:case"end":return t.stop()}}),t,this,[[0,14]])})));return function(){return t.apply(this,arguments)}}(),s.fetchVaultDetail=function(){var t=r(n().mark((function t(e){var r;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.berancerSelfVaultState.fetchVaultDetail(e);case 3:return r=t.sent,t.abrupt("return",r);case 7:return t.prev=7,t.t0=t.catch(0),i(t.t0),t.abrupt("return",null);case 11:case"end":return t.stop()}}),t,this,[[0,7]])})));return function(e){return t.apply(this,arguments)}}(),s.fetchVaultValidatorsList=function(){var t=r(n().mark((function t(e){var r;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.berancerSelfValidatorState.fetchVaultValidators(e);case 3:return r=t.sent,t.abrupt("return",r);case 7:return t.prev=7,t.t0=t.catch(0),i(t.t0),t.abrupt("return",null);case 11:case"end":return t.stop()}}),t,this,[[0,7]])})));return function(e){return t.apply(this,arguments)}}(),s.fetchAllValidatorsList=function(){var t=r(n().mark((function t(){var e,r;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.berancerSelfValidatorState.fetchCustomAllValidators(this.useValidatorIdList);case 3:return e=t.sent,r=[],this.useValidatorIdList.forEach((function(t){var n=e.validators.find((function(e){return e.id===t}));n&&r.push(n)})),t.abrupt("return",r);case 9:return t.prev=9,t.t0=t.catch(0),i(t.t0),t.abrupt("return",null);case 13:case"end":return t.stop()}}),t,this,[[0,9]])})));return function(){return t.apply(this,arguments)}}(),s.fetchMyValidatorsList=function(){var t=r(n().mark((function t(){var e,r,a,s,u;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,null!==this.chainSinger){t.next=3;break}return t.abrupt("return",null);case 3:return t.next=5,this.chainSinger.getAddress();case 5:return e=t.sent,t.next=8,this.berancerSelfValidatorState.fetchUserValidatorInformation(e);case 8:if(!((r=t.sent).length>0)){t.next=18;break}return a=[],r.forEach((function(t){a.push(t.validator.id)})),t.next=14,this.berancerSelfValidatorState.fetchCustomAllValidators(a);case 14:return s=t.sent,u=[],s.validators.forEach((function(t){var e=r.find((function(e){return e.validator.publicKey===t.pubkey}));e&&u.push({validator:t,myInfo:e})})),t.abrupt("return",u);case 18:return t.abrupt("return",null);case 21:return t.prev=21,t.t0=t.catch(0),i(t.t0),t.abrupt("return",null);case 25:case"end":return t.stop()}}),t,this,[[0,21]])})));return function(){return t.apply(this,arguments)}}(),s.fetchValidatorBlockStats=function(){var t=r(n().mark((function t(e){var r;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.berancerSelfValidatorState.fetchValidatorBlockStats(e);case 3:return r=t.sent,t.abrupt("return",r);case 7:return t.prev=7,t.t0=t.catch(0),i(t.t0),t.abrupt("return",null);case 11:case"end":return t.stop()}}),t,this,[[0,7]])})));return function(e){return t.apply(this,arguments)}}(),s.fetchPolGlobalData=function(){var t=r(n().mark((function t(){var e;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.berancerSelfValidatorState.fetchValidatorsGlobalData();case 3:return e=t.sent,t.abrupt("return",e);case 7:return t.prev=7,t.t0=t.catch(0),i(t.t0),t.abrupt("return",null);case 11:case"end":return t.stop()}}),t,this,[[0,7]])})));return function(){return t.apply(this,arguments)}}(),s.queryMyLiquidityOut=function(){var t=r(n().mark((function t(e,r){var a,s,i,u;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.balancerApi.pools.fetchPoolState(e);case 3:return a=t.sent,s={chainId:this.useChainId,kind:v.Proportional,rpcUrl:this.useRpcUrl,bptIn:{address:a.address,decimals:18,rawAmount:g(r,18)}},i=b(),t.next=8,i.query(s,a);case 8:return u=t.sent,t.abrupt("return",u);case 12:return t.prev=12,t.t0=t.catch(0),console.log(t.t0),t.abrupt("return",null);case 16:case"end":return t.stop()}}),t,this,[[0,12]])})));return function(e,r){return t.apply(this,arguments)}}(),s.swapFunction=function(){var t=r(n().mark((function t(e,r,a,s,i){var u,c,o,h,d,f,v,b,k,g,S,I,y;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,u=this.getToken(e),c=this.getToken(r),o=p(u,a),t.next=6,this.balancerApi.sorSwapPaths.fetchSorSwapPaths({chainId:this.useChainId,tokenIn:u.address,tokenOut:c.address,swapKind:l.GivenIn,swapAmount:o});case 6:if(h=t.sent,!((d=h.paths).length<=0)){t.next=10;break}return t.abrupt("return",null);case 10:return f=m(this.useChainId,d,l.GivenIn,"0x"),t.next=13,f.query(this.useRpcUrl);case 13:return v=t.sent,t.next=16,this.chainSinger.getAddress();case 16:if(b=t.sent,k=w(s.toFixed(2)),g=null,i!==Number.MAX_VALUE?(S=BigInt(Math.floor(Date.now()/1e3)+i),g=f.buildCall({slippage:k,deadline:S,queryOutput:v,sender:b,recipient:b,wethIsEth:!0})):g=f.buildCall({slippage:k,queryOutput:v,sender:b,recipient:b,wethIsEth:!0}),x(u.address)){t.next=24;break}return I=new window.ethers.Contract(u.address,V,this.chainSinger),t.next=24,I.approve(g.to,o.amount);case 24:return t.next=26,this.chainSinger.sendTransaction({to:g.to,data:g.callData,value:g.value,gasLimit:600000n});case 26:return y=t.sent,t.next=29,y.wait();case 29:return t.abrupt("return",y);case 32:return t.prev=32,t.t0=t.catch(0),console.log(t.t0),t.abrupt("return",null);case 36:case"end":return t.stop()}}),t,this,[[0,32]])})));return function(e,r,n,a,s){return t.apply(this,arguments)}}(),s.addLiquidityUnbalancedFunction=function(){var t=r(n().mark((function t(e,r,s){var i,u,c,o,p,l,f,v,b,m,k,S;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,null!==this.chainSinger){t.next=3;break}return t.abrupt("return",null);case 3:return t.next=5,this.balancerApi.pools.fetchPoolState(e);case 5:return i=t.sent,u=[],r.forEach((function(t){u.push({address:t.token.address,decimals:t.token.decimals,rawAmount:g(t.inputAmount,t.token.decimals)})})),c={chainId:this.useChainId,kind:h.Unbalanced,rpcUrl:this.useRpcUrl,amountsIn:u},o=d(),t.next=12,o.query(c,i);case 12:return p=t.sent,l=w(s.toFixed(2)),t.next=16,this.chainSinger.getAddress();case 16:f=t.sent,v=o.buildCall(a({},p,{chainId:this.useChainId,sender:f,poolId:i.id,recipient:f,wethIsEth:!0,slippage:l})),b=0;case 19:if(!(b<p.amountsIn.length)){t.next=28;break}if(m=p.amountsIn[b],y(m.token.address)||x(m.token.address)||!(m.amount>0n)){t.next=25;break}return k=new window.ethers.Contract(m.token.address,V,this.chainSinger),t.next=25,k.approve(v.to,m.amount);case 25:b+=1,t.next=19;break;case 28:return t.next=30,this.chainSinger.sendTransaction({to:v.to,data:v.callData,value:v.value,gasLimit:600000n});case 30:return S=t.sent,t.next=33,S.wait();case 33:return t.abrupt("return",S);case 36:return t.prev=36,t.t0=t.catch(0),console.log(t.t0),t.abrupt("return",null);case 40:case"end":return t.stop()}}),t,this,[[0,36]])})));return function(e,r,n){return t.apply(this,arguments)}}(),s.addLiquidityProportionalFunction=function(){var t=r(n().mark((function t(e,r,s,i){var u,c,o,p,l,f,v,b,m,k,S;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,null!==this.chainSinger){t.next=3;break}return t.abrupt("return",null);case 3:return t.next=5,this.balancerApi.pools.fetchPoolState(e);case 5:return u=t.sent,c={chainId:this.useChainId,kind:h.Proportional,rpcUrl:this.useRpcUrl,referenceAmount:{address:s.token.address,decimals:s.token.decimals,rawAmount:g(s.inputAmount,s.token.decimals)}},o=d(),t.next=10,o.query(c,u);case 10:return p=t.sent,l=w(i.toFixed(2)),t.next=14,this.chainSinger.getAddress();case 14:f=t.sent,v=o.buildCall(a({},p,{chainId:this.useChainId,sender:f,poolId:u.id,recipient:f,wethIsEth:!0,slippage:l})),b=0;case 17:if(!(b<p.amountsIn.length)){t.next=26;break}if(m=p.amountsIn[b],y(m.token.address)||x(m.token.address)||!(m.amount>0n)){t.next=23;break}return k=new window.ethers.Contract(m.token.address,V,this.chainSinger),t.next=23,k.approve(v.to,m.amount);case 23:b+=1,t.next=17;break;case 26:return t.next=28,this.chainSinger.sendTransaction({to:v.to,data:v.callData,value:v.value,gasLimit:600000n});case 28:return S=t.sent,t.next=31,S.wait();case 31:return t.abrupt("return",S);case 34:return t.prev=34,t.t0=t.catch(0),console.log(t.t0),t.abrupt("return",null);case 38:case"end":return t.stop()}}),t,this,[[0,34]])})));return function(e,r,n,a){return t.apply(this,arguments)}}(),s.removeLiquidityProportionalFunction=function(){var t=r(n().mark((function t(e,r,s){var i,c,o,p,l,h,d,x,m,k;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.balancerApi.pools.fetchPoolState(e);case 3:return i=t.sent,c={chainId:this.useChainId,kind:v.Proportional,rpcUrl:this.useRpcUrl,bptIn:{address:i.address,decimals:18,rawAmount:g(r,18)}},o=b(),t.next=8,Promise.all([o.query(c,i),f.PriceImpact.removeLiquidity(c,i)]);case 8:return p=t.sent,l=p[0],p[1],h=w(s.toFixed(2)),t.next=14,this.chainSinger.getAddress();case 14:return d=t.sent,x=o.buildCall(a({},l,{sender:d,recipient:d,wethIsEth:!0,slippage:h})),t.next=18,this.chainSinger.sendTransaction({to:x.to,data:x.callData,value:x.value,gasLimit:600000n});case 18:return m=t.sent,u("Transaction sent:",m.hash),t.next=22,m.wait();case 22:return k=t.sent,u("Transaction result:",k),t.abrupt("return",m);case 27:return t.prev=27,t.t0=t.catch(0),console.log(t.t0),t.abrupt("return",null);case 31:case"end":return t.stop()}}),t,this,[[0,27]])})));return function(e,r,n){return t.apply(this,arguments)}}(),s.removeLiquiditySingleTokenExactInFunction=function(){var t=r(n().mark((function t(e,r,s,i){var c,o,p,l,h,d,x,m,k,S;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.balancerApi.pools.fetchPoolState(e);case 3:return c=t.sent,o={chainId:this.useChainId,kind:v.SingleTokenExactIn,rpcUrl:this.useRpcUrl,bptIn:{address:c.address,decimals:18,rawAmount:g(s,18)},tokenOut:r},p=b(),t.next=8,Promise.all([p.query(o,c),f.PriceImpact.removeLiquidity(o,c)]);case 8:return l=t.sent,h=l[0],l[1],d=w(i.toFixed(2)),t.next=14,this.chainSinger.getAddress();case 14:return x=t.sent,m=p.buildCall(a({},h,{sender:x,recipient:x,wethIsEth:!0,slippage:d})),t.next=18,this.chainSinger.sendTransaction({to:m.to,data:m.callData,value:m.value,gasLimit:600000n});case 18:return k=t.sent,u("Transaction sent:",k.hash),t.next=22,k.wait();case 22:return S=t.sent,u("Transaction result:",S),t.abrupt("return",k);case 27:return t.prev=27,t.t0=t.catch(0),console.log(t.t0),t.abrupt("return",null);case 31:case"end":return t.stop()}}),t,this,[[0,27]])})));return function(e,r,n,a){return t.apply(this,arguments)}}(),e(t,null,[{key:"instance",get:function(){return null==this._instance&&(this._instance=new t),this._instance}}]),t}())._instance=null,s._RF.pop()}}}));

System.register("chunks:///_virtual/bera.swap.util.ts",["cc"],(function(e){"use strict";var t,a;return{setters:[function(e){t=e.cclegacy,a=e._decorator}],execute:function(){var r,n;t._RF.push({},"2f572GlCRRLI5qnR8K/XgDH","bera.swap.util",void 0);var o=a.ccclass;e("BeraSwapUtil",o("BeraSwapUtil")(((n=function(){function e(){}return e.getBgtPerProposal=function(e,t){var a=e.rewardAllocationWeights.find((function(e){return e.receiver.toLowerCase()===t.toLowerCase()}));return a?a.percentageNumerator/1e4*parseFloat(e.dynamicData.rewardRate):0},e.getBgtEstimatedPerYear=function(e,t,a){var r=t.rewardAllocationWeights.find((function(e){return e.receiver.toLowerCase()===a.toLowerCase()}));if(r){var n=r.percentageNumerator/1e4,o=this.YEAR_SECONDS/this.BLOCK_TIME;return n*(parseFloat(t.dynamicData.stakedBeraAmount)/parseFloat(e))*o*parseFloat(t.dynamicData.rewardRate)}return 0},e.getBgtEmissionsPer24h=function(e,t){var a=this.DAY_SECONDS/this.BLOCK_TIME;return parseFloat(t.dynamicData.stakedBeraAmount)/parseFloat(e)*a*parseFloat(t.dynamicData.rewardRate)},e}()).YEAR_SECONDS=31536e3,n.DAY_SECONDS=86400,n.BLOCK_TIME=2.001,r=n))||r);t._RF.pop()}}}));

System.register("chunks:///_virtual/camera.config.data.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var a,e,n,c;return{setters:[function(t){a=t.inheritsLoose},function(t){e=t.cclegacy,n=t._decorator,c=t.Component}],execute:function(){var r;e._RF.push({},"a7ecejfN2RLI6SV5BzgFxlL","camera.config.data",void 0);var o=n.ccclass;t("CameraConfigData",o("CameraConfigData")(r=function(t){function e(){return t.apply(this,arguments)||this}return a(e,t),e}(c))||r);e._RF.pop()}}}));

System.register("chunks:///_virtual/camera.system.ts",["./rollupPluginModLoBabelHelpers.js","cc","./base.system.ts","./event.dispatcher.ts","./event.name.ts","./localstorage.manager.ts","./localstorage.define.ts"],(function(a){"use strict";var t,e,i,n,r,s,m,h,o,c,C,l,u,g,f,M,P;return{setters:[function(a){t=a.inheritsLoose,e=a.createClass},function(a){i=a.cclegacy,n=a._decorator,r=a.Vec3,s=a.Rect,m=a.find,h=a.director,o=a.Camera,c=a.screen,C=a.v3,l=a.math},function(a){u=a.BaseSystem},function(a){g=a.EventDispatcher},function(a){f=a.EventName},function(a){M=a.LocalStorageManager},function(a){P=a.LocalStorageDataType}],execute:function(){var S,d;i._RF.push({},"79e9fpHv8NG6oMQp3V4No1w","camera.system",void 0);var p=n.ccclass;a("CameraSystem",p("CameraSystem")(((d=function(a){function i(){for(var t,e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];return(t=a.call.apply(a,[this].concat(i))||this).mIsHasInit=!1,t.mCameraParent=null,t.mCameraPosObj=null,t.mMainCamera=null,t.mFightCamera=null,t.mFollowCharacter=null,t.mCamPosition=new r(0,0,0),t.mScreenLeftTopPos=new r(0,0,0),t.mScreenPixelRect=new s(0,0,1,1),t.mMainCameraWidth=0,t.mMainCameraHeight=0,t.mLimitUp=0,t.mLimitDown=0,t.mLimitLeft=0,t.mLimitRight=0,t}t(i,a);var n=i.prototype;return n.sysInitial=function(){a.prototype.sysInitial.call(this),this._initCamera()},n.clearSysData=function(){a.prototype.clearSysData.call(this),this.mCamPosition=new r(-1e4,-1e4,0)},n.addAllEvents=function(){a.prototype.addAllEvents.call(this),g.on(f.SCREEN_SIZE_CHANGED,this._onScreenSizeChanged,this),g.on(f.CAMERA_SCALE_FAR,this.scaleFarCamera,this),g.on(f.CAMERA_SCALE_NEAR,this.scaleNearCamera,this)},n.removeAllEvents=function(){a.prototype.removeAllEvents.call(this),g.off(f.SCREEN_SIZE_CHANGED,this._onScreenSizeChanged,this),g.off(f.CAMERA_SCALE_FAR,this.scaleFarCamera,this),g.off(f.CAMERA_SCALE_NEAR,this.scaleNearCamera,this)},n._onScreenSizeChanged=function(){this.calCameraSize(),this._checkCameraPosition(0,0)},n.setCamPosImmediate=function(a){this.mCamPosition=a,this._checkCameraPosition(0,0)},n.sysUpdate=function(t){a.prototype.sysUpdate.call(this,t),this.mIsHasInit&&this.mCameraParent.setWorldPosition(this.mCamPosition)},n._initCamera=function(){this.mCameraParent=m(i.sCameraObjPath),h.addPersistRootNode(this.mCameraParent),this.mCameraPosObj=m(i.sCameraPosPath);var a=m(i.sMainCameraPath);this.mMainCamera=a.getComponent(o),this.mIsHasInit=!0,this.calCameraSize()},n._updateFollowPos=function(){null!=this.mFollowCharacter&&(this.mCamPosition=r.clone(this.mFollowCharacter.Position),this._checkCameraPosition(0,0))},n.scaleFarCamera=function(a){if(null!==this.mMainCamera){var t=this.mMainCamera.orthoHeight+a;t>=i.sMaxZCameraOrthHeight&&(t=i.sMaxZCameraOrthHeight),this.mMainCamera.orthoHeight!==t&&(this.mMainCamera.orthoHeight=t,this.calCameraSize(),this._checkCameraPosition(0,0),M.instance.GetTargetLocalStorage(P.FarmCameraScale).SaveIntData(t))}},n.scaleNearCamera=function(a){if(null!==this.mMainCamera){var t=this.mMainCamera.orthoHeight-a;t<=i.sMinCameraOrthHeight&&(t=i.sMinCameraOrthHeight),this.mMainCamera.orthoHeight!==t&&(this.mMainCamera.orthoHeight=t,this.calCameraSize(),this._checkCameraPosition(0,0),M.instance.GetTargetLocalStorage(P.FarmCameraScale).SaveIntData(t))}},n.scaleLastUseCamera=function(){if(null!==this.mMainCamera){var a=M.instance.GetTargetLocalStorage(P.FarmCameraScale).GetIntData();a<i.sMinCameraOrthHeight||a>i.sMaxZCameraOrthHeight?this.mMainCamera.orthoHeight=i.sDefaultCameraOrgHeight:this.mMainCamera.orthoHeight=a}this.calCameraSize(),this._checkCameraPosition(0,0)},n.scaleNormalCamera=function(){null!==this.mMainCamera&&(this.mMainCamera.orthoHeight=i.sDefaultCameraOrgHeight),this.calCameraSize(),this._checkCameraPosition(0,0)},n.initCameraByScene=function(a,t,e,i){this.mLimitDown=t,this.mLimitUp=a,this.mLimitLeft=e,this.mLimitRight=i,this.scaleLastUseCamera()},n.changeCameraPosByScreenDelta=function(a,t,e){var i=this.MainCameraWidth/c.windowSize.width,n=this.MainCameraHeight/c.windowSize.height,r=a.x+t*i,s=a.y+e*n;this.setCamPosImmediate(C(r,s,0))},n.calCameraSize=function(){var a=c.windowSize.width/c.windowSize.height;this.mMainCameraHeight=2*this.mMainCamera.orthoHeight,this.mMainCameraWidth=this.MainCameraHeight*a},n.updateScreenLeftTopPos=function(){var a=this.mCameraParent.getWorldPosition(),t=a.x-this.MainCameraWidth/2,e=a.y+this.mMainCameraHeight/2;this.mScreenLeftTopPos.set(t,e,0),this.mScreenPixelRect.xMin=t-100,this.mScreenPixelRect.xMax=t+this.mMainCameraWidth+100,this.mScreenPixelRect.yMin=e-this.mMainCameraHeight-200,this.mScreenPixelRect.yMax=e+200},n.isInScreen=function(a){return!!this.mScreenPixelRect.contains(a)},n._checkCameraPosition=function(a,t){var e=this.mLimitLeft+(a+.5*this.mMainCameraWidth),i=this.mLimitRight-(a+.5*this.mMainCameraWidth),n=l.clamp(this.mCamPosition.x,e,i),r=this.mLimitUp-(t+.5*this.mMainCameraHeight),s=this.mLimitDown+(t+.5*this.mMainCameraHeight),m=l.clamp(this.mCamPosition.y,r,s);this.mCamPosition.set(n,m,this.mCamPosition.z)},e(i,[{key:"MainCamera",get:function(){return this.mMainCamera}},{key:"FightCamera",get:function(){return this.mFightCamera}},{key:"MainCameraWidth",get:function(){return this.mMainCameraWidth}},{key:"MainCameraHeight",get:function(){return this.mMainCameraHeight}},{key:"ScreenLeftTopPos",get:function(){return this.mScreenLeftTopPos}},{key:"CameraWorldPos",get:function(){return this.mCamPosition}}],[{key:"instance",get:function(){return null==this._instance&&(this._instance=new i),this._instance}}]),i}(u)).sCameraObjPath="CameraObject",d.sCameraPosPath="CameraObject/CameraPos",d.sMainCameraPath="CameraObject/CameraPos/MainCamera",d.sDefaultCameraOrgHeight=400,d.sMaxZCameraOrthHeight=896,d.sMinCameraOrthHeight=260,d._instance=null,S=d))||S);i._RF.pop()}}}));

System.register("chunks:///_virtual/card.client.protocol.ts",["./rollupPluginModLoBabelHelpers.js","cc","./net.protocol.define.ts","./null.client.protocol.ts"],(function(t){"use strict";var i,e,n,r,s;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy},function(t){n=t.NetProtocolDefine},function(t){r=t.readStringWithFixedLengthFromByteBuffer,s=t.stNullClientCmd}],execute:function(){e._RF.push({},"0739cGByZJDW7C+rAj7xN4K","card.client.protocol",void 0);var a=t("stCardClientCmd",function(t){function e(){var i;return(i=t.call(this)||this).gsCmd=n.CARD_CLIENT_CMD,i}return i(e,t),e}(s)),h=t("CARD_INFO_CLIENT",1),o=t("ADD_HERO_CLIENT",2),u=t("REMOVE_HERO_CLIENT",3),c=t("CHANGE_HERO_CLIENT",4),d=t("UPDATE_HERO_CLIENT",5),l=t("UNLOCK_HERO_CLIENT",6),_=(t("FIGHT_CARD_LIST_CLIENT",7),t("REQ_CARD_STATE_DATA",8),t("RET_CARD_STATE_DATA",9),t("REQ_CARD_GET_DATA",10),t("NOTIFY_NEW_DATA_CLIENT",11),t("NOTIFY_COPY_NPC_STEP_CLIENT",12),t("CARD_SKILL_ACTION_CLIENT",13),t("CHANGE_CARD_LIST_CLIENT",14),t("M_FIGHT_CARD_LIST_CLIENT",15),t("CARD_STATE_INFO_CLIENT",16),t("PK_FIGHT_CARD_LIST_CLIENT",17),t("CARD_YUAN_LIST_CLIENT",18),t("FIGHT_CARD_POWER_CLIENT",19),t("NOTIFY_MARK_CLIENT",20),t("EXCHANGE_CARD_LIST_CLIENT",21),t("CARD_ROLE_LEVELUP_CLIENT",22),t("stCardData",function(){function t(){this.TokenIDStr="",this.TokenOwner="",this.lockTime=0,this.Version=0,this.Birthday=0,this.RuneShield=0,this.RuneList=null,this.BodyIndex=0,this.AntennaIndex=0,this.HeadIndex=0,this.EyeIndex=0,this.ArmIndex=0,this.HandIndex=0,this.LegIndex=0,this.GrowthFactor=0,this.AttrLifeSteal=0,this.AttrFightBack=0,this.AttrCombo=0,this.AttrEvade=0,this.AttrCrit=0,this.AttrStun=0,this.AttrLifeStealResistant=0,this.AttrFightBackResistant=0,this.AttrComboResistant=0,this.AttrEvadeResistant=0,this.AttrCritResistant=0,this.AttrStunResistant=0}return t.prototype.UnpackData=function(t){this.TokenIDStr=r(t,n.TOKEN_ID_STRING_LENGTH),this.TokenOwner=r(t,n.ACCOUNT_SIZE_MAX),this.lockTime=t.readUint32(),this.Version=t.readUint32(),this.Birthday=t.readUint32(),this.RuneShield=t.readUint8(),this.RuneList=[];for(var i=0;i<n.MAX_RUNE_SIZE;++i)this.RuneList.push(t.readUint32());this.BodyIndex=t.readUint8(),this.AntennaIndex=t.readUint8(),this.HeadIndex=t.readUint8(),this.EyeIndex=t.readUint8(),this.ArmIndex=t.readUint8(),this.HandIndex=t.readUint8(),this.LegIndex=t.readUint8(),this.GrowthFactor=t.readUint32(),this.AttrLifeSteal=t.readUint32(),this.AttrFightBack=t.readUint32(),this.AttrCombo=t.readUint32(),this.AttrEvade=t.readUint32(),this.AttrCrit=t.readUint32(),this.AttrStun=t.readUint32(),this.AttrLifeStealResistant=t.readUint32(),this.AttrFightBackResistant=t.readUint32(),this.AttrComboResistant=t.readUint32(),this.AttrEvadeResistant=t.readUint32(),this.AttrCritResistant=t.readUint32(),this.AttrStunResistant=t.readUint32()},t}()));t("stCardInfoClientCmd",function(t){function e(){var i;return(i=t.call(this)||this).maxNum=0,i.curNum=0,i.num=0,i.cardsList=[],i.gsParam=h,i}return i(e,t),e.prototype.UnPack=function(i){t.prototype.UnPack.call(this,i),this.maxNum=this.mByteBuffer.readUint32(),this.curNum=this.mByteBuffer.readUint32(),this.num=this.mByteBuffer.readUint16();for(var e=0;e<this.num;e+=1)this.cardsList[e]=new _,this.cardsList[e].UnpackData(this.mByteBuffer);this.ReleaseByteBuffer()},e}(a)),t("stAddHeroClientCmd",function(t){function e(){var i;return(i=t.call(this)||this).info=null,i.gsParam=o,i}return i(e,t),e.prototype.UnPack=function(i){t.prototype.UnPack.call(this,i),this.info=new _,this.info.UnpackData(this.mByteBuffer),this.ReleaseByteBuffer()},e}(a)),t("stRemoveHeroClientCmd",function(t){function e(){var i;return(i=t.call(this)||this).heroID=null,i.gsParam=u,i}return i(e,t),e.prototype.UnPack=function(i){t.prototype.UnPack.call(this,i),this.heroID=this.mByteBuffer.readUint64().toString(),this.ReleaseByteBuffer()},e}(a)),t("stChangeHeroClientCmd",function(t){function e(){var i;return(i=t.call(this)||this).result=0,i.heroIDString="",i.gsParam=c,i}i(e,t);var r=e.prototype;return r.Pack=function(){t.prototype.Pack.call(this),this.mByteBuffer.writeUint8(this.result),this.WriteStringWithFixedLength(this.heroIDString,n.TOKEN_ID_STRING_LENGTH)},r.UnPack=function(i){t.prototype.UnPack.call(this,i),this.result=this.mByteBuffer.readUint8(),this.heroIDString=this.ReadStringWithFixedLength(n.TOKEN_ID_STRING_LENGTH),this.ReleaseByteBuffer()},e}(a)),t("stUpdateHeroClientCmd",function(t){function e(){var i;return(i=t.call(this)||this).info=null,i.gsParam=d,i}return i(e,t),e.prototype.UnPack=function(i){t.prototype.UnPack.call(this,i),this.info=new _,this.info.UnpackData(this.mByteBuffer),this.ReleaseByteBuffer()},e}(a)),t("stUnlockHeroClientCmd",function(t){function e(){var i;return(i=t.call(this)||this).heroID=null,i.gsParam=l,i}return i(e,t),e.prototype.UnPack=function(i){t.prototype.UnPack.call(this,i),this.heroID=this.mByteBuffer.readUint64().toString(),this.ReleaseByteBuffer()},e}(a));e._RF.pop()}}}));

System.register("chunks:///_virtual/chain.coin.base.ts",["./rollupPluginModLoBabelHelpers.js","cc","./all.coin.config.ts","./wizard.wallet.sdk.ts","./use.ethers.ts","./event.dispatcher.ts","./event.name.ts","./chain.utils.ts"],(function(n){"use strict";var t,e,i,c,r,a,s,u,o;return{setters:[function(n){t=n.asyncToGenerator,e=n.regeneratorRuntime},function(n){i=n.cclegacy},function(n){c=n.CoinType},function(n){r=n.WizardWalletSDK},function(n){a=n.formatUnits},function(n){s=n.EventDispatcher},function(n){u=n.EventName},function(n){o=n.getChainIconUrl}],execute:function(){i._RF.push({},"ec57fFk1bFLqpj5OW6DWtv4","chain.coin.base",void 0);n("ChainCoinBase",function(){function n(){this.chainId=0,this.chainIconUrl="",this.key="",this.address="",this.type=c.None,this.config=null,this.decimals=18,this.balanceWei=0n,this.balance=0,this.balanceString="",this.price=0,this.usdValue=0}var i=n.prototype;return i.initConfig=function(n,t){this.chainId=n,this.chainIconUrl=o(this.chainId),this.config=t,this.decimals=this.config.decimals,this.key=this.chainId+"-"+this.config.address.toLowerCase()},i.isLocked=function(){return this.config.locked},i.setSinger=function(n){},i.clearSinger=function(){},i.refreshBalance=function(){var n=this,t=r.walletAddress;t&&""!==t&&this.getBalanceWei(t).then((function(t){null!==t&&(n.balanceWei=t,n.balanceString=a(n.balanceWei,n.decimals),n.balance=Number(n.balanceString),n.onValuedChanged())})).catch((function(n){console.log(n)}))},i.setPrice=function(n){this.price=n,this.onValuedChanged()},i.onValuedChanged=function(){this.usdValue=this.price*this.balance,s.emit(u.WIZARD_WALLET_COIN_DATA_CHANGED,this.key)},i.getBalanceWei=function(){var n=t(e().mark((function n(t){return e().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",0n);case 1:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}(),i.getBalance=function(){var n=t(e().mark((function n(t){return e().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",0);case 1:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}(),i.sendCoin=function(){var n=t(e().mark((function n(t,i){return e().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",null);case 1:case"end":return n.stop()}}),n)})));return function(t,e){return n.apply(this,arguments)}}(),n}());i._RF.pop()}}}));

System.register("chunks:///_virtual/chain.coin.bgt.ts",["./rollupPluginModLoBabelHelpers.js","cc","./use.ethers.ts","./all.coin.config.ts","./chain.coin.erc20.ts"],(function(t){"use strict";var r,n,e,u,s,o,c;return{setters:[function(t){r=t.inheritsLoose,n=t.asyncToGenerator,e=t.regeneratorRuntime},function(t){u=t.cclegacy},function(t){s=t.parseUnits},function(t){o=t.CoinType},function(t){c=t.ChainCoinErc20}],execute:function(){u._RF.push({},"fbc96MPQIRMLZa/UXNiOB8i","chain.coin.bgt",void 0);t("ChainCoinBGT",function(t){function u(){var r;return(r=t.call(this)||this).useBgtContract=void 0,r.type=o.BGT,r}r(u,t);var c=u.prototype;return c.initBgt=function(t,r,n){this.init(t,r,n),this.useBgtContract=n},c.getBlockTimestamp=function(){var t=n(e().mark((function t(r){var n;return e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.useBgtContract.chainReader.getBlockTimestamp(r);case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t,this)})));return function(r){return t.apply(this,arguments)}}(),c.queryBoosted=function(){var t=n(e().mark((function t(r){var n;return e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.useBgtContract.boosted(r);case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t,this)})));return function(r){return t.apply(this,arguments)}}(),c.queryUnboosted=function(){var t=n(e().mark((function t(){var r;return e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.useBgtContract.unboosted();case 2:return r=t.sent,t.abrupt("return",r);case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),c.queryBoosts=function(){var t=n(e().mark((function t(){var r;return e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.useBgtContract.boosts();case 2:return r=t.sent,t.abrupt("return",r);case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),c.queryQueueBoost=function(){var t=n(e().mark((function t(r){return e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.useBgtContract.boostedQueue(r);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})));return function(r){return t.apply(this,arguments)}}(),c.queryQueueUnboost=function(){var t=n(e().mark((function t(r){return e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.useBgtContract.dropBoostQueue(r);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})));return function(r){return t.apply(this,arguments)}}(),c.queryQueueBoostDelay=function(){var t=n(e().mark((function t(){return e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.useBgtContract.activateBoostDelay();case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),c.queryQueueUnboostDelay=function(){var t=n(e().mark((function t(){return e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.useBgtContract.dropBoostDelay();case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),c.addBoost=function(){var t=n(e().mark((function t(r,n){var u;return e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return u=s(n,this.decimals),t.next=3,this.useBgtContract.queueBoost(r,u);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t,this)})));return function(r,n){return t.apply(this,arguments)}}(),c.cancelQueueBoost=function(){var t=n(e().mark((function t(r,n){var u;return e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return u=s(n,this.decimals),t.next=3,this.useBgtContract.cancelBoost(r,u);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t,this)})));return function(r,n){return t.apply(this,arguments)}}(),c.comfirmQueueBoost=function(){var t=n(e().mark((function t(r){return e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.useBgtContract.activateBoost(r);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})));return function(r){return t.apply(this,arguments)}}(),c.removeBoost=function(){var t=n(e().mark((function t(r,n){var u;return e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return u=s(n,this.decimals),t.next=3,this.useBgtContract.queueDropBoost(r,u);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t,this)})));return function(r,n){return t.apply(this,arguments)}}(),c.cancelQueueUnboost=function(){var t=n(e().mark((function t(r,n){var u;return e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return u=s(n,this.decimals),t.next=3,this.useBgtContract.cancelDropBoost(r,u);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t,this)})));return function(r,n){return t.apply(this,arguments)}}(),c.comfirmQueueUnboost=function(){var t=n(e().mark((function t(r){return e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.useBgtContract.dropBoost(r);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})));return function(r){return t.apply(this,arguments)}}(),u}(c));u._RF.pop()}}}));

System.register("chunks:///_virtual/chain.coin.erc20.ts",["./rollupPluginModLoBabelHelpers.js","cc","./all.coin.config.ts","./chain.coin.base.ts","./use.ethers.ts"],(function(t){"use strict";var n,e,r,i,c,s,a,u;return{setters:[function(t){n=t.inheritsLoose,e=t.asyncToGenerator,r=t.regeneratorRuntime},function(t){i=t.cclegacy},function(t){c=t.CoinType},function(t){s=t.ChainCoinBase},function(t){a=t.formatUnits,u=t.parseUnits}],execute:function(){i._RF.push({},"e275d8DlD5PS4ducHrjLyo+","chain.coin.erc20",void 0);t("ChainCoinErc20",function(t){function i(){var n;return(n=t.call(this)||this).useContract=void 0,n.type=c.ERC20,n}n(i,t);var s=i.prototype;return s.init=function(t,n,e){this.initConfig(t,n),this.useContract=e},s.getBalanceWei=function(){var t=e(r().mark((function t(n){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.useContract.readContract.balanceOf(n);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})));return function(n){return t.apply(this,arguments)}}(),s.getBalance=function(){var t=e(r().mark((function t(n){var e,i;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getBalanceWei(n);case 2:return e=t.sent,i=Number(a(e,this.decimals)),t.abrupt("return",i);case 5:case"end":return t.stop()}}),t,this)})));return function(n){return t.apply(this,arguments)}}(),s.sendCoin=function(){var t=e(r().mark((function t(n,e){var i;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=u(e,this.decimals),t.next=3,this.useContract.transfer(n,i);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t,this)})));return function(n,e){return t.apply(this,arguments)}}(),i}(s));i._RF.pop()}}}));

System.register("chunks:///_virtual/chain.coin.interface.ts",["cc"],(function(){"use strict";var c;return{setters:[function(e){c=e.cclegacy}],execute:function(){c._RF.push({},"05c5fn1789Omb7fumXUyORy","chain.coin.interface",void 0),c._RF.pop()}}}));

System.register("chunks:///_virtual/chain.coin.origin.ts",["./rollupPluginModLoBabelHelpers.js","cc","./all.coin.config.ts","./chain.coin.base.ts","./use.ethers.ts"],(function(n){"use strict";var e,t,r,i,a,c,s;return{setters:[function(n){e=n.inheritsLoose,t=n.asyncToGenerator,r=n.regeneratorRuntime},function(n){i=n.cclegacy},function(n){a=n.CoinType},function(n){c=n.ChainCoinBase},function(n){s=n.parseUnits}],execute:function(){i._RF.push({},"92926ZsKNpBEY70dTIjCnnW","chain.coin.origin",void 0);n("ChainCoinOrigin",function(n){function i(){var e;return(e=n.call(this)||this).chainReader=void 0,e.chainSinger=void 0,e.type=a.Chain,e}e(i,n);var c=i.prototype;return c.init=function(n,e,t){this.initConfig(n,e),this.chainReader=t},c.setSinger=function(n){this.chainSinger=n},c.clearSinger=function(){this.chainSinger=null},c.getBalanceWei=function(){var n=t(r().mark((function n(e){return r().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.chainReader.getBalanceWei(e);case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n,this)})));return function(e){return n.apply(this,arguments)}}(),c.getBalance=function(){var n=t(r().mark((function n(e){return r().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.chainReader.getBalance(e);case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n,this)})));return function(e){return n.apply(this,arguments)}}(),c.sendCoin=function(){var n=t(r().mark((function n(e,t){var i,a;return r().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(null!==this.chainSinger){n.next=3;break}return console.log("wallet not connected"),n.abrupt("return",null);case 3:return i={to:e,value:s(t,this.decimals)},n.next=6,this.chainSinger.sendTransaction(i);case 6:return a=n.sent,n.next=9,a.wait();case 9:return n.abrupt("return",a);case 10:case"end":return n.stop()}}),n,this)})));return function(e,t){return n.apply(this,arguments)}}(),i}(c));i._RF.pop()}}}));

System.register("chunks:///_virtual/chain.contract.approve.proxy.ts",["./rollupPluginModLoBabelHelpers.js","cc","./chain.contract.base.ts"],(function(t){"use strict";var r,e,n,s,c;return{setters:[function(t){r=t.inheritsLoose,e=t.asyncToGenerator,n=t.regeneratorRuntime},function(t){s=t.cclegacy},function(t){c=t.ChainContractBase}],execute:function(){s._RF.push({},"436c0wzCvVLQbwK43xCcIli","chain.contract.approve.proxy",void 0);t("ChainContractApproveProxy",function(t){function s(){for(var r,e=arguments.length,n=new Array(e),s=0;s<e;s++)n[s]=arguments[s];return(r=t.call.apply(t,[this].concat(n))||this).tokenWizzAddress="",r.tokenWizardAddress="",r.tokenItemV1Address="",r.tokenItemV2Address="",r}r(s,t);var c=s.prototype;return c.initOtherContractAddress=function(t,r,e,n){this.tokenWizardAddress=t,this.tokenWizzAddress=r,this.tokenItemV1Address=e,this.tokenItemV2Address=n},c.checkWizardApprove=function(){var t=e(n().mark((function t(r){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._checkApprovedERC721(r,this.tokenWizardAddress);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})));return function(r){return t.apply(this,arguments)}}(),c.checkItemV1Approve=function(){var t=e(n().mark((function t(){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._checkApprovedERC1155(this.tokenItemV1Address);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),c.checkItemApprove=function(){var t=e(n().mark((function t(){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._checkApprovedERC1155(this.tokenItemV2Address);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),c.checkWizzApprove=function(){var t=e(n().mark((function t(){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._checkApprovedERC20(this.tokenWizzAddress);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),c._checkApprovedERC20=function(){var t=e(n().mark((function t(r){var e;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.getWalletAddress(),t.next=3,this.readContract.checkApproved_ERC20(r,e);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t,this)})));return function(r){return t.apply(this,arguments)}}(),c._checkApprovedERC721=function(){var t=e(n().mark((function t(r,e){var s;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=this.getWalletAddress(),t.next=3,this.readContract.checkApproved_ERC721(e,s,r);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t,this)})));return function(r,e){return t.apply(this,arguments)}}(),c._checkApprovedERC1155=function(){var t=e(n().mark((function t(r){var e;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.getWalletAddress(),t.next=3,this.readContract.checkApproved_ERC1155(r,e);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t,this)})));return function(r){return t.apply(this,arguments)}}(),s}(c));s._RF.pop()}}}));

System.register("chunks:///_virtual/chain.contract.base.ts",["cc","./use.ethers.ts","./sdk.manager.ts"],(function(t){"use strict";var n,i,c;return{setters:[function(t){n=t.cclegacy},function(t){i=t.ethers},function(t){c=t.SDKManager}],execute:function(){n._RF.push({},"46c80f7X+pLoYA0xQWTH2Kl","chain.contract.base",void 0);t("ChainContractBase",function(){function t(){this.chainReader=void 0,this.chainSinger=void 0,this.contractConfig=void 0,this.readContract=void 0,this.writeContract=void 0}var n=t.prototype;return n.init=function(t,n){this.chainReader=n,this.contractConfig=t,this.readContract=new i.Contract(this.contractConfig.address,this.contractConfig.abi,this.chainReader.rpcProvider)},n.setSinger=function(t){t&&(this.chainSinger=t,this.writeContract=new i.Contract(this.contractConfig.address,this.contractConfig.abi,this.chainSinger))},n.clearSinger=function(){this.chainSinger=null,this.writeContract=null},n.getWalletAddress=function(){return c.instance.curSDKPlugin.accountMeInfo.addressEvm},t}());n._RF.pop()}}}));

System.register("chunks:///_virtual/chain.contract.bgt.ts",["./rollupPluginModLoBabelHelpers.js","cc","./chain.contract.erc20.ts"],(function(t){"use strict";var n,r,e,a,u;return{setters:[function(t){n=t.inheritsLoose,r=t.asyncToGenerator,e=t.regeneratorRuntime},function(t){a=t.cclegacy},function(t){u=t.ChainContractErc20}],execute:function(){a._RF.push({},"b441fevNrlFnqxSX/wOsvtc","chain.contract.bgt",void 0);t("ChainContractBGT",function(t){function a(){return t.apply(this,arguments)||this}n(a,t);var u=a.prototype;return u.boosted=function(){var t=r(e().mark((function t(n){var r,a;return e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!==this.chainSinger&&null!==this.readContract){t.next=3;break}return console.log("wallet not connected"),t.abrupt("return",null);case 3:return r=this.getWalletAddress(),t.next=6,this.readContract.boosted(r,n);case 6:return a=t.sent,t.abrupt("return",a);case 8:case"end":return t.stop()}}),t,this)})));return function(n){return t.apply(this,arguments)}}(),u.unboosted=function(){var t=r(e().mark((function t(){var n,r;return e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!==this.chainSinger&&null!==this.readContract){t.next=3;break}return console.log("wallet not connected"),t.abrupt("return",null);case 3:return n=this.getWalletAddress(),t.next=6,this.readContract.unboostedBalanceOf(n);case 6:return r=t.sent,t.abrupt("return",r);case 8:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),u.boosts=function(){var t=r(e().mark((function t(){var n,r;return e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!==this.chainSinger&&null!==this.readContract){t.next=3;break}return console.log("wallet not connected"),t.abrupt("return",null);case 3:return n=this.getWalletAddress(),t.next=6,this.readContract.boosts(n);case 6:return r=t.sent,t.abrupt("return",r);case 8:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),u.boostedQueue=function(){var t=r(e().mark((function t(n){var r,a,u,c;return e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!==this.chainSinger&&null!==this.readContract){t.next=3;break}return console.log("wallet not connected"),t.abrupt("return",null);case 3:return r=this.getWalletAddress(),t.next=6,this.readContract.boostedQueue(r,n);case 6:return a=t.sent,u=a[0],c=a[1],t.abrupt("return",{blockNumber:u,balance:c});case 10:case"end":return t.stop()}}),t,this)})));return function(n){return t.apply(this,arguments)}}(),u.dropBoostQueue=function(){var t=r(e().mark((function t(n){var r,a,u,c;return e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!==this.chainSinger&&null!==this.readContract){t.next=3;break}return console.log("wallet not connected"),t.abrupt("return",null);case 3:return r=this.getWalletAddress(),t.next=6,this.readContract.dropBoostQueue(r,n);case 6:return a=t.sent,u=a[0],c=a[1],t.abrupt("return",{blockNumber:u,balance:c});case 10:case"end":return t.stop()}}),t,this)})));return function(n){return t.apply(this,arguments)}}(),u.activateBoostDelay=function(){var t=r(e().mark((function t(){var n;return e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!==this.chainSinger&&null!==this.readContract){t.next=3;break}return console.log("wallet not connected"),t.abrupt("return",null);case 3:return t.next=5,this.readContract.activateBoostDelay();case 5:return n=t.sent,t.abrupt("return",n);case 7:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),u.dropBoostDelay=function(){var t=r(e().mark((function t(){var n;return e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!==this.chainSinger&&null!==this.readContract){t.next=3;break}return console.log("wallet not connected"),t.abrupt("return",null);case 3:return t.next=5,this.readContract.dropBoostDelay();case 5:return n=t.sent,t.abrupt("return",n);case 7:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),u.queueBoost=function(){var t=r(e().mark((function t(n,r){var a;return e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!==this.chainSinger&&null!==this.writeContract){t.next=3;break}return console.log("wallet not connected"),t.abrupt("return",null);case 3:return t.next=5,this.writeContract.queueBoost(n,r,{gasLimit:300000n});case 5:return a=t.sent,t.next=8,a.wait();case 8:return t.abrupt("return",a);case 9:case"end":return t.stop()}}),t,this)})));return function(n,r){return t.apply(this,arguments)}}(),u.cancelBoost=function(){var t=r(e().mark((function t(n,r){var a;return e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!==this.chainSinger&&null!==this.writeContract){t.next=3;break}return console.log("wallet not connected"),t.abrupt("return",null);case 3:return t.next=5,this.writeContract.cancelBoost(n,r,{gasLimit:300000n});case 5:return a=t.sent,t.next=8,a.wait();case 8:return t.abrupt("return",a);case 9:case"end":return t.stop()}}),t,this)})));return function(n,r){return t.apply(this,arguments)}}(),u.activateBoost=function(){var t=r(e().mark((function t(n){var r,a;return e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!==this.chainSinger&&null!==this.writeContract){t.next=3;break}return console.log("wallet not connected"),t.abrupt("return",null);case 3:return r=this.getWalletAddress(),t.next=6,this.writeContract.activateBoost(r,n,{gasLimit:300000n});case 6:return a=t.sent,t.next=9,a.wait();case 9:return t.abrupt("return",a);case 10:case"end":return t.stop()}}),t,this)})));return function(n){return t.apply(this,arguments)}}(),u.queueDropBoost=function(){var t=r(e().mark((function t(n,r){var a;return e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!==this.chainSinger&&null!==this.writeContract){t.next=3;break}return console.log("wallet not connected"),t.abrupt("return",null);case 3:return t.next=5,this.writeContract.queueDropBoost(n,r,{gasLimit:300000n});case 5:return a=t.sent,t.next=8,a.wait();case 8:return t.abrupt("return",a);case 9:case"end":return t.stop()}}),t,this)})));return function(n,r){return t.apply(this,arguments)}}(),u.cancelDropBoost=function(){var t=r(e().mark((function t(n,r){var a;return e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!==this.chainSinger&&null!==this.writeContract){t.next=3;break}return console.log("wallet not connected"),t.abrupt("return",null);case 3:return t.next=5,this.writeContract.cancelDropBoost(n,r,{gasLimit:300000n});case 5:return a=t.sent,t.next=8,a.wait();case 8:return t.abrupt("return",a);case 9:case"end":return t.stop()}}),t,this)})));return function(n,r){return t.apply(this,arguments)}}(),u.dropBoost=function(){var t=r(e().mark((function t(n){var r,a;return e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!==this.chainSinger&&null!==this.writeContract){t.next=3;break}return console.log("wallet not connected"),t.abrupt("return",null);case 3:return r=this.getWalletAddress(),t.next=6,this.writeContract.dropBoost(r,n,{gasLimit:300000n});case 6:return a=t.sent,t.next=9,a.wait();case 9:return t.abrupt("return",a);case 10:case"end":return t.stop()}}),t,this)})));return function(n){return t.apply(this,arguments)}}(),a}(u));a._RF.pop()}}}));

System.register("chunks:///_virtual/chain.contract.erc20.ts",["./rollupPluginModLoBabelHelpers.js","cc","./chain.contract.base.ts"],(function(t){"use strict";var r,n,e,a,c;return{setters:[function(t){r=t.inheritsLoose,n=t.asyncToGenerator,e=t.regeneratorRuntime},function(t){a=t.cclegacy},function(t){c=t.ChainContractBase}],execute:function(){a._RF.push({},"de5baufX0RNLbRkOkkkPQdg","chain.contract.erc20",void 0);t("ChainContractErc20",function(t){function a(){for(var r,n=arguments.length,e=new Array(n),a=0;a<n;a++)e[a]=arguments[a];return(r=t.call.apply(t,[this].concat(e))||this).approveProxyAddress="",r}r(a,t);var c=a.prototype;return c.initOtherContractAddress=function(t){this.approveProxyAddress=t},c.approveTo=function(){var t=n(e().mark((function t(r){var n;return e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!==this.chainSinger&&null!==this.writeContract){t.next=3;break}return console.log("wallet not connected"),t.abrupt("return",null);case 3:return t.next=5,this.writeContract.approve(this.approveProxyAddress,r,{gasLimit:100000n});case 5:return n=t.sent,t.next=8,n.wait();case 8:return t.abrupt("return",n);case 9:case"end":return t.stop()}}),t,this)})));return function(r){return t.apply(this,arguments)}}(),c.transfer=function(){var t=n(e().mark((function t(r,n){var a;return e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!==this.chainSinger&&null!==this.writeContract){t.next=3;break}return console.log("wallet not connected"),t.abrupt("return",null);case 3:return t.next=5,this.writeContract.transfer(r,n,{gasLimit:300000n});case 5:return a=t.sent,t.next=8,a.wait();case 8:return t.abrupt("return",a);case 9:case"end":return t.stop()}}),t,this)})));return function(r,n){return t.apply(this,arguments)}}(),a}(c));a._RF.pop()}}}));

System.register("chunks:///_virtual/chain.contract.interface.ts",["cc"],(function(){"use strict";var c;return{setters:[function(t){c=t.cclegacy}],execute:function(){c._RF.push({},"66c95kTuOtB/bkPrCAyZir0","chain.contract.interface",void 0),c._RF.pop()}}}));

System.register("chunks:///_virtual/chain.contract.marketplace.ts",["./rollupPluginModLoBabelHelpers.js","cc","./event.dispatcher.ts","./event.name.ts","./use.ethers.ts","./chain.utils.ts","./chain.contract.base.ts"],(function(r){"use strict";var e,t,n,s,a,u,i,c,o;return{setters:[function(r){e=r.inheritsLoose,t=r.asyncToGenerator,n=r.regeneratorRuntime},function(r){s=r.cclegacy},function(r){a=r.EventDispatcher},function(r){u=r.EventName},function(r){i=r.parseEther},function(r){c=r.EMPTY_ADDRESS},function(r){o=r.ChainContractBase}],execute:function(){s._RF.push({},"fab10IFI+JC9ZHZIFrIl4VA","chain.contract.marketplace",void 0);r("ChainContractMarketplace",function(r){function s(){for(var e,t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];return(e=r.call.apply(r,[this].concat(n))||this).tokenWizardAddress="",e.tokenItemAddress="",e.usePayTokenAddress=c,e.selfOrderPageCount=30,e.isRefreshSelfOrder=!1,e.selfOrderDataList=[],e}e(s,r);var o=s.prototype;return o.initOtherContractAddress=function(r,e){this.tokenWizardAddress=r,this.tokenItemAddress=e},o.refreshSelfOrderData=function(){var r=t(n().mark((function r(){var e,t,s,i,c,o,f,h,p,d;return n().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(r.prev=0,null!==(e=this.getWalletAddress())&&""!==e){r.next=4;break}return r.abrupt("return");case 4:if(!this.isRefreshSelfOrder){r.next=6;break}return r.abrupt("return");case 6:return this.isRefreshSelfOrder=!0,r.next=9,this.getSelfOrderCount();case 9:if(!((t=r.sent)>0n)){r.next=21;break}for(i=[],c=Number(t),o=Math.ceil(c/this.selfOrderPageCount),f=0;f<o;f+=1)h=this.selfOrderPageCount*f,p=this.selfOrderPageCount*(f+1)-1,i.push(this.getSelfOrder(h,p));return r.next=17,Promise.all(i);case 17:d=r.sent,this.selfOrderDataList=[],(s=this.selfOrderDataList).push.apply(s,d),a.emit(u.CHAIN_MARKETPLACE_REFRESH_SELF_ORDER_FINISH);case 21:r.next=26;break;case 23:r.prev=23,r.t0=r.catch(0),console.log(r.t0);case 26:return r.prev=26,this.isRefreshSelfOrder=!1,r.finish(26);case 29:case"end":return r.stop()}}),r,this,[[0,23,26,29]])})));return function(){return r.apply(this,arguments)}}(),o.saleWizard=function(){var r=t(n().mark((function r(e,t){return n().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this._createOrder(this.tokenWizardAddress,e,BigInt(1),t);case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}}),r,this)})));return function(e,t){return r.apply(this,arguments)}}(),o.saleItem=function(){var r=t(n().mark((function r(e,t,s){return n().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this._createOrder(this.tokenItemAddress,e,t,s);case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}}),r,this)})));return function(e,t,n){return r.apply(this,arguments)}}(),o.getOwnerOrderWizard=function(){var r=t(n().mark((function r(e){return n().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this._getOwnerOrder(this.tokenWizardAddress,e);case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}}),r,this)})));return function(e){return r.apply(this,arguments)}}(),o.getOwnerOrderItem=function(){var r=t(n().mark((function r(e){return n().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this._getOwnerOrder(this.tokenItemAddress,e);case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}}),r,this)})));return function(e){return r.apply(this,arguments)}}(),o.isOrderValid=function(){var r=t(n().mark((function r(e){var t;return n().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this.readContract.checkOrder(e);case 2:if(0n!==(t=r.sent).OrderID){r.next=5;break}return r.abrupt("return",!1);case 5:if(1n===t.OrderState){r.next=7;break}return r.abrupt("return",!1);case 7:return r.abrupt("return",!0);case 8:case"end":return r.stop()}}),r,this)})));return function(e){return r.apply(this,arguments)}}(),o.isOrderExist=function(){var r=t(n().mark((function r(e){return n().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this.readContract.checkOrder(e);case 2:if(0n!==r.sent.OrderID){r.next=5;break}return r.abrupt("return",!1);case 5:return r.abrupt("return",!0);case 6:case"end":return r.stop()}}),r,this)})));return function(e){return r.apply(this,arguments)}}(),o.cancelOrder=function(){var r=t(n().mark((function r(e){var t;return n().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(null!==this.chainSinger&&null!==this.writeContract){r.next=3;break}return console.log("wallet not connected"),r.abrupt("return",null);case 3:return r.next=5,this.writeContract.cancelOrder(e,{gasLimit:400000n});case 5:return t=r.sent,r.next=8,t.wait();case 8:return r.abrupt("return",t);case 9:case"end":return r.stop()}}),r,this)})));return function(e){return r.apply(this,arguments)}}(),o.takeOrder=function(){var r=t(n().mark((function r(e,t,s,a){var u,i;return n().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(null!==this.chainSinger&&null!==this.writeContract){r.next=3;break}return console.log("wallet not connected"),r.abrupt("return",null);case 3:if(!s){r.next=12;break}return r.next=6,this.writeContract.takeOrder(e,t,{gasLimit:400000n,value:a});case 6:return u=r.sent,r.next=9,u.wait();case 9:return r.abrupt("return",u);case 12:return r.next=14,this.writeContract.takeOrder(e,t,{gasLimit:400000n});case 14:return i=r.sent,r.next=17,i.wait();case 17:return r.abrupt("return",i);case 18:case"end":return r.stop()}}),r,this)})));return function(e,t,n,s){return r.apply(this,arguments)}}(),o.getSelfWizardChainOrder=function(){var r=t(n().mark((function r(){return n().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this.getSelfChainOrder(this.tokenWizardAddress);case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}}),r,this)})));return function(){return r.apply(this,arguments)}}(),o.getSelfItemChainOrder=function(){var r=t(n().mark((function r(){return n().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this.getSelfChainOrder(this.tokenItemAddress);case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}}),r,this)})));return function(){return r.apply(this,arguments)}}(),o.getSelfChainOrder=function(){var r=t(n().mark((function r(e){var t,s,a,u,i,c,o,f,h,p,d,l,O;return n().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this.getSelfOrderCount();case 2:if(t=r.sent,!((s=Number(t))<=0)){r.next=6;break}return r.abrupt("return",[]);case 6:if(a=[],s>200)for(u=Math.ceil(s/200),i=0;i<u;i+=1)o=(c=200*i)+199,a.push(this.getSelfOrder(c,o));else a.push(this.getSelfOrder(0,s-1));return f=[],r.next=11,Promise.all(a);case 11:for(h=r.sent,p=0;p<h.length;p+=1)for(d=h[p],l=0;l<d.length;l+=1)O=d[l],("all"===e||e.toLowerCase()===O.TokenAddress.toLowerCase())&&f.push(O);return r.abrupt("return",f);case 14:case"end":return r.stop()}}),r,this)})));return function(e){return r.apply(this,arguments)}}(),o.getSelfOrderCount=function(){var r=t(n().mark((function r(){return n().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this.readContract.getOwnerOrderNum(this.getWalletAddress());case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}}),r,this)})));return function(){return r.apply(this,arguments)}}(),o.getSelfOrder=function(){var r=t(n().mark((function r(e,t){var s,a,u,i;return n().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this.readContract.getOwnerOrderList(this.getWalletAddress(),BigInt(e),BigInt(t));case 2:s=r.sent,a=[],u=0;case 5:if(!(u<s.length)){r.next=13;break}if(0n!==(i=s[u]).OrderID){r.next=9;break}return r.abrupt("continue",10);case 9:a.push({Owner:i.OrderOwner,OrderID:i.OrderID.toString(),OrderTime:Number(i.OrderTime),Status:Number(i.OrderState),TokenAddress:i.TokenAddress,TokenID:i.TokenID.toString(),Amount:i.TokenAmount.toString(),PayToken:i.PayToken,Price:i.PayPrice.toString()});case 10:u+=1,r.next=5;break;case 13:return r.abrupt("return",a);case 14:case"end":return r.stop()}}),r,this)})));return function(e,t){return r.apply(this,arguments)}}(),o._createOrder=function(){var r=t(n().mark((function r(e,t,s,a){var u;return n().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(null!==this.chainSinger&&null!==this.writeContract){r.next=3;break}return console.log("wallet not connected"),r.abrupt("return",null);case 3:return r.next=5,this.writeContract.createOrder(e,t,s,this.usePayTokenAddress,i(a.toString()),{gasLimit:900000n});case 5:return u=r.sent,r.next=8,u.wait();case 8:return r.abrupt("return",u);case 9:case"end":return r.stop()}}),r,this)})));return function(e,t,n,s){return r.apply(this,arguments)}}(),o._getOwnerOrder=function(){var r=t(n().mark((function r(e,t){var s,a;return n().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return s=this.getWalletAddress(),r.next=3,this.readContract.getOwnerOrder(s,e,t);case 3:return a=r.sent,r.abrupt("return",a);case 5:case"end":return r.stop()}}),r,this)})));return function(e,t){return r.apply(this,arguments)}}(),s}(o));s._RF.pop()}}}));

System.register("chunks:///_virtual/chain.contract.mint.wizard.ts",["./rollupPluginModLoBabelHelpers.js","cc","./chain.contract.base.ts"],(function(t){"use strict";var n,r,e,i,a;return{setters:[function(t){n=t.inheritsLoose,r=t.asyncToGenerator,e=t.regeneratorRuntime},function(t){i=t.cclegacy},function(t){a=t.ChainContractBase}],execute:function(){i._RF.push({},"4094eQG4GZCdp0IBLNi/vi8","chain.contract.mint.wizard",void 0);t("ChainContractMintWizard",function(t){function i(){return t.apply(this,arguments)||this}return n(i,t),i.prototype.mintWizardToken=function(){var t=r(e().mark((function t(n){var r,i,a,c,o,u;return e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!==this.chainSinger&&null!==this.writeContract){t.next=3;break}return console.log("wallet not connected"),t.abrupt("return",null);case 3:return r=n.mintData,i=n.tokenData,a=n.v,c=n.r,o=n.s,t.next=6,this.writeContract.mintWizardToken(BigInt(r),i,a,c,o,{gasLimit:500000n});case 6:return u=t.sent,t.next=9,u.wait();case 9:return t.abrupt("return",u);case 10:case"end":return t.stop()}}),t,this)})));return function(n){return t.apply(this,arguments)}}(),i}(a));i._RF.pop()}}}));

System.register("chunks:///_virtual/chain.contract.stake.wizard.ts",["./rollupPluginModLoBabelHelpers.js","cc","./chain.contract.base.ts"],(function(t){"use strict";var n,r,e,a,i;return{setters:[function(t){n=t.inheritsLoose,r=t.asyncToGenerator,e=t.regeneratorRuntime},function(t){a=t.cclegacy},function(t){i=t.ChainContractBase}],execute:function(){a._RF.push({},"73c9dWDcnBCoqJ0UTgyNS6A","chain.contract.stake.wizard",void 0);t("ChainContractStakeWizard",function(t){function a(){return t.apply(this,arguments)||this}n(a,t);var i=a.prototype;return i.depositWizardToken=function(){var t=r(e().mark((function t(n){var r;return e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!==this.chainSinger&&null!==this.writeContract){t.next=3;break}return console.log("wallet not connected"),t.abrupt("return",null);case 3:return t.next=5,this.writeContract.depositWizardToken(n,{gasLimit:300000n});case 5:return r=t.sent,t.next=8,r.wait();case 8:return t.abrupt("return",r);case 9:case"end":return t.stop()}}),t,this)})));return function(n){return t.apply(this,arguments)}}(),i.withdrawWizardToken=function(){var t=r(e().mark((function t(n){var r,a,i,c,o,s;return e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!==this.chainSinger&&null!==this.writeContract){t.next=3;break}return console.log("wallet not connected"),t.abrupt("return",null);case 3:return r=n.withdrawData,a=n.tokenData,i=n.v,c=n.r,o=n.s,t.next=6,this.writeContract.withdrawWizardToken(BigInt(r),a,i,c,o,{gasLimit:300000n});case 6:return s=t.sent,t.next=9,s.wait();case 9:return t.abrupt("return",s);case 10:case"end":return t.stop()}}),t,this)})));return function(n){return t.apply(this,arguments)}}(),a}(i));a._RF.pop()}}}));

System.register("chunks:///_virtual/chain.contract.test.faucet.ts",["./rollupPluginModLoBabelHelpers.js","cc","./use.ethers.ts","./chain.contract.base.ts"],(function(t){"use strict";var e,n,r,a,i,c;return{setters:[function(t){e=t.inheritsLoose,n=t.asyncToGenerator,r=t.regeneratorRuntime},function(t){a=t.cclegacy},function(t){i=t.formatEther},function(t){c=t.ChainContractBase}],execute:function(){a._RF.push({},"e1ee2ydkYZEyKd1Tk/7HhQl","chain.contract.test.faucet",void 0);t("ChainContractTestFaucet",function(t){function a(){for(var e,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))||this).reaminWei=0n,e.reamin="",e}return e(a,t),a.prototype.getRemainFaucet=function(){var t=n(r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.chainReader.getBalanceWei(this.contractConfig.address);case 2:return this.reaminWei=t.sent,this.reamin=i(this.reaminWei),t.abrupt("return",this.reamin);case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),a}(c));a._RF.pop()}}}));

System.register("chunks:///_virtual/chain.contract.token.item.ts",["./rollupPluginModLoBabelHelpers.js","cc","./table.manager.ts","./model.item.data.chain.ts","./enum.chain.type.ts","./chain.contract.base.ts"],(function(t){"use strict";var e,n,r,a,o,i,s,c;return{setters:[function(t){e=t.inheritsLoose,n=t.asyncToGenerator,r=t.regeneratorRuntime},function(t){a=t.cclegacy},function(t){o=t.TableManager},function(t){i=t.ModelItemDataChain},function(t){s=t.EChainType},function(t){c=t.ChainContractBase}],execute:function(){a._RF.push({},"d672elqs4VNkJ+VpFpWgjJ4","chain.contract.token.item",void 0);t("ChainContractTokenItem",function(t){function a(){for(var e,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))||this).mLoadMaxItemCount=50,e.approveProxyAddress="",e}e(a,t);var c=a.prototype;return c.initOtherContractAddress=function(t){this.approveProxyAddress=t},c.approveAllItem=function(){var t=n(r().mark((function t(){var e;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!==this.chainSinger&&null!==this.writeContract){t.next=3;break}return console.log("wallet not connected"),t.abrupt("return",null);case 3:return t.next=5,this.writeContract.setApprovalForAll(this.approveProxyAddress,!0,{gasLimit:100000n});case 5:return e=t.sent,t.next=8,e.wait();case 8:return t.abrupt("return",e);case 9:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),c.getAllItemList=function(){var t=n(r().mark((function t(){var e,n,a,o,c,u,l,h,p,m,f,d,g,I,v,x,C,b;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=[],t.prev=1,null!==this.chainSinger&&null!==this.writeContract){t.next=4;break}return t.abrupt("return",null);case 4:if(null!=(n=this.getWalletAddress())&&""!==n){t.next=7;break}return t.abrupt("return",null);case 7:for(a=this._loadAllItemIDs(),o=[],c=Math.ceil(a.length/this.mLoadMaxItemCount),u=0;u<c;u++){for(l=this.mLoadMaxItemCount*u,(h=this.mLoadMaxItemCount*u+this.mLoadMaxItemCount-1)>=a.length&&(h=a.length-1),p=[],m=[],f=l;f<=h;f++)p.push(a[f]),m.push(n);o.push(this._getItemList(m,p))}return t.next=13,Promise.all(o);case 13:for(d=t.sent,g=0;g<c;g++)for(I=d[g],v=0;v<I.length;v++)I[v]>0&&(x=a[g*this.mLoadMaxItemCount+v],C=new i,b={TokenID:x,Amount:I[v]},C.setItemData(b,s.Bera),e.push(C));t.next=20;break;case 17:t.prev=17,t.t0=t.catch(1),console.error(t.t0);case 20:return t.abrupt("return",e);case 21:case"end":return t.stop()}}),t,this,[[1,17]])})));return function(){return t.apply(this,arguments)}}(),c._getItemList=function(t,e){var n=this;return new Promise((function(r,a){n.readContract.balanceOfBatch(t,e).then((function(t){r(t)})).catch((function(t){a(t)}))}))},c._loadAllItemIDs=function(){for(var t=[],e=o.instance.tableItem.getItemArray(),n=0;n<e.length;n++)1===e[n].isOnChain&&t.push(BigInt(e[n].itemId));return t},a}(c));a._RF.pop()}}}));

System.register("chunks:///_virtual/chain.contract.token.item.v1.ts",["./rollupPluginModLoBabelHelpers.js","cc","./chain.contract.token.item.ts"],(function(t){"use strict";var n,c,e;return{setters:[function(t){n=t.inheritsLoose},function(t){c=t.cclegacy},function(t){e=t.ChainContractTokenItem}],execute:function(){c._RF.push({},"e6cc5x/TgZNHrR2cCcMy4LH","chain.contract.token.item.v1",void 0);t("ChainContractTokenItemV1",function(t){function c(){return t.apply(this,arguments)||this}return n(c,t),c}(e));c._RF.pop()}}}));

System.register("chunks:///_virtual/chain.contract.token.item.v2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./chain.contract.token.item.ts"],(function(t){"use strict";var n,e,c;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy},function(t){c=t.ChainContractTokenItem}],execute:function(){e._RF.push({},"d418c58NxJFGKYzeujRgMsT","chain.contract.token.item.v2",void 0);t("ChainContractTokenItemV2",function(t){function e(){return t.apply(this,arguments)||this}return n(e,t),e}(c));e._RF.pop()}}}));

System.register("chunks:///_virtual/chain.contract.token.wizard.ts",["./rollupPluginModLoBabelHelpers.js","cc","./role.data.worker.chain.ts","./enum.chain.type.ts","./chain.contract.base.ts"],(function(t){"use strict";var r,n,e,a,o,i,s;return{setters:[function(t){r=t.inheritsLoose,n=t.asyncToGenerator,e=t.regeneratorRuntime},function(t){a=t.cclegacy},function(t){o=t.RoleDataWorkerChain},function(t){i=t.EChainType},function(t){s=t.ChainContractBase}],execute:function(){a._RF.push({},"06e2cAzV9ZJLqNz8cbk0C0w","chain.contract.token.wizard",void 0);t("ChainContractTokenWizard",function(t){function a(){for(var r,n=arguments.length,e=new Array(n),a=0;a<n;a++)e[a]=arguments[a];return(r=t.call.apply(t,[this].concat(e))||this).mLoadMaxWorkerCount=50,r.approveProxyAddress="",r}r(a,t);var s=a.prototype;return s.initOtherContractAddress=function(t){this.approveProxyAddress=t},s.approveWizard=function(){var t=n(e().mark((function t(r){var n;return e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!==this.chainSinger&&null!==this.writeContract){t.next=3;break}return console.log("wallet not connected"),t.abrupt("return",null);case 3:return t.next=5,this.writeContract.approve(this.approveProxyAddress,r,{gasLimit:100000n});case 5:return n=t.sent,t.next=8,n.wait();case 8:return t.abrupt("return",n);case 9:case"end":return t.stop()}}),t,this)})));return function(r){return t.apply(this,arguments)}}(),s.getAllWizardList=function(){var t=n(e().mark((function t(){var r,n,a,s,c,u,h,l,p,f,d,k,x,C;return e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=[],null!==this.chainSinger&&null!==this.writeContract){t.next=3;break}return t.abrupt("return",null);case 3:if(null!=(n=this.getWalletAddress())&&""!==n){t.next=6;break}return t.abrupt("return",null);case 6:return t.next=8,this.readContract.balanceOf(n);case 8:for(a=t.sent,s=Number(a),c=[],u=Math.ceil(s/this.mLoadMaxWorkerCount),h=0;h<u;h++)l=this.mLoadMaxWorkerCount*h,p=this.mLoadMaxWorkerCount*h+this.mLoadMaxWorkerCount-1,c.push(this._getWizardList(n,l,p));return t.next=15,Promise.all(c);case 15:for(f=t.sent,d=0;d<u;d++)for(k=f[d],x=0;x<k.length;x++)0n!==k[x].TokenID&&((C=new o).setWorkerData(k[x],i.Bera),r.push(C));return t.abrupt("return",r);case 18:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),s._getWizardList=function(t,r,n){var e=this;return new Promise((function(a,o){e.readContract.getWizardTokenList(t,r,n).then((function(t){a(t)})).catch((function(t){o(t)}))}))},a}(s));a._RF.pop()}}}));

System.register("chunks:///_virtual/chain.contract.user.sign.ts",["./rollupPluginModLoBabelHelpers.js","cc","./chain.contract.base.ts"],(function(t){"use strict";var n,r,e,i,c;return{setters:[function(t){n=t.inheritsLoose,r=t.asyncToGenerator,e=t.regeneratorRuntime},function(t){i=t.cclegacy},function(t){c=t.ChainContractBase}],execute:function(){i._RF.push({},"0a6f2AHPqpLw7r/krEWbuDw","chain.contract.user.sign",void 0);t("ChainContractUserSign",function(t){function i(){return t.apply(this,arguments)||this}return n(i,t),i.prototype.daySign=function(){var t=r(e().mark((function t(n){var r;return e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!==this.chainSinger&&null!==this.writeContract){t.next=3;break}return console.log("wallet not connected"),t.abrupt("return",null);case 3:return t.next=5,this.writeContract.signin(n,{gasLimit:70000n});case 5:return r=t.sent,t.next=8,r.wait();case 8:return t.abrupt("return",r);case 9:case"end":return t.stop()}}),t,this)})));return function(n){return t.apply(this,arguments)}}(),i}(c));i._RF.pop()}}}));

System.register("chunks:///_virtual/chain.contract.vesting.pool.ts",["./rollupPluginModLoBabelHelpers.js","cc","./chain.contract.base.ts"],(function(t){"use strict";var e,r,n,a,u;return{setters:[function(t){e=t.inheritsLoose,r=t.asyncToGenerator,n=t.regeneratorRuntime},function(t){a=t.cclegacy},function(t){u=t.ChainContractBase}],execute:function(){a._RF.push({},"2ea63jIAk1FB6ACldIw3b5E","chain.contract.vesting.pool",void 0);t("ChainContractVestingPool",function(t){function a(){return t.apply(this,arguments)||this}e(a,t);var u=a.prototype;return u.getBeneficiaryVesting=function(){var t=r(n().mark((function t(){var e,r,a;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,null!==this.chainSinger&&null!==this.writeContract){t.next=3;break}return t.abrupt("return",null);case 3:if(null!=(e=this.getWalletAddress())&&""!==e){t.next=6;break}return t.abrupt("return",null);case 6:return t.next=8,this.readContract.getBeneficiaryVesting(e);case 8:return r=t.sent,a={lockAmount:r[0],releasedAmount:r[1],finalUnlockTimestamp:Number(r[2]),nextUnlockSecond:Number(r[3]),nextParam:r[4]},t.abrupt("return",a);case 13:return t.prev=13,t.t0=t.catch(0),console.error(t.t0),t.abrupt("return",null);case 17:case"end":return t.stop()}}),t,this,[[0,13]])})));return function(){return t.apply(this,arguments)}}(),u.releaseBeneficiaryVesting=function(){var t=r(n().mark((function t(){var e,r;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,null!==this.chainSinger&&null!==this.writeContract){t.next=3;break}return t.abrupt("return",null);case 3:if(null!=(e=this.getWalletAddress())&&""!==e){t.next=6;break}return t.abrupt("return",null);case 6:return t.next=8,this.writeContract.releaseVesting({gasLimit:250000n});case 8:return r=t.sent,t.next=11,r.wait();case 11:return t.abrupt("return",r);case 14:return t.prev=14,t.t0=t.catch(0),console.error(t.t0),t.abrupt("return",null);case 18:case"end":return t.stop()}}),t,this,[[0,14]])})));return function(){return t.apply(this,arguments)}}(),a}(u));a._RF.pop()}}}));

System.register("chunks:///_virtual/chain.contract.withdraw.item.ts",["./rollupPluginModLoBabelHelpers.js","cc","./chain.contract.base.ts"],(function(t){"use strict";var n,r,e,a,i;return{setters:[function(t){n=t.inheritsLoose,r=t.asyncToGenerator,e=t.regeneratorRuntime},function(t){a=t.cclegacy},function(t){i=t.ChainContractBase}],execute:function(){a._RF.push({},"661fdytTFtLea7LpCcJZgaP","chain.contract.withdraw.item",void 0);t("ChainContractWithdrawItem",function(t){function a(){return t.apply(this,arguments)||this}n(a,t);var i=a.prototype;return i.depositItem=function(){var t=r(e().mark((function t(n,r){var a;return e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!==this.chainSinger&&null!==this.writeContract){t.next=3;break}return console.log("wallet not connected"),t.abrupt("return",null);case 3:return t.next=5,this.writeContract.depositItem(n,r,{gasLimit:300000n});case 5:return a=t.sent,t.next=8,a.wait();case 8:return t.abrupt("return",a);case 9:case"end":return t.stop()}}),t,this)})));return function(n,r){return t.apply(this,arguments)}}(),i.withdrawItem=function(){var t=r(e().mark((function t(n){var r,a,i,c,u;return e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!==this.chainSinger&&null!==this.writeContract){t.next=3;break}return console.log("wallet not connected"),t.abrupt("return",null);case 3:return r=n.withdrawData,a=n.v,i=n.r,c=n.s,t.next=6,this.writeContract.withdrawItem(BigInt(r),a,i,c,{gasLimit:300000n});case 6:return u=t.sent,t.next=9,u.wait();case 9:return t.abrupt("return",u);case 10:case"end":return t.stop()}}),t,this)})));return function(n){return t.apply(this,arguments)}}(),i.convert=function(){var t=r(e().mark((function t(n,r){var a;return e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!==this.chainSinger&&null!==this.writeContract){t.next=3;break}return console.log("wallet not connected"),t.abrupt("return",null);case 3:return t.next=5,this.writeContract.convertItem(BigInt(n),BigInt(r),{gasLimit:300000n});case 5:return a=t.sent,t.next=8,a.wait();case 8:return t.abrupt("return",a);case 9:case"end":return t.stop()}}),t,this)})));return function(n,r){return t.apply(this,arguments)}}(),a}(i));a._RF.pop()}}}));

System.register("chunks:///_virtual/chain.contract.withdraw.wizz.ts",["./rollupPluginModLoBabelHelpers.js","cc","./chain.contract.base.ts"],(function(t){"use strict";var n,r,e,i,a;return{setters:[function(t){n=t.inheritsLoose,r=t.asyncToGenerator,e=t.regeneratorRuntime},function(t){i=t.cclegacy},function(t){a=t.ChainContractBase}],execute:function(){i._RF.push({},"2ff10UzH3tDlp7GbeL3bxRS","chain.contract.withdraw.wizz",void 0);t("ChainContractWithdrawWizz",function(t){function i(){return t.apply(this,arguments)||this}n(i,t);var a=i.prototype;return a.depositWizz=function(){var t=r(e().mark((function t(n){var r;return e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!==this.chainSinger&&null!==this.writeContract){t.next=3;break}return console.log("wallet not connected"),t.abrupt("return",null);case 3:return t.next=5,this.writeContract.depositWizzToken(n,{gasLimit:150000n});case 5:return r=t.sent,t.next=8,r.wait();case 8:return t.abrupt("return",r);case 9:case"end":return t.stop()}}),t,this)})));return function(n){return t.apply(this,arguments)}}(),a.withdrawWizz=function(){var t=r(e().mark((function t(n){var r,i,a,c,u;return e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!==this.chainSinger&&null!==this.writeContract){t.next=3;break}return console.log("wallet not connected"),t.abrupt("return",null);case 3:return r=n.withdrawData,i=n.v,a=n.r,c=n.s,t.next=6,this.writeContract.withdrawWizzToken(BigInt(r),i,a,c,{gasLimit:250000n});case 6:return u=t.sent,t.next=9,u.wait();case 9:return t.abrupt("return",u);case 10:case"end":return t.stop()}}),t,this)})));return function(n){return t.apply(this,arguments)}}(),i}(a));i._RF.pop()}}}));

System.register("chunks:///_virtual/chain.history.interface.ts",["cc"],(function(){"use strict";var t;return{setters:[function(c){t=c.cclegacy}],execute:function(){t._RF.push({},"5b1fdOM8PhBfqSgVuHAIKnR","chain.history.interface",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/chain.history.manager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./base.manager.ts","./event.dispatcher.ts","./event.name.ts","./sdk.manager.ts","./parsers.js","./isToday.js"],(function(t){"use strict";var n,s,e,i,r,a,o,c,l,u;return{setters:[function(t){n=t.inheritsLoose,s=t.createClass},function(t){e=t.cclegacy,i=t._decorator,r=t.sys},function(t){a=t.BaseManager},function(t){o=t.EventDispatcher},function(t){c=t.EventName},function(t){l=t.SDKManager},null,function(t){u=t.isToday}],execute:function(){var h,y;e._RF.push({},"937983HnxxMtZR/kCkrxL2s","chain.history.manager",void 0);var f=i.ccclass;t("ChainHistoryManager",f("ChainHistoryManager")(((y=function(t){function e(){for(var n,s=arguments.length,e=new Array(s),i=0;i<s;i++)e[i]=arguments[i];return(n=t.call.apply(t,[this].concat(e))||this).isLoadedData=!1,n.mCurAddress="",n.mHistory=[],n}n(e,t);var i=e.prototype;return i.addAllManagerEvents=function(){t.prototype.addAllManagerEvents.call(this),o.on(c.ACCOUNT_ME_INFO_INIT,this._onMeInfoInit,this)},i.removeAllManagerEvents=function(){t.prototype.removeAllManagerEvents.call(this),o.on(c.ACCOUNT_ME_INFO_INIT,this._onMeInfoInit,this)},i._onMeInfoInit=function(){var t=l.instance.curSDKPlugin.accountMeInfo;if(t&&t.addressEvm&&""!==t.addressEvm){var n=t.addressEvm.toLowerCase();this.loadAllHistory(n)}},i.addHistory=function(t){this.mHistory.length>100&&this.mHistory.pop(),this.mHistory.unshift(t),this.saveHistoryData()},i.getHistory=function(){return this.mHistory},i.getHistoryBy=function(t,n){return this.mHistory.filter((function(s){if("send_coin"===s.type){var e=s;if(e.chainId===t&&e.coinSymbol===n)return!0}return!1}))},i.getLastBeraTodaySignTx=function(){for(var t=0;t<this.mHistory.length;t+=1){var n=this.mHistory[t];if("contract_interaction"===n.type){var s=n;if("bera_day_signin"===s.detail&&u(new Date(1e3*s.timestamp)))return n.txHash[0]}}return""},i.getTargetKey=function(){return"history-"+this.mCurAddress},i.loadAllHistory=function(t){if(this.mCurAddress!==t)try{this.mCurAddress=t;var n=r.localStorage.getItem(this.getTargetKey());if(null==n)this.mHistory=[];else{var s,e=JSON.parse(n);(s=this.mHistory).push.apply(s,e)}}catch(t){console.log(t),this.mHistory=[]}finally{this.isLoadedData=!0}},i.saveHistoryData=function(){if(""!==this.mCurAddress)try{var t=JSON.stringify(this.mHistory);r.localStorage.setItem(this.getTargetKey(),t)}catch(t){console.log(t)}},s(e,null,[{key:"instance",get:function(){return null==this._instance&&(this._instance=new e),this._instance}}]),e}(a))._instance=null,h=y))||h);e._RF.pop()}}}));

System.register("chunks:///_virtual/chain.operate.bgt.boost.queue.cancel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./event.dispatcher.ts","./event.name.ts","./chain.system.ts","./bera.swap.mainnet.ts","./project.bera.mainnet.ts","./project.bera.testnet.ts","./chain.history.manager.ts","./chain.operate.interface.ts"],(function(e){"use strict";var t,n,r,a,c,s,u,o,i,p,f;return{setters:[function(e){t=e.asyncToGenerator,n=e.regeneratorRuntime},function(e){r=e.cclegacy},function(e){a=e.EventDispatcher},function(e){c=e.EventName},function(e){s=e.ChainSystem},function(e){u=e.BeraSwapMainnet},function(e){o=e.BERA_MAINNET_CONFIG},function(e){i=e.BERA_TESTNET_CONFIG},function(e){p=e.ChainHistoryManager},function(e){f=e.ChainOperateStatus}],execute:function(){r._RF.push({},"ce2a2XC2LZLj5atstSvC5eX","chain.operate.bgt.boost.queue.cancel",void 0);e("ChainOperateBGTBoostQueueCancel",function(){function e(){}return e.popConfirm=function(){var e=t(n().mark((function e(r,p){var l=this;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){if(s.instance.checkWalletStatus()){var h=s.instance.useBeraChainId,d=null;h!==i.id&&h!==o.id||(d=s.instance.beraBGTCoin);var b,m={type:"bgt_boost_queue_cancel",chainId:u.instance.useChainId,pubKey:r,amount:p,maxGas:198000n,contractAddress:d.useBgtContract.contractConfig.address,funcName:"cancelBoost",doOperate:(b=t(n().mark((function e(){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.doOperate(h,r,p);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),function(){return b.apply(this,arguments)}),onClose:function(t){e(t)}};a.emit(c.UI_WALLET_OPERATE_OPEN,m)}else e(f.WalletTip)})));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),e.doOperate=function(){var e=t(n().mark((function e(t,r,a){var c,u,f;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,c=null,t!==i.id&&t!==o.id||(c=s.instance.beraBGTCoin),null!==c){e.next=5;break}return e.abrupt("return",{success:!1});case 5:return e.next=7,c.cancelQueueBoost(r,a);case 7:return u=e.sent,f={type:"bgt_boost_queue_cancel",amount:a,pubKey:r,chainId:t,timestamp:Date.now()/1e3,txHash:[u.hash]},p.instance.addHistory(f),e.abrupt("return",{success:!0,txs:[u]});case 13:return e.prev=13,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",{success:!1});case 17:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t,n,r){return e.apply(this,arguments)}}(),e}());r._RF.pop()}}}));

System.register("chunks:///_virtual/chain.operate.bgt.boost.queue.confirm.ts",["./rollupPluginModLoBabelHelpers.js","cc","./event.dispatcher.ts","./event.name.ts","./chain.system.ts","./bera.swap.mainnet.ts","./project.bera.mainnet.ts","./project.bera.testnet.ts","./chain.history.manager.ts","./chain.operate.interface.ts"],(function(t){"use strict";var e,n,r,a,c,s,u,i,o,p,f;return{setters:[function(t){e=t.asyncToGenerator,n=t.regeneratorRuntime},function(t){r=t.cclegacy},function(t){a=t.EventDispatcher},function(t){c=t.EventName},function(t){s=t.ChainSystem},function(t){u=t.BeraSwapMainnet},function(t){i=t.BERA_MAINNET_CONFIG},function(t){o=t.BERA_TESTNET_CONFIG},function(t){p=t.ChainHistoryManager},function(t){f=t.ChainOperateStatus}],execute:function(){r._RF.push({},"bcc62VPEVZEj6n0+xqLDl+P","chain.operate.bgt.boost.queue.confirm",void 0);t("ChainOperateBGTBoostQueueConfirm",function(){function t(){}return t.popConfirm=function(){var t=e(n().mark((function t(r){var p=this;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t){if(s.instance.checkWalletStatus()){var h=s.instance.useBeraChainId,l=null;h!==o.id&&h!==i.id||(l=s.instance.beraBGTCoin);var m,b={type:"bgt_boost_queue_confirm",chainId:u.instance.useChainId,pubKey:r,maxGas:198000n,contractAddress:l.useBgtContract.contractConfig.address,funcName:"activateBoost",doOperate:(m=e(n().mark((function t(){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p.doOperate(h,r);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))),function(){return m.apply(this,arguments)}),onClose:function(e){t(e)}};a.emit(c.UI_WALLET_OPERATE_OPEN,b)}else t(f.WalletTip)})));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),t.doOperate=function(){var t=e(n().mark((function t(e,r){var a,c,u;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,a=null,e!==o.id&&e!==i.id||(a=s.instance.beraBGTCoin),null!==a){t.next=5;break}return t.abrupt("return",{success:!1});case 5:return t.next=7,a.comfirmQueueBoost(r);case 7:return c=t.sent,u={type:"bgt_boost_queue_confirm",pubKey:r,chainId:e,timestamp:Date.now()/1e3,txHash:[c.hash]},p.instance.addHistory(u),t.abrupt("return",{success:!0,txs:[c]});case 13:return t.prev=13,t.t0=t.catch(0),console.log(t.t0),t.abrupt("return",{success:!1});case 17:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e,n){return t.apply(this,arguments)}}(),t}());r._RF.pop()}}}));

System.register("chunks:///_virtual/chain.operate.bgt.boost.ts",["./rollupPluginModLoBabelHelpers.js","cc","./event.dispatcher.ts","./event.name.ts","./chain.system.ts","./bera.swap.mainnet.ts","./project.bera.mainnet.ts","./project.bera.testnet.ts","./chain.history.manager.ts","./chain.operate.interface.ts"],(function(t){"use strict";var e,n,r,a,s,c,o,u,i,p,f;return{setters:[function(t){e=t.asyncToGenerator,n=t.regeneratorRuntime},function(t){r=t.cclegacy},function(t){a=t.EventDispatcher},function(t){s=t.EventName},function(t){c=t.ChainSystem},function(t){o=t.BeraSwapMainnet},function(t){u=t.BERA_MAINNET_CONFIG},function(t){i=t.BERA_TESTNET_CONFIG},function(t){p=t.ChainHistoryManager},function(t){f=t.ChainOperateStatus}],execute:function(){r._RF.push({},"9edfeWs+dJIXqPbt95Rotwr","chain.operate.bgt.boost",void 0);t("ChainOperateBGTBoost",function(){function t(){}return t.popConfirm=function(){var t=e(n().mark((function t(r,p){var h=this;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t){if(c.instance.checkWalletStatus()){var d=c.instance.useBeraChainId,l=null;d!==i.id&&d!==u.id||(l=c.instance.beraBGTCoin);var b,m={type:"bgt_boost",chainId:o.instance.useChainId,pubKey:r,amount:p,maxGas:198000n,contractAddress:l.useBgtContract.contractConfig.address,funcName:"queueBoost",doOperate:(b=e(n().mark((function t(){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h.doOperate(d,r,p);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))),function(){return b.apply(this,arguments)}),onClose:function(e){t(e)}};a.emit(s.UI_WALLET_OPERATE_OPEN,m)}else t(f.WalletTip)})));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),t.doOperate=function(){var t=e(n().mark((function t(e,r,a){var s,o,f;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,s=null,e!==i.id&&e!==u.id||(s=c.instance.beraBGTCoin),null!==s){t.next=5;break}return t.abrupt("return",{success:!1});case 5:return t.next=7,s.addBoost(r,a);case 7:return o=t.sent,f={type:"bgt_boost",amount:a,pubKey:r,chainId:e,timestamp:Date.now()/1e3,txHash:[o.hash]},p.instance.addHistory(f),t.abrupt("return",{success:!0,txs:[o]});case 13:return t.prev=13,t.t0=t.catch(0),console.log(t.t0),t.abrupt("return",{success:!1});case 17:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e,n,r){return t.apply(this,arguments)}}(),t}());r._RF.pop()}}}));

System.register("chunks:///_virtual/chain.operate.bgt.unboost.queue.cancel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./event.dispatcher.ts","./event.name.ts","./chain.system.ts","./bera.swap.mainnet.ts","./project.bera.mainnet.ts","./project.bera.testnet.ts","./chain.history.manager.ts","./chain.operate.interface.ts"],(function(e){"use strict";var n,t,r,a,c,u,s,o,i,p,f;return{setters:[function(e){n=e.asyncToGenerator,t=e.regeneratorRuntime},function(e){r=e.cclegacy},function(e){a=e.EventDispatcher},function(e){c=e.EventName},function(e){u=e.ChainSystem},function(e){s=e.BeraSwapMainnet},function(e){o=e.BERA_MAINNET_CONFIG},function(e){i=e.BERA_TESTNET_CONFIG},function(e){p=e.ChainHistoryManager},function(e){f=e.ChainOperateStatus}],execute:function(){r._RF.push({},"fdfec5WmxdNJpnFla/cUB3B","chain.operate.bgt.unboost.queue.cancel",void 0);e("ChainOperateBGTUnboostQueueCancel",function(){function e(){}return e.popConfirm=function(){var e=n(t().mark((function e(r,p){var l=this;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){if(u.instance.checkWalletStatus()){var h=u.instance.useBeraChainId,d=null;h!==i.id&&h!==o.id||(d=u.instance.beraBGTCoin);var b,m={type:"bgt_unboost_queue_cancel",chainId:s.instance.useChainId,pubKey:r,amount:p,maxGas:198000n,contractAddress:d.useBgtContract.contractConfig.address,funcName:"cancelDropBoost",doOperate:(b=n(t().mark((function e(){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.doOperate(h,r,p);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),function(){return b.apply(this,arguments)}),onClose:function(n){e(n)}};a.emit(c.UI_WALLET_OPERATE_OPEN,m)}else e(f.WalletTip)})));case 1:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),e.doOperate=function(){var e=n(t().mark((function e(n,r,a){var c,s,f;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,c=null,n!==i.id&&n!==o.id||(c=u.instance.beraBGTCoin),null!==c){e.next=5;break}return e.abrupt("return",{success:!1});case 5:return e.next=7,c.cancelQueueUnboost(r,a);case 7:return s=e.sent,f={type:"bgt_unboost_queue_cancel",amount:a,pubKey:r,chainId:n,timestamp:Date.now()/1e3,txHash:[s.hash]},p.instance.addHistory(f),e.abrupt("return",{success:!0,txs:[s]});case 13:return e.prev=13,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",{success:!1});case 17:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(n,t,r){return e.apply(this,arguments)}}(),e}());r._RF.pop()}}}));

System.register("chunks:///_virtual/chain.operate.bgt.unboost.queue.confirm.ts",["./rollupPluginModLoBabelHelpers.js","cc","./event.dispatcher.ts","./event.name.ts","./chain.system.ts","./bera.swap.mainnet.ts","./project.bera.mainnet.ts","./project.bera.testnet.ts","./chain.history.manager.ts","./chain.operate.interface.ts"],(function(e){"use strict";var n,t,r,a,s,u,c,o,i,p,f;return{setters:[function(e){n=e.asyncToGenerator,t=e.regeneratorRuntime},function(e){r=e.cclegacy},function(e){a=e.EventDispatcher},function(e){s=e.EventName},function(e){u=e.ChainSystem},function(e){c=e.BeraSwapMainnet},function(e){o=e.BERA_MAINNET_CONFIG},function(e){i=e.BERA_TESTNET_CONFIG},function(e){p=e.ChainHistoryManager},function(e){f=e.ChainOperateStatus}],execute:function(){r._RF.push({},"50988o8OsVDy6Dv3cJqmge/","chain.operate.bgt.unboost.queue.confirm",void 0);e("ChainOperateBGTUnboostQueueConfirm",function(){function e(){}return e.popConfirm=function(){var e=n(t().mark((function e(r){var p=this;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){if(u.instance.checkWalletStatus()){var h=u.instance.useBeraChainId,m=null;h!==i.id&&h!==o.id||(m=u.instance.beraBGTCoin);var l,b={type:"bgt_unboost_queue_confirm",chainId:c.instance.useChainId,pubKey:r,maxGas:198000n,contractAddress:m.useBgtContract.contractConfig.address,funcName:"dropBoost",doOperate:(l=n(t().mark((function e(){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.doOperate(h,r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),function(){return l.apply(this,arguments)}),onClose:function(n){e(n)}};a.emit(s.UI_WALLET_OPERATE_OPEN,b)}else e(f.WalletTip)})));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),e.doOperate=function(){var e=n(t().mark((function e(n,r){var a,s,c;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,a=null,n!==i.id&&n!==o.id||(a=u.instance.beraBGTCoin),null!==a){e.next=5;break}return e.abrupt("return",{success:!1});case 5:return e.next=7,a.comfirmQueueUnboost(r);case 7:return s=e.sent,c={type:"bgt_unboost_queue_confirm",pubKey:r,chainId:n,timestamp:Date.now()/1e3,txHash:[s.hash]},p.instance.addHistory(c),e.abrupt("return",{success:!0,txs:[s]});case 13:return e.prev=13,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",{success:!1});case 17:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(n,t){return e.apply(this,arguments)}}(),e}());r._RF.pop()}}}));

System.register("chunks:///_virtual/chain.operate.bgt.unboost.ts",["./rollupPluginModLoBabelHelpers.js","cc","./event.dispatcher.ts","./event.name.ts","./chain.system.ts","./bera.swap.mainnet.ts","./project.bera.mainnet.ts","./project.bera.testnet.ts","./chain.history.manager.ts","./chain.operate.interface.ts"],(function(t){"use strict";var n,e,r,a,s,u,c,o,i,p,f;return{setters:[function(t){n=t.asyncToGenerator,e=t.regeneratorRuntime},function(t){r=t.cclegacy},function(t){a=t.EventDispatcher},function(t){s=t.EventName},function(t){u=t.ChainSystem},function(t){c=t.BeraSwapMainnet},function(t){o=t.BERA_MAINNET_CONFIG},function(t){i=t.BERA_TESTNET_CONFIG},function(t){p=t.ChainHistoryManager},function(t){f=t.ChainOperateStatus}],execute:function(){r._RF.push({},"98319OTIl5M2oem+xSmkuyN","chain.operate.bgt.unboost",void 0);t("ChainOperateBGTUnboost",function(){function t(){}return t.popConfirm=function(){var t=n(e().mark((function t(r,p){var h=this;return e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t){if(u.instance.checkWalletStatus()){var l=u.instance.useBeraChainId,m=null;l!==i.id&&l!==o.id||(m=u.instance.beraBGTCoin);var b,d={type:"bgt_unboost",chainId:c.instance.useChainId,pubKey:r,amount:p,maxGas:198000n,contractAddress:m.useBgtContract.contractConfig.address,funcName:"queueDropBoost",doOperate:(b=n(e().mark((function t(){return e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h.doOperate(l,r,p);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))),function(){return b.apply(this,arguments)}),onClose:function(n){t(n)}};a.emit(s.UI_WALLET_OPERATE_OPEN,d)}else t(f.WalletTip)})));case 1:case"end":return t.stop()}}),t)})));return function(n,e){return t.apply(this,arguments)}}(),t.doOperate=function(){var t=n(e().mark((function t(n,r,a){var s,c,f;return e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,s=null,n!==i.id&&n!==o.id||(s=u.instance.beraBGTCoin),null!==s){t.next=5;break}return t.abrupt("return",{success:!1});case 5:return t.next=7,s.removeBoost(r,a);case 7:return c=t.sent,f={type:"bgt_unboost",amount:a,pubKey:r,chainId:n,timestamp:Date.now()/1e3,txHash:[c.hash]},p.instance.addHistory(f),t.abrupt("return",{success:!0,txs:[c]});case 13:return t.prev=13,t.t0=t.catch(0),console.log(t.t0),t.abrupt("return",{success:!1});case 17:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(n,e,r){return t.apply(this,arguments)}}(),t}());r._RF.pop()}}}));

System.register("chunks:///_virtual/chain.operate.change.item.contract.ts",["./rollupPluginModLoBabelHelpers.js","cc","./event.dispatcher.ts","./event.name.ts","./chain.system.ts","./project.bera.mainnet.ts","./project.bera.testnet.ts","./chain.history.manager.ts","./chain.operate.interface.ts"],(function(t){"use strict";var e,n,r,a,c,i,s,u,o,p;return{setters:[function(t){e=t.asyncToGenerator,n=t.regeneratorRuntime},function(t){r=t.cclegacy},function(t){a=t.EventDispatcher},function(t){c=t.EventName},function(t){i=t.ChainSystem},function(t){s=t.BERA_MAINNET_CONFIG},function(t){u=t.BERA_TESTNET_CONFIG},function(t){o=t.ChainHistoryManager},function(t){p=t.ChainOperateStatus}],execute:function(){r._RF.push({},"bdc2c1eqDhMBJvHmIlmQLCw","chain.operate.change.item.contract",void 0);t("ChainOperateChangeItemContract",function(){function t(){}return t.popConfirm=function(){var t=e(n().mark((function t(r,o){var h=this;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t){if(i.instance.checkWalletStatus()){var f=i.instance.useBeraChainId,m=null;f!==u.id&&f!==s.id||(m=i.instance.beraContractWithdrawItem);var l,d={type:"change_item_contract",chainId:f,itemId:r,itemAmount:o,maxGas:330000n,contractAddress:m.contractConfig.address,funcName:"convert",doOperate:(l=e(n().mark((function t(){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h.doOperate(f,r,o);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))),function(){return l.apply(this,arguments)}),onClose:function(e){t(e)}};a.emit(c.UI_WALLET_OPERATE_OPEN,d)}else t(p.WalletTip)})));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),t.doOperate=function(){var t=e(n().mark((function t(e,r,a){var c,p,h,f,m;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,c=null,p=null,h=null,e!==u.id&&e!==s.id||(c=i.instance.beraContractApproveProxy,h=i.instance.beraContractWithdrawItem,p=i.instance.beraContractItemV1),null!==c&&null!==h){t.next=7;break}return t.abrupt("return",{success:!1});case 7:return t.next=9,c.checkItemV1Approve();case 9:if(t.sent){t.next=13;break}return t.next=13,p.approveAllItem();case 13:return t.next=15,h.convert(r,a);case 15:return f=t.sent,m={type:"change_item_contract",itemId:r,itemAmount:a,chainId:e,timestamp:Date.now()/1e3,txHash:[f.hash]},o.instance.addHistory(m),t.abrupt("return",{success:!0,txs:[f]});case 21:return t.prev=21,t.t0=t.catch(0),console.log(t.t0),t.abrupt("return",{success:!1});case 25:case"end":return t.stop()}}),t,null,[[0,21]])})));return function(e,n,r){return t.apply(this,arguments)}}(),t}());r._RF.pop()}}}));

System.register("chunks:///_virtual/chain.operate.day.signin.ts",["./rollupPluginModLoBabelHelpers.js","cc","./event.dispatcher.ts","./event.name.ts","./model.mainrole.manager.ts","./chain.system.ts","./project.bera.testnet.ts","./chain.history.manager.ts","./chain.operate.interface.ts"],(function(n){"use strict";var e,t,r,a,i,c,s,u,o,p;return{setters:[function(n){e=n.asyncToGenerator,t=n.regeneratorRuntime},function(n){r=n.cclegacy},function(n){a=n.EventDispatcher},function(n){i=n.EventName},function(n){c=n.ModelMainRoleManager},function(n){s=n.ChainSystem},function(n){u=n.BERA_TESTNET_CONFIG},function(n){o=n.ChainHistoryManager},function(n){p=n.ChainOperateStatus}],execute:function(){r._RF.push({},"ef976MgcxNOQL9/1X2iLQIo","chain.operate.day.signin",void 0);n("ChainOperateDaySignin",function(){function n(){}return n.popConfirm=function(){var n=e(t().mark((function n(r){var o=this;return t().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",new Promise((function(n){if(s.instance.checkWalletStatus()){var f=null;r===u.id&&(f=s.instance.beraTestnetDaySignin);var l,d=Number(c.instance.AccountId),h={type:"bera_day_signin",chainId:r,accountId:d,maxGas:70000n,contractAddress:f.contractConfig.address,funcName:"daySign",doOperate:(l=e(t().mark((function n(){return t().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.doOperate(r,d);case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)}))),function(){return l.apply(this,arguments)}),onClose:function(e){n(e)}};a.emit(i.UI_WALLET_OPERATE_OPEN,h)}else n(p.WalletTip)})));case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),n.doOperate=function(){var n=e(t().mark((function n(e,r){var a,i,c;return t().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,a=null,e===u.id&&(a=s.instance.beraTestnetDaySignin),null!==a){n.next=5;break}return n.abrupt("return",{success:!1});case 5:return n.next=7,a.daySign(r);case 7:return i=n.sent,c={type:"contract_interaction",detail:"bera_day_signin",chainId:e,timestamp:Date.now()/1e3,txHash:[i.hash]},o.instance.addHistory(c),n.abrupt("return",{success:!0,txs:[i]});case 13:return n.prev=13,n.t0=n.catch(0),console.log(n.t0),n.abrupt("return",{success:!1});case 17:case"end":return n.stop()}}),n,null,[[0,13]])})));return function(e,t){return n.apply(this,arguments)}}(),n}());r._RF.pop()}}}));

System.register("chunks:///_virtual/chain.operate.deposit.item.ts",["./rollupPluginModLoBabelHelpers.js","cc","./event.dispatcher.ts","./event.name.ts","./chain.system.ts","./project.bera.mainnet.ts","./project.bera.testnet.ts","./chain.history.manager.ts","./chain.operate.interface.ts"],(function(t){"use strict";var e,n,r,a,i,s,c,u,o,p;return{setters:[function(t){e=t.asyncToGenerator,n=t.regeneratorRuntime},function(t){r=t.cclegacy},function(t){a=t.EventDispatcher},function(t){i=t.EventName},function(t){s=t.ChainSystem},function(t){c=t.BERA_MAINNET_CONFIG},function(t){u=t.BERA_TESTNET_CONFIG},function(t){o=t.ChainHistoryManager},function(t){p=t.ChainOperateStatus}],execute:function(){r._RF.push({},"01f54lJrtpFmLJ1+f4yfqFD","chain.operate.deposit.item",void 0);t("ChainOperateDepositItem",function(){function t(){}return t.popConfirm=function(){var t=e(n().mark((function t(r,o){var f=this;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t){if(s.instance.checkWalletStatus()){var l=s.instance.useBeraChainId,m=null;l!==u.id&&l!==c.id||(m=s.instance.beraContractWithdrawItem);var d,h={type:"deposit_item",chainId:l,itemId:r,itemAmount:o,maxGas:330000n,contractAddress:m.contractConfig.address,funcName:"depositItem",doOperate:(d=e(n().mark((function t(){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f.doOperate(l,r,o);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))),function(){return d.apply(this,arguments)}),onClose:function(e){t(e)}};a.emit(i.UI_WALLET_OPERATE_OPEN,h)}else t(p.WalletTip)})));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),t.doOperate=function(){var t=e(n().mark((function t(e,r,a){var i,p,f,l,m;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,i=null,p=null,f=null,e!==u.id&&e!==c.id||(i=s.instance.beraContractApproveProxy,p=s.instance.beraContractItemV2,f=s.instance.beraContractWithdrawItem),null!==i&&null!==p&&null!==f){t.next=7;break}return t.abrupt("return",{success:!1});case 7:return t.next=9,i.checkItemApprove();case 9:if(t.sent){t.next=13;break}return t.next=13,p.approveAllItem();case 13:return t.next=15,f.depositItem(BigInt(r),BigInt(a));case 15:return l=t.sent,m={type:"deposit_item",itemId:r,itemAmount:a,chainId:e,timestamp:Date.now()/1e3,txHash:[l.hash]},o.instance.addHistory(m),t.abrupt("return",{success:!0,txs:[l]});case 21:return t.prev=21,t.t0=t.catch(0),console.log(t.t0),t.abrupt("return",{success:!1});case 25:case"end":return t.stop()}}),t,null,[[0,21]])})));return function(e,n,r){return t.apply(this,arguments)}}(),t}());r._RF.pop()}}}));

System.register("chunks:///_virtual/chain.operate.deposit.wizard.ts",["./rollupPluginModLoBabelHelpers.js","cc","./event.dispatcher.ts","./event.name.ts","./chain.system.ts","./project.bera.mainnet.ts","./project.bera.testnet.ts","./chain.history.manager.ts","./chain.operate.interface.ts"],(function(t){"use strict";var e,n,r,a,i,c,s,u,o,p;return{setters:[function(t){e=t.asyncToGenerator,n=t.regeneratorRuntime},function(t){r=t.cclegacy},function(t){a=t.EventDispatcher},function(t){i=t.EventName},function(t){c=t.ChainSystem},function(t){s=t.BERA_MAINNET_CONFIG},function(t){u=t.BERA_TESTNET_CONFIG},function(t){o=t.ChainHistoryManager},function(t){p=t.ChainOperateStatus}],execute:function(){r._RF.push({},"c5f7bYAU3lJbK2SX5SUmQru","chain.operate.deposit.wizard",void 0);t("ChainOperateDepositWizard",function(){function t(){}return t.popConfirm=function(){var t=e(n().mark((function t(r){var o=this;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t){if(c.instance.checkWalletStatus()){var d=c.instance.useBeraChainId,f=null;d!==u.id&&d!==s.id||(f=c.instance.beraContractStakeWizard);var l,h={type:"deposit_wizard",chainId:d,wizardDataId:r,maxGas:330000n,contractAddress:f.contractConfig.address,funcName:"depositWizard",doOperate:(l=e(n().mark((function t(){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.doOperate(d,r);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))),function(){return l.apply(this,arguments)}),onClose:function(e){t(e)}};a.emit(i.UI_WALLET_OPERATE_OPEN,h)}else t(p.WalletTip)})));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),t.doOperate=function(){var t=e(n().mark((function t(e,r){var a,i,p,d,f,l;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,a=null,i=null,p=null,e!==u.id&&e!==s.id||(a=c.instance.beraContractApproveProxy,i=c.instance.beraContractWizard,p=c.instance.beraContractStakeWizard),null!==a&&null!==i&&null!==p){t.next=7;break}return t.abrupt("return",{success:!1});case 7:return d=BigInt(r),t.next=10,a.checkWizardApprove(d);case 10:if(t.sent){t.next=14;break}return t.next=14,i.approveWizard(d);case 14:return t.next=16,p.depositWizardToken(d);case 16:return f=t.sent,l={type:"deposit_wizard",wizardDataId:r,chainId:e,timestamp:Date.now()/1e3,txHash:[f.hash]},o.instance.addHistory(l),t.abrupt("return",{success:!0,txs:[f]});case 22:return t.prev=22,t.t0=t.catch(0),console.log(t.t0),t.abrupt("return",{success:!1});case 26:case"end":return t.stop()}}),t,null,[[0,22]])})));return function(e,n){return t.apply(this,arguments)}}(),t}());r._RF.pop()}}}));

System.register("chunks:///_virtual/chain.operate.deposit.wizz.ts",["./rollupPluginModLoBabelHelpers.js","cc","./event.dispatcher.ts","./event.name.ts","./use.ethers.ts","./chain.system.ts","./project.bera.mainnet.ts","./project.bera.testnet.ts","./chain.history.manager.ts","./chain.operate.interface.ts"],(function(t){"use strict";var e,n,r,a,i,s,c,u,o,p,f;return{setters:[function(t){e=t.asyncToGenerator,n=t.regeneratorRuntime},function(t){r=t.cclegacy},function(t){a=t.EventDispatcher},function(t){i=t.EventName},function(t){s=t.parseEther},function(t){c=t.ChainSystem},function(t){u=t.BERA_MAINNET_CONFIG},function(t){o=t.BERA_TESTNET_CONFIG},function(t){p=t.ChainHistoryManager},function(t){f=t.ChainOperateStatus}],execute:function(){r._RF.push({},"63e8bOQHCFMpq5IDkGbsg/g","chain.operate.deposit.wizz",void 0);t("ChainOperateDepositWizz",function(){function t(){}return t.popConfirm=function(){var t=e(n().mark((function t(r){var s=this;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t){if(c.instance.checkWalletStatus()){var p=c.instance.useBeraChainId,h=null;p!==o.id&&p!==u.id||(h=c.instance.beraContractWithdrawWizz);var l,d={type:"deposit_wizz",chainId:p,amount:r,maxGas:165000n,contractAddress:h.contractConfig.address,funcName:"depositWizz",doOperate:(l=e(n().mark((function t(){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.doOperate(p,r);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))),function(){return l.apply(this,arguments)}),onClose:function(e){t(e)}};a.emit(i.UI_WALLET_OPERATE_OPEN,d)}else t(f.WalletTip)})));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),t.doOperate=function(){var t=e(n().mark((function t(e,r){var a,i,f,h,l,d,z;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,a=null,i=null,f=null,e!==o.id&&e!==u.id||(a=c.instance.beraContractApproveProxy,i=c.instance.beraContractWizz,f=c.instance.beraContractWithdrawWizz),null!==a&&null!==i&&null!==f){t.next=7;break}return t.abrupt("return",{success:!1});case 7:return h=BigInt(r),l=s(h.toString()),t.next=11,a.checkWizzApprove();case 11:if(!(t.sent<l)){t.next=15;break}return t.next=15,i.approveTo(l);case 15:return t.next=17,f.depositWizz(h);case 17:return d=t.sent,z={type:"deposit_wizz",amount:r,chainId:e,timestamp:Date.now()/1e3,txHash:[d.hash]},p.instance.addHistory(z),t.abrupt("return",{success:!0,txs:[d]});case 23:return t.prev=23,t.t0=t.catch(0),console.log(t.t0),t.abrupt("return",{success:!1});case 27:case"end":return t.stop()}}),t,null,[[0,23]])})));return function(e,n){return t.apply(this,arguments)}}(),t}());r._RF.pop()}}}));

System.register("chunks:///_virtual/chain.operate.dex.liquidity.add.ts",["./rollupPluginModLoBabelHelpers.js","cc","./event.dispatcher.ts","./event.name.ts","./chain.system.ts","./bera.swap.mainnet.ts","./chain.history.manager.ts","./chain.operate.interface.ts"],(function(e){"use strict";var t,n,a,r,i,s,c,u,o;return{setters:[function(e){t=e.asyncToGenerator,n=e.regeneratorRuntime},function(e){a=e.cclegacy},function(e){r=e.EventDispatcher},function(e){i=e.EventName},function(e){s=e.ChainSystem},function(e){c=e.BeraSwapMainnet},function(e){u=e.ChainHistoryManager},function(e){o=e.ChainOperateStatus}],execute:function(){a._RF.push({},"32cddbgdWBN45jG3fqDckCr","chain.operate.dex.liquidity.add",void 0);e("ChainOperateDexLiquidityAdd",function(){function e(){}return e.popConfirm=function(){var e=t(n().mark((function e(a,u,p,d,f){var l=this;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){if(s.instance.checkWalletStatus())if(s.instance.isUseBeraMainnetSwap){var h,y={type:"dex_liquidity_add",chainId:c.instance.useChainId,poolId:a,tokenList:u,keepBalanced:d,slippageTolerance:f,maxGas:660000n,doOperate:(h=t(n().mark((function e(){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.doOperate(a,u,p,d,f);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),function(){return h.apply(this,arguments)}),onClose:function(t){e(t)}};r.emit(i.UI_WALLET_OPERATE_OPEN,y)}else e(o.WalletTip);else e(o.WalletTip)})));case 1:case"end":return e.stop()}}),e)})));return function(t,n,a,r,i){return e.apply(this,arguments)}}(),e.doOperate=function(){var e=t(n().mark((function e(t,a,r,i,s){var o,p,d;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,o=c.instance,!i){e.next=8;break}return e.next=5,o.addLiquidityProportionalFunction(t,a,r,s);case 5:p=e.sent,e.next=11;break;case 8:return e.next=10,o.addLiquidityUnbalancedFunction(t,a,s);case 10:p=e.sent;case 11:return d={type:"dex_liquidity_add",chainId:o.useChainId,poolId:t,timestamp:Date.now()/1e3,txHash:[p.hash]},u.instance.addHistory(d),e.abrupt("return",{success:!0,txs:[p]});case 16:return e.prev=16,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",{success:!1});case 20:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(t,n,a,r,i){return e.apply(this,arguments)}}(),e}());a._RF.pop()}}}));

System.register("chunks:///_virtual/chain.operate.dex.liquidity.remove.ts",["./rollupPluginModLoBabelHelpers.js","cc","./event.dispatcher.ts","./event.name.ts","./chain.system.ts","./bera.swap.mainnet.ts","./chain.history.manager.ts","./chain.operate.interface.ts"],(function(e){"use strict";var t,n,r,a,i,s,c,u,o;return{setters:[function(e){t=e.asyncToGenerator,n=e.regeneratorRuntime},function(e){r=e.cclegacy},function(e){a=e.EventDispatcher},function(e){i=e.EventName},function(e){s=e.ChainSystem},function(e){c=e.BeraSwapMainnet},function(e){u=e.ChainHistoryManager},function(e){o=e.ChainOperateStatus}],execute:function(){r._RF.push({},"dd584o4wblPKJrJH37j9TvB","chain.operate.dex.liquidity.remove",void 0);e("ChainOperateDexLiquidityRemove",function(){function e(){}return e.popConfirm=function(){var e=t(n().mark((function e(r,u,p,l,f,d){var h=this;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){if(s.instance.checkWalletStatus())if(s.instance.isUseBeraMainnetSwap){var v,m={type:"dex_liquidity_remove",chainId:c.instance.useChainId,poolId:r,tokenList:u,lpValue:p,outAddress:l,slippageTolerance:f,maxGas:660000n,doOperate:(v=t(n().mark((function e(){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.doOperate(r,u,p,l,f,d);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),function(){return v.apply(this,arguments)}),onClose:function(t){e(t)}};a.emit(i.UI_WALLET_OPERATE_OPEN,m)}else e(o.WalletTip);else e(o.WalletTip)})));case 1:case"end":return e.stop()}}),e)})));return function(t,n,r,a,i,s){return e.apply(this,arguments)}}(),e.doOperate=function(){var e=t(n().mark((function e(t,r,a,i,s,o){var p,l,f;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,p=c.instance,!o){e.next=8;break}return e.next=5,p.removeLiquiditySingleTokenExactInFunction(t,i,a,s);case 5:l=e.sent,e.next=11;break;case 8:return e.next=10,p.removeLiquidityProportionalFunction(t,a,s);case 10:l=e.sent;case 11:return f={type:"dex_liquidity_remove",poolId:t,chainId:p.useChainId,timestamp:Date.now()/1e3,txHash:[l.hash]},u.instance.addHistory(f),e.abrupt("return",{success:!0,txs:[l]});case 16:return e.prev=16,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",{success:!1});case 20:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(t,n,r,a,i,s){return e.apply(this,arguments)}}(),e}());r._RF.pop()}}}));

System.register("chunks:///_virtual/chain.operate.dex.swap.ts",["./rollupPluginModLoBabelHelpers.js","cc","./event.dispatcher.ts","./event.name.ts","./chain.system.ts","./bera.swap.mainnet.ts","./chain.history.manager.ts","./chain.operate.interface.ts"],(function(n){"use strict";var e,t,r,a,s,i,c,u,o;return{setters:[function(n){e=n.asyncToGenerator,t=n.regeneratorRuntime},function(n){r=n.cclegacy},function(n){a=n.EventDispatcher},function(n){s=n.EventName},function(n){i=n.ChainSystem},function(n){c=n.BeraSwapMainnet},function(n){u=n.ChainHistoryManager},function(n){o=n.ChainOperateStatus}],execute:function(){r._RF.push({},"746d0Tc3PFDl4EAmI8W/7wG","chain.operate.dex.swap",void 0);n("ChainOperateDexSwap",function(){function n(){}return n.popConfirm=function(){var n=e(t().mark((function n(r,u,p,f,h,l,m){var d=this;return t().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",new Promise((function(n){if(i.instance.checkWalletStatus())if(i.instance.isUseBeraMainnetSwap){var w,v={type:"dex_swap",chainId:c.instance.useChainId,inCoinConfig:r,outCoinConfig:u,inAmount:p,outAmount:f,priceImpact:h,slippageTolerance:l,maxGas:660000n,doOperate:(w=e(t().mark((function n(){return t().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,d.doOperate(r,u,p,l,m);case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)}))),function(){return w.apply(this,arguments)}),onClose:function(e){n(e)}};a.emit(s.UI_WALLET_OPERATE_OPEN,v)}else n(o.WalletTip);else n(o.WalletTip)})));case 1:case"end":return n.stop()}}),n)})));return function(e,t,r,a,s,i,c){return n.apply(this,arguments)}}(),n.doOperate=function(){var n=e(t().mark((function n(e,r,a,s,i){var o,p,f;return t().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,o=c.instance,n.next=4,o.swapFunction(e,r,a,s,i);case 4:return p=n.sent,f={type:"dex_swap",inSymbol:e.symbol,outSymbol:r.symbol,swapAmount:a,chainId:o.useChainId,timestamp:Date.now()/1e3,txHash:[p.hash]},u.instance.addHistory(f),n.abrupt("return",{success:!0,txs:[p]});case 10:return n.prev=10,n.t0=n.catch(0),console.log(n.t0),n.abrupt("return",{success:!1});case 14:case"end":return n.stop()}}),n,null,[[0,10]])})));return function(e,t,r,a,s){return n.apply(this,arguments)}}(),n}());r._RF.pop()}}}));

System.register("chunks:///_virtual/chain.operate.interface.ts",["cc"],(function(e){"use strict";var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){var i;e("ChainOperateStatus",void 0),t._RF.push({},"1de8bfbsHFA7rXB2bLHj5ps","chain.operate.interface",void 0),function(e){e[e.None=0]="None",e[e.WalletTip=1]="WalletTip",e[e.Refuse=2]="Refuse",e[e.Doing=3]="Doing",e[e.Success=4]="Success",e[e.Fail=5]="Fail"}(i||(i=e("ChainOperateStatus",{}))),t._RF.pop()}}}));

System.register("chunks:///_virtual/chain.operate.lp.reward.ts",["./rollupPluginModLoBabelHelpers.js","cc","./event.dispatcher.ts","./event.name.ts","./chain.system.ts","./bera.swap.mainnet.ts","./chain.history.manager.ts","./chain.operate.interface.ts"],(function(e){"use strict";var t,n,r,a,s,c,u,i,o;return{setters:[function(e){t=e.asyncToGenerator,n=e.regeneratorRuntime},function(e){r=e.cclegacy},function(e){a=e.EventDispatcher},function(e){s=e.EventName},function(e){c=e.ChainSystem},function(e){u=e.BeraSwapMainnet},function(e){i=e.ChainHistoryManager},function(e){o=e.ChainOperateStatus}],execute:function(){r._RF.push({},"ac524llvopLpLnhyKGff3dK","chain.operate.lp.reward",void 0);e("ChainOperateLpReward",function(){function e(){}return e.popConfirm=function(){var e=t(n().mark((function e(r,i){var p=this;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){if(c.instance.checkWalletStatus()){var f,h={type:"lp_reward",chainId:u.instance.useChainId,vaultAddress:r,amount:i,maxGas:165000n,doOperate:(f=t(n().mark((function e(){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.doOperate(r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),function(){return f.apply(this,arguments)}),onClose:function(t){e(t)}};a.emit(s.UI_WALLET_OPERATE_OPEN,h)}else e(o.WalletTip)})));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),e.doOperate=function(){var e=t(n().mark((function e(t){var r,a,s;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=u.instance,e.next=4,r.claimLpRewardFromVault(t);case 4:return a=e.sent,s={type:"lp_reward",vaultAddress:t,chainId:r.useChainId,timestamp:Date.now()/1e3,txHash:[a.hash]},i.instance.addHistory(s),e.abrupt("return",{success:!0,txs:[a]});case 10:return e.prev=10,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",{success:!1});case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),e}());r._RF.pop()}}}));

System.register("chunks:///_virtual/chain.operate.lp.stake.ts",["./rollupPluginModLoBabelHelpers.js","cc","./event.dispatcher.ts","./event.name.ts","./chain.system.ts","./bera.swap.mainnet.ts","./chain.history.manager.ts","./chain.operate.interface.ts"],(function(e){"use strict";var t,n,r,a,s,c,u,i,o;return{setters:[function(e){t=e.asyncToGenerator,n=e.regeneratorRuntime},function(e){r=e.cclegacy},function(e){a=e.EventDispatcher},function(e){s=e.EventName},function(e){c=e.ChainSystem},function(e){u=e.BeraSwapMainnet},function(e){i=e.ChainHistoryManager},function(e){o=e.ChainOperateStatus}],execute:function(){r._RF.push({},"c774e3qeWlPRIuQAEJrAHdr","chain.operate.lp.stake",void 0);e("ChainOperateLpStake",function(){function e(){}return e.popConfirm=function(){var e=t(n().mark((function e(r,i,p){var f=this;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){if(c.instance.checkWalletStatus()){var h,l={type:"lp_stake",chainId:u.instance.useChainId,vaultAddress:r,amount:p,maxGas:198000n,doOperate:(h=t(n().mark((function e(){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.doOperate(r,i,p);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),function(){return h.apply(this,arguments)}),onClose:function(t){e(t)}};a.emit(s.UI_WALLET_OPERATE_OPEN,l)}else e(o.WalletTip)})));case 1:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),e.doOperate=function(){var e=t(n().mark((function e(t,r,a){var s,c,o;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s=u.instance,e.next=4,s.stakeLpTokenToVaultReward(t,r,a);case 4:return c=e.sent,o={type:"lp_stake",amount:a,vaultAddress:t,lpAddress:r,chainId:s.useChainId,timestamp:Date.now()/1e3,txHash:[c.hash]},i.instance.addHistory(o),e.abrupt("return",{success:!0,txs:[c]});case 10:return e.prev=10,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",{success:!1});case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),e}());r._RF.pop()}}}));

System.register("chunks:///_virtual/chain.operate.lp.unstake.ts",["./rollupPluginModLoBabelHelpers.js","cc","./event.dispatcher.ts","./event.name.ts","./chain.system.ts","./bera.swap.mainnet.ts","./chain.history.manager.ts","./chain.operate.interface.ts"],(function(t){"use strict";var e,n,r,a,s,u,c,i,o;return{setters:[function(t){e=t.asyncToGenerator,n=t.regeneratorRuntime},function(t){r=t.cclegacy},function(t){a=t.EventDispatcher},function(t){s=t.EventName},function(t){u=t.ChainSystem},function(t){c=t.BeraSwapMainnet},function(t){i=t.ChainHistoryManager},function(t){o=t.ChainOperateStatus}],execute:function(){r._RF.push({},"e3f0acQ5YtK4rhJuVJs1n5L","chain.operate.lp.unstake",void 0);t("ChainOperateLpUnstake",function(){function t(){}return t.popConfirm=function(){var t=e(n().mark((function t(r,i,p){var f=this;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t){if(u.instance.checkWalletStatus()){var h,l={type:"lp_unstake",chainId:c.instance.useChainId,vaultAddress:r,amount:p,maxGas:165000n,doOperate:(h=e(n().mark((function t(){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f.doOperate(r,i,p);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))),function(){return h.apply(this,arguments)}),onClose:function(e){t(e)}};a.emit(s.UI_WALLET_OPERATE_OPEN,l)}else t(o.WalletTip)})));case 1:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),t.doOperate=function(){var t=e(n().mark((function t(e,r,a){var s,u,o;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,s=c.instance,t.next=4,s.unStakeLpTokenFromVaultReward(e,r,a);case 4:return u=t.sent,o={type:"lp_unstake",amount:a,vaultAddress:e,lpAddress:r,chainId:s.useChainId,timestamp:Date.now()/1e3,txHash:[u.hash]},i.instance.addHistory(o),t.abrupt("return",{success:!0,txs:[u]});case 10:return t.prev=10,t.t0=t.catch(0),console.log(t.t0),t.abrupt("return",{success:!1});case 14:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e,n,r){return t.apply(this,arguments)}}(),t}());r._RF.pop()}}}));

System.register("chunks:///_virtual/chain.operate.marketplace.item.buy.ts",["./rollupPluginModLoBabelHelpers.js","cc","./event.dispatcher.ts","./event.name.ts","./model.chain.order.manager.ts","./common.tool.ts","./ui.float.text.controller.ts","./chain.system.ts","./project.bera.mainnet.ts","./project.bera.testnet.ts","./chain.history.manager.ts","./chain.operate.interface.ts","./chain.utils.ts"],(function(e){"use strict";var t,n,r,a,c,i,s,u,o,p,l,f,d,m;return{setters:[function(e){t=e.asyncToGenerator,n=e.regeneratorRuntime},function(e){r=e.cclegacy},function(e){a=e.EventDispatcher},function(e){c=e.EventName},function(e){i=e.ModelChainOrderManager},function(e){s=e.CommonTool},function(e){u=e.UIFloatTextController},function(e){o=e.ChainSystem},function(e){p=e.BERA_MAINNET_CONFIG},function(e){l=e.BERA_TESTNET_CONFIG},function(e){f=e.ChainHistoryManager},function(e){d=e.ChainOperateStatus},function(e){m=e.EMPTY_ADDRESS}],execute:function(){r._RF.push({},"6b9dcQlpvNB7YKP9pFDP9dE","chain.operate.marketplace.item.buy",void 0);e("ChainOperateMarketplaceItemBuy",function(){function e(){}return e.popConfirm=function(){var e=t(n().mark((function e(r,s,f){var m,h,b=this;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m=o.instance.useBeraChainId,h=null,m!==l.id&&m!==p.id||(h=o.instance.beraContractMarketplace),e.next=5,h.isOrderValid(BigInt(r));case 5:if(e.sent){e.next=10;break}return u.AddTipI18nID_Info("u.2542"),i.instance.requestInvalidOrderID(r),e.abrupt("return",d.WalletTip);case 10:return e.abrupt("return",new Promise((function(e){if(o.instance.checkWalletStatus()){var i,u={type:"market_buy_item",chainId:m,orderId:r,unitPrice:s,amount:f,maxGas:165000n,contractAddress:h.contractConfig.address,funcName:"takeOrder",doOperate:(i=t(n().mark((function e(){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.doOperate(m,BigInt(r),BigInt(s),BigInt(f));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),function(){return i.apply(this,arguments)}),onClose:function(t){e(t)}};a.emit(c.UI_WALLET_OPERATE_OPEN,u)}else e(d.WalletTip)})));case 11:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),e.doOperate=function(){var e=t(n().mark((function e(t,r,a,c){var i,u,d,h,b,k,v;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,i=null,u=null,d=null,h="",t!==l.id&&t!==p.id||(i=o.instance.beraContractApproveProxy,u=o.instance.beraContractWizz,d=o.instance.beraContractMarketplace,h=o.instance.beraMarketplacePayTokenAddress),null!==i&&null!==d&&null!==u&&""!==h){e.next=8;break}return e.abrupt("return",{success:!1});case 8:if(b=a*c,k=null,h===m){e.next=22;break}return e.next=13,i.checkWizzApprove();case 13:if(!(e.sent<b)){e.next=17;break}return e.next=17,u.approveTo(b);case 17:return e.next=19,d.takeOrder(r,c,!1,0n);case 19:k=e.sent,e.next=25;break;case 22:return e.next=24,d.takeOrder(r,c,!0,b);case 24:k=e.sent;case 25:return v={type:"market_buy_item",orderId:r.toString(),amount:c.toString(),allPrice:b.toString(),chainId:t,timestamp:Date.now()/1e3,txHash:[k.hash]},f.instance.addHistory(v),e.next=29,s.sleep(2e3);case 29:return e.abrupt("return",{success:!0,txs:[k]});case 32:return e.prev=32,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",{success:!1});case 36:case"end":return e.stop()}}),e,null,[[0,32]])})));return function(t,n,r,a){return e.apply(this,arguments)}}(),e}());r._RF.pop()}}}));

System.register("chunks:///_virtual/chain.operate.marketplace.item.sale.ts",["./rollupPluginModLoBabelHelpers.js","cc","./api.chain.marketplace.ts","./event.dispatcher.ts","./event.name.ts","./ui.float.text.controller.ts","./chain.system.ts","./project.bera.mainnet.ts","./project.bera.testnet.ts","./chain.history.manager.ts","./chain.operate.interface.ts"],(function(e){"use strict";var t,n,r,a,c,s,i,u,o,p,l,f;return{setters:[function(e){t=e.asyncToGenerator,n=e.regeneratorRuntime},function(e){r=e.cclegacy},function(e){a=e.apiAddValidOrder},function(e){c=e.EventDispatcher},function(e){s=e.EventName},function(e){i=e.UIFloatTextController},function(e){u=e.ChainSystem},function(e){o=e.BERA_MAINNET_CONFIG},function(e){p=e.BERA_TESTNET_CONFIG},function(e){l=e.ChainHistoryManager},function(e){f=e.ChainOperateStatus}],execute:function(){r._RF.push({},"0bff75p+LVMyrdKhuJGTyqq","chain.operate.marketplace.item.sale",void 0);e("ChainOperateMarketplaceItemSale",function(){function e(){}return e.popConfirm=function(){var e=t(n().mark((function e(r,a,i){var l=this;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){if(u.instance.checkWalletStatus()){var d=u.instance.useBeraChainId,m=null;d!==p.id&&d!==o.id||(m=u.instance.beraContractMarketplace);var h,I=Number(r),b={type:"market_sale_item",chainId:d,itemId:I,amount:a,price:i,maxGas:990000n,contractAddress:m.contractConfig.address,funcName:"createOrder",doOperate:(h=t(n().mark((function e(){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.doOperate(d,I,a,i);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),function(){return h.apply(this,arguments)}),onClose:function(t){e(t)}};c.emit(s.UI_WALLET_OPERATE_OPEN,b)}else e(f.WalletTip)})));case 1:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),e.doOperate=function(){var e=t(n().mark((function e(t,r,c,s){var f,d,m,h,I,b;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,f=null,d=null,m=null,t!==p.id&&t!==o.id||(f=u.instance.beraContractApproveProxy,d=u.instance.beraContractItemV2,m=u.instance.beraContractMarketplace),null!==f&&null!==m&&null!==d){e.next=7;break}return e.abrupt("return",{success:!1});case 7:return e.next=9,u.instance.beraContractMarketplace.getOwnerOrderItem(BigInt(r));case 9:if(0n===(h=e.sent).OrderID){e.next=19;break}return e.next=13,u.instance.beraContractMarketplace.isOrderValid(h.OrderID);case 13:if(!e.sent){e.next=19;break}return i.AddTipI18nID_Failed("u.2569"),e.next=18,a(h.OrderID.toString());case 18:return e.abrupt("return",{success:!1});case 19:return e.next=21,f.checkItemApprove();case 21:if(e.sent){e.next=25;break}return e.next=25,d.approveAllItem();case 25:return e.next=27,m.saleItem(BigInt(r),BigInt(c),s);case 27:return I=e.sent,b={type:"market_sale_item",itemId:r,amount:c,price:s.toString(),chainId:t,timestamp:Date.now()/1e3,txHash:[I.hash]},l.instance.addHistory(b),e.abrupt("return",{success:!0,txs:[I]});case 33:return e.prev=33,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",{success:!1});case 37:case"end":return e.stop()}}),e,null,[[0,33]])})));return function(t,n,r,a){return e.apply(this,arguments)}}(),e}());r._RF.pop()}}}));

System.register("chunks:///_virtual/chain.operate.marketplace.order.cancel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./api.chain.marketplace.ts","./event.dispatcher.ts","./event.name.ts","./chain.system.ts","./project.bera.mainnet.ts","./project.bera.testnet.ts","./chain.history.manager.ts","./chain.operate.interface.ts"],(function(e){"use strict";var t,n,r,a,c,s,i,u,o,p,l;return{setters:[function(e){t=e.asyncToGenerator,n=e.regeneratorRuntime},function(e){r=e.cclegacy},function(e){a=e.apiAddInvalidOrder},function(e){c=e.EventDispatcher},function(e){s=e.EventName},function(e){i=e.ChainSystem},function(e){u=e.BERA_MAINNET_CONFIG},function(e){o=e.BERA_TESTNET_CONFIG},function(e){p=e.ChainHistoryManager},function(e){l=e.ChainOperateStatus}],execute:function(){r._RF.push({},"19f018QGb1EKbMaEqOjq8cM","chain.operate.marketplace.order.cancel",void 0);e("ChainOperateMarketplaceOrderCancel",function(){function e(){}return e.popConfirm=function(){var e=t(n().mark((function e(r){var a,p,d=this;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=i.instance.useBeraChainId,p=null,a!==o.id&&a!==u.id||(p=i.instance.beraContractMarketplace),e.abrupt("return",new Promise((function(e){if(i.instance.checkWalletStatus()){var u,o={type:"market_order_cancel",chainId:a,orderId:r,maxGas:165000n,contractAddress:p.contractConfig.address,funcName:"cancelOrder",doOperate:(u=t(n().mark((function e(){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.doOperate(a,BigInt(r));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),function(){return u.apply(this,arguments)}),onClose:function(t){e(t)}};c.emit(s.UI_WALLET_OPERATE_OPEN,o)}else e(l.WalletTip)})));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.doOperate=function(){var e=t(n().mark((function e(t,r){var c,s,l;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,c=null,t!==o.id&&t!==u.id||(c=i.instance.beraContractMarketplace),null!==c){e.next=5;break}return e.abrupt("return",{success:!1});case 5:return e.next=7,c.isOrderExist(r);case 7:if(e.sent){e.next=12;break}return e.next=11,a(r.toString());case 11:return e.abrupt("return",{success:!1});case 12:return e.next=14,c.cancelOrder(r);case 14:return s=e.sent,l={type:"market_order_cancel",orderId:r.toString(),chainId:t,timestamp:Date.now()/1e3,txHash:[s.hash]},p.instance.addHistory(l),e.abrupt("return",{success:!0,txs:[s]});case 20:return e.prev=20,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",{success:!1});case 24:case"end":return e.stop()}}),e,null,[[0,20]])})));return function(t,n){return e.apply(this,arguments)}}(),e}());r._RF.pop()}}}));

System.register("chunks:///_virtual/chain.operate.marketplace.wizard.buy.ts",["./rollupPluginModLoBabelHelpers.js","cc","./event.dispatcher.ts","./event.name.ts","./model.chain.order.manager.ts","./common.tool.ts","./ui.float.text.controller.ts","./chain.system.ts","./project.bera.mainnet.ts","./project.bera.testnet.ts","./chain.history.manager.ts","./chain.operate.interface.ts","./chain.utils.ts"],(function(e){"use strict";var t,n,r,a,c,i,s,u,o,l,p,d,f,h;return{setters:[function(e){t=e.asyncToGenerator,n=e.regeneratorRuntime},function(e){r=e.cclegacy},function(e){a=e.EventDispatcher},function(e){c=e.EventName},function(e){i=e.ModelChainOrderManager},function(e){s=e.CommonTool},function(e){u=e.UIFloatTextController},function(e){o=e.ChainSystem},function(e){l=e.BERA_MAINNET_CONFIG},function(e){p=e.BERA_TESTNET_CONFIG},function(e){d=e.ChainHistoryManager},function(e){f=e.ChainOperateStatus},function(e){h=e.EMPTY_ADDRESS}],execute:function(){r._RF.push({},"d527emH7I9O+75BrkEgNsla","chain.operate.marketplace.wizard.buy",void 0);e("ChainOperateMarketplaceWizardBuy",function(){function e(){}return e.popConfirm=function(){var e=t(n().mark((function e(r,s,d){var h,m,k=this;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h=o.instance.useBeraChainId,m=null,h!==p.id&&h!==l.id||(m=o.instance.beraContractMarketplace),e.next=5,m.isOrderValid(BigInt(r));case 5:if(e.sent){e.next=10;break}return u.AddTipI18nID_Info("u.2542"),i.instance.requestInvalidOrderID(r),e.abrupt("return",f.WalletTip);case 10:return e.abrupt("return",new Promise((function(e){if(o.instance.checkWalletStatus()){var i,u={type:"market_buy_wizard",chainId:h,orderId:r,unitPrice:s,amount:d,maxGas:165000n,contractAddress:m.contractConfig.address,funcName:"takeOrder",doOperate:(i=t(n().mark((function e(){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.doOperate(h,BigInt(r),BigInt(s),BigInt(d));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),function(){return i.apply(this,arguments)}),onClose:function(t){e(t)}};a.emit(c.UI_WALLET_OPERATE_OPEN,u)}else e(f.WalletTip)})));case 11:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),e.doOperate=function(){var e=t(n().mark((function e(t,r,a,c){var i,u,f,m,k,b,x;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,i=null,u=null,f=null,m="",t!==p.id&&t!==l.id||(i=o.instance.beraContractApproveProxy,u=o.instance.beraContractWizz,f=o.instance.beraContractMarketplace,m=o.instance.beraMarketplacePayTokenAddress),null!==i&&null!==f&&null!==u&&""!==m){e.next=8;break}return e.abrupt("return",{success:!1});case 8:if(k=a*c,b=null,m===h){e.next=22;break}return e.next=13,i.checkWizzApprove();case 13:if(!(e.sent<k)){e.next=17;break}return e.next=17,u.approveTo(k);case 17:return e.next=19,f.takeOrder(r,c,!1,0n);case 19:b=e.sent,e.next=25;break;case 22:return e.next=24,f.takeOrder(r,c,!0,k);case 24:b=e.sent;case 25:return x={type:"market_buy_wizard",orderId:r.toString(),amount:c.toString(),allPrice:k.toString(),chainId:t,timestamp:Date.now()/1e3,txHash:[b.hash]},d.instance.addHistory(x),e.next=29,s.sleep(2e3);case 29:return e.abrupt("return",{success:!0,txs:[b]});case 32:return e.prev=32,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",{success:!1});case 36:case"end":return e.stop()}}),e,null,[[0,32]])})));return function(t,n,r,a){return e.apply(this,arguments)}}(),e}());r._RF.pop()}}}));

System.register("chunks:///_virtual/chain.operate.marketplace.wizard.sale.ts",["./rollupPluginModLoBabelHelpers.js","cc","./api.chain.marketplace.ts","./event.dispatcher.ts","./event.name.ts","./ui.float.text.controller.ts","./chain.system.ts","./project.bera.mainnet.ts","./project.bera.testnet.ts","./chain.history.manager.ts","./chain.operate.interface.ts"],(function(e){"use strict";var t,r,n,a,c,i,s,u,o,p,l,d;return{setters:[function(e){t=e.asyncToGenerator,r=e.regeneratorRuntime},function(e){n=e.cclegacy},function(e){a=e.apiAddValidOrder},function(e){c=e.EventDispatcher},function(e){i=e.EventName},function(e){s=e.UIFloatTextController},function(e){u=e.ChainSystem},function(e){o=e.BERA_MAINNET_CONFIG},function(e){p=e.BERA_TESTNET_CONFIG},function(e){l=e.ChainHistoryManager},function(e){d=e.ChainOperateStatus}],execute:function(){n._RF.push({},"fadc80sB9xAjKMovGpDmTcI","chain.operate.marketplace.wizard.sale",void 0);e("ChainOperateMarketplaceWizardSale",function(){function e(){}return e.popConfirm=function(){var e=t(r().mark((function e(n,a){var s=this;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){if(u.instance.checkWalletStatus()){var l=u.instance.useBeraChainId,f=null;l!==p.id&&l!==o.id||(f=u.instance.beraContractMarketplace);var h,m={type:"market_sale_wizard",chainId:l,tokenId:n,price:a,maxGas:990000n,contractAddress:f.contractConfig.address,funcName:"createOrder",doOperate:(h=t(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.doOperate(l,BigInt(n),a);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),function(){return h.apply(this,arguments)}),onClose:function(t){e(t)}};c.emit(i.UI_WALLET_OPERATE_OPEN,m)}else e(d.WalletTip)})));case 1:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),e.doOperate=function(){var e=t(r().mark((function e(t,n,c){var i,d,f,h,m,v;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,i=null,d=null,f=null,t!==p.id&&t!==o.id||(i=u.instance.beraContractApproveProxy,d=u.instance.beraContractWizard,f=u.instance.beraContractMarketplace),null!==i&&null!==f&&null!==d){e.next=7;break}return e.abrupt("return",{success:!1});case 7:return e.next=9,f.getOwnerOrderWizard(n);case 9:if(0n===(h=e.sent).OrderID){e.next=19;break}return e.next=13,f.isOrderValid(h.OrderID);case 13:if(!e.sent){e.next=19;break}return s.AddTipI18nID_Failed("u.2569"),e.next=18,a(h.OrderID.toString());case 18:return e.abrupt("return",{success:!1});case 19:return e.next=21,i.checkWizardApprove(n);case 21:if(e.sent){e.next=25;break}return e.next=25,d.approveWizard(n);case 25:return e.next=27,f.saleWizard(n,c);case 27:return m=e.sent,v={type:"market_sale_wizard",tokenId:n.toString(),price:c.toString(),chainId:t,timestamp:Date.now()/1e3,txHash:[m.hash]},l.instance.addHistory(v),e.abrupt("return",{success:!0,txs:[m]});case 33:return e.prev=33,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",{success:!1});case 37:case"end":return e.stop()}}),e,null,[[0,33]])})));return function(t,r,n){return e.apply(this,arguments)}}(),e}());n._RF.pop()}}}));

System.register("chunks:///_virtual/chain.operate.mint.wizard.ts",["./rollupPluginModLoBabelHelpers.js","cc","./event.dispatcher.ts","./event.name.ts","./chain.system.ts","./project.bera.mainnet.ts","./project.bera.testnet.ts","./chain.history.manager.ts","./chain.operate.interface.ts"],(function(t){"use strict";var n,e,r,a,i,c,s,u,o,p;return{setters:[function(t){n=t.asyncToGenerator,e=t.regeneratorRuntime},function(t){r=t.cclegacy},function(t){a=t.EventDispatcher},function(t){i=t.EventName},function(t){c=t.ChainSystem},function(t){s=t.BERA_MAINNET_CONFIG},function(t){u=t.BERA_TESTNET_CONFIG},function(t){o=t.ChainHistoryManager},function(t){p=t.ChainOperateStatus}],execute:function(){r._RF.push({},"d4290tlL+xFIIP+Q7Xr77gw","chain.operate.mint.wizard",void 0);t("ChainOperateMintWizard",function(){function t(){}return t.popConfirm=function(){var t=n(e().mark((function t(r,o,f){var d=this;return e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t){if(c.instance.checkWalletStatus()){var l=null;if(r!==u.id&&r!==s.id||(l=c.instance.beraContractMintWizard),null!==l){var h,m={type:"mint_wizard",chainId:r,wizardDataId:f,maxGas:550000n,contractAddress:l.contractConfig.address,funcName:"mintWizardToken",doOperate:(h=n(e().mark((function t(){return e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d.doOperate(r,o,f);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))),function(){return h.apply(this,arguments)}),onClose:function(n){t(n)}};a.emit(i.UI_WALLET_OPERATE_OPEN,m)}else t(p.WalletTip)}else t(p.WalletTip)})));case 1:case"end":return t.stop()}}),t)})));return function(n,e,r){return t.apply(this,arguments)}}(),t.doOperate=function(){var t=n(e().mark((function t(n,r,a){var i,p,f;return e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,i=null,n!==u.id&&n!==s.id||(i=c.instance.beraContractMintWizard),null!==i){t.next=5;break}return t.abrupt("return",{success:!1});case 5:return t.next=7,i.mintWizardToken(r);case 7:return p=t.sent,f={type:"mint_wizard",wizardDataId:a,chainId:n,timestamp:Date.now()/1e3,txHash:[p.hash]},o.instance.addHistory(f),t.abrupt("return",{success:!0,txs:[p]});case 13:return t.prev=13,t.t0=t.catch(0),console.log(t.t0),t.abrupt("return",{success:!1});case 17:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(n,e,r){return t.apply(this,arguments)}}(),t}());r._RF.pop()}}}));

System.register("chunks:///_virtual/chain.operate.release.vesting.ts",["./rollupPluginModLoBabelHelpers.js","cc","./event.dispatcher.ts","./event.name.ts","./chain.system.ts","./project.bera.mainnet.ts","./project.bera.testnet.ts","./chain.history.manager.ts","./chain.operate.interface.ts"],(function(e){"use strict";var t,n,r,a,s,c,i,u,o,p;return{setters:[function(e){t=e.asyncToGenerator,n=e.regeneratorRuntime},function(e){r=e.cclegacy},function(e){a=e.EventDispatcher},function(e){s=e.EventName},function(e){c=e.ChainSystem},function(e){i=e.BERA_MAINNET_CONFIG},function(e){u=e.BERA_TESTNET_CONFIG},function(e){o=e.ChainHistoryManager},function(e){p=e.ChainOperateStatus}],execute:function(){r._RF.push({},"00ec9P9PdZPLbtQZyBX95nW","chain.operate.release.vesting",void 0);e("ChainOperateReleaseVesting",function(){function e(){}return e.popConfirm=function(){var e=t(n().mark((function e(){var r=this;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){if(c.instance.checkWalletStatus()){var o=c.instance.useBeraChainId,f=null;o!==u.id&&o!==i.id||(f=c.instance.beraVestingPool);var l,h={type:"release_vesting",chainId:o,maxGas:265000n,contractAddress:f.contractConfig.address,funcName:"releaseVesting",doOperate:(l=t(n().mark((function e(){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.doOperate(o);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),function(){return l.apply(this,arguments)}),onClose:function(t){e(t)}};a.emit(s.UI_WALLET_OPERATE_OPEN,h)}else e(p.WalletTip)})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),e.doOperate=function(){var e=t(n().mark((function e(t){var r,a,s;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,r=null,t!==u.id&&t!==i.id||(r=c.instance.beraVestingPool),null!==r){e.next=5;break}return e.abrupt("return",{success:!1});case 5:return e.next=7,r.releaseBeneficiaryVesting();case 7:return a=e.sent,s={type:"release_vesting",chainId:t,timestamp:Date.now()/1e3,txHash:[a.hash]},o.instance.addHistory(s),e.abrupt("return",{success:!0,txs:[a]});case 13:return e.prev=13,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",{success:!1});case 17:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}(),e}());r._RF.pop()}}}));

System.register("chunks:///_virtual/chain.operate.send.coin.ts",["./rollupPluginModLoBabelHelpers.js","cc","./event.dispatcher.ts","./event.name.ts","./chain.system.ts","./chain.history.manager.ts","./chain.operate.interface.ts"],(function(n){"use strict";var t,e,r,a,c,i,o,s;return{setters:[function(n){t=n.asyncToGenerator,e=n.regeneratorRuntime},function(n){r=n.cclegacy},function(n){a=n.EventDispatcher},function(n){c=n.EventName},function(n){i=n.ChainSystem},function(n){o=n.ChainHistoryManager},function(n){s=n.ChainOperateStatus}],execute:function(){r._RF.push({},"1d50eumBHJDiYpZCC+symiy","chain.operate.send.coin",void 0);n("ChainOperateSendCoin",function(){function n(){}return n.popConfirm=function(){var n=t(e().mark((function n(r,o,u){var p=this;return e().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",new Promise((function(n){if(i.instance.checkWalletStatus()){var f,h={type:"send_coin",chainId:r.chainId,coin:r,to:o,amount:u,maxGas:300000n,doOperate:(f=t(e().mark((function n(){return e().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,p.doOperate(r,o,u);case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)}))),function(){return f.apply(this,arguments)}),onClose:function(t){n(t)}};a.emit(c.UI_WALLET_OPERATE_OPEN,h)}else n(s.WalletTip)})));case 1:case"end":return n.stop()}}),n)})));return function(t,e,r){return n.apply(this,arguments)}}(),n.doOperate=function(){var n=t(e().mark((function n(t,r,a){var c,i;return e().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,t.sendCoin(r,a);case 3:return c=n.sent,i={type:"send_coin",chainId:t.chainId,timestamp:Date.now()/1e3,txHash:[c.hash],coinSymbol:t.config.symbol,coinIcon:t.config.icon,to:r,amount:a},o.instance.addHistory(i),n.abrupt("return",{success:!0,txs:[c]});case 9:return n.prev=9,n.t0=n.catch(0),console.log(n.t0),n.abrupt("return",{success:!1});case 13:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(t,e,r){return n.apply(this,arguments)}}(),n}());r._RF.pop()}}}));

System.register("chunks:///_virtual/chain.operate.tge.wizz.ts",["./rollupPluginModLoBabelHelpers.js","cc","./event.dispatcher.ts","./event.name.ts","./chain.system.ts","./project.bera.mainnet.ts","./project.bera.testnet.ts","./chain.history.manager.ts","./chain.operate.interface.ts"],(function(t){"use strict";var e,n,r,a,c,i,s,u,o,p;return{setters:[function(t){e=t.asyncToGenerator,n=t.regeneratorRuntime},function(t){r=t.cclegacy},function(t){a=t.EventDispatcher},function(t){c=t.EventName},function(t){i=t.ChainSystem},function(t){s=t.BERA_MAINNET_CONFIG},function(t){u=t.BERA_TESTNET_CONFIG},function(t){o=t.ChainHistoryManager},function(t){p=t.ChainOperateStatus}],execute:function(){r._RF.push({},"c8aafjqDhlHLpaKZJkCmUyN","chain.operate.tge.wizz",void 0);t("ChainOperateTgeWizz",function(){function t(){}return t.popConfirm=function(){var t=e(n().mark((function t(r,o,f){var h=this;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t){if(i.instance.checkWalletStatus()){var l=null;r!==u.id&&r!==s.id||(l=i.instance.beraContractWithdrawWizz);var d,m={type:"tge_wizz",chainId:r,amount:f,maxGas:265000n,contractAddress:l.contractConfig.address,funcName:"withdrawWizzToken",doOperate:(d=e(n().mark((function t(){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h.doOperate(r,o,f);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))),function(){return d.apply(this,arguments)}),onClose:function(e){t(e)}};a.emit(c.UI_WALLET_OPERATE_OPEN,m)}else t(p.WalletTip)})));case 1:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),t.doOperate=function(){var t=e(n().mark((function t(e,r,a){var c,p,f;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,c=null,e!==u.id&&e!==s.id||(c=i.instance.beraContractWithdrawWizz),null!==c){t.next=5;break}return t.abrupt("return",{success:!1});case 5:return t.next=7,c.withdrawWizz(r);case 7:return p=t.sent,f={type:"tge_wizz",amount:a,chainId:e,timestamp:Date.now()/1e3,txHash:[p.hash]},o.instance.addHistory(f),t.abrupt("return",{success:!0,txs:[p]});case 13:return t.prev=13,t.t0=t.catch(0),console.log(t.t0),t.abrupt("return",{success:!1});case 17:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e,n,r){return t.apply(this,arguments)}}(),t}());r._RF.pop()}}}));

System.register("chunks:///_virtual/chain.operate.withdraw.item.ts",["./rollupPluginModLoBabelHelpers.js","cc","./event.dispatcher.ts","./event.name.ts","./chain.system.ts","./project.bera.mainnet.ts","./project.bera.testnet.ts","./chain.history.manager.ts","./chain.operate.interface.ts"],(function(t){"use strict";var e,n,r,a,i,c,s,u,o,p;return{setters:[function(t){e=t.asyncToGenerator,n=t.regeneratorRuntime},function(t){r=t.cclegacy},function(t){a=t.EventDispatcher},function(t){i=t.EventName},function(t){c=t.ChainSystem},function(t){s=t.BERA_MAINNET_CONFIG},function(t){u=t.BERA_TESTNET_CONFIG},function(t){o=t.ChainHistoryManager},function(t){p=t.ChainOperateStatus}],execute:function(){r._RF.push({},"e00d9bDrCxAOI04DnjcF0rg","chain.operate.withdraw.item",void 0);t("ChainOperateWithdrawItem",function(){function t(){}return t.popConfirm=function(){var t=e(n().mark((function t(r,o,h,f){var d=this;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t){if(c.instance.checkWalletStatus()){var m=null;r!==u.id&&r!==s.id||(m=c.instance.beraContractWithdrawItem);var l,w={type:"withdraw_item",chainId:r,itemId:o,itemAmount:h,maxGas:330000n,contractAddress:m.contractConfig.address,funcName:"withdrawItem",doOperate:(l=e(n().mark((function t(){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d.doOperate(r,f,o,h);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))),function(){return l.apply(this,arguments)}),onClose:function(e){t(e)}};a.emit(i.UI_WALLET_OPERATE_OPEN,w)}else t(p.WalletTip)})));case 1:case"end":return t.stop()}}),t)})));return function(e,n,r,a){return t.apply(this,arguments)}}(),t.doOperate=function(){var t=e(n().mark((function t(e,r,a,i){var p,h,f;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,p=null,e!==u.id&&e!==s.id||(p=c.instance.beraContractWithdrawItem),null!==p){t.next=5;break}return t.abrupt("return",{success:!1});case 5:return t.next=7,p.withdrawItem(r);case 7:return h=t.sent,f={type:"withdraw_item",itemId:a,itemAmount:i,chainId:e,timestamp:Date.now()/1e3,txHash:[h.hash]},o.instance.addHistory(f),t.abrupt("return",{success:!0,txs:[h]});case 13:return t.prev=13,t.t0=t.catch(0),console.log(t.t0),t.abrupt("return",{success:!1});case 17:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e,n,r,a){return t.apply(this,arguments)}}(),t}());r._RF.pop()}}}));

System.register("chunks:///_virtual/chain.operate.withdraw.wizard.ts",["./rollupPluginModLoBabelHelpers.js","cc","./event.dispatcher.ts","./event.name.ts","./chain.system.ts","./project.bera.mainnet.ts","./project.bera.testnet.ts","./chain.history.manager.ts","./chain.operate.interface.ts"],(function(t){"use strict";var e,n,r,a,i,c,s,u,o,p;return{setters:[function(t){e=t.asyncToGenerator,n=t.regeneratorRuntime},function(t){r=t.cclegacy},function(t){a=t.EventDispatcher},function(t){i=t.EventName},function(t){c=t.ChainSystem},function(t){s=t.BERA_MAINNET_CONFIG},function(t){u=t.BERA_TESTNET_CONFIG},function(t){o=t.ChainHistoryManager},function(t){p=t.ChainOperateStatus}],execute:function(){r._RF.push({},"3de1bsVm3xMyLj+8EmoHpO+","chain.operate.withdraw.wizard",void 0);t("ChainOperateWithdrawWizard",function(){function t(){}return t.popConfirm=function(){var t=e(n().mark((function t(r,o,d){var f=this;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t){if(c.instance.checkWalletStatus()){var h=null;r!==u.id&&r!==s.id||(h=c.instance.beraContractStakeWizard);var w,l={type:"withdraw_wizard",chainId:r,wizardDataId:d,maxGas:330000n,contractAddress:h.contractConfig.address,funcName:"withdrawWizard",doOperate:(w=e(n().mark((function t(){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f.doOperate(r,o,d);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))),function(){return w.apply(this,arguments)}),onClose:function(e){t(e)}};a.emit(i.UI_WALLET_OPERATE_OPEN,l)}else t(p.WalletTip)})));case 1:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),t.doOperate=function(){var t=e(n().mark((function t(e,r,a){var i,p,d;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,i=null,e!==u.id&&e!==s.id||(i=c.instance.beraContractStakeWizard),null!==i){t.next=5;break}return t.abrupt("return",{success:!1});case 5:return t.next=7,i.withdrawWizardToken(r);case 7:return p=t.sent,d={type:"withdraw_wizard",wizardDataId:a,chainId:e,timestamp:Date.now()/1e3,txHash:[p.hash]},o.instance.addHistory(d),t.abrupt("return",{success:!0,txs:[p]});case 13:return t.prev=13,t.t0=t.catch(0),console.log(t.t0),t.abrupt("return",{success:!1});case 17:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e,n,r){return t.apply(this,arguments)}}(),t}());r._RF.pop()}}}));

System.register("chunks:///_virtual/chain.operate.withdraw.wizz.ts",["./rollupPluginModLoBabelHelpers.js","cc","./event.dispatcher.ts","./event.name.ts","./chain.system.ts","./project.bera.mainnet.ts","./project.bera.testnet.ts","./chain.history.manager.ts","./chain.operate.interface.ts"],(function(t){"use strict";var n,e,r,a,i,c,s,u,o,p;return{setters:[function(t){n=t.asyncToGenerator,e=t.regeneratorRuntime},function(t){r=t.cclegacy},function(t){a=t.EventDispatcher},function(t){i=t.EventName},function(t){c=t.ChainSystem},function(t){s=t.BERA_MAINNET_CONFIG},function(t){u=t.BERA_TESTNET_CONFIG},function(t){o=t.ChainHistoryManager},function(t){p=t.ChainOperateStatus}],execute:function(){r._RF.push({},"cddddKQ4qNF3Z2U06F85ihQ","chain.operate.withdraw.wizz",void 0);t("ChainOperateWithdrawWizz",function(){function t(){}return t.popConfirm=function(){var t=n(e().mark((function t(r,o,h){var f=this;return e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t){if(c.instance.checkWalletStatus()){var d=null;r!==u.id&&r!==s.id||(d=c.instance.beraContractWithdrawWizz);var w,l={type:"withdraw_wizz",chainId:r,amount:h,maxGas:265000n,contractAddress:d.contractConfig.address,funcName:"withdrawWizzToken",doOperate:(w=n(e().mark((function t(){return e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f.doOperate(r,o,h);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))),function(){return w.apply(this,arguments)}),onClose:function(n){t(n)}};a.emit(i.UI_WALLET_OPERATE_OPEN,l)}else t(p.WalletTip)})));case 1:case"end":return t.stop()}}),t)})));return function(n,e,r){return t.apply(this,arguments)}}(),t.doOperate=function(){var t=n(e().mark((function t(n,r,a){var i,p,h;return e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,i=null,n!==u.id&&n!==s.id||(i=c.instance.beraContractWithdrawWizz),null!==i){t.next=5;break}return t.abrupt("return",{success:!1});case 5:return t.next=7,i.withdrawWizz(r);case 7:return p=t.sent,h={type:"withdraw_wizz",amount:a,chainId:n,timestamp:Date.now()/1e3,txHash:[p.hash]},o.instance.addHistory(h),t.abrupt("return",{success:!0,txs:[p]});case 13:return t.prev=13,t.t0=t.catch(0),console.log(t.t0),t.abrupt("return",{success:!1});case 17:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(n,e,r){return t.apply(this,arguments)}}(),t}());r._RF.pop()}}}));

System.register("chunks:///_virtual/chain.order.result.ts",["cc"],(function(){"use strict";var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"447bb5f6mRNvpQKPjYpGEqh","chain.order.result",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/chain.project.interface.ts",["cc"],(function(){"use strict";var c;return{setters:[function(t){c=t.cclegacy}],execute:function(){c._RF.push({},"c54d9c9OnVGjZntJJ83JjY+","chain.project.interface",void 0),c._RF.pop()}}}));

System.register("chunks:///_virtual/chain.reader.base.ts",["./rollupPluginModLoBabelHelpers.js","cc","./use.ethers.ts"],(function(e){"use strict";var r,t,n,a,i,c;return{setters:[function(e){r=e.asyncToGenerator,t=e.regeneratorRuntime},function(e){n=e.cclegacy,a=e.error},function(e){i=e.ethers,c=e.formatEther}],execute:function(){n._RF.push({},"f30edmEtmxIxLZQy80hPFap","chain.reader.base",void 0);e("ChainReaderBase",function(){function e(){this.chainConfig=void 0,this.rpcProvider=void 0,this.chainId=void 0,this.isInit=void 0}var n=e.prototype;return n.init=function(e){if(!this.isInit){this.chainConfig=e,this.chainId=this.chainConfig.id;var r=new i.Network(this.chainConfig.name,this.chainId);this.rpcProvider=new i.JsonRpcProvider(this.chainConfig.rpc,this.chainId,{staticNetwork:r}),this.rpcProvider?this.isInit=!0:a("[ChainReaderBase.init] error: create rpcProvider failed!")}},n.getBalanceWei=function(){var e=r(t().mark((function e(r){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.rpcProvider.getBalance(r);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),a("[ChainReaderBase.getBalanceWei] error:",e.t0);case 9:case"end":return e.stop()}}),e,this,[[0,6]])})));return function(r){return e.apply(this,arguments)}}(),n.getBalance=function(){var e=r(t().mark((function e(r){var n,i;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.rpcProvider.getBalance(r);case 3:return n=e.sent,i=Number(c(n)),e.abrupt("return",i);case 8:e.prev=8,e.t0=e.catch(0),a("[ChainReaderBase.getBalance] error:",e.t0);case 11:case"end":return e.stop()}}),e,this,[[0,8]])})));return function(r){return e.apply(this,arguments)}}(),n.getLastBlockNumber=function(){var e=r(t().mark((function e(){var r;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.rpcProvider.getBlockNumber();case 3:return r=e.sent,e.abrupt("return",r);case 7:e.prev=7,e.t0=e.catch(0),a("[ChainReaderBase.getLastBlockNumber] error:",e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),n.getBlockTimestamp=function(){var e=r(t().mark((function e(r){var n;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.rpcProvider.getBlock(r);case 3:if(!(n=e.sent)){e.next=6;break}return e.abrupt("return",n.timestamp);case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),a("[ChainReaderBase.getBlockTimestamp] error:",e.t0);case 11:return e.abrupt("return",0);case 12:case"end":return e.stop()}}),e,this,[[0,8]])})));return function(r){return e.apply(this,arguments)}}(),n.getGasPrice=function(){var e=r(t().mark((function e(){var r;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.rpcProvider.getFeeData();case 3:return r=e.sent,e.abrupt("return",r);case 7:e.prev=7,e.t0=e.catch(0),a("[ChainReaderBase.getGasPrice] error:",e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),e}());n._RF.pop()}}}));

System.register("chunks:///_virtual/chain.reader.berachain.mainnet.ts",["./rollupPluginModLoBabelHelpers.js","cc","./chain.reader.base.ts"],(function(n){"use strict";var e,t,i,a;return{setters:[function(n){e=n.inheritsLoose,t=n.createClass},function(n){i=n.cclegacy},function(n){a=n.ChainReaderBase}],execute:function(){i._RF.push({},"22c8bSq+KBNfqu5r91zfrUG","chain.reader.berachain.mainnet",void 0),n("ChainReaderBerachainMainnet",function(n){function i(){return n.apply(this,arguments)||this}return e(i,n),t(i,null,[{key:"instance",get:function(){return null==this._instance&&(this._instance=new i),this._instance}}]),i}(a))._instance=null,i._RF.pop()}}}));

System.register("chunks:///_virtual/chain.reader.berachain.testnet.ts",["./rollupPluginModLoBabelHelpers.js","cc","./chain.reader.base.ts"],(function(e){"use strict";var n,t,i,s;return{setters:[function(e){n=e.inheritsLoose,t=e.createClass},function(e){i=e.cclegacy},function(e){s=e.ChainReaderBase}],execute:function(){i._RF.push({},"c53fdBGjJ9ErZ9YjCCHL37A","chain.reader.berachain.testnet",void 0),e("ChainReaderBerachainTestnet",function(e){function i(){return e.apply(this,arguments)||this}return n(i,e),t(i,null,[{key:"instance",get:function(){return null==this._instance&&(this._instance=new i),this._instance}}]),i}(s))._instance=null,i._RF.pop()}}}));

System.register("chunks:///_virtual/chain.reader.interface.ts",["cc"],(function(){"use strict";var e;return{setters:[function(c){e=c.cclegacy}],execute:function(){e._RF.push({},"3314a0R+vJKW6WyceDYVWZD","chain.reader.interface",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/chain.reader.kaiachain.mainnet.ts",["./rollupPluginModLoBabelHelpers.js","cc","./chain.reader.base.ts"],(function(n){"use strict";var e,t,r,a,i,c;return{setters:[function(n){e=n.inheritsLoose,t=n.createClass,r=n.asyncToGenerator,a=n.regeneratorRuntime},function(n){i=n.cclegacy},function(n){c=n.ChainReaderBase}],execute:function(){i._RF.push({},"4c27aVqRqdGsLFMMNO1742p","chain.reader.kaiachain.mainnet",void 0),n("ChainReaderKaiachainMainnet",function(n){function i(){return n.apply(this,arguments)||this}e(i,n);var c=i.prototype;return c.getAward1Balance=function(){var n=r(a().mark((function n(){return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.getBalance("0x16A431B0d92396b28c040aE4a9e08b17FD69E4Ac");case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n,this)})));return function(){return n.apply(this,arguments)}}(),c.getAward2Balance=function(){var n=r(a().mark((function n(){return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.getBalance("0xeC7162D5723f143bC14b249A15f39c6fDE9f0b79");case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n,this)})));return function(){return n.apply(this,arguments)}}(),t(i,null,[{key:"instance",get:function(){return null==this._instance&&(this._instance=new i),this._instance}}]),i}(c))._instance=null,i._RF.pop()}}}));

System.register("chunks:///_virtual/chain.reader.tabichain.testnet.ts",["./rollupPluginModLoBabelHelpers.js","cc","./chain.reader.base.ts"],(function(n){"use strict";var e,t,i,s;return{setters:[function(n){e=n.inheritsLoose,t=n.createClass},function(n){i=n.cclegacy},function(n){s=n.ChainReaderBase}],execute:function(){i._RF.push({},"d96ddG59ONHDY7RgGfhi+Qu","chain.reader.tabichain.testnet",void 0),n("ChainReaderTabichainTestnet",function(n){function i(){return n.apply(this,arguments)||this}return e(i,n),t(i,null,[{key:"instance",get:function(){return null==this._instance&&(this._instance=new i),this._instance}}]),i}(s))._instance=null,i._RF.pop()}}}));

System.register("chunks:///_virtual/chain.system.ts",["./rollupPluginModLoBabelHelpers.js","cc","./base.system.ts","./plugin.settings.ts","./enum.plat.type.ts","./chain.reader.berachain.testnet.ts","./project.bera.testnet.ts","./chain.contract.erc20.ts","./chain.coin.origin.ts","./all.coin.config.ts","./chain.coin.erc20.ts","./event.dispatcher.ts","./event.name.ts","./wizard.wallet.sdk.ts","./project.tabi.testnet.ts","./chain.reader.tabichain.testnet.ts","./chain.contract.user.sign.ts","./ui.float.text.controller.ts","./chain.contract.test.faucet.ts","./ui.message.box.controller.ts","./chain.contract.mint.wizard.ts","./chain.contract.withdraw.wizz.ts","./chain.contract.withdraw.item.ts","./chain.contract.token.wizard.ts","./chain.contract.approve.proxy.ts","./chain.contract.marketplace.ts","./chain.contract.stake.wizard.ts","./table.helper.ts","./chain.reader.kaiachain.mainnet.ts","./project.kaia.mainnet.ts","./project.bera.mainnet.ts","./chain.reader.berachain.mainnet.ts","./bera.swap.mainnet.ts","./chain.contract.vesting.pool.ts","./chain.utils.ts","./chain.coin.bgt.ts","./chain.contract.bgt.ts","./chain.contract.token.item.v1.ts","./chain.contract.token.item.v2.ts"],(function(t){"use strict";var a,i,e,n,s,r,c,o,h,l,d,C,b,u,T,_,p,E,A,I,f,W,P,R,M,O,g,S,k,w,m,N,y,v,z,V,D,L,K,B,Z,F,x,G,H;return{setters:[function(t){a=t.inheritsLoose,i=t.createClass,e=t.asyncToGenerator,n=t.regeneratorRuntime},function(t){s=t.cclegacy,r=t._decorator},function(t){c=t.BaseSystem},function(t){o=t.PluginSettings},function(t){h=t.PlatType},function(t){l=t.ChainReaderBerachainTestnet},function(t){d=t.BERA_TESTNET_PROJECT},function(t){C=t.ChainContractErc20},function(t){b=t.ChainCoinOrigin},function(t){u=t.CoinType},function(t){T=t.ChainCoinErc20},function(t){_=t.EventDispatcher},function(t){p=t.EventName},function(t){E=t.WizardWalletSDK,A=t.EWalletState},function(t){I=t.TABI_TESTNET_PROJECT},function(t){f=t.ChainReaderTabichainTestnet},function(t){W=t.ChainContractUserSign},function(t){P=t.UIFloatTextController},function(t){R=t.ChainContractTestFaucet},function(t){M=t.UIMessageBoxController},function(t){O=t.ChainContractMintWizard},function(t){g=t.ChainContractWithdrawWizz},function(t){S=t.ChainContractWithdrawItem},function(t){k=t.ChainContractTokenWizard},function(t){w=t.ChainContractApproveProxy},function(t){m=t.ChainContractMarketplace},function(t){N=t.ChainContractStakeWizard},function(t){y=t.TableHelper},function(t){v=t.ChainReaderKaiachainMainnet},function(t){z=t.KAIA_MAINNET_PROJECT},function(t){V=t.BERA_MAINNET_PROJECT},function(t){D=t.ChainReaderBerachainMainnet},function(t){L=t.BeraSwapMainnet},function(t){K=t.ChainContractVestingPool},function(t){B=t.isWberaMainnet,Z=t.EMPTY_ADDRESS},function(t){F=t.ChainCoinBGT},function(t){x=t.ChainContractBGT},function(t){G=t.ChainContractTokenItemV1},function(t){H=t.ChainContractTokenItemV2}],execute:function(){var Y,U;s._RF.push({},"d1e22CAiCNLnZlQdRVF7tB8","chain.system",void 0);var X=r.ccclass;t("ChainSystem",X("ChainSystem")(((U=function(t){function s(){for(var a,i=arguments.length,e=new Array(i),n=0;n<i;n++)e[n]=arguments[n];return(a=t.call.apply(t,[this].concat(e))||this).useBeraChainId=0,a.beraTestnetSinger=null,a.allContracts=[],a.allCoinsMap=new Map,a.allCoinsList=[],a.beraTestnetDaySignin=null,a.beraTestnetFaucet=null,a.beraCoin=null,a.beraWizzCoin=null,a.beraBGTCoin=null,a.beraDexTokenList=null,a.beraRefreshPrice=null,a.beraContractApproveProxy=null,a.beraContractWizz=null,a.beraContractWizard=null,a.beraContractItemV1=null,a.beraContractItemV2=null,a.beraContractMintWizard=null,a.beraContractStakeWizard=null,a.beraContractWithdrawWizz=null,a.beraContractWithdrawItem=null,a.beraContractMarketplace=null,a.beraVestingPool=null,a.beraMarketplacePayTokenAddress="",a.refreshCoinTimeBlank=15,a.refreshCoinTime=0,a.refreshCoinPriceTimeBlank=15,a.refreshCoinPriceTime=0,a.minUseForGasWei=0n,a.isUseBeraMainnetSwap=!1,a}a(s,t);var r=s.prototype;return r.sysInitial=function(){this.addAllEvents(),this._initByPlugin(),this.minUseForGasWei=1000n},r.addAllEvents=function(){t.prototype.addAllEvents.call(this),_.on(p.WIZARD_WALLET_STATE_CHANGED,this._onWalletStatusChanged,this),_.on(p.CHAIN_MARKETPLACE_REFRESH_SELF_ORDER,this._onMarketplaceRefreshSelfOrder,this)},r.removeAllEvents=function(){t.prototype.removeAllEvents.call(this),_.off(p.WIZARD_WALLET_STATE_CHANGED,this._onWalletStatusChanged,this),_.on(p.CHAIN_MARKETPLACE_REFRESH_SELF_ORDER,this._onMarketplaceRefreshSelfOrder,this)},r.sysUpdate=function(a){t.prototype.sysUpdate.call(this,a),this._updateCoinData(a),this._updateCoinPrice(a)},r.beforeUseWalletCheck=function(){return E.isCreated()?E.isConnected()?!!this.checkChainCoinForGas(this.useBeraChainId):(P.AddTipI18nID_Info("u.2560"),!1):(P.AddTipI18nID_Info("u.2413"),!1)},r.checkWalletStatus=function(){return E.isCreated()?!!E.isConnected()||(P.AddTipI18nID_Info("u.2560"),!1):(M.AddPopMsgBox_SingleBtn(y.getI18nUIText("u.2413"),y.getI18nUIText("u.4004"),(function(){_.emit(p.UI_WALLET_CREATE_OPEN)})),!1)},r.checkChainCoinForGas=function(t,a){switch(void 0===a&&(a=!0),t){case d.chain.id:case V.chain.id:if(!this.beraCoin)return a&&P.AddTipI18nID_Info("u.2558"),!1;if(this.beraCoin.balanceWei<this.minUseForGasWei)return a&&P.AddTipI18nID_Info("u.2559"),!1;break;case I.chain.id:return!1}return!0},r.getCoin=function(t){return this.allCoinsMap.has(t)?this.allCoinsMap.get(t):null},r.getCoinByAddress=function(t,a){var i=t;a&&B(t)&&(i="0x0000000000000000000000000000000000000000");var e="80094-"+i.toLowerCase();return this.allCoinsMap.has(e)?this.allCoinsMap.get(e):null},r._onMarketplaceRefreshSelfOrder=function(){this.beraContractMarketplace&&this.beraContractMarketplace.refreshSelfOrderData()},r._onWalletStatusChanged=function(){if(E.walletState===A.Connected){this._setSinger();for(var t=0;t<this.allCoinsList.length;t+=1)this.allCoinsList[t].refreshBalance();this._refreshCoinPrice()}else this._clearSinger()},r._setSinger=function(){L.instance.setSinger(E.connectedWallet.beraMainnetSinger);for(var t=0;t<this.allContracts.length;t+=1){var a=this.allContracts[t];switch(a.chainReader.chainId){case d.chain.id:a.setSinger(E.connectedWallet.beraTestnetSinger);break;case V.chain.id:a.setSinger(E.connectedWallet.beraMainnetSinger);break;case I.chain.id:a.setSinger(E.connectedWallet.tabiTestnetSinger)}}for(var i=0;i<this.allCoinsList.length;i+=1){var e=this.allCoinsList[i];switch(e.chainId){case d.chain.id:e.setSinger(E.connectedWallet.beraTestnetSinger);break;case V.chain.id:e.setSinger(E.connectedWallet.beraMainnetSinger);break;case I.chain.id:e.setSinger(E.connectedWallet.tabiTestnetSinger)}}},r._clearSinger=function(){for(var t=0;t<this.allContracts.length;t+=1)this.allContracts[t].clearSinger();for(var a=0;a<this.allCoinsList.length;a+=1)this.allCoinsList[a].clearSinger()},r._updateCoinData=function(t){if(this.refreshCoinTime+=t,this.refreshCoinTime>this.refreshCoinTimeBlank){this.refreshCoinTime=0;for(var a=0;a<this.allCoinsList.length;a+=1)this.allCoinsList[a].refreshBalance()}},r._updateCoinPrice=function(t){this.refreshCoinPriceTime+=t,this.refreshCoinPriceTime>this.refreshCoinPriceTimeBlank&&(this.refreshCoinPriceTime=0,this._refreshCoinPrice())},r._refreshCoinPrice=function(){var t=this;null!==this.beraRefreshPrice&&this.beraRefreshPrice.fetchTokenPrice().then((function(a){a&&a.forEach((function(a){var i=t.allCoinsMap.get(a.key);i&&i.setPrice(a.price)}))})).catch((function(t){console.log(t)}))},r._initByPlugin=function(){switch(o.curPlatType){case h.COMMON:case h.KEBA:case h.TEST_SERVER:this._initPluginCommon();break;case h.FORMAL_TON_MAINNET:case h.FORMAL_X_MAINNET:case h.FORMAL_LINE_MAINNET:case h.FORMAL_WEB_MAINNET:this._initPluginFormal()}},r._initPluginCommon=function(){var t=e(n().mark((function t(){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.allContracts=[],this.allCoinsMap.clear(),this.allCoinsList=[],this._initKaiaMainnetProject(),this._initBeraTestnetProject();case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),r._initPluginFormal=function(){this.allContracts=[],this.allCoinsMap.clear(),this.allCoinsList=[],this._initKaiaMainnetProject(),this._initBeraMainnetProject()},r._initBeraMainnetProject=function(){this.useBeraChainId=V.chain.id,D.instance.init(V.chain),L.instance.init(),this.beraRefreshPrice=L.instance,this.isUseBeraMainnetSwap=!0,this.beraDexTokenList=V.dexTokenList;for(var t=V.coins,a=V.contracts,i=0;i<t.length;i+=1){var e=t[i];if(e.type===u.Chain){var n=new b;n.init(V.chain.id,e,D.instance),this.allCoinsMap.set(n.key,n),this.allCoinsList.push(n),this.beraCoin=n}else if(e.type===u.ERC20){var s=new C;s.init({address:e.address,abi:e.abi},D.instance),s.initOtherContractAddress(a.APPROVE_PROXY.address),this.allContracts.push(s);var r=new T;r.init(V.chain.id,e,s),this.allCoinsMap.set(r.key,r),this.allCoinsList.push(r),"WIZZ"===e.symbol&&(this.beraContractWizz=s,this.beraWizzCoin=r)}else if(e.type===u.BGT){var c=new x;c.init({address:e.address,abi:e.abi},D.instance),c.initOtherContractAddress(a.APPROVE_PROXY.address),this.allContracts.push(c);var o=new F;o.initBgt(V.chain.id,e,c),this.allCoinsMap.set(o.key,o),this.allCoinsList.push(o),this.beraBGTCoin=o}}a&&(a.TOKEN_WIZARD&&(this.beraContractWizard=new k,this.beraContractWizard.init({address:a.TOKEN_WIZARD.address,abi:a.TOKEN_WIZARD.abi},D.instance),this.beraContractWizard.initOtherContractAddress(a.APPROVE_PROXY.address),this.allContracts.push(this.beraContractWizard)),a.TOKEN_ITEM_V1&&(this.beraContractItemV1=new G,this.beraContractItemV1.init({address:a.TOKEN_ITEM_V1.address,abi:a.TOKEN_ITEM_V1.abi},D.instance),this.beraContractItemV1.initOtherContractAddress(a.APPROVE_PROXY.address),this.allContracts.push(this.beraContractItemV1)),a.TOKEN_ITEM_V2&&(this.beraContractItemV2=new G,this.beraContractItemV2.init({address:a.TOKEN_ITEM_V2.address,abi:a.TOKEN_ITEM_V2.abi},D.instance),this.beraContractItemV2.initOtherContractAddress(a.APPROVE_PROXY.address),this.allContracts.push(this.beraContractItemV2)),a.APPROVE_PROXY&&(this.beraContractApproveProxy=new w,this.beraContractApproveProxy.init({address:a.APPROVE_PROXY.address,abi:a.APPROVE_PROXY.abi},D.instance),this.beraContractApproveProxy.initOtherContractAddress(a.TOKEN_WIZARD.address,this.beraContractWizz.contractConfig.address,a.TOKEN_ITEM_V1?a.TOKEN_ITEM_V1.address:"",a.TOKEN_ITEM_V2.address),this.allContracts.push(this.beraContractApproveProxy)),a.DAY_SIGN_IN&&(this.beraTestnetDaySignin=new W,this.beraTestnetDaySignin.init({address:a.DAY_SIGN_IN.address,abi:a.DAY_SIGN_IN.abi},D.instance),this.allContracts.push(this.beraTestnetDaySignin)),a.TEST_FAUCET&&(this.beraTestnetFaucet=new R,this.beraTestnetFaucet.init({address:a.TEST_FAUCET.address,abi:a.TEST_FAUCET.abi},D.instance),this.allContracts.push(this.beraTestnetFaucet)),a.MINT_WIZARD&&(this.beraContractMintWizard=new O,this.beraContractMintWizard.init({address:a.MINT_WIZARD.address,abi:a.MINT_WIZARD.abi},D.instance),this.allContracts.push(this.beraContractMintWizard)),a.STAKE_WIZARD&&(this.beraContractStakeWizard=new N,this.beraContractStakeWizard.init({address:a.STAKE_WIZARD.address,abi:a.STAKE_WIZARD.abi},D.instance),this.allContracts.push(this.beraContractStakeWizard)),a.WITHDRAW_WIZZ&&(this.beraContractWithdrawWizz=new g,this.beraContractWithdrawWizz.init({address:a.WITHDRAW_WIZZ.address,abi:a.WITHDRAW_WIZZ.abi},D.instance),this.allContracts.push(this.beraContractWithdrawWizz)),a.WITHDRAW_ITEM&&(this.beraContractWithdrawItem=new S,this.beraContractWithdrawItem.init({address:a.WITHDRAW_ITEM.address,abi:a.WITHDRAW_ITEM.abi},D.instance),this.allContracts.push(this.beraContractWithdrawItem)),a.MARKETPLACE&&(this.beraContractMarketplace=new m,this.beraContractMarketplace.init({address:a.MARKETPLACE.address,abi:a.MARKETPLACE.abi},D.instance),this.beraContractMarketplace.initOtherContractAddress(a.TOKEN_WIZARD.address,a.TOKEN_ITEM_V2.address),this.beraContractMarketplace.usePayTokenAddress=Z,this.beraMarketplacePayTokenAddress=this.beraContractMarketplace.usePayTokenAddress,this.allContracts.push(this.beraContractMarketplace)),a.VESTING_POOL&&(this.beraVestingPool=new K,this.beraVestingPool.init({address:a.VESTING_POOL.address,abi:a.VESTING_POOL.abi},l.instance),this.allContracts.push(this.beraVestingPool)))},r._initBeraTestnetProject=function(){this.useBeraChainId=d.chain.id,l.instance.init(d.chain),this.beraDexTokenList=d.dexTokenList;for(var t=d.coins,a=d.contracts,i=0;i<t.length;i+=1){var e=t[i];if(e.type===u.Chain){var n=new b;n.init(d.chain.id,e,l.instance),this.allCoinsMap.set(n.key,n),this.allCoinsList.push(n),this.beraCoin=n}else if(e.type===u.ERC20){var s=new C;s.init({address:e.address,abi:e.abi},l.instance),s.initOtherContractAddress(a.APPROVE_PROXY.address),this.allContracts.push(s);var r=new T;r.init(d.chain.id,e,s),this.allCoinsMap.set(r.key,r),this.allCoinsList.push(r),"WIZZ"===e.symbol&&(this.beraContractWizz=s,this.beraWizzCoin=r)}else if(e.type===u.BGT){var c=new x;c.init({address:e.address,abi:e.abi},l.instance),c.initOtherContractAddress(a.APPROVE_PROXY.address),this.allContracts.push(c);var o=new F;o.initBgt(d.chain.id,e,c),this.allCoinsMap.set(o.key,o),this.allCoinsList.push(o),this.beraBGTCoin=o}}a&&(a.TOKEN_WIZARD&&(this.beraContractWizard=new k,this.beraContractWizard.init({address:a.TOKEN_WIZARD.address,abi:a.TOKEN_WIZARD.abi},l.instance),this.beraContractWizard.initOtherContractAddress(a.APPROVE_PROXY.address),this.allContracts.push(this.beraContractWizard)),a.TOKEN_ITEM_V2&&(this.beraContractItemV2=new H,this.beraContractItemV2.init({address:a.TOKEN_ITEM_V2.address,abi:a.TOKEN_ITEM_V2.abi},l.instance),this.beraContractItemV2.initOtherContractAddress(a.APPROVE_PROXY.address),this.allContracts.push(this.beraContractItemV2)),a.APPROVE_PROXY&&(this.beraContractApproveProxy=new w,this.beraContractApproveProxy.init({address:a.APPROVE_PROXY.address,abi:a.APPROVE_PROXY.abi},l.instance),this.beraContractApproveProxy.initOtherContractAddress(a.TOKEN_WIZARD.address,this.beraContractWizz.contractConfig.address,a.TOKEN_ITEM_V1?a.TOKEN_ITEM_V1.address:"",a.TOKEN_ITEM_V2.address),this.allContracts.push(this.beraContractApproveProxy)),a.MINT_WIZARD&&(this.beraContractMintWizard=new O,this.beraContractMintWizard.init({address:a.MINT_WIZARD.address,abi:a.MINT_WIZARD.abi},l.instance),this.allContracts.push(this.beraContractMintWizard)),a.STAKE_WIZARD&&(this.beraContractStakeWizard=new N,this.beraContractStakeWizard.init({address:a.STAKE_WIZARD.address,abi:a.STAKE_WIZARD.abi},l.instance),this.allContracts.push(this.beraContractStakeWizard)),a.WITHDRAW_WIZZ&&(this.beraContractWithdrawWizz=new g,this.beraContractWithdrawWizz.init({address:a.WITHDRAW_WIZZ.address,abi:a.WITHDRAW_WIZZ.abi},l.instance),this.allContracts.push(this.beraContractWithdrawWizz)),a.WITHDRAW_ITEM&&(this.beraContractWithdrawItem=new S,this.beraContractWithdrawItem.init({address:a.WITHDRAW_ITEM.address,abi:a.WITHDRAW_ITEM.abi},l.instance),this.allContracts.push(this.beraContractWithdrawItem)),a.MARKETPLACE&&(this.beraContractMarketplace=new m,this.beraContractMarketplace.init({address:a.MARKETPLACE.address,abi:a.MARKETPLACE.abi},l.instance),this.beraContractMarketplace.initOtherContractAddress(a.TOKEN_WIZARD.address,a.TOKEN_ITEM_V2.address),this.beraContractMarketplace.usePayTokenAddress=Z,this.beraMarketplacePayTokenAddress=this.beraContractMarketplace.usePayTokenAddress,this.allContracts.push(this.beraContractMarketplace)),a.VESTING_POOL&&(this.beraVestingPool=new K,this.beraVestingPool.init({address:a.VESTING_POOL.address,abi:a.VESTING_POOL.abi},l.instance),this.allContracts.push(this.beraVestingPool)))},r._initTabiTestnetProject=function(){f.instance.init(I.chain);for(var t=I.coins,a=0;a<t.length;a+=1){var i=t[a];if(i.type===u.Chain){var e=new b;e.init(I.chain.id,i,f.instance),this.allCoinsMap.set(e.key,e),this.allCoinsList.push(e)}else if(i.type===u.ERC20){var n=new C;n.init({address:i.address,abi:i.abi},f.instance),this.allContracts.push(n);var s=new T;s.init(I.chain.id,i,n),this.allCoinsMap.set(s.key,s),this.allCoinsList.push(s)}}},r._initKaiaMainnetProject=function(){v.instance.init(z.chain)},i(s,null,[{key:"instance",get:function(){return null==this._instance&&(this._instance=new s),this._instance}}]),s}(c))._instance=null,Y=U))||Y);s._RF.pop()}}}));

System.register("chunks:///_virtual/chain.utils.ts",["cc","./project.bera.mainnet.ts","./project.bera.testnet.ts","./project.tabi.testnet.ts"],(function(e){"use strict";var t,n,r,c;return{setters:[function(e){t=e.cclegacy},function(e){n=e.BERA_MAINNET_CONFIG},function(e){r=e.BERA_TESTNET_CONFIG},function(e){c=e.TABI_TESTNET_CONFIG}],execute:function(){e({getBeraScanMainnetUrl:function(e){return"https://berascan.com/address/"+e},getChainIconUrl:function(e){var t="";switch(e){case r.id:t=r.icon;break;case n.id:t=n.icon;break;case c.id:t=c.icon}return t},getChainName:function(e){var t="";switch(e){case r.id:t=r.name;break;case n.id:t=n.name;break;case c.id:t=c.name}return t},getChainSymbol:function(e){var t="";switch(e){case r.id:case n.id:t="BERA";break;case c.id:t="TABI"}return t},getChainTxUrl:function(e,t){var a=Number(e),i="";switch(a){case r.id:i=r.blockExplorer.url;break;case n.id:i=n.blockExplorer.url;break;case c.id:i=c.blockExplorer.url}return i+"tx/"+t},isWberaMainnet:function(e){return"0x6969696969696969696969696969696969696969"===e.toLowerCase()}}),t._RF.push({},"e81edOQUiFPP4t8oD4zCoo4","chain.utils",void 0);e("EMPTY_ADDRESS","0x0000000000000000000000000000000000000000");t._RF.pop()}}}));

System.register("chunks:///_virtual/chat.client.protocol.ts",["./rollupPluginModLoBabelHelpers.js","cc","./bytebuffer.min.mjs_cjs=&original=.js","./net.protocol.define.ts","./null.client.protocol.ts","./bytebuffer.min.js"],(function(t){"use strict";var e,i,n,r,s,a;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy},null,function(t){n=t.NetProtocolDefine},function(t){r=t.readStringWithFixedLengthFromByteBuffer,s=t.stNullClientCmd},function(t){a=t.default}],execute:function(){t("eBroadcastType",void 0),i._RF.push({},"a5f54Ng9u5FFKPLS+upSswN","chat.client.protocol",void 0);var m,h=t("stChatClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).gsCmd=n.CHAT_CLIENT_CMD,e}return e(i,t),i}(s)),u=t("ALL_CHAT_USERCMD_CLIENT",1),o=t("BROADCAST_CHAT_USERCMD_CLIENT",2),c=t("ADD_TEAMMEMBER_USERCMD_CLIENT",3),f=t("REMOVE_TEAMMEMBER_USERCMD_CLIENT",4),l=t("REQUEST_TEAM_USERCMD_CLIENT",5),C=t("ANSWER_TEAM_USERCMD_CLIENT",6),d=t("CREATE_CHANNEL_USERCMD_CLIENT",7),T=t("INVITE_CHANNEL_USERCMD_CLIENT",8),E=t("JOIN_CHANNEL_USERCMD_CLIENT",9),_=t("LEAVE_CHANNEL_USERCMD_CLIENT",10),I=t("REQUEST_TEAMMEMBER_POSITION_CLIENT",11),B=t("RETURN_TEAMMEMBER_POSITION_CLIENT",11),y=t("QUESTION_OBJECT_CLIENT",12),N=t("RETURN_QUESTION_OBJECT_CLIENT",13),U=t("TEAMMEMBER_OFFLINE_CLIENT",14),p=t("AUTO_REPLY_CLIENT",15),S=t("GET_ITEM_LIST_CLIENT",16),R=t("FRESH_TEAMMEMBER_CLIENT",19),M=t("DIRTY_USER_CLIENT",20),L=t("REQUEST_COUNTRY_HELP_CLIENT",23),g=t("KILL_FOREIGNER_CLIENT",24),A=t("REFRESH_BOSS_CLIENT",25),P=t("KILL_BOSS_CLIENT",26),v=t("REQUEST_CHANGE_TEAM_LEADER_CLIENT",27),D=t("SET_AUTO_INTO_TEAM_CLIENT",28),w=t("RANDOM_SPEAK_CLIENT",29),F=t("REQUEST_BRIEF_USER_INFO_CLIENT",30),O=t("RETURN_BRIEF_USER_INFO_CLIENT",31),k=t("REQUEST_UNION_INFO_CLIENT",32),W=t("RETURN_UNION_INFO_CLIENT",33),H=t("CREATE_NEW_TEAM_CLIENT",34),b=t("TEAMMEMBER_ONLINE_CLIENT",35),x=t("SERVER_COUNT_DOWN_CLIENT",36),Y=t("YUYANBAO_VARS_CLIENT",37),z=t("TEAM_SHORTCUT_CMD_CLIENT",38),V=t("ALL_CHAT_USERCMD_HISTORY_CLIENT",40);!function(t){t[t.eBroadcastType_WorkerMajor=1]="eBroadcastType_WorkerMajor",t[t.eBroadcastType_WorkerSynthesis=2]="eBroadcastType_WorkerSynthesis"}(m||(m=t("eBroadcastType",{})));t("stTeamMemberData",(function(){})),t("stTeamMemberPositionClientCmd",(function(){})),t("stGetItemList",(function(){this.mId=0,this.mNum=0})),t("stChannelChatClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).mChatType=0,e.mMsgType=0,e.mChatTime=0,e.mFromID=0,e.mFromTempID=0,e.mToID=0,e.mFromName="",e.mAvatarsType="",e.mSize=0,e.mStrChat="",e.gsParam=u,e}e(i,t);var r=i.prototype;return r.UnPack=function(e){t.prototype.UnPack.call(this,e),this.mChatType=this.mByteBuffer.readUint8(),this.mMsgType=this.mByteBuffer.readUint8(),this.mChatTime=this.mByteBuffer.readUint32(),this.mFromID=this.mByteBuffer.readUint32(),this.mFromTempID=this.mByteBuffer.readUint32(),this.mToID=this.mByteBuffer.readUint32(),this.mFromName=this.ReadStringWithFixedLength(n.NAME_SIZE_MAX),this.mAvatarsType=this.ReadStringWithFixedLength(n.CHAIN_AVATARS_TYPE_LEN),this.mSize=this.mByteBuffer.readUint16(),this.mStrChat=this.ReadStringWithFixedLength(this.mSize),this.ReleaseByteBuffer()},r.Pack=function(){t.prototype.Pack.call(this),this.mByteBuffer.writeUint8(this.mChatType),this.mByteBuffer.writeUint8(this.mMsgType),this.mByteBuffer.writeUint32(this.mChatTime),this.mByteBuffer.writeUint32(this.mFromID),this.mByteBuffer.writeUint32(this.mFromTempID),this.mByteBuffer.writeUint32(this.mToID),this.WriteStringWithFixedLength(this.mFromName,n.NAME_SIZE_MAX),this.WriteStringWithFixedLength(this.mAvatarsType,n.CHAIN_AVATARS_TYPE_LEN),this.mSize=a.calculateUTF8Bytes(this.mStrChat)+1,this.mByteBuffer.writeUint16(this.mSize),this.WriteStringWithFixedLength(this.mStrChat,this.mSize)},i}(h));var X=t("stChitChatClientData",function(){function t(){this.mdwType=0,this.mdwSysInfoType=1,this.mdwFromID=0,this.mdwToID=0,this.mdwChatTime=0,this.mStrName="",this.mHeadIcon="",this.mvxID="",this.mSex=0,this.mLevel=0,this.mSize=0,this.mPsChat=""}return t.prototype.UnPackData=function(t){this.mdwType=t.readUint8(),this.mdwSysInfoType=t.readUint8(),this.mdwFromID=t.readUint32(),this.mdwToID=t.readUint32(),this.mdwChatTime=t.readUint32(),this.mStrName=r(t,n.NAME_SIZE_MAX),this.mHeadIcon=r(t,n.HEAD_ICON_SIZE_MAX),this.mvxID=r(t,n.WX_ACCOUNT_SIZE_MAX),this.mSex=t.readUint8(),this.mLevel=t.readUint16(),this.mSize=t.readUint16(),this.mPsChat=r(t,this.mSize)},t}());t("stYuYanBaoVarsClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).mdwType=0,e.mdwSysInfoType=0,e.mYuyanbao=0,e.mCount=0,e.mVarValue=null,e.gsParam=Y,e}return e(i,t),i.prototype.UnPack=function(e){t.prototype.UnPack.call(this,e),this.mdwType=this.mByteBuffer.readUint8(),this.mdwSysInfoType=this.mByteBuffer.readUint8(),this.mYuyanbao=this.mByteBuffer.readUint16(),this.mCount=this.mByteBuffer.readUint8(),this.mVarValue=[];for(var i=0;i<this.mCount;i++)this.mVarValue[i]=this.ReadStringWithFixedLength(n.NAME_SIZE_MAX);this.ReleaseByteBuffer()},i}(h)),t("stRemoveTeamClientCmd",function(t){function i(){return t.call(this)||this}return e(i,t),i}(h)),t("stAddTeamMemberClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).gsParam=c,e}return e(i,t),i}(h)),t("stRemoveTeamMemberClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).dwTeamID=0,e.userId=0,e.gsParam=f,e}return e(i,t),i}(h)),t("stRequestTeamClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).gsParam=l,e}return e(i,t),i}(h)),t("stAnswerTeamClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).dwRequestUserID=0,e.dwAnswerUserID=0,e.byAgree=0,e.applyOrInvite=1,e.gsParam=C,e}return e(i,t),i}(h)),t("stCreateChannelClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).dwChannelID=0,e.dwClientID=0,e.name="",e.name2="",e.gsParam=d,e}return e(i,t),i}(h)),t("stInvite_ChannelClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).dwChannelID=0,e.name="",e.dwCharType=0,e.gsParam=T,e}return e(i,t),i}(h)),t("stJoin_ChannelClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).dwChannelID=0,e.name="",e.gsParam=E,e}return e(i,t),i}(h)),t("stLeave_ChannelClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).gsParam=_,e}return e(i,t),i}(h)),t("stRequestTeamMemberPositionClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).gsParam=I,e}return e(i,t),i}(h)),t("stReturnTeamMemberPositionClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).gsParam=B,e}return e(i,t),i}(h)),t("stQuestionObjectClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).gsParam=y,e}return e(i,t),i}(h)),t("stReturnQuestionObjectClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).gsParam=N,e}return e(i,t),i}(h)),t("stTeamMemberOfflineClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).gsParam=U,e}return e(i,t),i}(h)),t("stAutoReplyClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).gsParam=p,e}return e(i,t),i}(h)),t("stGetItemListClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).gsParam=S,e}return e(i,t),i}(h)),t("stFreshTeamMemberClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).userId=0,e.dwMaxHealth=0,e.dwHealth=0,e.curCard=0,e.cardLevel=0,e.level=0,e.dwMaxMp=0,e.dwMp=0,e.gsParam=R,e}return e(i,t),i}(h)),t("stDirtyUserClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).type=0,e.gsParam=M,e}return e(i,t),i}(h)),t("stRequestCountryHelpClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).mMapName="",e.mX=0,e.mY=0,e.gsParam=L,e}e(i,t);var r=i.prototype;return r.UnPack=function(e){t.prototype.UnPack.call(this,e),this.mMapName=this.ReadStringWithFixedLength(n.NAME_SIZE_MAX),this.mX=this.mByteBuffer.readUint16(),this.mY=this.mByteBuffer.readUint16(),this.ReleaseByteBuffer()},r.Pack=function(){t.prototype.Pack.call(this),this.WriteStringWithFixedLength(this.mMapName,n.NAME_SIZE_MAX),this.mByteBuffer.writeUint16(this.mX),this.mByteBuffer.writeUint16(this.mY)},i}(h)),t("stKillForeignerClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).gsParam=g,e}return e(i,t),i}(h)),t("stRefreshBossClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).mNpcId=0,e.mCountry=0,e.mMapName="",e.mTime=0,e.gsParam=A,e}e(i,t);var r=i.prototype;return r.UnPack=function(e){t.prototype.UnPack.call(this,e),this.mNpcId=this.mByteBuffer.readUint32(),this.mCountry=this.mByteBuffer.readUint8(),this.mMapName=this.ReadStringWithFixedLength(n.NAME_SIZE_MAX),this.mTime=this.mByteBuffer.readUint8(),this.ReleaseByteBuffer()},r.Pack=function(){t.prototype.Pack.call(this),this.mByteBuffer.writeUint32(this.mNpcId),this.mByteBuffer.writeUint8(this.mCountry),this.WriteStringWithFixedLength(this.mMapName,n.NAME_SIZE_MAX),this.mByteBuffer.writeUint8(this.mTime)},i}(h)),t("stKillBossClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).gsParam=P,e}return e(i,t),i}(h)),t("stRequestChangeTeamLeaderClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).newLeaderUserID=0,e.gsParam=v,e}return e(i,t),i}(h)),t("stSetAutoIntoTeamClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).autoIntoTeam=1,e.gsParam=D,e}return e(i,t),i}(h)),t("stRandomSpeakTeamClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).gsParam=w,e}return e(i,t),i}(h)),t("stRequestBriefUserInfoClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).myTempId=0,e.tempId=0,e.gsParam=F,e}return e(i,t),i}(h)),t("stReturnBriefUserInfoClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).gsParam=O,e}return e(i,t),i}(h)),t("stRequestUnionInfoClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).unionId=0,e.gsParam=k,e}return e(i,t),i}(h)),t("stReturnUnionInfoClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).gsParam=W,e}return e(i,t),i}(h)),t("stCreateNewTeamClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).gsParam=H,e}return e(i,t),i}(h)),t("stTeamMemberOnlineClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).userId=0,e.gsParam=b,e}return e(i,t),i}(h)),t("stServerCountDownClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).delay=0,e.content=null,e.gsParam=x,e}return e(i,t),i}(h)),t("stTeamShortcutCmdClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).enumType=0,e.tempId=0,e.gsParam=z,e}e(i,t);var n=i.prototype;return n.UnPack=function(e){t.prototype.UnPack.call(this,e),this.enumType=this.mByteBuffer.readUint8(),this.tempId=this.mByteBuffer.readUint32(),this.ReleaseByteBuffer()},n.Pack=function(){t.prototype.Pack.call(this),this.mByteBuffer.writeUint8(this.enumType),this.mByteBuffer.writeUint32(this.tempId)},i}(h)),t("stChannelChatHistoryClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).mCount=0,e.mSize=0,e.mChar=new Array,e.gsParam=V,e}return e(i,t),i.prototype.UnPack=function(e){t.prototype.UnPack.call(this,e),this.mSize=this.mByteBuffer.readUint16(),this.mCount=this.mByteBuffer.readUint8(),this.mChar=[];for(var i=0;i<this.mCount;i+=1)this.mChar[i]=new X,this.mChar[i].UnPackData(this.mByteBuffer);this.ReleaseByteBuffer()},i}(h)),t("stBroadcastChatClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).broadcastType=0,e.broadcastTime="0",e.useID=0,e.nickName="",e.mSize=0,e.mText="",e.gsParam=o,e}return e(i,t),i.prototype.UnPack=function(e){t.prototype.UnPack.call(this,e),this.broadcastType=this.mByteBuffer.readUint8(),this.broadcastTime=this.mByteBuffer.readUint64().toString(),this.useID=this.mByteBuffer.readUint32(),this.nickName=this.ReadStringWithFixedLength(512),this.mSize=this.mByteBuffer.readUint16(),this.mText=this.ReadStringWithFixedLength(this.mSize),this.ReleaseByteBuffer()},i}(h));i._RF.pop()}}}));

System.register("chunks:///_virtual/common.tool.ts",["./rollupPluginModLoBabelHelpers.js","cc","./all.define.ts"],(function(e){"use strict";var t,n,o,r,a,i,c,s,u,l,d;return{setters:[function(e){t=e.asyncToGenerator,n=e.regeneratorRuntime},function(e){o=e.cclegacy,r=e._decorator,a=e.sp,i=e.js,c=e.error,s=e.log,u=e.native,l=e.sys},function(e){d=e.EMPTY_WALLET_ADDRESS}],execute:function(){var m;o._RF.push({},"63a708dt2JNzIXfJZf+qC0t","common.tool",void 0);var p=r.ccclass;e("CommonTool",p("CommonTool")(m=function(){function e(){}return e.isEmptyAddress=function(e){return e===d},e.getCurTimestamp=function(){return Math.round(Date.now()/1e3)},e.sleep=function(){var e=t(n().mark((function e(t){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){setTimeout((function(){e(!0)}),t)})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.prefixMapTexInteger=function(e){return e<10?"0"+e:e.toString()},e.getBrowserLanguage=function(){var e;return(null==(e=navigator)?void 0:e.language)||"en"},e.isInTwitterFrame=function(){return!(!document.referrer||"https://twitter.com/"!==document.referrer&&"https://x.com/"!==document.referrer)},e.prefixInteger=function(e,t){return(Array(t).join("0")+e).slice(-t)},e.shortAddress=function(e,t){if(void 0===t&&(t=4),e&&""!==e){var n=e.substring(0,t),o=e.substring(e.length-t,e.length);return n.concat("...").concat(o)}return e},e.shareFromScreenToTwitter=function(){var e=encodeURIComponent("Come to SNW metaverse and find me in https://app.snw.ai . #meta #metaverse #NFT #socialFi #gameFi #DID"),t=encodeURI(["crypto","giveaway","NFT","Metaverse","Nightclub","Party"].join(","));window.open("https://twitter.com/intent/tweet?text="+e+"&hashtags="+t,"_blank")},e.shareFromSlamToTwitter=function(){var e=encodeURIComponent("Come to SNW metaverse and find me in https://app.snw.ai . #meta #metaverse #NFT #socialFi #gameFi #DID"),t=encodeURI(["crypto","giveaway","NFT","Metaverse","Nightclub","Party"].join(","));window.open("https://twitter.com/intent/tweet?text="+e+"&hashtags="+t,"_blank")},e.shareFromScreenToInstagram=function(){},e.copySkeletonData=function(e,t,n){void 0===n&&(n=!0);var o=new Date,r=e.animation,c=t,s=new a.SkeletonData;i.mixin(s,c),s._uuid=c._uuid+"_"+o.getTime()+"_copy";var u=s.name,l=s.name+"_copy";s.name=l,s.atlasText=s.atlasText.replace(u,l),s.textureNames[0]=l+".png",s.init&&s.init(),n&&(e.skeletonData=s,""!==r&&e.setAnimation(0,r,!0))},e.copyTextEvent=function(e){return new Promise((function(t){if(navigator&&navigator.clipboard)navigator.clipboard.writeText(e).then((function(){t()}));else{var n=document.createElement("textarea");n.value=e,n.setAttribute("readonly",""),n.style.position="absolute",n.style.left="-9999px",n.style.fontSize="12pt";var o,r=getSelection();r.rangeCount>0&&(o=r.getRangeAt(0)),document.body.appendChild(n),n.select(),n.selectionStart=0,n.selectionEnd=e.length;try{document.execCommand("copy")}catch(e){c("copy text failed:",e)}document.body.removeChild(n),o&&(r.removeAllRanges(),r.addRange(o)),t()}}))},e.saveToLocal=function(e,t,n,o){void 0===n&&(n=".png"),void 0===o&&(o="Image"),s("save path：",u.fileUtils.getWritablePath());var r=u.fileUtils.getWritablePath()+o+n;return u.saveImageData(e,t.width,t.height,r)?r:null},e.saveImageForBrowser=function(e,t){if(l.isBrowser){var n=document.createElement("a");n.download=t,n.innerHTML="Download File",null!=window.webkitURL?n.href=e:(n.href=e,n.onclick=function(){document.body.removeChild(n)},n.style.display="none",document.body.appendChild(n)),n.click()}},e.saveJsonForBrowser=function(e,t){if(l.isBrowser){var n=new Blob([e],{type:"application/json"}),o=document.createElement("a");o.download=t,o.innerHTML="Download",null!=window.webkitURL?o.href=window.webkitURL.createObjectURL(n):(o.href=window.URL.createObjectURL(n),o.style.display="none",o.onclick=function(){document.body.removeChild(o)},document.body.appendChild(o)),o.click()}},e.twitterGotoUrl=function(e){top.location.href=e},e.copyTextNew=function(){var e=t(n().mark((function e(t){var o,r,a;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,o=navigator,!(r=o.clipboard)){e.next=6;break}return e.next=5,r.writeText(t);case 5:return e.abrupt("return",e.sent);case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),s(e.t0);case 11:(a=document.createElement("textarea")).value=t,a.style.top="0",a.style.left="0",a.style.position="fixed",document.body.appendChild(a),a.focus(),a.select();try{document.execCommand("copy")}finally{document.body.removeChild(a)}case 20:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),e}())||m);o._RF.pop()}}}));

System.register("chunks:///_virtual/constants.ts",["cc"],(function(t){"use strict";var T;return{setters:[function(t){T=t.cclegacy}],execute:function(){T._RF.push({},"ff4e9b/bGpFtLyDT3TUcomi","constants",void 0);t("QRMode",{MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8}),t("QRErrorCorrectLevel",{L:1,M:0,Q:3,H:2}),t("QRMaskPattern",{PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7});T._RF.pop()}}}));

System.register("chunks:///_virtual/copy.client.protocol.ts",["./rollupPluginModLoBabelHelpers.js","cc","./net.protocol.define.ts","./null.client.protocol.ts"],(function(t){"use strict";var n,e,o,i;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy},function(t){o=t.NetProtocolDefine},function(t){i=t.stNullClientCmd}],execute:function(){e._RF.push({},"764deRVSvlIL41pbrmvOCSm","copy.client.protocol",void 0);var r=t("stCopyClientCmd",function(t){function e(){var n;return(n=t.call(this)||this).gsCmd=o.COPY_CLIENT_CMD,n}return n(e,t),e}(i)),c=t("CREATE_COPY_CLIENT",4),s=t("QUIT_COPY_CLIENT",15);t("stCreateCopyClientCmd",function(t){function e(){var n;return(n=t.call(this)||this).copyID=0,n.directInto=0,n.gsParam=c,n}return n(e,t),e.prototype.Pack=function(){t.prototype.Pack.call(this),this.mByteBuffer.writeUint16(this.copyID),this.mByteBuffer.writeUint8(this.directInto)},e}(r)),t("stQuitCopyClientCmd",function(t){function e(){var n;return(n=t.call(this)||this).gsParam=s,n}return n(e,t),e}(r));e._RF.pop()}}}));

System.register("chunks:///_virtual/data.anim.name.ts",["cc","./enum.anim.state.ts"],(function(n){"use strict";var a,i;return{setters:[function(n){a=n.cclegacy},function(n){i=n.EAnimState}],execute:function(){a._RF.push({},"121995cH+VEfqO3IgBf4n4V","data.anim.name",void 0);n("DefineWholeAnimConfig",[{anim:i.Idle,name:"idle"},{anim:i.Walk,name:"walking"},{anim:i.Run,name:"walking2"},{anim:i.Die,name:"idle"},{anim:i.BeHit,name:"hurt"},{anim:i.Stun,name:"idle"},{anim:i.Win,name:"idle"},{anim:i.XiuXian,name:"idle"},{anim:i.Revive,name:"idle"},{anim:i.Drop,name:"drop"},{anim:i.Attack,name:"attack"},{anim:i.Doing,name:"doing"},{anim:i.Hunger,name:"hunger"},{anim:i.Mining,name:"mining"},{anim:i.Watering,name:"watering"}]);a._RF.pop()}}}));

System.register("chunks:///_virtual/data.i18n.inner.ts",["cc"],(function(e){"use strict";var a;return{setters:[function(e){a=e.cclegacy}],execute:function(){a._RF.push({},"f4955OpQX5MJbZjg1o0otuw","data.i18n.inner",void 0);e("DefineI18nInner",[{yybName:"i.101",zh:"确认",en:"Confirm",jp:"確認",hk:"Confirm",ko:"Confirm",ru:"Confirm"},{yybName:"i.102",zh:"取消",en:"Cancel",jp:"キャンセル",hk:"Cancel",ko:"Cancel",ru:"Cancel"},{yybName:"i.1001",zh:"下载文件中",en:"Downloading file",jp:"ダウンロードファイル",hk:"Downloading file",ko:"Downloading file",ru:"Downloading file"},{yybName:"i.1002",zh:"加载配置",en:"loading config",jp:"構成のロード",hk:"loading config",ko:"loading config",ru:"loading config"},{yybName:"i.1003",zh:"游戏维护中，请稍后!",en:"Game maintenance,please wait!",jp:"ゲームメンテナンス中ですので、しばらくお待ちください!",hk:"Game maintenance,please wait!",ko:"Game maintenance,please wait!",ru:"Game maintenance,please wait!"},{yybName:"i.1004",zh:"游戏在其他标签页中打开，请到目标标签页中玩游戏！",en:"Game opened in other tab pages,please to the tab page play game!",jp:"ゲームは他のタブページで開きますので、ターゲットタブページでゲームをしてください！",hk:"Game opened in other tab pages,please to the tab page play game!",ko:"Game opened in other tab pages,please to the tab page play game!",ru:"Game opened in other tab pages,please to the tab page play game!"},{yybName:"i.1005",zh:"加载文件",en:"loading text config",jp:"ファイルのロード",hk:"loading text config",ko:"loading text config",ru:"loading text config"},{yybName:"i.1006",zh:"X 登录",en:"Login by X",jp:"X ログイン",hk:"Login by X",ko:"Login by X",ru:"Login by X"},{yybName:"i.1007",zh:"LINE 登录",en:"Login by LINE",jp:"LINE ログイン",hk:"Login by LINE",ko:"Login by LINE",ru:"Login by LINE"},{yybName:"i.1008",zh:"加载",en:"loading",jp:"ロード中",hk:"loading",ko:"loading",ru:"loading"},{yybName:"i.1009",zh:"资源下载完成",en:"loading all res finish",jp:"リソースのダウンロードが完了しました",hk:"loading all res finish",ko:"loading all res finish",ru:"loading all res finish"},{yybName:"i.2001",zh:"请刷新页面进行游戏更新",en:"Please refresh to upgrade your client",jp:"ゲームの更新にはページを更新してください",hk:"Please refresh to upgrade your client",ko:"Please refresh to upgrade your client",ru:"Please refresh to upgrade your client"},{yybName:"i.2002",zh:"这个账号行为异常，已被封禁",en:"This account has abnormal behavior and has been banned!",jp:"このアカウントは異常な行動をしており、閉鎖されている",hk:"This account has abnormal behavior and has been banned!",ko:"This account has abnormal behavior and has been banned!",ru:"This account has abnormal behavior and has been banned!"},{yybName:"i.2003",zh:"账号信息过期，请重新登录!",en:"Account information has expired, please log in again!",jp:"アカウント情報の有効期限が切れましたので、再度ログインしてください!",hk:"Account information has expired, please log in again!",ko:"Account information has expired, please log in again!",ru:"Account information has expired, please log in again!"}]);a._RF.pop()}}}));

System.register("chunks:///_virtual/data.pay.ts",["cc"],(function(t){"use strict";var c;return{setters:[function(t){c=t.cclegacy}],execute:function(){var r;t("EPayCurrency",void 0),c._RF.push({},"6467cNFfWJFirANFMQ4rIWS","data.pay",void 0),function(t){t[t.USD=0]="USD",t[t.KRW=1]="KRW",t[t.JPY=2]="JPY",t[t.NTD=3]="NTD",t[t.THB=4]="THB",t[t.KAIA=100]="KAIA"}(r||(r=t("EPayCurrency",{}))),c._RF.pop()}}}));

System.register("chunks:///_virtual/dex.bera.interface.ts",["cc"],(function(){"use strict";var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"04fb8oq0dJE5qZPgMs9yCL5","dex.bera.interface",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/dex.bera.pool.mainnet.ts",["cc"],(function(e){"use strict";var c;return{setters:[function(e){c=e.cclegacy}],execute:function(){c._RF.push({},"5e2dbKNW25Bp6IrNd50ux4m","dex.bera.pool.mainnet",void 0);e("DexPoolIdsMainnet",["0xde04c469ad658163e2a5e860a03a86b52f6fa8c8000000000000000000000000","0xf961a8f6d8c69e7321e78d254ecafbcc3a637621000000000000000000000001","0x2c4a603a2aa5596287a06886862dc29d56dbc354000200000000000000000002","0xdd70a5ef7d8cfe5c5134b5f9874b09fb5ce812b4000200000000000000000003","0x38fdd999fe8783037db1bbfe465759e312f2d809000200000000000000000004"]),e("DexVaultIdsMainnet",["0xc2baa8443cda8ebe51a640905a8e6bc4e1f9872c","0x086f82fa0ca310cc835a9db4f53697687ef149c7","0x17376ad6167a5592fbeaa42e6068c132474a513d","0x6649bc987a7c0fb0199c523de1b1b330cd0457a8","0xf99be47baf0c22b7eb5eac42c8d91b9942dc7e84"]),e("DexValidatorsIdsMainnet",["0x482a2049a2ca55eb9b4dd5818fea5f9aafcf1fc73494d6834771f505cfa35a0f","0x869bd71d03de95862aca3507131ddfd6922643b314d2175c29dd502cf6714d96","0x7627829f0b6b5368f296704e04119e4635f6fb6da1be61bf252bc5fba0e05695","0x6b445ae600aff5c50403318485012783d9d04cd8c1ec9591998868220520857b","0x04cb1d078908f702fe8ab4d97182ad76fe07b0de2291a5351e4ab28b5e3ef5e1"]),e("PoolCoinIconUrl",[{symbol:"WBERA",address:"0x6969696969696969696969696969696969696969",iconUrl:"https://resource.wizzwoods.com/icon/bera_wbera.png"},{symbol:"HONEY",address:"0xFCBD14DC51f0A4d49d5E53C2E0950e0bC26d0Dce",iconUrl:"https://resource.wizzwoods.com/icon/bera_HONEY.png"},{symbol:"BYUSD",address:"0x688e72142674041f8f6Af4c808a4045cA1D6aC82",iconUrl:"https://resource.wizzwoods.com/icon/common_BYUSD.png"},{symbol:"USDC.e",address:"0x549943e04f40284185054145c6E4e9568C1D3241",iconUrl:"https://resource.wizzwoods.com/icon/common_USDCE.png"},{symbol:"WBTC",address:"0x0555E30da8f98308EdB960aa94C0Db47230d2B9c",iconUrl:"https://resource.wizzwoods.com/icon/common_WBTC.png"},{symbol:"WETH",address:"0x2F6F07CDcf3588944Bf4C42aC74ff24bF56e7590",iconUrl:"https://resource.wizzwoods.com/icon/common_WETH.png"}]);c._RF.pop()}}}));

System.register("chunks:///_virtual/effect.move.base.ts",["cc"],(function(){"use strict";var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"ec042aSlj9ANZIm1xdEN8yK","effect.move.base",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/effect.move.line.ts",["cc","./enum.effect.define.ts"],(function(e){"use strict";var t,i,o,n,c;return{setters:[function(e){t=e.cclegacy,i=e._decorator,o=e.v3,n=e.Vec3},function(e){c=e.EEffectMoveMode}],execute:function(){var r;t._RF.push({},"b6c29+54GFHwqi1b7GLlUmd","effect.move.line",void 0);var s=i.ccclass;e("EffectMoveLine",s("EffectMoveLine")(r=function(){function e(){this.MoveSpeed=0,this.MoveDir=o(),this.MaxMoveDis=Number.MAX_VALUE,this.FlyHeight=0}var t=e.prototype;return t.GetMoveMode=function(){return c.Line},t.MoveUpdate=function(e,t){var i=this.MoveSpeed*e,c=o(i,i,i),r=o();r=n.multiply(r,c,this.MoveDir);var s=o();return s=n.add(s,t,r)},t.IsMoveMaxDis=function(e){return this.MaxMoveDis!==Number.MAX_VALUE&&e>=this.MaxMoveDis},e}())||r);t._RF.pop()}}}));

System.register("chunks:///_virtual/effect.move.parabola.ts",["cc","./enum.effect.define.ts"],(function(t){"use strict";var a,e,i,s,o,r,n;return{setters:[function(t){a=t.cclegacy,e=t._decorator,i=t.randomRange,s=t.v3,o=t.Vec3,r=t.Vec2},function(t){n=t.EEffectMoveMode}],execute:function(){var h;a._RF.push({},"5341crdTqVETbzhMK+gveL5","effect.move.parabola",void 0);var c=e.ccclass;t("EffectMoveParabola",c("EffectMoveParabola")(h=function(){function t(){this.MoveSpeed=0,this.MoveDir=o.ZERO,this.MaxMoveDis=Number.MAX_VALUE,this.FlyHeight=0,this.StartPos=o.ZERO,this.EndPos=o.ZERO,this.mRandomGravity=0,this.mParaB=0,this.mPlacement=r.ZERO}var a=t.prototype;return a.InitParam=function(){var t=i(2,3);this.mRandomGravity=-2*Math.sqrt(t)/this.MaxMoveDis,this.mPlacement.x=this.MaxMoveDis,this.mPlacement.y=this.EndPos.y,this.mParaB=(-this.mPlacement.y-Math.pow(this.mRandomGravity,2)*Math.pow(this.mPlacement.x,2))/(2*this.mPlacement.x*this.mRandomGravity)},a.GetMoveMode=function(){return n.Parabola},a.MoveUpdate=function(t,a){var e=this.MoveSpeed*t,i=s(e,e,e),r=s();r=o.multiply(r,i,this.MoveDir);var n=s();n=o.add(n,a,r);var h=s(n.x,0,n.z),c=s(this.StartPos.x,0,this.StartPos.z),m=s();m=o.subtract(m,h,c);var v=o.len(m);return n.y=this.StartPos.y-(Math.pow(this.mRandomGravity,2)*Math.pow(v,2)+2*this.mRandomGravity*this.mParaB*v),n},a.IsMoveMaxDis=function(t){return this.MaxMoveDis!==Number.MAX_VALUE&&t>=this.MaxMoveDis},t}())||h);a._RF.pop()}}}));

System.register("chunks:///_virtual/effect.move.static.ts",["cc","./enum.effect.define.ts"],(function(t){"use strict";var e,c,n,o;return{setters:[function(t){e=t.cclegacy,c=t._decorator,n=t.Vec3},function(t){o=t.EEffectMoveMode}],execute:function(){var f;e._RF.push({},"33006iseChEkLtmtygkz9tk","effect.move.static",void 0);var r=c.ccclass;t("EffectMoveStatic",r("EffectMoveStatic")(f=function(){function t(){}var e=t.prototype;return e.GetMoveMode=function(){return o.Static},e.MoveUpdate=function(t,e){return n.ZERO},e.IsMoveMaxDis=function(t){return!1},t}())||f);e._RF.pop()}}}));

System.register("chunks:///_virtual/effect.object.base.ts",["./rollupPluginModLoBabelHelpers.js","cc","./engine.effect.ts","./enum.engine.ts","./enum.object.type.ts","./object.base.ts","./enum.effect.define.ts"],(function(t){"use strict";var e,i,n,s,f,c,o,l,m;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass},function(t){n=t.cclegacy,s=t._decorator},function(t){f=t.EngineEffect},function(t){c=t.EEngineObjLoadState},function(t){o=t.EObjectType},function(t){l=t.ObjectBase},function(t){m=t.EEffectType}],execute:function(){var h;n._RF.push({},"dd342x+r/JF4Zh1xTZ7xPSP","effect.object.base",void 0);var r=s.ccclass;t("EffectObjectBase",r("EffectObjectBase")(h=function(t){function n(){var e;return(e=t.call(this)||this).mEffectObjType=m.None,e.mEngineEffectObj=null,e.mEffectRecord=null,e.mOnCollideFunc=null,e.mOwnerSkillInst=null,e.mIsUsing=!1,e.mIsNeedReclaim=!1,e.mIsVisible=!1,e.mPlayedTime=0,e.mLastTime=0,e.mIsLoop=!1,e.mObjectType=o.Effect,e}e(n,t);var s=n.prototype;return s.initObject=function(){var e=this;t.prototype.initObject.call(this),this.mEngineEffectObj=new f,this.mEngineEffectObj.LogicObject=this,this.mEngineEffectObj.LoadFinishCallback=function(){e._onObjResourceLoadFinish()},this.EngineObj=this.mEngineEffectObj},s.loadObjResource=function(t){return null===this.mEngObj?(console.error("no engine object, big bug!"),!1):this.mEngObj.CurLoadState===c.LoadFinish||(this.mEngObj.CurLoadState===c.None&&this.mEngineEffectObj.loadEngineObj(t),!1)},s._onObjResourceLoadFinish=function(){t.prototype._onObjResourceLoadFinish.call(this),this.mEngineEffectObj.EngineObjName+="_"+this.TempID,this._RealPlayEffect()},s.IsLoadEffectFinish=function(){return null!=this.mEngineEffectObj&&this.mEngineEffectObj.isLoadFinish()},s.ClearObjData=function(){t.prototype.clearObjectData.call(this),this.mEffectObjType=m.None,this.mEffectRecord=null,this.mOnCollideFunc=null,this.mIsUsing=!1,this.mIsNeedReclaim=!1,this.mPlayedTime=0,this.mLastTime=0,this.mIsLoop=!1},s.runFrame=function(e){t.prototype.runFrame.call(this,e),this.mIsLoop||(this.mPlayedTime+=e,this.mPlayedTime>=this.mLastTime&&this.StopEffect())},s.InitEffectData=function(t,e){this.PropEffectInstID=t,null==this.mEffectRecord&&(this.mEffectRecord=e,this.initObject(),this.loadObjResource(this.mEffectRecord.EffectResName),this.Name=this.mEffectRecord.EffectID.toString(),this.mLastTime=.001*this.mEffectRecord.EffectLastTime,this.mIsLoop=0===this.mEffectRecord.EffectLastTime)},s.ResetEffect=function(){this.PropEffectInstID=0,this.mPlayedTime=0,this.mOnCollideFunc=null,null!=this.mEngineEffectObj&&this.mEngineEffectObj.resetEngineEffectData(),null!=this.PropOwnerSkillInst&&(this.PropOwnerSkillInst=null)},s.IsInUsing=function(){return this.mIsUsing},s.StartEffect=function(){this.mIsUsing=!0,this.mIsNeedReclaim=!1,this._RealPlayEffect()},s.StopEffect=function(){this.mIsUsing=!1,this.mIsNeedReclaim=!0,this.SetEffectVisible(!1)},s.StopEffectWithTrigger=function(){this.StopEffect()},s._RealPlayEffect=function(){this.IsCreateObj()&&(this.SetEffectVisible(!0),this.mEngineEffectObj.PlayEffect())},s.IsCreateObj=function(){return null!=this.mEngObj&&this.mEngObj.CurLoadState!==c.None},s.SetEffectVisible=function(t){this.mIsVisible!==t&&(this.mIsVisible=t,this.mIsVisible?(this.mIsLoop||this.mPlayedTime<=1e-5)&&this.mEngineEffectObj.setVisible(this.mIsVisible):null!=this.mEngineEffectObj&&this.mEngineEffectObj.setVisible(this.mIsVisible))},s.IsEffectVisible=function(){return this.mIsVisible},s.IsCanReclaim=function(){return this.mIsNeedReclaim},i(n,[{key:"PropEffectInstID",get:function(){return this.mTempID},set:function(t){this.mTempID=t}},{key:"PropEffectResName",get:function(){return this.mEffectRecord.EffectResName}},{key:"PropOwnerSkillInst",get:function(){return this.mOwnerSkillInst},set:function(t){this.mOwnerSkillInst=t}},{key:"PropEffectType",get:function(){return this.mEffectObjType}},{key:"PropEffectColFunc",get:function(){return this.mOnCollideFunc},set:function(t){this.mOnCollideFunc=t}}]),n}(l))||h);n._RF.pop()}}}));

System.register("chunks:///_virtual/effect.object.mount.ts",["./rollupPluginModLoBabelHelpers.js","cc","./scene.node.manager.ts","./enum.effect.define.ts","./effect.object.base.ts"],(function(t){"use strict";var e,n,o,s,i,c,f,r,a;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,o=t._decorator,s=t.v3,i=t.Vec3},function(t){c=t.SceneNodeManager},function(t){f=t.EEffectSlotType,r=t.EEffectType},function(t){a=t.EffectObjectBase}],execute:function(){var l;n._RF.push({},"fe466rhpQZK94Td1MxXow8I","effect.object.mount",void 0);var u=o.ccclass;t("EffectObjectMount",u("EffectObjectMount")(l=function(t){function n(){var e;return(e=t.call(this)||this).mOwnerObj=null,e.mSlotType=f.None,e.mOffsetPosition=null,e.mEffectObjType=r.Mount,e}e(n,t);var o=n.prototype;return o._onObjResourceLoadFinish=function(){t.prototype._onObjResourceLoadFinish.call(this),this._setMountPosition()},o.clearObjectData=function(){t.prototype.clearObjectData.call(this),this.mOwnerObj=null},o.InitEffectData=function(e,n){t.prototype.InitEffectData.call(this,e,n),this.mSlotType=this.mEffectRecord.EffectSlot,this.setParent(c.instance.fightRoleNode)},o.ResetEffect=function(){t.prototype.ResetEffect.call(this),this.mOwnerObj=null,this.mOffsetPosition=null,this.setParent(null)},o.SetMountCharacter=function(t){this.mOwnerObj=t,this.IsCreateObj()&&this._setMountPosition()},o._setMountPosition=function(){var t=this._CalEffectSlotToTrans();if(null!=t&&(this.setParent(t),null!=this.mEngObj)){var e=s();e=null!=this.mOffsetPosition?i.add(e,t.worldPosition,this.mOffsetPosition):t.worldPosition,this.mEngObj.ObjPos=e}},o._CalEffectSlotToTrans=function(){var t=null;if(null==this.mOwnerObj)return t;var e=this.mOwnerObj.EngineObj;if(null==e)return t;var n=e;if(null==n)return e.ObjectNode;switch(this.mSlotType){case f.Head:t=e.ObjectNode,this.mOffsetPosition=s(0,140,0);break;case f.Buff:null==(t=n.getBuffEffectSlot())&&(t=e.ObjectNode),this.mOffsetPosition=s(0,0,0);break;case f.LeftHand:case f.RightHand:break;case f.Root:t=e.ObjectNode;break;case f.GunPos:case f.HitPoint:}return t},n}(a))||l);n._RF.pop()}}}));

System.register("chunks:///_virtual/effect.object.move.ts",["./rollupPluginModLoBabelHelpers.js","cc","./scene.node.manager.ts","./enum.effect.define.ts","./effect.object.base.ts"],(function(t){"use strict";var e,o,i,n,s,l,c,r,a,f;return{setters:[function(t){e=t.inheritsLoose,o=t.createClass},function(t){i=t.cclegacy,n=t._decorator,s=t.Vec3,l=t.Vec2},function(t){c=t.SceneNodeManager},function(t){r=t.EEffectMoveMode,a=t.EEffectType},function(t){f=t.EffectObjectBase}],execute:function(){var h;i._RF.push({},"5b0fcJ4Vl9Kg57yky9AYzdW","effect.object.move",void 0);var O=n.ccclass;t("EffectObjectMove",O("EffectObjectMove")(h=function(t){function i(){var e;return(e=t.call(this)||this).mObjMoveMode=null,e.mStartPos=s.ZERO,e.mEndPos=s.ZERO,e.mIsFlyTargetPos=!1,e.mOwnerSkillBindObj=null,e.mEffectObjType=a.Move,e}e(i,t);var n=i.prototype;return n.ClearObjData=function(){t.prototype.ClearObjData.call(this)},n.runFrame=function(e){if(t.prototype.runFrame.call(this,e),this.IsCreateObj()&&null!=this.mObjMoveMode&&this.mObjMoveMode.GetMoveMode()!==r.Static){var o=this.mObjMoveMode.MoveUpdate(e,this.mEngObj.ObjPos);if(this.Position=o,this.mEndPos!==s.ZERO&&!this.mIsFlyTargetPos)if(this.mObjMoveMode.GetMoveMode()===r.Line)l.distance(this.mStartPos,this.mEndPos)<=l.distance(this.mStartPos,o)&&(this.mIsFlyTargetPos=!0,null!=this.mOwnerSkillBindObj&&this.mOwnerSkillBindObj.OnBulletFlyTargetPos());else if(this.mObjMoveMode.GetMoveMode()===r.Parabola){o.y-this.mEndPos.y<=.2&&(this.mIsFlyTargetPos=!0,null!=this.mOwnerSkillBindObj&&this.mOwnerSkillBindObj.OnBulletFlyTargetPos())}}},n._onObjResourceLoadFinish=function(){t.prototype._onObjResourceLoadFinish.call(this),this.CalDealDir()},n.InitEffectData=function(e,o){t.prototype.InitEffectData.call(this,e,o),this.setParent(c.instance.fightRoleNode)},n.SetStartPos=function(t){this.mStartPos=t},n.SetEndPos=function(t){this.mEndPos=t},n.CalDealDir=function(){this.mStartPos.x<=this.mEndPos.x?this.mEngObj.ObjScale=new s(1,1,1):this.mEngObj.ObjScale=new s(-1,1,1)},n.ResetEffect=function(){t.prototype.ResetEffect.call(this),this.mObjMoveMode=null,this.mOwnerSkillBindObj=null,this.mIsFlyTargetPos=!1,this.mStartPos=s.ZERO,this.mEndPos=s.ZERO},o(i,[{key:"PropSkillBindObj",get:function(){return this.mOwnerSkillBindObj},set:function(t){this.mOwnerSkillBindObj=t}},{key:"PropEffectMoveMode",get:function(){return this.mObjMoveMode},set:function(t){this.mObjMoveMode=t}}]),i}(f))||h);i._RF.pop()}}}));

System.register("chunks:///_virtual/effect.pool.ts",["cc","./effect.object.mount.ts","./effect.object.move.ts"],(function(t){"use strict";var o,e,f,c,l;return{setters:[function(t){o=t.cclegacy,e=t._decorator,f=t.Node},function(t){c=t.EffectObjectMount},function(t){l=t.EffectObjectMove}],execute:function(){var n,s;o._RF.push({},"7ad16KrKZ9ITLYOfYFVpqhK","effect.pool",void 0);var u=e.ccclass;t("EffectPool",u("EffectPool")(((s=function(){function t(){}return t.InitEffectPool=function(){null==this.mEffectPoolRootObj&&(this.mEffectPoolRootObj=new f("__EffectPool"))},t.ReleaseEffectPool=function(){this.mEffectPool.clear(),null!=this.mEffectPoolRootObj&&(this.mEffectPoolRootObj.destroy(),this.mEffectPoolRootObj=null)},t.GetEffectPoolObj=function(){return this.mEffectPoolRootObj},t.GetEffectFromPool=function(t,o){var e=null;if(this.mEffectPool.has(t)){var f=this.mEffectPool.get(t);null!=f&&f.length>0&&(e=f.pop())}return null==e&&(e=o?new c:new l),e},t.PushEffectToPool=function(t){null!=t&&(t.ResetEffect(),t.setParent(this.mEffectPoolRootObj),this.mEffectPool.has(t.PropEffectResName)||this.mEffectPool.set(t.PropEffectResName,new Array),this.mEffectPool.get(t.PropEffectResName).push(t))},t}()).mEffectPoolRootObj=null,s.mEffectPool=new Map,n=s))||n);o._RF.pop()}}}));

System.register("chunks:///_virtual/effect.system.ts",["./rollupPluginModLoBabelHelpers.js","cc","./table.helper.ts","./base.system.ts","./effect.pool.ts","./effect.move.static.ts"],(function(t){"use strict";var e,f,c,s,n,i,o,l,r;return{setters:[function(t){e=t.inheritsLoose,f=t.createClass},function(t){c=t.cclegacy,s=t._decorator,n=t.log},function(t){i=t.TableHelper},function(t){o=t.BaseSystem},function(t){l=t.EffectPool},function(t){r=t.EffectMoveStatic}],execute:function(){var a,E;c._RF.push({},"5a129puyKlARbc5nSkwJe2F","effect.system",void 0);var u=s.ccclass;t("EffectSystem",u("EffectSystem")(((E=function(t){function c(){for(var e,f=arguments.length,c=new Array(f),s=0;s<f;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))||this).mCurUseEffectInstID=1,e.mNeedAddEffectList=new Array,e.mNeedDelEffectList=new Array,e.mAllEffectInstDic=new Map,e}e(c,t);var s=c.prototype;return s.sysUpdate=function(t){this._UpdateAddInst(),this._UpdateEffectInstances(t),this._UpdateRemoveInst()},s.InitEffectSystem=function(){l.InitEffectPool(),this.mCurUseEffectInstID=1},s.ClearEffectSystem=function(){this._ClearAllEffectInstances(),l.ReleaseEffectPool()},s._ClearAllEffectInstances=function(){this.mAllEffectInstDic.forEach((function(t){t.clearObjectData()})),this.mAllEffectInstDic.clear(),this.mNeedAddEffectList.splice(0,this.mNeedAddEffectList.length),this.mNeedDelEffectList.splice(0,this.mNeedDelEffectList.length)},s._UpdateAddInst=function(){for(var t=this.mNeedAddEffectList.length-1;t>=0;t--){var e=this.mNeedAddEffectList[t];e.IsLoadEffectFinish()&&(e.StartEffect(),this._AddEffectInstToDic(e),this.mNeedAddEffectList.splice(t,1))}},s._UpdateEffectInstances=function(t){var e=this;this.mAllEffectInstDic.forEach((function(f){var c=f;c.IsInUsing()&&c.runFrame(t),c.IsCanReclaim()&&e.mNeedDelEffectList.push(c)}))},s._UpdateRemoveInst=function(){for(var t=0;t<this.mNeedDelEffectList.length;++t)this._RemoveEffectInstFromDic(this.mNeedDelEffectList[t]);this.mNeedDelEffectList.splice(0,this.mNeedDelEffectList.length)},s._AddEffectInstToDic=function(t){this.mAllEffectInstDic.has(t.PropEffectInstID)?n("add effect id exist！"):this.mAllEffectInstDic.set(t.PropEffectInstID,t)},s._RemoveEffectInstFromDic=function(t){this.mAllEffectInstDic.has(t.PropEffectInstID)?(this.mAllEffectInstDic.delete(t.PropEffectInstID),l.PushEffectToPool(t)):n("to remove effect not exist！")},s.CreateEffect=function(t){var e=i.getEffectRecord(t);if(null==e||""===e.EffectResName)return null;var f=0!==e.EffectSlot,c=l.GetEffectFromPool(e.EffectResName,f);return c.InitEffectData(this._GenEffectInstID(),e),this.mNeedAddEffectList.push(c),c},s.CreatePosEffect=function(t,e){var f=this.CreateEffect(t);return null!=f&&(f.Position=e,null==f.PropEffectMoveMode&&(f.PropEffectMoveMode=new r)),f},s.CreateMountEffect=function(t,e){var f=this.CreateEffect(t);return null!=f&&f.SetMountCharacter(e),f},s.RemoveEffect=function(t){null!=t&&t.StopEffect()},s.RemoveEffectWithTrigger=function(t){null!=t&&t.StopEffectWithTrigger()},s._GenEffectInstID=function(){return this.mCurUseEffectInstID+=1,this.mCurUseEffectInstID},f(c,null,[{key:"instance",get:function(){return null==this._instance&&(this._instance=new c),this._instance}}]),c}(o))._instance=null,a=E))||a);c._RF.pop()}}}));

System.register("chunks:///_virtual/engine.avatar.hud.component.ts",["./rollupPluginModLoBabelHelpers.js","cc","./resource.manager.ts","./enum.work.define.ts"],(function(e){"use strict";var t,i,r,n,a,o,s,l,c,h,u,p,g,b,d,m,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,r=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){a=e.cclegacy,o=e._decorator,s=e.Label,l=e.Sprite,c=e.ProgressBar,h=e.Widget,u=e.Animation,p=e.RichText,g=e.v3,b=e.UITransform,d=e.Component},function(e){m=e.ResourceManager},function(e){f=e.EWorkResType}],execute:function(){var v,C,w,y,S,I,R,k,M,W,z,_,N,P,A,E,x,D,F,T,U,H,L;a._RF.push({},"2c086ImwVpM8IJPUA+zvh2k","engine.avatar.hud.component",void 0);var V=o.ccclass,B=o.property;e("EngineAvatarHUDComponent",(v=V("EngineAvatarHUDComponent"),C=B(s),w=B(l),y=B(l),S=B(l),I=B(c),R=B(h),k=B(u),M=B(p),W=B(l),z=B(u),v((P=t((N=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,r(t,"labelName",P,n(t)),r(t,"spriteStar1",A,n(t)),r(t,"spriteStar2",E,n(t)),r(t,"spriteStar3",x,n(t)),r(t,"progressWork",D,n(t)),r(t,"widgetChat",F,n(t)),r(t,"animChat",T,n(t)),r(t,"labelChatMsg",U,n(t)),r(t,"spriteResIcon",H,n(t)),r(t,"animResIcon",L,n(t)),t}i(t,e);var a=t.prototype;return a.start=function(){this.widgetChat.node.active=!1,this.animChat&&this.animChat.on(u.EventType.FINISHED,this._onChatAnimFinish,this)},a._onChatAnimFinish=function(){this.widgetChat.node.active=!1},a.setName=function(e,t){null!=this.labelName&&(t&&(this.labelName.color=t),this.labelName.string=e)},a.setStar=function(e){switch(e){case 1:this.spriteStar1.node.active=!0,this.spriteStar2.node.active=!1,this.spriteStar3.node.active=!1;break;case 2:this.spriteStar1.node.active=!0,this.spriteStar2.node.active=!0,this.spriteStar3.node.active=!1;break;case 3:this.spriteStar1.node.active=!0,this.spriteStar2.node.active=!0,this.spriteStar3.node.active=!0;break;default:this.spriteStar1.node.active=!1,this.spriteStar2.node.active=!1,this.spriteStar3.node.active=!1}},a.showChitChatPop=function(e,t){if(null!=this.widgetChat){this.widgetChat.node.scale=g(1,0,1),this.widgetChat.node.active=!0,this.labelChatMsg.maxWidth=0,this.labelChatMsg.string=t;var i=this.labelChatMsg.getComponent(b).width;i>180?(this.labelChatMsg.maxWidth=180,this.widgetChat.getComponent(b).width=200):(this.labelChatMsg.maxWidth=0,this.widgetChat.getComponent(b).width=i+20),this.animChat.play()}},a.showResIconPop=function(e){var t=this;if(null!=this.spriteResIcon)if(e!==f.None){this.spriteResIcon.node.active=!0;var i="";switch(e){case f.Mushroom:i="ResIcon_Mushroom1";break;case f.ManaGel:i="ResIcon_ManaGel1";break;case f.Ethereal:i="ResIcon_Ethereal1"}m.instance.loadUITexture("resicons",i,(function(e){null!=t.spriteResIcon&&(t.spriteResIcon.spriteFrame=e,t.animResIcon.play())}))}else this.spriteResIcon.node.active=!1},a.setWorkProgressVisible=function(e){null!=this.progressWork&&(this.progressWork.node.active=!!e)},a.setWorkProgressValue=function(e){null!=this.progressWork&&this.progressWork.node.active&&(this.progressWork.progress=e)},t}(d)).prototype,"labelName",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=t(N.prototype,"spriteStar1",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=t(N.prototype,"spriteStar2",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=t(N.prototype,"spriteStar3",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=t(N.prototype,"progressWork",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(N.prototype,"widgetChat",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=t(N.prototype,"animChat",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=t(N.prototype,"labelChatMsg",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=t(N.prototype,"spriteResIcon",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=t(N.prototype,"animResIcon",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=N))||_));a._RF.pop()}}}));

System.register("chunks:///_virtual/engine.avatar.ts",["./rollupPluginModLoBabelHelpers.js","cc","./resource.manager.ts","./scene.node.manager.ts","./engine.obj.base.ts","./all.define.ts","./engine.spine.base.component.ts","./enum.face.dir.ts","./engine.avatar.hud.component.ts","./enum.object.type.ts"],(function(n){"use strict";var t,e,o,i,s,a,r,m,p,l,c,h,u,C,f;return{setters:[function(n){t=n.inheritsLoose},function(n){e=n.cclegacy,o=n._decorator,i=n.error,s=n.instantiate,a=n.Contact2DType},function(n){r=n.ResourceManager},function(n){m=n.SceneNodeManager},function(n){p=n.EngineObjBase},function(n){l=n.ROLE_TRANSPARENT_COLOR,c=n.ROLE_NORMAL_COLOR},function(n){h=n.EngineSpineBaseComponent},function(n){u=n.EFaceDir},function(n){C=n.EngineAvatarHUDComponent},function(n){f=n.EObjectType}],execute:function(){var b;e._RF.push({},"5853fCE3C9A+Z0Ulyl0bNan","engine.avatar",void 0);var g=o.ccclass;n("EngineAvatar",g("EngineAvatar")(b=function(n){function e(){var t;return(t=n.call(this)||this).mSpineComponent=null,t.mHUDComponent=null,t.mAvatarPrefabPath="",t.mIsTransparent=!1,t}t(e,n);var o=e.prototype;return o.releaseEngineRes=function(){n.prototype.releaseEngineRes.call(this),null!=this.mEntityObj&&(this.mEntityObj.destroy(),this.mEntityObj=null)},o.loadEngineObj=function(t){var e=this;n.prototype.loadEngineObj.call(this,t),this.mAvatarPrefabPath=t;var o=this.mLogicObj.TempID;r.instance.loadAvatar(this.mAvatarPrefabPath,(function(n){if(null!==n)try{e.mEntityObj=s(n),e.mSpineComponent=e.mEntityObj.getComponent(h),e.mHUDComponent=e.mEntityObj.getComponentInChildren(C),e.mEntityObj.parent=m.instance.farmObjectLayerNode,e.mEntityObj.name="role_"+e.mLogicObj.Name.replaceAll("/","_"),e.mSpineComponent.ownerTempID=o,e.registerCollider(),e.mIsTransparent?e.mSpineComponent.setSpineColor(l):e.mSpineComponent.setSpineColor(c),e.mIsVisible?e.mEntityObj.active=!0:e.mEntityObj.active=!1,e._onLoadEngineObjFinish()}catch(n){i("engine avatar load error:",n)}else i("load avatar resource failed,avatar path: ",e.mAvatarPrefabPath)}))},o.resetObjParent=function(){null!=this.mEntityObj&&null===this.mEntityObj.parent&&(this.mEntityObj.parent=m.instance.farmObjectLayerNode)},o.setSpineParentScale=function(n){null!=this.mSpineComponent&&this.mSpineComponent.setParentScale(n)},o.setFaceLookRight=function(){this.mFaceDir=u.LookRight,null!=this.mSpineComponent&&this.mSpineComponent.setSpineFaceLookRight()},o.setFaceLookLeft=function(){this.mFaceDir=u.LookLeft,null!=this.mSpineComponent&&this.mSpineComponent.setSpineFaceLookLeft()},o.playAnimation=function(n,t){null!==this.mSpineComponent&&this.mSpineComponent.playAnim(n,t)},o.setTransparent=function(n){this.mIsTransparent!==n&&(this.mIsTransparent=n,null!=this.mSpineComponent&&(this.mIsTransparent?this.mSpineComponent.setSpineColor(l):this.mSpineComponent.setSpineColor(c)))},o.registerCollider=function(){null!=this.mSpineComponent.mBoxCollider2D&&this.mLogicObj.ObjectType===f.NpcActor&&(this.mSpineComponent.mBoxCollider2D.on(a.BEGIN_CONTACT,this._onColliderNpcBeginContact,this),this.mSpineComponent.mBoxCollider2D.on(a.END_CONTACT,this._onColliderNpcEndContact,this))},o._onColliderNpcBeginContact=function(n,t,e){},o._onColliderNpcEndContact=function(n,t,e){},o.setName=function(n,t){null!=this.mHUDComponent&&this.mHUDComponent.setName(n,t)},o.setStar=function(n){null!=this.mHUDComponent&&this.mHUDComponent.setStar(n)},o.showChitChat=function(n,t){null!=this.mHUDComponent&&this.mHUDComponent.showChitChatPop(n,t)},o.showResIcon=function(n){null!=this.mHUDComponent&&this.mHUDComponent.showResIconPop(n)},o.SetWorkProgressVisible=function(n){null!=this.mHUDComponent&&this.mHUDComponent.setWorkProgressVisible(n)},o.SetWorkProgressValue=function(n){null!=this.mHUDComponent&&this.mHUDComponent.setWorkProgressValue(n)},o.setHpVisible=function(n){},o.setHp=function(n){},o.getBuffEffectSlot=function(){return this.ObjectNode},e}(p))||b);e._RF.pop()}}}));

System.register("chunks:///_virtual/engine.effect.component.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(n){"use strict";var e,t,o,c;return{setters:[function(n){e=n.inheritsLoose},function(n){t=n.cclegacy,o=n._decorator,c=n.Component}],execute:function(){var r;t._RF.push({},"1acd6He6NVNqabqn+PsOZEz","engine.effect.component",void 0);var i=o.ccclass;n("EngineEffectComponent",i("EngineEffectComponent")(r=function(n){function t(){return n.apply(this,arguments)||this}e(t,n);var o=t.prototype;return o.start=function(){},o.ResetEffectMono=function(){},t}(c))||r);t._RF.pop()}}}));

System.register("chunks:///_virtual/engine.effect.ts",["./rollupPluginModLoBabelHelpers.js","cc","./resource.manager.ts","./scene.node.manager.ts","./engine.obj.base.ts","./engine.effect.component.ts"],(function(e){"use strict";var t,n,i,f,o,c,a,s,r;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,i=e._decorator,f=e.error,o=e.instantiate},function(e){c=e.ResourceManager},function(e){a=e.SceneNodeManager},function(e){s=e.EngineObjBase},function(e){r=e.EngineEffectComponent}],execute:function(){var l;n._RF.push({},"3f7ffuT8vBK7am7y567mGHf","engine.effect",void 0);var m=i.ccclass;e("EngineEffect",m("EngineEffect")(l=function(e){function n(){var t;return(t=e.call(this)||this).mEffectComponent=null,t.mEffectPrefabName="",t}t(n,e);var i=n.prototype;return i.releaseEngineRes=function(){e.prototype.releaseEngineRes.call(this),null!=this.mEntityObj&&(this.mEntityObj.destroy(),this.mEntityObj=null),this.mEffectComponent=null,this.mEffectPrefabName=""},i.loadEngineObj=function(t){var n=this;e.prototype.loadEngineObj.call(this,t),this.mEffectPrefabName=t,c.instance.loadEffect(this.mEffectPrefabName,(function(e){if(null!==e)try{n.mEntityObj=o(e),n.mEffectComponent=n.mEntityObj.getComponentInChildren(r),n.mEntityObj.parent=a.instance.fightRoleNode,n.mEntityObj.name="effect_"+n.mLogicObj.Name,n.mIsVisible?n.mEntityObj.active=!0:n.mEntityObj.active=!1,n._onLoadEngineObjFinish()}catch(e){f("engine Effect load error:",e)}else f("load Effect resource failed,Effect path: ",n.mEffectPrefabName)}))},i.resetObjParent=function(){null!=this.mEntityObj&&null===this.mEntityObj.parent&&(this.mEntityObj.parent=a.instance.fightRoleNode)},i.resetEngineEffectData=function(){null!=this.mEffectComponent&&this.mEffectComponent.ResetEffectMono()},i.PlayEffect=function(){},n}(s))||l);n._RF.pop()}}}));

System.register("chunks:///_virtual/engine.farm.grass.ts",["./rollupPluginModLoBabelHelpers.js","cc","./resource.manager.ts","./scene.node.manager.ts","./engine.obj.base.ts"],(function(e){"use strict";var n,a,t,r,s,i,o,c,l;return{setters:[function(e){n=e.inheritsLoose,a=e.createClass},function(e){t=e.cclegacy,r=e._decorator,s=e.error,i=e.instantiate},function(e){o=e.ResourceManager},function(e){c=e.SceneNodeManager},function(e){l=e.EngineObjBase}],execute:function(){var m;t._RF.push({},"62455qaDwNEj59129amCUsX","engine.farm.grass",void 0);var u=r.ccclass;e("EngineFarmGrass",u("EngineFarmGrass")(m=function(e){function t(){var n;return(n=e.call(this)||this).mOwnerFarmObj=null,n.mFarmPrefabPath="",n}n(t,e);var r=t.prototype;return r.releaseEngineRes=function(){e.prototype.releaseEngineRes.call(this),null!=this.mEntityObj&&(this.mEntityObj.destroy(),this.mEntityObj=null)},r.loadEngineObj=function(n){var a=this;e.prototype.loadEngineObj.call(this,n),this.mFarmPrefabPath=n,o.instance.loadFarmRes(this.mFarmPrefabPath,(function(e){if(null!==e)try{a.mEntityObj=i(e),a.mEntityObj.parent=c.instance.farmGrassLayerNode,a.mEntityObj.name="farm_obj_"+a.mLogicObj.Name.replaceAll("/","_"),a._onLoadEngineObjFinish()}catch(e){s("engine avatar load error:",e)}else s("load avatar resource failed,avatar path: ",a.mFarmPrefabPath)}))},a(t,[{key:"OwnerFarmObj",get:function(){return this.mOwnerFarmObj},set:function(e){this.mOwnerFarmObj=e}}]),t}(l))||m);t._RF.pop()}}}));

System.register("chunks:///_virtual/engine.farm.ground.component.ts",["./rollupPluginModLoBabelHelpers.js","cc","./farm.board.define.ts"],(function(e){"use strict";var r,t,i,a,s,p,o,n,u,c;return{setters:[function(e){r=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){s=e.cclegacy,p=e._decorator,o=e.Sprite,n=e.UITransform,u=e.Component},function(e){c=e.FarmItemGroundCombine}],execute:function(){var l,S,m,g,_,d,h;s._RF.push({},"0adeeehmIZECLKSbDwgWoFX","engine.farm.ground.component",void 0);var b=p.ccclass,f=p.property;e("EngineFarmGroundComponent",(l=b("EngineFarmGroundComponent"),S=f(o),m=f(n),l((d=r((_=function(e){function r(){for(var r,t=arguments.length,s=new Array(t),p=0;p<t;p++)s[p]=arguments[p];return r=e.call.apply(e,[this].concat(s))||this,i(r,"useSprite",d,a(r)),i(r,"stateUITransform",h,a(r)),r}t(r,e);var s=r.prototype;return s.refreshShow=function(e){var r=this.getUseSpriteFrame(e);this.useSprite.spriteFrame=r},s.getUseSpriteFrame=function(e){var r=null;switch(e){case c.single:r=this.useSprite.spriteAtlas.getSpriteFrame("road_A_1");break;case c.center:r=this.useSprite.spriteAtlas.getSpriteFrame("road_C_1");break;case c.down:r=this.useSprite.spriteAtlas.getSpriteFrame("road_B_1");break;case c.right:r=this.useSprite.spriteAtlas.getSpriteFrame("road_R_1");break;case c.up:r=this.useSprite.spriteAtlas.getSpriteFrame("road_T_1");break;case c.left:r=this.useSprite.spriteAtlas.getSpriteFrame("road_L_1");break;case c.leftUp:r=this.useSprite.spriteAtlas.getSpriteFrame("road_TL_1");break;case c.leftDown:r=this.useSprite.spriteAtlas.getSpriteFrame("road_BL_1");break;case c.rightDown:r=this.useSprite.spriteAtlas.getSpriteFrame("road_BR_1");break;case c.rightUp:r=this.useSprite.spriteAtlas.getSpriteFrame("road_TR_1");break;case c.hor:r=this.useSprite.spriteAtlas.getSpriteFrame("road_H_1");break;case c.ver:r=this.useSprite.spriteAtlas.getSpriteFrame("road_V_1");break;case c.borderRight:r=this.useSprite.spriteAtlas.getSpriteFrame("road_RC_1");break;case c.borderLeft:r=this.useSprite.spriteAtlas.getSpriteFrame("road_LC_1");break;case c.borderUp:r=this.useSprite.spriteAtlas.getSpriteFrame("road_TC_1");break;case c.borderDown:r=this.useSprite.spriteAtlas.getSpriteFrame("road_BC_1")}return r},r}(u)).prototype,"useSprite",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=r(_.prototype,"stateUITransform",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=_))||g));s._RF.pop()}}}));

System.register("chunks:///_virtual/engine.farm.item.component.ts",["./rollupPluginModLoBabelHelpers.js","cc","./enum.farm.object.operate.state.ts","./all.define.ts","./game.common.use.res.ts"],(function(e){"use strict";var t,r,i,n,a,o,l,s,u,c,p,m,f,h,S,b,d;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){a=e.cclegacy,o=e._decorator,l=e.Sprite,s=e.UITransform,u=e.sp,c=e.Node,p=e.Animation,m=e.Label,f=e.Component},function(e){h=e.EFarmObjectOperateState},function(e){S=e.FARM_CAN_NOT_PUT_COLOR,b=e.FARM_CAN_PUT_COLOR},function(e){d=e.GameCommonUseRes}],execute:function(){var g,y,A,N,v,w,O,C,z,D,F,I,_,T,P,U,R,L,M,E,j;a._RF.push({},"5a221Lh9HxFdbODn38Jlyxd","engine.farm.item.component",void 0);var k=o.ccclass,x=o.property;e("EngineFarmItemComponent",(g=k("EngineFarmItemComponent"),y=x(l),A=x(s),N=x(u.Skeleton),v=x(l),w=x(c),O=x(c),C=x(c),z=x(c),D=x([c]),g((_=t((I=function(e){function t(){for(var t,r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,i(t,"stateSprite",_,n(t)),i(t,"stateUITransform",T,n(t)),i(t,"useSpine",P,n(t)),i(t,"useSprite",U,n(t)),i(t,"towerAwardNode",R,n(t)),i(t,"mushroomSOSNode",L,n(t)),i(t,"mushroomPrivilegeNode",M,n(t)),i(t,"airDropAnimNode",E,n(t)),i(t,"stateSelectArray",j,n(t)),t.curOperateState=h.None,t.OwnerFarmObj=null,t}r(t,e);var a=t.prototype;return a.changeSpriteName=function(e){if(null!==this.useSprite){var t=this.useSprite.spriteAtlas.getSpriteFrame(e);this.useSprite.spriteFrame=t}},a.setHoverState=function(){null!==this.useSprite&&(this.useSprite.customMaterial=d.instance.farmItemOutlineMat)},a.clearHoverState=function(){null!==this.useSprite&&(this.useSprite.customMaterial=null)},a.setSelectState=function(){null!=this.stateSelectArray&&this.stateSelectArray.forEach((function(e){return e.active=!0}))},a.clearSelectState=function(){null!=this.stateSelectArray&&this.stateSelectArray.forEach((function(e){return e.active=!1}))},a.setStateBgSize=function(e){null!==this.stateUITransform&&(this.stateUITransform.width=e.x,this.stateUITransform.height=e.y)},a.setOperateState=function(e){if(this.curOperateState=e,null!=this.stateSprite)switch(this.curOperateState){case h.None:this.stateSprite.node.active=!1;break;case h.CanPut:this.stateSprite.node.active=!0,this.stateSprite.color=b;break;case h.CanNotPut:this.stateSprite.node.active=!0,this.stateSprite.color=S}},a.showAirDropAnimPop=function(e){null!=this.airDropAnimNode&&(this.airDropAnimNode.active=!0,this.airDropAnimNode.getComponent(p).play(),this.airDropAnimNode.getComponentInChildren(m).string="+"+e)},t}(f)).prototype,"stateSprite",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=t(I.prototype,"stateUITransform",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=t(I.prototype,"useSpine",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=t(I.prototype,"useSprite",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=t(I.prototype,"towerAwardNode",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=t(I.prototype,"mushroomSOSNode",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=t(I.prototype,"mushroomPrivilegeNode",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=t(I.prototype,"airDropAnimNode",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=t(I.prototype,"stateSelectArray",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),F=I))||F));a._RF.pop()}}}));

System.register("chunks:///_virtual/engine.farm.item.hud.component.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var r,t,n,i,o,a,l,c,s;return{setters:[function(e){r=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,l=e.Label,c=e.ProgressBar,s=e.Component}],execute:function(){var u,p,m,f,b,g,h;o._RF.push({},"21cb9T8VoZAh41ed6/a7bNV","engine.farm.item.hud.component",void 0);var d=a.ccclass,y=a.property;e("EngineFarmItemHUDComponent",(u=d("EngineFarmItemHUDComponent"),p=y(l),m=y(c),u((g=r((b=function(e){function r(){for(var r,t=arguments.length,o=new Array(t),a=0;a<t;a++)o[a]=arguments[a];return r=e.call.apply(e,[this].concat(o))||this,n(r,"labelName",g,i(r)),n(r,"progressProduce",h,i(r)),r}t(r,e);var o=r.prototype;return o.start=function(){},o.setName=function(e,r){null!=this.labelName&&(r&&(this.labelName.color=r),this.labelName.string=e)},r}(s)).prototype,"labelName",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=r(b.prototype,"progressProduce",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=b))||f));o._RF.pop()}}}));

System.register("chunks:///_virtual/engine.farm.item.ts",["./rollupPluginModLoBabelHelpers.js","cc","./resource.manager.ts","./scene.node.manager.ts","./engine.obj.base.ts","./engine.farm.item.component.ts","./engine.farm.item.hud.component.ts","./enum.farm.object.layer.ts"],(function(e){"use strict";var t,n,m,a,o,r,i,s,c,l,u,O;return{setters:[function(e){t=e.inheritsLoose,n=e.createClass},function(e){m=e.cclegacy,a=e._decorator,o=e.error,r=e.instantiate},function(e){i=e.ResourceManager},function(e){s=e.SceneNodeManager},function(e){c=e.EngineObjBase},function(e){l=e.EngineFarmItemComponent},function(e){u=e.EngineFarmItemHUDComponent},function(e){O=e.EFarmObjectLayer}],execute:function(){var b;m._RF.push({},"9af1bD9VK1CFK0WeEmXepOw","engine.farm.item",void 0);var h=a.ccclass;e("EngineFarmItem",h("EngineFarmItem")(b=function(e){function m(){var t;return(t=e.call(this)||this).mFarmObjectComponent=null,t.mHUDComponent=null,t.mOwnerFarmObj=null,t.mFarmPrefabPath="",t.mIsTransparent=!1,t.mIsOperating=!1,t}t(m,e);var a=m.prototype;return a.releaseEngineRes=function(){e.prototype.releaseEngineRes.call(this),null!=this.mEntityObj&&(this.mEntityObj.destroy(),this.mEntityObj=null)},a.loadEngineObj=function(t){var n=this;e.prototype.loadEngineObj.call(this,t),this.mFarmPrefabPath=t,i.instance.loadFarmRes(this.mFarmPrefabPath,(function(e){if(null!==e)try{if(n.mEntityObj=r(e),n.mFarmObjectComponent=n.mEntityObj.getComponent(l),n.mHUDComponent=n.mEntityObj.getComponentInChildren(u),n.mIsOperating)n.mEntityObj.parent=s.instance.farmPutLayerNode;else{var t=n.getToUseLayerParent();n.mEntityObj.parent=t}n.mEntityObj.name="farm_obj_"+n.mLogicObj.Name.replaceAll("/","_"),n.mIsVisible?n.mEntityObj.active=!0:n.mEntityObj.active=!1,null!==n.mFarmObjectComponent&&(n.mFarmObjectComponent.OwnerFarmObj=n.mOwnerFarmObj,n.mFarmObjectComponent.setStateBgSize(n.mOwnerFarmObj.getGridPixelSize())),n._onLoadEngineObjFinish()}catch(e){o("engine avatar load error:",e)}else o("load avatar resource failed,avatar path: ",n.mFarmPrefabPath)}))},a.setIsOperating=function(e){if(this.mIsOperating=e,null!=this.mEntityObj)if(!0===this.mIsOperating)this.mEntityObj.setParent(s.instance.farmPutLayerNode,!0);else{var t=this.getToUseLayerParent();this.mEntityObj.setParent(t,!0)}},a.getToUseLayerParent=function(){var e=null;switch(this.mOwnerFarmObj.UseLayer){case O.Object:e=s.instance.farmObjectLayerNode;break;case O.GroundObject:e=s.instance.farmGroundObjectLayerNode;break;case O.Ground:e=s.instance.farmGroundLayerNode}return e},a.getUsedSpine=function(){return null!=this.mFarmObjectComponent?this.mFarmObjectComponent.useSpine:null},a.changeSkinName=function(e){null!=this.mFarmObjectComponent&&this.mFarmObjectComponent.changeSpriteName(e)},a.setName=function(e,t){null!=this.mHUDComponent&&this.mHUDComponent.setName(e,t)},a.setOperateState=function(e){null!=this.mFarmObjectComponent&&this.mFarmObjectComponent.setOperateState(e)},a.showHud=function(e){null!=this.mHUDComponent&&(this.mHUDComponent.node.active=e)},a.showAward=function(e){null!=this.mFarmObjectComponent&&null!=this.mFarmObjectComponent.towerAwardNode&&(this.mFarmObjectComponent.towerAwardNode.active=e)},a.showSOS=function(e){null!=this.mFarmObjectComponent&&null!=this.mFarmObjectComponent.mushroomSOSNode&&(this.mFarmObjectComponent.mushroomSOSNode.active=e)},a.showPrivilege=function(e){null!=this.mFarmObjectComponent&&null!=this.mFarmObjectComponent.mushroomSOSNode&&(this.mFarmObjectComponent.mushroomPrivilegeNode.active=e)},a.showAirDropAnim=function(e){null!=this.mFarmObjectComponent&&this.mFarmObjectComponent.showAirDropAnimPop(e)},a.setSelectState=function(){null!=this.mFarmObjectComponent&&this.mFarmObjectComponent.setSelectState()},a.unsetSelectState=function(){null!=this.mFarmObjectComponent&&this.mFarmObjectComponent.clearSelectState()},n(m,[{key:"OwnerFarmObj",get:function(){return this.mOwnerFarmObj},set:function(e){this.mOwnerFarmObj=e}}]),m}(c))||b);m._RF.pop()}}}));

System.register("chunks:///_virtual/engine.farm.level.tip.component.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var n,t,r,i,o,c,l,p;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,r=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){o=e.cclegacy,c=e._decorator,l=e.Sprite,p=e.Component}],execute:function(){var a,s,u,f,m;o._RF.push({},"de4861wEGVNW74Dmy68A3hc","engine.farm.level.tip.component",void 0);var v=c.ccclass,g=c.property;e("EngineFarmLevelTipComponent",(a=v("EngineFarmLevelTipComponent"),s=g(l),a((m=n((f=function(e){function n(){for(var n,t=arguments.length,o=new Array(t),c=0;c<t;c++)o[c]=arguments[c];return n=e.call.apply(e,[this].concat(o))||this,r(n,"useSprite",m,i(n)),n}return t(n,e),n}(p)).prototype,"useSprite",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),u=f))||u));o._RF.pop()}}}));

System.register("chunks:///_virtual/engine.farm.level.tip.ts",["./rollupPluginModLoBabelHelpers.js","cc","./resource.manager.ts","./scene.node.manager.ts","./engine.obj.base.ts","./engine.farm.item.component.ts"],(function(e){"use strict";var n,t,a,r,i,o,l,s,c;return{setters:[function(e){n=e.inheritsLoose},function(e){t=e.cclegacy,a=e._decorator,r=e.error,i=e.instantiate},function(e){o=e.ResourceManager},function(e){l=e.SceneNodeManager},function(e){s=e.EngineObjBase},function(e){c=e.EngineFarmItemComponent}],execute:function(){var m;t._RF.push({},"27a4fZcesVOdL6AS/8lilVP","engine.farm.level.tip",void 0);var u=a.ccclass;e("EngineFarmLevelTip",u("EngineFarmLevelTip")(m=function(e){function t(){var n;return(n=e.call(this)||this).mFarmObjectComponent=null,n.mOwnerFarmObj=null,n.mFarmPrefabPath="",n}n(t,e);var a=t.prototype;return a.releaseEngineRes=function(){e.prototype.releaseEngineRes.call(this),null!=this.mEntityObj&&(this.mEntityObj.destroy(),this.mEntityObj=null)},a.loadEngineObj=function(n){var t=this;e.prototype.loadEngineObj.call(this,n),this.mFarmPrefabPath=n,o.instance.loadFarmLevelTip((function(e){if(null!==e)try{t.mEntityObj=i(e),t.mFarmObjectComponent=t.mEntityObj.getComponent(c),t.mEntityObj.name="farm_level_tip"+t.mLogicObj.Name.replaceAll("/","_"),t.mEntityObj.setParent(l.instance.farmObjectLayerNode,!0),t._onLoadEngineObjFinish()}catch(e){r("engine avatar load error:",e)}else r("load avatar resource failed,avatar path: ",t.mFarmPrefabPath)}))},t}(s))||m);t._RF.pop()}}}));

System.register("chunks:///_virtual/engine.farm.terrain.border.component.ts",["./rollupPluginModLoBabelHelpers.js","cc","./farm.board.define.ts"],(function(e){"use strict";var t,r,i,s,a,n,o,p,c,l;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,i=e.initializerDefineProperty,s=e.assertThisInitialized},function(e){a=e.cclegacy,n=e._decorator,o=e.Sprite,p=e.UITransform,c=e.Component},function(e){l=e.FarmBoardGridBorderCombine}],execute:function(){var u,h,f,g,m,S,_;a._RF.push({},"720ddAKJ6RGfJSULb72oMyN","engine.farm.terrain.border.component",void 0);var b=n.ccclass,w=n.property;e("EngineFarmTerrainBorderComponent",(u=b("EngineFarmTerrainBorderComponent"),h=w(o),f=w(p),u((S=t((m=function(e){function t(){for(var t,r=arguments.length,a=new Array(r),n=0;n<r;n++)a[n]=arguments[n];return t=e.call.apply(e,[this].concat(a))||this,i(t,"useSprite",S,s(t)),i(t,"useUITransform",_,s(t)),t}r(t,e);var a=t.prototype;return a.refreshShow=function(e){var t=this.getUseSpriteFrame(e);this.useSprite.spriteFrame=t},a.getUseSpriteFrame=function(e){var t=null;switch(e){case l.up:case l.otherLeftUp:case l.otherRightUp:t=this.useSprite.spriteAtlas.getSpriteFrame("plot_TC_1");break;case l.down:case l.otherLeftDown:case l.otherRightDown:t=this.useSprite.spriteAtlas.getSpriteFrame("plot_BC_1");break;case l.left:case l.otherDownLeft:case l.otherUpLeft:t=this.useSprite.spriteAtlas.getSpriteFrame("plot_LC_1");break;case l.right:case l.otherUpRight:case l.otherDownRight:t=this.useSprite.spriteAtlas.getSpriteFrame("plot_RC_1");break;case l.outLeftTop:t=this.useSprite.spriteAtlas.getSpriteFrame("plot_TL_1");break;case l.outLeftDown:t=this.useSprite.spriteAtlas.getSpriteFrame("plot_BL");break;case l.outRightDown:t=this.useSprite.spriteAtlas.getSpriteFrame("plot_BR");break;case l.outRightUp:t=this.useSprite.spriteAtlas.getSpriteFrame("plot_TR_1");break;case l.innerLeftTop:case l.innerLeftTop2:t=this.useSprite.spriteAtlas.getSpriteFrame("wplot_TL_1");break;case l.innerLeftDown:case l.innerLeftDown2:t=this.useSprite.spriteAtlas.getSpriteFrame("wplot_BL");break;case l.innerRightDown:case l.innerRightDown2:t=this.useSprite.spriteAtlas.getSpriteFrame("wplot_BR");break;case l.innerRightUp:case l.innerRightUp2:t=this.useSprite.spriteAtlas.getSpriteFrame("wplot_TR_1")}return t},t}(c)).prototype,"useSprite",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=t(m.prototype,"useUITransform",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=m))||g));a._RF.pop()}}}));

System.register("chunks:///_virtual/engine.farm.terrain.component.ts",["./rollupPluginModLoBabelHelpers.js","cc","./enum.farm.object.operate.state.ts","./all.define.ts"],(function(t){"use strict";var e,r,i,n,a,o,s,c,p,l,u,h,S;return{setters:[function(t){e=t.applyDecoratedDescriptor,r=t.inheritsLoose,i=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){a=t.cclegacy,o=t._decorator,s=t.Sprite,c=t.UITransform,p=t.Component},function(t){l=t.EFarmObjectOperateState},function(t){u=t.FARM_TERRAIN_CLONE_COLOR,h=t.FARM_CAN_NOT_PUT_COLOR,S=t.FARM_CAN_PUT_COLOR}],execute:function(){var f,d,m,v,b,w,g,O,T,_,y;a._RF.push({},"88fe2L9W7dI/pLx4TxlJJpf","engine.farm.terrain.component",void 0);var C=o.ccclass,E=o.property;t("EngineFarmTerrainComponent",(f=C("EngineFarmTerrainComponent"),d=E(s),m=E(s),v=E(c),b=E(s),f((O=e((g=function(t){function e(){for(var e,r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a))||this,i(e,"stateSprite",O,n(e)),i(e,"terrainEditShowSprite",T,n(e)),i(e,"stateUITransform",_,n(e)),i(e,"terrainSprite",y,n(e)),e.curOperateState=l.None,e}r(e,t);var a=e.prototype;return a.setStateBgSize=function(t){null!==this.stateUITransform&&(this.stateUITransform.width=t.x,this.stateUITransform.height=t.y)},a.showEditMode=function(){null!=this.terrainEditShowSprite&&(this.terrainEditShowSprite.node.active=!0),null!=this.terrainSprite&&(this.terrainSprite.node.active=!1)},a.showNormalMode=function(){null!=this.terrainEditShowSprite&&(this.terrainEditShowSprite.node.active=!1),null!=this.terrainSprite&&(this.terrainSprite.node.active=!0)},a.setOperateState=function(t){if(this.curOperateState=t,null!=this.stateSprite)switch(this.curOperateState){case l.None:this.stateSprite.node.active=!1,this.terrainSprite.node.active=!0;break;case l.CanPut:this.stateSprite.node.active=!0,this.stateSprite.color=S,this.terrainSprite.node.active=!1;break;case l.CanNotPut:this.stateSprite.node.active=!0,this.stateSprite.color=h,this.terrainSprite.node.active=!1;break;case l.SpecialClone:this.stateSprite.node.active=!0,this.stateSprite.color=u,this.terrainSprite.node.active=!1}},e}(p)).prototype,"stateSprite",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=e(g.prototype,"terrainEditShowSprite",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=e(g.prototype,"stateUITransform",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=e(g.prototype,"terrainSprite",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=g))||w));a._RF.pop()}}}));

System.register("chunks:///_virtual/engine.farm.terrain.hud.component.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(n){"use strict";var e,r,t,o;return{setters:[function(n){e=n.inheritsLoose},function(n){r=n.cclegacy,t=n._decorator,o=n.Component}],execute:function(){var i;r._RF.push({},"46323/yENhBkq8X3ranf2nD","engine.farm.terrain.hud.component",void 0);var c=t.ccclass;n("EngineFarmTerrainHUDComponent",c("EngineFarmTerrainHUDComponent")(i=function(n){function r(){return n.apply(this,arguments)||this}return e(r,n),r}(o))||i);r._RF.pop()}}}));

System.register("chunks:///_virtual/engine.farm.terrain.ts",["./rollupPluginModLoBabelHelpers.js","cc","./resource.manager.ts","./scene.node.manager.ts","./engine.obj.base.ts","./engine.farm.terrain.component.ts","./engine.farm.terrain.hud.component.ts"],(function(n){"use strict";var e,t,r,a,i,o,m,s,c,l,u;return{setters:[function(n){e=n.inheritsLoose,t=n.createClass},function(n){r=n.cclegacy,a=n._decorator,i=n.error,o=n.instantiate},function(n){m=n.ResourceManager},function(n){s=n.SceneNodeManager},function(n){c=n.EngineObjBase},function(n){l=n.EngineFarmTerrainComponent},function(n){u=n.EngineFarmTerrainHUDComponent}],execute:function(){var p;r._RF.push({},"91ec2gkcgZAl7XTXB8Ko1o1","engine.farm.terrain",void 0);var g=a.ccclass;n("EngineFarmTerrain",g("EngineFarmTerrain")(p=function(n){function r(){for(var e,t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return(e=n.call.apply(n,[this].concat(r))||this).mFarmTerrainComponent=null,e.mEngineFarmTerrainHUDComponent=null,e.mOwnerFarmObj=null,e.mFarmTerrainPrefabPath="",e.mIsOperating=!1,e}e(r,n);var a=r.prototype;return a.releaseEngineRes=function(){n.prototype.releaseEngineRes.call(this),null!=this.mEntityObj&&(this.mEntityObj.destroy(),this.mEntityObj=null)},a.loadEngineObj=function(e){var t=this;n.prototype.loadEngineObj.call(this,e),this.mFarmTerrainPrefabPath=e,m.instance.loadFarmRes(this.mFarmTerrainPrefabPath,(function(n){if(null!==n)try{t.mEntityObj=o(n),t.mFarmTerrainComponent=t.mEntityObj.getComponent(l),t.mEngineFarmTerrainHUDComponent=t.mEntityObj.getComponentInChildren(u),t.mIsOperating?t.mEntityObj.parent=s.instance.farmPutLayerNode:t.mEntityObj.parent=s.instance.farmTerrainLayerNode,t.mEntityObj.name="farm_terrain_"+t.mLogicObj.Name.replaceAll("/","_"),t.mIsVisible?t.mEntityObj.active=!0:t.mEntityObj.active=!1,t.mEngineFarmTerrainHUDComponent.node.active=!1,null!==t.mFarmTerrainComponent&&t.mFarmTerrainComponent.setStateBgSize(t.mOwnerFarmObj.getGridPixelSize()),t._onLoadEngineObjFinish()}catch(n){i("engine avatar load error:",n)}else i("load avatar resource failed,avatar path: ",t.mFarmTerrainPrefabPath)}))},a.setIsOperating=function(n){this.mIsOperating=n,null!=this.mEntityObj&&(!0===this.mIsOperating?this.mEntityObj.setParent(s.instance.farmPutLayerNode,!0):this.mEntityObj.setParent(s.instance.farmTerrainLayerNode,!0))},a.setOperateState=function(n){null!=this.mFarmTerrainComponent&&this.mFarmTerrainComponent.setOperateState(n)},a.setShowEditMode=function(n){null!=this.mFarmTerrainComponent&&(n?this.mFarmTerrainComponent.showEditMode():this.mFarmTerrainComponent.showNormalMode())},t(r,[{key:"OwnerFarmObj",get:function(){return this.mOwnerFarmObj},set:function(n){this.mOwnerFarmObj=n}}]),r}(c))||p);r._RF.pop()}}}));

System.register("chunks:///_virtual/engine.fight.avatar.ts",["./rollupPluginModLoBabelHelpers.js","cc","./resource.manager.ts","./engine.spine.base.component.ts","./engine.avatar.ts","./scene.node.manager.ts","./engine.avatar.hud.component.ts","./all.define.ts","./engine.fighter.step.component.ts"],(function(n){"use strict";var t,e,o,i,a,r,m,c,s,p,f,u,l,g;return{setters:[function(n){t=n.inheritsLoose},function(n){e=n.cclegacy,o=n._decorator,i=n.error,a=n.instantiate,r=n.Node},function(n){m=n.ResourceManager},function(n){c=n.EngineSpineBaseComponent},function(n){s=n.EngineAvatar},function(n){p=n.SceneNodeManager},function(n){f=n.EngineAvatarHUDComponent},function(n){u=n.ROLE_TRANSPARENT_COLOR,l=n.ROLE_NORMAL_COLOR},function(n){g=n.EngineFighterStepComponent}],execute:function(){var h;e._RF.push({},"2339blQWp1FmpFiO2Xpiew1","engine.fight.avatar",void 0);var d=o.ccclass;n("EngineFightAvatar",d("EngineFightAvatar")(h=function(n){function e(){var t;return(t=n.call(this)||this).mStepComponent=null,t.mBuffEffectNode=null,t}t(e,n);var o=e.prototype;return o.loadEngineObj=function(n){var t=this;this.mAvatarPrefabPath=n,m.instance.loadAvatar(this.mAvatarPrefabPath,(function(n){if(null!==n)try{t.mEntityObj=a(n),t.mBuffEffectNode=new r,t.mEntityObj.insertChild(t.mBuffEffectNode,0),t.mSpineComponent=t.mEntityObj.getComponent(c),t.mHUDComponent=t.mEntityObj.getComponentInChildren(f),t.mStepComponent=t.mEntityObj.getComponentInChildren(g),t.mEntityObj.parent=p.instance.fightRoleNode,t.mEntityObj.name="fighter_"+t.mLogicObj.Name,t.registerCollider(),t.mIsTransparent?t.mSpineComponent.setSpineColor(u):t.mSpineComponent.setSpineColor(l),t.mIsVisible?t.mEntityObj.active=!0:t.mEntityObj.active=!1,t.mStepComponent.node.active=!1,t.mSpineComponent.setParentScale(.45),t._onLoadEngineObjFinish()}catch(n){i("engine avatar load error:",n)}else i("load avatar resource failed,avatar path: ",t.mAvatarPrefabPath)}))},o.showFightRoundMark=function(){null!=this.mStepComponent&&(this.mStepComponent.node.active=!0)},o.hideFightRoundMark=function(){null!=this.mStepComponent&&(this.mStepComponent.node.active=!1)},o.getBuffEffectSlot=function(){return this.mBuffEffectNode},e}(s))||h);e._RF.pop()}}}));

System.register("chunks:///_virtual/engine.fighter.step.component.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,n,o,r;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,o=e._decorator,r=e.Component}],execute:function(){var i;n._RF.push({},"8e688kjcrdDvKrlBwszRoNG","engine.fighter.step.component",void 0);var c=o.ccclass;e("EngineFighterStepComponent",c("EngineFighterStepComponent")(i=function(e){function n(){return e.apply(this,arguments)||this}return t(n,e),n.prototype.start=function(){},n}(r))||i);n._RF.pop()}}}));

System.register("chunks:///_virtual/engine.obj.base.ts",["./rollupPluginModLoBabelHelpers.js","cc","./enum.engine.ts","./enum.face.dir.ts","./enum.object.dir.ts"],(function(t){"use strict";var i,n,e,s,o,u,h,l;return{setters:[function(t){i=t.createClass},function(t){n=t.cclegacy,e=t._decorator,s=t.Vec3},function(t){o=t.EEngineObjLoadState,u=t.EEngineObjType},function(t){h=t.EFaceDir},function(t){l=t.EObjectDir}],execute:function(){var b;n._RF.push({},"9fba2lAtLhPOLX9mmQ7x4wU","engine.obj.base",void 0);var a=e.ccclass;t("EngineObjBase",a("EngineObjBase")(b=function(){function t(){this.mEngineObjType=u.None,this.mEntityObj=null,this.mIsVisible=!0,this.mLogicObj=null,this.mLoadState=o.None,this.mLoadFinishCb=null,this.mFaceDir=h.None}var n=t.prototype;return n.setFaceLookRight=function(){null!=this.mEntityObj&&this.mEntityObj.setScale(-1,1,1)},n.setFaceLookLeft=function(){null!=this.mEntityObj&&this.mEntityObj.setScale(1,1,1)},n.setVisible=function(t){this.mIsVisible!==t&&(this.mIsVisible=t,null!=this.mEntityObj&&(this.mEntityObj.active=t))},n.setSpineParentScale=function(t){},n.isVisible=function(){return this.mIsVisible},n.isLoadFinish=function(){return this.mLoadState===o.LoadFinish},n.loadEngineObj=function(t){this.mLoadState=o.Loading},n._onLoadEngineObjFinish=function(){this.mLoadState=o.LoadFinish,this.ObjPos=this.mLogicObj.Position,this.mLogicObj.Dir===l.Right||this.mLogicObj.Dir===l.UpRight||this.mLogicObj.Dir===l.BottomRight?this.setFaceLookRight():this.mLogicObj.Dir!==l.Left&&this.mLogicObj.Dir!==l.UpLeft&&this.mLogicObj.Dir!==l.BottomLeft||this.setFaceLookLeft(),null!=this.mLoadFinishCb&&this.mLoadFinishCb()},n.releaseEngineObj=function(){this.mEngineObjType=u.None,this.mLoadFinishCb=null,this.releaseEngineRes()},n.releaseEngineRes=function(){this.mLoadState=o.None},n.SetParentObj=function(t,i){void 0===i&&(i=!0),null!=this.mEntityObj&&(this.mEntityObj.parent=t,i&&(this.mEntityObj.position=s.ZERO,this.mEntityObj.eulerAngles=s.ZERO,this.mEntityObj.scale=s.ONE))},n.updateFrame=function(t){},n.playAnimation=function(t,i){},n.setTransparent=function(t){},i(t,[{key:"LoadFinishCallback",set:function(t){this.mLoadFinishCb=t}},{key:"CurLoadState",get:function(){return this.mLoadState}},{key:"ObjectNode",get:function(){return this.mEntityObj}},{key:"LogicObject",get:function(){return this.mLogicObj},set:function(t){this.mLogicObj=t}},{key:"EngineObjName",get:function(){return null!=this.mEntityObj?this.mEntityObj.name:""},set:function(t){null!=this.mEntityObj&&(this.mEntityObj.name=t)}},{key:"ObjPos",get:function(){return null!=this.mEntityObj?this.mEntityObj.worldPosition:s.ZERO},set:function(t){null!=this.mEntityObj&&this.mEntityObj.setWorldPosition(t)}},{key:"ObjPosZ",get:function(){return null!=this.mEntityObj?this.mEntityObj.getPosition().z:0},set:function(t){if(null!=this.mEntityObj){var i=this.mEntityObj.getWorldPosition();i.z=t,this.mEntityObj.setWorldPosition(i)}}},{key:"ObjScale",get:function(){return null!=this.mEntityObj?this.mEntityObj.getScale():s.ZERO},set:function(t){null!=this.mEntityObj&&this.mEntityObj.setScale(t)}},{key:"ObjEulerAngles",get:function(){if(null!=this.mEntityObj){var t=s.ZERO;return this.mEntityObj.getRotation().getEulerAngles(t),t}},set:function(t){null!=this.mEntityObj&&this.mEntityObj.setRotationFromEuler(t)}},{key:"RotY",get:function(){if(null!=this.mEntityObj){var t=s.ZERO;return this.mEntityObj.getRotation().getEulerAngles(t),t.y}return 0},set:function(t){if(null!=this.mEntityObj){var i=s.ZERO,n=this.mEntityObj.getRotation();n.getEulerAngles(i),n.y=t,this.mEntityObj.setRotationFromEuler(i)}}}]),t}())||b);n._RF.pop()}}}));

System.register("chunks:///_virtual/engine.obj.interface.ts",["cc"],(function(){"use strict";var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"330c16sHutFs69iNkpJp0rT","engine.obj.interface",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/engine.spine.base.component.ts",["./rollupPluginModLoBabelHelpers.js","cc","./enum.anim.state.ts"],(function(e){"use strict";var n,i,t,m,s,l,o,r;return{setters:[function(e){n=e.inheritsLoose},function(e){i=e.cclegacy,t=e._decorator,m=e.sp,s=e.Collider2D,l=e.math,o=e.Component},function(e){r=e.EAnimState}],execute:function(){var a;i._RF.push({},"7a8efGuHBdNkoKPWsnzu7Cs","engine.spine.base.component",void 0);var u=t.ccclass;e("EngineSpineBaseComponent",u("EngineSpineBaseComponent")(a=function(e){function i(){for(var n,i=arguments.length,t=new Array(i),m=0;m<i;m++)t[m]=arguments[m];return(n=e.call.apply(e,[this].concat(t))||this).mSpineSkeleton=null,n.mCurUseScale=1,n.mToPlayAnim=r.None,n.mToPlayTimeScale=1,n.mPreAnim=r.None,n.mPreAnimTimeScale=1,n.mCurAnim=r.None,n.mCurAnimTimeScale=1,n.ownerTempID=0,n.ownerTableID=0,n.mBoxCollider2D=null,n}n(i,e);var t=i.prototype;return t.onLoad=function(){this.mSpineSkeleton=this.getComponentInChildren(m.Skeleton),this.mBoxCollider2D=this.getComponentInChildren(s)},t.start=function(){null!==this.mSpineSkeleton&&this.mSpineSkeleton.setCompleteListener(this._onAnimCompleteListener.bind(this)),this.mToPlayAnim!==r.None&&this.playAnim(this.mToPlayAnim,this.mToPlayTimeScale)},t.setParentScale=function(e){null!=this.mSpineSkeleton&&null!=this.mSpineSkeleton.node.parent&&this.mSpineSkeleton.node.parent.setScale(e,e,e)},t.setSkin=function(e,n){return!1},t.setWeapon=function(e,n){return!1},t.setSpineFaceLookLeft=function(){null!=this.mSpineSkeleton&&this.mSpineSkeleton.node.setScale(-this.mCurUseScale,this.mCurUseScale,this.mCurUseScale)},t.setSpineFaceLookRight=function(){null!=this.mSpineSkeleton&&this.mSpineSkeleton.node.setScale(this.mCurUseScale,this.mCurUseScale,this.mCurUseScale)},t.setSpineColor=function(e){null!=this.mSpineSkeleton&&(this.mSpineSkeleton.color=e)},t.setScale=function(e){this.mCurUseScale=e;var n=this.mSpineSkeleton.node.getScale(),i=l.bits.sign(n.x);null!=this.mSpineSkeleton&&this.mSpineSkeleton.node.setScale(this.mCurUseScale*i,this.mCurUseScale,this.mCurUseScale)},t._getUseAnimName=function(){return""},t.playAnim=function(e,n){if(null==this.mSpineSkeleton)return this.mToPlayAnim=e,void(this.mToPlayTimeScale=n);e===r.BeHit&&this.mCurAnim!==r.Idle&&this.mCurAnim!==r.Stun||(this.mCurAnim!==r.Idle&&this.mCurAnim!==r.Stun||(this.mPreAnim=this.mCurAnim,this.mPreAnimTimeScale=this.mCurAnimTimeScale),this.mCurAnim=e,this.mCurAnimTimeScale=n,this._realPlayAnim(this.mCurAnimTimeScale))},t._realPlayAnim=function(e){var n=this._getUseAnimName();if(""!==n){var i=!1;if(this.mCurAnim!==r.Walk&&this.mCurAnim!==r.Run&&this.mCurAnim!==r.Idle&&this.mCurAnim!==r.Stun&&this.mCurAnim!==r.Win&&this.mCurAnim!==r.Doing&&this.mCurAnim!==r.Hunger&&this.mCurAnim!==r.Watering||(i=!0),null!==this.mSpineSkeleton){var t=this.mSpineSkeleton.animation;if(this.mCurAnim!==r.Attack&&this.mCurAnim!==r.Mining&&null!==t&&t===n)return;this.mSpineSkeleton.loop=i,this.mSpineSkeleton.timeScale=e,this.mSpineSkeleton.animation=n}}},t._onAnimCompleteListener=function(e){this.mCurAnim!==r.Die&&(e.loop||(this.mPreAnim===r.Idle||this.mPreAnim===r.Stun||this.mPreAnim===r.Revive?this.playAnim(this.mPreAnim,this.mPreAnimTimeScale):this.playAnim(r.Idle,1)))},i}(o))||a);i._RF.pop()}}}));

System.register("chunks:///_virtual/engine.spine.whole.component.ts",["./rollupPluginModLoBabelHelpers.js","cc","./anim.utility.ts","./engine.spine.base.component.ts"],(function(n){"use strict";var e,t,i,o,s;return{setters:[function(n){e=n.inheritsLoose},function(n){t=n.cclegacy,i=n._decorator},function(n){o=n.AnimUtility},function(n){s=n.EngineSpineBaseComponent}],execute:function(){var c;t._RF.push({},"156d8MpT1RG5omxrKbAeKKp","engine.spine.whole.component",void 0);var r=i.ccclass;n("EngineSpineWholeComponent",r("EngineSpineWholeComponent")(c=function(n){function t(){return n.apply(this,arguments)||this}return e(t,n),t.prototype._getUseAnimName=function(){return o.getWholeAnimName(this.mCurAnim)},t}(s))||c);t._RF.pop()}}}));

System.register("chunks:///_virtual/engine.terrain.component.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var r,n,t,i,o,a,c,u,l;return{setters:[function(e){r=e.applyDecoratedDescriptor,n=e.inheritsLoose,t=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,c=e.UITransform,u=e.Sprite,l=e.Component}],execute:function(){var p,s,f,m,g,y,h;o._RF.push({},"c121dvq2S1BTpaEUy/shP5u","engine.terrain.component",void 0);var b=a.ccclass,d=a.property;e("EngineTerrainComponent",(p=b("EngineTerrainComponent"),s=d(c),f=d(u),p((y=r((g=function(e){function r(){for(var r,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return r=e.call.apply(e,[this].concat(o))||this,t(r,"uiTransform",y,i(r)),t(r,"terrainSprite",h,i(r)),r.texResId=0,r}return n(r,e),r}(l)).prototype,"uiTransform",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=r(g.prototype,"terrainSprite",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=g))||m));o._RF.pop()}}}));

System.register("chunks:///_virtual/enum.account.type.ts",["cc"],(function(c){"use strict";var t;return{setters:[function(c){t=c.cclegacy}],execute:function(){var e;c("LoginAccountType",void 0),t._RF.push({},"3e854paRalICoN7gbDHEwVH","enum.account.type",void 0),function(c){c[c.NONE=0]="NONE",c[c.COMMON=1]="COMMON",c[c.TELEGRAM=2]="TELEGRAM",c[c.X=3]="X",c[c.LINE=4]="LINE"}(e||(e=c("LoginAccountType",{}))),t._RF.pop()}}}));

System.register("chunks:///_virtual/enum.anim.state.ts",["cc"],(function(n){"use strict";var e;return{setters:[function(n){e=n.cclegacy}],execute:function(){var i;n("EAnimState",void 0),e._RF.push({},"64827aAyfxKQLEYEQIpuGh4","enum.anim.state",void 0),function(n){n[n.None=0]="None",n[n.Idle=1]="Idle",n[n.Walk=2]="Walk",n[n.Run=3]="Run",n[n.Die=4]="Die",n[n.BeHit=5]="BeHit",n[n.Stun=6]="Stun",n[n.Win=7]="Win",n[n.XiuXian=8]="XiuXian",n[n.Revive=9]="Revive",n[n.Drop=10]="Drop",n[n.Attack=11]="Attack",n[n.Doing=12]="Doing",n[n.Hunger=13]="Hunger",n[n.Mining=14]="Mining",n[n.Watering=15]="Watering",n[n.Max=16]="Max"}(i||(i=n("EAnimState",{}))),e._RF.pop()}}}));

System.register("chunks:///_virtual/enum.battle.state.ts",["cc"],(function(t){"use strict";var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){var i;t("EBattleState",void 0),e._RF.push({},"4ef527L2r1B5KqZiCFAKvId","enum.battle.state",void 0),function(t){t[t.None=0]="None",t[t.Init=1]="Init",t[t.Loading=2]="Loading",t[t.Ready=3]="Ready",t[t.Fighting=4]="Fighting",t[t.Clearing=5]="Clearing",t[t.Finish=6]="Finish"}(i||(i=t("EBattleState",{}))),e._RF.pop()}}}));

System.register("chunks:///_virtual/enum.chain.type.ts",["cc"],(function(e){"use strict";var n;return{setters:[function(e){n=e.cclegacy}],execute:function(){var c;e("EChainType",void 0),n._RF.push({},"2ecb4AsQ/9JDYkJTeHVcQGn","enum.chain.type",void 0),function(e){e[e.None=0]="None",e[e.Bera=1]="Bera",e[e.Tabi=2]="Tabi"}(c||(c=e("EChainType",{}))),n._RF.pop()}}}));

System.register("chunks:///_virtual/enum.character.state.ts",["cc"],(function(T){"use strict";var E;return{setters:[function(T){E=T.cclegacy}],execute:function(){var A;T("CharacterState",void 0),E._RF.push({},"8fe48Wnd7pOKawS5CqGSciy","enum.character.state",void 0),function(T){T[T.USTATE_DEATH=0]="USTATE_DEATH",T[T.USTATE_POISON=1]="USTATE_POISON",T[T.USTATE_ICE=2]="USTATE_ICE",T[T.USTATE_FREEZE=3]="USTATE_FREEZE",T[T.USTATE_ROCK=4]="USTATE_ROCK",T[T.USTATE_PALSY=5]="USTATE_PALSY",T[T.USTATE_NO_MOVE=6]="USTATE_NO_MOVE",T[T.USTATE_STUN=7]="USTATE_STUN",T[T.USTATE_SILENT=8]="USTATE_SILENT",T[T.USTATE_CONFUSION=9]="USTATE_CONFUSION",T[T.USTATE_CRAZY=10]="USTATE_CRAZY",T[T.USTATE_BLIND=11]="USTATE_BLIND",T[T.USTATE_SLOW=12]="USTATE_SLOW",T[T.USTATE_DEF_DOWN=13]="USTATE_DEF_DOWN",T[T.USTATE_MDEF_DOWN=14]="USTATE_MDEF_DOWN",T[T.USTATE_MANA_BURN=15]="USTATE_MANA_BURN",T[T.USTATE_SATI_HALO=16]="USTATE_SATI_HALO",T[T.USTATE_ICE_SHIELD=17]="USTATE_ICE_SHIELD",T[T.USTATE_ICE_BURST=18]="USTATE_ICE_BURST",T[T.USTATE_SHOCKWAVE_SLOW=19]="USTATE_SHOCKWAVE_SLOW",T[T.USTATE_BLOOD_RING=20]="USTATE_BLOOD_RING",T[T.USTATE_BLADE_SHAPE=21]="USTATE_BLADE_SHAPE",T[T.USTATE_DARK_MIND=22]="USTATE_DARK_MIND",T[T.USTATE_SOUL_BURN=23]="USTATE_SOUL_BURN",T[T.USTATE_TOXIC_SMOG=24]="USTATE_TOXIC_SMOG",T[T.USTATE_PLAGUE=25]="USTATE_PLAGUE",T[T.USTATE_DRAGON_CURSE=26]="USTATE_DRAGON_CURSE",T[T.USTATE_CORRIOSION=27]="USTATE_CORRIOSION",T[T.USTATE_HOLLY_SIGN_1=28]="USTATE_HOLLY_SIGN_1",T[T.USTATE_HOLLY_SIGN_2=29]="USTATE_HOLLY_SIGN_2",T[T.USTATE_BROKEN_BLADE=30]="USTATE_BROKEN_BLADE",T[T.USTATE_BETRAYER_CLOAK=31]="USTATE_BETRAYER_CLOAK",T[T.USTATE_CORRIOSION_SKIN=32]="USTATE_CORRIOSION_SKIN",T[T.USTATE_SLEEP=33]="USTATE_SLEEP",T[T.USTATE_REHP=101]="USTATE_REHP",T[T.USTATE_UPSPEED=102]="USTATE_UPSPEED",T[T.USTATE_SHIELD=103]="USTATE_SHIELD",T[T.USTATE_UPATT=104]="USTATE_UPATT",T[T.USTATE_BIGATT=105]="USTATE_BIGATT",T[T.USTATE_MORESHIELD=106]="USTATE_MORESHIELD",T[T.USTATE_WIND=107]="USTATE_WIND",T[T.USTATE_WHIRLWIND=108]="USTATE_WHIRLWIND",T[T.USTATE_RELIVE=109]="USTATE_RELIVE",T[T.USTATE_UPSPEEDSKILL=110]="USTATE_UPSPEEDSKILL",T[T.USTATE_DAM_DOWN0=120]="USTATE_DAM_DOWN0",T[T.USTATE_DAM_DOWN1=121]="USTATE_DAM_DOWN1",T[T.USTATE_DAM_DOWN2=122]="USTATE_DAM_DOWN2",T[T.USTATE_DAM_DOWN3=123]="USTATE_DAM_DOWN3",T[T.USTATE_CURE=124]="USTATE_CURE",T[T.USTATE_RUNFAST1=125]="USTATE_RUNFAST1",T[T.USTATE_RUNFAST2=126]="USTATE_RUNFAST2",T[T.USTATE_RUNFAST3=127]="USTATE_RUNFAST3",T[T.USTATE_RUNFAST4=128]="USTATE_RUNFAST4",T[T.USTATE_RUNFAST5=129]="USTATE_RUNFAST5",T[T.USTATE_RUNFAST6=130]="USTATE_RUNFAST6",T[T.USTATE_RUNFAST7=131]="USTATE_RUNFAST7",T[T.USTATE_RUNFAST8=132]="USTATE_RUNFAST8",T[T.USTATE_RUNFAST9=133]="USTATE_RUNFAST9",T[T.USTATE_RUNFAST10=134]="USTATE_RUNFAST10",T[T.USTATE_RUN_DOWN=135]="USTATE_RUN_DOWN",T[T.USTATE_ATT_SPEED1=136]="USTATE_ATT_SPEED1",T[T.USTATE_ATT_SPEED2=137]="USTATE_ATT_SPEED2",T[T.USTATE_ATT_SPEED3=138]="USTATE_ATT_SPEED3",T[T.USTATE_ATT_SPEED4=139]="USTATE_ATT_SPEED4",T[T.USTATE_ATT_SPEED5=140]="USTATE_ATT_SPEED5",T[T.USTATE_ATT_SPEED6=141]="USTATE_ATT_SPEED6",T[T.USTATE_ATT_SPEED7=142]="USTATE_ATT_SPEED7",T[T.USTATE_ATT_SPEED8=143]="USTATE_ATT_SPEED8",T[T.USTATE_ATT_SPEED9=144]="USTATE_ATT_SPEED9",T[T.USTATE_ATT_SPEED10=145]="USTATE_ATT_SPEED10",T[T.USTATE_CHASE=146]="USTATE_CHASE",T[T.USTATE_BLESS=147]="USTATE_BLESS",T[T.USTATE_REBOUND_DAM1=148]="USTATE_REBOUND_DAM1",T[T.USTATE_REBOUND_DAM2=149]="USTATE_REBOUND_DAM2",T[T.USTATE_REBOUND_DAM3=150]="USTATE_REBOUND_DAM3",T[T.USTATE_REBOUND_DAM4=151]="USTATE_REBOUND_DAM4",T[T.USTATE_REBOUND_DAM5=152]="USTATE_REBOUND_DAM5",T[T.USTATE_REBOUND_DAM6=153]="USTATE_REBOUND_DAM6",T[T.USTATE_REBOUND_DAM7=154]="USTATE_REBOUND_DAM7",T[T.USTATE_REBOUND_DAM8=155]="USTATE_REBOUND_DAM8",T[T.USTATE_REBOUND_DAM9=156]="USTATE_REBOUND_DAM9",T[T.USTATE_REBOUND_DAM10=157]="USTATE_REBOUND_DAM10",T[T.USTATE_BIND_DAM=158]="USTATE_BIND_DAM",T[T.USTATE_POISONMORE=159]="USTATE_POISONMORE",T[T.USTATE_WILD1=160]="USTATE_WILD1",T[T.USTATE_WILD2=161]="USTATE_WILD2",T[T.USTATE_WILD3=162]="USTATE_WILD3",T[T.USTATE_WILD4=163]="USTATE_WILD4",T[T.USTATE_WILD5=164]="USTATE_WILD5",T[T.USTATE_WILD6=165]="USTATE_WILD6",T[T.USTATE_WILD7=166]="USTATE_WILD7",T[T.USTATE_WILD8=167]="USTATE_WILD8",T[T.USTATE_WILD9=168]="USTATE_WILD9",T[T.USTATE_WILD10=169]="USTATE_WILD10",T[T.USTATE_AWE=170]="USTATE_AWE",T[T.USTATE_WALK=171]="USTATE_WALK",T[T.USTATE_THUNDER=172]="USTATE_THUNDER",T[T.USTATE_ThrowBomb=173]="USTATE_ThrowBomb",T[T.USTATE_KnockDown=174]="USTATE_KnockDown",T[T.USTATE_THUNDERCrit=175]="USTATE_THUNDERCrit",T[T.USTATE_Zipline=176]="USTATE_Zipline",T[T.USTATE_Burn=177]="USTATE_Burn",T[T.USTATE_ImmuneQuicksand=178]="USTATE_ImmuneQuicksand",T[T.USTATE_StunNew=179]="USTATE_StunNew",T[T.USTATE_KnockDown2=180]="USTATE_KnockDown2",T[T.USTATE_Charge=181]="USTATE_Charge",T[T.USTATE_Relive=182]="USTATE_Relive",T[T.USTATE_Hide=183]="USTATE_Hide",T[T.USTATE_KnockBack=184]="USTATE_KnockBack",T[T.USTATE_Immune1=185]="USTATE_Immune1",T[T.USTATE_Immune2=186]="USTATE_Immune2",T[T.USTATE_JumpSlow=187]="USTATE_JumpSlow",T[T.USTATE_KnockBack2=188]="USTATE_KnockBack2",T[T.USTATE_Immune3=189]="USTATE_Immune3",T[T.USTATE_ItemInvincible=190]="USTATE_ItemInvincible",T[T.USTATE_ThunderCloud=191]="USTATE_ThunderCloud",T[T.USTATE_Relive2=192]="USTATE_Relive2",T[T.USTATE_Charge2=193]="USTATE_Charge2",T[T.USTATE_WIND2=194]="USTATE_WIND2",T[T.USTATE_TEAM_ATTACK_ONE_DIM=200]="USTATE_TEAM_ATTACK_ONE_DIM",T[T.USTATE_CommonRelive=254]="USTATE_CommonRelive",T[T.USTATE_CommonStun=255]="USTATE_CommonStun",T[T.MAX_STATE=256]="MAX_STATE"}(A||(A=T("CharacterState",{}))),E._RF.pop()}}}));

System.register("chunks:///_virtual/enum.effect.define.ts",["cc"],(function(e){"use strict";var o;return{setters:[function(e){o=e.cclegacy}],execute:function(){var n,t,f,a;e({EEffectCollType:void 0,EEffectMoveMode:void 0,EEffectSlotType:void 0,EEffectType:void 0}),o._RF.push({},"55f985y27BNWY0XUO4qfl7d","enum.effect.define",void 0),function(e){e[e.None=0]="None",e[e.Mount=1]="Mount",e[e.Move=2]="Move",e[e.Max=3]="Max"}(n||(n=e("EEffectType",{}))),function(e){e[e.None=0]="None",e[e.Static=1]="Static",e[e.Line=2]="Line",e[e.Parabola=3]="Parabola",e[e.Max=4]="Max"}(t||(t=e("EEffectMoveMode",{}))),function(e){e[e.None=0]="None",e[e.Root=101]="Root",e[e.Head=102]="Head",e[e.Buff=103]="Buff",e[e.LeftHand=104]="LeftHand",e[e.RightHand=105]="RightHand",e[e.HitPoint=106]="HitPoint",e[e.GunPos=107]="GunPos",e[e.Weapon=110]="Weapon",e[e.Weapon01=111]="Weapon01",e[e.Weapon02=112]="Weapon02",e[e.RHand=113]="RHand",e[e.LHand=114]="LHand"}(f||(f=e("EEffectSlotType",{}))),function(e){e[e.eColType_None=0]="eColType_None",e[e.eColType_Self=1]="eColType_Self",e[e.eColType_Friend=2]="eColType_Friend",e[e.eColType_Enemy=3]="eColType_Enemy",e[e.eColType_Terrain=4]="eColType_Terrain",e[e.eColType_SceneObj=5]="eColType_SceneObj",e[e.eColType_InitObj=6]="eColType_InitObj"}(a||(a=e("EEffectCollType",{}))),o._RF.pop()}}}));

System.register("chunks:///_virtual/enum.engine.ts",["cc"],(function(n){"use strict";var e;return{setters:[function(n){e=n.cclegacy}],execute:function(){var t,i;n({EEngineObjLoadState:void 0,EEngineObjType:void 0}),e._RF.push({},"1c678jwg4JJeqbSLdk1t/KO","enum.engine",void 0),function(n){n[n.None=0]="None",n[n.Avatar=1]="Avatar",n[n.Effect=2]="Effect"}(t||(t=n("EEngineObjType",{}))),function(n){n[n.None=0]="None",n[n.Loading=1]="Loading",n[n.LoadFinish=2]="LoadFinish"}(i||(i=n("EEngineObjLoadState",{}))),e._RF.pop()}}}));

System.register("chunks:///_virtual/enum.equip.slot.ts",["cc"],(function(e){"use strict";var n;return{setters:[function(e){n=e.cclegacy}],execute:function(){var u;e("enumEquipSlot",void 0),n._RF.push({},"301f9EZQ4lIDpbhuTiozE2c","enum.equip.slot",void 0),function(e){e[e.Null=0]="Null",e[e.Body=1]="Body",e[e.Antenna=2]="Antenna",e[e.Head=3]="Head",e[e.Eye=4]="Eye",e[e.Hand=5]="Hand",e[e.Weapon=6]="Weapon",e[e.Max=7]="Max"}(u||(u=e("enumEquipSlot",{}))),n._RF.pop()}}}));

System.register("chunks:///_virtual/enum.exploration.state.ts",["cc"],(function(t){"use strict";var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){var n;t("EExplorationState",void 0),e._RF.push({},"31eefXxVclKya4XcYAqxo0z","enum.exploration.state",void 0),function(t){t[t.None=0]="None",t[t.Init=1]="Init",t[t.Ready=2]="Ready",t[t.Move=3]="Move",t[t.Fight=4]="Fight",t[t.Finish=5]="Finish",t[t.Clearing=6]="Clearing"}(n||(n=t("EExplorationState",{}))),e._RF.pop()}}}));

System.register("chunks:///_virtual/enum.face.dir.ts",["cc"],(function(e){"use strict";var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){var c;e("EFaceDir",void 0),t._RF.push({},"1f0c4CU1rRMhZmDNhFmQNyL","enum.face.dir",void 0),function(e){e[e.None=0]="None",e[e.LookLeft=1]="LookLeft",e[e.LookRight=2]="LookRight",e[e.Max=3]="Max"}(c||(c=e("EFaceDir",{}))),t._RF.pop()}}}));

System.register("chunks:///_virtual/enum.farm.building.type.ts",["cc"],(function(e){"use strict";var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"218e6yfZwhK/pqiM/UI7qR8","enum.farm.building.type",void 0);e("EFarmBuildingType",{None:0,Mushroom:101,ManaGel:102,Ethereal:103});t._RF.pop()}}}));

System.register("chunks:///_virtual/enum.farm.coin.res.ts",["cc"],(function(e){"use strict";var n;return{setters:[function(e){n=e.cclegacy}],execute:function(){n._RF.push({},"ebafd+p5OREuLIgCxYvQFI2","enum.farm.coin.res",void 0);e("EFarmCoinRes",{None:0,Token_Silver:10,Token_Gold:11,Token_Wizz:12,Res_Mushroom:13,Res_ManaGel:14,Res_Ethereal:15});n._RF.pop()}}}));

System.register("chunks:///_virtual/enum.farm.object.layer.ts",["cc"],(function(e){"use strict";var r;return{setters:[function(e){r=e.cclegacy}],execute:function(){var n;e("EFarmObjectLayer",void 0),r._RF.push({},"41d31WLz1ZCxaNbvCbdcHm6","enum.farm.object.layer",void 0),function(e){e[e.None=0]="None",e[e.Terrain=1]="Terrain",e[e.TerrainBorder=2]="TerrainBorder",e[e.Ground=11]="Ground",e[e.GroundObject=12]="GroundObject",e[e.Object=20]="Object",e[e.Max=21]="Max"}(n||(n=e("EFarmObjectLayer",{}))),r._RF.pop()}}}));

System.register("chunks:///_virtual/enum.farm.object.operate.state.ts",["cc"],(function(e){"use strict";var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"7c14ahPTERFvbhXJ3QFRViG","enum.farm.object.operate.state",void 0);e("EFarmObjectOperateState",{None:0,CanPut:1,CanNotPut:2,SpecialClone:3});t._RF.pop()}}}));

System.register("chunks:///_virtual/enum.farm.object.type.ts",["cc"],(function(o){"use strict";var e;return{setters:[function(o){e=o.cclegacy}],execute:function(){e._RF.push({},"c0b7bU+vkxG/r2Tn8tijxha","enum.farm.object.type",void 0);o("EFarmObjectType",{None:0,Common:1,CommonGround:5,CommonTerrain:6,CommonGrass:7,FoodRoom:11,WoodRoom:12,StoneRoom:13,TabeTower:14,FoodProduce:101,WoodProduce:102,StoneProduce:103,IpShow:201,AirDrop:301,Ground:400});e._RF.pop()}}}));

System.register("chunks:///_virtual/enum.farm.state.ts",["cc"],(function(t){"use strict";var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){var r;t("EFarmState",void 0),e._RF.push({},"5b38dDZ039O/LyzcQIrSgrl","enum.farm.state",void 0),function(t){t[t.None=0]="None",t[t.Normal=1]="Normal",t[t.ObjectAdd=2]="ObjectAdd",t[t.ObjectEdit=3]="ObjectEdit",t[t.TerrainAdd=4]="TerrainAdd",t[t.TerrainEdit=5]="TerrainEdit",t[t.Max=6]="Max"}(r||(r=t("EFarmState",{}))),e._RF.pop()}}}));

System.register("chunks:///_virtual/enum.fight.define.ts",["cc"],(function(e){"use strict";var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){var n,i,o,r,s;e({EFightCamp:void 0,EFightEventStatus:void 0,EFightEventType:void 0,EFightType:void 0,EFighterType:void 0}),t._RF.push({},"7873584Y4ZDI73raBgO57NQ","enum.fight.define",void 0),function(e){e[e.None=0]="None",e[e.Player_VS_Monster=1]="Player_VS_Monster",e[e.Player_Guide=2]="Player_Guide",e[e.Event_Monster=11]="Event_Monster",e[e.Event_Boss=12]="Event_Boss",e[e.PVP=20]="PVP",e[e.PVP_Rank=21]="PVP_Rank",e[e.Escort=22]="Escort"}(n||(n=e("EFightType",{}))),function(e){e[e.None=0]="None",e[e.Attacker=1]="Attacker",e[e.Defender=2]="Defender"}(i||(i=e("EFightCamp",{}))),function(e){e[e.None=0]="None",e[e.Player=1]="Player",e[e.Monster=2]="Monster"}(o||(o=e("EFighterType",{}))),function(e){e[e.Attack=101]="Attack",e[e.Skill=102]="Skill",e[e.Buff=103]="Buff",e[e.Status=201]="Status",e[e.SetHP=202]="SetHP"}(r||(r=e("EFightEventType",{}))),function(e){e[e.Dead=0]="Dead",e[e.Dizziness=1]="Dizziness"}(s||(s=e("EFightEventStatus",{}))),t._RF.pop()}}}));

System.register("chunks:///_virtual/enum.fight.state.ts",["cc"],(function(t){"use strict";var i;return{setters:[function(t){i=t.cclegacy}],execute:function(){var e;t("EFightState",void 0),i._RF.push({},"6abd7rJxSdGcomO4TZI82SH","enum.fight.state",void 0),function(t){t[t.None=0]="None",t[t.Idle=1]="Idle",t[t.FightReady=2]="FightReady",t[t.Fighting=3]="Fighting",t[t.FightingBack=4]="FightingBack",t[t.Death=5]="Death",t[t.Dizziness=6]="Dizziness",t[t.FightSuccess=7]="FightSuccess",t[t.FightFailed=8]="FightFailed"}(e||(e=t("EFightState",{}))),i._RF.pop()}}}));

System.register("chunks:///_virtual/enum.input.control.type.ts",["cc"],(function(e){"use strict";var n;return{setters:[function(e){n=e.cclegacy}],execute:function(){n._RF.push({},"dabbaZSHuVA+Je+xTMpt4Np","enum.input.control.type",void 0);e("EInputControlType",{None:0,MainScene:1,Normal:2,GuideRole:3,MazeScene:4,ManorScene:5});n._RF.pop()}}}));

System.register("chunks:///_virtual/enum.item.type.ts",["cc"],(function(e){"use strict";var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"0d812ya/spA26NzwY6egpjw","enum.item.type",void 0);e("EItemType",{None:0,Token:1,Res:2,Item_Common:3,Item_Undefine_Chain:4,Box:5,Box_Use:7,Farm_Worker:8,Farm_Object:11,Farm_Skin:12,Farm_Recipe:13,Exploration_Pass:14,Combination:17}),e("EItemQuality",{None:0,Green:1,Blue:2,Purple:3,Orange:4,White:10});t._RF.pop()}}}));

System.register("chunks:///_virtual/enum.npc.ts",["cc"],(function(e){"use strict";var c;return{setters:[function(e){c=e.cclegacy}],execute:function(){c._RF.push({},"2ece3bb5ZhH6bXfdh5dvfRn","enum.npc",void 0);e("ENpcResType",{BaseRole:1,SingleSpine:2}),e("ENpcFuncType",{None:0,Market_NFT:11,Shop_NFT:12,Shop_Game:13,GoldAllowance:14,Salvage:15,Maze:20});c._RF.pop()}}}));

System.register("chunks:///_virtual/enum.object.dir.ts",["cc"],(function(t){"use strict";var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"3e4d4sL2LBMAoR40hKNn9w8","enum.object.dir",void 0);t("EObjectDir",{Up:0,UpRight:1,Right:2,BottomRight:3,Bottom:4,BottomLeft:5,Left:6,UpLeft:7,Max:10});e._RF.pop()}}}));

System.register("chunks:///_virtual/enum.object.type.ts",["cc"],(function(t){"use strict";var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"3f83bYckiNCZqqhOB5E8LMD","enum.object.type",void 0);t("EObjectType",{None:0,RoleActor:1,MainRoleActor:2,NpcActor:3,FightActor:4,FightMonster:5,GuideActor:6,MazeSelfActor:7,UIMapSelfActor:8,PetActor:9,MazePetActor:10,PartyCreateObject:11,PartyObject:12,Effect:13,FarmRes:14});e._RF.pop()}}}));

System.register("chunks:///_virtual/enum.open.function.type.ts",["cc"],(function(n){"use strict";var e;return{setters:[function(n){e=n.cclegacy}],execute:function(){var o;n("EOpenFunctionType",void 0),e._RF.push({},"6210fUhBeVHFpH6WFJoEL5r","enum.open.function.type",void 0),function(n){n[n.None=0]="None",n[n.ScreamingChicken=1]="ScreamingChicken",n[n.Exploration=2]="Exploration",n[n.Lvl2Room=3]="Lvl2Room",n[n.Lvl3Room=4]="Lvl3Room"}(o||(o=n("EOpenFunctionType",{}))),e._RF.pop()}}}));

System.register("chunks:///_virtual/enum.plat.type.ts",["cc"],(function(N){"use strict";var E;return{setters:[function(N){E=N.cclegacy}],execute:function(){var _;N("PlatType",void 0),E._RF.push({},"944ff0QEIpDU6YyZna0grBl","enum.plat.type",void 0),function(N){N[N.NONE=0]="NONE",N[N.COMMON=1]="COMMON",N[N.KEBA=2]="KEBA",N[N.TEST_SERVER=11]="TEST_SERVER",N[N.FORMAL_TON_MAINNET=21]="FORMAL_TON_MAINNET",N[N.FORMAL_TON_TESTNET=22]="FORMAL_TON_TESTNET",N[N.FORMAL_X_MAINNET=31]="FORMAL_X_MAINNET",N[N.FORMAL_LINE_MAINNET=41]="FORMAL_LINE_MAINNET",N[N.FORMAL_WEB_MAINNET=50]="FORMAL_WEB_MAINNET"}(_||(_=N("PlatType",{}))),E._RF.pop()}}}));

System.register("chunks:///_virtual/enum.playerself.state.ts",["cc"],(function(e){"use strict";var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"ada5brUNUVA5rP6WUQVWiC9","enum.playerself.state",void 0);e("EPlayerselfState",{None:0,Normal:1,ChongFeng:2,Diness:3,UserGuide:4,InteractNpc:5,InteractView:6,InFight:7});t._RF.pop()}}}));

System.register("chunks:///_virtual/enum.plugin.type.ts",["cc"],(function(e){"use strict";var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){var n;e("PluginType",void 0),t._RF.push({},"2dc0emiHPZBTqY/syaNb0ot","enum.plugin.type",void 0),function(e){e[e.NONE=0]="NONE",e[e.COMMON=1]="COMMON",e[e.TELEGRAM=2]="TELEGRAM",e[e.X=3]="X",e[e.LINE=4]="LINE",e[e.WEB=5]="WEB"}(n||(n=e("PluginType",{}))),t._RF.pop()}}}));

System.register("chunks:///_virtual/enum.race.state.ts",["cc"],(function(e){"use strict";var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){var n;e("ERaceState",void 0),t._RF.push({},"d2c03ZnqDREcbn0WvCqu6s9","enum.race.state",void 0),function(e){e[e.None=0]="None",e[e.Init=1]="Init",e[e.Unopen=2]="Unopen",e[e.Before=3]="Before",e[e.Ready=4]="Ready",e[e.Start_Line1=5]="Start_Line1",e[e.Start_Line2=6]="Start_Line2",e[e.Start_Line3=7]="Start_Line3",e[e.Finish=8]="Finish"}(n||(n=e("ERaceState",{}))),t._RF.pop()}}}));

System.register("chunks:///_virtual/enum.robot.define.ts",["cc"],(function(e){"use strict";var o;return{setters:[function(e){o=e.cclegacy}],execute:function(){var t;e("ERobotType",void 0),o._RF.push({},"24028ZvhkJKYaJQ/IGfuJuc","enum.robot.define",void 0),function(e){e[e.None=0]="None",e[e.Work=1]="Work",e[e.Max=2]="Max"}(t||(t=e("ERobotType",{}))),o._RF.pop()}}}));

System.register("chunks:///_virtual/enum.robot.state.ts",["cc"],(function(t){"use strict";var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){var o;t("ERobotState",void 0),e._RF.push({},"9f038mpImhPzJPr8bmX7pu7","enum.robot.state",void 0),function(t){t[t.None=0]="None",t[t.Wait=1]="Wait",t[t.Idle=2]="Idle",t[t.Work=3]="Work"}(o||(o=t("ERobotState",{}))),e._RF.pop()}}}));

System.register("chunks:///_virtual/enum.scene.state.ts",["cc"],(function(e){"use strict";var n;return{setters:[function(e){n=e.cclegacy}],execute:function(){var t;e("ESceneState",void 0),n._RF.push({},"f39a5eLA8xGWI5J7Q0cLdya","enum.scene.state",void 0),function(e){e[e.None=0]="None",e[e.Init=1]="Init",e[e.Loading=2]="Loading",e[e.Starting=4]="Starting",e[e.Running=5]="Running",e[e.Release=6]="Release"}(t||(t=e("ESceneState",{}))),n._RF.pop()}}}));

System.register("chunks:///_virtual/enum.skill.define.ts",["cc"],(function(e){"use strict";var n;return{setters:[function(e){n=e.cclegacy}],execute:function(){var i,o,a,l,t;e({ESkillBindObjType:void 0,ESkillEffectType:void 0,ESkillTargetCondition:void 0,ESkillTargetType:void 0,ESkillType:void 0}),n._RF.push({},"51817alSchEcq8v/P7EWzqJ","enum.skill.define",void 0),function(e){e[e.None=0]="None",e[e.KuangBao=1]="KuangBao",e[e.ShiQiang=2]="ShiQiang",e[e.FuSheng=3]="FuSheng",e[e.ZhanSha=4]="ZhanSha",e[e.ShenYou=5]="ShenYou",e[e.ZhaoJia=6]="ZhaoJia",e[e.AddAttr=7]="AddAttr"}(i||(i=e("ESkillType",{}))),function(e){e[e.None=0]="None",e[e.Self=1]="Self",e[e.Enemy=2]="Enemy",e[e.Frined=3]="Frined",e[e.All=4]="All"}(o||(o=e("ESkillTargetType",{}))),function(e){e[e.None=0]="None",e[e.MinHp=1]="MinHp",e[e.MinDis=2]="MinDis",e[e.TankAssDamage=3]="TankAssDamage",e[e.DamageAssTank=4]="DamageAssTank",e[e.AssDamageTank=5]="AssDamageTank",e[e.Random=6]="Random"}(a||(a=e("ESkillTargetCondition",{}))),function(e){e[e.None=0]="None",e[e.Action=1]="Action",e[e.HitValue=2]="HitValue",e[e.Bullet=3]="Bullet",e[e.Persist=4]="Persist",e[e.AddBuff=5]="AddBuff",e[e.RemoveBuff=6]="RemoveBuff"}(l||(l=e("ESkillEffectType",{}))),function(e){e[e.None=0]="None",e[e.Move=1]="Move",e[e.Knockback=2]="Knockback",e[e.Fallback=3]="Fallback",e[e.MoveSend=4]="MoveSend",e[e.MovePull=5]="MovePull",e[e.RoundMove=6]="RoundMove",e[e.Bullet=7]="Bullet",e[e.LinkObj=8]="LinkObj",e[e.Trap=9]="Trap",e[e.StageHit=10]="StageHit",e[e.Position=11]="Position",e[e.MoveArea=12]="MoveArea",e[e.Persist=13]="Persist",e[e.Totem=14]="Totem",e[e.Jump=15]="Jump",e[e.Max=16]="Max"}(t||(t=e("ESkillBindObjType",{}))),n._RF.pop()}}}));

System.register("chunks:///_virtual/enum.skin.part.ts",["cc"],(function(e){"use strict";var n;return{setters:[function(e){n=e.cclegacy}],execute:function(){n._RF.push({},"97af7QmAK1BzqHBED3CyG7o","enum.skin.part",void 0);e("ESkinPart",{None:0,Body:1,Antenna:2,Head:3,Eye:4,Arm:5,Hand:6,Leg:7,Max:8});n._RF.pop()}}}));

System.register("chunks:///_virtual/enum.state.define.ts",["cc"],(function(e){"use strict";var a;return{setters:[function(e){a=e.cclegacy}],execute:function(){var r,_,C;e({EStateConditionTriggerType:void 0,EStateControlType:void 0,EStateEffectType:void 0}),a._RF.push({},"e35d8l1hhNAaa+pVO6Gz2DV","enum.state.define",void 0),function(e){e[e.None=0]="None",e[e.Control=1]="Control",e[e.AttrChange=2]="AttrChange",e[e.InterTrigger=3]="InterTrigger",e[e.ConditionTrigger=4]="ConditionTrigger"}(r||(r=e("EStateEffectType",{}))),function(e){e[e.None=0]="None",e[e.Fear=1]="Fear",e[e.Sleep=2]="Sleep",e[e.Silent=3]="Silent",e[e.Fasten=4]="Fasten",e[e.Palsy=5]="Palsy",e[e.SlowDown=6]="SlowDown",e[e.Max=7]="Max"}(_||(_=e("EStateControlType",{}))),function(e){e[e.None=0]="None",e[e.Real_PhysicDamage=101]="Real_PhysicDamage",e[e.Real_MagicDamage=102]="Real_MagicDamage",e[e.Real_AllDamage=103]="Real_AllDamage",e[e.Real_PhysicCure=201]="Real_PhysicCure",e[e.Real_MagicCure=202]="Real_MagicCure",e[e.Real_AllCure=203]="Real_AllCure",e[e.Eff_PhysicDamage=301]="Eff_PhysicDamage",e[e.Eff_MagicDamage=302]="Eff_MagicDamage",e[e.Eff_AllDamage=303]="Eff_AllDamage",e[e.Eff_PhysicCure=401]="Eff_PhysicCure",e[e.Eff_MagicCure=402]="Eff_MagicCure",e[e.Eff_AllCure=403]="Eff_AllCure",e[e.Cre_PhysicDamage_Crit=501]="Cre_PhysicDamage_Crit",e[e.Cre_MagicDamage_Crit=502]="Cre_MagicDamage_Crit",e[e.Cre_AllDamage_Crit=503]="Cre_AllDamage_Crit",e[e.Cre_PhysicCure_Crit=601]="Cre_PhysicCure_Crit",e[e.Cre_MagicCure_Crit=602]="Cre_MagicCure_Crit",e[e.Cre_AllCure_Crit=603]="Cre_AllCure_Crit",e[e.Cre_PhysicDamage=701]="Cre_PhysicDamage",e[e.Cre_MagicDamage=702]="Cre_MagicDamage",e[e.Cre_AllDamage=703]="Cre_AllDamage",e[e.Enter_Fight=801]="Enter_Fight",e[e.Player_Dead=802]="Player_Dead",e[e.Cre_PhysicCure=901]="Cre_PhysicCure",e[e.Cre_MagicCure=902]="Cre_MagicCure",e[e.Cre_AllCure=903]="Cre_AllCure",e[e.Cre_Real_PhysicDamage=1001]="Cre_Real_PhysicDamage",e[e.Cre_Real_MagicDamage=1002]="Cre_Real_MagicDamage",e[e.Cre_Real_AllDamage=1003]="Cre_Real_AllDamage",e[e.Cre_Real_PhysicCure=1101]="Cre_Real_PhysicCure",e[e.Cre_Real_MagicCure=1102]="Cre_Real_MagicCure",e[e.Cre_Real_AllCure=1103]="Cre_Real_AllCure",e[e.Cre_Real_PhysicDamage_Crit=1201]="Cre_Real_PhysicDamage_Crit",e[e.Cre_Real_MagicDamage_Crit=1202]="Cre_Real_MagicDamage_Crit",e[e.Cre_Real_AllDamage_Crit=1203]="Cre_Real_AllDamage_Crit",e[e.Cre_Real_PhysicCure_Crit=1301]="Cre_Real_PhysicCure_Crit",e[e.Cre_Real_MagicCure_Crit=1302]="Cre_Real_MagicCure_Crit",e[e.Cre_Real_AllCure_Crit=1303]="Cre_Real_AllCure_Crit",e[e.Max=1304]="Max"}(C||(C=e("EStateConditionTriggerType",{}))),a._RF.pop()}}}));

System.register("chunks:///_virtual/enum.table.type.ts",["cc"],(function(e){"use strict";var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){var n;e("EnumTableType",void 0),t._RF.push({},"bb668M6oCtG9rt4/dgiXWWR","enum.table.type",void 0),function(e){e[e.NONE=0]="NONE",e[e.REPEAT_ID=1]="REPEAT_ID",e[e.UNIQUE_ID=2]="UNIQUE_ID"}(n||(n=e("EnumTableType",{}))),t._RF.pop()}}}));

System.register("chunks:///_virtual/enum.weapon.type.ts",["cc"],(function(e){"use strict";var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"bf52cJyz9RKvIzx9f0AzzzE","enum.weapon.type",void 0);e("EWeaponType",{None:0,Polearms:1,Melee:2,Ranged:3,Heavy:4,Product:5,Max:6});t._RF.pop()}}}));

System.register("chunks:///_virtual/enum.work.define.ts",["cc"],(function(e){"use strict";var r;return{setters:[function(e){r=e.cclegacy}],execute:function(){var n;e("EWorkerType",void 0),r._RF.push({},"1c74cOX5KxL5b9/9pOIr/AS","enum.work.define",void 0),function(e){e[e.None=0]="None",e[e.Farmer=1]="Farmer",e[e.Hunter=2]="Hunter",e[e.Miner=3]="Miner",e[e.Max=4]="Max"}(n||(n=e("EWorkerType",{})));e("EWorkResType",{None:0,Mushroom:1,ManaGel:2,Ethereal:3});r._RF.pop()}}}));

System.register("chunks:///_virtual/enum.work.state.ts",["cc"],(function(t){"use strict";var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){var n;t("EWorkState",void 0),e._RF.push({},"a5b7dsJbWZLbaIaMlqrKVHL","enum.work.state",void 0),function(t){t[t.None=0]="None",t[t.Wait=1]="Wait",t[t.Idle=2]="Idle",t[t.Water=3]="Water",t[t.Gather=4]="Gather",t[t.Hunt=5]="Hunt",t[t.Mine=6]="Mine"}(n||(n=t("EWorkState",{}))),e._RF.pop()}}}));

System.register("chunks:///_virtual/event.client.protocol.ts",["./rollupPluginModLoBabelHelpers.js","cc","./net.protocol.define.ts","./null.client.protocol.ts"],(function(t){"use strict";var e,n,i,c;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){i=t.NetProtocolDefine},function(t){c=t.stNullClientCmd}],execute:function(){n._RF.push({},"1641bUGGgND+YX6v9LRbW53","event.client.protocol",void 0);var o=t("stEventClientCmd",function(t){function n(){var e;return(e=t.call(this)||this).gsCmd=i.EVENT_CLIENT_CMD,e}return e(n,t),n}(c)),r=t("TERMINATE_DIALOG_EVENT_CLIENT",9),s=t("ACTION_DATA_EVENT_CLIENT",11),a=t("SHOW_LOG_EVENT_CLIENT",15),u=(t("EEventType",{eEventActBranch:1,eEventActChoice:2,eEventActItem:3,eEventActRandom:4,eEventActCondition:5,eEventActVar:6,eEventActBox:7,eEventActFight:8}),t("stEventInfo",function(){function t(){this.eventID=0,this.eventActType=0,this.eventActID=0,this.nextAct=null}return t.prototype.UnpackData=function(t){this.eventID=t.readUint32(),this.eventActType=t.readUint32(),this.eventActID=t.readUint32(),this.nextAct=[];for(var e=0;e<10;++e)this.nextAct[e]=t.readUint8()},t}()));t("stActionDataEventClientCmd",function(t){function n(){var e;return(e=t.call(this)||this).eventInfo=new u,e.gsParam=s,e}return e(n,t),n.prototype.UnPack=function(e){t.prototype.UnPack.call(this,e),this.eventInfo.UnpackData(this.mByteBuffer),this.ReleaseByteBuffer()},n}(o)),t("stTerminateDialogEventClientCmd",function(t){function n(){var e;return(e=t.call(this)||this).eventId=0,e.gsParam=r,e}return e(n,t),n.prototype.UnPack=function(e){t.prototype.UnPack.call(this,e),this.eventId=this.mByteBuffer.readUint32(),this.ReleaseByteBuffer()},n}(o)),t("stShowLogEventClientCmd",function(t){function n(){var e;return(e=t.call(this)||this).eventId=0,e.eventActId=0,e.gsParam=a,e}return e(n,t),n.prototype.UnPack=function(e){t.prototype.UnPack.call(this,e),this.eventId=this.mByteBuffer.readUint32(),this.eventActId=this.mByteBuffer.readUint32(),this.ReleaseByteBuffer()},n}(o));n._RF.pop()}}}));

System.register("chunks:///_virtual/event.dispatcher.ts",["cc"],(function(t){"use strict";var e,n,c;return{setters:[function(t){e=t.cclegacy,n=t._decorator,c=t.EventTarget}],execute:function(){var r,i;e._RF.push({},"5c6c2IEAtpCy5qx3Xb6s3is","event.dispatcher",void 0);var s=n.ccclass;t("EventDispatcher",s("EventDispatcher")(((i=function(){function t(){}return t.on=function(t,e,n){this.mEventTarget.on(t,e,n)},t.emit=function(t,e,n,c,r,i){this.mEventTarget.emit(t,e,n,c,r,i)},t.off=function(t,e,n){this.mEventTarget.off(t,e,n)},t}()).mEventTarget=new c,r=i))||r);e._RF.pop()}}}));

System.register("chunks:///_virtual/event.name.ts",["cc"],(function(_){"use strict";var e;return{setters:[function(_){e=_.cclegacy}],execute:function(){var E;_("EventName",void 0),e._RF.push({},"37be7ttDbhOWrR++kamc5hF","event.name",void 0),function(_){_.NONE="None",_.TEST_PATH_FINDER="test.path.finder",_.NET_PLATFORM_CONNECT_SUCCESS="net.plat.connect.success",_.NET_PLATFORM_CONNECT_FAILED="net.plat.connect.failed",_.NET_PLATFORM_CONNECT_DIS="net.plat.disconnect",_.NET_GATE_CONNECT_SUCCESS="net.gate.connect.success",_.NET_GATE_CONNECT_FAILED="net.gate.connect.failed",_.NET_GATE_CONNECT_DIS="net.gate.disconnect",_.GAME_WINDOW_HIDE="game.window.hide",_.GAME_WINDOW_SHOW="game.window.show",_.CHAIN_WALLET_NET_CHANGED="chain.wallet.net.changed",_.CHAIN_WALLET_ADDRESS_CHANGED="chain.wallet.address.changed",_.CHAIN_OPERATE_SUCCESS="chain.operate.success",_.CHAIN_OPERATE_SAVE_DATA="chain.operate.save.data",_.CHAIN_OPERATE_BLOCK_CHANGED="chain.operate.block.changed",_.CHAIN_OPERATE_BLOCK_FINISH="chain.operate.block.finish",_.GAME_CONNECT_PLATFORM_RETRY="game.connect.platform.retry",_.GAME_AUTO_RECONNECT_START="game.auto.reconnect.start",_.GAME_AUTO_RECONNECT_FINISH="game.auto.reconnect.finish",_.GAME_LOGOUT="game.logout",_.CHANGE_LANGUAGE="change.language",_.CHANGE_CURSOR_TYPE="change.cursor.type",_.SDK_PLATFORM_CHANGED="sdk.platform.changed",_.SCREEN_SIZE_CHANGED="screen.size.changed",_.REFRESH_MAIN_INTERFACE_LAN="refresh.main.interface.language",_.SDK_X_TO_GAME_CLAIM_BOX="sdk.x.to.game.claim.box",_.CAMERA_SCALE_FAR="camera.scale.far",_.CAMERA_SCALE_NEAR="camera.scale.near",_.PRELOAD_RES_PERCENT="preload.res.percent",_.PRELOAD_RES_FINISH="preload.res.finish",_.PRELOAD_FINISH_ALL="preload.finish.all",_.SCENE_MAIN_ENTER="enter.main.scene",_.SCENE_MAIN_EXIT="exit.main.scene",_.SCENE_LOGIN_ENTER="enter.login.scene",_.SCENE_LOGIN_EXIT="exit.login.scene",_.SCENE_FARM_ENTER="enter.scene.farm",_.SCENE_FARM_EXIT="exit.scene.farm",_.SCENE_EDIT_FARM_ENTER="enter.scene.edit.farm",_.SCENE_EDIT_FARM_EXIT="exit.scene.edit.farm",_.SCENE_MAIN_CLICK_ROLE="scene.main.click.role",_.SCENE_MAIN_CLICK_NPC="scene.main.click.npc",_.OPTION_MUSIC_VOLUME_CHANGED="option.music.volume.changed",_.OPTION_SOUND_VOLUME_CHANGED="option.sound.volume.changed",_.REFRESH_NOTCOIN_LEVEL="refresh.notcoin.level",_.ACCOUNT_ME_INFO_INIT="account.me.info.init",_.FIGHT_STATE_ENTER="enter.fight.state",_.FIGHT_STATE_EXIT="exit.fight.state",_.FIGHT_HP_CHANGED="fight.hp.changed",_.FARM_CHANGE_STATE_TO_NORMAL="farm.state.normal",_.FARM_CHANGE_STATE_TO_ITEM_EDITING="farm.state.item.editing",_.FARM_CHANGE_STATE_TO_ITEM_ADD="farm.state.item.add",_.FARM_CHANGE_STATE_TO_TERRAIN_EDITING="farm.state.terrain.editing",_.FARM_CHANGE_STATE_TO_TERRAIN_ADD="farm.state.terrain.add",_.FARM_TAP_OBJECT_SELECT="farm.tap.object.select",_.FARM_TAP_OBJECT_CANCEL="farm.tap.object.cancel",_.FARM_OBJECT_CANCEL_SELECTED="farm.object.cancel.selected",_.FARM_ADD_NEW_TERRAIN="farm.add.new.terrain",_.FARM_REMOVE_OBJECT_BY_CORNER_LOCK="farm.remove.object.by.corner.lock",_.FARM_REMOVE_OBJECT_BY_TEMPID="farm.remove.object.by.tempid",_.FARM_DELETE_ALL_ITEM="farm.delete.all.item",_.FARM_DATA_CHANGE="farm.data.change",_.FARM_LEVEL_CHANGE="farm.level.change",_.FARM_HASHRATE_CHANGE="farm.hashrate.change",_.FARM_RESOURCE_CHANGE="farm.resource.change",_.FARM_OBJECT_LIST_INIT="farm.object.list.init",_.FARM_OBJECT_LIST_ADD="farm.object.list.add",_.FARM_OBJECT_POS_CHANGE="farm.object.pos.change",_.FARM_PLANT_LIST_INIT="farm.plant.list.init",_.FARM_PLANT_LIST_ADD="farm.plant.list.add",_.FARM_PLANT_LIST_DELETE="farm.plant.list.delete",_.FARM_PLANT_HARVEST="farm.plant.harvest",_.FARM_PLANT_QUICK_HARVEST="farm.plant.quick.harvest",_.FARM_SKIN_LIST_INIT="farm.skin.list.init",_.FARM_SKIN_LIST_ADD="farm.skin.list.add",_.FARM_SKIN_BUILDING_USE_CHANGED="farm.skin.building.use.changed",_.FARM_SKIN_LAND_USE_CHANGED="farm.skin.land.use.changed",_.FARM_SKIN_REFRESH_RED_TIP="farm.skin.refresh.red.tip",_.WORKER_LIST_INIT="worker.list.init",_.WORKER_LIST_ADD_ITEM="worker.list.add.item",_.WORKER_LIST_REMOVE_ITEM="worker.list.remove.item",_.WORKER_LIST_UPDATE_ITEM="worker.list.update.item",_.WORKER_LIST_LEVELUP_ITEM="worker.list.levelup.item",_.WORKER_LIST_REFRESH_STATE_ITEM="worker.list.refresh.state.item",_.WORKER_STATE_IDLE_FINISH="worker.state.idle.finish",_.WORKER_STATE_FARMER_WATER_FINISH="worker.state.farmer.water.finish",_.WORKER_STATE_FARMER_GATHER_FINISH="worker.state.farmer.gather.finish",_.WORKER_STATE_HUNTER_FINISH="worker.state.hunter.finish",_.WORKER_STATE_MINER_FINISH="worker.state.miner.finish",_.ROBOT_STATE_IDLE_FINISH="robot.state.idle.finish",_.ROBOT_STATE_WORK_FINISH="robot.state.work.finish",_.PLAYERSELF_MAIN_DATA_CHANGED="playerself.main.data.changed",_.PLAYERSELF_SHOW_DATA_CHANGED="playerself.show.data.changed",_.PLAYERSELF_MONEY_GOLD_CHANGED="playerself.money.gold.changed",_.PLAYERSELF_MONEY_SILVER_CHANGED="playerself.money.sliver.changed",_.PLAYERSELF_MONEY_WIZZ_CHANGED="playerself.money.wizz.changed",_.PLAYERSELF_HP_CHANGED="playerself.hp.changed",_.PLAYERSELF_EXP_CHANGED="playerself.exp.changed",_.PLAYERSELF_LEVEL_CHANGED="playerself.level.changed",_.PLAYERSELF_NAME_CHANGED="playerself.name.changed",_.PLAYERSELF_TILI_CHANGED="playerself.tili.changed",_.PLAYERSELF_NOTCOIN_LEVEL_CHANGED="playerself.notcoin.level.changed",_.PLAYERSELF_GUIDE_CHANGED="playerself.guide.changed",_.PLAYERSELF_ITEMS_CHANGED_LOG="playerself.items.changed.log",_.PLAYERSELF_TWITTER_BOX_CHANGED="playerself.twitter.box.changed",_.UI_MAIN_ALL_OPEN="ui.open.main.all",_.UI_MAIN_ALL_CLOSE="ui.close.main.all",_.UI_FIGHT_ALL_OPEN="ui.open.fight.all",_.UI_FIGHT_ALL_CLOSE="ui.close.fight.all",_.UI_LOGIN_OPEN="ui.open.login",_.UI_LOGIN_CLOSE="ui.close.login",_.UI_LOGIN_SHOW_COMMON_UI="ui.login.show.common.ui",_.UI_LOGIN_SHOW_TWITTER_UI="ui.login.show.twitter.ui",_.UI_LOGIN_SHOW_LINE_UI="ui.login.show.line.ui",_.UI_LOGIN_SHOW_WEB_UI="ui.login.show.web.ui",_.UI_LOGIN_SHOW_INVITE_PANEL="ui.login.show.invite.panel",_.UI_MAP_LOADING_OPEN="ui.map.loading.open",_.UI_MAP_LOADING_CLOSE="ui.map.loading.close",_.UI_MAP_LOADING_TO_NORMAL="ui.map.loading.to.normal",_.UI_MAIN_INTERFACE_OPEN="ui.open.main.interface",_.UI_MAIN_INTERFACE_CLOSE="ui.close.main.interface",_.UI_BUILDING_WORKER_OPEN="ui.open.building.worker",_.UI_BUILDING_WORKER_CLOSE="ui.close.building.worker",_.UI_BUILDING_WORKER_ITEM_SELECTED="ui.building.worker.item.selected",_.UI_BUILDING_UPGRADE_OPEN="ui.open.building.upgrade",_.UI_BUILDING_UPGRADE_CLOSE="ui.close.building.upgrade",_.UI_BUILDING_APPEARANCE_ITEM_SELECTED="ui.building.appearance.item.selected",_.UI_BUILDING_PLATFORM_OPEN="ui.open.building.platform",_.UI_BUILDING_PLATFORM_CLOSE="ui.close.building.platform",_.UI_BUILDING_PLACE_OPEN="ui.open.building.place",_.UI_BUILDING_PLACE_CLOSE="ui.close.building.place",_.UI_BUILDING_EDIT_OPEN="ui.open.building.edit",_.UI_BUILDING_EDIT_CLOSE="ui.close.building.edit",_.UI_TERRAIN_PLACE_OPEN="ui.open.terrain.place",_.UI_TERRAIN_PLACE_CLOSE="ui.close.terrain.place",_.UI_ASSET_OPEN="ui.open.asset",_.UI_ASSET_CLOSE="ui.close.asset",_.UI_WORKER_ITEM_SELECTED="ui.worker.item.selected",_.UI_ASSET_ONCHAIN_OPEN="ui.open.asset.onchain",_.UI_ASSET_ONCHAIN_CLOSE="ui.close.asset.onchain",_.UI_ASSET_DETAIL_OPEN="ui.open.asset.detail",_.UI_ASSET_DETAIL_CLOSE="ui.close.asset.detail",_.UI_ASSET_DETAIL_STAKE_CLOSE="ui.close.asset.detail.stake",_.UI_TON_WALLET_STATUS_CHANGED="ui.ton.wallet.status.changed",_.UI_KAIA_WALLET_STATUS_CHANGED="ui.kaia.wallet.status.changed",_.UI_WALLET_OPEN="ui.open.wallet",_.UI_WALLET_CLOSE="ui.close.wallet",_.UI_WALLET_CREATE_OPEN="ui.open.wallet.create",_.UI_WALLET_CREATE_CLOSE="ui.close.wallet.create",_.UI_WALLET_SEND_LIST_OPEN="ui.open.wallet.send.list",_.UI_WALLET_SEND_LIST_CLOSE="ui.close.wallet.send.list",_.UI_WALLET_SEND_DETAIL_OPEN="ui.open.wallet.send.detail",_.UI_WALLET_SEND_DETAIL_CLOSE="ui.close.wallet.send.detail",_.UI_WALLET_RECEIVE_OPEN="ui.open.wallet.receive",_.UI_WALLET_RECEIVE_CLOSE="ui.close.wallet.receive",_.UI_WALLET_TOKEN_DETAIL_OPEN="ui.open.wallet.token.detail",_.UI_WALLET_TOKEN_DETAIL_CLOSE="ui.close.wallet.token.detail",_.UI_WALLET_OPERATE_OPEN="ui.open.wallet.operate",_.UI_WALLET_OPERATE_CLOSE="ui.close.wallet.operate",_.UI_WALLET_TRANSACTION_OPEN="ui.open.wallet.transaction",_.UI_WALLET_TRANSACTION_CLOSE="ui.close.wallet.transaction",_.WIZARD_WALLET_STATE_CHANGED="wizard.wallet.state.changed",_.WIZARD_WALLET_COIN_DATA_CHANGED="wizard.wallet.coin.data.changed",_.WIZARD_WALLET_COIN_PRICE_CHANGED="wizard.wallet.coin.price.changed",_.CHAIN_MARKETPLACE_REFRESH_SELF_ORDER="chain.marketplace.refresh.self.order",_.CHAIN_MARKETPLACE_REFRESH_SELF_ORDER_FINISH="chain.marketplace.refresh.self.order.finish",_.CHAIN_NFT_REFRESH_WIZWARD_DATA="chain.nft.refresh.wizard.data",_.CHAIN_NFT_REFRESH_ITEM_DATA="chain.nft.refresh.item.data",_.CHAIN_MARKETPLACE_REFRESH_WIZWARD_DATA="chain.marketplace.refresh.wizard.data",_.CHAIN_MARKETPLACE_REFRESH_ITEM_DATA="chain.marketplace.refresh.item.data",_.UI_QUEST_OPEN="ui.open.quest",_.UI_QUEST_CLOSE="ui.close.quest",_.WEB_QUEST_DATA_CHANGED="web.quest.data.changed",_.UI_OPTION_OPEN="ui.open.option",_.UI_OPTION_CLOSE="ui.close.option",_.UI_BAG_OPEN="ui.open.bag",_.UI_BAG_CLOSE="ui.close.bag",_.UI_BAG_ITEM_SELECTED="ui.bag.item.selected",_.UI_SHOP_OPEN="ui.open.shop",_.UI_SHOP_CLOSE="ui.close.shop",_.UI_SHOP_ITEM_CHARGE_SELECTED="ui.shop.item.charge.selected",_.UI_SHOP_ITEM_OBJECT_SELECTED="ui.shop.item.object.selected",_.SHOP_OBJECT_LIST_INIT="shop.object.list.init",_.SHOP_BUY_OBJECT="shop.buy.object",_.UI_FLOAT_TEXT_OPEN_WAITING="ui.float.text.open.waiting",_.UI_FLOAT_TEXT_CLOSE_WAITING="ui.float.text.close.waiting",_.UI_MULTI_LOADING_OPEN="ui.multi.loading.open",_.UI_MULTI_LOADING_CLOSE="ui.multi.loading.close",_.UI_GM_PANEL_OPEN="ui.open.gm.panel",_.UI_GM_PANEL_CLOSE="ui.close.gm.panel",_.UI_GM_CLEAR_INPUT="ui.gm.clear.input",_.UI_GM_FARM_EDIT_OPEN="ui.open.gm.farm.edit",_.UI_GM_FARM_EDIT_CLOSE="ui.close.gm.farm.edit",_.UI_GM_ASSET_OPEN="ui.open.gm.asset",_.UI_GM_ASSET_CLOSE="ui.close.gm.asset",_.UI_DETAILS_CLOSE="ui.details.close",_.UI_DETAILS_SHOW_ITEM="ui.details.show.item",_.UI_DETAILS_SHOW_ITEM_GM="ui.details.show.item.gm",_.UI_DETAILS_SHOW_ITEM_INFO="ui.details.show.item.info",_.UI_DETAILS_SHOW_ITEM_USE="ui.details.show.item.use",_.UI_DETAILS_SHOW_ITEM_SELL="ui.details.show.item.sell",_.UI_DETAILS_SHOW_ITEM_RECIPE="ui.details.show.item.recipe",_.UI_DETAILS_SHOW_ITEM_STAKE="ui.details.show.item.stake",_.UI_DETAILS_SHOW_ITEM_MARKET_BUYSELL="ui.details.show.item.market.buysell",_.UI_DETAILS_SHOW_SHOP_ITEM="ui.details.show.shop.item",_.UI_DETAILS_SHOW_WORKER_INFO="ui.details.show.worker.info",_.UI_DETAILS_SHOW_WORKER_SKILL="ui.details.show.worker.skill",_.UI_DETAILS_SHOW_CHARGE="ui.details.show.charge",_.UI_DETAILS_SHOW_INFO_PROSPERITY="ui.details.show.info.prosperity",_.UI_DETAILS_SHOW_INFO_WORKER="ui.details.show.info.worker",_.UI_TIP_CLOSE="ui.tip.close",_.UI_TIP_SHOW_COMMON="ui.tip.show.common",_.UI_TIP_FLOAT_CLOSE="ui.tip.float.close",_.UI_TIP_FLOAT_SHOW_TEXT="ui.tip.float.show.text",_.UI_TIP_FLOAT_SHOW_PRICE="ui.tip.float.show.price",_.FIGHT_STATE_ACTOR_READY_FINISH="fight.state.actor.ready.finish",_.FIGHT_STATE_ROUND_FINISH="fight.state.round.finish",_.FIGHT_UI_REFRESH_ROUND_NUM="fight.ui.refresh.round.num",_.FIGHT_UI_ENTER_READY="fight.ui.enter.ready",_.FIGHT_UI_ENTER_CLEARING="fight.ui.enter.clearing",_.FIGHT_FIGHTING_SKIP="fight.fighting.skip",_.FIGHT_FIGHTING_SPEED="fight.fighting.speed",_.SKILL_EFFECT_DO_EFFECT="skill.effect.do.effect",_.SKILL_EFFECT_DO_EFFECT_BY_STATE="skill.effect.do.effect.by.state",_.SKILL_EFFECT_DO_EFFECT_TO_CHARACTER_BY_STATE="skill.effect.do.effect.to.char.by.state",_.SKILL_EFFECT_DO_EFFECT_TO_CHARACTER="skill.effect.do.effect.to.char",_.ROLE_EQUIP_WEAR="role.equip.wear",_.ROLE_EQUIP_TAKEOFF="role.equip.takeoff",_.ROLE_PACKAGE_ITEM_SELECTED="role.package.item.selected",_.ROLE_PACKAGE_ITEM_CHANGED="role.package.item.changed",_.ITEM_INIT="item.init",_.ITEM_ADD="item.add",_.ITEM_CHANGE="item.change",_.ITEM_STATE_CHANGE="item.state.change",_.ITEM_REMOVE="item.remove",_.CHAIN_ITEM_INIT="chain.item.init",_.CHAIN_ITEM_UPDATE="chain.item.update",_.CHAIN_ITEM_STATE_CHANGE="chain.item.change",_.CHAIN_COIN_INIT="chain.coin.init",_.CHAIN_COIN_UPDATE="chain.coin.update",_.CHAIN_COIN_ERROR="chain.coin.error",_.CHAIN_COIN_REQUEST_DATA="chain.coin.request.data",_.CHAIN_ORDER_LIST_INIT="chain.order.list.init",_.CHAIN_ORDER_ADD_ITEM="chain.order.add.item",_.CHAIN_ORDER_REMOVE_ITEM="chain.order.remove.item",_.ITEM_NEW_RED_POINT="item.new.red.point",_.WORKER_NEW_RED_POINT="worker.new.red.point",_.CARD_NEW_RED_POINT="card.new.red.point",_.MARKETPLACE_ITEM_SELECTED="marketplace.item.selected",_.MARKETPLACE_ITEM_REFRESH="marketplace.item.refresh",_.UI_MAIL_OPEN="ui.open.mail",_.UI_MAIL_CLOSE="ui.close.mail",_.MAIL_GET_LIST="mail.get.list",_.MAIL_NOTIFY_NEW="mail.notify.new",_.MAIL_REMOVE_ITEM="mail.item.remove",_.MAIL_DETAIL_SHOW_INFO="mail.detail.show.info",_.MAIL_DETAIL_CLOSE_INFO="mail.detail.close.info",_.MAIL_DETAIL_REMOVE_ITEM="mail.detail.item.remove",_.MAIL_REFRESH_RED_TIP="mail.refresh.red.tip",_.UI_CHARGE_OPEN="ui.open.charge",_.UI_CHARGE_CLOSE="ui.close.charge",_.CHARGE_GET_LIST="charge.get.list",_.CHARGE_PURCHASE_GET_ORDER="charge.purchase.get.order",_.CHARGE_PURCHASE_FINISH="charge.purchase.finish",_.CHARGE_BUY_LIMIT_CHANGED="charge.buy.limit.changed",_.CHARGE_LOCK_CHANGED="charge.lock.changed",_.UI_MONTHLY_CARD_OPEN="ui.open.monthly.card",_.UI_MONTHLY_CARD_CLOSE="ui.close.monthly.card",_.UI_MONTHLY_CARD_RENEWAL_OPEN="ui.open.monthly.card.Renewal",_.MONTHLY_CARD_DATA_CHANGED="monthly.card.data.changed",_.UI_CHARGE_ACTIVITY_OPEN="ui.open.charge.activity",_.UI_CHARGE_ACTIVITY_CLOSE="ui.close.charge.activity",_.UI_CHARGE_ACTIVITY_DETAILS_CLOSE="ui.close.charge.activity.details",_.UI_CHARGE_ACTIVITY_DETAILS_SHOW_SKIN="ui.open.charge.activity.details.skin",_.UI_CHARGE_ACTIVITY_DETAILS_SHOW_DECORATION="ui.open.charge.activity.details.decoration",_.UI_INVITATION_OPEN="ui.open.invitation",_.UI_INVITATION_CLOSE="ui.close.invitation",_.INVITATION_DATA_CHANGED="invitation.data.changed",_.INVITATION_REWRAD_DATA_CHANGED="invitation.reward.data.changed",_.UI_ACHIEVEMENT_OPEN="ui.open.achievement",_.UI_ACHIEVEMENT_CLOSE="ui.close.achievement",_.ACHIEVEMENT_LIST_INIT="achievement.list.init",_.ACHIEVEMENT_LIST_UPDATE="achievement.list.update",_.UI_WORKER_DETAIL_OPEN="ui.open.worker.detail",_.UI_WORKER_DETAIL_CLOSE="ui.close.worker.detail",_.UI_WORKER_DETAIL_ONCHAIN_OPEN="ui.open.worker.detail.onchain",_.UI_WORKER_DETAIL_ONCHAIN_CLOSE="ui.close.worker.detail.onchain",_.UI_WORKER_UPGRADE_OPEN="ui.open.worker.upgrade",_.UI_WORKER_UPGRADE_CLOSE="ui.close.worker.upgrade",_.UI_WORKER_AWAKENING_OPEN="ui.open.worker.awakening",_.UI_WORKER_AWAKENING_CLOSE="ui.close.worker.awakening",_.UI_WORKER_AWAKENING_SUCC_OPEN="ui.open.worker.awakening.succ",_.UI_WORKER_AWAKENING_SUCC_CLOSE="ui.close.worker.awakening.succ",_.UI_WORKER_MAJOR_UNLOCK_OPEN="ui.open.worker.major.unlock",_.UI_WORKER_MAJOR_UNLOCK_CLOSE="ui.close.worker.major.unlock",_.UI_WORKER_MAJOR_RETRAIN_OPEN="ui.open.worker.major.retrain",_.UI_WORKER_MAJOR_RETRAIN_CLOSE="ui.close.worker.major.retrain",_.UI_WORKER_MARKET_SELL_OPEN="ui.open.worker.market.sell",_.UI_WORKER_MARKET_SELL_CLOSE="ui.close.worker.market.sell",_.UI_WORKER_MARKET_BUY_OPEN="ui.open.worker.market.buy",_.UI_WORKER_MARKET_BUY_CLOSE="ui.close.worker.market.buy",_.UI_WORKER_SYNTHESIS_OPEN="ui.open.worker.synthesis",_.UI_WORKER_SYNTHESIS_CLOSE="ui.close.worker.synthesis",_.UI_WORKER_SYNTHESIS_SUCC_OPEN="ui.open.worker.synthesis.succ",_.UI_WORKER_SYNTHESIS_SUCC_CLOSE="ui.close.worker.synthesis.succ",_.UI_ITEM_GET_OPEN="ui.open.item.get",_.UI_ITEM_GET_CLOSE="ui.close.item.get",_.UI_OPEN_FUNCTION_OPEN="ui.open.open.function",_.UI_OPEN_FUNCTION_CLOSE="ui.close.open.function",_.UI_MINING_OPEN="ui.open.mining",_.UI_MINING_CLOSE="ui.close.mining",_.MINING_LIST_INIT="mining.list.init",_.MINING_LOG_DATA_CHANGED="mining.log.data.changed",_.MINING_WITHDRAW_COIN="mining.withdraw.coin",_.MINING_REFRESH_RED_TIP="mining.refresh.red.tip",_.UI_MINING_COMING_OPEN="ui.open.mining.coming",_.UI_MINING_COMING_CLOSE="ui.close.mining.coming",_.UI_MINING_LIST_OPEN="ui.open.mining.list",_.UI_MINING_LIST_CLOSE="ui.close.mining.list",_.UI_QUIDDITCH_OPEN="ui.open.quidditch",_.UI_QUIDDITCH_CLOSE="ui.close.quidditch",_.QUIDDITCH_DATA_CHANGED="quidditch.data.changed",_.QUIDDITCH_RACE_MOVE_FINISH="quidditch.race.move.finish",_.QUIDDITCH_VOTE_DATA_CHANGED="quidditch.vote.data.changed",_.QUIDDITCH_VOTE_RESULT="quidditch.vote.result",_.QUIDDITCH_GAME_STATE_CHANGED="quidditch.game.state.changed",_.UI_QUIDDITCH_RULE_OPEN="ui.open.quidditch.rule",_.UI_QUIDDITCH_RULE_CLOSE="ui.close.quidditch.rule",_.UI_QUIDDITCH_CLEARING_OPEN="ui.open.quidditch.clearing",_.UI_QUIDDITCH_CLEARING_CLOSE="ui.close.quidditch.clearing",_.QUIDDITCH_CLEARING_DATA_INIT="quidditch.clearing.data.init",_.UI_GIFT_OPEN="ui.open.gift",_.UI_GIFT_CLOSE="ui.close.gift",_.GIFT_LIST_DATA_CHANGED=".gift.list.data.changed",_.UI_GIFT_X_OPEN="ui.open.gift.x",_.UI_GIFT_X_CLOSE="ui.close.gift.x",_.GIFT_X_LIST_DATA_CHANGED=".gift.x.list.data.changed",_.UI_GIFT_TOMARKET_OPEN="ui.open.gift.tomarket",_.UI_GIFT_TOMARKET_CLOSE="ui.close.gift.tomarket",_.GIFT_TOMARKET_LIST_DATA_CHANGED=".gift.tomarket.list.data.changed",_.UI_GIFT_NOTCOIN_OPEN="ui.open.gift.notcoin",_.UI_GIFT_NOTCOIN_CLOSE="ui.close.gift.notcoin",_.GIFT_NOTCOIN_LIST_DATA_CHANGED="gift.notcoin.list.data.changed",_.UI_GIFT_TABI_OPEN="ui.open.gift.tabi",_.UI_GIFT_TABI_CLOSE="ui.close.gift.tabi",_.GIFT_ACTIVITY_LIST_DATA_CHANGED="gift.activity.list.data.changed",_.UI_GIFT_OKX_OPEN="ui.open.gift.okx",_.UI_GIFT_OKX_CLOSE="ui.close.gift.okx",_.UI_GIFT_FAUCET_OPEN="ui.open.gift.faucet",_.UI_GIFT_FAUCET_CLOSE="ui.close.gift.faucet",_.UI_GIFT_LINE_OPEN="ui.open.gift.line",_.UI_GIFT_LINE_CLOSE="ui.close.gift.line",_.UI_GIFT_RED_ENVELOPE_OPEN="ui.open.gift.red.envelope",_.UI_GIFT_RED_ENVELOPE_CLOSE="ui.close.gift.red.envelope",_.UI_EXPLORATION_OPEN="ui.open.exploration",_.UI_EXPLORATION_CLOSE="ui.close.exploration",_.EXPLORATION_DATA_INIT="exploration.data.init",_.EXPLORATION_DISPATCH_WORKER_LIST="exploration.dispatch.worker.list",_.EXPLORATION_START="exploration.start",_.EXPLORATION_MOVE_FINISH="exploration.move.finish",_.EXPLORATION_FIGHT_FINISH="exploration.fight.finish",_.EXPLORATION_ALL_FINISH="exploration.all.finish",_.UI_EXPLORATION_DISPATCH_OPEN="ui.open.exploration.dispatch",_.UI_EXPLORATION_DISPATCH_CLOSE="ui.close.exploration.dispatch",_.RECIPE_MAKE_RESULT="recipe.make.result",_.UI_PURIFICATION_OPEN="ui.open.purification",_.UI_PURIFICATION_CLOSE="ui.close.purification",_.UI_DAPP_OPEN="ui.open.dapp",_.UI_DAPP_CLOSE="ui.close.dapp",_.UI_DAPP_MARKET_OPEN="ui.open.dapp.market",_.UI_DAPP_MARKET_CLOSE="ui.close.dapp.market",_.UI_DAPP_MARKET_WIZARD_OPEN="ui.open.dapp.market.wizard",_.UI_DAPP_MARKET_WIZARD_CLOSE="ui.close.dapp.market.wizard",_.UI_DAPP_MARKET_WIZARD_FILTER_OPEN="ui.open.dapp.market.wizard.filter",_.UI_DAPP_MARKET_WIZARD_FILTER_CLOSE="ui.close.dapp.market.wizard.filter",_.UI_DAPP_MARKET_OBJECT_OPEN="ui.open.dapp.market.object",_.UI_DAPP_MARKET_OBJECT_CLOSE="ui.close.dapp.market.object",_.UI_DAPP_MARKET_OBJECT_DETAIL_OPEN="ui.open.dapp.market.object.detail",_.UI_DAPP_MARKET_OBJECT_DETAIL_CLOSE="ui.close.dapp.market.object.detail",_.UI_DAPP_DEX_OPEN="ui.open.dapp.dex",_.UI_DAPP_DEX_CLOSE="ui.close.dapp.dex",_.UI_DAPP_DEX_LIQUIDITY_ADD_OPEN="ui.open.dapp.dex.liquidity.add",_.UI_DAPP_DEX_LIQUIDITY_ADD_CLOSE="ui.close.dapp.dex.liquidity.add",_.UI_DAPP_DEX_LIQUIDITY_REMOVE_OPEN="ui.open.dapp.dex.liquidity.remove",_.UI_DAPP_DEX_LIQUIDITY_REMOVE_CLOSE="ui.close.dapp.dex.liquidity.remove",_.UI_DAPP_DEX_SWAPLIST_OPEN="ui.open.dapp.dex.swaplist",_.UI_DAPP_DEX_SWAPLIST_CLOSE="ui.close.dapp.dex.swaplist",_.UI_DAPP_DEX_SWAPLIST_ITEM_SELECTED="ui.dapp.dex.swaplist.item.selected",_.UI_DAPP_DEX_POOL_DETAIL_OPEN="ui.open.dapp.dex.pool.detail",_.UI_DAPP_DEX_POOL_DETAIL_CLOSE="ui.close.dapp.dex.pool.detail",_.UI_DAPP_DEX_POOL_DETAIL_REFRESH="ui.dapp.dex.pool.detail.refresh",_.UI_DAPP_SHOP_OPEN="ui.open.dapp.shop",_.UI_DAPP_SHOP_CLOSE="ui.close.dapp.shop",_.UI_DAPP_SHOP_VAULT_DETAIL_OPEN="ui.open.dapp.shop.vault.detail",_.UI_DAPP_SHOP_VAULT_DETAIL_CLOSE="ui.close.dapp.shop.vault.detail",_.UI_DAPP_VALIDATOR_OPEN="ui.open.dapp.validator",_.UI_DAPP_VALIDATOR_CLOSE="ui.close.dapp.validator",_.UI_DAPP_VALIDATOR_LIST_REFRESH="ui.dapp.validator.list.refresh",_.UI_DAPP_VALIDATOR_DETAIL_OPEN="ui.open.dapp.validator.detail",_.UI_DAPP_VALIDATOR_DETAIL_CLOSE="ui.close.dapp.validator.detail",_.UI_DAPP_VALIDATOR_DETAIL_BOOST_REFRESH="ui.dapp.validator.detail.boost.refresh",_.UI_DAPP_VALIDATOR_DETAIL_UNBOOST_REFRESH="ui.dapp.validator.detail.unboost.refresh",_.UI_TOKEN_GENERATION_OPEN="ui.open.token.generation",_.UI_TOKEN_GENERATION_CLOSE="ui.close.token.generation",_.UI_TOKEN_GENERATION_SHOW_RESULT="ui.token.generation.show.result",_.UI_TOKEN_UNLOCK_OPEN="ui.open.token.unlock",_.UI_TOKEN_UNLOCK_CLOSE="ui.close.token.unlock",_.UI_TOKEN_UNLOCK_TGE_REFRESH="ui.token.unlock.tge.refresh",_.UI_CHAIN_ORDER_OPEN="ui.open.chain.order",_.UI_CHAIN_ORDER_CLOSE="ui.close.chain.order",_.UI_COMBINATION_OPEN="ui.open.combination",_.UI_COMBINATION_CLOSE="ui.close.combination",_.UI_COMBINATION_DETAIL_OPEN="ui.open.combination.detail",_.UI_COMBINATION_DETAIL_CLOSE="ui.close.combination.detail",_.UI_NEW_GUIDE_INTRODUCTION_OPEN="ui.open.new.guide.introduction",_.UI_NEW_GUIDE_INTRODUCTION_CLOSE="ui.close.new.guide.introduction",_.UI_NEW_GUIDE_CLICK_OPEN="ui.open.new.guide.click",_.UI_NEW_GUIDE_CLICK_CLOSE="ui.close.new.guide.click",_.UI_NEW_GUIDE_DIALOG_OPEN="ui.open.new.guide.dialog",_.UI_NEW_GUIDE_DIALOG_CLOSE="ui.close.new.guide.dialog",_.UI_NEW_GUIDE_FARM_OPEN="ui.open.new.guide.farm",_.UI_NEW_GUIDE_FARM_CLOSE="ui.close.new.guide.farm",_.UI_NEW_GUIDE_SKIP_OPEN="ui.open.new.guide.skip",_.UI_NEW_GUIDE_SKIP_CLOSE="ui.close.new.guide.skip"}(E||(E=_("EventName",{}))),e._RF.pop()}}}));

System.register("chunks:///_virtual/exploration.fsm.ts",["./rollupPluginModLoBabelHelpers.js","cc","./exploration.state.clearing.ts","./exploration.state.fight.ts","./exploration.state.finish.ts","./exploration.state.init.ts","./exploration.state.move.ts","./exploration.state.none.ts","./exploration.state.ready.ts"],(function(t){"use strict";var e,n,a,i,o,r,s,l,u,p,S;return{setters:[function(t){e=t.createClass,n=t.asyncToGenerator,a=t.regeneratorRuntime},function(t){i=t.cclegacy},function(t){o=t.ExplorationStateClearing},function(t){r=t.ExplorationStateFight},function(t){s=t.ExplorationStateFinish},function(t){l=t.ExplorationStateInit},function(t){u=t.ExplorationStateMove},function(t){p=t.ExplorationStateNone},function(t){S=t.ExplorationStateReady}],execute:function(){i._RF.push({},"32190sQ23VFd7UPsoNDh9y7","exploration.fsm",void 0);t("ExplorationStateFSM",function(){function t(){this.mAllStatesMap=new Map,this.mCurState=null}var i=t.prototype;return i.initStateFSM=function(t){var e=new p(t),n=new l(t),a=new S(t),i=new u(t),c=new r(t),x=new s(t),h=new o(t);this.mAllStatesMap.set(e.ExplorationState,e),this.mAllStatesMap.set(n.ExplorationState,n),this.mAllStatesMap.set(a.ExplorationState,a),this.mAllStatesMap.set(i.ExplorationState,i),this.mAllStatesMap.set(c.ExplorationState,c),this.mAllStatesMap.set(x.ExplorationState,x),this.mAllStatesMap.set(h.ExplorationState,h)},i.isInState=function(t){return null!=this.mCurState&&this.mCurState.ExplorationState===t},i.fsmUpdate=function(t){null!==this.mCurState&&this.mCurState.onUpdate(t)},i.triggerState=function(){var t=n(a().mark((function t(e){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null==this.mCurState||this.mCurState.ExplorationState===e){t.next=3;break}return t.next=3,this.mCurState.onExit();case 3:return this.mCurState=this.mAllStatesMap.get(e),t.next=6,this.mCurState.onEnter();case 6:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),e(t,[{key:"CurrentState",get:function(){return this.mCurState}}]),t}());i._RF.pop()}}}));

System.register("chunks:///_virtual/exploration.state.base.ts",["./rollupPluginModLoBabelHelpers.js","cc","./enum.exploration.state.ts"],(function(t){"use strict";var n,e,r,o,a,i;return{setters:[function(t){n=t.createClass,e=t.asyncToGenerator,r=t.regeneratorRuntime},function(t){o=t.cclegacy,a=t._decorator},function(t){i=t.EExplorationState}],execute:function(){var c;o._RF.push({},"d117fpJ7Z5OnZUxdSbjOGvO","exploration.state.base",void 0);var s=a.ccclass;t("ExplorationStateBase",s("ExplorationStateBase")(c=function(){function t(t){this.mExplorationState=i.None,this.mExplorationInterface=null,this.mExplorationInterface=t}var o=t.prototype;return o.onEnter=function(){var t=e(r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),o.onExit=function(){var t=e(r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),o.onUpdate=function(t){},n(t,[{key:"ExplorationState",get:function(){return this.mExplorationState}}]),t}())||c);o._RF.pop()}}}));

System.register("chunks:///_virtual/exploration.state.clearing.ts",["./rollupPluginModLoBabelHelpers.js","cc","./enum.exploration.state.ts","./exploration.state.base.ts"],(function(t){"use strict";var n,e,r,a,i,o,s;return{setters:[function(t){n=t.inheritsLoose,e=t.asyncToGenerator,r=t.regeneratorRuntime},function(t){a=t.cclegacy,i=t._decorator},function(t){o=t.EExplorationState},function(t){s=t.ExplorationStateBase}],execute:function(){var c;a._RF.push({},"04b7cB/sTlJP4hGaQM8lZOZ","exploration.state.clearing",void 0);var l=i.ccclass;t("ExplorationStateClearing",l("ExplorationStateClearing")(c=function(t){function a(n){var e;return(e=t.call(this,n)||this).mExplorationState=o.Clearing,e}n(a,t);var i=a.prototype;return i.onEnter=function(){var t=e(r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null==this.mExplorationInterface||!this.mExplorationInterface.stateClearingOnEnter){t.next=3;break}return t.next=3,this.mExplorationInterface.stateClearingOnEnter();case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),i.onExit=function(){var t=e(r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null==this.mExplorationInterface||!this.mExplorationInterface.stateClearingOnExit){t.next=3;break}return t.next=3,this.mExplorationInterface.stateClearingOnExit();case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),i.onUpdate=function(t){null!=this.mExplorationInterface&&this.mExplorationInterface.stateClearingOnUpdate&&this.mExplorationInterface.stateClearingOnUpdate(t)},a}(s))||c);a._RF.pop()}}}));

System.register("chunks:///_virtual/exploration.state.fight.ts",["./rollupPluginModLoBabelHelpers.js","cc","./enum.exploration.state.ts","./exploration.state.base.ts"],(function(t){"use strict";var n,e,r,a,i,o,s;return{setters:[function(t){n=t.inheritsLoose,e=t.asyncToGenerator,r=t.regeneratorRuntime},function(t){a=t.cclegacy,i=t._decorator},function(t){o=t.EExplorationState},function(t){s=t.ExplorationStateBase}],execute:function(){var c;a._RF.push({},"9fd8cnXEx9Pk40PbJQQZAdp","exploration.state.fight",void 0);var u=i.ccclass;t("ExplorationStateFight",u("ExplorationStateFight")(c=function(t){function a(n){var e;return(e=t.call(this,n)||this).mExplorationState=o.Fight,e}n(a,t);var i=a.prototype;return i.onEnter=function(){var t=e(r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null==this.mExplorationInterface||!this.mExplorationInterface.stateFightOnEnter){t.next=3;break}return t.next=3,this.mExplorationInterface.stateFightOnEnter();case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),i.onExit=function(){var t=e(r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null==this.mExplorationInterface||!this.mExplorationInterface.stateFightOnExit){t.next=3;break}return t.next=3,this.mExplorationInterface.stateFightOnExit();case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),i.onUpdate=function(t){null!=this.mExplorationInterface&&this.mExplorationInterface.stateFightOnUpdate&&this.mExplorationInterface.stateFightOnUpdate(t)},a}(s))||c);a._RF.pop()}}}));

System.register("chunks:///_virtual/exploration.state.finish.ts",["./rollupPluginModLoBabelHelpers.js","cc","./enum.exploration.state.ts","./exploration.state.base.ts"],(function(t){"use strict";var n,e,r,i,a,o,s;return{setters:[function(t){n=t.inheritsLoose,e=t.asyncToGenerator,r=t.regeneratorRuntime},function(t){i=t.cclegacy,a=t._decorator},function(t){o=t.EExplorationState},function(t){s=t.ExplorationStateBase}],execute:function(){var c;i._RF.push({},"f2117JmiTlJdrGxJDJDvKYv","exploration.state.finish",void 0);var u=a.ccclass;t("ExplorationStateFinish",u("ExplorationStateFinish")(c=function(t){function i(n){var e;return(e=t.call(this,n)||this).mExplorationState=o.Finish,e}n(i,t);var a=i.prototype;return a.onEnter=function(){var t=e(r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null==this.mExplorationInterface||!this.mExplorationInterface.stateFinishOnEnter){t.next=3;break}return t.next=3,this.mExplorationInterface.stateFinishOnEnter();case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),a.onExit=function(){var t=e(r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null==this.mExplorationInterface||!this.mExplorationInterface.stateFinishOnExit){t.next=3;break}return t.next=3,this.mExplorationInterface.stateFinishOnExit();case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),a.onUpdate=function(t){null!=this.mExplorationInterface&&this.mExplorationInterface.stateFinishOnUpdate&&this.mExplorationInterface.stateFinishOnUpdate(t)},i}(s))||c);i._RF.pop()}}}));

System.register("chunks:///_virtual/exploration.state.init.ts",["./rollupPluginModLoBabelHelpers.js","cc","./enum.exploration.state.ts","./exploration.state.base.ts"],(function(t){"use strict";var n,e,r,a,i,o,s;return{setters:[function(t){n=t.inheritsLoose,e=t.asyncToGenerator,r=t.regeneratorRuntime},function(t){a=t.cclegacy,i=t._decorator},function(t){o=t.EExplorationState},function(t){s=t.ExplorationStateBase}],execute:function(){var c;a._RF.push({},"753683+Q+9EfoEAad0xsMak","exploration.state.init",void 0);var u=i.ccclass;t("ExplorationStateInit",u("ExplorationStateInit")(c=function(t){function a(n){var e;return(e=t.call(this,n)||this).mExplorationState=o.Init,e}n(a,t);var i=a.prototype;return i.onEnter=function(){var t=e(r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null==this.mExplorationInterface||!this.mExplorationInterface.stateInitOnEnter){t.next=3;break}return t.next=3,this.mExplorationInterface.stateInitOnEnter();case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),i.onExit=function(){var t=e(r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null==this.mExplorationInterface||!this.mExplorationInterface.stateInitOnExit){t.next=3;break}return t.next=3,this.mExplorationInterface.stateInitOnExit();case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),i.onUpdate=function(t){null!=this.mExplorationInterface&&this.mExplorationInterface.stateInitOnUpdate&&this.mExplorationInterface.stateInitOnUpdate(t)},a}(s))||c);a._RF.pop()}}}));

System.register("chunks:///_virtual/exploration.state.interface.ts",["cc"],(function(){"use strict";var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"45678PdA7NFNZ5UMPvPok7W","exploration.state.interface",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/exploration.state.move.ts",["./rollupPluginModLoBabelHelpers.js","cc","./enum.exploration.state.ts","./exploration.state.base.ts"],(function(t){"use strict";var e,n,r,o,a,i,s;return{setters:[function(t){e=t.inheritsLoose,n=t.asyncToGenerator,r=t.regeneratorRuntime},function(t){o=t.cclegacy,a=t._decorator},function(t){i=t.EExplorationState},function(t){s=t.ExplorationStateBase}],execute:function(){var c;o._RF.push({},"3d232sPi9pGMLz9OAh4jN2v","exploration.state.move",void 0);var u=a.ccclass;t("ExplorationStateMove",u("ExplorationStateMove")(c=function(t){function o(e){var n;return(n=t.call(this,e)||this).mExplorationState=i.Move,n}e(o,t);var a=o.prototype;return a.onEnter=function(){var t=n(r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null==this.mExplorationInterface||!this.mExplorationInterface.stateMoveOnEnter){t.next=3;break}return t.next=3,this.mExplorationInterface.stateMoveOnEnter();case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),a.onExit=function(){var t=n(r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null==this.mExplorationInterface||!this.mExplorationInterface.stateMoveOnExit){t.next=3;break}return t.next=3,this.mExplorationInterface.stateMoveOnExit();case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),a.onUpdate=function(t){null!=this.mExplorationInterface&&this.mExplorationInterface.stateMoveOnUpdate&&this.mExplorationInterface.stateMoveOnUpdate(t)},o}(s))||c);o._RF.pop()}}}));

System.register("chunks:///_virtual/exploration.state.none.ts",["./rollupPluginModLoBabelHelpers.js","cc","./enum.exploration.state.ts","./exploration.state.base.ts"],(function(t){"use strict";var n,e,r,o,a,i,s;return{setters:[function(t){n=t.inheritsLoose,e=t.asyncToGenerator,r=t.regeneratorRuntime},function(t){o=t.cclegacy,a=t._decorator},function(t){i=t.EExplorationState},function(t){s=t.ExplorationStateBase}],execute:function(){var c;o._RF.push({},"16f472+64hD3rHJLmW7xVUS","exploration.state.none",void 0);var u=a.ccclass;t("ExplorationStateNone",u("ExplorationStateNone")(c=function(t){function o(n){var e;return(e=t.call(this,n)||this).mExplorationState=i.None,e}n(o,t);var a=o.prototype;return a.onEnter=function(){var t=e(r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null==this.mExplorationInterface||!this.mExplorationInterface.stateNoneOnEnter){t.next=3;break}return t.next=3,this.mExplorationInterface.stateNoneOnEnter();case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),a.onExit=function(){var t=e(r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null==this.mExplorationInterface||!this.mExplorationInterface.stateNoneOnExit){t.next=3;break}return t.next=3,this.mExplorationInterface.stateNoneOnExit();case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),a.onUpdate=function(t){null!=this.mExplorationInterface&&this.mExplorationInterface.stateNoneOnUpdate&&this.mExplorationInterface.stateNoneOnUpdate(t)},o}(s))||c);o._RF.pop()}}}));

System.register("chunks:///_virtual/exploration.state.ready.ts",["./rollupPluginModLoBabelHelpers.js","cc","./enum.exploration.state.ts","./exploration.state.base.ts"],(function(t){"use strict";var e,n,r,a,o,i,s;return{setters:[function(t){e=t.inheritsLoose,n=t.asyncToGenerator,r=t.regeneratorRuntime},function(t){a=t.cclegacy,o=t._decorator},function(t){i=t.EExplorationState},function(t){s=t.ExplorationStateBase}],execute:function(){var c;a._RF.push({},"346c8tbmLdESbkB+zCqcmj0","exploration.state.ready",void 0);var u=o.ccclass;t("ExplorationStateReady",u("ExplorationStateReady")(c=function(t){function a(e){var n;return(n=t.call(this,e)||this).mExplorationState=i.Ready,n}e(a,t);var o=a.prototype;return o.onEnter=function(){var t=n(r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null==this.mExplorationInterface||!this.mExplorationInterface.stateReadyOnEnter){t.next=3;break}return t.next=3,this.mExplorationInterface.stateReadyOnEnter();case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),o.onExit=function(){var t=n(r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null==this.mExplorationInterface||!this.mExplorationInterface.stateReadyOnExit){t.next=3;break}return t.next=3,this.mExplorationInterface.stateReadyOnExit();case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),o.onUpdate=function(t){null!=this.mExplorationInterface&&this.mExplorationInterface.stateReadyOnUpdate&&this.mExplorationInterface.stateReadyOnUpdate(t)},a}(s))||c);a._RF.pop()}}}));

System.register("chunks:///_virtual/farm.bg.auto.size.component.ts",["./rollupPluginModLoBabelHelpers.js","cc","./event.dispatcher.ts","./event.name.ts"],(function(e){"use strict";var t,n,r,i,o,a,c,s,u,p,l;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,c=e.Sprite,s=e.v2,u=e.Component},function(e){p=e.EventDispatcher},function(e){l=e.EventName}],execute:function(){var g,f,h,d,m;o._RF.push({},"f2747b3g21PQ5V3Hg+aaclg","farm.bg.auto.size.component",void 0);var v=a.ccclass,S=a.property;e("FarmBgAutoSizeComponent",(g=v("FarmBgAutoSizeComponent"),f=S(c),g((m=t((d=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,r(t,"bgRender",m,i(t)),t.initPos=s(0,0),t.gridSizeWidth=16,t.gridSizeHeight=16,t.horBlankGridCount=10,t.verBlankGridCount=10,t}n(t,e);var o=t.prototype;return o.start=function(){p.on(l.SCREEN_SIZE_CHANGED,this._onScreenSizeChanged,this)},o._onScreenSizeChanged=function(){},t}(u)).prototype,"bgRender",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=d))||h));o._RF.pop()}}}));

System.register("chunks:///_virtual/farm.board.base.grid.ts",["cc"],(function(t){"use strict";var i,n,s;return{setters:[function(t){i=t.cclegacy,n=t._decorator,s=t.v2}],execute:function(){var h;i._RF.push({},"af0a7T0g0FGV60aZ6Ox69E6","farm.board.base.grid",void 0);var l=n.ccclass;t("FarmBoardBaseGrid",l("FarmBoardGridBase")(h=function(){function t(t,i){this.gX=-1,this.gY=-1,this.gridSize=s(0,0),this.locked=!0,this.gCenterWorldPos=s(0,0),this.gBottomWorldPos=s(0,2),this.mountedLogicObject=null,this.allNeighbors=[],this.up=null,this.down=null,this.left=null,this.right=null,this.leftUp=null,this.rightUp=null,this.leftDown=null,this.rightDown=null,this.gX=t,this.gY=i}var i=t.prototype;return i.initGrid=function(){},i.setLockState=function(t){this.locked=t,this.onLockStateChanged()},i.collectAllNeighbors=function(){this.allNeighbors=[],null!=this.up&&this.allNeighbors.push(this.up),null!=this.down&&this.allNeighbors.push(this.down),null!=this.left&&this.allNeighbors.push(this.left),null!=this.right&&this.allNeighbors.push(this.right),null!=this.leftUp&&this.allNeighbors.push(this.leftUp),null!=this.rightUp&&this.allNeighbors.push(this.rightUp),null!=this.leftDown&&this.allNeighbors.push(this.leftDown),null!=this.rightDown&&this.allNeighbors.push(this.rightDown)},i.getMountedObj=function(){return null!==this.mountedLogicObject?this.mountedLogicObject:null},i.isCanUse=function(){return!1},i.isCanPutObject=function(t){return!1},i.mountObject=function(t){},i.unMountObject=function(t){},i.setShowBorder=function(t){},i.setLockedByConner=function(t){},i.onLockStateChanged=function(){},i.getGroundId=function(){return 0},i.refreshGroundShow=function(){},t}())||h);i._RF.pop()}}}));

System.register("chunks:///_virtual/farm.board.define.ts",["cc"],(function(t){"use strict";var i;return{setters:[function(t){i=t.cclegacy}],execute:function(){i._RF.push({},"725bci93SNN7r8KG4Q0wn3W","farm.board.define",void 0);t("DEFAULT_TERRAIN_ID",11);var b=t("FarmItemGroundBit",{bitCenter:1,bitUp:2,bitRight:4,bitDown:8,bitLeft:16}),e=(t("FarmItemGroundCombine",{single:0,center:b.bitUp|b.bitLeft|b.bitDown|b.bitRight,down:b.bitUp,right:b.bitLeft,up:b.bitDown,left:b.bitRight,leftUp:b.bitDown|b.bitRight,leftDown:b.bitUp|b.bitRight,rightDown:b.bitUp|b.bitLeft,rightUp:b.bitDown|b.bitLeft,hor:b.bitLeft|b.bitRight,ver:b.bitUp|b.bitDown,borderRight:b.bitUp|b.bitLeft|b.bitDown,borderLeft:b.bitUp|b.bitRight|b.bitDown,borderUp:b.bitLeft|b.bitDown|b.bitRight,borderDown:b.bitLeft|b.bitUp|b.bitRight}),t("FarmBoardGridBorderType",{bitCenter:1,bitUp:2,bitUpRight:4,bitRight:8,bitDownRight:16,bitDown:32,bitDownLeft:64,bitLeft:128,bitUpLeft:256}));t("FarmBoardGridBorderCombine",{up:e.bitUp,down:e.bitDown,right:e.bitRight,left:e.bitLeft,outLeftTop:e.bitUpLeft,outLeftDown:e.bitDownLeft,outRightDown:e.bitDownRight,outRightUp:e.bitUpRight,innerLeftTop:e.bitDown|e.bitRight|e.bitDownRight,innerLeftTop2:e.bitDown|e.bitRight,innerLeftDown:e.bitUp|e.bitRight|e.bitUpRight,innerLeftDown2:e.bitUp|e.bitRight,innerRightDown:e.bitUp|e.bitLeft|e.bitUpLeft,innerRightDown2:e.bitUp|e.bitLeft,innerRightUp:e.bitDown|e.bitLeft|e.bitDownLeft,innerRightUp2:e.bitDown|e.bitLeft,otherLeftUp:e.bitUp|e.bitUpLeft,otherRightUp:e.bitUp|e.bitUpRight,otherLeftDown:e.bitDown|e.bitDownLeft,otherRightDown:e.bitDown|e.bitDownRight,otherUpLeft:e.bitLeft|e.bitUpLeft,otherDownLeft:e.bitLeft|e.bitDownLeft,otherUpRight:e.bitRight|e.bitUpRight,otherDownRight:e.bitRight|e.bitDownRight});i._RF.pop()}}}));

System.register("chunks:///_virtual/farm.board.item.grid.ts",["./rollupPluginModLoBabelHelpers.js","cc","./farm.board.define.ts","./farm.board.base.grid.ts","./enum.farm.object.type.ts","./resource.manager.ts","./scene.node.manager.ts","./table.helper.ts","./farm.board.item.utility.ts","./engine.farm.ground.component.ts","./engine.farm.terrain.border.component.ts","./event.dispatcher.ts","./event.name.ts"],(function(e){"use strict";var r,o,t,n,s,i,d,u,a,h,l,c,g,f,m,b,G,R;return{setters:[function(e){r=e.inheritsLoose},function(e){o=e.cclegacy,t=e._decorator,n=e.error,s=e.instantiate,i=e.v3},function(e){d=e.FarmBoardGridBorderCombine,u=e.FarmItemGroundBit},function(e){a=e.FarmBoardBaseGrid},function(e){h=e.EFarmObjectType},function(e){l=e.ResourceManager},function(e){c=e.SceneNodeManager},function(e){g=e.TableHelper},function(e){f=e.FarmBoardItemUtility},function(e){m=e.EngineFarmGroundComponent},function(e){b=e.EngineFarmTerrainBorderComponent},function(e){G=e.EventDispatcher},function(e){R=e.EventName}],execute:function(){var _;o._RF.push({},"97f04PKbKZJF7WzUvF9fbEH","farm.board.item.grid",void 0);var B=t.ccclass;e("FarmBoardItemGrid",B("FarmBoardItemGrid")(_=function(e){function o(){for(var r,o=arguments.length,t=new Array(o),n=0;n<o;n++)t[n]=arguments[n];return(r=e.call.apply(e,[this].concat(t))||this).isLockedByConner=!1,r.isShowBorder=!0,r.isLoadingBorder=!1,r.borderBits=void 0,r.borderObj=null,r.borderComponent=null,r.groundId=0,r.groundRecord=null,r.groundResPath="",r.groundShowType=0,r.groundObj=null,r.groundComponent=null,r.mountedUsedGroundObj=null,r.useGrassId=0,r.useGrassRecord=null,r.useGrassPath="",r.useGrassNode=null,r.useGrassLoad=!1,r.mountedGrassObject=null,r}r(o,e);var t=o.prototype;return t.initGrid=function(){var e=f.gridToWorldCenterPos(this.gX,this.gY);this.gCenterWorldPos.x=e.x,this.gCenterWorldPos.y=e.y;var r=f.gridToWorldBottomPos(this.gX,this.gY);this.gBottomWorldPos.x=r.x,this.gBottomWorldPos.y=r.y},t.onLockStateChanged=function(){this.refreshGrassShow()},t.setShowBorder=function(e){this.isShowBorder=e},t.setLockedByConner=function(e){this.isLockedByConner=e,this.isLockedByConner&&(null!==this.mountedLogicObject&&G.emit(R.FARM_REMOVE_OBJECT_BY_CORNER_LOCK,this.mountedLogicObject),null!==this.mountedUsedGroundObj&&G.emit(R.FARM_REMOVE_OBJECT_BY_CORNER_LOCK,this.mountedUsedGroundObj))},t.getMountedObj=function(){return null!==this.mountedLogicObject?this.mountedLogicObject:null!==this.mountedUsedGroundObj?this.mountedUsedGroundObj:null},t.isCanPutObject=function(e){if(this.locked)return!1;if(this.isLockedByConner)return!1;if(e.FarmObjectType===h.Ground){if(null!==this.mountedUsedGroundObj)return!1}else if(null!==this.mountedLogicObject)return!1;return!0},t.isEmpty=function(){return!this.locked&&(!this.isLockedByConner&&(null===this.mountedUsedGroundObj&&null===this.mountedLogicObject))},t.mountObject=function(e){e.FarmObjectType===h.Ground?this.mountedUsedGroundObj=e:this.mountedLogicObject=e,this.refreshGroundData()},t.unMountObject=function(e){e.FarmObjectType===h.Ground?this.mountedUsedGroundObj=null:this.mountedLogicObject=null,this.refreshGroundData()},t.setBorderBits=function(e){this.borderBits|=e},t.refreshBorderShow=function(){this.calculateBorderBitsData(),this.loadBorderRes()},t.clearBorderData=function(){var e,r,o,t;switch(this.borderBits){case d.outLeftTop:null==(e=this.rightDown)||e.setLockedByConner(!1);break;case d.outLeftDown:null==(r=this.rightUp)||r.setLockedByConner(!1);break;case d.outRightDown:null==(o=this.leftUp)||o.setLockedByConner(!1);break;case d.outRightUp:null==(t=this.leftDown)||t.setLockedByConner(!1)}this.borderBits=0,this.isShowBorder=!0,null!=this.borderObj&&(this.borderObj.destroy(),this.borderObj=null,this.borderComponent=null)},t.calculateBorderBitsData=function(){switch(this.borderBits){case d.innerLeftTop:case d.innerLeftTop2:var e,r;null==(e=this.down)||e.setShowBorder(!1),null==(r=this.right)||r.setShowBorder(!1);break;case d.outLeftTop:var o,t,n;null==(o=this.down)||o.setShowBorder(!1),null==(t=this.right)||t.setShowBorder(!1),null==(n=this.rightDown)||n.setLockedByConner(!0);break;case d.innerLeftDown:case d.innerLeftDown2:var s,i;null==(s=this.up)||s.setShowBorder(!1),null==(i=this.right)||i.setShowBorder(!1);break;case d.outLeftDown:var u,a,h;null==(u=this.up)||u.setShowBorder(!1),null==(a=this.right)||a.setShowBorder(!1),null==(h=this.rightUp)||h.setLockedByConner(!0);break;case d.innerRightDown:case d.innerRightDown2:var l,c;null==(l=this.up)||l.setShowBorder(!1),null==(c=this.left)||c.setShowBorder(!1);break;case d.outRightDown:var g,f,m;null==(g=this.up)||g.setShowBorder(!1),null==(f=this.left)||f.setShowBorder(!1),null==(m=this.leftUp)||m.setLockedByConner(!0);break;case d.innerRightUp:case d.innerRightUp2:var b,G;null==(b=this.down)||b.setShowBorder(!1),null==(G=this.left)||G.setShowBorder(!1);break;case d.outRightUp:var R,_,B;null==(R=this.down)||R.setShowBorder(!1),null==(_=this.left)||_.setShowBorder(!1),null==(B=this.leftDown)||B.setLockedByConner(!0)}},t.loadBorderRes=function(){var e=this;this.isLoadingBorder||(this.isLoadingBorder=!0,l.instance.loadFarmTerrainBorder((function(r){if(e.isLoadingBorder=!1,null!==r){if(0!==e.borderBits)try{e.borderObj=s(r),e.borderComponent=e.borderObj.getComponent(b),e.borderObj.parent=c.instance.farmTerrainBorderLayerNode,e.borderObj.name="farm_terrain_border_"+e.gX+"_"+e.gY,e.borderObj.setWorldPosition(e.getBorderWorldPos()),e.borderComponent.refreshShow(e.borderBits)}catch(e){n("farm node load error:",e)}}else n("load farm grid resource failed,avatar path: ",e.groundRecord.resName)})))},t.getBorderWorldPos=function(){var e=i(this.gCenterWorldPos.x,this.gCenterWorldPos.y,0);switch(this.borderBits){case d.outLeftTop:e.x+=f.FARM_ITEM_HALF_GRID_WIDTH,e.y-=f.FARM_ITEM_HALF_GRID_HEIGHT,e.z=-10;break;case d.outLeftDown:e.x+=f.FARM_ITEM_HALF_GRID_WIDTH,e.y+=f.FARM_ITEM_HALF_GRID_HEIGHT,e.z=-11;break;case d.outRightDown:e.x-=f.FARM_ITEM_HALF_GRID_WIDTH,e.y+=f.FARM_ITEM_HALF_GRID_HEIGHT,e.z=-12;break;case d.outRightUp:e.x-=f.FARM_ITEM_HALF_GRID_WIDTH,e.y-=f.FARM_ITEM_HALF_GRID_HEIGHT,e.z=-13;break;case d.innerLeftDown:case d.innerLeftDown2:e.x+=f.FARM_ITEM_HALF_GRID_WIDTH,e.y+=f.FARM_ITEM_HALF_GRID_HEIGHT,e.z=-14;break;case d.innerLeftTop:case d.innerLeftTop2:e.x+=f.FARM_ITEM_HALF_GRID_WIDTH,e.y-=f.FARM_ITEM_HALF_GRID_HEIGHT,e.z=-15;break;case d.innerRightUp:case d.innerRightUp2:e.x-=f.FARM_ITEM_HALF_GRID_WIDTH,e.y-=f.FARM_ITEM_HALF_GRID_HEIGHT,e.z=-15;break;case d.innerRightDown:case d.innerRightDown2:e.x-=f.FARM_ITEM_HALF_GRID_WIDTH,e.y+=f.FARM_ITEM_HALF_GRID_HEIGHT,e.z=-15}return e},t.getGroundId=function(){return this.groundId},t.refreshGroundData=function(){var e=0;null!==this.mountedUsedGroundObj?e=this.mountedUsedGroundObj.FarmGroundId:null!==this.mountedLogicObject&&(e=this.mountedLogicObject.FarmGroundId),this.groundId!==e&&(0!==e?(this.groundId=e,this.groundRecord=g.getFarmResRecord(this.groundId),this.groundResPath=this.groundRecord.resName,this.refreshGroundShow(),this.loadGroundRes()):this.clearGroundData())},t.clearGroundData=function(){null!=this.groundObj&&(this.groundObj.destroy(),this.groundObj=null,this.groundComponent=null),this.groundId=0,this.groundRecord=null,this.groundResPath="",null!=this.up&&this.up.refreshGroundShow(),null!=this.down&&this.down.refreshGroundShow(),null!=this.left&&this.left.refreshGroundShow(),null!=this.right&&this.right.refreshGroundShow()},t.refreshGroundShow=function(){if(0!==this.groundId){var e=0;null!=this.up&&this.up.getGroundId()===this.groundId&&(e|=u.bitUp),null!=this.down&&this.down.getGroundId()===this.groundId&&(e|=u.bitDown),null!=this.left&&this.left.getGroundId()===this.groundId&&(e|=u.bitLeft),null!=this.right&&this.right.getGroundId()===this.groundId&&(e|=u.bitRight),e!==this.groundShowType&&(this.groundShowType=e,null!==this.groundComponent&&this.groundComponent.refreshShow(this.groundShowType),null!=this.up&&this.up.refreshGroundShow(),null!=this.down&&this.down.refreshGroundShow(),null!=this.left&&this.left.refreshGroundShow(),null!=this.right&&this.right.refreshGroundShow())}},t.loadGroundRes=function(){var e=this,r=this.groundResPath;l.instance.loadFarmRes(this.groundRecord.resName,(function(o){if(null!==o){if(r===e.groundResPath)try{e.groundObj=s(o),e.groundComponent=e.groundObj.getComponent(m),e.groundObj.parent=c.instance.farmGroundLayerNode,e.groundObj.name="farm_ground_"+e.groundId,e.groundObj.setWorldPosition(i(e.gCenterWorldPos.x,e.gCenterWorldPos.y,0)),e.groundComponent.refreshShow(e.groundShowType)}catch(e){n("farm node load error:",e)}}else n("load farm grid resource failed,avatar path: ",e.groundRecord.resName)}))},t.loadGrassRes=function(){var e=this;this.useGrassLoad||null!==this.useGrassRecord&&(this.useGrassLoad=!0,l.instance.loadFarmRes(this.useGrassRecord.resName,(function(r){if(null!==r)try{e.useGrassNode=s(r),e.useGrassNode.parent=c.instance.farmGrassLayerNode,e.useGrassNode.name="farm_grass_"+e.useGrassId,e.useGrassNode.setWorldPosition(i(e.gBottomWorldPos.x,e.gBottomWorldPos.y,0))}catch(e){n("farm node load error:",e)}else n("load farm grid resource failed,grass path: ",e.useGrassRecord.resName)})))},t.refreshGrassShow=function(){if(0!==this.useGrassId)if(this.useGrassLoad){if(null===this.useGrassNode)return;this.locked?this.useGrassNode.active=!1:this.useGrassNode.active=!0}else this.locked||(this.useGrassRecord=g.getFarmResRecord(this.useGrassId),this.loadGrassRes())},o}(a))||_);o._RF.pop()}}}));

System.register("chunks:///_virtual/farm.board.item.manager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./farm.board.item.grid.ts","./base.manager.ts","./farm.board.item.utility.ts","./path.finder.manager.ts","./path.define.ts","./enum.farm.object.type.ts"],(function(t){"use strict";var r,i,e,a,n,o,d,s,h,u,l,c;return{setters:[function(t){r=t.inheritsLoose,i=t.createClass},function(t){e=t.cclegacy,a=t._decorator,n=t.randomRangeInt,o=t.error},function(t){d=t.FarmBoardItemGrid},function(t){s=t.BaseManager},function(t){h=t.FarmBoardItemUtility},function(t){u=t.PathFinderManager},function(t){l=t.FarmPathNodeType},function(t){c=t.EFarmObjectType}],execute:function(){var m,G;e._RF.push({},"16314Z/j3pJgbgU9enGAbsD","farm.board.item.manager",void 0);var f=a.ccclass;t("FarmBoardItemManager",f("FarmBoardItemManager")(((G=function(t){function e(){for(var r,i=arguments.length,e=new Array(i),a=0;a<i;a++)e[a]=arguments[a];return(r=t.call.apply(t,[this].concat(e))||this).mWidthGridCount=0,r.mHeightGridCount=0,r.mAllFarmItemGridList=null,r.mBorderGridSet=new Set,r.mEmptyGridSet=new Set,r}r(e,t);var a=e.prototype;return a.createBoard=function(t){this.mWidthGridCount=t.w,this.mHeightGridCount=t.h,h.initUtility(t.gw,t.gh),this.mAllFarmItemGridList=new Array;for(var r=0;r<this.mWidthGridCount;r+=1){for(var i=new Array,e=0;e<this.mHeightGridCount;e+=1){var a=new d(r,e);a.initGrid(),i.push(a)}this.mAllFarmItemGridList.push(i)}if(t.grass&&t.grass.length>0)for(var n=0;n<t.grass.length;n+=1){var o=t.grass[n],s=this.getGrid(o.x,o.y);null!==s&&(s.useGrassId=o.id)}this._calculateGridRelations()},a.destroyBoard=function(){null!=this.mAllFarmItemGridList&&(this.mAllFarmItemGridList=null),this.mWidthGridCount=0,this.mHeightGridCount=0,this.mEmptyGridSet.clear(),this.clearAllBorderData(),h.clearUtility()},a.getGrid=function(t,r){return this._IsGridPosValid(t,r)?this.mAllFarmItemGridList[t][r]:null},a.getGridMountedItem=function(t,r){var i=this.getGrid(t,r);return null!==i?i.getMountedObj():null},a.getGridMountedAllListByRange=function(t,r,i,e){for(var a=new Set,n=t+i,o=r+e,d=r;d<o;d+=1)for(var s=t;s<n;s+=1){var h=this.getGrid(s,d);if(null!==h){var u=h.mountedLogicObject;null==u||a.has(u)||a.add(u);var l=h.mountedUsedGroundObj;null==l||a.has(l)||a.add(l)}}return Array.from(a)},a.getGridGrassListByRange=function(t,r,i,e){for(var a=[],n=t+i,o=r+e,d=r;d<o;d+=1)for(var s=t;s<n;s+=1){var h=this.getGrid(s,d);null!==h&&null!==h.mountedGrassObject&&a.push(h.mountedGrassObject)}return a},a.setLockState=function(t,r,i,e,a){for(var n=t+i,o=r+e,d=r;d<o;d+=1)for(var s=t;s<n;s+=1){var h=this.getGrid(s,d);null!=h&&h.setLockState(a),a?u.instance.setNodeType(s,d,l.StaticObstacle):u.instance.setNodeType(s,d,l.Walkable),this.refreshEmptyGrid(h)}},a.isCanPutDownObj=function(t,r){for(var i=r.x,e=r.y,a=r.x+r.width,n=r.y+r.height,o=i;o<a;o+=1)for(var d=e;d<n;d+=1){var s=this.getGrid(o,d);if(null===s)return!1;if(!s.isCanPutObject(t))return!1}return!0},a.putItem=function(t){for(var r=t.BoardPos.boardX,i=t.BoardPos.boardY,e=r+t.BoardObjectSize.objWidth,a=i+t.BoardObjectSize.objHeight,n=t.isObstacle(),o=r;o<e;o+=1)for(var d=i;d<a;d+=1){var s=this.getGrid(o,d);null!==s&&(s.mountObject(t),t.FarmObjectType!==c.Ground&&u.instance.setDynamicObstacle(o,d,n),this.refreshEmptyGrid(s))}this.attachObjToGrid(t)},a.deleteItem=function(t){for(var r=t.BoardPos.boardX,i=t.BoardPos.boardY,e=r+t.BoardObjectSize.objWidth,a=i+t.BoardObjectSize.objHeight,n=r;n<e;n+=1)for(var o=i;o<a;o+=1){var d=this.getGrid(n,o);null!==d&&(d.unMountObject(t),t.FarmObjectType!==c.Ground&&u.instance.setDynamicObstacle(n,o,!1),this.refreshEmptyGrid(d))}this.detachObjFromGrid(t)},a.putGrass=function(t){for(var r=t.BoardPos.boardX,i=t.BoardPos.boardY,e=r+t.BoardObjectSize.objWidth,a=i+t.BoardObjectSize.objHeight,n=r;n<e;n+=1)for(var o=i;o<a;o+=1){var d=this.getGrid(n,o);null!==d&&(d.mountedGrassObject=t)}this.attachObjToGrid(t)},a.deleteGrass=function(t){for(var r=t.BoardPos.boardX,i=t.BoardPos.boardY,e=r+t.BoardObjectSize.objWidth,a=i+t.BoardObjectSize.objHeight,n=r;n<e;n+=1)for(var o=i;o<a;o+=1){var d=this.getGrid(n,o);null!==d&&(d.mountedGrassObject=null)}this.detachObjFromGrid(t)},a.getRandomEmptyGrid=function(){var t=Array.from(this.mEmptyGridSet.values());return t.length<=0?null:t[n(0,t.length)]},a._IsGridPosValid=function(t,r){return t>=0&&t<this.mWidthGridCount&&r>=0&&r<this.mHeightGridCount},a._calculateGridRelations=function(){for(var t=0;t<this.mHeightGridCount;t+=1)for(var r=0;r<this.mWidthGridCount;r+=1){var i=this.getGrid(r,t);i.left=this.getGrid(r+1,t),i.right=this.getGrid(r-1,t),i.up=this.getGrid(r,t-1),i.down=this.getGrid(r,t+1),i.leftUp=this.getGrid(r+1,t-1),i.rightUp=this.getGrid(r-1,t-1),i.leftDown=this.getGrid(r+1,t+1),i.rightDown=this.getGrid(r-1,t+1),i.collectAllNeighbors()}},a.attachObjToGrid=function(t){null!==t&&t.onAttachedToGrid()},a.detachObjFromGrid=function(t){null!==t&&t.onDetachedFromGrid()},a.refreshEmptyGrid=function(t){null!==t&&(t.isEmpty()?this.mEmptyGridSet.has(t)||this.mEmptyGridSet.add(t):this.mEmptyGridSet.has(t)&&this.mEmptyGridSet.delete(t))},a.showBorder=function(){this.mBorderGridSet.forEach((function(t){t.refreshBorderShow()}))},a.setGridBorderBit=function(t,r,i){var e=this.getGrid(t,r);null!=e?(e.setBorderBits(i),this.mBorderGridSet.has(e)||this.mBorderGridSet.add(e)):o("node not found")},a.clearAllBorderData=function(){this.mBorderGridSet.forEach((function(t){t.clearBorderData()})),this.mBorderGridSet.clear()},i(e,null,[{key:"instance",get:function(){return null==this._instance&&(this._instance=new e),this._instance}}]),e}(s))._instance=null,m=G))||m);e._RF.pop()}}}));

System.register("chunks:///_virtual/farm.board.item.utility.ts",["cc","./farm.board.pos.ts"],(function(_){"use strict";var I,t,T,R;return{setters:[function(_){I=_.cclegacy,t=_._decorator,T=_.Vec2},function(_){R=_.FarmBoardPos}],execute:function(){var M,i;I._RF.push({},"1b55b7dFK5K1apftSooIyve","farm.board.item.utility",void 0);var E=t.ccclass;_("FarmBoardItemUtility",E("FarmBoardItemUtility")(((i=function(){function _(){}return _.initUtility=function(_,I){this.FARM_ITEM_GRID_WIDTH=_,this.FARM_ITEM_GRID_HEIGHT=I,this.FARM_ITEM_HALF_GRID_WIDTH=.5*this.FARM_ITEM_GRID_WIDTH,this.FARM_ITEM_HALF_GRID_HEIGHT=.5*this.FARM_ITEM_GRID_HEIGHT,this.FARM_ITEM_GRID_WIDTH_INVERT=1/this.FARM_ITEM_GRID_WIDTH,this.FARM_ITEM_GRID_HEIGHT_INVERT=1/this.FARM_ITEM_GRID_HEIGHT},_.clearUtility=function(){this.FARM_ITEM_GRID_WIDTH=40,this.FARM_ITEM_GRID_HEIGHT=20,this.FARM_ITEM_HALF_GRID_WIDTH=.5*this.FARM_ITEM_GRID_WIDTH,this.FARM_ITEM_HALF_GRID_HEIGHT=.5*this.FARM_ITEM_GRID_HEIGHT,this.FARM_ITEM_GRID_WIDTH_INVERT=1/this.FARM_ITEM_GRID_WIDTH,this.FARM_ITEM_GRID_HEIGHT_INVERT=1/this.FARM_ITEM_GRID_HEIGHT},_.worldPosToGrid=function(_,I){var t=new R(0,0);return t.boardX=Math.floor(-_*this.FARM_ITEM_GRID_WIDTH_INVERT),t.boardY=Math.floor(-I*this.FARM_ITEM_GRID_HEIGHT_INVERT),t},_.gridToWorldCenterPos=function(_,I){var t=new T;return t.x=-(_+.5)*this.FARM_ITEM_GRID_WIDTH,t.y=-(I+.5)*this.FARM_ITEM_GRID_HEIGHT,t},_.gridToWorldBottomPos=function(_,I){var t=new T;return t.x=-(_+.5)*this.FARM_ITEM_GRID_WIDTH,t.y=-(I+1)*this.FARM_ITEM_GRID_HEIGHT,t},_.gridToObjStandWorldPos=function(_,I,t,R){var M=new T;return M.x=-(_+.5*t)*this.FARM_ITEM_GRID_WIDTH,M.y=-(I+R)*this.FARM_ITEM_GRID_HEIGHT,M},_}()).FARM_ITEM_GRID_WIDTH=40,i.FARM_ITEM_GRID_HEIGHT=20,i.FARM_ITEM_HALF_GRID_WIDTH=20,i.FARM_ITEM_HALF_GRID_HEIGHT=10,i.FARM_ITEM_GRID_WIDTH_INVERT=0,i.FARM_ITEM_GRID_HEIGHT_INVERT=0,M=i))||M);I._RF.pop()}}}));

System.register("chunks:///_virtual/farm.board.object.interface.ts",["cc"],(function(){"use strict";var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"7cd58ae8VNFFIL71yOUDU/V","farm.board.object.interface",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/farm.board.object.size.ts",["cc"],(function(t){"use strict";var e,c;return{setters:[function(t){e=t.cclegacy,c=t._decorator}],execute:function(){var i;e._RF.push({},"b5453OqbGJEPJinDi5RTTHl","farm.board.object.size",void 0);var r=c.ccclass;t("FarmBoardObjectSize",r("FarmBoardObjectSize")(i=function(){this.objWidth=void 0,this.objHeight=void 0})||i);e._RF.pop()}}}));

System.register("chunks:///_virtual/farm.board.pos.ts",["cc"],(function(r){"use strict";var o,s;return{setters:[function(r){o=r.cclegacy,s=r._decorator}],execute:function(){var a;o._RF.push({},"77c58DNESRKBrCO5swhqOzB","farm.board.pos",void 0);var t=s.ccclass;r("FarmBoardPos",t("FarmBoardPos")(a=function(r,o){this.boardX=void 0,this.boardY=void 0,this.boardX=r,this.boardY=o})||a);o._RF.pop()}}}));

System.register("chunks:///_virtual/farm.board.terrain.grid.ts",["./rollupPluginModLoBabelHelpers.js","cc","./farm.board.base.grid.ts","./farm.board.define.ts","./farm.board.terrain.utility.ts","./farm.board.item.manager.ts"],(function(t){"use strict";var i,r,e,n,o,s,a,d;return{setters:[function(t){i=t.inheritsLoose},function(t){r=t.cclegacy,e=t._decorator,n=t.log},function(t){o=t.FarmBoardBaseGrid},function(t){s=t.FarmBoardGridBorderType},function(t){a=t.FarmBoardTerrainUtility},function(t){d=t.FarmBoardItemManager}],execute:function(){var c;r._RF.push({},"ad023nu+T5NLq6fdTwxzQmM","farm.board.terrain.grid",void 0);var l=e.ccclass;t("FarmBoardTerrainGrid",l("FarmBoardTerrainGrid")(c=function(t){function r(){for(var i,r=arguments.length,e=new Array(r),n=0;n<r;n++)e[n]=arguments[n];return(i=t.call.apply(t,[this].concat(e))||this).terrainObj=null,i.terrainComponent=null,i}i(r,t);var e=r.prototype;return e.initGrid=function(){var t=a.gridToWorldCenterPos(this.gX,this.gY);this.gCenterWorldPos.x=t.x,this.gCenterWorldPos.y=t.y},e.isCanUse=function(){return null==this.mountedLogicObject},e.mountObject=function(t){null!=t&&(this.mountedLogicObject=t,this.setLockState(!1))},e.unMountObject=function(t){this.mountedLogicObject===t?(this.mountedLogicObject=null,this.setLockState(!0)):n("mounted data error!")},e.calculateTerrainGridBorder=function(){if(!this.locked){var t=a.TerrainToFarmGridScaleX,i=a.TerrainToFarmGridScaleY,r=a.TerrainToFarmGridOffsetX,e=a.TerrainToFarmGridOffsetY;if(null==this.up||this.up.locked)for(var n=this.gX*t+r,o=this.gY*i+e-1,c=0;c<t;c+=1)d.instance.setGridBorderBit(n+c,o,s.bitUp);if(null==this.down||this.down.locked)for(var l=this.gX*t+r,h=this.gY*i+e+i,u=0;u<t;u+=1)d.instance.setGridBorderBit(l+u,h,s.bitDown);if(null==this.left||this.left.locked)for(var f=this.gX*t+r+t,g=this.gY*i+e,m=0;m<i;m+=1)d.instance.setGridBorderBit(f,g+m,s.bitLeft);if(null==this.right||this.right.locked)for(var B=this.gX*t+r-1,b=this.gY*i+e,p=0;p<i;p+=1)d.instance.setGridBorderBit(B,b+p,s.bitRight);if(null==this.leftUp||this.leftUp.locked){var G=this.gX*t+r+t,v=this.gY*i+e-1;d.instance.setGridBorderBit(G,v,s.bitUpLeft)}if(null==this.rightUp||this.rightUp.locked){var T=this.gX*t+r-1,k=this.gY*i+e-1;d.instance.setGridBorderBit(T,k,s.bitUpRight)}if(null==this.leftDown||this.leftDown.locked){var F=this.gX*t+r+t,L=this.gY*i+e+i;d.instance.setGridBorderBit(F,L,s.bitDownLeft)}if(null==this.rightDown||this.rightDown.locked){var w=this.gX*t+r-1,X=this.gY*i+e+i;d.instance.setGridBorderBit(w,X,s.bitDownRight)}}},r}(o))||c);r._RF.pop()}}}));

System.register("chunks:///_virtual/farm.board.terrain.manager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./farm.board.terrain.grid.ts","./farm.board.terrain.utility.ts","./farm.board.pos.ts","./base.manager.ts","./logic.tool.ts","./enum.farm.object.type.ts","./table.manager.ts","./farm.board.item.manager.ts"],(function(r){"use strict";var i,t,a,e,n,o,d,s,h,c,l,m,u,f;return{setters:[function(r){i=r.inheritsLoose,t=r.createClass},function(r){a=r.cclegacy,e=r._decorator,n=r.Rect,o=r.math},function(r){d=r.FarmBoardTerrainGrid},function(r){s=r.FarmBoardTerrainUtility},function(r){h=r.FarmBoardPos},function(r){c=r.BaseManager},function(r){l=r.LogicTool},function(r){m=r.EFarmObjectType},function(r){u=r.TableManager},function(r){f=r.FarmBoardItemManager}],execute:function(){var g,G;a._RF.push({},"2c5484TVftEOKDwN1+3vAHU","farm.board.terrain.manager",void 0);var T=e.ccclass;r("FarmBoardTerrainManager",T("FarmBoardTerrainManager")(((G=function(r){function a(){for(var i,t=arguments.length,a=new Array(t),e=0;e<t;e++)a[e]=arguments[e];return(i=r.call.apply(r,[this].concat(a))||this).mWidthGridCount=0,i.mHeightGridCount=0,i.mAllFarmTerrainGridList=null,i.mValidTerrainRect=new n,i.mValidFarmRect=new n,i}i(a,r);var e=a.prototype;return e.createBoard=function(r){this.mWidthGridCount=s.farmWidthGridCountToTerrainGridCount(r.w),this.mHeightGridCount=s.farmHeightGridCountToTerrainGridCount(r.h),s.initUtility(r.gw,r.gh),this.mAllFarmTerrainGridList=new Array;for(var i=0;i<this.mWidthGridCount;i+=1){for(var t=new Array,a=0;a<this.mHeightGridCount;a+=1){var e=new d(i,a);e.initGrid(),t.push(e)}this.mAllFarmTerrainGridList.push(t)}this._calculateGridRelations()},e.destroyBoard=function(){null!=this.mAllFarmTerrainGridList&&(this.mAllFarmTerrainGridList=null),this.mWidthGridCount=0,this.mHeightGridCount=0,this.mValidTerrainRect.set(-1,-1,0,0),this.mValidFarmRect.set(-1,-1,0,0),s.clearUtility()},e.getGrid=function(r,i){return this._IsGridPosValid(r,i)?this.mAllFarmTerrainGridList[r][i]:null},e.getGridMountedTerrain=function(r,i){var t=this.getGrid(r,i);return null!==t?t.getMountedObj():null},e.getValidFarmGridRect=function(){return this.mValidFarmRect},e.isTerrainRangeCanUse=function(r){for(var i=r.x,t=r.y,a=r.x+r.width,e=r.y+r.height,n=i;n<a;n+=1)for(var o=t;o<e;o+=1){var d=this.getGrid(n,o);if(null===d)return!1;if(!d.isCanUse())return!1}return!0},e.calculateNewTerrainUseGrid=function(){for(var r=this,i=new h(-1,-1),t=[],a=0;a<this.mHeightGridCount;a+=1)for(var e=0;e<this.mWidthGridCount;e+=1){var n=this.getGrid(e,a);n.locked&&t.push(n)}return t.length>0&&(t.sort((function(i,t){return r._compareCanUseGrid(i,t)})),i.boardX=t[0].gX,i.boardY=t[0].gY),i},e._compareCanUseGrid=function(r,i){return Math.sqrt((r.gX-8)*(r.gX-8)+(r.gY-8)*(r.gY-8))-Math.sqrt((i.gX-8)*(i.gX-8)+(i.gY-8)*(i.gY-8))},e.refreshAllGridBorders=function(){f.instance.clearAllBorderData();for(var r=0;r<this.mHeightGridCount;r+=1)for(var i=0;i<this.mWidthGridCount;i+=1){this.getGrid(i,r).calculateTerrainGridBorder()}f.instance.showBorder()},e.calculateValidTerrainRect=function(){this.mValidTerrainRect.set(-1,-1,0,0),this.mValidFarmRect.set(-1,-1,0,0);for(var r=!1,i=0;i<this.mHeightGridCount;i+=1)for(var t=0;t<this.mWidthGridCount;t+=1){this.getGrid(t,i).locked||(r?(t<this.mValidTerrainRect.xMin&&(this.mValidTerrainRect.xMin=t),t>this.mValidTerrainRect.xMax&&(this.mValidTerrainRect.xMax=t),i<this.mValidTerrainRect.yMin&&(this.mValidTerrainRect.yMin=i),i>this.mValidTerrainRect.yMax&&(this.mValidTerrainRect.yMax=i)):(this.mValidTerrainRect.xMin=t,this.mValidTerrainRect.xMax=t,this.mValidTerrainRect.yMin=i,this.mValidTerrainRect.yMax=i,r=!0))}this.mValidFarmRect.xMin=this.mValidTerrainRect.xMin*s.TerrainToFarmGridScaleX,this.mValidFarmRect.xMax=(this.mValidTerrainRect.xMax+1)*s.TerrainToFarmGridScaleX,this.mValidFarmRect.yMin=this.mValidTerrainRect.yMin*s.TerrainToFarmGridScaleY,this.mValidFarmRect.yMax=(this.mValidTerrainRect.yMax+1)*s.TerrainToFarmGridScaleY},e.randomPutInGrassAll=function(){for(var r=[],i=[],t=0;t<this.mHeightGridCount;t+=1)for(var a=0;a<this.mWidthGridCount;a+=1){if(!this.getGrid(a,t).locked){for(var e=new Set,n=0,d=o.randomRangeInt(3,5);n<3;){n+=1;var h=s.randomFarmGridPosInTerrainGrid(a,t);if(null!==h){var c=f.instance.getGrid(h.boardX,h.boardY);if(e.has(c)||e.add(c),e.size>=d)break}}e.forEach((function(r){i.push(r)}))}}var g=u.instance.tableFarmRes.getAllResByType(m.CommonGrass);l.shuffleArray(g);for(var G=0;G<i.length;G+=1){var T=i[G],b=o.randomRangeInt(0,g.length);r.push({x:T.gX,y:T.gY,id:g[b].dataId})}return r},e.randomPutInGrassToTerrain=function(r,i){var t=[],a=[];if(!this.getGrid(r,i).locked){for(var e=new Set,n=0,d=o.randomRangeInt(3,6);n<10;){n+=1;var h=s.randomFarmGridPosInTerrainGrid(r,i);if(null!==h){var c=f.instance.getGrid(h.boardX,h.boardY);if(e.has(c)||e.add(c),e.size>=d)break}}e.forEach((function(r){a.push(r)}))}var g=u.instance.tableFarmRes.getAllResByType(m.CommonGrass);l.shuffleArray(g);for(var G=0;G<a.length;G+=1){var T=a[G],b=o.randomRangeInt(0,g.length);t.push({x:T.gX,y:T.gY,id:g[b].dataId})}return t},e.putTerrain=function(r){for(var i=r.BoardPos.boardX,t=r.BoardPos.boardY,a=i+r.BoardObjectSize.objWidth,e=t+r.BoardObjectSize.objHeight,n=i;n<a;n+=1)for(var o=t;o<e;o+=1){var d=this.getGrid(n,o);null!==d&&d.mountObject(r)}this.attachObjToGrid(r),this.modifyFarmGridLockState(r.BoardPos,r.BoardObjectSize,!1),this.onTerrainChanged()},e.deleteTerrain=function(r){for(var i=r.BoardPos.boardX,t=r.BoardPos.boardY,a=i+r.BoardObjectSize.objWidth,e=t+r.BoardObjectSize.objHeight,n=i;n<a;n+=1)for(var o=t;o<e;o+=1){var d=this.getGrid(n,o);null!==d&&d.unMountObject(r)}this.detachObjFromGrid(r),this.modifyFarmGridLockState(r.BoardPos,r.BoardObjectSize,!0),this.onTerrainChanged()},e._IsGridPosValid=function(r,i){return r>=0&&r<this.mWidthGridCount&&i>=0&&i<this.mHeightGridCount},e._calculateGridRelations=function(){for(var r=0;r<this.mHeightGridCount;r+=1)for(var i=0;i<this.mWidthGridCount;i+=1){var t=this.getGrid(i,r);t.left=this.getGrid(i+1,r),t.right=this.getGrid(i-1,r),t.up=this.getGrid(i,r-1),t.down=this.getGrid(i,r+1),t.leftUp=this.getGrid(i+1,r-1),t.rightUp=this.getGrid(i-1,r-1),t.leftDown=this.getGrid(i+1,r+1),t.rightDown=this.getGrid(i-1,r+1),t.collectAllNeighbors()}},e.attachObjToGrid=function(r){null!==r&&r.onAttachedToGrid()},e.detachObjFromGrid=function(r){null!==r&&r.onDetachedFromGrid()},e.onTerrainChanged=function(){},e.modifyFarmGridLockState=function(r,i,t){var a=s.terrainGridXToFarmGridX(r.boardX),e=s.terrainGridYToFarmGridY(r.boardY),n=i.objWidth*s.TerrainToFarmGridScaleX,o=i.objHeight*s.TerrainToFarmGridScaleY;f.instance.setLockState(a,e,n,o,t)},t(a,null,[{key:"instance",get:function(){return null==this._instance&&(this._instance=new a),this._instance}}]),a}(c))._instance=null,g=G))||g);a._RF.pop()}}}));

System.register("chunks:///_virtual/farm.board.terrain.utility.ts",["cc","./farm.board.pos.ts"],(function(r){"use strict";var i,R,T,_,t,I;return{setters:[function(r){i=r.cclegacy,R=r._decorator,T=r.v2,_=r.Vec2,t=r.math},function(r){I=r.FarmBoardPos}],execute:function(){var a,G;i._RF.push({},"b5714NM9kJMspcLjatWQXuO","farm.board.terrain.utility",void 0);var e=R.ccclass;r("FarmBoardTerrainUtility",e("FarmBoardTerrainUtility")(((G=function(){function r(){}return r.initUtility=function(r,i){this.FARM_GRID_WIDTH=r,this.FARM_GRID_HEIGHT=i,this.FARM_TERRAIN_GRID_WIDTH=r*this.TerrainToFarmGridScaleX,this.FARM_TERRAIN_GRID_HEIGHT=i*this.TerrainToFarmGridScaleY,this.FARM_TERRAIN_GRID_HALF_WIDTH=.5*this.FARM_TERRAIN_GRID_WIDTH,this.FARM_TERRAIN_GRID_HALF_HEIGHT=.5*this.FARM_TERRAIN_GRID_HEIGHT,this.FARM_TERRAIN_GRID_WIDTH_INVERT=1/this.FARM_TERRAIN_GRID_WIDTH,this.FARM_TERRAIN_GRID_HEIGHT_INVERT=1/this.FARM_TERRAIN_GRID_HEIGHT},r.clearUtility=function(){this.FARM_GRID_WIDTH=40,this.FARM_GRID_HEIGHT=20,this.FARM_TERRAIN_GRID_WIDTH=this.FARM_GRID_WIDTH*this.TerrainToFarmGridScaleX,this.FARM_TERRAIN_GRID_HEIGHT=this.FARM_GRID_HEIGHT*this.TerrainToFarmGridScaleY,this.FARM_TERRAIN_GRID_HALF_WIDTH=.5*this.FARM_TERRAIN_GRID_WIDTH,this.FARM_TERRAIN_GRID_HALF_HEIGHT=.5*this.FARM_TERRAIN_GRID_HEIGHT,this.FARM_TERRAIN_GRID_WIDTH_INVERT=1/this.FARM_TERRAIN_GRID_WIDTH,this.FARM_TERRAIN_GRID_HEIGHT_INVERT=1/this.FARM_TERRAIN_GRID_HEIGHT},r.farmWidthGridCountToTerrainGridCount=function(i){var R=i-2*r.TerrainToFarmGridOffsetX;return Math.floor(R/this.TerrainToFarmGridScaleX)},r.farmHeightGridCountToTerrainGridCount=function(i){var R=i-2*r.TerrainToFarmGridOffsetY;return Math.floor(R/this.TerrainToFarmGridScaleY)},r.terrainGridXToFarmGridX=function(r){return r*this.TerrainToFarmGridScaleX+this.TerrainToFarmGridOffsetX},r.terrainGridYToFarmGridY=function(r){return r*this.TerrainToFarmGridScaleY+this.TerrainToFarmGridOffsetY},r.worldPosToGrid=function(r,i){var R=this.FARM_GRID_WIDTH*this.TerrainToFarmGridOffsetX,T=this.FARM_GRID_HEIGHT*this.TerrainToFarmGridOffsetY,_=new I(0,0);return _.boardX=Math.floor(-(r+R)*this.FARM_TERRAIN_GRID_WIDTH_INVERT),_.boardY=Math.floor(-(i+T)*this.FARM_TERRAIN_GRID_HEIGHT_INVERT),_},r.gridToWorldCenterPos=function(r,i){var R=T(0,0);return R.x=-(r*this.FARM_TERRAIN_GRID_WIDTH+this.FARM_TERRAIN_GRID_HALF_WIDTH),R.y=-(i*this.FARM_TERRAIN_GRID_HEIGHT+this.FARM_TERRAIN_GRID_HALF_HEIGHT),R.x-=this.TerrainToFarmGridOffsetX*this.FARM_GRID_WIDTH,R.y-=this.TerrainToFarmGridOffsetY*this.FARM_GRID_HEIGHT,R},r.gridToWorldRightTopPos=function(r,i){var R=T(0,0);return R.x=-r*this.FARM_TERRAIN_GRID_WIDTH,R.y=-i*this.FARM_TERRAIN_GRID_HEIGHT,R.x-=this.TerrainToFarmGridOffsetX*this.FARM_GRID_WIDTH,R.y-=this.TerrainToFarmGridOffsetY*this.FARM_GRID_HEIGHT,R},r.gridToObjStandWorldPos=function(r,i,R,T){var t=new _;return t.x=-(r+.5*R)*this.FARM_TERRAIN_GRID_WIDTH,t.y=-(i+.5*T)*this.FARM_TERRAIN_GRID_HEIGHT,t.x-=this.FARM_GRID_WIDTH*this.TerrainToFarmGridOffsetX,t.y-=this.FARM_GRID_HEIGHT*this.TerrainToFarmGridOffsetY,t},r.randomFarmGridPosInTerrainGrid=function(r,i){var R=t.randomRangeInt(0,this.TerrainToFarmGridScaleX),T=t.randomRangeInt(0,this.TerrainToFarmGridScaleY);if(0===R&&0===T||R===this.TerrainToFarmGridScaleX-1&&0===T||0===R&&T===this.TerrainToFarmGridScaleY-1||R===this.TerrainToFarmGridScaleX-1&&T===this.TerrainToFarmGridScaleY-1)return null;var _=new I(0,0);return _.boardX=r*this.TerrainToFarmGridScaleX+this.TerrainToFarmGridOffsetX+R,_.boardY=i*this.TerrainToFarmGridScaleY+this.TerrainToFarmGridOffsetY+T,_},r}()).TerrainToFarmGridOffsetX=2,G.TerrainToFarmGridOffsetY=2,G.TerrainToFarmGridScaleX=5,G.TerrainToFarmGridScaleY=5,G.FARM_GRID_WIDTH=40,G.FARM_GRID_HEIGHT=20,G.FARM_TERRAIN_GRID_WIDTH=80,G.FARM_TERRAIN_GRID_HEIGHT=80,G.FARM_TERRAIN_GRID_HALF_WIDTH=40,G.FARM_TERRAIN_GRID_HALF_HEIGHT=40,G.FARM_TERRAIN_GRID_WIDTH_INVERT=1/G.FARM_TERRAIN_GRID_WIDTH,G.FARM_TERRAIN_GRID_HEIGHT_INVERT=1/G.FARM_TERRAIN_GRID_HEIGHT,a=G))||a);i._RF.pop()}}}));

System.register("chunks:///_virtual/farm.client.protocol.ts",["./rollupPluginModLoBabelHelpers.js","cc","./long.mjs_cjs=&original=.js","./net.protocol.define.ts","./null.client.protocol.ts","./long.js"],(function(t){"use strict";var e,r,i,n,a;return{setters:[function(t){e=t.inheritsLoose},function(t){r=t.cclegacy},null,function(t){i=t.NetProtocolDefine},function(t){n=t.stNullClientCmd},function(t){a=t.default}],execute:function(){t({eProfessionSkillType:void 0,enumFarmObject:void 0,enumFarmResource:void 0,enumWorkerState:void 0}),r._RF.push({},"6b51fZvEMNJeIRTBnzNEGnw","farm.client.protocol",void 0);var s,o,u,f,l=t("stFarmClientCmd",function(t){function r(){var e;return(e=t.call(this)||this).gsCmd=i.FARM_CLIENT_CMD,e}return e(r,t),r}(n)),c=t("FARM_WORKER_LIST_CLIENT",1),h=t("FARM_NEW_WORKER_CLIENT",2),m=t("FARM_REMOVE_WORKER_CLIENT",3),p=t("FARM_UPDATE_WORKER_CLIENT",4),k=t("FARM_WORKER_START_WORK_CLIENT",5),y=t("FARM_WORKER_STOP_WORK_CLIENT",6),B=t("FARM_WORKER_LEVEL_UP_CLIENT",7),P=t("FARM_WORKER_CHANGE_LEVEL_CLIENT",8),_=t("FARM_WORKER_OPEN_PROFESSION_SKILL_CLIENT",9),U=t("REFRESH_FARM_RESOURCE_CLIENT",10),d=t("REFRESH_FARM_WORK_DATA_CLIENT",11),R=t("FARM_WORKER_RETRAINING_PROFESSION_SKILL_CLIENT",13),C=t("FARM_WORKER_SYNTHESIS_CLIENT",14),I=t("FARM_WORKER_DISMISSAL_CLIENT",15),F=t("FARM_INIT_DATA_CLIENT",20),S=t("FARM_LEVEL_UP_CLIENT",21),N=t("FARM_DAILY_AWARD_CLIENT",22),D=t("FARM_PLANT_REFRESH_LIST_CLIENT",25),g=t("FARM_PLANT_REFRESH_CLIENT",26),L=t("FARM_PLANT_HARVEST_CLIENT",27),E=t("FARM_PLANT_DELETE_CLIENT",28),v=t("FARM_PLANT_QUICK_HARVEST_CLIENT",29),T=t("FARM_MINING_HASHRATE",30),w=t("FARM_MINING_COIN_AMOUNT",31),A=t("FARM_MINING_GET_COIN",32),O=t("FARM_SKIN_LIST_CLIENT",35),b=t("FARM_SKIN_USE_CLIENT",36),M=t("FARM_SKIN_CHANGE",37),j=t("FARM_SKIN_CANCEL",38),W=t("FARM_SKIN_NEW",39),H=t("FARM_OBJECT_INIT_LIST_CLIENT",40),x=t("FARM_OBJECT_ADD_LIST_CLIENT",41),K=t("FARM_OBJECT_SET_CLIENT",42),X=t("FARM_OBJECT_PUSH_CLIENT",43),G=t("FARM_OBJECT_REMOVE_CLIENT",44),V=t("FARM_OBJECT_CHANGE_CLIENT",45),Q=t("FARM_OBJECT_REMOVE_ALL_CLIENT",48),J=t("FARM_EXPLORATION_DATA_CLIENT",60),Y=t("FARM_EXPLORATION_START_CLIENT",61),z=t("FARM_EXPLORATION_HARVEST_CLIENT",62),Z=t("FARM_EXPLORATION_SET_WORKER_CLIENT",63);!function(t){t[t.eFarmResource_Null=0]="eFarmResource_Null",t[t.eFarmResource_Mushroom=1]="eFarmResource_Mushroom",t[t.eFarmResource_ManaGel=2]="eFarmResource_ManaGel",t[t.eFarmResource_Ethereal=3]="eFarmResource_Ethereal",t[t.eFarmResource_Max=10]="eFarmResource_Max"}(s||(s=t("enumFarmResource",{}))),function(t){t[t.eFarmObject_Null=0]="eFarmObject_Null",t[t.eFarmObject_Land=1]="eFarmObject_Land",t[t.eFarmObject_Item=2]="eFarmObject_Item",t[t.eFarmObject_Building=3]="eFarmObject_Building"}(o||(o=t("enumFarmObject",{}))),function(t){t[t.eProfessionSkillType_Null=0]="eProfessionSkillType_Null",t[t.eProfessionSkillType_1=1]="eProfessionSkillType_1",t[t.eProfessionSkillType_2=2]="eProfessionSkillType_2",t[t.eProfessionSkillType_3=3]="eProfessionSkillType_3",t[t.eProfessionSkillType_4=4]="eProfessionSkillType_4",t[t.eProfessionSkillType_5=5]="eProfessionSkillType_5",t[t.eProfessionSkillType_Max=6]="eProfessionSkillType_Max"}(u||(u=t("eProfessionSkillType",{}))),function(t){t[t.eWorkerState_Null=0]="eWorkerState_Null",t[t.eWorkerState_1=1]="eWorkerState_1",t[t.eWorkerState_2=2]="eWorkerState_2",t[t.eWorkerState_3=3]="eWorkerState_3"}(f||(f=t("enumWorkerState",{})));var q=t("stFarmPos",function(){function t(){this.pos_X=0,this.pos_Y=0}var e=t.prototype;return e.PackData=function(t){t.writeInt16(this.pos_X),t.writeInt16(this.pos_Y)},e.UnPackData=function(t){this.pos_X=t.readInt16(),this.pos_Y=t.readInt16()},t}()),$=t("stFarmObject",function(){function t(t,e){this.objID=0,this.objType=o.eFarmObject_Null,this.objResID=0,this.objPos=new q,this.objID=t,this.objType=e}var e=t.prototype;return e.PackData=function(t){t.writeUint32(this.objResID),this.objPos.PackData(t)},e.UnPackData=function(t){this.objResID=t.readUint32(),this.objPos.UnPackData(t)},t}()),tt=t("stFarmObjLand",function(t){function r(){return t.apply(this,arguments)||this}e(r,t);var i=r.prototype;return i.PackData=function(e){t.prototype.PackData.call(this,e)},i.UnPackData=function(e){t.prototype.UnPackData.call(this,e)},r}($)),et=t("stFarmObjItem",function(t){function r(){return t.apply(this,arguments)||this}e(r,t);var i=r.prototype;return i.PackData=function(e){t.prototype.PackData.call(this,e)},i.UnPackData=function(e){t.prototype.UnPackData.call(this,e)},r}($)),rt=t("stFarmObjBuilding",function(t){function r(){for(var e,r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];return(e=t.call.apply(t,[this].concat(i))||this).buildingID=0,e.workCost="0",e.workOutput="0",e}e(r,t);var i=r.prototype;return i.PackData=function(e){t.prototype.PackData.call(this,e),e.writeUint32(this.buildingID),e.writeUint64(a.fromString(this.workCost)),e.writeUint64(a.fromString(this.workOutput))},i.UnPackData=function(e){t.prototype.UnPackData.call(this,e),this.buildingID=e.readUint32(),this.workCost=e.readUint64().toString(),this.workOutput=e.readUint64().toString()},r}($)),it=t("stFarmWorker",function(){function t(){this.workerID="",this.chainID="",this.tokenID="",this.roleID=0,this.roleQuality=0,this.roleLevel=0,this.roleWorkBuilding=0,this.roleState=0,this.professionSkillList=null}var e=t.prototype;return e.PackData=function(t){if(t.writeUint64(a.fromString(this.workerID)),t.writeUint64(a.fromString(this.chainID)),t.writeUint64(a.fromString(this.tokenID)),t.writeUint32(this.roleID),t.writeUint8(this.roleQuality),t.writeUint16(this.roleLevel),t.writeUint32(this.roleWorkBuilding),t.writeUint8(this.roleState),null!=this.professionSkillList)for(var e=0;e<this.professionSkillList.length;++e)t.writeUint16(this.professionSkillList[e])},e.UnPackData=function(t){this.workerID=t.readUint64().toString(),this.chainID=t.readUint64().toString(),this.tokenID=t.readUint64().toString(),this.roleID=t.readUint32(),this.roleQuality=t.readUint8(),this.roleLevel=t.readUint16(),this.roleWorkBuilding=t.readUint32(),this.roleState=t.readUint8(),this.professionSkillList=[];for(var e=0;e<u.eProfessionSkillType_Max;++e)this.professionSkillList.push(t.readUint16())},t}()),nt=t("stFarmExploration",function(){function t(){this.explorationID=0,this.startTime=0,this.finishTime=0,this.hashrateVal="",this.workerList=[]}var e=t.prototype;return e.PackData=function(t){t.writeUint32(this.explorationID),t.writeUint32(this.startTime),t.writeUint32(this.finishTime),t.writeUint64(a.fromString(this.hashrateVal));for(var e=0;e<i.MAX_FARM_EXPLORATION_NUM;e++)t.writeUint64(a.fromString(this.workerList[e]))},e.UnPackData=function(t){this.explorationID=t.readUint32(),this.startTime=t.readUint32(),this.finishTime=t.readUint32(),this.hashrateVal=t.readUint64().toString(),this.workerList=[];for(var e=0;e<i.MAX_FARM_EXPLORATION_NUM;e++)this.workerList.push(t.readUint64().toString())},t}());t("stFarmWorkerListClientCmd",function(t){function r(){var e;return(e=t.call(this)||this).maxNum=0,e.curNum=0,e.num=0,e.info=[],e.gsParam=c,e}return e(r,t),r.prototype.UnPack=function(e){t.prototype.UnPack.call(this,e),this.maxNum=this.mByteBuffer.readUint32(),this.curNum=this.mByteBuffer.readUint32(),this.num=this.mByteBuffer.readUint16();for(var r=0;r<this.num;r+=1)this.info[r]=new it,this.info[r].UnPackData(this.mByteBuffer);this.ReleaseByteBuffer()},r}(l)),t("stFarmNewWorkerClientCmd",function(t){function r(){var e;return(e=t.call(this)||this).info=null,e.gsParam=h,e}return e(r,t),r.prototype.UnPack=function(e){t.prototype.UnPack.call(this,e),this.info=new it,this.info.UnPackData(this.mByteBuffer),this.ReleaseByteBuffer()},r}(l)),t("stFarmRemoveWorkerClientCmd",function(t){function r(){var e;return(e=t.call(this)||this).workerID="",e.gsParam=m,e}return e(r,t),r.prototype.UnPack=function(e){t.prototype.UnPack.call(this,e),this.workerID=this.mByteBuffer.readUint64().toString(),this.ReleaseByteBuffer()},r}(l)),t("stFarmUpdateWorkerClientCmd",function(t){function r(){var e;return(e=t.call(this)||this).info=null,e.gsParam=p,e}return e(r,t),r.prototype.UnPack=function(e){t.prototype.UnPack.call(this,e),this.info=new it,this.info.UnPackData(this.mByteBuffer),this.ReleaseByteBuffer()},r}(l)),t("stFarmWorkerStartWorkClientCmd",function(t){function r(){var e;return(e=t.call(this)||this).workerID="",e.farmBuildingType=0,e.gsParam=k,e}return e(r,t),r.prototype.Pack=function(){t.prototype.Pack.call(this),this.mByteBuffer.writeUint64(a.fromString(this.workerID)),this.mByteBuffer.writeUint32(this.farmBuildingType)},r}(l)),t("stFarmWorkerStopWorkClientCmd",function(t){function r(){var e;return(e=t.call(this)||this).workerID="",e.gsParam=y,e}return e(r,t),r.prototype.Pack=function(){t.prototype.Pack.call(this),this.mByteBuffer.writeUint64(a.fromString(this.workerID))},r}(l)),t("stFarmWorkerLevelUpClientCmd",function(t){function r(){var e;return(e=t.call(this)||this).workerID="",e.costTokenType=0,e.num=0,e.costWorkerList=null,e.gsParam=B,e}return e(r,t),r.prototype.Pack=function(){if(t.prototype.Pack.call(this),this.mByteBuffer.writeUint64(a.fromString(this.workerID)),this.mByteBuffer.writeUint8(this.costTokenType),this.mByteBuffer.writeUint16(this.num),null!=this.costWorkerList)for(var e=0;e<this.num;e++)this.mByteBuffer.writeUint64(a.fromString(this.costWorkerList[e]))},r}(l)),t("stFarmWorkerChangeLevelClientCmd",function(t){function r(){var e;return(e=t.call(this)||this).workerID="",e.level=0,e.gsParam=P,e}return e(r,t),r.prototype.UnPack=function(e){t.prototype.UnPack.call(this,e),this.workerID=this.mByteBuffer.readUint64().toString(),this.level=this.mByteBuffer.readUint32(),this.ReleaseByteBuffer()},r}(l)),t("stFarmWorkerOpenProfessionSkillClientCmd",function(t){function r(){var e;return(e=t.call(this)||this).workerID="",e.gsParam=_,e}return e(r,t),r.prototype.Pack=function(){t.prototype.Pack.call(this),this.mByteBuffer.writeUint64(a.fromString(this.workerID))},r}(l)),t("stRefreshFarmResourceClientCmd",function(t){function r(){var e;return(e=t.call(this)||this).resourceList=[],e.gsParam=U,e}return e(r,t),r.prototype.UnPack=function(e){t.prototype.UnPack.call(this,e);for(var r=0;r<s.eFarmResource_Max;r+=1)this.resourceList.push(this.mByteBuffer.readUint64().toString());this.ReleaseByteBuffer()},r}(l)),t("stRefreshFarmWorkDataClientCmd",function(t){function r(){var e;return(e=t.call(this)||this).workerID="",e.workBuilding=0,e.buildingID=0,e.buildingWorkCost="",e.buildingWorkOutput="",e.gsParam=d,e}return e(r,t),r.prototype.UnPack=function(e){t.prototype.UnPack.call(this,e),this.workerID=this.mByteBuffer.readUint64().toString(),this.workBuilding=this.mByteBuffer.readUint32(),this.buildingID=this.mByteBuffer.readUint32(),this.buildingWorkCost=this.mByteBuffer.readUint64().toString(),this.buildingWorkOutput=this.mByteBuffer.readUint64().toString(),this.ReleaseByteBuffer()},r}(l)),t("stFarmWorkerRetrainingProfessionSkillClientCmd",function(t){function r(){var e;return(e=t.call(this)||this).workerID="",e.gsParam=R,e}return e(r,t),r.prototype.Pack=function(){t.prototype.Pack.call(this),this.mByteBuffer.writeUint64(a.fromString(this.workerID))},r}(l)),t("stFarmWorkerSynthesisClientCmd",function(t){function r(){var e;return(e=t.call(this)||this).worker0ID="",e.worker1ID="",e.gsParam=C,e}return e(r,t),r.prototype.Pack=function(){t.prototype.Pack.call(this),this.mByteBuffer.writeUint64(a.fromString(this.worker0ID)),this.mByteBuffer.writeUint64(a.fromString(this.worker1ID))},r}(l)),t("stFarmWorkerDismissalClientCmd",function(t){function r(){var e;return(e=t.call(this)||this).workerID="",e.gsParam=I,e}return e(r,t),r.prototype.Pack=function(){t.prototype.Pack.call(this),this.mByteBuffer.writeUint64(a.fromString(this.workerID))},r}(l)),t("stFarmInitDataClientCmd",function(t){function r(){var e;return(e=t.call(this)||this).farmLevel=0,e.farmDailyAward=0,e.farmPlantQuickHarvest=0,e.farmPlantCanQuickHarvest=0,e.maxWorkerNum=0,e.farmWorkerNum=0,e.invitationWorkerNum=0,e.gsParam=F,e}return e(r,t),r.prototype.UnPack=function(e){t.prototype.UnPack.call(this,e),this.farmLevel=this.mByteBuffer.readUint32(),this.farmDailyAward=this.mByteBuffer.readUint8(),this.farmPlantQuickHarvest=this.mByteBuffer.readUint8(),this.farmPlantCanQuickHarvest=this.mByteBuffer.readUint8(),this.maxWorkerNum=this.mByteBuffer.readUint32(),this.farmWorkerNum=this.mByteBuffer.readUint32(),this.invitationWorkerNum=this.mByteBuffer.readUint32(),this.ReleaseByteBuffer()},r}(l)),t("stFarmLevelUpClientCmd",function(t){function r(){var e;return(e=t.call(this)||this).farmLevel=0,e.gsParam=S,e}e(r,t);var i=r.prototype;return i.Pack=function(){t.prototype.Pack.call(this),this.mByteBuffer.writeUint32(this.farmLevel)},i.UnPack=function(e){t.prototype.UnPack.call(this,e),this.farmLevel=this.mByteBuffer.readUint32(),this.ReleaseByteBuffer()},r}(l)),t("stFarmDailyAwardClientCmd",function(t){function r(){var e;return(e=t.call(this)||this).gsParam=N,e}return e(r,t),r.prototype.Pack=function(){t.prototype.Pack.call(this)},r}(l)),t("stFarmPlantRefreshListClientCmd",function(t){function r(){var e;return(e=t.call(this)||this).num=0,e.list=[],e.gsParam=D,e}return e(r,t),r.prototype.UnPack=function(e){t.prototype.UnPack.call(this,e),this.num=this.mByteBuffer.readUint16(),this.list=[];for(var r=0;r<this.num;r+=1)this.list.push(this.mByteBuffer.readUint32());this.ReleaseByteBuffer()},r}(l)),t("stFarmPlantRefreshClientCmd",function(t){function r(){var e;return(e=t.call(this)||this).id=0,e.gsParam=g,e}return e(r,t),r.prototype.UnPack=function(e){t.prototype.UnPack.call(this,e),this.id=this.mByteBuffer.readUint32(),this.ReleaseByteBuffer()},r}(l)),t("stFarmPlantHarvestClientCmd",function(t){function r(){var e;return(e=t.call(this)||this).id=0,e.silverNum=0,e.gsParam=L,e}e(r,t);var i=r.prototype;return i.Pack=function(){t.prototype.Pack.call(this),this.mByteBuffer.writeUint32(this.id),this.mByteBuffer.writeUint32(this.silverNum)},i.UnPack=function(e){t.prototype.UnPack.call(this,e),this.id=this.mByteBuffer.readUint32(),this.silverNum=this.mByteBuffer.readUint32(),this.ReleaseByteBuffer()},r}(l)),t("stFarmPlantDeleteClientCmd",function(t){function r(){var e;return(e=t.call(this)||this).id=0,e.gsParam=E,e}return e(r,t),r.prototype.UnPack=function(e){t.prototype.UnPack.call(this,e),this.id=this.mByteBuffer.readUint32(),this.ReleaseByteBuffer()},r}(l)),t("stFarmPlantQuickHarvestClientCmd",function(t){function r(){var e;return(e=t.call(this)||this).silverNum=0,e.gsParam=v,e}e(r,t);var i=r.prototype;return i.Pack=function(){t.prototype.Pack.call(this),this.mByteBuffer.writeUint32(this.silverNum)},i.UnPack=function(e){t.prototype.UnPack.call(this,e),this.silverNum=this.mByteBuffer.readUint32(),this.ReleaseByteBuffer()},r}(l)),t("stFarmSkinListClientCmd",function(t){function r(){var e;return(e=t.call(this)||this).num=0,e.list=[],e.gsParam=O,e}return e(r,t),r.prototype.UnPack=function(e){t.prototype.UnPack.call(this,e),this.num=this.mByteBuffer.readUint16(),this.list=[];for(var r=0;r<this.num;r+=1)this.list.push(this.mByteBuffer.readUint32());this.ReleaseByteBuffer()},r}(l)),t("stFarmSkinUseClientCmd",function(t){function r(){var e;return(e=t.call(this)||this).buildingSkinID=0,e.landSkinID=0,e.gsParam=b,e}return e(r,t),r.prototype.UnPack=function(e){t.prototype.UnPack.call(this,e),this.buildingSkinID=this.mByteBuffer.readUint32(),this.landSkinID=this.mByteBuffer.readUint32(),this.ReleaseByteBuffer()},r}(l)),t("stFarmSkinChangeClientCmd",function(t){function r(){var e;return(e=t.call(this)||this).id=0,e.gsParam=M,e}return e(r,t),r.prototype.Pack=function(){t.prototype.Pack.call(this),this.mByteBuffer.writeUint32(this.id)},r}(l)),t("stFarmSkinCancelClientCmd",function(t){function r(){var e;return(e=t.call(this)||this).skinType=0,e.gsParam=j,e}return e(r,t),r.prototype.Pack=function(){t.prototype.Pack.call(this),this.mByteBuffer.writeUint32(this.skinType)},r}(l)),t("stFarmSkinNewClientCmd",function(t){function r(){var e;return(e=t.call(this)||this).skinID=0,e.gsParam=W,e}return e(r,t),r.prototype.UnPack=function(e){t.prototype.UnPack.call(this,e),this.skinID=this.mByteBuffer.readUint32(),this.ReleaseByteBuffer()},r}(l)),t("stFarmMiningHashrateClientCmd",function(t){function r(){var e;return(e=t.call(this)||this).totalHashrate="",e.baseHashrate="",e.farmLvPercent=0,e.invitationPercent=0,e.buildingSkinPercent=0,e.gsParam=T,e}return e(r,t),r.prototype.UnPack=function(e){t.prototype.UnPack.call(this,e),this.totalHashrate=this.mByteBuffer.readUint64().toString(),this.baseHashrate=this.mByteBuffer.readUint64().toString(),this.farmLvPercent=this.mByteBuffer.readUint32(),this.invitationPercent=this.mByteBuffer.readUint32(),this.buildingSkinPercent=this.mByteBuffer.readUint32(),this.ReleaseByteBuffer()},r}(l)),t("stFarmMiningCoinAmountClientCmd",function(t){function r(){var e;return(e=t.call(this)||this).amount="",e.gsParam=w,e}e(r,t);var i=r.prototype;return i.Pack=function(){t.prototype.Pack.call(this),this.mByteBuffer.writeUint64(a.fromString(this.amount))},i.UnPack=function(e){t.prototype.UnPack.call(this,e),this.amount=this.mByteBuffer.readUint64().toString(),this.ReleaseByteBuffer()},r}(l)),t("stFarmMiningGetCoinClientCmd",function(t){function r(){var e;return(e=t.call(this)||this).gsParam=A,e}return e(r,t),r.prototype.Pack=function(){t.prototype.Pack.call(this)},r}(l)),t("stFarmObjectInitListClientCmd",function(t){function r(){var e;return(e=t.call(this)||this).maxNum=0,e.curNum=0,e.objNum=0,e.objLen=0,e.objData=[],e.gsParam=H,e}return e(r,t),r.prototype.UnPack=function(e){t.prototype.UnPack.call(this,e),this.maxNum=this.mByteBuffer.readUint32(),this.curNum=this.mByteBuffer.readUint32(),this.objNum=this.mByteBuffer.readUint16(),this.objLen=this.mByteBuffer.readUint16(),this.objData=[];for(var r=0;r<this.objNum;r++){var i=this.mByteBuffer.readUint32(),n=this.mByteBuffer.readUint8(),a=null;(a=n===o.eFarmObject_Land?new tt(i,n):n===o.eFarmObject_Item?new et(i,n):n===o.eFarmObject_Building?new rt(i,n):new $(i,n)).UnPackData(this.mByteBuffer),this.objData.push(a)}this.ReleaseByteBuffer()},r}(l)),t("stFarmObjectAddListClientCmd",function(t){function r(){var e;return(e=t.call(this)||this).objNum=0,e.objLen=0,e.objData=[],e.gsParam=x,e}return e(r,t),r.prototype.UnPack=function(e){t.prototype.UnPack.call(this,e),this.objNum=this.mByteBuffer.readUint16(),this.objLen=this.mByteBuffer.readUint16(),this.objData=[];for(var r=0;r<this.objNum;r++){var i=this.mByteBuffer.readUint32(),n=this.mByteBuffer.readUint8(),a=null;(a=n===o.eFarmObject_Land?new tt(i,n):n===o.eFarmObject_Item?new et(i,n):n===o.eFarmObject_Building?new rt(i,n):new $(i,n)).UnPackData(this.mByteBuffer),this.objData.push(a)}this.ReleaseByteBuffer()},r}(l)),t("stFarmObjectSetClientCmd",function(t){function r(){var e;return(e=t.call(this)||this).objID=0,e.objPos=new q,e.gsParam=K,e}return e(r,t),r.prototype.UnPack=function(e){t.prototype.UnPack.call(this,e),this.objID=this.mByteBuffer.readUint32(),this.objPos.UnPackData(this.mByteBuffer),this.ReleaseByteBuffer()},r}(l)),t("stFarmObjectPushClientCmd",function(t){function r(){var e;return(e=t.call(this)||this).objID=0,e.itemID=0,e.objPos=new q,e.gsParam=X,e}return e(r,t),r.prototype.Pack=function(){t.prototype.Pack.call(this),this.mByteBuffer.writeUint32(this.objID),this.mByteBuffer.writeUint32(this.itemID),this.objPos.PackData(this.mByteBuffer)},r}(l)),t("stFarmObjectRemoveClientCmd",function(t){function r(){var e;return(e=t.call(this)||this).objID=0,e.gsParam=G,e}return e(r,t),r.prototype.Pack=function(){t.prototype.Pack.call(this),this.mByteBuffer.writeUint32(this.objID)},r}(l)),t("stFarmObjectChangeClientCmd",function(t){function r(){var e;return(e=t.call(this)||this).objID=0,e.objPos=new q,e.gsParam=V,e}return e(r,t),r.prototype.Pack=function(){t.prototype.Pack.call(this),this.mByteBuffer.writeUint32(this.objID),this.objPos.PackData(this.mByteBuffer)},r}(l)),t("stFarmObjectRemoveAllClientCmd",function(t){function r(){var e;return(e=t.call(this)||this).result=1,e.gsParam=Q,e}e(r,t);var i=r.prototype;return i.Pack=function(){t.prototype.Pack.call(this)},i.UnPack=function(e){t.prototype.UnPack.call(this,e),this.result=this.mByteBuffer.readUint8(),this.ReleaseByteBuffer()},r}(l)),t("stFarmExplorationDataClientCmd",function(t){function r(){var e;return(e=t.call(this)||this).explorationNum=0,e.explorationData=null,e.gsParam=J,e}return e(r,t),r.prototype.UnPack=function(e){t.prototype.UnPack.call(this,e),this.explorationNum=this.mByteBuffer.readUint8(),this.explorationData=new nt,this.explorationData.UnPackData(this.mByteBuffer),this.ReleaseByteBuffer()},r}(l)),t("stFarmExplorationStartClientCmd",function(t){function r(){var e;return(e=t.call(this)||this).result=0,e.gsParam=Y,e}e(r,t);var i=r.prototype;return i.Pack=function(){t.prototype.Pack.call(this),this.mByteBuffer.writeUint8(this.result)},i.UnPack=function(e){t.prototype.UnPack.call(this,e),this.result=this.mByteBuffer.readUint8(),this.ReleaseByteBuffer()},r}(l)),t("stFarmExplorationHarvestClientCmd",function(t){function r(){var e;return(e=t.call(this)||this).gsParam=z,e}return e(r,t),r.prototype.Pack=function(){t.prototype.Pack.call(this)},r}(l)),t("stFarmExplorationSetWorkerClientCmd",function(t){function r(){var e;return(e=t.call(this)||this).workerList=[],e.result=0,e.gsParam=Z,e}e(r,t);var n=r.prototype;return n.Pack=function(){t.prototype.Pack.call(this);for(var e=0;e<i.MAX_FARM_EXPLORATION_NUM;e++)e<this.workerList.length?this.mByteBuffer.writeUint64(a.fromString(this.workerList[e])):this.mByteBuffer.writeUint64(a.fromString("0"));this.mByteBuffer.writeUint8(this.result)},n.UnPack=function(e){t.prototype.UnPack.call(this,e),this.workerList=[];for(var r=0;r<i.MAX_FARM_EXPLORATION_NUM;r++)this.workerList.push(this.mByteBuffer.readUint64().toString());this.result=this.mByteBuffer.readUint8(),this.ReleaseByteBuffer()},r}(l));r._RF.pop()}}}));

System.register("chunks:///_virtual/farm.define.ts",["cc"],(function(t){"use strict";var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){var a,o,n;t({EFarmFoodProduceState:void 0,EFarmStoneProduceState:void 0,EFarmWoodProduceState:void 0}),e._RF.push({},"b8e08XDdstCfpHF/1fmBLFW","farm.define",void 0),function(t){t[t.None=0]="None",t[t.Empty=1]="Empty",t[t.Normal=2]="Normal",t[t.CanGet=3]="CanGet",t[t.Max=4]="Max"}(a||(a=t("EFarmWoodProduceState",{}))),function(t){t[t.None=0]="None",t[t.Empty=1]="Empty",t[t.Normal=2]="Normal",t[t.CanGet=3]="CanGet",t[t.Max=4]="Max"}(o||(o=t("EFarmStoneProduceState",{}))),function(t){t[t.None=0]="None",t[t.Empty=1]="Empty",t[t.Stage2=2]="Stage2",t[t.Stage3=3]="Stage3",t[t.Stage4=4]="Stage4",t[t.Stage5=5]="Stage5",t[t.CanGet=6]="CanGet",t[t.Max=7]="Max"}(n||(n=t("EFarmFoodProduceState",{}))),e._RF.pop()}}}));

System.register("chunks:///_virtual/farm.edit.scene.ts",["./rollupPluginModLoBabelHelpers.js","cc","./event.dispatcher.ts","./event.name.ts","./camera.system.ts","./base.scene.ts","./scene.define.ts","./sound.helper.ts","./path.finder.manager.ts","./resource.manager.ts","./farm.system.ts","./scene.node.manager.ts","./scene.farm.edit.config.component.ts","./api.game.map.data.ts","./enum.farm.state.ts","./farm.board.terrain.manager.ts","./farm.board.item.manager.ts","./farm.board.item.utility.ts"],(function(e){"use strict";var t,n,i,a,r,o,c,s,m,d,E,f,h,S,_,u,F,g,T,l,C,v,A,P;return{setters:[function(e){t=e.inheritsLoose,n=e.asyncToGenerator,i=e.regeneratorRuntime},function(e){a=e.cclegacy,r=e._decorator,o=e.v3,c=e.find,s=e.error},function(e){m=e.EventDispatcher},function(e){d=e.EventName},function(e){E=e.CameraSystem},function(e){f=e.BaseScene},function(e){h=e.ESceneType},function(e){S=e.SoundHelper},function(e){_=e.PathFinderManager},function(e){u=e.ResourceManager},function(e){F=e.FarmSystem},function(e){g=e.SceneNodeManager},function(e){T=e.SceneFarmEditConfigComponent},function(e){l=e.getEditMapData},function(e){C=e.EFarmState},function(e){v=e.FarmBoardTerrainManager},function(e){A=e.FarmBoardItemManager},function(e){P=e.FarmBoardItemUtility}],execute:function(){var p;a._RF.push({},"06527+pE05NLJYMls4r4RTR","farm.edit.scene",void 0);var M=r.ccclass;e("FarmEditScene",M("FarmEditScene")(p=function(e){function a(){var t;return(t=e.call(this)||this).mSceneRootNode=null,t.mSceneFarmEditConfig=null,t.mSceneType=h.FarmEdit,t}t(a,e);var r=a.prototype;return r.initScene=function(t){e.prototype.initScene.call(this,t),m.on(d.SCREEN_SIZE_CHANGED,this._onScreenSizeChanged,this),m.on(d.FARM_CHANGE_STATE_TO_TERRAIN_ADD,this._onEventEditFarmToTerrainAdd,this),m.on(d.FARM_CHANGE_STATE_TO_TERRAIN_EDITING,this._onEventEditFarmToTerrainEdit,this),m.on(d.FARM_CHANGE_STATE_TO_ITEM_ADD,this._onEventFarmToAdd,this),m.on(d.FARM_CHANGE_STATE_TO_ITEM_EDITING,this._onEventFarmToEdit,this)},r.finalizeScene=function(){m.off(d.SCREEN_SIZE_CHANGED,this._onScreenSizeChanged,this),m.off(d.FARM_CHANGE_STATE_TO_TERRAIN_ADD,this._onEventEditFarmToTerrainAdd,this),m.off(d.FARM_CHANGE_STATE_TO_TERRAIN_EDITING,this._onEventEditFarmToTerrainEdit,this),m.off(d.FARM_CHANGE_STATE_TO_ITEM_ADD,this._onEventFarmToAdd,this),m.off(d.FARM_CHANGE_STATE_TO_ITEM_EDITING,this._onEventFarmToEdit,this),m.emit(d.SCENE_EDIT_FARM_EXIT),m.emit(d.UI_GM_FARM_EDIT_CLOSE),m.emit(d.UI_BUILDING_EDIT_CLOSE),_.instance.clearAllNodeDatas(),v.instance.destroyBoard(),A.instance.destroyBoard(),F.instance.clearSysData(),S.StopMusic_BG()},r._onScreenSizeChanged=function(){null!==this.mSceneFarmEditConfig&&(v.instance.calculateValidTerrainRect(),this.mSceneFarmEditConfig.calculateFarmAllSize())},r._onEventEditFarmToTerrainAdd=function(){this._refreshSceneObjShow(C.TerrainAdd)},r._onEventEditFarmToTerrainEdit=function(){this._refreshSceneObjShow(C.TerrainEdit)},r._onEventFarmToAdd=function(){this._refreshSceneObjShow(C.ObjectAdd)},r._onEventFarmToEdit=function(){this._refreshSceneObjShow(C.ObjectEdit)},r._refreshSceneObjShow=function(e){switch(this.mSceneFarmEditConfig.terrainParent.active=!1,this.mSceneFarmEditConfig.terrainBorderParent.active=!1,this.mSceneFarmEditConfig.grassParent.active=!1,this.mSceneFarmEditConfig.gridShapeParent.active=!1,this.mSceneFarmEditConfig.groundParent.active=!1,this.mSceneFarmEditConfig.groundObjectParent.active=!1,this.mSceneFarmEditConfig.objectParent.active=!1,this.mSceneFarmEditConfig.addMaskParent.active=!1,e){case C.Normal:this.mSceneFarmEditConfig.terrainParent.active=!0,this.mSceneFarmEditConfig.terrainBorderParent.active=!0,this.mSceneFarmEditConfig.grassParent.active=!0,this.mSceneFarmEditConfig.groundParent.active=!0,this.mSceneFarmEditConfig.groundObjectParent.active=!0,this.mSceneFarmEditConfig.objectParent.active=!0;break;case C.ObjectAdd:this.mSceneFarmEditConfig.terrainParent.active=!0,this.mSceneFarmEditConfig.terrainBorderParent.active=!0,this.mSceneFarmEditConfig.grassParent.active=!0,this.mSceneFarmEditConfig.gridShapeParent.active=!0,this.mSceneFarmEditConfig.groundParent.active=!0,this.mSceneFarmEditConfig.groundObjectParent.active=!0,this.mSceneFarmEditConfig.objectParent.active=!0,this.mSceneFarmEditConfig.addMaskParent.active=!0;break;case C.ObjectEdit:this.mSceneFarmEditConfig.terrainParent.active=!0,this.mSceneFarmEditConfig.terrainBorderParent.active=!0,this.mSceneFarmEditConfig.grassParent.active=!0,this.mSceneFarmEditConfig.gridShapeParent.active=!0,this.mSceneFarmEditConfig.groundParent.active=!0,this.mSceneFarmEditConfig.groundObjectParent.active=!0,this.mSceneFarmEditConfig.objectParent.active=!0;break;case C.TerrainAdd:this.mSceneFarmEditConfig.terrainParent.active=!0,this.mSceneFarmEditConfig.gridShapeParent.active=!0,this.mSceneFarmEditConfig.addMaskParent.active=!0;break;case C.TerrainEdit:this.mSceneFarmEditConfig.terrainParent.active=!0,this.mSceneFarmEditConfig.gridShapeParent.active=!0}},r.doStarting=function(){var e=n(i().mark((function e(){var t,n,a,r,o,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.mSceneRootNode=c("sceneRoot"),null!==this.mSceneRootNode&&(this.mSceneFarmEditConfig=this.mSceneRootNode.getComponent(T)),g.instance.initNodeToFarmScene(null==(t=this.mSceneFarmEditConfig)?void 0:t.terrainParent,null==(n=this.mSceneFarmEditConfig)?void 0:n.terrainBorderParent,this.mSceneFarmEditConfig.grassParent,null==(a=this.mSceneFarmEditConfig)?void 0:a.groundParent,null==(r=this.mSceneFarmEditConfig)?void 0:r.groundObjectParent,null==(o=this.mSceneFarmEditConfig)?void 0:o.objectParent,null==(s=this.mSceneFarmEditConfig)?void 0:s.putParent),e.next=5,this.loadAllFarmData();case 5:v.instance.calculateValidTerrainRect(),this.mSceneFarmEditConfig.calculateFarmAllSize(),this._setCamPosToAllFarmCenter(),m.emit(d.SCENE_EDIT_FARM_ENTER),m.emit(d.UI_GM_FARM_EDIT_OPEN),m.emit(d.UI_MAP_LOADING_TO_NORMAL),S.PlayMusic_MainBG();case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),r._setCamPosToAllFarmCenter=function(){var e=v.instance.getValidFarmGridRect(),t=e.xMin+Math.floor((e.xMax-e.xMin)/2),n=e.yMin+Math.floor((e.yMax-e.yMin)/2),i=P.gridToWorldCenterPos(t,n);E.instance.setCamPosImmediate(o(i.x,i.y,0))},r.loadAllFarmData=function(){var e=n(i().mark((function e(){var t,n,a,r,o,c,E,f;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.instance.loadFarmConfig(this.mCurSceneID);case 3:return t=e.sent,n=t.json,F.instance.initAllData(!0),_.instance.loadFarmNodeData(n),A.instance.createBoard(n),v.instance.createBoard(n),e.next=11,l();case 11:if((a=e.sent).isHas){for(r=a.map.mapData,o=0;o<r.terrains.length;o+=1)c=r.terrains[o],F.instance.addFarmTerrain(c.id,c.x,c.y,0);for(E=0;E<r.items.length;E+=1)f=r.items[E],F.instance.addFarmObject(f.id,f.x,f.y,0)}v.instance.refreshAllGridBorders(),m.emit(d.FARM_CHANGE_STATE_TO_ITEM_EDITING),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(0),s(e.t0);case 20:case"end":return e.stop()}}),e,this,[[0,17]])})));return function(){return e.apply(this,arguments)}}(),a}(f))||p);a._RF.pop()}}}));

System.register("chunks:///_virtual/farm.fsm.ts",["./rollupPluginModLoBabelHelpers.js","cc","./enum.farm.state.ts","./farm.state.terrain.add.ts","./farm.state.normal.ts","./farm.state.object.add.ts","./farm.state.object.edit.ts","./farm.state.terrain.edit.ts"],(function(t){"use strict";var e,a,r,n,s,i,u,m,c,o;return{setters:[function(t){e=t.createClass,a=t.asyncToGenerator,r=t.regeneratorRuntime},function(t){n=t.cclegacy},function(t){s=t.EFarmState},function(t){i=t.FarmStateTerrainAdd},function(t){u=t.FarmStateNormal},function(t){m=t.FarmStateObjectAdd},function(t){c=t.FarmStateObjectEdit},function(t){o=t.FarmStateTerrainEdit}],execute:function(){n._RF.push({},"666f6H3KixCcorZwG6Vzf7e","farm.fsm",void 0);t("FarmStateFSM",function(){function t(){this.mAllStatesMap=new Map,this.mCurState=null}var n=t.prototype;return n.initStateFSM=function(t){var e=new u(t),a=new m(t),r=new c(t),n=new i(t),f=new o(t);this.mAllStatesMap.set(s.Normal,e),this.mAllStatesMap.set(s.ObjectAdd,a),this.mAllStatesMap.set(s.ObjectEdit,r),this.mAllStatesMap.set(s.TerrainAdd,n),this.mAllStatesMap.set(s.TerrainEdit,f)},n.isInState=function(t){return null!=this.mCurState&&this.mCurState.FarmState===t},n.fsmUpdate=function(t){null!==this.mCurState&&this.mCurState.onUpdate(t)},n.triggerState=function(){var t=a(r().mark((function t(e){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null==this.mCurState||this.CurrentState.FarmState===e){t.next=3;break}return t.next=3,this.mCurState.onExit();case 3:return this.mCurState=this.mAllStatesMap.get(e),t.next=6,this.mCurState.onEnter();case 6:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),e(t,[{key:"CurrentState",get:function(){return this.mCurState}}]),t}());n._RF.pop()}}}));

System.register("chunks:///_virtual/farm.object.factory.ts",["cc","./enum.farm.object.type.ts","./table.helper.ts","./guid.tool.ts","./object.farm.item.add.ts","./object.farm.terrain.ts","./object.farm.item.ts","./object.farm.terrain.add.ts","./object.farm.room.wood.ts","./object.farm.room.stone.ts","./object.farm.room.food.ts","./object.farm.produce.food.ts","./object.farm.produce.wood.ts","./object.farm.produce.stone.ts","./object.farm.tabe.tower.ts","./object.farm.grass.ts","./object.farm.ground.ts","./object.farm.terrain.edit.clone.ts","./object.farm.ip.show.ts","./object.farm.air.drop.ts"],(function(e){"use strict";var t,r,o,n,a,c,i,u,m,s,f,b,d,j,F,l,O,w,p,R,T,g;return{setters:[function(e){t=e.cclegacy,r=e._decorator,o=e.error},function(e){n=e.EFarmObjectType},function(e){a=e.TableHelper},function(e){c=e.GuidTool},function(e){i=e.ObjectFarmItemAdd},function(e){u=e.ObjectFarmTerrain},function(e){m=e.ObjectFarmItem},function(e){s=e.ObjectFarmTerrainAdd},function(e){f=e.ObjectFarmRoomWood},function(e){b=e.ObjectFarmRoomStone},function(e){d=e.ObjectFarmRoomFood},function(e){j=e.ObjectFarmProduceFood},function(e){F=e.ObjectFarmProduceWood},function(e){l=e.ObjectFarmProduceStone},function(e){O=e.ObjectFarmTabeTower},function(e){w=e.ObjectFarmGrass},function(e){p=e.ObjectFarmGround},function(e){R=e.ObjectFarmTerrainEditClone},function(e){T=e.ObjectFarmIpShow},function(e){g=e.ObjectFarmAirDrop}],execute:function(){var D;t._RF.push({},"72575VVl7NGw5WMHJlm8u8t","farm.object.factory",void 0);var v=r.ccclass;e("FarmObjectFactory",v("FarmObjectFactory")(D=function(){function e(){}return e.createItemAddObject=function(e){if(null==a.getFarmResRecord(e))return o("res not found: "+e),null;var t=new i;return t.TempID=c.getFarmUseGuid(),t.initObject(),t.initData(e),t},e.createTerrainAddObject=function(e){if(null==a.getFarmResRecord(e))return o("res not found: "+e),null;var t=new s;return t.TempID=c.getFarmUseGuid(),t.initObject(),t.initData(e),t},e.createTerrainEditCloneObject=function(e){if(null==a.getFarmResRecord(e))return o("res not found: "+e),null;var t=new R;return t.TempID=c.getFarmUseGuid(),t.initObject(),t.initData(e),t},e.createFarmObject=function(e,t){var r=a.getFarmResRecord(t);if(null==r)return o("res not found: "+t),null;var n=this.createFarmObjectClass(r.type);return n.TempID=0===e?c.getFarmUseGuid():e,n.initObject(),n.initData(t),n},e.createFarmTerrain=function(e,t){if(null==a.getFarmResRecord(t))return o("res not found: "+t),null;var r=new u;return r.TempID=0===e?c.getFarmUseGuid():e,r.initObject(),r.initData(t),r},e.createFarmGrass=function(e){if(null==a.getFarmResRecord(e))return o("res not found: "+e),null;var t=new w;return t.TempID=c.getFarmUseGuid(),t.initObject(),t.initData(e),t},e.createFarmObjectClass=function(e){var t=null;switch(e){case n.Common:t=new m;break;case n.WoodRoom:t=new f;break;case n.StoneRoom:t=new b;break;case n.FoodRoom:t=new d;break;case n.TabeTower:t=new O;break;case n.FoodProduce:t=new j;break;case n.WoodProduce:t=new F;break;case n.StoneProduce:t=new l;break;case n.IpShow:t=new T;break;case n.AirDrop:t=new g;break;case n.Ground:t=new p}return t},e}())||D);t._RF.pop()}}}));

System.register("chunks:///_virtual/farm.res.system.ts",["./rollupPluginModLoBabelHelpers.js","cc","./enum.farm.building.type.ts","./enum.farm.coin.res.ts","./table.helper.ts","./model.charge.manager.ts","./model.farm.manager.ts","./model.mainrole.manager.ts","./base.system.ts","./scene.system.ts"],(function(e){"use strict";var t,n,a,i,s,r,l,o,u,c,g,m;return{setters:[function(e){t=e.inheritsLoose,n=e.createClass},function(e){a=e.cclegacy,i=e._decorator},function(e){s=e.EFarmBuildingType},function(e){r=e.EFarmCoinRes},function(e){l=e.TableHelper},function(e){o=e.ModelChargeManager},function(e){u=e.ModelFarmManager},function(e){c=e.ModelMainRoleManager},function(e){g=e.BaseSystem},function(e){m=e.SceneSystem}],execute:function(){var y,h;a._RF.push({},"cc604LL+r9CcrhHLH+Cxfzj","farm.res.system",void 0);var p=i.ccclass;e("FarmResSystem",p("FarmResSystem")(((h=function(e){function a(){for(var t,n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(t=e.call.apply(e,[this].concat(a))||this).mDeltaTime=0,t.mTotalTime=1,t}t(a,e);var i=a.prototype;return i.sysInitial=function(){e.prototype.sysInitial.call(this)},i.sysFinalize=function(){e.prototype.sysFinalize.call(this)},i.sysUpdate=function(t){e.prototype.sysUpdate.call(this,t),m.instance.IsInLoginScene||(this.mDeltaTime>=this.mTotalTime&&(this.mDeltaTime=0,this.calculateMushroomResValue(),this.calculateManaGelResValue(),this.calculateEtherealResValue()),this.mDeltaTime+=t)},i.calculateMushroomResValue=function(){var e=u.instance.getResValueByType_Str(r.Res_Mushroom),t=BigInt(e),n=0n,a=u.instance.getBuildingByType(s.Mushroom);null!=a&&(n=BigInt(a.workOutput)*BigInt(this.getPrivilegeAddition(s.Mushroom))/100n);var i=0n,l=u.instance.getBuildingByType(s.ManaGel);null!=l&&(i=BigInt(l.workCost));var o=0n,c=u.instance.getBuildingByType(s.Ethereal);null!=c&&(o=BigInt(c.workCost));var g=t+n-i-o;g<0&&(g=0n),t!==g&&u.instance.setResValueByType_Str(r.Res_Mushroom,g.toString())},i.calculateManaGelResValue=function(){var e=u.instance.getResValueByType_Str(r.Res_Mushroom),t=BigInt(e),n=u.instance.getResValueByType_Str(r.Res_ManaGel),a=BigInt(n),i=0n;if(t>0n){var l=u.instance.getBuildingByType(s.ManaGel);null!=l&&(i=BigInt(l.workOutput)*BigInt(this.getPrivilegeAddition(s.ManaGel))/100n)}var o=a+i;o<0&&(o=0n),a!==o&&u.instance.setResValueByType_Str(r.Res_ManaGel,o.toString())},i.calculateEtherealResValue=function(){var e=u.instance.getResValueByType_Str(r.Res_Mushroom),t=BigInt(e),n=u.instance.getResValueByType_Str(r.Res_Ethereal),a=BigInt(n),i=0n;if(t>0n){var l=u.instance.getBuildingByType(s.Ethereal);null!=l&&(i=BigInt(l.workOutput)*BigInt(this.getPrivilegeAddition(s.Ethereal))/100n)}var o=a+i;o<0&&(o=0n),a!==o&&u.instance.setResValueByType_Str(r.Res_Ethereal,o.toString())},i.getPrivilegeAddition=function(e){var t=100,n=0;if(e===s.Mushroom?n=1:e===s.ManaGel?n=2:e===s.Ethereal&&(n=3),0===n)return t;var a=0,i=c.instance.InvitationData;if(i){var r=l.getInvitation(i.invitation_level);if(r)for(var u=r.privilege.split(";"),g=0;g<u.length;g++){var m=u[g].split("-");2===m.length&&Number.parseInt(m[0])===n&&(a=Number.parseInt(m[1]))}}for(var y=0,h=o.instance.getAllMonthlyCardList(),p=0;p<h.length;p++){var f=l.getMonthlyCard(h[p].id);if(f)for(var v=f.privilege.split(";"),B=0;B<v.length;B++){var d=v[B].split("-");2===d.length&&Number.parseInt(d[0])===n&&(y+=Number.parseInt(d[1]))}}return t+=a+y},n(a,null,[{key:"instance",get:function(){return null==this._instance&&(this._instance=new a),this._instance}}]),a}(g))._instance=null,y=h))||y);a._RF.pop()}}}));

System.register("chunks:///_virtual/farm.scene.ts",["./rollupPluginModLoBabelHelpers.js","cc","./event.dispatcher.ts","./event.name.ts","./camera.system.ts","./base.scene.ts","./scene.define.ts","./sound.helper.ts","./path.finder.manager.ts","./resource.manager.ts","./farm.system.ts","./scene.farm.config.component.ts","./scene.node.manager.ts","./enum.farm.state.ts","./farm.board.terrain.manager.ts","./farm.board.item.manager.ts","./farm.board.item.utility.ts","./model.farm.manager.ts","./guid.tool.ts","./farm.client.protocol.ts","./api.game.map.data.ts","./game.state.manager.ts","./wizard.wallet.sdk.ts"],(function(e){"use strict";var n,t,a,r,i,o,s,c,m,d,f,h,u,S,l,_,F,g,T,E,C,v,b,A,P,p,j,N;return{setters:[function(e){n=e.inheritsLoose,t=e.asyncToGenerator,a=e.regeneratorRuntime},function(e){r=e.cclegacy,i=e._decorator,o=e.v3,s=e.error,c=e.find},function(e){m=e.EventDispatcher},function(e){d=e.EventName},function(e){f=e.CameraSystem},function(e){h=e.BaseScene},function(e){u=e.ESceneType},function(e){S=e.SoundHelper},function(e){l=e.PathFinderManager},function(e){_=e.ResourceManager},function(e){F=e.FarmSystem},function(e){g=e.SceneFarmConfigComponent},function(e){T=e.SceneNodeManager},function(e){E=e.EFarmState},function(e){C=e.FarmBoardTerrainManager},function(e){v=e.FarmBoardItemManager},function(e){b=e.FarmBoardItemUtility},function(e){A=e.ModelFarmManager},function(e){P=e.GuidTool},function(e){p=e.enumFarmObject},null,function(e){j=e.GameStateManager},function(e){N=e.WizardWalletSDK}],execute:function(){var I;r._RF.push({},"31d0d8MQ+FBtqZhi1B1ax9G","farm.scene",void 0);var M=i.ccclass;e("FarmScene",M("FarmScene")(I=function(e){function r(){var n;return(n=e.call(this)||this).mSceneRootNode=null,n.mSceneFarmConfig=null,n.mSceneType=u.Farm,n}n(r,e);var i=r.prototype;return i.initScene=function(n){e.prototype.initScene.call(this,n),m.on(d.SCREEN_SIZE_CHANGED,this._onScreenSizeChanged,this),m.on(d.FARM_CHANGE_STATE_TO_NORMAL,this._onEventFarmToNormal,this),m.on(d.FARM_CHANGE_STATE_TO_TERRAIN_ADD,this._onEventEditFarmToTerrainAdd,this),m.on(d.FARM_CHANGE_STATE_TO_TERRAIN_EDITING,this._onEventEditFarmToTerrainEdit,this),m.on(d.FARM_CHANGE_STATE_TO_ITEM_ADD,this._onEventFarmToAdd,this),m.on(d.FARM_CHANGE_STATE_TO_ITEM_EDITING,this._onEventFarmToEdit,this)},i.finalizeScene=function(){m.off(d.SCREEN_SIZE_CHANGED,this._onScreenSizeChanged,this),m.off(d.FARM_CHANGE_STATE_TO_NORMAL,this._onEventFarmToNormal,this),m.off(d.FARM_CHANGE_STATE_TO_TERRAIN_ADD,this._onEventEditFarmToTerrainAdd,this),m.off(d.FARM_CHANGE_STATE_TO_TERRAIN_EDITING,this._onEventEditFarmToTerrainEdit,this),m.off(d.FARM_CHANGE_STATE_TO_ITEM_ADD,this._onEventFarmToAdd,this),m.off(d.FARM_CHANGE_STATE_TO_ITEM_EDITING,this._onEventFarmToEdit,this),m.emit(d.SCENE_FARM_EXIT),m.emit(d.UI_MAIN_ALL_CLOSE),l.instance.clearAllNodeDatas(),C.instance.destroyBoard(),v.instance.destroyBoard(),F.instance.clearSysData(),S.StopMusic_BG()},i._onScreenSizeChanged=function(){null!==this.mSceneFarmConfig&&(C.instance.calculateValidTerrainRect(),this.mSceneFarmConfig.calculateFarmAllSize())},i._onEventFarmToNormal=function(){this._refreshSceneObjShow(E.Normal)},i._onEventEditFarmToTerrainAdd=function(){this._refreshSceneObjShow(E.TerrainAdd)},i._onEventEditFarmToTerrainEdit=function(){this._refreshSceneObjShow(E.TerrainEdit)},i._onEventFarmToAdd=function(){this._refreshSceneObjShow(E.ObjectAdd)},i._onEventFarmToEdit=function(){this._refreshSceneObjShow(E.ObjectEdit)},i._refreshSceneObjShow=function(e){switch(this.mSceneFarmConfig.terrainParent.active=!1,this.mSceneFarmConfig.terrainBorderParent.active=!1,this.mSceneFarmConfig.grassParent.active=!1,this.mSceneFarmConfig.gridShapeParent.active=!1,this.mSceneFarmConfig.groundParent.active=!1,this.mSceneFarmConfig.groundObjectParent.active=!1,this.mSceneFarmConfig.objectParent.active=!1,this.mSceneFarmConfig.addMaskParent.active=!1,e){case E.Normal:this.mSceneFarmConfig.terrainParent.active=!0,this.mSceneFarmConfig.terrainBorderParent.active=!0,this.mSceneFarmConfig.grassParent.active=!0,this.mSceneFarmConfig.groundParent.active=!0,this.mSceneFarmConfig.groundObjectParent.active=!0,this.mSceneFarmConfig.objectParent.active=!0;break;case E.ObjectAdd:this.mSceneFarmConfig.terrainParent.active=!0,this.mSceneFarmConfig.terrainBorderParent.active=!0,this.mSceneFarmConfig.grassParent.active=!0,this.mSceneFarmConfig.gridShapeParent.active=!0,this.mSceneFarmConfig.groundParent.active=!0,this.mSceneFarmConfig.groundObjectParent.active=!0,this.mSceneFarmConfig.objectParent.active=!0,this.mSceneFarmConfig.addMaskParent.active=!0;break;case E.ObjectEdit:this.mSceneFarmConfig.terrainParent.active=!0,this.mSceneFarmConfig.terrainBorderParent.active=!0,this.mSceneFarmConfig.grassParent.active=!0,this.mSceneFarmConfig.gridShapeParent.active=!0,this.mSceneFarmConfig.groundParent.active=!0,this.mSceneFarmConfig.groundObjectParent.active=!0,this.mSceneFarmConfig.objectParent.active=!0;break;case E.TerrainAdd:this.mSceneFarmConfig.terrainBorderParent.active=!0,this.mSceneFarmConfig.terrainParent.active=!0,this.mSceneFarmConfig.gridShapeParent.active=!0,this.mSceneFarmConfig.addMaskParent.active=!0;break;case E.TerrainEdit:this.mSceneFarmConfig.terrainBorderParent.active=!0,this.mSceneFarmConfig.terrainParent.active=!0,this.mSceneFarmConfig.gridShapeParent.active=!0}},i.doStarting=function(){var e=t(a().mark((function e(){var n,t,r,i,o,s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.mSceneRootNode=c("sceneRoot"),null!==this.mSceneRootNode&&(this.mSceneFarmConfig=this.mSceneRootNode.getComponent(g)),T.instance.initNodeToFarmScene(null==(n=this.mSceneFarmConfig)?void 0:n.terrainParent,null==(t=this.mSceneFarmConfig)?void 0:t.terrainBorderParent,this.mSceneFarmConfig.grassParent,null==(r=this.mSceneFarmConfig)?void 0:r.groundParent,null==(i=this.mSceneFarmConfig)?void 0:i.groundObjectParent,null==(o=this.mSceneFarmConfig)?void 0:o.objectParent,null==(s=this.mSceneFarmConfig)?void 0:s.putParent),e.next=5,this.loadAllFarmData();case 5:this.mSceneFarmConfig.calculateFarmAllSize(),this._setCamPosToAllFarmCenter(),m.emit(d.SCENE_FARM_ENTER),m.emit(d.UI_MAIN_ALL_OPEN),this.sendLoadMapOkToServer(),S.PlayMusic_MainBG(),m.emit(d.UI_MAP_LOADING_TO_NORMAL),N.refreshWalletStatus(),j.instance.IsInReconnecting&&m.emit(d.GAME_AUTO_RECONNECT_FINISH);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),i._setCamPosToAllFarmCenter=function(){var e=C.instance.getValidFarmGridRect(),n=e.xMin+Math.floor((e.xMax-e.xMin)/2),t=e.yMin+Math.floor((e.yMax-e.yMin)/2),a=b.gridToWorldCenterPos(n,t);f.instance.setCamPosImmediate(o(a.x,a.y,0))},i.loadAllFarmData=function(){var e=t(a().mark((function e(){var n,t,r,i,o,c,m,d,f,h,u,S,g,T,E,b,j,N,I;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_.instance.loadFarmConfig(this.mCurSceneID);case 3:n=e.sent,t=n.json,F.instance.initAllData(!1),l.instance.loadFarmNodeData(t),v.instance.createBoard(t),C.instance.createBoard(t),r=0,i=[],o=A.instance.FarmLandList,c=0;case 13:if(!(c<o.length)){e.next=29;break}if((m=o[c]).objType===p.eFarmObject_Land){e.next=17;break}return e.abrupt("continue",26);case 17:if(-1!==m.objPos.pos_X||-1!==m.objPos.pos_Y){e.next=20;break}return i.push(m),e.abrupt("continue",26);case 20:if(null!==C.instance.getGrid(m.objPos.pos_X,m.objPos.pos_Y)){e.next=24;break}return i.push(m),e.abrupt("continue",26);case 24:m.objID>r&&(r=m.objID),F.instance.addFarmTerrain(m.objResID,m.objPos.pos_X,m.objPos.pos_Y,m.objID);case 26:c+=1,e.next=13;break;case 29:for(i.forEach((function(e){e.objID>r&&(r=e.objID);var n=C.instance.calculateNewTerrainUseGrid();-1!==n.boardX&&-1!==n.boardY&&F.instance.addFarmTerrain(e.objResID,n.boardX,n.boardY,e.objID).sendChangePosCmd()})),d=A.instance.FarmBuildingList,f=0;f<d.length;f+=1)(h=d[f]).objID>r&&(r=h.objID),F.instance.addFarmObject(h.objResID,h.objPos.pos_X,h.objPos.pos_Y,h.objID);for(u=A.instance.FarmItemList,S=0;S<u.length;S+=1)(g=u[S]).objID>r&&(r=g.objID),F.instance.addFarmObject(g.objResID,g.objPos.pos_X,g.objPos.pos_Y,g.objID);return P.resetFarmUseGuid(r),C.instance.refreshAllGridBorders(),C.instance.calculateValidTerrainRect(),e.abrupt("return");case 40:if((T=e.sent).isHas){for(E=T.map.mapData,b=0;b<E.terrains.length;b+=1)j=E.terrains[b],F.instance.addFarmTerrain(j.id,j.x,j.y,0);for(N=0;N<E.items.length;N+=1)I=E.items[N],F.instance.addFarmObject(I.id,I.x,I.y,0)}C.instance.refreshAllGridBorders(),C.instance.calculateValidTerrainRect(),e.next=49;break;case 46:e.prev=46,e.t0=e.catch(0),s(e.t0);case 49:case"end":return e.stop()}}),e,this,[[0,46]])})));return function(){return e.apply(this,arguments)}}(),i._getSavedGrassData=function(){try{var e=[],n=F.instance.getSaveGrassClientData();return n?""===n?e:JSON.parse(n):e}catch(e){return s(e),[]}},r}(h))||I);r._RF.pop()}}}));

System.register("chunks:///_virtual/farm.state.base.ts",["./rollupPluginModLoBabelHelpers.js","cc","./enum.farm.state.ts"],(function(t){"use strict";var e,r,n,a,c,s;return{setters:[function(t){e=t.createClass,r=t.asyncToGenerator,n=t.regeneratorRuntime},function(t){a=t.cclegacy,c=t._decorator},function(t){s=t.EFarmState}],execute:function(){var u;a._RF.push({},"4bce2+eOw9AFbTtBsVxSRjf","farm.state.base",void 0);var o=c.ccclass;t("FarmStateBase",o("FarmStateBase")(u=function(){function t(t){this.mFarmState=s.None,this.mFarmInterface=null,this.mFarmInterface=t}var a=t.prototype;return a.onEnter=function(){var t=r(n().mark((function t(){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),a.onExit=function(){var t=r(n().mark((function t(){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),a.onUpdate=function(t){},e(t,[{key:"FarmState",get:function(){return this.mFarmState}}]),t}())||u);a._RF.pop()}}}));

System.register("chunks:///_virtual/farm.state.interface.ts",["cc"],(function(){"use strict";var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"0ffd5jnAIhNmLbEmwrsgh0P","farm.state.interface",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/farm.state.normal.ts",["./rollupPluginModLoBabelHelpers.js","cc","./farm.state.base.ts","./enum.farm.state.ts"],(function(t){"use strict";var r,e,a,n,s,c,o;return{setters:[function(t){r=t.inheritsLoose,e=t.asyncToGenerator,a=t.regeneratorRuntime},function(t){n=t.cclegacy,s=t._decorator},function(t){c=t.FarmStateBase},function(t){o=t.EFarmState}],execute:function(){var i;n._RF.push({},"d0e7eS3Za5Gp7quAJ/3pTce","farm.state.normal",void 0);var m=s.ccclass;t("FarmStateNormal",m("FarmStateNormal")(i=function(t){function n(r){var e;return(e=t.call(this,r)||this).mFarmState=o.Normal,e}r(n,t);var s=n.prototype;return s.onEnter=function(){var t=e(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null==this.mFarmInterface||!this.mFarmInterface.stateNormalOnEnter){t.next=3;break}return t.next=3,this.mFarmInterface.stateNormalOnEnter();case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),s.onExit=function(){var t=e(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null==this.mFarmInterface||!this.mFarmInterface.stateNormalOnExit){t.next=3;break}return t.next=3,this.mFarmInterface.stateNormalOnExit();case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),s.onUpdate=function(t){null!=this.mFarmInterface&&this.mFarmInterface.stateNormalOnUpdate&&this.mFarmInterface.stateNormalOnUpdate(t)},n}(c))||i);n._RF.pop()}}}));

System.register("chunks:///_virtual/farm.state.object.add.ts",["./rollupPluginModLoBabelHelpers.js","cc","./farm.state.base.ts","./enum.farm.state.ts"],(function(t){"use strict";var e,r,n,a,c,s,i;return{setters:[function(t){e=t.inheritsLoose,r=t.asyncToGenerator,n=t.regeneratorRuntime},function(t){a=t.cclegacy,c=t._decorator},function(t){s=t.FarmStateBase},function(t){i=t.EFarmState}],execute:function(){var u;a._RF.push({},"83eb4we6yZMEJZ1u82a7u4T","farm.state.object.add",void 0);var o=c.ccclass;t("FarmStateObjectAdd",o("FarmStateObjectAdd")(u=function(t){function a(e){var r;return(r=t.call(this,e)||this).mFarmState=i.ObjectAdd,r}e(a,t);var c=a.prototype;return c.onEnter=function(){var t=r(n().mark((function t(){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null==this.mFarmInterface||!this.mFarmInterface.stateObjectAddOnEnter){t.next=3;break}return t.next=3,this.mFarmInterface.stateObjectAddOnEnter();case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),c.onExit=function(){var t=r(n().mark((function t(){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null==this.mFarmInterface||!this.mFarmInterface.stateObjectAddOnExit){t.next=3;break}return t.next=3,this.mFarmInterface.stateObjectAddOnExit();case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),c.onUpdate=function(t){null!=this.mFarmInterface&&this.mFarmInterface.stateObjectAddOnUpdate&&this.mFarmInterface.stateObjectAddOnUpdate(t)},a}(s))||u);a._RF.pop()}}}));

System.register("chunks:///_virtual/farm.state.object.edit.ts",["./rollupPluginModLoBabelHelpers.js","cc","./farm.state.base.ts","./enum.farm.state.ts"],(function(t){"use strict";var e,r,n,a,c,i,s;return{setters:[function(t){e=t.inheritsLoose,r=t.asyncToGenerator,n=t.regeneratorRuntime},function(t){a=t.cclegacy,c=t._decorator},function(t){i=t.FarmStateBase},function(t){s=t.EFarmState}],execute:function(){var u;a._RF.push({},"50374ZzRvBDPr4L31ol4W23","farm.state.object.edit",void 0);var o=c.ccclass;t("FarmStateObjectEdit",o("FarmStateObjectEdit")(u=function(t){function a(e){var r;return(r=t.call(this,e)||this).mFarmState=s.ObjectEdit,r}e(a,t);var c=a.prototype;return c.onEnter=function(){var t=r(n().mark((function t(){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null==this.mFarmInterface||!this.mFarmInterface.stateObjectEditOnEnter){t.next=3;break}return t.next=3,this.mFarmInterface.stateObjectEditOnEnter();case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),c.onExit=function(){var t=r(n().mark((function t(){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null==this.mFarmInterface||!this.mFarmInterface.stateObjectEditOnExit){t.next=3;break}return t.next=3,this.mFarmInterface.stateObjectEditOnExit();case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),c.onUpdate=function(t){null!=this.mFarmInterface&&this.mFarmInterface.stateObjectEditOnUpdate&&this.mFarmInterface.stateObjectEditOnUpdate(t)},a}(i))||u);a._RF.pop()}}}));

System.register("chunks:///_virtual/farm.state.terrain.add.ts",["./rollupPluginModLoBabelHelpers.js","cc","./farm.state.base.ts","./enum.farm.state.ts"],(function(t){"use strict";var r,e,n,a,i,s,c;return{setters:[function(t){r=t.inheritsLoose,e=t.asyncToGenerator,n=t.regeneratorRuntime},function(t){a=t.cclegacy,i=t._decorator},function(t){s=t.FarmStateBase},function(t){c=t.EFarmState}],execute:function(){var u;a._RF.push({},"1170fZTBtNBkZ4H2Y8GbidK","farm.state.terrain.add",void 0);var o=i.ccclass;t("FarmStateTerrainAdd",o("FarmStateTerrainAdd")(u=function(t){function a(r){var e;return(e=t.call(this,r)||this).mFarmState=c.TerrainAdd,e}r(a,t);var i=a.prototype;return i.onEnter=function(){var t=e(n().mark((function t(){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null==this.mFarmInterface||!this.mFarmInterface.stateTerrainAddOnEnter){t.next=3;break}return t.next=3,this.mFarmInterface.stateTerrainAddOnEnter();case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),i.onExit=function(){var t=e(n().mark((function t(){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null==this.mFarmInterface||!this.mFarmInterface.stateTerrainAddOnExit){t.next=3;break}return t.next=3,this.mFarmInterface.stateTerrainAddOnExit();case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),i.onUpdate=function(t){null!=this.mFarmInterface&&this.mFarmInterface.stateTerrainAddOnUpdate&&this.mFarmInterface.stateTerrainAddOnUpdate(t)},a}(s))||u);a._RF.pop()}}}));

System.register("chunks:///_virtual/farm.state.terrain.edit.ts",["./rollupPluginModLoBabelHelpers.js","cc","./farm.state.base.ts","./enum.farm.state.ts"],(function(t){"use strict";var r,e,n,a,i,s,c;return{setters:[function(t){r=t.inheritsLoose,e=t.asyncToGenerator,n=t.regeneratorRuntime},function(t){a=t.cclegacy,i=t._decorator},function(t){s=t.FarmStateBase},function(t){c=t.EFarmState}],execute:function(){var u;a._RF.push({},"3c40eHaBW5DN5BOlIVJsiSJ","farm.state.terrain.edit",void 0);var o=i.ccclass;t("FarmStateTerrainEdit",o("FarmStateTerrainEdit")(u=function(t){function a(r){var e;return(e=t.call(this,r)||this).mFarmState=c.TerrainEdit,e}r(a,t);var i=a.prototype;return i.onEnter=function(){var t=e(n().mark((function t(){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null==this.mFarmInterface||!this.mFarmInterface.stateTerrainEditOnEnter){t.next=3;break}return t.next=3,this.mFarmInterface.stateTerrainEditOnEnter();case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),i.onExit=function(){var t=e(n().mark((function t(){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null==this.mFarmInterface||!this.mFarmInterface.stateTerrainEditOnExit){t.next=3;break}return t.next=3,this.mFarmInterface.stateTerrainEditOnExit();case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),i.onUpdate=function(t){null!=this.mFarmInterface&&this.mFarmInterface.stateTerrainEditOnUpdate&&this.mFarmInterface.stateTerrainEditOnUpdate(t)},a}(s))||u);a._RF.pop()}}}));

System.register("chunks:///_virtual/farm.system.ts",["./rollupPluginModLoBabelHelpers.js","cc","./base.system.ts","./farm.object.factory.ts","./farm.fsm.ts","./event.dispatcher.ts","./event.name.ts","./enum.farm.state.ts","./enum.farm.object.type.ts","./camera.system.ts","./api.game.map.data.ts","./model.mainrole.manager.ts","./ui.float.text.controller.ts","./all.define.ts","./engine.farm.item.component.ts","./common.tool.ts","./farm.board.pos.ts","./farm.board.item.manager.ts","./farm.board.item.utility.ts","./farm.board.terrain.manager.ts","./farm.board.terrain.utility.ts","./farm.board.define.ts","./new.guide.manager.ts","./enum.farm.coin.res.ts","./model.charge.define.ts"],(function(t){"use strict";var r,e,a,i,n,s,o,d,m,u,c,h,l,f,T,F,E,b,C,g,S,A,I,p,O,_,v,D,j,M,G,P,y,R;return{setters:[function(t){r=t.inheritsLoose,e=t.createClass,a=t.asyncToGenerator,i=t.regeneratorRuntime},function(t){n=t.cclegacy,s=t._decorator,o=t.PhysicsSystem2D,d=t.v2,m=t.sys,u=t.error},function(t){c=t.BaseSystem},function(t){h=t.FarmObjectFactory},function(t){l=t.FarmStateFSM},function(t){f=t.EventDispatcher},function(t){T=t.EventName},function(t){F=t.EFarmState},function(t){E=t.EFarmObjectType},function(t){b=t.CameraSystem},function(t){C=t.setEditMapData,g=t.setMapData},function(t){S=t.ModelMainRoleManager},function(t){A=t.UIFloatTextController},function(t){I=t.EColliderGroup},function(t){p=t.EngineFarmItemComponent},function(t){O=t.CommonTool},function(t){_=t.FarmBoardPos},function(t){v=t.FarmBoardItemManager},function(t){D=t.FarmBoardItemUtility},function(t){j=t.FarmBoardTerrainManager},function(t){M=t.FarmBoardTerrainUtility},function(t){G=t.DEFAULT_TERRAIN_ID},function(t){P=t.NewGuideManager},function(t){y=t.EFarmCoinRes},function(t){R=t.EMonthlyCardType}],execute:function(){var N,L;n._RF.push({},"84124q7aOlHqaarw1Jns2pC","farm.system",void 0);var w=s.ccclass;t("FarmSystem",w("FarmSystem")(((L=function(t){function n(){for(var r,e=arguments.length,a=new Array(e),i=0;i<e;i++)a[i]=arguments[i];return(r=t.call.apply(t,[this].concat(a))||this).mIsInSelfEditMode=!1,r.mFarmFSM=null,r.mCurInteractiveFarmItem=null,r.mStartFarmGrid=null,r.mCurEditObj=null,r.mToAddObjId=0,r.mCurAddObj=null,r.mCurEditTerrain=null,r.mCurEditTerrainClone=null,r.mToAddTerrainId=11,r.mCurAddTerrain=null,r.mFarmObjectMap=new Map,r.mToDelFarmObjectList=new Array,r.mFarmTerrainMap=new Map,r.mToDelFarmTerrainList=new Array,r.mFarmGrassMap=new Map,r.mToDelFarmGrassList=new Array,r.roomFood=null,r.roomWood=null,r.roomStone=null,r.tabeTower=null,r.mFoodProduceSet=new Set,r.mWoodProduceSet=new Set,r.mStoneProduceSet=new Set,r.mAirDropSet=new Set,r}r(n,t);var s=n.prototype;return s.sysInitial=function(){t.prototype.sysInitial.call(this),this._initSceneFSM()},s.sysFinalize=function(){t.prototype.sysFinalize.call(this)},s.addAllEvents=function(){t.prototype.addAllEvents.call(this),f.on(T.FARM_DELETE_ALL_ITEM,this.onDeleteAllItem,this),f.on(T.FARM_REMOVE_OBJECT_BY_CORNER_LOCK,this.onRemoveObjByCornerLock,this),f.on(T.FARM_REMOVE_OBJECT_BY_TEMPID,this.onRemoveObjByTempID,this),f.on(T.FARM_ADD_NEW_TERRAIN,this.onEventAddNewTerrain,this),f.on(T.FARM_DATA_CHANGE,this.onFarmDataChanged,this),f.on(T.FARM_LEVEL_CHANGE,this.onFarmLevelChanged,this),f.on(T.FARM_RESOURCE_CHANGE,this.onFarmResChanged,this),f.on(T.FARM_OBJECT_CANCEL_SELECTED,this.onFarmObjCancelSelect,this),f.on(T.FARM_CHANGE_STATE_TO_NORMAL,this.onEventChangeStateToNormal,this),f.on(T.FARM_CHANGE_STATE_TO_ITEM_EDITING,this.onEventChangeStateToItemEditing,this),f.on(T.FARM_CHANGE_STATE_TO_ITEM_ADD,this.onEventChangeStateToItemAdd,this),f.on(T.FARM_CHANGE_STATE_TO_TERRAIN_EDITING,this.onEventChangeStateToTerrainEditing,this),f.on(T.FARM_CHANGE_STATE_TO_TERRAIN_ADD,this.onEventChangeStateToTerrainAdd,this),f.on(T.FARM_PLANT_LIST_INIT,this.onFarmPlantListInit,this),f.on(T.FARM_PLANT_LIST_ADD,this.onFarmPlantListAdd,this),f.on(T.FARM_PLANT_LIST_DELETE,this.onFarmPlantListDelete,this),f.on(T.FARM_PLANT_HARVEST,this.onFarmPlantHarvest,this),f.on(T.FARM_SKIN_BUILDING_USE_CHANGED,this.onFarmSkinBuildingChanged,this),f.on(T.MONTHLY_CARD_DATA_CHANGED,this.onMonthlyCardDataChanged,this)},s.removeAllEvents=function(){t.prototype.removeAllEvents.call(this),f.off(T.FARM_DELETE_ALL_ITEM,this.onDeleteAllItem,this),f.off(T.FARM_REMOVE_OBJECT_BY_CORNER_LOCK,this.onRemoveObjByCornerLock,this),f.off(T.FARM_REMOVE_OBJECT_BY_TEMPID,this.onRemoveObjByTempID,this),f.off(T.FARM_ADD_NEW_TERRAIN,this.onEventAddNewTerrain,this),f.off(T.FARM_DATA_CHANGE,this.onFarmDataChanged,this),f.off(T.FARM_LEVEL_CHANGE,this.onFarmLevelChanged,this),f.off(T.FARM_RESOURCE_CHANGE,this.onFarmResChanged,this),f.off(T.FARM_OBJECT_CANCEL_SELECTED,this.onFarmObjCancelSelect,this),f.off(T.FARM_CHANGE_STATE_TO_NORMAL,this.onEventChangeStateToNormal,this),f.off(T.FARM_CHANGE_STATE_TO_ITEM_EDITING,this.onEventChangeStateToItemEditing,this),f.off(T.FARM_CHANGE_STATE_TO_ITEM_ADD,this.onEventChangeStateToItemAdd,this),f.off(T.FARM_CHANGE_STATE_TO_TERRAIN_EDITING,this.onEventChangeStateToTerrainEditing,this),f.off(T.FARM_CHANGE_STATE_TO_TERRAIN_ADD,this.onEventChangeStateToTerrainAdd,this),f.off(T.FARM_PLANT_LIST_INIT,this.onFarmPlantListInit,this),f.off(T.FARM_PLANT_LIST_ADD,this.onFarmPlantListAdd,this),f.off(T.FARM_PLANT_LIST_DELETE,this.onFarmPlantListDelete,this),f.off(T.FARM_PLANT_HARVEST,this.onFarmPlantHarvest,this),f.off(T.FARM_SKIN_BUILDING_USE_CHANGED,this.onFarmSkinBuildingChanged,this),f.off(T.MONTHLY_CARD_DATA_CHANGED,this.onMonthlyCardDataChanged,this)},s.onFarmDataChanged=function(){null!=this.tabeTower&&(this.tabeTower.refreshFarmLevel(),this.tabeTower.refreshDailyAward())},s.onFarmLevelChanged=function(){null!=this.tabeTower&&this.tabeTower.refreshFarmLevel()},s.onFarmResChanged=function(t){null!=this.roomFood&&(t?t===y.Res_Mushroom&&this.roomFood.refreshFarmResSOS():this.roomFood.refreshFarmResSOS())},s.onFarmObjCancelSelect=function(){this.clearCurInteractive()},s.onEventChangeStateToNormal=function(){this.mFarmFSM.triggerState(F.Normal)},s.onEventChangeStateToItemEditing=function(){this.mFarmFSM.triggerState(F.ObjectEdit)},s.onEventChangeStateToItemAdd=function(t){this.mToAddObjId=t,this.mFarmFSM.triggerState(F.ObjectAdd),f.emit(T.UI_BUILDING_PLACE_OPEN,t)},s.onEventChangeStateToTerrainEditing=function(){this.mFarmFSM.triggerState(F.TerrainEdit)},s.onEventChangeStateToTerrainAdd=function(){this.mFarmFSM.triggerState(F.TerrainAdd),f.emit(T.UI_TERRAIN_PLACE_OPEN)},s.onEventAddNewTerrain=function(t){var r=j.instance.calculateNewTerrainUseGrid();-1!==r.boardX&&-1!==r.boardY&&(this.addFarmTerrain(t.objResID,r.boardX,r.boardY,t.objID).sendChangePosCmd(),this.putRandomGrassTargetTerrain(r.boardX,r.boardY));j.instance.refreshAllGridBorders(),j.instance.calculateValidTerrainRect()},s.onDeleteAllItem=function(){var t=this;this.mFarmObjectMap.forEach((function(r,e){t.isImportBuilding(r)||t.removeFarmObject(e)}))},s.isImportBuilding=function(t){var r=!1;switch(t.FarmObjectType){case E.FoodRoom:case E.WoodRoom:case E.StoneRoom:case E.TabeTower:r=!0}return r},s.onRemoveObjByCornerLock=function(t){this.removeFarmObject(t.TempID),this.mIsInSelfEditMode||t.sendRemoveCmd()},s.onRemoveObjByTempID=function(t){this.removeFarmObject(t)},s.onFarmPlantListInit=function(t){if(t){this._clearAllAirDropObjects();for(var r=0;r<t.length;r++)this._createAirDropObject(t[r])}},s.onFarmPlantListAdd=function(t){this._createAirDropObject(t)},s.onFarmPlantListDelete=function(t){var r=this;this.mAirDropSet.forEach((function(e){-e.TempID===t&&e.isNormal()&&r.removeFarmObject(e.TempID)}))},s.onFarmPlantHarvest=function(t,r){this.mAirDropSet.forEach((function(e){-e.TempID===t&&e.playDieAnim(r)}))},s.onFarmSkinBuildingChanged=function(t){this.roomFood&&this.roomFood.useSkin(t),this.roomWood&&this.roomWood.useSkin(t),this.roomStone&&this.roomStone.useSkin(t),this.tabeTower&&this.tabeTower.useSkin(t)},s.onMonthlyCardDataChanged=function(t){null!=this.roomFood&&(t?t===R.Channel_Tomarket&&this.roomFood.refreshFarmPrivilege():this.roomFood.refreshFarmPrivilege())},s.clearSysData=function(){t.prototype.clearSysData.call(this),this.mIsInSelfEditMode=!1,this.mFarmFSM.triggerState(F.Normal),this.mFarmObjectMap.forEach((function(t){t.clearObjectData()})),this.mFarmObjectMap.clear(),this.mToDelFarmObjectList=[],this.mFarmTerrainMap.forEach((function(t){t.clearObjectData()})),this.mFarmTerrainMap.clear(),this.mToDelFarmTerrainList=[],this.mFarmGrassMap.forEach((function(t){t.clearObjectData()})),this.mFarmGrassMap.clear(),this.mToDelFarmGrassList=[],this.mStartFarmGrid=null,this.mCurEditObj=null,this.mCurEditTerrain=null,this.roomFood=null,this.roomStone=null,this.roomWood=null,this.tabeTower=null,this.mFoodProduceSet.clear(),this.mWoodProduceSet.clear(),this.mStoneProduceSet.clear(),this.mAirDropSet.clear()},s.sysUpdate=function(r){t.prototype.sysUpdate.call(this,r),null!=this.mFarmFSM&&this.mFarmFSM.fsmUpdate(r),this._farmObjectRun(r),this._farmTerrainRun(r),this._farmGrassRun(r)},s.initAllData=function(t){this.mIsInSelfEditMode=t,this.mIsInSelfEditMode},s.getFarmObjectList=function(t){void 0===t&&(t=E.None);var r=[];return this.mFarmObjectMap.forEach((function(e){(t===E.None||e.FarmObjectType===t)&&r.push(e)})),r},s.getFarmObjectCount=function(){return this.mFarmObjectMap.size},s.getCanUseWoodProduce=function(){var t=[];return this.mWoodProduceSet.forEach((function(r){!r.IsInUse&&r.isNormal()&&t.push(r)})),t},s.getCanUseFoodProduce=function(t){var r=[];return this.mFoodProduceSet.forEach((function(e){e.IsInUse||e.IsInProducing||!e.isInState(t)||r.push(e)})),r},s.getCanUseStoneProduce=function(){var t=[];return this.mStoneProduceSet.forEach((function(r){!r.IsInUse&&r.isNormal()&&t.push(r)})),t},s.getCanUseAirDrop=function(){var t=[];return this.mAirDropSet.forEach((function(r){!r.IsInUse&&r.isNormal()&&t.push(r)})),t},s.findFarmObjectByTempID=function(t){return this.mFarmObjectMap.has(t)?this.mFarmObjectMap.get(t):null},s.addFarmObject=function(t,r,e,a){var i=h.createFarmObject(a,t);return i.BoardPos=new _(r,e),this._calculateFarmObjectGridData(i),this.mFarmObjectMap.set(i.TempID,i),this._onAfterAddFarmObject(i),i},s.removeFarmObject=function(t){var r=this.findFarmObjectByTempID(t);null!=r&&(r.NeedDelete=!0,v.instance.deleteItem(r),this._onBeforeRemoveFarmObject(r))},s._onAfterAddFarmObject=function(t){switch(t.FarmObjectType){case E.FoodRoom:this.roomFood=t;break;case E.WoodRoom:this.roomWood=t;break;case E.StoneRoom:this.roomStone=t;break;case E.TabeTower:this.tabeTower=t;break;case E.FoodProduce:var r=t;this.mFoodProduceSet.has(r)||this.mFoodProduceSet.add(r);break;case E.WoodProduce:var e=t;this.mWoodProduceSet.has(e)||this.mWoodProduceSet.add(e);break;case E.StoneProduce:var a=t;this.mStoneProduceSet.has(a)||this.mStoneProduceSet.add(a);break;case E.AirDrop:var i=t;this.mAirDropSet.has(i)||this.mAirDropSet.add(i)}},s._onBeforeRemoveFarmObject=function(t){switch(t.FarmObjectType){case E.FoodRoom:this.roomFood=null;break;case E.WoodRoom:this.roomWood=null;break;case E.StoneRoom:this.roomStone=null;break;case E.TabeTower:this.tabeTower=null;break;case E.FoodProduce:var r=t;this.mFoodProduceSet.has(r)&&this.mFoodProduceSet.delete(r);break;case E.WoodProduce:var e=t;this.mWoodProduceSet.has(e)&&this.mWoodProduceSet.delete(e);break;case E.StoneProduce:var a=t;this.mStoneProduceSet.has(a)&&this.mStoneProduceSet.delete(a);break;case E.AirDrop:var i=t;this.mAirDropSet.has(i)||this.mAirDropSet.delete(i)}},s._farmObjectRun=function(t){var r=this;this.mToDelFarmObjectList=[],this.mFarmObjectMap.forEach((function(e,a){null!=e&&(e.NeedDelete?r.mToDelFarmObjectList.push(a):e.runFrame(t))}));for(var e=0;e<this.mToDelFarmObjectList.length;e+=1){var a=this.mToDelFarmObjectList[e];this.mFarmObjectMap.get(a).clearObjectData(),this.mFarmObjectMap.set(a,null),this.mFarmObjectMap.delete(a)}},s._calculateFarmObjectGridData=function(t){var r=t.BoardPos,e=t.BoardObjectSize,a=D.gridToObjStandWorldPos(r.boardX,r.boardY,e.objWidth,e.objHeight);t.setPixelPosImmediate(a),v.instance.putItem(t)},s.findFarmTerrainByTempID=function(t){return this.mFarmTerrainMap.has(t)?this.mFarmTerrainMap.get(t):null},s.addFarmTerrain=function(t,r,e,a){var i=h.createFarmTerrain(a,t);return i.BoardPos=new _(r,e),this._calculateFarmTerrainGridData(i),this.mFarmTerrainMap.set(i.TempID,i),j.instance.putTerrain(i),i},s.removeFarmTerrain=function(t){var r=this.findFarmTerrainByTempID(t);null!=r&&(r.NeedDelete=!0,j.instance.deleteTerrain(r))},s._farmTerrainRun=function(t){var r=this;this.mToDelFarmTerrainList=[],this.mFarmTerrainMap.forEach((function(e,a){null!=e&&(e.NeedDelete?r.mToDelFarmTerrainList.push(a):e.runFrame(t))}));for(var e=0;e<this.mToDelFarmTerrainList.length;e+=1){var a=this.mToDelFarmTerrainList[e];this.mFarmTerrainMap.get(a).clearObjectData(),this.mFarmTerrainMap.set(a,null),this.mFarmTerrainMap.delete(a)}},s._calculateFarmTerrainGridData=function(t){var r=t.BoardPos,e=M.gridToWorldCenterPos(r.boardX,r.boardY);t.setPixelPosImmediate(e)},s.findFarmGrassByTempID=function(t){return this.mFarmGrassMap.has(t)?this.mFarmGrassMap.get(t):null},s.addFarmGrass=function(t,r,e){var a=h.createFarmGrass(t);return a.BoardPos=new _(r,e),this._calculateFarmGrassGridData(a),this.mFarmGrassMap.set(a.TempID,a),a},s.removeFarmGrass=function(t){var r=this.findFarmGrassByTempID(t);null!=r&&(r.NeedDelete=!0)},s._farmGrassRun=function(t){var r=this;this.mToDelFarmGrassList=[],this.mFarmGrassMap.forEach((function(e,a){null!=e&&(e.NeedDelete?r.mToDelFarmGrassList.push(a):e.runFrame(t))}));for(var e=0;e<this.mToDelFarmGrassList.length;e+=1){var a=this.mToDelFarmGrassList[e];this.mFarmGrassMap.get(a).clearObjectData(),this.mFarmGrassMap.set(a,null),this.mFarmGrassMap.delete(a)}},s._calculateFarmGrassGridData=function(t){var r=t.BoardPos,e=t.BoardObjectSize,a=D.gridToObjStandWorldPos(r.boardX,r.boardY,e.objWidth,e.objHeight);t.setPixelPosImmediate(a),v.instance.putGrass(t)},s.isAddObjCanPut=function(){return null!=this.mCurAddObj&&this.mCurAddObj.IsDraggingTargetGridCanUse},s.placeAddObjToFarm=function(t){if(this.isAddObjCanPut()){var r=this.mCurAddObj.getDraggingGridPos(),e=this.addFarmObject(this.mToAddObjId,r.x,r.y,0);this.mIsInSelfEditMode||e.sendAddCmd(),t&&this.mCurAddObj.moveToNextPos()}},s._createNewAddObj=function(){var t=b.instance.CameraWorldPos,r=h.createItemAddObject(this.mToAddObjId);r.BoardPos=D.worldPosToGrid(t.x,t.y);var e=r.BoardPos,a=r.BoardObjectSize,i=D.gridToObjStandWorldPos(e.boardX,e.boardY,a.objWidth,a.objHeight);r.setPixelPosImmediate(i),this.mCurAddObj=r,this.mCurAddObj.setSelected()},s._destroyAddObj=function(){null!==this.mCurAddObj&&(this.mCurAddObj.clearObjectData(),this.mCurAddObj=null),this.mToAddObjId=0},s.isAddTerrainCanPut=function(){return null!=this.mCurAddTerrain&&this.mCurAddTerrain.IsDraggingTargetGridCanUse},s.placeTerrainToFarm=function(){if(this.isAddTerrainCanPut()){var t=this.mCurAddTerrain.getDraggingGridPos(),r=this.addFarmTerrain(G,t.x,t.y,0);this.mIsInSelfEditMode||r.sendAddCmd(),this.mCurAddTerrain.moveToNextPos()}},s._createNewTerrain=function(){var t=b.instance.CameraWorldPos,r=h.createTerrainAddObject(this.mToAddTerrainId);r.BoardPos=M.worldPosToGrid(t.x,t.y);var e=r.BoardPos,a=r.BoardObjectSize,i=M.gridToObjStandWorldPos(e.boardX,e.boardY,a.objWidth,a.objHeight);r.setPixelPosImmediate(i),this.mCurAddTerrain=r,this.mCurAddTerrain.setSelected()},s._destroyAddTerrain=function(){null!==this.mCurAddTerrain&&(this.mCurAddTerrain.clearObjectData(),this.mCurAddTerrain=null)},s._createEditTerrainClone=function(t,r){var e=h.createTerrainEditCloneObject(t);e.BoardPos=new _(r.boardX,r.boardY);var a=e.BoardPos,i=e.BoardObjectSize,n=M.gridToObjStandWorldPos(a.boardX,a.boardY,i.objWidth,i.objHeight);e.setPixelPosImmediate(n),this.mCurEditTerrainClone=e},s._destroyEditTerrainClone=function(){null!==this.mCurEditTerrainClone&&(this.mCurEditTerrainClone.clearObjectData(),this.mCurEditTerrainClone=null)},s.setEditingObj=function(t){t!==this.mCurEditObj&&(this.finishEditingObj(),this.mCurEditObj=t,null!=this.mCurEditObj?(this.mCurEditObj.startDragging(),f.emit(T.UI_BUILDING_EDIT_OPEN,this.mCurEditObj)):f.emit(T.UI_BUILDING_EDIT_CLOSE))},s.deleteEditingObj=function(){null!=this.mCurEditObj&&(this.mCurEditObj.endDragging(),this.removeFarmObject(this.mCurEditObj.TempID),this.mIsInSelfEditMode||this.mCurEditObj.sendRemoveCmd(),this.mCurEditObj=null)},s.finishEditingObj=function(){null!=this.mCurEditObj&&(this.mCurEditObj.IsDraggingTargetGridCanUse?(this.mCurEditObj.endDragging(),this.mIsInSelfEditMode||this.mCurEditObj.sendChangePosCmd()):this.mCurEditObj.endDragging(),this.mCurEditObj=null)},s.setEditingTerrain=function(t){t!==this.mCurEditTerrain&&(this.finishEditingTerrain(),this.mCurEditTerrain=t,null!=this.mCurEditTerrain?(this.mCurEditTerrain.startDragging(),this._createEditTerrainClone(this.mCurEditTerrain.FarmResId,this.mCurEditTerrain.BoardPos),f.emit(T.UI_BUILDING_EDIT_OPEN,this.mCurEditTerrain)):f.emit(T.UI_BUILDING_EDIT_CLOSE))},s.deleteEditingTerrain=function(){null!=this.mCurEditTerrain&&(this.mCurEditTerrain.endDragging(),this.removeFarmTerrain(this.mCurEditTerrain.TempID),this.mCurEditTerrain=null)},s.finishEditingTerrain=function(){if(null!=this.mCurEditTerrain){if(this.mCurEditTerrain.IsDraggingTargetGridCanUse){var t=this.mCurEditTerrain.isDraggingNotChangePos(),r=this.mCurEditTerrain.BoardPos.boardX,e=this.mCurEditTerrain.BoardPos.boardY;this.mCurEditTerrain.endDragging(),t||(this.mIsInSelfEditMode||this.mCurEditTerrain.sendChangePosCmd(),this.dealItemOnTerrainChanged(r,e,this.mCurEditTerrain),j.instance.refreshAllGridBorders())}else this.mCurEditTerrain.endDragging();this.mCurEditTerrain=null,this._destroyEditTerrainClone()}},s.dealItemOnTerrainChanged=function(t,r,e){var a=this,i=M.terrainGridXToFarmGridX(t),n=M.terrainGridYToFarmGridY(r),s=i+M.TerrainToFarmGridScaleX-1,o=n+M.TerrainToFarmGridScaleY-1,d=v.instance.getGridMountedAllListByRange(i,n,M.TerrainToFarmGridScaleX,M.TerrainToFarmGridScaleY),m=[],u=[];d.forEach((function(t){var r=t.BoardPos.boardX,e=t.BoardPos.boardY,a=r+t.BoardObjectSize.objWidth-1,d=e+t.BoardObjectSize.objHeight-1;r>=i&&e>=n&&a<=s&&d<=o?m.push(t):u.push(t)})),u.forEach((function(t){a.removeFarmObject(t.TempID),a.mIsInSelfEditMode||t.sendRemoveCmd()}));var c=M.terrainGridXToFarmGridX(e.BoardPos.boardX)-i,h=M.terrainGridYToFarmGridY(e.BoardPos.boardY)-n;m.forEach((function(t){var r=t.BoardPos.boardX+c,e=t.BoardPos.boardY+h;t.changeGridImmediate(r,e),a.mIsInSelfEditMode||t.sendChangePosCmd()})),v.instance.getGridGrassListByRange(i,n,M.TerrainToFarmGridScaleX,M.TerrainToFarmGridScaleY).forEach((function(t){var r=t.BoardPos.boardX+c,e=t.BoardPos.boardY+h;t.changeGridImmediate(r,e),a.mIsInSelfEditMode||t.sendChangePosCmd()})),this.saveAllGrassData()},s._getMixYFarmItem=function(t){if(!t||0===t.length)return null;for(var r=1e3,e=null,a=0;a<t.length;a++){var i=t[a];i.group===I.FarmItem&&(i.node.getWorldPosition().y<r&&(e=i,r=i.node.getWorldPosition().y))}return e},s.setCurInteractive=function(t){null===this.mCurInteractiveFarmItem||t!==this.mCurInteractiveFarmItem?(null!=this.mCurInteractiveFarmItem&&(this.mCurInteractiveFarmItem.unsetSelect(),f.emit(T.FARM_TAP_OBJECT_CANCEL,this.mCurInteractiveFarmItem)),this.mCurInteractiveFarmItem=t,null!=this.mCurInteractiveFarmItem&&(this.mCurInteractiveFarmItem.setSelect(),f.emit(T.FARM_TAP_OBJECT_SELECT,this.mCurInteractiveFarmItem))):this.clearCurInteractive()},s.clearCurInteractive=function(){null!=this.mCurInteractiveFarmItem&&(this.mCurInteractiveFarmItem.unsetSelect(),f.emit(T.FARM_TAP_OBJECT_CANCEL,this.mCurInteractiveFarmItem),this.mCurInteractiveFarmItem=null)},s.handlerOnTap=function(t){if(null===this.mFarmFSM.CurrentState)return!1;var r=!1;switch(this.mFarmFSM.CurrentState.FarmState){case F.Normal:var e=o.instance.testPoint(d(t.x,t.y)),a=this._getMixYFarmItem(e);null!==a&&300===a.tag&&(r=!0);break;case F.ObjectEdit:this.mStartFarmGrid=D.worldPosToGrid(t.x,t.y),null!=this.mCurEditObj&&this.mCurEditObj.isGridInDraggingRect(this.mStartFarmGrid.boardX,this.mStartFarmGrid.boardY)?(this.mCurEditObj.recordDraggingOriginGrid(),r=!0):this.setEditingObj(null);break;case F.ObjectAdd:if(null==this.mCurAddObj)return;this.mStartFarmGrid=D.worldPosToGrid(t.x,t.y),this.mCurAddObj.isGridInDraggingRect(this.mStartFarmGrid.boardX,this.mStartFarmGrid.boardY)?(this.mCurAddObj.setSelected(),r=!0):this.mCurAddObj.cancelSelected();break;case F.TerrainEdit:this.mStartFarmGrid=M.worldPosToGrid(t.x,t.y),null!=this.mCurEditTerrain&&this.mCurEditTerrain.isGridInDraggingRect(this.mStartFarmGrid.boardX,this.mStartFarmGrid.boardY)?(this.mCurEditTerrain.recordDraggingOriginGrid(),r=!0):this.setEditingTerrain(null);break;case F.TerrainAdd:if(null==this.mCurAddTerrain)return;this.mStartFarmGrid=M.worldPosToGrid(t.x,t.y),this.mCurAddTerrain.isGridInDraggingRect(this.mStartFarmGrid.boardX,this.mStartFarmGrid.boardY)?(this.mCurAddTerrain.setSelected(),r=!0):this.mCurAddTerrain.cancelSelected()}return r},s.handlerOnCancelTap=function(t){if(null===this.mFarmFSM.CurrentState)return!1;var r=!1;switch(this.mFarmFSM.CurrentState.FarmState){case F.Normal:var e=o.instance.testPoint(d(t.x,t.y)),a=this._getMixYFarmItem(e);if(null!==a)if(16===a.tag){var i,n,s,m=null==(i=a.node.parent)||null==(n=i.parent)||null==(s=n.getComponent(p))?void 0:s.OwnerFarmObj;if(null!==m)m.beHit(),r=!0}else{var u,c,h,l=null==(u=a.node.parent)||null==(c=u.parent)||null==(h=c.getComponent(p))?void 0:h.OwnerFarmObj;if(null!==l){var f=l;this.setCurInteractive(f),r=!0}}!1===r&&this.clearCurInteractive();break;case F.ObjectEdit:if(this.mStartFarmGrid=D.worldPosToGrid(t.x,t.y),null!=this.mCurEditObj&&this.mCurEditObj.isGridInDraggingRect(this.mStartFarmGrid.boardX,this.mStartFarmGrid.boardY))this.mCurEditObj.recordDraggingOriginGrid(),r=!0;else{var T=v.instance.getGridMountedItem(this.mStartFarmGrid.boardX,this.mStartFarmGrid.boardY);this.setEditingObj(T),null!=T&&(r=!0)}break;case F.TerrainEdit:if(this.mStartFarmGrid=M.worldPosToGrid(t.x,t.y),null!=this.mCurEditTerrain&&this.mCurEditTerrain.isGridInDraggingRect(this.mStartFarmGrid.boardX,this.mStartFarmGrid.boardY))this.mCurEditTerrain.recordDraggingOriginGrid(),r=!0;else{var E=j.instance.getGridMountedTerrain(this.mStartFarmGrid.boardX,this.mStartFarmGrid.boardY);this.setEditingTerrain(E),null!=E&&(r=!0)}}return r},s.handlerOnMoving=function(t){if(null===this.mFarmFSM.CurrentState)return!1;if(P.instance.IsInGuideScene)return!0;var r=!1;switch(this.mFarmFSM.CurrentState.FarmState){case F.Normal:null!=this.mCurInteractiveFarmItem&&(r=!0);break;case F.ObjectEdit:if(null!=this.mCurEditObj){var e=D.worldPosToGrid(t.x,t.y),a=e.boardX-this.mStartFarmGrid.boardX,i=e.boardY-this.mStartFarmGrid.boardY;this.mCurEditObj.updateDragging(a,i),r=!0}break;case F.ObjectAdd:if(null!=this.mCurAddObj&&this.mCurAddObj.isSelected){var n=D.worldPosToGrid(t.x,t.y),s=n.boardX-this.mStartFarmGrid.boardX,o=n.boardY-this.mStartFarmGrid.boardY;this.mCurAddObj.updateDragging(s,o),r=!0}break;case F.TerrainEdit:if(null!=this.mCurEditTerrain){var d=M.worldPosToGrid(t.x,t.y),m=d.boardX-this.mStartFarmGrid.boardX,u=d.boardY-this.mStartFarmGrid.boardY;this.mCurEditTerrain.updateDragging(m,u),r=!0}break;case F.TerrainAdd:if(null!=this.mCurAddTerrain&&this.mCurAddTerrain.isSelected){var c=M.worldPosToGrid(t.x,t.y),h=c.boardX-this.mStartFarmGrid.boardX,l=c.boardY-this.mStartFarmGrid.boardY;this.mCurAddTerrain.updateDragging(h,l),r=!0}}return r},s.dealUIMoveObjStart=function(t){if(null===this.mFarmFSM.CurrentState)return!1;switch(this.mFarmFSM.CurrentState.FarmState){case F.ObjectEdit:this.mStartFarmGrid=D.worldPosToGrid(t.x,t.y),this.mCurEditObj&&this.mCurEditObj.recordDraggingOriginGrid();break;case F.TerrainEdit:this.mStartFarmGrid=M.worldPosToGrid(t.x,t.y),this.mCurEditTerrain&&this.mCurEditTerrain.recordDraggingOriginGrid();break;case F.ObjectAdd:if(null==this.mCurAddObj)return;this.mStartFarmGrid=D.worldPosToGrid(t.x,t.y),this.mCurAddObj.setSelected()}},s.dealUIMoveObjMoving=function(t){this.handlerOnMoving(t)},s.saveAllGrassData=function(){var t=a(i().mark((function t(){var r,e;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=[],this.mFarmGrassMap.forEach((function(t){if(null!=t){var e=t.BoardPos,a={x:e.boardX,y:e.boardY,id:t.FarmResId};r.push(a)}})),e=JSON.stringify(r),this.setSaveGrassClientData(e);case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),s.getAllMapData=function(){var t={terrains:[],items:[],grass:[]};return this.mFarmTerrainMap.forEach((function(r){if(null!=r){var e=r.BoardPos,a={x:e.boardX,y:e.boardY,id:r.FarmResId};t.terrains.push(a)}})),this.mFarmObjectMap.forEach((function(r){if(null!=r){var e=r.BoardPos,a={x:e.boardX,y:e.boardY,id:r.FarmResId};t.items.push(a)}})),this.mFarmGrassMap.forEach((function(r){if(null!=r){var e=r.BoardPos,a={x:e.boardX,y:e.boardY,id:r.FarmResId};t.grass.push(a)}})),t},s.saveEditMapData=function(){var t=a(i().mark((function t(){var r;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,null==(r=this.getAllMapData())){t.next=6;break}return t.next=5,C({map:r});case 5:A.AddTipI18nID_Success("u.2510");case 6:t.next=12;break;case 8:t.prev=8,t.t0=t.catch(0),A.AddTipI18nID_Failed("u.2511"),u(t.t0);case 12:case"end":return t.stop()}}),t,this,[[0,8]])})));return function(){return t.apply(this,arguments)}}(),s.exportEditMapJsonData=function(){var t=a(i().mark((function t(){var r,e;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{null!=(r=this.getAllMapData())&&(e={datas:[],grass:[]},r.terrains.forEach((function(t){e.datas.push({id:t.id,x:t.x,y:t.y})})),r.items.forEach((function(t){e.datas.push({id:t.id,x:t.x,y:t.y})})),r.grass.forEach((function(t){e.grass.push({id:t.id,x:t.x,y:t.y})})),O.saveJsonForBrowser(JSON.stringify(e),"farm_init.json"),A.AddTipI18nID_Success("u.2512"))}catch(t){A.AddTipI18nID_Failed("u.2513"),u(t)}case 1:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),s.saveMapData=function(){var t=a(i().mark((function t(){var r;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,null==(r=this.getAllMapData())){t.next=6;break}return t.next=5,g({map:r});case 5:A.AddTipI18nID_Success("u.2510");case 6:t.next=12;break;case 8:t.prev=8,t.t0=t.catch(0),A.AddTipI18nID_Failed("u.2511"),u(t.t0);case 12:case"end":return t.stop()}}),t,this,[[0,8]])})));return function(){return t.apply(this,arguments)}}(),s.getSaveGrassClientData=function(){var t="grass_"+S.instance.AccountId;return m.localStorage.getItem(t)},s.setSaveGrassClientData=function(t){var r="grass_"+S.instance.AccountId;m.localStorage.setItem(r,t)},s.putRandomGrassAll=function(){for(var t=j.instance.randomPutInGrassAll(),r=0;r<t.length;r+=1){var e=t[r];this.addFarmGrass(e.id,e.x,e.y)}this.saveAllGrassData()},s.putRandomGrassTargetTerrain=function(t,r){for(var e=j.instance.randomPutInGrassToTerrain(t,r),a=0;a<e.length;a+=1){var i=e[a];this.addFarmGrass(i.id,i.x,i.y)}this.saveAllGrassData()},s._clearAllAirDropObjects=function(){var t=this;Array.from(this.mAirDropSet.values()).forEach((function(r){t.removeFarmObject(r.TempID)}))},s._createAirDropObject=function(t){var r=v.instance.getRandomEmptyGrid();if(null!==r){var e=this.addFarmObject(901,r.gX,r.gY,-t);this.mFarmFSM.isInState(F.Normal)||e&&e.exitNormalMode()}},s._dealAirdropByExitNormalMode=function(){this.mAirDropSet.forEach((function(t){t.exitNormalMode()}))},s._dealAirdropByEnterNormalMode=function(){this.mAirDropSet.forEach((function(t){t.enterNormalMode()}))},s._initSceneFSM=function(){this.mFarmFSM=new l,this.mFarmFSM.initStateFSM(this),this.mFarmFSM.triggerState(F.Normal)},s.stateNormalOnEnter=function(){var t=a(i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.mCurEditObj=null,this.mCurEditTerrain=null,this._dealAirdropByEnterNormalMode();case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),s.stateNormalOnExit=function(){var t=a(i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this._dealAirdropByExitNormalMode();case 1:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),s.stateObjectEditOnEnter=function(){var t=a(i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),s.stateObjectEditOnExit=function(){var t=a(i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.finishEditingObj(),f.emit(T.UI_BUILDING_EDIT_CLOSE);case 2:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),s.stateObjectAddOnEnter=function(){var t=a(i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this._createNewAddObj(),f.emit(T.UI_BUILDING_EDIT_OPEN,this.mCurAddObj);case 2:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),s.stateObjectAddOnExit=function(){var t=a(i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this._destroyAddObj(),f.emit(T.UI_BUILDING_EDIT_CLOSE);case 2:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),s.stateTerrainAddOnEnter=function(){var t=a(i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this._createNewTerrain();case 1:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),s.stateTerrainAddOnExit=function(){var t=a(i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this._destroyAddTerrain(),j.instance.refreshAllGridBorders(),j.instance.calculateValidTerrainRect();case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),s.stateTerrainEditOnEnter=function(){var t=a(i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.mCurEditTerrain=null;case 1:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),s.stateTerrainEditOnExit=function(){var t=a(i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:f.emit(T.UI_BUILDING_EDIT_CLOSE),this.finishEditingTerrain(),j.instance.calculateValidTerrainRect();case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),e(n,[{key:"IsNormal",get:function(){return this.mFarmFSM.isInState(F.Normal)}},{key:"IsStateObjectEdit",get:function(){return this.mFarmFSM.isInState(F.ObjectEdit)}},{key:"IsStateObjectAdd",get:function(){return this.mFarmFSM.isInState(F.ObjectAdd)}},{key:"IsStateTerrainAdd",get:function(){return this.mFarmFSM.isInState(F.TerrainAdd)}},{key:"IsStateTerrainEdit",get:function(){return this.mFarmFSM.isInState(F.TerrainEdit)}},{key:"CurState",get:function(){return this.mFarmFSM.CurrentState.FarmState}},{key:"IsInSelfEditMode",get:function(){return this.mIsInSelfEditMode}}],[{key:"instance",get:function(){return null==this._instance&&(this._instance=new n),this._instance}}]),n}(c))._instance=null,L.MAX_FARM_OBJECT_COUNT=3e3,N=L))||N);n._RF.pop()}}}));

System.register("chunks:///_virtual/fight.client.protocol.ts",["./rollupPluginModLoBabelHelpers.js","cc","./net.protocol.define.ts","./null.client.protocol.ts","./long.mjs_cjs=&original=.js","./long.js"],(function(t){"use strict";var e,i,r,n,s;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy},function(t){r=t.NetProtocolDefine},function(t){n=t.stNullClientCmd},null,function(t){s=t.default}],execute:function(){t({eFightCreatePVPRank:void 0,eFightCreatePVPResult:void 0,eFightJsonDataType:void 0}),i._RF.push({},"0c934/P8WdNNbpInNGOqmKp","fight.client.protocol",void 0);var a,o,h,u=t("stFightDisplayCmd",function(t){function i(){var e;return(e=t.call(this)||this).gsCmd=r.FIGHT_CLIENT_CMD,e}return e(i,t),i}(n)),P=t("JSON_DATA_FIGHT_DISPLAY_CLIENT",1),c=t("VIDEO_FIGHT_DISPLAY_CLIENT",5),l=t("NEXT_ROUND_FIGHT_DISPLAY_CLIENT",11),f=t("WATCH_FIGHT_DISPLAY_CLIENT",12),_=t("CREATE_PVP_FIGHT_DISPLAY_CLIENT",30),p=t("CREATE_PVP_REPLY_FIGHT_DISPLAY_CLIENT",31),y=t("INVITE_PVP_FIGHT_DISPLAY_CLIENT",32),C=t("INVITE_PVP_REPLY_FIGHT_DISPLAY_CLIENT",33),g=t("CREATE_PVP_RANK_FIGHT_DISPLAY_CLIENT",41),B=t("PVP_RANK_RESULT_FIGHT_DISPLAY_CLIENT",42),m=t("TEST_FIGHT_DISPLAY_CLIENT",255);!function(t){t[t.FightJson_Init=1]="FightJson_Init",t[t.FightJson_Round=2]="FightJson_Round",t[t.FightJson_Result=3]="FightJson_Result"}(a||(a=t("eFightJsonDataType",{}))),function(t){t[t.eCreatePVP_Success=1]="eCreatePVP_Success",t[t.eCreatePVP_Fighting=2]="eCreatePVP_Fighting",t[t.eCreatePVP_NotFound=3]="eCreatePVP_NotFound",t[t.eCreatePVP_Repeat=4]="eCreatePVP_Repeat",t[t.eCreatePVP_TooFar=5]="eCreatePVP_TooFar",t[t.eCreatePVP_TimeOut=6]="eCreatePVP_TimeOut",t[t.eCreatePVP_Target_Fighting=7]="eCreatePVP_Target_Fighting",t[t.eCreatePVP_Target_BeInvited=8]="eCreatePVP_Target_BeInvited"}(o||(o=t("eFightCreatePVPResult",{}))),function(t){t[t.eCreatePVPRank_Success=0]="eCreatePVPRank_Success",t[t.eCreatePVPRank_Matching=1]="eCreatePVPRank_Matching",t[t.eCreatePVPRank_Fighting=2]="eCreatePVPRank_Fighting",t[t.eCreatePVPRank_NoCount=3]="eCreatePVPRank_NoCount",t[t.eCreatePVPRank_NoOpen=4]="eCreatePVPRank_NoOpen",t[t.eCreatePVPRank_WaitClearing=5]="eCreatePVPRank_WaitClearing"}(h||(h=t("eFightCreatePVPRank",{})));t("stJsonDataFightDisplayClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).teamView=0,e.type=0,e.jsonLen=0,e.jsonStr="",e.gsParam=P,e}return e(i,t),i.prototype.UnPack=function(e){t.prototype.UnPack.call(this,e),this.teamView=this.mByteBuffer.readUint8(),this.type=this.mByteBuffer.readUint8(),this.jsonLen=this.mByteBuffer.readUint16(),this.jsonStr=this.ReadStringWithFixedLength(this.jsonLen),this.ReleaseByteBuffer()},i}(u)),t("stVideoFightDisplayClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).jsonLen=0,e.jsonStr="",e.gsParam=c,e}e(i,t);var r=i.prototype;return r.Pack=function(){t.prototype.Pack.call(this),this.mByteBuffer.writeUint16(this.jsonLen),this.WriteStringWithFixedLength(this.jsonStr,this.jsonLen)},r.UnPack=function(e){t.prototype.UnPack.call(this,e),this.jsonLen=this.mByteBuffer.readUint16(),this.jsonStr=this.ReadStringWithFixedLength(this.jsonLen),this.ReleaseByteBuffer()},i}(u)),t("stNextRoundFightDisplayClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).gsParam=l,e}return e(i,t),i}(u)),t("stWatchFightDisplayClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).enter=0,e.fightIDStr="",e.viewUser=0,e.gsParam=f,e}return e(i,t),i.prototype.Pack=function(){t.prototype.Pack.call(this),this.mByteBuffer.writeUint8(this.enter),this.mByteBuffer.writeUint64(s.fromString(this.fightIDStr)),this.mByteBuffer.writeUint32(this.viewUser)},i}(u)),t("stTestFightDisplayClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).gsParam=m,e}return e(i,t),i}(u)),t("stCreatePvpFightDisplayClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).userID=0,e.result=0,e.gsParam=_,e}e(i,t);var r=i.prototype;return r.Pack=function(){t.prototype.Pack.call(this),this.mByteBuffer.writeUint32(this.userID),this.mByteBuffer.writeUint8(this.result)},r.UnPack=function(e){t.prototype.UnPack.call(this,e),this.userID=this.mByteBuffer.readUint32(),this.result=this.mByteBuffer.readUint8(),this.ReleaseByteBuffer()},i}(u)),t("stCreatePvpReplyFightDisplayClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).userID=0,e.userName="",e.reply=0,e.gsParam=p,e}return e(i,t),i.prototype.UnPack=function(e){t.prototype.UnPack.call(this,e),this.userID=this.mByteBuffer.readUint32(),this.userName=this.ReadStringWithFixedLength(r.NAME_SIZE_MAX),this.reply=this.mByteBuffer.readUint8(),this.ReleaseByteBuffer()},i}(u)),t("stInvitePvpFightDisplayClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).userID=0,e.userName="",e.overtime=0,e.gsParam=y,e}return e(i,t),i.prototype.UnPack=function(e){t.prototype.UnPack.call(this,e),this.userID=this.mByteBuffer.readUint32(),this.userName=this.ReadStringWithFixedLength(r.NAME_SIZE_MAX),this.overtime=this.mByteBuffer.readUint32(),this.ReleaseByteBuffer()},i}(u)),t("stInvitePvpReplyFightDisplayClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).userID=0,e.reply=0,e.result=0,e.gsParam=C,e}e(i,t);var r=i.prototype;return r.Pack=function(){t.prototype.Pack.call(this),this.mByteBuffer.writeUint32(this.userID),this.mByteBuffer.writeUint8(this.reply),this.mByteBuffer.writeUint8(this.result)},r.UnPack=function(e){t.prototype.UnPack.call(this,e),this.userID=this.mByteBuffer.readUint32(),this.reply=this.mByteBuffer.readUint8(),this.result=this.mByteBuffer.readUint8(),this.ReleaseByteBuffer()},i}(u)),t("stCreatePvpRankFightDisplayClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).result=0,e.gsParam=g,e}e(i,t);var r=i.prototype;return r.Pack=function(){t.prototype.Pack.call(this),this.mByteBuffer.writeUint8(this.result)},r.UnPack=function(e){t.prototype.UnPack.call(this,e),this.result=this.mByteBuffer.readUint8(),this.ReleaseByteBuffer()},i}(u)),t("stPvpRankResultFightDisplayClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).win=0,e.beforeScore=0,e.afterScore=0,e.gsParam=B,e}return e(i,t),i.prototype.UnPack=function(e){t.prototype.UnPack.call(this,e),this.win=this.mByteBuffer.readUint8(),this.beforeScore=this.mByteBuffer.readUint32(),this.afterScore=this.mByteBuffer.readUint32(),this.ReleaseByteBuffer()},i}(u));i._RF.pop()}}}));

System.register("chunks:///_virtual/fight.data.interface.ts",["cc"],(function(){"use strict";var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"fdcbaXewL1EaZHqsydG604m","fight.data.interface",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/fight.data.object.ts",["./rollupPluginModLoBabelHelpers.js","cc","./enum.fight.define.ts"],(function(t){"use strict";var s,i,e,n,r,a;return{setters:[function(t){s=t.inheritsLoose},function(t){i=t.cclegacy},function(t){e=t.EFightCamp,n=t.EFighterType,r=t.EFightEventType,a=t.EFightType}],execute:function(){i._RF.push({},"2565aIyE1ZPCopRv0nLDbVa","fight.data.object",void 0);t("FightData",function(){function t(){this.fightID="",this.fightType=a.None,this.actorsList=null,this.roundsList=null,this.fightResult=0}var s=t.prototype;return s.parseJson=function(t){if(null!=t.fight_init){this.fightID=t.fight_init.fightID.toString(),this.fightType=t.fight_init.type,this.actorsList=new Array;for(var s=0;s<t.fight_init.teams.attacker.member.length;s++){var i=t.fight_init.teams.attacker.member[s],n=null;(n="player"===i.objType?new u:new o).parseJson(i),n.teamID=e.Attacker,this.actorsList.push(n)}for(var r=0;r<t.fight_init.teams.defender.member.length;r++){var a=t.fight_init.teams.defender.member[r],h=null;(h="player"===a.objType?new u:new o).parseJson(a),h.teamID=e.Defender,this.actorsList.push(h)}}if(null!=t.fight_rounds){this.roundsList=new Array;for(var l=0;l<t.fight_rounds.length;l++){var c=new p;c.parseJson(t.fight_rounds[l]),this.roundsList.push(c)}}null!=t.fight_finish&&(this.fightResult=t.fight_finish.winTeam)},s.Release=function(){this.actorsList=null,this.roundsList=null,this.fightResult=0},t}());var h=t("FighterData",function(){function t(){this.id=0,this.type=n.None,this.teamID=0,this.hp=0,this.maxHp=0,this.isDead=!1,this.isDizziness=!1}return t.prototype.parseJson=function(t){},t}()),u=t("PlayerData",function(t){function i(){for(var s,i=arguments.length,e=new Array(i),n=0;n<i;n++)e[n]=arguments[n];return(s=t.call.apply(t,[this].concat(e))||this).playerName="",s.playerSkin=[],s.playerEquip=[],s.petID=0,s}return s(i,t),i.prototype.parseJson=function(t){var s;this.id=t.id,this.type=n.Player,this.playerName=t.name,this.playerSkin.push(0),(s=this.playerSkin).push.apply(s,t.characteristics),this.playerEquip=t.equipments,this.petID=t.petID,this.hp=t.hp,this.maxHp=t.max_hp,this.isDead=0!==t.state[0],this.isDizziness=0!==t.state[1]},i}(h)),o=t("MonsterData",function(t){function i(){for(var s,i=arguments.length,e=new Array(i),n=0;n<i;n++)e[n]=arguments[n];return(s=t.call.apply(t,[this].concat(e))||this).tableId=0,s}return s(i,t),i.prototype.parseJson=function(t){this.id=t.id,this.type=n.Monster,this.tableId=t.dataID,this.hp=t.hp,this.maxHp=t.max_hp,this.isDead=0!==t.state[0],this.isDizziness=0!==t.state[1]},i}(h)),p=t("RoundData",function(){function t(){this.roundList=null,this.stateList=null,this.roundNum=0}return t.prototype.parseJson=function(t){this.roundList=new Array;for(var s=0;s<t.fight.length;s++){var i=new l;i.parseJson(t.fight[s]),this.roundList.push(i)}this.stateList=new Array;for(var e=0;e<t.objects.length;e++){var n=new d;n.parseJson(t.objects[e]),this.stateList.push(n)}this.roundNum=t.round},t}()),l=t("OneRoundData",function(){function t(){this.actorId=0,this.action="",this.eventList=null}return t.prototype.parseJson=function(t){this.actorId=t.actor,this.action=t.do,this.eventList=new Array;for(var s=0;s<t.process.length;s++){var i=new c;i.parseJson(t.process[s]),this.eventList.push(i)}},t}()),c=t("FightEvent",function(){function t(){this.event=0,this.attack=null,this.skill=null,this.buff=null,this.status=null,this.setHP=null}return t.prototype.parseJson=function(t){var s=t.split(":");if(2===s.length)switch(this.event=Number.parseInt(s[0]),this.event){case r.Attack:this.attack=new f,this.attack.parseArray(s[1]);break;case r.Skill:this.skill=new g,this.skill.parseArray(s[1]);break;case r.Buff:this.buff=new y,this.buff.parseArray(s[1]);break;case r.Status:this.status=new m,this.status.parseArray(s[1]);break;case r.SetHP:this.setHP=new b,this.setHP.parseArray(s[1])}},t}()),f=t("FightEvent_Attack",function(){function t(){this.src=0,this.target=0,this.attackCount=0,this.isHit=!1,this.damageValue=0,this.isCritical=!1,this.vampireValue=0,this.beHitUseSkill1=0,this.beHitUseSkill2=0}return t.prototype.parseArray=function(t){var s=t.split("-");s.length>=7&&(this.src=Number.parseInt(s[0]),this.target=Number.parseInt(s[1]),this.attackCount=Number.parseInt(s[2]),this.isHit=0!==Number.parseInt(s[3]),this.damageValue=Number.parseInt(s[4]),this.isCritical=0!==Number.parseInt(s[5]),this.vampireValue=Number.parseInt(s[6])),s.length>=9&&(this.beHitUseSkill1=Number.parseInt(s[7]),this.beHitUseSkill2=Number.parseInt(s[8]))},t}()),g=t("FightEvent_Skill",function(){function t(){this.src=0,this.target=0,this.skillID=0}return t.prototype.parseArray=function(t){var s=t.split("-");3===s.length&&(this.src=Number.parseInt(s[0]),this.target=Number.parseInt(s[1]),this.skillID=Number.parseInt(s[2]))},t}()),y=t("FightEvent_Buff",function(){function t(){this.src=0,this.skillID=0,this.buffState=0}return t.prototype.parseArray=function(t){var s=t.split("-");3===s.length&&(this.src=Number.parseInt(s[0]),this.skillID=Number.parseInt(s[1]),this.buffState=Number.parseInt(s[2]))},t}()),m=t("FightEvent_Status",function(){function t(){this.src=0,this.stateID=0,this.stateValue=0}return t.prototype.parseArray=function(t){var s=t.split("-");3===s.length&&(this.src=Number.parseInt(s[0]),this.stateID=Number.parseInt(s[1]),this.stateValue=Number.parseInt(s[2]))},t}()),b=t("FightEvent_SetHP",function(){function t(){this.src=0,this.hp=0}return t.prototype.parseArray=function(t){var s=t.split("-");2===s.length&&(this.src=Number.parseInt(s[0]),this.hp=Number.parseInt(s[1]))},t}()),d=t("OneRoundState",function(){function t(){this.actorId=0,this.hp=0,this.isDead=!1,this.isDizziness=!1,this.skillBuffID=null}return t.prototype.parseJson=function(t){this.actorId=t.id,this.hp=t.hp,this.isDead=0!==t.state[0],this.isDizziness=0!==t.state[1],this.skillBuffID=t.skill_state},t}());i._RF.pop()}}}));

System.register("chunks:///_virtual/fight.position.object.ts",["cc","./enum.fight.define.ts"],(function(t){"use strict";var i,e,s,n;return{setters:[function(t){i=t.cclegacy,e=t.v2,s=t.Vec2},function(t){n=t.EFightCamp}],execute:function(){i._RF.push({},"17b57saAgJCy7XBynWNvRFp","fight.position.object",void 0);t("FightPosition",function(){function t(){this.mLeftPositionList=null,this.mRightPositionList=null,this.mLeftIndex=0,this.mRightIndex=0,this.mLeftPetPositionList=null,this.mRightPetPositionList=null,this.mLeftPetIndex=0,this.mRightPetIndex=0}var i=t.prototype;return i.Init=function(t){this.mLeftPositionList=[e(t.x-400,t.y),e(t.x-400,t.y+100),e(t.x-400,t.y-100),e(t.x-400,t.y+200),e(t.x-400,t.y-200)],this.mRightPositionList=[e(t.x+400,t.y),e(t.x+400,t.y+100),e(t.x+400,t.y-100),e(t.x+400,t.y+200),e(t.x+400,t.y-200)],this.mLeftIndex=0,this.mRightIndex=0,this.mLeftPetPositionList=[e(t.x-500,t.y+50),e(t.x-500,t.y+100+50),e(t.x-500,t.y-100+50),e(t.x-500,t.y+200+50),e(t.x-500,t.y-200+50)],this.mRightPetPositionList=[e(t.x+500,t.y+50),e(t.x+500,t.y+100+50),e(t.x+500,t.y-100+50),e(t.x+500,t.y+200+50),e(t.x+500,t.y-200+50)],this.mLeftPetIndex=0,this.mRightPetIndex=0},i.Release=function(){this.mLeftPositionList=null,this.mRightPositionList=null,this.mLeftIndex=0,this.mRightIndex=0,this.mLeftPetPositionList=null,this.mRightPetPositionList=null,this.mLeftPetIndex=0,this.mRightPetIndex=0},i.GetPosition=function(t){var i=s.ZERO;if(t===n.Attacker){if(this.mLeftIndex>=this.mLeftPositionList.length)return s.ZERO;i=this.mLeftPositionList[this.mLeftIndex],this.mLeftIndex+=1}else{if(this.mRightIndex>=this.mRightPositionList.length)return s.ZERO;i=this.mRightPositionList[this.mRightIndex],this.mRightIndex+=1}return i},i.GetPetPosition=function(t){var i=s.ZERO;if(t===n.Attacker){if(this.mLeftPetIndex>=this.mLeftPetPositionList.length)return s.ZERO;i=this.mLeftPetPositionList[this.mLeftPetIndex],this.mLeftPetIndex+=1}else{if(this.mRightPetIndex>=this.mRightPetPositionList.length)return s.ZERO;i=this.mRightPetPositionList[this.mRightPetIndex],this.mRightPetIndex+=1}return i},t}());i._RF.pop()}}}));

System.register("chunks:///_virtual/fight.show.info.base.ts",["./rollupPluginModLoBabelHelpers.js","cc","./event.dispatcher.ts","./event.name.ts","./table.helper.ts","./logic.tool.ts"],(function(t){"use strict";var i,e,n,o,a,r,s,h,l,u,c,f,_,g;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){a=t.cclegacy,r=t._decorator,s=t.Node,h=t.sp,l=t.Label,u=t.Component},function(t){c=t.EventDispatcher},function(t){f=t.EventName},function(t){_=t.TableHelper},function(t){g=t.LogicTool}],execute:function(){var m,E,d,F,R,v,b,p,I,T,y,N,S,D,w,B,U,H,G;a._RF.push({},"35254UzaVdJwIHnYrPNTD4o","fight.show.info.base",void 0);var z=r.ccclass,V=r.property;t("FightShowInfoBase",(m=z("FightShowInfoBase"),E=V(s),d=V(s),F=V(h.Skeleton),R=V(s),v=V(h.Skeleton),b=V(h.Skeleton),p=V(h.Skeleton),I=V(l),m((N=i((y=function(t){function i(){for(var i,e=arguments.length,a=new Array(e),r=0;r<e;r++)a[r]=arguments[r];return i=t.call.apply(t,[this].concat(a))||this,n(i,"fightCenterNode",N,o(i)),n(i,"maskBg",S,o(i)),n(i,"fightBg",D,o(i)),n(i,"uiRoot",w,o(i)),n(i,"animBegin",B,o(i)),n(i,"animVictory",U,o(i)),n(i,"animDefeat",H,o(i)),n(i,"labelRound",G,o(i)),i.isInFighting=!1,i}e(i,t);var a=i.prototype;return a.addEvents=function(){c.on(f.FIGHT_STATE_ENTER,this._event_EnterFightState,this),c.on(f.FIGHT_STATE_EXIT,this._event_ExitFightState,this),c.on(f.FIGHT_UI_REFRESH_ROUND_NUM,this._event_RefreshRoundNum,this),c.on(f.FIGHT_UI_ENTER_READY,this._event_EnterFightReady,this),c.on(f.FIGHT_UI_ENTER_CLEARING,this._event_EnterFightFinish,this)},a.removeEvents=function(){c.off(f.FIGHT_STATE_ENTER,this._event_EnterFightState,this),c.off(f.FIGHT_STATE_EXIT,this._event_ExitFightState,this),c.off(f.FIGHT_UI_REFRESH_ROUND_NUM,this._event_RefreshRoundNum,this),c.off(f.FIGHT_UI_ENTER_READY,this._event_EnterFightReady,this),c.off(f.FIGHT_UI_ENTER_CLEARING,this._event_EnterFightFinish,this)},a._event_EnterFightState=function(){this.showFightUI()},a._event_ExitFightState=function(){this.hideFightUI()},a._event_RefreshRoundNum=function(t){this._RefreshRoundNum(t)},a._event_EnterFightReady=function(t){this._EnterFightReady(t)},a._event_EnterFightFinish=function(t,i){this._EnterFightFinish(t,i)},a._IsNeedDeal=function(){return!1},a.showFightUI=function(){this.isInFighting=!0,this.uiRoot.active=!0,this.labelRound.string="",this.animDefeat.node.active=!1,this.animVictory.node.active=!1,this.animBegin.node.active=!1},a.hideFightUI=function(){this.isInFighting=!1,this.uiRoot.active=!1,this.animDefeat.animation="",this.animVictory.animation="",this.animBegin.animation="",this.animDefeat.node.active=!1,this.animVictory.node.active=!1,this.animBegin.node.active=!1,this.labelRound.string=""},a._RefreshRoundNum=function(t){this._IsNeedDeal()&&null!=this.labelRound&&(this.labelRound.string=g.i18nFormat(_.getI18nUIText("u.31201"),[t.toString()]))},a._EnterFightReady=function(t){var i=this;this._IsNeedDeal()&&null!=this.animBegin&&this.scheduleOnce((function(){i.animBegin.node.active=!0,i.animBegin.timeScale=t,i.animBegin.animation="animation"}),1/t)},a._EnterFightFinish=function(t,i){this._IsNeedDeal()&&null!=this.animVictory&&null!=this.animDefeat&&(this.labelRound.string="",t?(this.animVictory.timeScale=i,this.animVictory.animation="animation",this.animVictory.node.active=!0):(this.animDefeat.timeScale=i,this.animDefeat.animation="animation",this.animDefeat.node.active=!0))},i}(u)).prototype,"fightCenterNode",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=i(y.prototype,"maskBg",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=i(y.prototype,"fightBg",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=i(y.prototype,"uiRoot",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=i(y.prototype,"animBegin",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=i(y.prototype,"animVictory",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=i(y.prototype,"animDefeat",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=i(y.prototype,"labelRound",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=y))||T));a._RF.pop()}}}));

System.register("chunks:///_virtual/fight.show.info.main.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fight.show.info.base.ts","./fight.system.ts","./enum.fight.define.ts"],(function(t){"use strict";var i,e,n,s,o,h;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy,n=t._decorator},function(t){s=t.FightShowInfoBase},function(t){o=t.FightSystem},function(t){h=t.EFightType}],execute:function(){var c;e._RF.push({},"b732cBydMBOHIA+zQzlEIhI","fight.show.info.main",void 0);var a=n.ccclass;t("FightShowInfoMain",a("FightShowInfoMain")(c=function(t){function e(){return t.apply(this,arguments)||this}i(e,t);var n=e.prototype;return n.onLoad=function(){this.addEvents()},n.onDestroy=function(){this.removeEvents()},n._IsNeedDeal=function(){var t=o.instance.curFightType;return t===h.Player_Guide||t===h.PVP||t===h.PVP_Rank||t===h.Escort},n.showFightUI=function(){this._IsNeedDeal()&&(t.prototype.showFightUI.call(this),this.maskBg&&(this.maskBg.active=!0),this.fightBg&&(this.fightBg.node.active=!0))},n.hideFightUI=function(){this._IsNeedDeal()&&(t.prototype.hideFightUI.call(this),this.maskBg&&(this.maskBg.active=!1),this.fightBg&&(this.fightBg.node.active=!1))},e}(s))||c);e._RF.pop()}}}));

System.register("chunks:///_virtual/fight.show.info.maze.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fight.show.info.base.ts","./fight.system.ts","./enum.fight.define.ts"],(function(t){"use strict";var n,e,o,i,s,r;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy,o=t._decorator},function(t){i=t.FightShowInfoBase},function(t){s=t.FightSystem},function(t){r=t.EFightType}],execute:function(){var c;e._RF.push({},"9ad91Vas6JNPLUfEKYAVmNE","fight.show.info.maze",void 0);var f=o.ccclass;t("FightShowInfoMaze",f("FightShowInfoMaze")(c=function(t){function e(){return t.apply(this,arguments)||this}n(e,t);var o=e.prototype;return o.onLoad=function(){this.addEvents()},o.onDestroy=function(){this.removeEvents()},o._IsNeedDeal=function(){var t=s.instance.curFightType;return t===r.Event_Monster||t===r.Player_VS_Monster},e}(i))||c);e._RF.pop()}}}));

System.register("chunks:///_virtual/fight.simulator.ts",["./rollupPluginModLoBabelHelpers.js","cc","./enum.fight.state.ts"],(function(t){"use strict";var i,n,e;return{setters:[function(t){i=t.createClass},function(t){n=t.cclegacy},function(t){e=t.EFightState}],execute:function(){n._RF.push({},"e4430RHCylCUY/jmVgx18Fr","fight.simulator",void 0);t("FightSimulator",function(){function t(){this.mActorMembers=null,this.mIsInFightReady=!1,this.mIsReadyFinish=!1,this.mReadyNum=0,this.mIsFightingInRound=!1,this.mIsActorInFighting=!1,this.mCurRoundNum=0,this.mCurRoundList=null,this.mFighterIndex=0,this.mOneRoundStart=null,this.mOneRoundFinish=null,this.mFightSpeed=1,this.mDeltaTime=0,this.mNeedWaitTime=.5,this.mActorMembers=new Array}var n=t.prototype;return n.Release=function(){this.mActorMembers=null,this.mIsInFightReady=!1,this.mIsReadyFinish=!1,this.mReadyNum=0,this.mIsFightingInRound=!1,this.mCurRoundNum=0,this.mCurRoundList=null,this.mOneRoundStart=null,this.mOneRoundFinish=null},n.AddFighterActor=function(t){this.mActorMembers.push(t)},n.GetFighterActorByID=function(t){for(var i=0;i<this.mActorMembers.length;i++)if(this.mActorMembers[i].RealID===t)return this.mActorMembers[i];return null},n.ResetFighterState=function(t){for(var i=0;i<t.length;i++){var n=this.GetFighterActorByID(t[i].actorId);null!=n&&n.RefreshFightData(t[i].hp,t[i].isDead,t[i].isDizziness,t[i].skillBuffID)}},n.IsFightReadyFinished=function(){return this.mIsReadyFinish},n.Enter_FightReady=function(){if(!this.mIsInFightReady)if(this.mIsInFightReady=!0,this.mActorMembers.length<=0)this.mIsReadyFinish=!0;else for(var t=0;t<this.mActorMembers.length;t++){this.mActorMembers[t].ChangeState(e.FightReady)}},n.OnFightReadyFinish=function(){this.mReadyNum+=1,this.mReadyNum===this.mActorMembers.length&&(this.mIsReadyFinish=!0)},n.Exit_FightReady=function(){this.mIsInFightReady=!1,this.mReadyNum=0,this.mIsReadyFinish=!1;for(var t=0;t<this.mActorMembers.length;t++){this.mActorMembers[t].ChangeState(e.Idle)}},n.Enter_FightingInit=function(){this.mIsFightingInRound=!1,this.mIsActorInFighting=!1},n.Enter_FightingInRound=function(t,i){this.mCurRoundNum=t,this.mCurRoundList=i,this.mDeltaTime=0,this.mFighterIndex=0,this.mIsFightingInRound=!0,this.mIsActorInFighting=!1,null!=this.mOneRoundStart&&this.mOneRoundStart(this.mCurRoundNum)},n.Update_FightingInRound=function(t,i){if(this.mDeltaTime<this.mNeedWaitTime/this.FightSpeed)this.mDeltaTime+=t;else if(!this.mIsActorInFighting)if(this.mFighterIndex>=this.mCurRoundList.length)this.Exit_FightingInRound();else{var n=this.mCurRoundList[this.mFighterIndex];this.mIsActorInFighting=!0;var s=this.GetFighterActorByID(n.actorId);null!=s&&s.ChangeState(e.Fighting),this.mFighterIndex+=1}},n.OnFightingFinish=function(){this.mIsActorInFighting=!1},n.Exit_FightingInRound=function(){this.mIsFightingInRound=!1,null!=this.mOneRoundFinish&&this.mOneRoundFinish()},n.Enter_FightClearing=function(t){for(var i=0;i<this.mActorMembers.length;i++){var n=this.mActorMembers[i];n.IsDead||(t?n.ChangeState(e.FightSuccess):n.ChangeState(e.FightFailed))}},i(t,[{key:"IsFightingInRound",get:function(){return this.mIsFightingInRound}},{key:"FightEventList",get:function(){return null!=this.mCurRoundList&&this.mCurRoundList.length>this.mFighterIndex?this.mCurRoundList[this.mFighterIndex].eventList:null}},{key:"FightSpeed",get:function(){return this.mFightSpeed},set:function(t){this.mFightSpeed=t}},{key:"PropOneRoundStart",set:function(t){this.mOneRoundStart=t}},{key:"PropOneRoundFinish",set:function(t){this.mOneRoundFinish=t}}]),t}());n._RF.pop()}}}));

System.register("chunks:///_virtual/fight.state.base.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,n,i;return{setters:[function(t){e=t.createClass},function(t){n=t.cclegacy,i=t._decorator}],execute:function(){var s;n._RF.push({},"2caf4kR1ZROOKZkWLRfj0Wr","fight.state.base",void 0);var c=i.ccclass;t("FightStateBase",c("FightStateBase")(s=function(){function t(t,e){this.mIsStateActive=void 0,this.mState=null,this.mOwnerFighter=null,this.mOwnerFighter=t,this.mState=e}var n=t.prototype;return n.Enter=function(t){this.mIsStateActive=!0,this.OnEnter(t)},n.Exit=function(t){this.mIsStateActive=!1,this.OnExit(t)},n.UpdateState=function(t){this.OnUpdate(t)},n.OnEnter=function(t){},n.OnExit=function(t){},n.OnUpdate=function(t){},n.Cleanup=function(){},n.OnMoveFinish=function(){},n.OnUseSkillFinish=function(){},e(t,[{key:"StateType",get:function(){return this.mState}},{key:"IsStateActive",get:function(){return this.mIsStateActive}}]),t}())||s);n._RF.pop()}}}));

System.register("chunks:///_virtual/fight.state.death.ts",["./rollupPluginModLoBabelHelpers.js","cc","./enum.anim.state.ts","./enum.fight.state.ts","./fight.state.base.ts"],(function(t){"use strict";var e,i,s,n,h,a;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy,s=t._decorator},function(t){n=t.EAnimState},function(t){h=t.EFightState},function(t){a=t.FightStateBase}],execute:function(){var r;i._RF.push({},"52470UfpQNJGpxJkROgodc5","fight.state.death",void 0);var m=s.ccclass;t("FightStateDeath",m("FightStateDeath")(r=function(t){function i(e){var i;return(i=t.call(this,e,h.Death)||this).mIsRealDeath=!1,i.mCurUseTime=0,i.mWaitTime=2,i.mFightSpeed=0,i}e(i,t);var s=i.prototype;return s.OnEnter=function(e){t.prototype.OnEnter.call(this,e),this.mFightSpeed=this.mOwnerFighter.FightSimulator.FightSpeed,this.mIsRealDeath=!1,this.mCurUseTime=0,this.mOwnerFighter.IsDead=!0,this.mOwnerFighter.playAnim(n.Die,this.mFightSpeed)},s.OnExit=function(e){t.prototype.OnExit.call(this,e),this.mOwnerFighter.IsDead=!1},s.OnUpdate=function(t){this.mIsRealDeath||(this.mCurUseTime>=this.mWaitTime/this.mFightSpeed&&(this.mIsRealDeath=!0,this.mOwnerFighter.OnDead()),this.mCurUseTime+=t)},s.Cleanup=function(){},i}(a))||r);i._RF.pop()}}}));

System.register("chunks:///_virtual/fight.state.dizzness.ts",["./rollupPluginModLoBabelHelpers.js","cc","./enum.anim.state.ts","./effect.system.ts","./enum.fight.state.ts","./fight.state.base.ts"],(function(t){"use strict";var e,i,s,n,c,r,f;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy,s=t._decorator},function(t){n=t.EAnimState},function(t){c=t.EffectSystem},function(t){r=t.EFightState},function(t){f=t.FightStateBase}],execute:function(){var h;i._RF.push({},"e4dc1XxybJMDYmRJiYsslnz","fight.state.dizzness",void 0);var a=s.ccclass;t("FightStateDizziness",a("FightStateDizziness")(h=function(t){function i(e){var i;return(i=t.call(this,e,r.Dizziness)||this).mFightSpeed=0,i.mDizzinessEffect=null,i}e(i,t);var s=i.prototype;return s.OnEnter=function(e){t.prototype.OnEnter.call(this,e),this.mFightSpeed=this.mOwnerFighter.FightSimulator.FightSpeed,this.mOwnerFighter.IsDizziness=!0,this.mOwnerFighter.playAnim(n.Stun,this.mFightSpeed),this.mOwnerFighter.Dir=this.mOwnerFighter.InitFaceDir,null!=this.mDizzinessEffect&&(c.instance.RemoveEffect(this.mDizzinessEffect),this.mDizzinessEffect=null),this.mDizzinessEffect=c.instance.CreateMountEffect(10001,this.mOwnerFighter)},s.OnExit=function(e){t.prototype.OnExit.call(this,e),this.mOwnerFighter.IsDizziness=!1,null!=this.mDizzinessEffect&&(c.instance.RemoveEffect(this.mDizzinessEffect),this.mDizzinessEffect=null)},s.Cleanup=function(){},i}(f))||h);i._RF.pop()}}}));

System.register("chunks:///_virtual/fight.state.failed.ts",["./rollupPluginModLoBabelHelpers.js","cc","./enum.anim.state.ts","./enum.fight.state.ts","./fight.state.base.ts"],(function(t){"use strict";var e,i,n,a,s,r;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy,n=t._decorator},function(t){a=t.EAnimState},function(t){s=t.EFightState},function(t){r=t.FightStateBase}],execute:function(){var o;i._RF.push({},"5b3140/5UpD9qZnxEkVCRvw","fight.state.failed",void 0);var c=n.ccclass;t("FightStateFailed",c("FightStateFailed")(o=function(t){function i(e){var i;return(i=t.call(this,e,s.FightFailed)||this).mFightSpeed=0,i}e(i,t);var n=i.prototype;return n.OnEnter=function(e){t.prototype.OnEnter.call(this,e),this.mFightSpeed=this.mOwnerFighter.FightSimulator.FightSpeed,this.mOwnerFighter.playAnim(a.Idle,this.mFightSpeed)},n.OnExit=function(e){t.prototype.OnExit.call(this,e)},n.Cleanup=function(){},i}(r))||o);i._RF.pop()}}}));

System.register("chunks:///_virtual/fight.state.fighting.back.ts",["./rollupPluginModLoBabelHelpers.js","cc","./enum.anim.state.ts","./table.helper.ts","./enum.fight.state.ts","./fight.state.base.ts"],(function(t){"use strict";var i,e,n,s,h,o,r,l;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy,n=t._decorator,s=t.v2},function(t){h=t.EAnimState},function(t){o=t.TableHelper},function(t){r=t.EFightState},function(t){l=t.FightStateBase}],execute:function(){var g;e._RF.push({},"9e36fDcnd5HpohvZZ7qCwoD","fight.state.fighting.back",void 0);var a=n.ccclass;t("FightStateFightingBack",a("FightStateFightingBack")(g=function(t){function e(i){var e;return(e=t.call(this,i,r.FightingBack)||this).mTargetActor=null,e.mInitPosition=null,e.mIsFightingBackFinish=!1,e.mFightSpeed=0,e}i(e,t);var n=e.prototype;return n.OnEnter=function(i){t.prototype.OnEnter.call(this,i),this.mFightSpeed=this.mOwnerFighter.FightSimulator.FightSpeed,this.mInitPosition=s(this.mOwnerFighter.Position.x,this.mOwnerFighter.Position.y),null!=this.mOwnerFighter.FightEvent?(this.mTargetActor=this.mOwnerFighter.FightSimulator.GetFighterActorByID(this.mOwnerFighter.FightEvent.attack.target),this._StartUseSkill()):this.OnUseSkillFinish()},n.OnExit=function(i){t.prototype.OnExit.call(this,i),this.mInitPosition=null,this.mOwnerFighter.FightEvent=null,this.mTargetActor=null,this.mIsFightingBackFinish=!1},n.Cleanup=function(){},n._OnFightingBackFinish=function(){null!=this.mTargetActor&&this.mTargetActor.OnFinishUseSkill(),this.mOwnerFighter.ChangeState(r.Idle)},n._MoveToTarget=function(){this.mOwnerFighter.MoveToPosition(this.mTargetActor.BeHitPosition,1e3,h.Run)},n._BackToMove=function(){null!=this.mInitPosition&&this.mOwnerFighter.MoveToPosition(this.mInitPosition,1e3,h.Run)},n._StartUseSkill=function(){if(null==this.mOwnerFighter||this.mOwnerFighter.IsDead)this.OnUseSkillFinish();else if(null==this.mTargetActor||this.mTargetActor.IsDead)this.OnUseSkillFinish();else{var t=this.mOwnerFighter.PropCommonSkillID,i=o.getSkillRecord(t);if(null!=i)if(i.RealSkillAttackDis>=20)this._RealUseSkill();else s(this.mOwnerFighter.Position.x,this.mOwnerFighter.Position.y).equals(this.mTargetActor.BeHitPosition,.1)?this._RealUseSkill():this._MoveToTarget();else this.OnUseSkillFinish()}},n._RealUseSkill=function(){var t=this.mOwnerFighter.PropCommonSkillID,i=1*this.mFightSpeed;this.mOwnerFighter.PropSkillContainer.UseSkill(t,this.mTargetActor,i,!0),this.mOwnerFighter.OnFightbackShow()},n.OnMoveFinish=function(){this.mIsFightingBackFinish?this._OnFightingBackFinish():this._StartUseSkill()},n.OnUseSkillFinish=function(){this.mIsFightingBackFinish=!0,s(this.mOwnerFighter.Position.x,this.mOwnerFighter.Position.y).equals(this.mInitPosition,.1)?this._OnFightingBackFinish():this._BackToMove()},e}(l))||g);e._RF.pop()}}}));

System.register("chunks:///_virtual/fight.state.fighting.ts",["./rollupPluginModLoBabelHelpers.js","cc","./enum.anim.state.ts","./event.dispatcher.ts","./event.name.ts","./enum.skill.define.ts","./table.helper.ts","./enum.fight.define.ts","./enum.fight.state.ts","./fight.state.base.ts"],(function(t){"use strict";var i,e,s,h,n,r,g,m,a,l,o,F,u;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy,s=t._decorator,h=t.v2},function(t){n=t.EAnimState},function(t){r=t.EventDispatcher},function(t){g=t.EventName},function(t){m=t.ESkillType},function(t){a=t.TableHelper},function(t){l=t.EFightEventType,o=t.EFightEventStatus},function(t){F=t.EFightState},function(t){u=t.FightStateBase}],execute:function(){var c;e._RF.push({},"1927bzjlp9F9YBukJiRsRje","fight.state.fighting",void 0);var f=s.ccclass;t("FightStateFighting",f("FightStateFighting")(c=function(t){function e(i){var e;return(e=t.call(this,i,F.Fighting)||this).mFightEventList=null,e.mCurFightEvent=null,e.mCurProcessIndex=0,e.mIsCurProcessFinish=!1,e.mIsFightingFinish=!1,e.mTargetActor=null,e.mDeltaTime=0,e.mNeedWaitTime=0,e.mFightSpeed=0,e}i(e,t);var s=e.prototype;return s.OnEnter=function(i){t.prototype.OnEnter.call(this,i),this.mFightSpeed=this.mOwnerFighter.FightSimulator.FightSpeed,this.mFightEventList=this.mOwnerFighter.FightSimulator.FightEventList,this.mDeltaTime=0,this.mNeedWaitTime=0,this.mCurProcessIndex=0,this.mIsCurProcessFinish=!1,this.mIsFightingFinish=!1,this.mOwnerFighter.OnRoundFightShow(),this.StartFighting()},s.OnExit=function(i){t.prototype.OnExit.call(this,i),this.mOwnerFighter.OnRoundFightHide(),this.mOwnerFighter.FightEvent=null,this.mFightEventList=null,this.mCurFightEvent=null,this.mTargetActor=null},s.OnUpdate=function(t){this.UpdateFighting(t)},s.Cleanup=function(){},s.StartFighting=function(){this.mIsCurProcessFinish=!0},s.UpdateFighting=function(t){if(this.mIsCurProcessFinish&&!this.mIsFightingFinish){if(this.mDeltaTime>=this.mNeedWaitTime/this.mFightSpeed){if(this.mDeltaTime=0,this.mCurProcessIndex>=this.mFightEventList.length)return void this._EndFighting();this.mIsCurProcessFinish=!1,this.mCurFightEvent=this.mFightEventList[this.mCurProcessIndex],this.mOwnerFighter.FightEvent=this.mCurFightEvent,this.mCurFightEvent.event===l.Attack?this._fightAttack():this.mCurFightEvent.event===l.Skill?this._fightSkill():this.mCurFightEvent.event===l.Buff?this._fightBuff():this.mCurFightEvent.event===l.Status?this._fightStatus():this.mCurFightEvent.event===l.SetHP&&this._fightSetHP(),this.mCurProcessIndex+=1}this.mDeltaTime+=t}},s._fightAttack=function(){if(this.mCurFightEvent.attack){var t=this.mOwnerFighter.FightSimulator.GetFighterActorByID(this.mCurFightEvent.attack.src),i=this.mOwnerFighter.FightSimulator.GetFighterActorByID(this.mCurFightEvent.attack.target);this.mOwnerFighter.RealID===t.RealID?(this.mNeedWaitTime=0,this.mTargetActor=i,this._StartUseSkill()):this.mOwnerFighter.RealID===i.RealID&&(this.mNeedWaitTime=0,t.FightEvent=this.mCurFightEvent,t.ChangeState(F.FightingBack))}else this.mIsCurProcessFinish=!0},s._fightSkill=function(){if(this.mCurFightEvent.skill){this.mNeedWaitTime=0;var t=this.mOwnerFighter.FightSimulator.GetFighterActorByID(this.mCurFightEvent.skill.src),i=this.mOwnerFighter.FightSimulator.GetFighterActorByID(this.mCurFightEvent.skill.target),e=a.getSimpleSkill(this.mCurFightEvent.skill.skillID);if(null!=e)switch(e.skillType){case m.KuangBao:case m.ShiQiang:this.mIsCurProcessFinish=!0;break;case m.FuSheng:t.OnSkillShow(this.mCurFightEvent.skill.skillID),this.mIsCurProcessFinish=!0;break;case m.ZhanSha:this.mTargetActor=i,this._StartUseSkill();break;case m.ShenYou:case m.ZhaoJia:case m.AddAttr:default:this.mIsCurProcessFinish=!0}else this.mIsCurProcessFinish=!0}else this.mIsCurProcessFinish=!0},s._fightBuff=function(){if(this.mCurFightEvent.buff){var t=this.mOwnerFighter.FightSimulator.GetFighterActorByID(this.mCurFightEvent.buff.src),i=this.mCurFightEvent.buff.skillID;t.OnBuffShow(i,1===this.mCurFightEvent.buff.buffState),this.mIsCurProcessFinish=!0}else this.mIsCurProcessFinish=!0},s._fightStatus=function(){if(this.mCurFightEvent.status){var t=this.mOwnerFighter.FightSimulator.GetFighterActorByID(this.mCurFightEvent.status.src);switch(this.mCurFightEvent.status.stateID){case o.Dead:1===this.mCurFightEvent.status.stateValue?(this.mNeedWaitTime=1.5,t.IsDead||(t.IsDead=!0)):(this.mNeedWaitTime=.5,t.IsDead&&(t.IsDead=!1)),this.mIsCurProcessFinish=!0;break;case o.Dizziness:this.mNeedWaitTime=.5,1===this.mCurFightEvent.status.stateValue?t.IsDizziness||(t.IsDizziness=!0):t.IsDizziness&&(t.IsDizziness=!1),this.mIsCurProcessFinish=!0}}else this.mIsCurProcessFinish=!0},s._fightSetHP=function(){this.mCurFightEvent.setHP?(this.mOwnerFighter.FightSimulator.GetFighterActorByID(this.mCurFightEvent.setHP.src).SetHP(this.mCurFightEvent.setHP.hp),this.mIsCurProcessFinish=!0):this.mIsCurProcessFinish=!0},s._EndFighting=function(){(this.mIsFightingFinish=!0,this.mOwnerFighter.OnComboHide(),this.mOwnerFighter.IsDead)?r.emit(g.FIGHT_STATE_ROUND_FINISH):h(this.mOwnerFighter.Position.x,this.mOwnerFighter.Position.y).equals(this.mOwnerFighter.InitPosition,.1)?this.OnMoveFinish():this._BackToMove()},s._MoveToTarget=function(){this.mOwnerFighter.MoveToPosition(this.mTargetActor.BeHitPosition,1e3,n.Run)},s._BackToMove=function(){this.mOwnerFighter.MoveToPosition(this.mOwnerFighter.InitPosition,1e3,n.Run)},s.OnMoveFinish=function(){this.mIsFightingFinish?(this.mOwnerFighter.ChangeState(F.Idle),r.emit(g.FIGHT_STATE_ROUND_FINISH)):this._StartUseSkill()},s.OnUseSkillFinish=function(){this.mIsCurProcessFinish=!0},s._StartUseSkill=function(){if(null==this.mOwnerFighter||this.mOwnerFighter.IsDead)this.OnUseSkillFinish();else if(null==this.mTargetActor||this.mTargetActor.IsDead)this.OnUseSkillFinish();else{var t=this.mOwnerFighter.PropCommonSkillID,i=a.getSkillRecord(t);if(null!=i)if(i.RealSkillAttackDis>=20)h(this.mOwnerFighter.Position.x,this.mOwnerFighter.Position.y).equals(this.mOwnerFighter.InitPosition,.1)?this._RealUseSkill():this._BackToMove();else h(this.mOwnerFighter.Position.x,this.mOwnerFighter.Position.y).equals(this.mTargetActor.BeHitPosition,.1)?this._RealUseSkill():this._MoveToTarget();else this.OnUseSkillFinish()}},s._RealUseSkill=function(){var t=this.mOwnerFighter.PropCommonSkillID,i=1*this.mFightSpeed;if(this.mOwnerFighter.PropSkillContainer.UseSkill(t,this.mTargetActor,i,!0),this.mCurFightEvent.event===l.Attack)this.mCurFightEvent.attack.attackCount>1&&this.mOwnerFighter.OnComboShow(this.mCurFightEvent.attack.attackCount);else if(this.mCurFightEvent.event===l.Skill){a.getSimpleSkill(this.mCurFightEvent.skill.skillID).skillType===m.ZhanSha&&this.mOwnerFighter.OnSkillShow(this.mCurFightEvent.skill.skillID)}},e}(u))||c);e._RF.pop()}}}));

System.register("chunks:///_virtual/fight.state.idle.ts",["./rollupPluginModLoBabelHelpers.js","cc","./enum.anim.state.ts","./enum.fight.state.ts","./fight.state.base.ts"],(function(t){"use strict";var e,i,n,s,r,h;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy,n=t._decorator},function(t){s=t.EAnimState},function(t){r=t.EFightState},function(t){h=t.FightStateBase}],execute:function(){var a;i._RF.push({},"15532WeiztIsofE49we51sK","fight.state.idle",void 0);var o=n.ccclass;t("FightStateIdle",o("FightStateIdle")(a=function(t){function i(e){var i;return(i=t.call(this,e,r.Idle)||this).mFightSpeed=0,i}e(i,t);var n=i.prototype;return n.OnEnter=function(e){t.prototype.OnEnter.call(this,e),this.mFightSpeed=this.mOwnerFighter.FightSimulator.FightSpeed,this.mOwnerFighter.IsDead?this.mOwnerFighter.playAnim(s.Die,this.mFightSpeed):this.mOwnerFighter.IsDizziness?this.mOwnerFighter.playAnim(s.Stun,this.mFightSpeed):this.mOwnerFighter.playAnim(s.Idle,this.mFightSpeed),this.mOwnerFighter.Dir=this.mOwnerFighter.InitFaceDir},n.OnExit=function(e){t.prototype.OnExit.call(this,e)},n.Cleanup=function(){},i}(h))||a);i._RF.pop()}}}));

System.register("chunks:///_virtual/fight.state.null.ts",["./rollupPluginModLoBabelHelpers.js","cc","./enum.fight.state.ts","./fight.state.base.ts"],(function(t){"use strict";var n,e,i,o,u;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy,i=t._decorator},function(t){o=t.EFightState},function(t){u=t.FightStateBase}],execute:function(){var c;e._RF.push({},"31e81xICo1D764ZiHk45VGp","fight.state.null",void 0);var s=i.ccclass;t("FightStateNull",s("FightStateNull")(c=function(t){function e(n){return t.call(this,n,o.None)||this}n(e,t);var i=e.prototype;return i.OnEnter=function(n){t.prototype.OnEnter.call(this,n)},i.OnExit=function(n){t.prototype.OnExit.call(this,n)},i.OnUpdate=function(){},i.Cleanup=function(){},e}(u))||c);e._RF.pop()}}}));

System.register("chunks:///_virtual/fight.state.ready.ts",["./rollupPluginModLoBabelHelpers.js","cc","./enum.anim.state.ts","./event.dispatcher.ts","./event.name.ts","./enum.fight.state.ts","./fight.state.base.ts"],(function(t){"use strict";var e,i,n,s,a,h,r,c;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy,n=t._decorator},function(t){s=t.EAnimState},function(t){a=t.EventDispatcher},function(t){h=t.EventName},function(t){r=t.EFightState},function(t){c=t.FightStateBase}],execute:function(){var u;i._RF.push({},"136c4/oAwZAdby3jMNAtRVA","fight.state.ready",void 0);var m=n.ccclass;t("FightStateReady",m("FightStateReady")(u=function(t){function i(e){var i;return(i=t.call(this,e,r.FightReady)||this).mIsReadyFinished=!1,i.mCurUseTime=0,i.mWaitTime=3,i.mFightSpeed=0,i}e(i,t);var n=i.prototype;return n.OnEnter=function(e){t.prototype.OnEnter.call(this,e),this.mFightSpeed=this.mOwnerFighter.FightSimulator.FightSpeed,this.mIsReadyFinished=!1,this.mCurUseTime=0,this.mOwnerFighter.playAnim(s.Idle,this.mFightSpeed)},n.OnExit=function(e){t.prototype.OnExit.call(this,e)},n.OnUpdate=function(t){this.mIsReadyFinished||(this.mCurUseTime>=this.mWaitTime/this.mFightSpeed&&(this.mIsReadyFinished=!0,a.emit(h.FIGHT_STATE_ACTOR_READY_FINISH)),this.mCurUseTime+=t)},n.Cleanup=function(){},i}(c))||u);i._RF.pop()}}}));

System.register("chunks:///_virtual/fight.state.success.ts",["./rollupPluginModLoBabelHelpers.js","cc","./enum.anim.state.ts","./enum.fight.state.ts","./fight.state.base.ts"],(function(t){"use strict";var e,i,n,s,c,r;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy,n=t._decorator},function(t){s=t.EAnimState},function(t){c=t.EFightState},function(t){r=t.FightStateBase}],execute:function(){var u;i._RF.push({},"d9546t9gjZMq5VBf+IQphqR","fight.state.success",void 0);var a=n.ccclass;t("FightStateSuccess",a("FightStateSuccess")(u=function(t){function i(e){var i;return(i=t.call(this,e,c.FightSuccess)||this).mFightSpeed=0,i}e(i,t);var n=i.prototype;return n.OnEnter=function(e){t.prototype.OnEnter.call(this,e),this.mFightSpeed=this.mOwnerFighter.FightSimulator.FightSpeed,this.mOwnerFighter.playAnim(s.Win,this.mFightSpeed)},n.OnExit=function(e){t.prototype.OnExit.call(this,e)},n.Cleanup=function(){},i}(r))||u);i._RF.pop()}}}));

System.register("chunks:///_virtual/fight.system.ts",["./rollupPluginModLoBabelHelpers.js","cc","./event.dispatcher.ts","./event.name.ts","./game.state.ts","./game.state.manager.ts","./base.system.ts","./object.fight.actor.ts","./object.fight.monster.ts","./effect.system.ts","./net.helper.ts","./fight.client.protocol.ts","./sound.helper.ts","./battle.fsm.ts","./enum.battle.state.ts","./enum.fight.define.ts","./fight.data.object.ts","./fight.position.object.ts","./fight.simulator.ts","./ui.float.text.controller.ts","./ui.map.loading.controller.ts","./scene.node.manager.ts","./localstorage.manager.ts","./localstorage.define.ts"],(function(t){"use strict";var i,e,n,a,s,h,r,o,u,g,l,F,c,m,f,p,S,d,I,_,D,A,T,R,P,y,C,O,E,M,k,v,N;return{setters:[function(t){i=t.inheritsLoose,e=t.createForOfIteratorHelperLoose,n=t.createClass,a=t.asyncToGenerator,s=t.regeneratorRuntime},function(t){h=t.cclegacy,r=t._decorator},function(t){o=t.EventDispatcher},function(t){u=t.EventName},function(t){g=t.EnumGameState},function(t){l=t.GameStateManager},function(t){F=t.BaseSystem},function(t){c=t.FighterActor},function(t){m=t.FighterMonster},function(t){f=t.EffectSystem},function(t){p=t.NetHelper},function(t){S=t.eFightJsonDataType,d=t.eFightCreatePVPResult,I=t.eFightCreatePVPRank},function(t){_=t.SoundHelper},function(t){D=t.BattleStateFSM},function(t){A=t.EBattleState},function(t){T=t.EFightType,R=t.EFighterType,P=t.EFightCamp},function(t){y=t.FightData},function(t){C=t.FightPosition},function(t){O=t.FightSimulator},function(t){E=t.UIFloatTextController},function(t){M=t.UIMaploadingController},function(t){k=t.SceneNodeManager},function(t){v=t.LocalStorageManager},function(t){N=t.LocalStorageDataType}],execute:function(){var G,w;h._RF.push({},"9294bQ5v/lH5ocgiiQ+EC3q","fight.system",void 0);var B=r.ccclass;t("FightSystem",B("FightSystem")(((w=function(t){function h(){for(var i,e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];return(i=t.call.apply(t,[this].concat(n))||this).mBattleFSM=null,i.mCurTeamView=0,i.mIsAllActorResLoadFinish=!1,i.mFightActorMap=new Map,i.mToDelFightActor=new Array,i.mCurRoundNum=0,i.mCurRoundInFight=new Array,i.mFightData=null,i.mFightPosition=null,i.mFightSimulator=null,i.mDeltaTime=0,i.mFightClearingWaitTime=2,i.mIsFightFinished=!1,i.mIsFightSkip=!1,i}i(h,t);var r=h.prototype;return r.addAllEvents=function(){o.on(u.FIGHT_STATE_ACTOR_READY_FINISH,this._OnFightActorReadyFinish,this),o.on(u.FIGHT_STATE_ROUND_FINISH,this._OnFightRoundFinish,this),o.on(u.FIGHT_FIGHTING_SKIP,this._OnSetFightingSkip,this),o.on(u.FIGHT_FIGHTING_SPEED,this._OnSetFightingSpeed,this)},r.removeAllEvents=function(){o.off(u.FIGHT_STATE_ACTOR_READY_FINISH,this._OnFightActorReadyFinish,this),o.off(u.FIGHT_STATE_ROUND_FINISH,this._OnFightRoundFinish,this),o.off(u.FIGHT_FIGHTING_SKIP,this._OnSetFightingSkip,this),o.off(u.FIGHT_FIGHTING_SPEED,this._OnSetFightingSpeed,this)},r._OnFightActorReadyFinish=function(){null!=this.mFightSimulator&&this.mFightSimulator.OnFightReadyFinish()},r._OnFightRoundFinish=function(){null!=this.mFightSimulator&&this.mFightSimulator.OnFightingFinish()},r._OnSetFightingSkip=function(){this.mIsFightSkip=!this.mIsFightSkip,this.mIsFightSkip?E.AddPopupText("Fighting Skip is Open!"):E.AddPopupText("Fighting Skip is Close!")},r._OnSetFightingSpeed=function(t){this.isCanSpeedUp()&&null!=this.mFightSimulator&&(this.mFightSimulator.FightSpeed=t)},r._OnAddChitChatData=function(t){if(this.isInFight()&&this.mFightData.fightType===T.PVP){var i=this.mFightSimulator.GetFighterActorByID(t.mFromID);null!=i&&i.ShowChitChat(t.mStrChat)}},r.testFight=function(){},r.handlerFightCmd=function(t){if(null!=t){this.mCurTeamView=t.teamView,null==this.mFightData&&(this.mFightData=new y);var i=JSON.parse(t.jsonStr);if(this.mFightData.parseJson(i),t.type===S.FightJson_Init)this.mBattleFSM.triggerState(A.Init),this.mIsFightFinished=!1;else if(t.type===S.FightJson_Round){var e;(e=this.mCurRoundInFight).push.apply(e,this.mFightData.roundsList)}else t.type===S.FightJson_Result&&(this.mIsFightFinished=!0)}},r.sysInitial=function(){t.prototype.sysInitial.call(this),this._initBattleFSM()},r.sysUpdate=function(i){t.prototype.sysUpdate.call(this,i),null!=this.mBattleFSM&&this.mBattleFSM.fsmUpdate(i),this._UpdateFightActor(i)},r.clearSysData=function(){t.prototype.clearSysData.call(this)},r.getFightID=function(){return null!=this.mFightData?this.mFightData.fightID:"0"},r.destroyFight=function(){null!=this.mBattleFSM&&null!=this.mBattleFSM.CurrentState&&(this.mBattleFSM.isInState(A.None)||this.mBattleFSM.isInState(A.Finish)||this.mBattleFSM.triggerState(A.Finish))},r.isInFight=function(){return null!=this.mBattleFSM&&null!=this.mBattleFSM.CurrentState&&(null!=this.mBattleFSM.CurrentState&&!this.mBattleFSM.isInState(A.None))},r.isWatchFight=function(){if(null==this.mFightData||null==this.mFightData.actorsList)return!1;for(var t=0;t<this.mFightData.actorsList.length;t++)if(this.mFightData.actorsList[t].id===this.UsePlayerSelf.RealPlayerID)return!1;return!0},r.isCanSpeedUp=function(){return null!=this.mFightData&&(this.mFightData.fightType!==T.Player_Guide&&this.mFightData.fightType!==T.PVP&&!this.isWatchFight())},r.handlerPVPFightResult=function(t){switch(t){case d.eCreatePVP_Success:break;case d.eCreatePVP_Fighting:E.AddTipI18nID_Info("u.2127");break;case d.eCreatePVP_NotFound:E.AddTipI18nID_Info("u.2128");break;case d.eCreatePVP_Repeat:E.AddTipI18nID_Info("u.2129");break;case d.eCreatePVP_TooFar:E.AddTipI18nID_Info("u.2130");break;case d.eCreatePVP_TimeOut:E.AddTipI18nID_Info("u.2131");break;case d.eCreatePVP_Target_Fighting:E.AddTipI18nID_Info("u.2132");break;case d.eCreatePVP_Target_BeInvited:E.AddTipI18nID_Info("u.2133")}},r.handlerPVPRankFightCreate=function(t){switch(t){case I.eCreatePVPRank_Success:break;case I.eCreatePVPRank_Matching:E.AddTipI18nID_Info("u.2216");break;case I.eCreatePVPRank_Fighting:E.AddTipI18nID_Info("u.2127");break;case I.eCreatePVPRank_NoCount:E.AddTipI18nID_Info("u.2217");break;case I.eCreatePVPRank_NoOpen:E.AddTipI18nID_Info("u.2215");break;case I.eCreatePVPRank_WaitClearing:E.AddTipI18nID_Info("u.2219")}},r.stateInitOnEnter=function(){var t=a(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:l.instance.CurState=g.FightRun,_.StopMusic_BG(),o.emit(u.UI_MAP_LOADING_OPEN);case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),r.stateInitOnUpdate=function(){M.instance.IsBlack&&(o.emit(u.FIGHT_STATE_ENTER),this.mBattleFSM.triggerState(A.Loading))},r.stateLoadingOnEnter=function(){var t=a(s().mark((function t(){var i;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!=this.mFightData){t.next=2;break}return t.abrupt("return");case 2:f.instance.InitEffectSystem(),this.mFightPosition=new C,this.mFightSimulator=new O,this.mFightSimulator.PropOneRoundStart=this._OnOneRoundStart,this.mFightSimulator.PropOneRoundFinish=this._OnOneRoundFinish,this.isCanSpeedUp()?(i=v.instance.GetTargetLocalStorage(N.FightSpeed).GetIntData(),this.mFightSimulator.FightSpeed=i):this.mFightSimulator.FightSpeed=1,this._LoadAllFighter();case 9:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),r.stateLoadingOnUpdate=function(){if(this.mIsAllActorResLoadFinish)M.instance.IsNormal&&this.mBattleFSM.triggerState(A.Ready);else{for(var t,i=!0,n=e(this.mFightActorMap.values());!(t=n()).done;){if(!t.value.isLoadObjResFinish()){i=!1;break}}this.mIsAllActorResLoadFinish=i,o.emit(u.UI_MAP_LOADING_TO_NORMAL)}},r.stateReadyOnEnter=function(){var t=a(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.mFightSimulator.Enter_FightReady(),o.emit(u.FIGHT_UI_ENTER_READY,this.mFightSimulator.FightSpeed);case 2:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),r.stateReadyOnUpdate=function(){this.mFightSimulator.IsFightReadyFinished()&&this.mBattleFSM.triggerState(A.Fighting)},r.stateReadyOnExit=function(){var t=a(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.mFightSimulator.Exit_FightReady();case 1:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),r.stateFightingOnEnter=function(){var t=a(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.mFightSimulator.Enter_FightingInit();case 1:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),r.stateFightingOnUpdate=function(t){if(this.mFightSimulator.IsFightingInRound)this.mFightSimulator.Update_FightingInRound(t,this.mIsFightSkip);else if(this.mIsFightFinished&&this.mCurRoundInFight.length<=0)this.mBattleFSM.triggerState(A.Clearing);else if(this.mCurRoundInFight.length>0){var i=this.mCurRoundInFight.shift();null!=i&&(this.mFightSimulator.ResetFighterState(i.stateList),this.mFightSimulator.Enter_FightingInRound(i.roundNum,i.roundList))}},r.stateClearingOnEnter=function(){var t=a(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.mDeltaTime=0,_.StopMusic_BG(),this.mFightData.fightResult===this.mCurTeamView?(this.mFightSimulator.Enter_FightClearing(!0),o.emit(u.FIGHT_UI_ENTER_CLEARING,!0,this.mFightSimulator.FightSpeed)):(this.mFightSimulator.Enter_FightClearing(!1),o.emit(u.FIGHT_UI_ENTER_CLEARING,!1,this.mFightSimulator.FightSpeed));case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),r.stateClearingOnUpdate=function(t){this.mDeltaTime>this.mFightClearingWaitTime/this.mFightSimulator.FightSpeed&&this.mBattleFSM.triggerState(A.Finish),this.mDeltaTime+=t},r.stateFinishOnEnter=function(){var t=a(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:o.emit(u.UI_MAP_LOADING_OPEN);case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),r.stateFinishOnUpdate=function(){M.instance.IsBlack&&(o.emit(u.FIGHT_STATE_EXIT),this._DestroyBattle(),this.mBattleFSM.triggerState(A.None),l.instance.CurState=g.SceneRun,_.PlayMusic_MainBG(),o.emit(u.UI_MAP_LOADING_TO_NORMAL))},r._DestroyBattle=function(){f.instance.ClearEffectSystem(),this.mFightActorMap.forEach((function(t){t.clearObjectData()})),this.mFightActorMap.clear(),this.mToDelFightActor.splice(0,this.mToDelFightActor.length),this.mCurRoundInFight.splice(0,this.mCurRoundInFight.length),this.mCurTeamView=0,this.mCurRoundNum=0,this.mIsAllActorResLoadFinish=!1,null!=this.mFightData&&(this.mFightData.Release(),this.mFightData=null),null!=this.mFightPosition&&(this.mFightPosition.Release(),this.mFightPosition=null),null!=this.mFightSimulator&&(this.mFightSimulator.Release(),this.mFightSimulator=null),this.mIsFightFinished=!1},r._initBattleFSM=function(){this.mBattleFSM=new D,this.mBattleFSM.initStateFSM(this)},r._OnOneRoundStart=function(t){this.mCurRoundNum=t,o.emit(u.FIGHT_UI_REFRESH_ROUND_NUM,this.mCurRoundNum)},r._OnOneRoundFinish=function(){p.nextRoundInFight()},r._LoadAllFighter=function(){if(null!=this.mFightData.actorsList){this.mFightPosition.Release(),this.mFightPosition.Init(k.instance.fightRoleNode.worldPosition);for(var t=0;t<this.mFightData.actorsList.length;t++){var i=this.mFightData.actorsList[t];if(i.type===R.Player){var e=i,n=new c;if(n.initObject(),e.teamID===this.mCurTeamView){var a=this.mFightPosition.GetPosition(P.Attacker),s=this.mFightPosition.GetPetPosition(P.Attacker);n.InitFightActorData(e,P.Attacker,a,s)}else{var h=this.mFightPosition.GetPosition(P.Defender),r=this.mFightPosition.GetPetPosition(P.Defender);n.InitFightActorData(e,P.Defender,h,r)}n.FightSimulator=this.mFightSimulator,this.mFightSimulator.AddFighterActor(n),this.mFightActorMap.set(n.RealID,n)}else{var o=i,u=new m;u.initObject(),o.teamID===this.mCurTeamView?u.InitFightMonsterData(o,this.mFightPosition.GetPosition(P.Attacker),P.Attacker):u.InitFightMonsterData(o,this.mFightPosition.GetPosition(P.Defender),P.Defender),u.FightSimulator=this.mFightSimulator,this.mFightSimulator.AddFighterActor(u),this.mFightActorMap.set(u.RealID,u)}}}},r._UpdateFightActor=function(t){var i=this;this.mToDelFightActor=[],this.mFightActorMap.forEach((function(e,n){null!=e&&(e.NeedDelete?i.mToDelFightActor.push(n):e.runFrame(t))}));for(var e=0;e<this.mToDelFightActor.length;e+=1){var n=this.mToDelFightActor[e];this.mFightActorMap.get(n).clearObjectData(),this.mFightActorMap.set(n,null),this.mFightActorMap.delete(n)}},n(h,[{key:"curFightType",get:function(){return null===this.mFightData?T.None:this.mFightData.fightType}},{key:"IsFightSkip",get:function(){return this.mIsFightSkip},set:function(t){this.mIsFightSkip=t}}],[{key:"instance",get:function(){return null==this._instance&&(this._instance=new h),this._instance}}]),h}(F))._instance=null,G=w))||G);h._RF.pop()}}}));

System.register("chunks:///_virtual/game.common.use.res.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,n,i,r,a,o,l,s,c;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized,a=e.createClass},function(e){o=e.cclegacy,l=e._decorator,s=e.Material,c=e.Component}],execute:function(){var u,p,m,f,y,d,g,h;o._RF.push({},"637fauRHBVCLqd47wiQCLBB","game.common.use.res",void 0);var b=l.ccclass,_=l.property;e("GameCommonUseRes",(u=b("GameCommonUseRes"),p=_(s),m=_(s),u(((h=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,i(t,"farmItemOutlineMat",d,r(t)),i(t,"defaultSpineMat",g,r(t)),t}return n(t,e),t.prototype.onLoad=function(){t._instance=this},a(t,null,[{key:"instance",get:function(){return this._instance}}]),t}(c))._instance=null,d=t((y=h).prototype,"farmItemOutlineMat",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=t(y.prototype,"defaultSpineMat",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=y))||f));o._RF.pop()}}}));

System.register("chunks:///_virtual/game.event.handler.ts",["./rollupPluginModLoBabelHelpers.js","cc","./all.define.ts","./event.dispatcher.ts","./event.name.ts","./game.state.manager.ts","./net.system.ts","./scene.system.ts","./all.logic.system.ts","./all.logic.manager.ts","./all.model.manager.ts","./ui.utility.ts","./input.system.ts","./scene.define.ts","./ui.manager.ts","./ui.float.text.controller.ts","./auto.connect.tool.ts","./ui.message.box.controller.ts","./sdk.manager.ts","./twitter.ext.sdk.ts","./wizard.wallet.sdk.ts","./table.helper.ts"],(function(n){"use strict";var e,t,r,a,o,c,s,i,u,l,f,E,p,_,T,I,A,g,N,d,O,m,C,S,h,R,w,y;return{setters:[function(n){e=n.asyncToGenerator,t=n.regeneratorRuntime},function(n){r=n.cclegacy,a=n.game,o=n.Game,c=n.error},function(n){s=n.CursorType},function(n){i=n.EventDispatcher},function(n){u=n.EventName},function(n){l=n.GameStateManager},function(n){f=n.NetSystem},function(n){E=n.SceneSystem},function(n){p=n.clearAllSystem,_=n.onAllPreLoadFinish},function(n){T=n.clearAllManager,I=n.onAllPreLoadFinish},function(n){A=n.clearAllManager},function(n){g=n.UIUtility},function(n){N=n.InputSystem},function(n){d=n.CONST_SCENE_ID},function(n){O=n.UIManager},function(n){m=n.UIFloatTextController},function(n){C=n.AutoConnectTool},function(n){S=n.UIMessageBoxController},function(n){h=n.SDKManager},function(n){R=n.TwitterExtSDK},function(n){w=n.WizardWalletSDK},function(n){y=n.TableHelper}],execute:function(){n({registerAllGameEvents:function(){window.onblur=function(){N.instance.clearAllInput()},window.addEventListener("message",(function(n){var e,t=null==(e=n.data)?void 0:e.type;t&&(t.startsWith("e2g")?R.handlerAllWindowMessage(n):t.startsWith("w2g")&&w.handlerAllWindowMessage(n))})),window.addEventListener("storage",(function(n){n.storageArea===localStorage&&"tww-token"===n.key&&null!==n.oldValue&&""!==n.oldValue&&(null!==n.newValue&&""!==n.newValue||h.instance.curSDKPlugin.SDKLogout())})),a.on(o.EVENT_HIDE,G),a.on(o.EVENT_SHOW,L),i.on(u.CHANGE_CURSOR_TYPE,F),i.on(u.NET_GATE_CONNECT_DIS,k),i.on(u.NET_PLATFORM_CONNECT_FAILED,P),i.on(u.NET_GATE_CONNECT_FAILED,U),i.on(u.PRELOAD_RES_FINISH,D),i.on(u.GAME_LOGOUT,b),i.on(u.GAME_AUTO_RECONNECT_START,K),i.on(u.GAME_AUTO_RECONNECT_FINISH,Y),i.on(u.GAME_CONNECT_PLATFORM_RETRY,X)},unregisterAllGameEvents:function(){window.onblur=null,a.off(o.EVENT_HIDE,G),a.off(o.EVENT_SHOW,L),i.off(u.CHANGE_CURSOR_TYPE,F),i.off(u.NET_GATE_CONNECT_DIS,k),i.off(u.NET_PLATFORM_CONNECT_FAILED,P),i.off(u.NET_GATE_CONNECT_FAILED,U),i.off(u.PRELOAD_RES_FINISH,D),i.off(u.GAME_LOGOUT,b),i.off(u.GAME_AUTO_RECONNECT_START,K),i.off(u.GAME_AUTO_RECONNECT_FINISH,Y),i.off(u.GAME_CONNECT_PLATFORM_RETRY,X)}}),r._RF.push({},"614b12JRhlM34WyVxEpz69C","game.event.handler",void 0);var v=!1,x=!0;function G(){x=!1,i.emit(u.GAME_WINDOW_HIDE)}function L(){x=!0,i.emit(u.GAME_WINDOW_SHOW),K(!1)}function D(){return M.apply(this,arguments)}function M(){return(M=e(t().mark((function n(){return t().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,!v){n.next=3;break}return n.abrupt("return");case 3:return I(),_(),n.next=7,g.preloadPackage();case 7:return n.next=9,g.preloadBGTexPackage();case 9:i.emit(u.PRELOAD_FINISH_ALL),v=!0,n.next=16;break;case 13:n.prev=13,n.t0=n.catch(0),c("[onEventPreloadFinish] error:",n.t0);case 16:case"end":return n.stop()}}),n,null,[[0,13]])})))).apply(this,arguments)}function F(n){switch(n){case s.Default:a.canvas.style.cursor="auto";break;case s.Interactive:a.canvas.style.cursor="pointer"}}function k(){x&&(E.instance.IsInLoginScene?(m.AddTipI18nID_Info("u.2401"),i.emit(u.UI_FLOAT_TEXT_CLOSE_WAITING)):l.instance.IsInReconnecting?K(!0):K(!1))}function P(){m.AddTipI18nID_Failed("u.2401"),i.emit(u.UI_FLOAT_TEXT_CLOSE_WAITING),l.instance.IsInReconnecting&&K(!0)}function U(){x&&(l.instance.IsInReconnecting?K(!0):K(!1))}function b(){return W.apply(this,arguments)}function W(){return(W=e(t().mark((function n(){return t().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,H();case 2:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function H(){return V.apply(this,arguments)}function V(){return(V=e(t().mark((function n(){return t().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return v=!1,f.instance.closeAllConnect(),O.instance.closeAllUI(),T(),p(),A(),n.next=8,E.instance.gotoMap(d.LOGIN);case 8:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function K(n){return B.apply(this,arguments)}function B(){return(B=e(t().mark((function n(e){var r;return t().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(E.instance.IsInFarmScene){n.next=2;break}return n.abrupt("return");case 2:if(r=f.instance.isGateServerConnecting(),console.log("net gate state: ",r),!r){n.next=6;break}return n.abrupt("return");case 6:if(e){n.next=9;break}if(!l.instance.IsInReconnecting){n.next=9;break}return n.abrupt("return");case 9:return console.log("start reconnect"),l.instance.IsInReconnecting=!0,m.OpenReconnecting(),n.next=14,C.startReconnect();case 14:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function Y(){return z.apply(this,arguments)}function z(){return(z=e(t().mark((function n(){return t().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:l.instance.IsInReconnecting=!1,m.CloseReconnecting();case 2:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function X(){return j.apply(this,arguments)}function j(){return(j=e(t().mark((function n(){return t().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:S.AddPopMsgBox_SingleBtn(y.getI18nUIText("u.2412"),y.getI18nUIText("u.4003"),J);case 1:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function J(){return q.apply(this,arguments)}function q(){return(q=e(t().mark((function n(){return t().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:i.emit(u.UI_FLOAT_TEXT_OPEN_WAITING),h.instance.curSDKPlugin.SDKReconnect();case 2:case"end":return n.stop()}}),n)})))).apply(this,arguments)}r._RF.pop()}}}));

System.register("chunks:///_virtual/game.root.ts",["./rollupPluginModLoBabelHelpers.js","cc","./event.dispatcher.ts","./event.name.ts","./ui.event.handler.ts","./game.event.handler.ts","./ui.utility.ts","./object.playerself.ts","./net.system.ts","./scene.system.ts","./sdk.manager.ts","./net.protocol.handler.ts","./all.logic.system.ts","./all.logic.manager.ts","./all.model.manager.ts","./skill.effect.utility.ts","./timer.tick.ts","./plugin.settings.ts","./scene.define.ts","./localstorage.manager.ts","./anim.utility.ts","./all.define.ts","./http.manager.ts","./telegram.web.app.sdk.ts","./ton.sdk.ts","./okx.connect.sdk.ts","./wizard.wallet.sdk.ts","./table.manager.ts","./system.data.ts","./telegram.login.sdk.ts"],(function(t){"use strict";var e,n,i,a,s,o,r,l,c,u,f,m,d,g,p,h,S,I,y,_,D,A,v,E,C,G,k,H,M,T,W,U,N,R,b,w,O,K,L,P,x,z,j,F,B,Y,q;return{setters:[function(t){e=t.inheritsLoose,n=t.createClass,i=t.asyncToGenerator,a=t.regeneratorRuntime},function(t){s=t.cclegacy,o=t._decorator,r=t.assetManager,l=t.director,c=t.view,u=t.find,f=t.game,m=t.Component,d=t.profiler},function(t){g=t.EventDispatcher},function(t){p=t.EventName},function(t){h=t.unregisterUIEvents,S=t.registerUIEvents},function(t){I=t.unregisterAllGameEvents,y=t.registerAllGameEvents},function(t){_=t.UIUtility},function(t){D=t.PlayerSelf},function(t){A=t.NetSystem},function(t){v=t.SceneSystem},function(t){E=t.SDKManager},function(t){C=t.HandleProtocol},function(t){G=t.finalizeAllSystem,k=t.updateAllSystem,H=t.initAllSystem},function(t){M=t.releaseAllManager,T=t.initAllManger},function(t){W=t.releaseAllManager,U=t.initAllManger},function(t){N=t.SkillEffectUtility},function(t){R=t.TimerTick},function(t){b=t.PluginSettings},function(t){w=t.CONST_SCENE_ID},function(t){O=t.LocalStorageManager},function(t){K=t.AnimUtility},function(t){L=t.CursorType},function(t){P=t.HttpManager},function(t){x=t.TelegramWebAppSDK},function(t){z=t.TonSDK},function(t){j=t.OKXConnectSDK},function(t){F=t.WizardWalletSDK},function(t){B=t.TableManager},function(t){Y=t.SystemData},function(t){q=t.TelegramLoginSDK}],execute:function(){var X,Z;s._RF.push({},"651c6jBphlEoY4jqOYd0zz/","game.root",void 0);var J=o.ccclass;t("GameRoot",J("GameRoot")(((Z=function(t){function s(){for(var e,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))||this).mIsInit=!1,e.mLastUpdateTime=0,e.mCurHideInternalID=null,e}e(s,t);var o=s.prototype;return o.onLoad=function(){s._instance=this,r.downloader.maxConcurrency=30,r.downloader.maxRequestsPerFrame=12,Y.initSystemData(),l.addPersistRootNode(this.node),c.resizeWithBrowserSize(!0),c.setResizeCallback((function(){g.emit(p.SCREEN_SIZE_CHANGED)}));var t=u("2DObjectRoot");null!==t&&l.addPersistRootNode(t),g.on(p.GAME_WINDOW_HIDE,this._onHideGame,this),g.on(p.GAME_WINDOW_SHOW,this._onShowGame,this),_.fguBindAll(),K.initAnim()},o.start=function(){this._iniGame()},o.update=function(){this.mIsInit&&this._realUpdateAll()},o.onDestroy=function(){t.prototype.onDestroy.call(this),I(),h(),g.off(p.GAME_WINDOW_HIDE,this._onHideGame,this),g.off(p.GAME_WINDOW_SHOW,this._onShowGame,this),D.instance.destroyPlayerSelf(),M(),W(),G()},o._iniGame=function(){var t=i(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.mIsInit){t.next=2;break}return t.abrupt("return");case 2:return E.instance.initSDKManager(),z.initTonSDK(),b.isInWeb()?q.initLoginData():x.initWebApp(),F.initApp(),j.initOKXConnectSDK(),b.isDebug()&&this.node.addComponent("TestCodeComponent"),P.instance.init(b.getPluginApiUrl()),d.hideStats(),this.mIsInit=!0,D.instance.createPlayerSelf(),N.InitSkillEffectMgr(),T(),U(),H(),y(),S(),g.emit(p.CHANGE_CURSOR_TYPE,L.Default),O.instance.loadAllLocalStorage(),B.instance.loadInnerI18n(),t.next=23,_.fguiRegisterFont();case 23:A.instance.setCmdHandlerFunction(C),v.instance.gotoMap(w.LOGIN),x.expand();case 26:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),o._realUpdateAll=function(){var t=f.totalTime,e=.001*(t-this.mLastUpdateTime);this.mLastUpdateTime=t,R.tickUpdate(e),k(e)},o._onHideGame=function(){var t=this;this.mCurHideInternalID=setInterval((function(){t._realUpdateAll()}),1e3)},o._onShowGame=function(){0!==this.mCurHideInternalID&&(clearInterval(this.mCurHideInternalID),this.mCurHideInternalID=0)},n(s,null,[{key:"instance",get:function(){return this._instance}}]),s}(m))._instance=null,X=Z))||X);s._RF.pop()}}}));

System.register("chunks:///_virtual/game.state.manager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./base.manager.ts","./game.state.ts"],(function(n){"use strict";var t,e,a,i,s,c;return{setters:[function(n){t=n.inheritsLoose,e=n.createClass},function(n){a=n.cclegacy,i=n._decorator},function(n){s=n.BaseManager},function(n){c=n.EnumGameState}],execute:function(){var r,u;a._RF.push({},"2058eREmuJAT4dg/3r4jpj7","game.state.manager",void 0);var o=i.ccclass;n("GameStateManager",o("GameStateManager")(((u=function(n){function a(){for(var t,e=arguments.length,a=new Array(e),i=0;i<e;i++)a[i]=arguments[i];return(t=n.call.apply(n,[this].concat(a))||this).mCurGameState=void 0,t.mIsInReconnecting=!1,t.mCanPosDisconnectUI=!0,t}t(a,n);var i=a.prototype;return i.isInSceneLoading=function(){return this.mCurGameState===c.LoadingScene},i.isInFight=function(){return this.mCurGameState===c.FightRun},i.isInGameRun=function(){return this.mCurGameState===c.SceneRun||this.mCurGameState===c.FightRun},e(a,[{key:"CanPosDisconnectUI",get:function(){return this.mCanPosDisconnectUI},set:function(n){this.mCanPosDisconnectUI=n}},{key:"IsInReconnecting",get:function(){return this.mIsInReconnecting},set:function(n){this.mIsInReconnecting=n}},{key:"CurState",get:function(){return this.mCurGameState},set:function(n){this.mCurGameState=n}}],[{key:"instance",get:function(){return null==this._instance&&(this._instance=new a),this._instance}}]),a}(s))._instance=null,r=u))||r);a._RF.pop()}}}));

System.register("chunks:///_virtual/game.state.ts",["cc"],(function(e){"use strict";var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"43f30oT4WxHMbAGL+BEP3kE","game.state",void 0);e("EnumGameState",{None:0,SceneRun:1,FightRun:2,LoadingScene:3,Reconnect:4});t._RF.pop()}}}));

System.register("chunks:///_virtual/GestureDebugger.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Monitor.ts","./touch-manager.ts"],(function(t){"use strict";var e,o,i,n,s,r,c,a,h,_,v,p,u,d,l,E,m,T,y;return{setters:[function(t){e=t.inheritsLoose},function(t){o=t.cclegacy,i=t._decorator,n=t.Input,s=t.sys,r=t.EventMouse,c=t.input,a=t.Node,h=t.Graphics,_=t.Color,v=t.UITransform,p=t.KeyCode,u=t.EventTouch,d=t.Vec2,l=t.view,E=t.Vec3,m=t.Component},function(t){T=t.Monitor},function(t){y=t.TouchManager}],execute:function(){var g,f;o._RF.push({},"8ba07pq3CxOkoxNYAdJKvw/","GestureDebugger",void 0);var M=i.ccclass,C=(i.property,(g={})[n.EventType.MOUSE_DOWN]=n.EventType.TOUCH_START,g[n.EventType.MOUSE_MOVE]=n.EventType.TOUCH_MOVE,g[n.EventType.MOUSE_UP]=n.EventType.TOUCH_END,g),S=new y;t("GestureDebugger",M("GestureDebugger")(f=function(t){function o(){for(var e,o=arguments.length,i=new Array(o),n=0;n<o;n++)i[n]=arguments[n];return(e=t.call.apply(t,[this].concat(i))||this)._monitorNode1=null,e._monitorNode2=null,e._tempVec3=new E,e._tempVec2=new d,e._startPos=new d,e._monitorEvent=null,e._state=0,e}e(o,t);var i=o.prototype;return i.start=function(){s.platform===s.Platform.DESKTOP_BROWSER?(this._monitorNode1=this.addMonitorNode(),this._monitorNode2=this.addMonitorNode(),this._monitorEvent=new r(n.EventType.MOUSE_DOWN,!0),c.on(n.EventType.KEY_DOWN,this.onKeyDown,this),c.on(n.EventType.KEY_UP,this.onKeyUp,this),c.on(n.EventType.MOUSE_DOWN,this.onMouseDown,this),c.on(n.EventType.MOUSE_MOVE,this.onMouseMove,this),c.on(n.EventType.MOUSE_UP,this.onMouseUp,this)):this.node.active=!1},i.addMonitorNode=function(){var t=new a;t.layer=this.node.layer,this.node.addChild(t);var e=t.addComponent(h);e.lineWidth=2,e.strokeColor=_.BLUE,e.stroke(),e.fillColor=new _(255,0,0,100),e.circle(0,0,25),e.fill();var o=t.addComponent(v);return o.anchorX=.5,o.anchorY=.5,t.active=!1,t},i.onKeyDown=function(t){t.keyCode===p.CTRL_LEFT||t.keyCode===p.CTRL_RIGHT?(T.actived=!0,this._state=1):t.keyCode!==p.SHIFT_LEFT&&t.keyCode!==p.SHIFT_RIGHT||(T.actived=!0,this._state=2)},i.onKeyUp=function(t){t.keyCode!==p.CTRL_LEFT&&t.keyCode!==p.CTRL_RIGHT&&t.keyCode!==p.SHIFT_LEFT&&t.keyCode!==p.SHIFT_RIGHT||(T.actived=!1,this._state=0)},i._simulateEventTouch=function(t,e,o){void 0===o&&(o=!1);var i=C[t.type],s=S.getTouch(e,t.getLocationX(),t.getLocationY());if(s){var r=[].concat(S.getAllTouches()),a=new u(r,!1,i,i===n.EventType.TOUCH_END?[]:r);a.__monitor__=!0,a.windowId=t.windowId,i===n.EventType.TOUCH_END&&S.releaseTouch(e),o&&(a.touch=s,a.propagationStopped=a.propagationImmediateStopped=!1,c._emitEvent(a))}},i.fireMonitorEvent=function(t){if(t!==this._monitorEvent){this._monitorEvent.type=t.type,this._monitorEvent._prevX=t.getLocationX(),this._monitorEvent._prevY=t.getLocationY(),this._monitorEvent.setButton(t.getButton()),t.getLocation(this._tempVec2);var e=d.distance(this._startPos,this._tempVec2),o=this._tempVec2.subtract(this._startPos).normalize().multiplyScalar(-e).add(this._startPos);this._monitorEvent.setLocation(o.x,o.y),this._monitorEvent.setScrollData(t.getScrollX(),t.getScrollY()),this._monitorEvent.getUILocation(this._tempVec2),this._tempVec3.set(this._tempVec2.x,this._tempVec2.y,0),this._monitorNode2.setWorldPosition(this._tempVec3),S.releaseAllTouches(),this._simulateEventTouch(t,0,!1),this._simulateEventTouch(this._monitorEvent,1,!0)}},i.onMouseDown=function(t){if(T.actived){if(this._monitorNode1.active=!0,this._monitorNode2.active=!0,1===this._state)t.getLocation(this._startPos);else if(2===this._state){var e=l.getVisibleSize();this._startPos.set(e.width*l.getScaleX()/2,e.height*l.getScaleY()/2)}this.fireMonitorEvent(t)}},i.onMouseMove=function(t){T.actived&&(t.getUILocation(this._tempVec2),this._tempVec3.set(this._tempVec2.x,this._tempVec2.y,0),this._monitorNode1.setWorldPosition(this._tempVec3),this.fireMonitorEvent(t))},i.onMouseUp=function(t){T.actived&&(this.fireMonitorEvent(t),this._monitorNode1.active=!1,this._monitorNode2.active=!1)},o}(m))||f);o._RF.pop()}}}));

System.register("chunks:///_virtual/GesturePattern.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,r,n,i,a,o,c,u,s;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){a=e.cclegacy,o=e._decorator,c=e.CCString,u=e.Vec4,s=e.Component}],execute:function(){var l,p,f,y,b,g,h;a._RF.push({},"c541bw5CIdIeJx5RJr5fKby","GesturePattern",void 0);var d=o.ccclass,m=o.property;e("GesturePattern",(l=d("GesturePattern"),p=m(c),f=m([u]),l((g=t((b=function(e){function t(){for(var t,r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,n(t,"patternName",g,i(t)),n(t,"points",h,i(t)),t}return r(t,e),t}(s)).prototype,"patternName",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),h=t(b.prototype,"points",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),y=b))||y));a._RF.pop()}}}));

System.register("chunks:///_virtual/GestureRecognizer.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,n,o,i,s,r;return{setters:[function(t){e=t.createClass,n=t.createForOfIteratorHelperLoose},function(t){o=t.cclegacy,i=t.Vec2,s=t.Node,r=t.math}],execute:function(){o._RF.push({},"5242at/SPVMhaW47hHtZhez","GestureRecognizer",void 0);t("GestureRecognizer",function(){function t(t){this._host=void 0,this._host=t,this._host.on(s.EventType.ACTIVE_IN_HIERARCHY_CHANGED,this.onActiveChanged,this),this.setEnable(!0)}var o=t.prototype;return o.setEnable=function(t){},o.onActiveChanged=function(){this._host.activeInHierarchy||this.stopRecoginze()},o.on=function(t,e,n){this.host.on(t,e,n)},o.once=function(t,e,n){this.host.once(t,e,n)},o.off=function(t,e,n){this.host.off(t,e,n)},o.emit=function(t,e){this.host.emit(t,this,e)},o.dispose=function(){this._host=null},o.stopRecoginze=function(){},t.getLocation=function(t,e){if(void 0===e&&(e=null),(e=e||c).set(0,0),t.length>0){for(var o,i=n(t);!(o=i()).done;){var s=o.value;e.x+=s.getLocationX(),e.y+=s.getLocationY()}e.x/=t.length,e.y/=t.length}return e},t.getMaxDistance=function(t){for(var e=0,n=t.length,o=0;o<n;o++)for(var s=o+1;s<n;s++){var r=i.distance(t[o].getLocation(),t[s].getLocation());r>e&&(e=r)}return e},t.getAngles=function(t,e,n){void 0===n&&(n=null),(n=n||[]).length=0;for(var o=t.length,i=0;i<o;i++){var s=t[i].getLocation(),c=r.toDegree(Math.atan2(s.y-e.y,s.x-e.x));n.push(c)}return n},e(t,[{key:"host",get:function(){return this._host}}]),t}());var c=new i;o._RF.pop()}}}));

System.register("chunks:///_virtual/GestureRecognizerComp.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var r,n,t,o,c;return{setters:[function(e){r=e.inheritsLoose,n=e.createClass},function(e){t=e.cclegacy,o=e._decorator,c=e.Component}],execute:function(){var i;t._RF.push({},"0970cRGm2lHnpCEyHRmuzq8","GestureRecognizerComp",void 0);var s=o.ccclass;e("GestureRecognizerComp",s("GestureRecognizerComp")(i=function(e){function t(){for(var r,n=arguments.length,t=new Array(n),o=0;o<n;o++)t[o]=arguments[o];return(r=e.call.apply(e,[this].concat(t))||this)._recognizer=void 0,r}return r(t,e),n(t,[{key:"recognizer",get:function(){return this._recognizer}}]),t}(c))||i);t._RF.pop()}}}));

System.register("chunks:///_virtual/grid.graphic.component.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(r){"use strict";var e,t,i,n,o,a,c,p,u,s;return{setters:[function(r){e=r.applyDecoratedDescriptor,t=r.inheritsLoose,i=r.initializerDefineProperty,n=r.assertThisInitialized},function(r){o=r.cclegacy,a=r._decorator,c=r.CCInteger,p=r.Graphics,u=r.v2,s=r.Component}],execute:function(){var l,d,g,h,f,b,v,m,y;o._RF.push({},"b8d23bLpNZBxLsMLe/vIPLQ","grid.graphic.component",void 0);var C=a.ccclass,L=a.property;r("GridGraphicComponent",(l=C("GridGraphicComponent"),d=L(c),g=L(c),h=L(p),l((v=e((b=function(r){function e(){for(var e,t=arguments.length,o=new Array(t),a=0;a<t;a++)o[a]=arguments[a];return(e=r.call.apply(r,[this].concat(o))||this).startPos=u(0,0),i(e,"gridCountX",v,n(e)),i(e,"gridCountY",m,n(e)),i(e,"render",y,n(e)),e}return t(e,r),e.prototype.start=function(){this.render.moveTo(0,0);for(var r=0;r<40;r+=1){var e=-16*r;this.render.moveTo(e,0),this.render.lineTo(e,-200)}this.render.stroke()},e}(s)).prototype,"gridCountX",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),m=e(b.prototype,"gridCountY",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),y=e(b.prototype,"render",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=b))||f));o._RF.pop()}}}));

System.register("chunks:///_virtual/guid.tool.ts",["cc"],(function(t){"use strict";var r,e;return{setters:[function(t){r=t.cclegacy,e=t._decorator}],execute:function(){var c,s;r._RF.push({},"4d7c5UgJM5D3JNLgvnqiBuJ","guid.tool",void 0);var u=e.ccclass;t("GuidTool",u("GuidTool")(((s=function(){function t(){}return t.resetFarmUseGuid=function(t){t>this.sFarmObjectStartID&&(this.sFarmObjectStartID=t)},t.getFarmUseGuid=function(){return this.sFarmObjectStartID++},t.getWorkerUseGuid=function(){return this.sWorkerObjectStartID++},t}()).sFarmObjectStartID=1000000001,s.sWorkerObjectStartID=20001,c=s))||c);r._RF.pop()}}}));

System.register("chunks:///_virtual/http.manager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./axios.min.mjs_cjs=&original=.js","./axios.min.js"],(function(t){"use strict";var e,n,r,s,i;return{setters:[function(t){e=t.extends,n=t.createClass},function(t){r=t.cclegacy,s=t.error},null,function(t){i=t.default}],execute:function(){r._RF.push({},"3c1a2rJ+o5BJ5t5F9XZgtCq","http.manager",void 0),t("HttpManager",function(){function t(){this.axiosInstance=null,this.authHeader=""}var r=t.prototype;return r.init=function(t){var e=this.generateConfig(t);this.axiosInstance=i.create(e),this.httpInterceptorsRequest(),this.httpInterceptorsResponse()},r.setAuthHeader=function(t){this.authHeader="Bearer "+t},r.clearAuthHeader=function(){this.authHeader=""},r.isHasAuthHeder=function(){return""!==this.authHeader},r.request=function(t,n,r){var s=this,i=e({method:t,url:n},r);return new Promise((function(t,e){s.axiosInstance.request(i).then((function(e){t(e)})).catch((function(t){e(t)}))}))},r.post=function(t,e){return this.request("post",t,e)},r.get=function(t,e){return this.request("get",t,e)},r.generateConfig=function(t){return{baseURL:t,timeout:1e4,headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"}}},r.httpInterceptorsRequest=function(){var t=this;this.axiosInstance.interceptors.request.use((function(e){return t.authHeader&&""!==t.authHeader&&(e.headers.MyAuthToken=t.authHeader),e}),(function(t){return Promise.reject(t)}))},r.httpInterceptorsResponse=function(){this.axiosInstance.interceptors.response.use((function(t){return function(t){var e=t.data;if(!e)throw new Error("api request failed");if(2e3===e.code)return e.data;throw new Error(""+e.message)}(t)}),(function(t){var e=t||{},n=e.code,r=e.message;return s("API Error:",r,n),Promise.reject(t)}))},n(t,null,[{key:"instance",get:function(){return null==this._instance&&(this._instance=new t),this._instance}}]),t}())._instance=null,r._RF.pop()}}}));

System.register("chunks:///_virtual/input.handler.base.component.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./camera.system.ts","./scene.system.ts","./all.define.ts","./event.dispatcher.ts","./event.name.ts","./scene.define.ts","./farm.system.ts","./engine.farm.item.component.ts","./sound.helper.ts"],(function(e){"use strict";var t,n,s,r,o,i,a,c,u,m,h,l,p,v,C,_,d,f,S,T,P,I;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,s=e._decorator,r=e.director,o=e.sys,i=e.Vec3,a=e.isValid,c=e.PhysicsSystem2D,u=e.v2,m=e.v3,h=e.Component},function(e){l=e.GRoot},function(e){p=e.CameraSystem},function(e){v=e.SceneSystem},function(e){C=e.CursorType,_=e.EColliderGroup},function(e){d=e.EventDispatcher},function(e){f=e.EventName},function(e){S=e.ESceneType},function(e){T=e.FarmSystem},function(e){P=e.EngineFarmItemComponent},function(e){I=e.SoundHelper}],execute:function(){var g;n._RF.push({},"319a6gMMLZDXa7E0PZqPiOc","input.handler.base.component",void 0);var y=s.ccclass,F=["GRoot","ui_ChatPopLabel","ui_ChatLog","ui_RoleHead","ui_chatItemView"];e("InputHandlerBaseComponent",y("InputHandlerBaseComponent")(g=function(e){function n(){for(var t,n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(t=e.call.apply(e,[this].concat(s))||this).mStartTouchScreenPos=m(),t.mEndTouchScreenPos=m(),t.mStartCameraPos=m(),t.mIsPressed=!1,t.misPressOnUI=!1,t.mCurMouseScreenPos=m(),t.mCursorType=C.Default,t.mCurHoverFarmItem=null,t.mIsDealSoundStart=!0,t}t(n,e);var s=n.prototype;return s.start=function(){r.addPersistRootNode(this.node),this._registerInputEvent()},s.onDestroy=function(){this._unregisterInputEvent()},s._registerInputEvent=function(){},s._unregisterInputEvent=function(){},s._isUseMobileInput=function(){return!!o.isMobile||o.os===o.OS.OSX},s._isUsePCInput=function(){return!this._isUseMobileInput()},s._eventOnTouchStart=function(e){this.mIsPressed=!0,this.mStartTouchScreenPos.set(e.getLocationX(),e.getLocationY()),this.mStartCameraPos.x=p.instance.CameraWorldPos.x,this.mStartCameraPos.y=p.instance.CameraWorldPos.y,this.onTapDown(Number.MAX_SAFE_INTEGER)},s._eventOnTouchMove=function(e){this.mCurMouseScreenPos.set(e.getLocationX(),e.getLocationY()),e.getAllTouches().length>1||this.onTapMove(Number.MAX_SAFE_INTEGER)},s._eventOnTouchEnd=function(e){this.mEndTouchScreenPos.set(e.getLocationX(),e.getLocationY()),this.onTapUp(Number.MAX_SAFE_INTEGER),this.mIsPressed=!1,this.misPressOnUI=!1},s._eventOnTouchCancel=function(e){this.mIsPressed=!1},s._eventOnMouseDown=function(e){this.mIsPressed=!0,this.mStartTouchScreenPos.set(e.getLocationX(),e.getLocationY()),this.mStartCameraPos.x=p.instance.CameraWorldPos.x,this.mStartCameraPos.y=p.instance.CameraWorldPos.y,this.onTapDown(e.getButton())},s._eventOnMouseMove=function(e){this.mCurMouseScreenPos.set(e.getLocationX(),e.getLocationY()),this.onTapMove(e.getButton())},s._eventOnMouseUp=function(e){this.mEndTouchScreenPos.set(e.getLocationX(),e.getLocationY()),this.onTapUp(e.getButton()),this.mIsPressed=!1,this.misPressOnUI=!1},s._eventOnMouseWheel=function(e){if(!this._isOnFguiObject()){var t=e.getScrollY(),n=Math.abs(t)/100;t>0?d.emit(f.CAMERA_SCALE_NEAR,n):t<0&&d.emit(f.CAMERA_SCALE_FAR,n)}},s._isOnFguiObject=function(){var e=l.inst.touchTarget;if(e&&void 0!==e.name){var t=e.name;if(!F.includes(t))return!0}return!1},s.onTapDown=function(e){var t;if(this.mIsDealSoundStart&&(this.mIsDealSoundStart=!1,I.setCanPlaySound()),this._isOnFguiObject())this.misPressOnUI=!0;else switch(null==(t=v.instance)?void 0:t.CurSceneType){case S.Farm:case S.FarmEdit:this._onDealTapDown_Farm(!0)}},s.onTapUp=function(e){var t;if(!this._isOnFguiObject()&&!this.misPressOnUI)switch(null==(t=v.instance)?void 0:t.CurSceneType){case S.Farm:case S.FarmEdit:this._onDealTapUp_Farm(!0)}},s.onTapMove=function(e){var t;switch(null==(t=v.instance)?void 0:t.CurSceneType){case S.Farm:case S.FarmEdit:this._onDealTapMove_Farm()}},s._setCursorType=function(e){this.mCursorType!==e&&(this.mCursorType=e,d.emit(f.CHANGE_CURSOR_TYPE,this.mCursorType))},s._onDealTapDown_Farm=function(e){var t=p.instance.MainCamera.screenToWorld(this.mStartTouchScreenPos);T.instance.handlerOnTap(t)},s._onDealTapUp_Farm=function(e){if(i.distance(this.mStartTouchScreenPos,this.mEndTouchScreenPos)<5){var t=p.instance.MainCamera.screenToWorld(this.mEndTouchScreenPos);T.instance.handlerOnCancelTap(t)}},s._onDealTapMove_Farm=function(){if(this.mIsPressed){if(this.misPressOnUI)return;this._clearCurHoverFarmItem();var e=p.instance.MainCamera.screenToWorld(this.mCurMouseScreenPos);if(T.instance.handlerOnMoving(e))return;var t=this.mStartTouchScreenPos.x-this.mCurMouseScreenPos.x,n=this.mStartTouchScreenPos.y-this.mCurMouseScreenPos.y;p.instance.changeCameraPosByScreenDelta(this.mStartCameraPos,t,n)}else if(this._isOnFguiObject()){var s=l.inst.touchTarget;null!==s&&a(s.node)&&s.hasClickListener()?this._setCursorType(C.Interactive):this._setCursorType(C.Default)}else T.instance.IsNormal?this._calculateHoverFarmItem():this._setCursorType(C.Default)},s._calculateHoverFarmItem=function(){var e=p.instance.MainCamera.screenToWorld(this.mCurMouseScreenPos),t=c.instance.testPoint(u(e.x,e.y)),n=this._getMixYFarmItem(t);if(null!==n){var s,r,o=null==(s=n.node.parent)||null==(r=s.parent)?void 0:r.getComponent(P);null!==o?o!==this.mCurHoverFarmItem&&(this._clearCurHoverFarmItem(),this.mCurHoverFarmItem=o,this.mCurHoverFarmItem.setHoverState(),this._setCursorType(C.Interactive)):this._clearCurHoverFarmItem()}else this._clearCurHoverFarmItem()},s._clearCurHoverFarmItem=function(){null!==this.mCurHoverFarmItem&&(this.mCurHoverFarmItem.clearHoverState(),this.mCurHoverFarmItem=null),this._setCursorType(C.Default)},s._getMixYFarmItem=function(e){if(!e||0===e.length)return null;for(var t=1e3,n=null,s=0;s<e.length;s++){var r=e[s];r.group===_.FarmItem&&(r.node.getWorldPosition().y<t&&(n=r,t=r.node.getWorldPosition().y))}return n},n}(h))||g);n._RF.pop()}}}));

System.register("chunks:///_virtual/input.handler.mobile.component.ts",["./rollupPluginModLoBabelHelpers.js","cc","./event.dispatcher.ts","./event.name.ts","./PinchGestureRecognizerComp.ts","./PinchGestureRecognizer.ts","./input.handler.base.component.ts"],(function(e){"use strict";var t,n,i,o,s,r,h,c,u,p,a,l;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){s=e.cclegacy,r=e._decorator,h=e.Input},function(e){c=e.EventDispatcher},function(e){u=e.EventName},function(e){p=e.PinchGestureRecognizerComp},function(e){a=e.PinchGestureRecognizer},function(e){l=e.InputHandlerBaseComponent}],execute:function(){var v,E,_,T,f;s._RF.push({},"355adf8049MV7wzYozaOFDC","input.handler.mobile.component",void 0);var d=r.ccclass,C=r.property;e("InputHandlerMobileComponent",(v=d("InputHandlerMobileComponent"),E=C(p),v((f=t((T=function(e){function t(){for(var t,n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return t=e.call.apply(e,[this].concat(s))||this,i(t,"pinchGestureRecognizerComp",f,o(t)),t}n(t,e);var s=t.prototype;return s.start=function(){e.prototype.start.call(this),this.pinchGestureRecognizerComp.recognizer.on(a.PINCH_ACTION,this.onPinch,this)},s._registerInputEvent=function(){this._isUseMobileInput()&&(this.node.on(h.EventType.TOUCH_START,this._eventOnTouchStart,this),this.node.on(h.EventType.TOUCH_END,this._eventOnTouchEnd,this),this.node.on(h.EventType.TOUCH_MOVE,this._eventOnTouchMove,this),this.node.on(h.EventType.TOUCH_CANCEL,this._eventOnTouchCancel,this),this.node.on(h.EventType.MOUSE_WHEEL,this._eventOnMouseWheel,this))},s._unregisterInputEvent=function(){this._isUseMobileInput()&&(this.node.off(h.EventType.TOUCH_START,this._eventOnTouchStart,this),this.node.off(h.EventType.TOUCH_END,this._eventOnTouchEnd,this),this.node.off(h.EventType.TOUCH_MOVE,this._eventOnTouchMove,this),this.node.off(h.EventType.TOUCH_CANCEL,this._eventOnTouchCancel,this),this.node.off(h.EventType.MOUSE_WHEEL,this._eventOnMouseWheel,this))},s.onPinch=function(e,t){e.delta>0?c.emit(u.CAMERA_SCALE_NEAR,Math.abs(200*e.delta)):e.delta<0&&c.emit(u.CAMERA_SCALE_FAR,Math.abs(250*e.delta))},t}(l)).prototype,"pinchGestureRecognizerComp",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=T))||_));s._RF.pop()}}}));

System.register("chunks:///_virtual/input.handler.pc.component.ts",["./rollupPluginModLoBabelHelpers.js","cc","./input.handler.base.component.ts"],(function(e){"use strict";var n,t,s,o,i;return{setters:[function(e){n=e.inheritsLoose},function(e){t=e.cclegacy,s=e._decorator,o=e.Input},function(e){i=e.InputHandlerBaseComponent}],execute:function(){var h;t._RF.push({},"856fbmT+2dEm5QAP49gsECm","input.handler.pc.component",void 0);var u=s.ccclass;e("InputHandlerPCComponent",u("InputHandlerPCComponent")(h=function(e){function t(){return e.apply(this,arguments)||this}n(t,e);var s=t.prototype;return s._registerInputEvent=function(){this._isUsePCInput()&&(this.node.on(o.EventType.MOUSE_MOVE,this._eventOnMouseMove,this),this.node.on(o.EventType.MOUSE_DOWN,this._eventOnMouseDown,this),this.node.on(o.EventType.MOUSE_UP,this._eventOnMouseUp,this),this.node.on(o.EventType.MOUSE_WHEEL,this._eventOnMouseWheel,this),this.node.on(o.EventType.TOUCH_CANCEL,this._eventOnTouchCancel,this))},s._unregisterInputEvent=function(){this._isUsePCInput()&&(this.node.off(o.EventType.MOUSE_MOVE,this._eventOnMouseMove,this),this.node.off(o.EventType.MOUSE_DOWN,this._eventOnMouseDown,this),this.node.off(o.EventType.MOUSE_UP,this._eventOnMouseUp,this),this.node.off(o.EventType.MOUSE_WHEEL,this._eventOnMouseWheel,this),this.node.off(o.EventType.TOUCH_CANCEL,this._eventOnTouchCancel,this))},t}(i))||h);t._RF.pop()}}}));

System.register("chunks:///_virtual/input.system.ts",["./rollupPluginModLoBabelHelpers.js","cc","./base.system.ts","./plugin.settings.ts","./ui.manager.ts","./event.dispatcher.ts","./event.name.ts","./ui.gm.panel.controller.ts","./scene.system.ts","./scene.define.ts"],(function(e){"use strict";var n,t,i,s,r,o,u,a,c,y,p,l,_,f,E,h,v;return{setters:[function(e){n=e.inheritsLoose,t=e.createClass,i=e.asyncToGenerator,s=e.regeneratorRuntime},function(e){r=e.cclegacy,o=e._decorator,u=e.input,a=e.Input,c=e.KeyCode},function(e){y=e.BaseSystem},function(e){p=e.PluginSettings},function(e){l=e.UIManager},function(e){_=e.EventDispatcher},function(e){f=e.EventName},function(e){E=e.UIGmPanelController},function(e){h=e.SceneSystem},function(e){v=e.ESceneType}],execute:function(){var K,m;r._RF.push({},"d4f72vUaZZFRqKTn6K0TH/x","input.system",void 0);var g=o.ccclass;e("InputSystem",g("InputSystem")(((m=function(e){function r(){return e.apply(this,arguments)||this}n(r,e);var o=r.prototype;return o.clearAllInput=function(){},o.sysInitial=function(){e.prototype.sysInitial.call(this),this._registerKeyEvent()},o.sysFinalize=function(){e.prototype.sysFinalize.call(this),this._unregisterKeyEvent()},o._registerKeyEvent=function(){u.on(a.EventType.KEY_DOWN,this._onKeyDown,this),u.on(a.EventType.KEY_UP,this._onKeyUp,this)},o._unregisterKeyEvent=function(){u.off(a.EventType.KEY_DOWN,this._onKeyDown,this),u.off(a.EventType.KEY_UP,this._onKeyUp,this)},o._onKeyDown=function(){var e=i(s().mark((function e(n){var t,i;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.keyCode!==c.BACK_QUOTE){e.next=4;break}p.isDebug()&&(l.instance.isOpen(E.CTRL_NAME)?_.emit(f.UI_GM_PANEL_CLOSE):_.emit(f.UI_GM_PANEL_OPEN)),e.next=15;break;case 4:if(n.keyCode!==c.KEY_M){e.next=9;break}if(p.isDebug()){e.next=7;break}return e.abrupt("return");case 7:e.next=15;break;case 9:if(n.keyCode!==c.KEY_N){e.next=14;break}if(p.isDebug()){e.next=12;break}return e.abrupt("return");case 12:e.next=15;break;case 14:n.keyCode===c.KEY_J?(null==(t=h.instance)?void 0:t.CurSceneType)===v.Farm&&_.emit(f.CAMERA_SCALE_FAR,32):n.keyCode===c.KEY_K&&(null==(i=h.instance)?void 0:i.CurSceneType)===v.Farm&&_.emit(f.CAMERA_SCALE_NEAR,32);case 15:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),o._onKeyUp=function(e){},t(r,null,[{key:"instance",get:function(){return null==this._instance&&(this._instance=new r),this._instance}}]),r}(y))._instance=null,K=m))||K);r._RF.pop()}}}));

System.register("chunks:///_virtual/keyed.priority.queue.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(i){"use strict";var e,t,h;return{setters:[function(i){e=i.createClass},function(i){t=i.cclegacy,h=i._decorator}],execute:function(){var s;t._RF.push({},"4f91b5uyN9B3o0MiUb2v4+b","keyed.priority.queue",void 0);var r=h.ccclass,a=function(i,e,t){this.key=0,this.value=0,this.priority=0,this.key=i,this.value=e,this.priority=t};i("KeyedPriorityQueue",r("KeyedPriorityQueue")(s=function(){function i(){this.heap=null,this.placeHolder=null,this.size=0,this.heap=[],this.placeHolder=new a(0,0,0),this.heap.push(new a(0,0,0))}var t=i.prototype;return t.clear=function(){this.heap=[],this.size=0},t.enqueue=function(i,e,t){var h=++this.size,s=Math.floor(h/2);for(h===this.heap.length&&this.heap.push(this.placeHolder);h>1&&this._isHigher(t,this.heap[s].priority);)this.heap[h]=this.heap[s],s=(h=s)/2;this.heap[h]=new a(i,e,t)},t.dequeue=function(){this.heap[1]=this.heap[this.size],this.heap[this.size--]=this.placeHolder,this._heapify(1)},t.peek=function(){return this.size>=1?this.heap[1].value:{}},t.remove=function(i){if(this.size>=1)for(var e=0;e<=this.size;e++)this.heap[e].key===i&&(this._swap(e,this.size),this.heap[this.size--]=this.placeHolder,this._heapify(e))},t._swap=function(i,e){var t=this.heap[i];this.heap[i]=this.heap[e],this.heap[e]=t},t._isHigher=function(i,e){return i-e<1},t._heapify=function(i){var e=Math.floor(2*i),t=Math.floor(e+1),h=i;e<=this.size&&this._isHigher(this.heap[e].priority,this.heap[i].priority)&&(h=e),t<=this.size&&this._isHigher(this.heap[t].priority,this.heap[h].priority)&&(h=t),h!==i&&(this._swap(i,h),this._heapify(h))},e(i,[{key:"count",get:function(){return this.size}},{key:"keys",get:function(){for(var i=[],e=0;e<this.size;e+=1)i.push(this.heap[e].key);return i}},{key:"values",get:function(){for(var i=[],e=0;e<this.size;e+=1)i.push(this.heap[e].value);return i}}]),i}())||s);t._RF.pop()}}}));

System.register("chunks:///_virtual/lib.utility.ts",["cc"],(function(t){"use strict";var i;return{setters:[function(t){i=t.cclegacy}],execute:function(){i._RF.push({},"dbea3zuGetOc5uYdgAof/CI","lib.utility",void 0);t("LibUtility",{});i._RF.pop()}}}));

System.register("chunks:///_virtual/line.sdk.ts",["./rollupPluginModLoBabelHelpers.js","cc","./event.dispatcher.ts","./event.name.ts","./use.ethers.ts","./ui.float.text.controller.ts","./api.kaia.ts","./timer.tick.ts"],(function(e){"use strict";var t,n,r,i,a,s,o,c,u,l,d;return{setters:[function(e){t=e.asyncToGenerator,n=e.regeneratorRuntime},function(e){r=e.cclegacy,i=e._decorator},function(e){a=e.EventDispatcher},function(e){s=e.EventName},function(e){o=e.toUtf8Bytes,c=e.hexlify},function(e){u=e.UIFloatTextController},function(e){l=e.apiCreatePay},function(e){d=e.TimerTick}],execute:function(){var h,p;r._RF.push({},"4e212ouXYFGPolGPtOacSWG","line.sdk",void 0);var f=i.ccclass;e("LineSDK",f("LineSDK")(((p=function(){function e(){}return e.init=function(){var e=t(n().mark((function e(){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.lineInit();case 2:return e.next=4,this.kaiaWalletInit();case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),e.lineInit=function(){var e=t(n().mark((function e(){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,this.window_LIFF=window.liff,this.window_LIFF){e.next=5;break}return console.error("line sdk not exist"),e.abrupt("return");case 5:return e.next=7,this.window_LIFF.init({liffId:"2006691470-qL52jEzR"});case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error("line sdk init failed",e.t0);case 12:case"end":return e.stop()}}),e,this,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),e.login=function(){var e=t(n().mark((function e(){var t;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.window_LIFF){e.next=2;break}return e.abrupt("return",!1);case 2:return e.next=4,this.window_LIFF.login();case 4:return t=e.sent,e.abrupt("return",t);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),e.logout=function(){var e=t(n().mark((function e(){var t;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.window_LIFF){e.next=2;break}return e.abrupt("return",!1);case 2:return e.next=4,this.window_LIFF.logout();case 4:return t=e.sent,console.log(t),e.abrupt("return",t);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),e.isLoggedIn=function(){return!!this.window_LIFF&&this.window_LIFF.isLoggedIn()},e.getDecodedIDToken=function(){return!!this.window_LIFF&&this.window_LIFF.getDecodedIDToken()},e.getLineName=function(){if(!this.window_LIFF)return"";if(!this.isLoggedIn())return"";var e=this.getDecodedIDToken();return e&&e.name?e.name:""},e.isInClient=function(){return!!this.window_LIFF&&this.window_LIFF.isInClient()},e.getAccessToken=function(){return!!this.window_LIFF&&this.window_LIFF.getAccessToken()},e.getIDToken=function(){return!!this.window_LIFF&&this.window_LIFF.getIDToken()},e.shareTargetPicker=function(e){this.window_LIFF&&this.window_LIFF.shareTargetPicker([e],{isMultiple:!0}).then((function(e){e?console.log(e):console.log("close")})).catch((function(e){console.error(e)}))},e.openWindow=function(e,t){this.window_LIFF&&this.window_LIFF.openWindow({url:e,external:t})},e.kaiaIsConnected=function(){return""!==this.connectedWalletAddress},e.kaiaWalletInit=function(){var e=t(n().mark((function e(){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,this.libKaia=window.libKaia,this.libKaia){e.next=5;break}return console.error("kaia lib not exist"),e.abrupt("return");case 5:return e.next=7,this.libKaia.init({clientId:"a02f7dc9-f82f-4729-8433-ea1a4944a638",chainId:"8217"});case 7:this.kaiaWalletSDK=e.sent,this.kaiaWalletProvider=this.kaiaWalletSDK.getWalletProvider(),this.kaiaPaymentProvider=this.kaiaWalletSDK.getPaymentProvider(),this.isKaiaWalletInitFinish=!0,e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.error("kaia wallet init failed",e.t0);case 16:case"end":return e.stop()}}),e,this,[[0,13]])})));return function(){return e.apply(this,arguments)}}(),e.kaiaWalletConnect=function(){var e=t(n().mark((function e(){var t;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,this.isKaiaWalletInitFinish){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,this.kaiaWalletProvider.request({method:"eth_requestAccounts"});case 5:return t=e.sent,this.connectedWalletAddress=t[0],a.emit(s.UI_KAIA_WALLET_STATUS_CHANGED),e.abrupt("return",!0);case 11:return e.prev=11,e.t0=e.catch(0),console.error("kaia wallet connect failed",e.t0),e.abrupt("return",!1);case 15:case"end":return e.stop()}}),e,this,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),e.kaiaLoginSign=function(){var e=t(n().mark((function e(t,r){var i,a;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,this.isKaiaWalletInitFinish){e.next=3;break}return e.abrupt("return",null);case 3:return i=o("Wizzwoods Login Nonce: "+r+", timestamp: "+t),e.next=7,this.kaiaWalletProvider.request({method:"personal_sign",params:[c(i),this.connectedWalletAddress.toLowerCase()]});case 7:return a=e.sent,e.abrupt("return",a);case 11:return e.prev=11,e.t0=e.catch(0),console.error("kaia wallet connect failed",e.t0),e.abrupt("return",null);case 15:case"end":return e.stop()}}),e,this,[[0,11]])})));return function(t,n){return e.apply(this,arguments)}}(),e.openPayHistory=function(){var e=t(n().mark((function e(){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this.kaiaPaymentProvider){e.next=3;break}return u.AddTipI18nID_Failed("u.2561"),e.abrupt("return");case 3:return e.next=5,this.kaiaPaymentProvider.openPaymentHistory();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),e.kaiaPay=function(){var e=t(n().mark((function e(t,r,i){var a,s;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,u.OpenWaiting(),this.kaiaIsConnected()){e.next=9;break}return e.next=5,this.kaiaWalletConnect();case 5:if(!e.sent){e.next=9;break}return u.CloseWaiting(),e.abrupt("return");case 9:if(null!==this.kaiaPaymentProvider){e.next=13;break}return u.CloseWaiting(),u.AddTipI18nID_Failed("u.2561"),e.abrupt("return");case 13:return e.next=15,l({address:this.connectedWalletAddress,orderId:r,goodsName:i,currencyType:t});case 15:if(a=e.sent,this.checkPayOutTime(),!(s=null==a?void 0:a.pId)){e.next=21;break}return e.next=21,this.kaiaPaymentProvider.startPayment(s);case 21:u.CloseWaiting(),e.next=30;break;case 24:return e.prev=24,e.t0=e.catch(0),e.t0&&e.t0.code&&-32e3===e.t0.code?u.AddTipI18nID_Failed("u.2565"):u.AddTipI18nID_Failed("u.2564"),console.error("kaia wallet pay failed",e.t0),u.CloseWaiting(),e.abrupt("return",null);case 30:case"end":return e.stop()}}),e,this,[[0,24]])})));return function(t,n,r){return e.apply(this,arguments)}}(),e.checkPayOutTime=function(){0!==this.payTimerId&&(d.DelTimer(this.payTimerId),this.payTimerId=0),this.payTimerId=d.AddTimer(2e4,0,(function(){u.CloseWaiting()}),this)},e}()).window_LIFF=null,p.libKaia=null,p.kaiaWalletSDK=null,p.kaiaWalletProvider=null,p.kaiaPaymentProvider=null,p.isKaiaWalletInitFinish=!1,p.connectedWalletAddress="",p.payTimerId=0,h=p))||h);r._RF.pop()}}}));

System.register("chunks:///_virtual/localstorage.data.base.ts",["cc","./localstorage.define.ts"],(function(t){"use strict";var a,e,i,l,n;return{setters:[function(t){a=t.cclegacy,e=t._decorator,i=t.sys},function(t){l=t.LocalStorageValueType,n=t.LocalStorageDataType}],execute:function(){var s;a._RF.push({},"61735K06sZKlKzHJoPbrnKq","localstorage.data.base",void 0);var o=e.ccclass;t("LocalStorageDataBase",o("LocalStorageDataBase")(s=function(){function t(){this.mDataType=n.None,this.mDataSaveName="",this.mValueType=l.None,this.mIsLoadNull=!1,this.mIntValue=0,this.mFloatValue=0,this.mStringValue="",this.mIntDefaultValue=0,this.mFloatDefaultValue=0,this.mStringDefaultValue=""}var a=t.prototype;return a.onPrefsDataChanged=function(){},a.InitFromPrefs=function(){this.mValueType===l.VInt?this._initIntData():this.mValueType===l.VFloat?this._initFloatData():this.mValueType===l.VString&&this._initStringData(),this.onPrefsDataChanged()},a._initIntData=function(){if(""!==this.mDataSaveName){var t=i.localStorage.getItem(this.mDataSaveName);null==t?(this.mIsLoadNull=!0,i.localStorage.setItem(this.mDataSaveName,this.mIntDefaultValue.toString()),this.mIntValue=this.mIntDefaultValue):this.mIntValue=Number.parseInt(t)}},a._initFloatData=function(){if(""!==this.mDataSaveName){var t=i.localStorage.getItem(this.mDataSaveName);null==t?(i.localStorage.setItem(this.mDataSaveName,this.mFloatDefaultValue.toString()),this.mFloatValue=this.mFloatDefaultValue):this.mFloatValue=Number.parseFloat(t)}},a._initStringData=function(){if(""!==this.mDataSaveName){var t=i.localStorage.getItem(this.mDataSaveName);null==t?(i.localStorage.setItem(this.mDataSaveName,this.mStringDefaultValue),this.mStringValue=this.mStringDefaultValue):this.mStringValue=t}},a.SaveIntData=function(t){""!==this.mDataSaveName&&(this.mIntValue=t,i.localStorage.setItem(this.mDataSaveName,this.mIntValue.toString()),this.onPrefsDataChanged())},a.SaveFloatData=function(t){""!==this.mDataSaveName&&(this.mFloatValue=t,i.localStorage.setItem(this.mDataSaveName,this.mFloatValue.toString()),this.onPrefsDataChanged())},a.SaveStringData=function(t){""!==this.mDataSaveName&&(this.mStringValue=t,i.localStorage.setItem(this.mDataSaveName,this.mStringValue),this.onPrefsDataChanged())},a.GetIntData=function(){return this.mIntValue},a.GetFloatData=function(){return this.mFloatValue},a.GetStringData=function(){return this.mStringValue},t}())||s);a._RF.pop()}}}));

System.register("chunks:///_virtual/localstorage.data.ts",["./rollupPluginModLoBabelHelpers.js","cc","./event.dispatcher.ts","./event.name.ts","./localstorage.data.base.ts","./localstorage.define.ts","./table.manager.ts","./all.define.ts","./system.data.ts"],(function(a){"use strict";var t,e,n,o,r,l,u,c,i,s,D;return{setters:[function(a){t=a.inheritsLoose},function(a){e=a.cclegacy,n=a._decorator},function(a){o=a.EventDispatcher},function(a){r=a.EventName},function(a){l=a.LocalStorageDataBase},function(a){u=a.LocalStorageDataType,c=a.LocalStorageValueType},function(a){i=a.TableManager},function(a){s=a.ELanType},function(a){D=a.SystemData}],execute:function(){var p,f,g,S,m,h,V,y,L,d,C,T,_;e._RF.push({},"5c5e9RRr8NDC7d/ikNcgR0S","localstorage.data",void 0);var v=n.ccclass;a("LocalStorageDataLanguage",v("LocalStorageDataLanguage")(p=function(a){function e(){var t;return(t=a.call(this)||this).mDataSaveName="SAVE_LANGUAGE",t.mDataType=u.Language,t.mValueType=c.VInt,t.mIntDefaultValue=D.defaultUseLanguage,t}return t(e,a),e.prototype.onPrefsDataChanged=function(){a.prototype.onPrefsDataChanged.call(this);var t=this.mIntValue;t===s.None&&(t=D.defaultUseLanguage),i.instance.CurLanType=t},e}(l))||p),a("LocalStorageDataFirstLogin",v("LocalStorageDataFirstLogin")(f=function(a){function e(){var t;return(t=a.call(this)||this).mDataSaveName="SAVE_FIRST_LOGIN",t.mDataType=u.FirstLogin,t.mValueType=c.VString,t.mStringDefaultValue="False",t}return t(e,a),e.prototype.onPrefsDataChanged=function(){a.prototype.onPrefsDataChanged.call(this)},e}(l))||f),a("LocalStorageDataLoginAccount",v("LocalStorageDataLoginAccount")(g=function(a){function e(){var t;return(t=a.call(this)||this).mDataSaveName="SAVE_LOGIN_ACCOUNT",t.mDataType=u.LoginAccount,t.mValueType=c.VString,t.mStringDefaultValue="",t}return t(e,a),e.prototype.onPrefsDataChanged=function(){a.prototype.onPrefsDataChanged.call(this)},e}(l))||g),a("LocalStorageDataMusicMute",v("LocalStorageDataMusicMute")(S=function(a){function e(){var t;return(t=a.call(this)||this).mDataSaveName="SAVE_MUSIC_MUTE",t.mDataType=u.MusicMute,t.mValueType=c.VFloat,t.mFloatDefaultValue=0,t}return t(e,a),e.prototype.onPrefsDataChanged=function(){a.prototype.onPrefsDataChanged.call(this)},e}(l))||S),a("LocalStorageDataMusic",v("LocalStorageDataMusic")(m=function(a){function e(){var t;return(t=a.call(this)||this).mDataSaveName="SAVE_MUSIC",t.mDataType=u.MusicVolume,t.mValueType=c.VFloat,t.mFloatDefaultValue=.5,t}return t(e,a),e.prototype.onPrefsDataChanged=function(){a.prototype.onPrefsDataChanged.call(this),o.emit(r.OPTION_MUSIC_VOLUME_CHANGED,this.mFloatValue)},e}(l))||m),a("LocalStorageDataSoundMute",v("LocalStorageDataSoundMute")(h=function(a){function e(){var t;return(t=a.call(this)||this).mDataSaveName="SAVE_SOUND_MUTE",t.mDataType=u.SoundMute,t.mValueType=c.VFloat,t.mFloatDefaultValue=0,t}return t(e,a),e.prototype.onPrefsDataChanged=function(){a.prototype.onPrefsDataChanged.call(this)},e}(l))||h),a("LocalStorageDataSound",v("LocalStorageDataSound")(V=function(a){function e(){var t;return(t=a.call(this)||this).mDataSaveName="SAVE_SOUND",t.mDataType=u.SoundVolume,t.mValueType=c.VFloat,t.mFloatDefaultValue=.5,t}return t(e,a),e.prototype.onPrefsDataChanged=function(){a.prototype.onPrefsDataChanged.call(this),o.emit(r.OPTION_SOUND_VOLUME_CHANGED,this.mFloatValue)},e}(l))||V),a("LocalStorageDataFightSpeed",v("LocalStorageDataFightSpeed")(y=function(a){function e(){var t;return(t=a.call(this)||this).mDataSaveName="SAVE_FIGHT_SPEED",t.mDataType=u.FightSpeed,t.mValueType=c.VInt,t.mIntDefaultValue=1,t}return t(e,a),e.prototype.onPrefsDataChanged=function(){a.prototype.onPrefsDataChanged.call(this),o.emit(r.FIGHT_FIGHTING_SPEED,this.mIntValue)},e}(l))||y),a("LocalStorageDataUseChain",v("LocalStorageDataUseChain")(L=function(a){function e(){var t;return(t=a.call(this)||this).mDataSaveName="SAVE_CHAIN_ID",t.mDataType=u.UseChainId,t.mValueType=c.VInt,t.mIntDefaultValue=0,t}return t(e,a),e.prototype.onPrefsDataChanged=function(){a.prototype.onPrefsDataChanged.call(this)},e}(l))||L),a("LocalStorageDataRaceRule",v("LocalStorageDataRaceRule")(d=function(a){function e(){var t;return(t=a.call(this)||this).mDataSaveName="SAVE_RACE_RULE",t.mDataType=u.RaceRule,t.mValueType=c.VInt,t.mIntDefaultValue=0,t}return t(e,a),e.prototype.onPrefsDataChanged=function(){a.prototype.onPrefsDataChanged.call(this)},e}(l))||d),a("LocalStorageDataRaceSwitchTip",v("LocalStorageDataRaceSwitchTip")(C=function(a){function e(){var t;return(t=a.call(this)||this).mDataSaveName="SAVE_RACE_SWITCH_TIP",t.mDataType=u.RaceSwitchTip,t.mValueType=c.VInt,t.mIntDefaultValue=0,t}return t(e,a),e.prototype.onPrefsDataChanged=function(){a.prototype.onPrefsDataChanged.call(this)},e}(l))||C),a("LocalStorageDataFarmCameraScale",v("LocalStorageDataFarmCameraScale")(T=function(a){function e(){var t;return(t=a.call(this)||this).mDataSaveName="SAVE_FARM_CAMERA_SCALE",t.mDataType=u.FarmCameraScale,t.mValueType=c.VInt,t.mIntDefaultValue=0,t}return t(e,a),e.prototype.onPrefsDataChanged=function(){a.prototype.onPrefsDataChanged.call(this)},e}(l))||T),a("LocalStorageDataMajorRetrainRule",v("LocalStorageDataMajorRetrainRule")(_=function(a){function e(){var t;return(t=a.call(this)||this).mDataSaveName="SAVE_MAJOR_RETRAIN_RULE",t.mDataType=u.MajorRetrainRule,t.mValueType=c.VInt,t.mIntDefaultValue=0,t}return t(e,a),e.prototype.onPrefsDataChanged=function(){a.prototype.onPrefsDataChanged.call(this)},e}(l))||_);e._RF.pop()}}}));

System.register("chunks:///_virtual/localstorage.define.ts",["cc"],(function(e){"use strict";var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"c3208snSFtJ8K2STVWIZUhJ","localstorage.define",void 0);var a=e("LocalStorageDataType",(function(){}));a.None=0,a.Language=1,a.FirstLogin=2,a.LoginAccount=3,a.MusicMute=4,a.MusicVolume=5,a.SoundMute=6,a.SoundVolume=7,a.FightSpeed=8,a.UseChainId=9,a.RaceRule=10,a.RaceSwitchTip=11,a.FarmCameraScale=12,a.MajorRetrainRule=13;var n=e("LocalStorageValueType",(function(){}));n.None=0,n.VInt=1,n.VFloat=2,n.VString=3,t._RF.pop()}}}));

System.register("chunks:///_virtual/localstorage.manager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./base.manager.ts","./localstorage.data.ts","./localstorage.define.ts"],(function(a){"use strict";var t,e,l,n,o,s,c,i,r,u,S,g,h,D,m,v,L,A,f;return{setters:[function(a){t=a.inheritsLoose,e=a.createClass},function(a){l=a.cclegacy,n=a._decorator},function(a){o=a.BaseManager},function(a){s=a.LocalStorageDataLanguage,c=a.LocalStorageDataFirstLogin,i=a.LocalStorageDataLoginAccount,r=a.LocalStorageDataSoundMute,u=a.LocalStorageDataSound,S=a.LocalStorageDataMusicMute,g=a.LocalStorageDataMusic,h=a.LocalStorageDataFightSpeed,D=a.LocalStorageDataUseChain,m=a.LocalStorageDataRaceRule,v=a.LocalStorageDataRaceSwitchTip,L=a.LocalStorageDataFarmCameraScale,A=a.LocalStorageDataMajorRetrainRule},function(a){f=a.LocalStorageDataType}],execute:function(){var w,d;l._RF.push({},"1ee65NtjhVEgLGQSkaJlsy4","localstorage.manager",void 0);var p=n.ccclass;a("LocalStorageManager",p("LocalStorageManager")(((d=function(a){function l(){for(var t,e=arguments.length,l=new Array(e),n=0;n<e;n++)l[n]=arguments[n];return(t=a.call.apply(a,[this].concat(l))||this).mSaveAllData=new Map,t}t(l,a);var n=l.prototype;return n.initManger=function(){a.prototype.initManger.call(this)},n.loadAllLocalStorage=function(){this.addAllSaveValue(),this.mSaveAllData.forEach((function(a){a.InitFromPrefs()}))},n.addAllSaveValue=function(){this.mSaveAllData.clear(),this.mSaveAllData.set(f.Language,new s),this.mSaveAllData.set(f.FirstLogin,new c),this.mSaveAllData.set(f.LoginAccount,new i),this.mSaveAllData.set(f.SoundMute,new r),this.mSaveAllData.set(f.SoundVolume,new u),this.mSaveAllData.set(f.MusicMute,new S),this.mSaveAllData.set(f.MusicVolume,new g),this.mSaveAllData.set(f.FightSpeed,new h),this.mSaveAllData.set(f.UseChainId,new D),this.mSaveAllData.set(f.RaceRule,new m),this.mSaveAllData.set(f.RaceSwitchTip,new v),this.mSaveAllData.set(f.FarmCameraScale,new L),this.mSaveAllData.set(f.MajorRetrainRule,new A)},n.GetTargetLocalStorage=function(a){return this.mSaveAllData.has(a)?this.mSaveAllData.get(a):null},e(l,null,[{key:"instance",get:function(){return null==this._instance&&(this._instance=new l),this._instance}}]),l}(o))._instance=null,w=d))||w);l._RF.pop()}}}));

System.register("chunks:///_virtual/logic.tool.ts",["cc","./table.helper.ts"],(function(r){"use strict";var t,n,e;return{setters:[function(r){t=r.cclegacy,n=r._decorator},function(r){e=r.TableHelper}],execute:function(){var o;t._RF.push({},"80bb98I7UpFPqPMAnpHldS9","logic.tool",void 0);var i=n.ccclass;r("LogicTool",i("LogicTool")(o=function(){function r(){}return r.i18nFormat=function(r,t){if(0===t.length)return r;for(var n=0;n<t.length;n++)if(void 0!==t[n]){var e="{"+n+"}";r=r.replace(e,t[n])}return r},r.ParseMailText=function(t){var n=t.indexOf("#");if(n<0)return t;var o=t.indexOf("#",n+1);if(o<0)return t;var i=t.substring(n+1,o),u=t.substring(0,n-1),a="",f="";if(i.indexOf("yyb_")>=0){var s=Number.parseInt(i.substring(4));if(!Number.isInteger(s))return t;var l=e.getI18nUIText("u."+s),c=t.substring(o+1);if(""!==c){for(var g=c.split("]"),h=[],d=!1,v=0;v<g.length;v++){if(!g[v].startsWith("[")){a=g[v],d=!0;break}h.push(g[v].substring(1))}d&&(a=r.ParseMailText(a)),f=u+r.i18nFormat(l,h)+a}else f=u+l+a}else f=t;return f},r.shuffleArray=function(r){for(var t=r.length-1;t>0;t--){var n=Math.floor(Math.random()*(t+1)),e=r[t];r[t]=r[n],r[n]=e}},r.NumberTransform=function(r,t){void 0===t&&(t=!1);var n="";return isNaN(r)||(0<=r&&r<=999?n=t?(Math.floor(100*r)/100).toString():r.toString():1e3<=r&&r<=999999?n=this.IncludeSpot((Math.floor(r/10)/100).toString())+"K":1e6<=r&&r<=999999999?n=this.IncludeSpot((Math.floor(r/1e4)/100).toString())+"M":r>=1e9&&(n=this.IncludeSpot((Math.floor(r/1e7)/100).toString())+"B")),n},r.BigIntTransform=function(r,t){void 0===t&&(t=!1);var n="";return 0n<=r&&r<=999n?n=t?(Math.floor(100*Number(r))/100).toString():r.toString():1000n<=r&&r<=999999n?n=this.IncludeSpot((Math.floor(Number(r/10n))/100).toString())+"K":1000000n<=r&&r<=999999999n?n=this.IncludeSpot((Math.floor(Number(r/10000n))/100).toString())+"M":r>=1000000000n&&(n=this.IncludeSpot((Math.floor(Number(r/10000000n))/100).toString())+"B"),n},r.IncludeSpot=function(r){return-1===r.indexOf(".")?r+".0":r},r.NumberFormat=function(r){var t="";r.startsWith("-")&&(r=r.substring(1),t="-");var n=/(?=(?!\b)(\d{3})+\.?\b)/g;return t+r.replace(/(^|\s)\d+(?=\.?\d*($|\s))/g,(function(r){return r.replace(n,",")}))},r.NumberOmit=function(r,t,n,e){void 0===t&&(t=18),void 0===n&&(n=!1),void 0===e&&(e="");var o=Number.parseFloat(r);if(isNaN(o))return"";if(0===o)return e+o;if(t<=0)return e+o;if(r.indexOf(".")<0&&r.indexOf("e")<0)return e+o;var i=Math.pow(10,t),u=Math.floor(o*i)/i;if(0===u)return n?"<"+e+(1/i).toFixed(t):e+u.toString();if(u>0&&u<1e-6||u<0&&u>-1e-6){for(var a=u.toFixed(t);a.endsWith("0");)a=a.substring(0,a.length-1);return e+a}return e+u.toString()},r}())||o);t._RF.pop()}}}));

System.register("chunks:///_virtual/login.client.protocol.ts",["./rollupPluginModLoBabelHelpers.js","cc","./net.protocol.define.ts","./null.client.protocol.ts"],(function(t){"use strict";var e,i,n,r,s;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy},function(t){n=t.NetProtocolDefine},function(t){r=t.readStringWithFixedLengthFromByteBuffer,s=t.stNullClientCmd}],execute:function(){t("EnumLoginReturnCode",void 0),i._RF.push({},"b7cffXcK0xEU5kiHyj2Nnl8","login.client.protocol",void 0);var o,a=t("stLoginClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).gsCmd=n.LOGIN_CLIENT_CMD,e}return e(i,t),i}(s)),u=t("USER_VERIFY_VER_CLIENT",1),h=t("USER_LOGIN_VERIFY",2),f=t("SERVER_RETURN_LOGIN_FAILED_CLIENT",3),m=t("SERVER_RETURN_LOGIN_OK_CLIENT",4),c=t("PASSWD_LOGON_USERCMD_CLIENT",5),l=t("PASSWD_LOGON_RESULT_USERCMD_CLIENT",6),B=(t("SERVER_RETURN_COUNTRY_INFO_CLIENT",12),t("SESSION_KEY_LOGIN_CLIENT",13)),_=t("LOGIN_TERMINATE_CLIENT",14),y=(t("RET_PLATFORM_PAY_CLIENT",15),t("CLIENT_URL_CLIENT",16),t("LOGIN_ZONE_LIST_CLIENT",17));!function(t){t[t.unknown=0]="unknown",t[t.versionError=1]="versionError",t[t.walletSignTimeout=2]="walletSignTimeout",t[t.dbError=3]="dbError",t[t.idInClose=4]="idInClose",t[t.gateNotOpen=5]="gateNotOpen",t[t.userMax=6]="userMax",t[t.createRoleError=7]="createRoleError",t[t.eLoginReturn_verify_err=8]="eLoginReturn_verify_err",t[t.name_err=12]="name_err",t[t.user_err=13]="user_err"}(o||(o=t("EnumLoginReturnCode",{})));var E=t("stLoginZone",function(){function t(){this.mZoneID=0,this.mZoneName="",this.mZoneIPAddr=""}return t.prototype.UnpackData=function(t){this.mZoneID=t.readUint16(),this.mZoneName=r(t,n.NAME_SIZE_MAX),this.mZoneIPAddr=r(t,n.NODE_IPADDR_MAX)},t}());t("stUserVerifyVerClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).version=1999,e.gsParam=u,e}e(i,t);var n=i.prototype;return n.Pack=function(){t.prototype.Pack.call(this),this.mByteBuffer.writeUint32(this.version)},n.UnPack=function(e){t.prototype.UnPack.call(this,e),this.version=this.mByteBuffer.readUint32(),this.ReleaseByteBuffer()},i}(a)),t("stUserLoginVerifyClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).clientVer=0,e.loginTokenStr="",e.gsParam=h,e}e(i,t);var r=i.prototype;return r.Pack=function(){t.prototype.Pack.call(this),this.mByteBuffer.writeUint32(this.clientVer),this.WriteStringWithFixedLength(this.loginTokenStr,n.TOKEN_STRING_SIZE_MAX)},r.UnPack=function(e){t.prototype.UnPack.call(this,e),this.clientVer=this.mByteBuffer.readUint32(),this.loginTokenStr=this.ReadStringWithFixedLength(n.TOKEN_STRING_SIZE_MAX),this.ReleaseByteBuffer()},i}(a)),t("stServerReturnLoginFailedClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).byReturnCode=0,e.gsParam=f,e}return e(i,t),i.prototype.UnPack=function(e){t.prototype.UnPack.call(this,e),this.byReturnCode=this.mByteBuffer.readUint32()},i}(a)),t("stServerReturnLoginSuccessClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).mdwUserID=0,e.mLoginTempID=0,e.mStrIP="",e.mPort=0,e.mKey=new ArrayBuffer(n.GATE_SERVER_KEY_MAX),e.gsParam=m,e}return e(i,t),i.prototype.UnPack=function(e){t.prototype.UnPack.call(this,e),this.mdwUserID=this.mByteBuffer.readUint32(),this.mLoginTempID=this.mByteBuffer.readUint32(),this.mStrIP=this.ReadStringWithFixedLength(n.IP_ADD_MAX),this.mPort=this.mByteBuffer.readUint16(),this.mKey=this.mByteBuffer.readBytes(n.GATE_SERVER_KEY_MAX).toArrayBuffer(),this.ReleaseByteBuffer()},i}(a)),t("stPasswdLogonClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).mLoginTempID=0,e.mdwUserID=0,e.mStrName="",e.mZone=0,e.mSeq=0,e.mAsOrClient=0,e.gsParam=c,e}e(i,t);var r=i.prototype;return r.Pack=function(){t.prototype.Pack.call(this),this.mByteBuffer.writeUint32(this.mLoginTempID),this.mByteBuffer.writeUint32(this.mdwUserID),this.WriteStringWithFixedLength(this.mStrName,n.NAME_SIZE_MAX),this.mByteBuffer.writeUint16(this.mZone),this.mByteBuffer.writeUint16(this.mSeq),this.mByteBuffer.writeUint8(this.mAsOrClient)},r.UnPack=function(e){t.prototype.UnPack.call(this,e),this.mLoginTempID=this.mByteBuffer.readUint32(),this.mdwUserID=this.mByteBuffer.readUint32(),this.mStrName=this.ReadStringWithFixedLength(n.NAME_SIZE_MAX),this.mZone=this.mByteBuffer.readUint16(),this.mSeq=this.mByteBuffer.readUint16(),this.mAsOrClient=this.mByteBuffer.readUint8(),this.ReleaseByteBuffer()},i}(a)),t("stPasswdLogonResultClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).mRes=0,e.gsParam=l,e}return e(i,t),i.prototype.UnPack=function(e){t.prototype.UnPack.call(this,e),this.mRes=this.mByteBuffer.readUint8(),this.ReleaseByteBuffer()},i}(a)),t("stSessionKeyLoginClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).loginUserID=0,e.clientVer=0,e.gsParam=B,e}return e(i,t),i.prototype.Pack=function(){t.prototype.Pack.call(this),this.mByteBuffer.writeUint32(this.loginUserID),this.mByteBuffer.writeUint32(this.clientVer)},i}(a)),t("stLoginZoneListClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).mVersion=0,e.mZoneNum=0,e.mZoneList=null,e.gsParam=y,e}e(i,t);var n=i.prototype;return n.Pack=function(){t.prototype.Pack.call(this),this.mByteBuffer.writeUint32(this.mVersion),this.mByteBuffer.writeUint16(this.mZoneNum)},n.UnPack=function(e){if(t.prototype.UnPack.call(this,e),this.mVersion=this.mByteBuffer.readUint32(),this.mZoneNum=this.mByteBuffer.readUint16(),this.mZoneNum>0){this.mZoneList=[];for(var i=0;i<this.mZoneNum;++i)this.mZoneList[i]=new E,this.mZoneList[i].UnpackData(this.mByteBuffer)}this.ReleaseByteBuffer()},i}(a)),t("stLoginTerminateClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).gsParam=_,e}return e(i,t),i}(a));i._RF.pop()}}}));

System.register("chunks:///_virtual/login.scene.ts",["./rollupPluginModLoBabelHelpers.js","cc","./event.dispatcher.ts","./event.name.ts","./scene.define.ts","./base.scene.ts","./scene.node.manager.ts","./camera.system.ts"],(function(e){"use strict";var n,t,i,c,r,o,s,a,u,f,m,p;return{setters:[function(e){n=e.inheritsLoose,t=e.asyncToGenerator,i=e.regeneratorRuntime},function(e){c=e.cclegacy,r=e._decorator,o=e.v3},function(e){s=e.EventDispatcher},function(e){a=e.EventName},function(e){u=e.ESceneType},function(e){f=e.BaseScene},function(e){m=e.SceneNodeManager},function(e){p=e.CameraSystem}],execute:function(){var l;c._RF.push({},"75312nFxANJ95okH1bCC5L1","login.scene",void 0);var _=r.ccclass;e("LoginScene",_("LoginScene")(l=function(e){function c(){var n;return(n=e.call(this)||this).mSceneType=u.Login,n}n(c,e);var r=c.prototype;return r.initScene=function(e){this.mCurSceneID=e,this.mCurMapRecord=null,this.mSceneType=u.Login,this.mSceneAssetName="login"},r.finalizeScene=function(){s.emit(a.SCENE_LOGIN_EXIT),s.emit(a.UI_LOGIN_CLOSE),s.emit(a.UI_FLOAT_TEXT_CLOSE_WAITING)},r.doStarting=function(){var e=t(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:m.instance.initAllRoleRootNode(),p.instance.setCamPosImmediate(o(0,0,0)),s.emit(a.SCENE_LOGIN_ENTER),s.emit(a.UI_MAP_LOADING_TO_NORMAL);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),r.doEnterRunning=function(){var e=t(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s.emit(a.UI_LOGIN_OPEN);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),c}(f))||l);c._RF.pop()}}}));

System.register("chunks:///_virtual/LongTouchGestureRecognizer.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GestureRecognizer.ts","./Timer.ts","./Monitor.ts"],(function(t){"use strict";var e,i,s,n,o,h,c,r;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass},function(t){s=t.cclegacy,n=t.Input,o=t.Vec2},function(t){h=t.GestureRecognizer},function(t){c=t.Timer},function(t){r=t.Monitor}],execute:function(){s._RF.push({},"6c01d9OOI5JGpT0kHPVRSGY","LongTouchGestureRecognizer",void 0);var u=n.EventType,_=t("LongTouchGestureRecognizer",function(t){function s(){for(var e,i=arguments.length,s=new Array(i),n=0;n<i;n++)s[n]=arguments[n];return(e=t.call.apply(t,[this].concat(s))||this).numberOfTouchesRequired=1,e.touchTime=.75,e.minDistance=20,e.checkEndOnMoving=!0,e._touchPos=new o,e._started=!1,e._paused=!1,e._enabled=!1,e._timer=0,e._triggered=!1,e._realTouchCount=0,e}e(s,t);var n=s.prototype;return n.setEnable=function(t){t?this._enabled||(this.on(u.TOUCH_START,this.__touchBegin,this),this._enabled=!0):(this._started=!1,this._enabled&&(this.off(u.TOUCH_START,this.__touchBegin,this),this._enabled=!1))},n.dispose=function(){t.prototype.dispose.call(this),this.stopRecoginze(),this.setEnable(!1)},n.stopRecoginze=function(){this.stopAndSetTime(),this.onEnd(null)},n.resetTime=function(t){void 0===t&&(t=.75),this._timer=0,this.touchTime=t,this._triggered=!1,this._paused=!1},n.stopAndSetTime=function(t){void 0===t&&(t=.75),this.resetTime(t),this._started=!1},n.checkTouchValid=function(t){return h.getLocation(t.getAllTouches(),a),this.minDistance<=0||o.distance(a,this._touchPos)<=this.minDistance},n.__touchBegin=function(t){var e=this;if(!r.ignoreEvent(t)){var i=t.getAllTouches();i.length===this.numberOfTouchesRequired||this.numberOfTouchesRequired<=0&&i.length>0?(this._timer=0,h.getLocation(i,this._touchPos),c.inst.clearAll(this),c.inst.frameLoop(1,(function(){e._timer+=c.inst.delta,!e._triggered&&e._timer>=1e3*e.touchTime&&e._started&&!e._paused&&(e._paused=!0,e.checkTouchValid(t)?(e._triggered=!0,e.emit(s.LONG_TOUCH,t)):e.onEnd(t))}),this),this._started||(this.checkEndOnMoving&&this.host.on(u.TOUCH_MOVE,this.__touchMove,this),this.host.on(u.TOUCH_END,this.__touchEnd,this),this.host.on(u.TOUCH_CANCEL,this.__touchEnd,this)),this._realTouchCount=i.length,this._started=!0):this._started&&this.onEnd(t)}},n.onEnd=function(t){c.inst.clearAll(this),this.checkEndOnMoving&&this.host.off(u.TOUCH_MOVE,this.__touchMove,this),this.host.off(u.TOUCH_END,this.__touchEnd,this),this.host.off(u.TOUCH_CANCEL,this.__touchEnd,this),this._started&&this.emit(s.LONG_TOUCH_END,t),this._timer=0,this._triggered=!1,this._paused=!1,this._realTouchCount=0,this._started=!1},n.__touchMove=function(t){r.ignoreEvent(t)||this._started&&(this.checkTouchValid(t)||this.onEnd(t))},n.__touchEnd=function(t){r.ignoreEvent(t)||t.getAllTouches().length<this._realTouchCount&&this.onEnd(t)},i(s,[{key:"started",get:function(){return this._started}},{key:"realTouchCount",get:function(){return this._realTouchCount}}]),s}(h));_.LONG_TOUCH="LONG_TOUCH",_.LONG_TOUCH_END="LONG_TOUCH_END";var a=new o;s._RF.pop()}}}));

System.register("chunks:///_virtual/LongTouchGestureRecognizerComp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LongTouchGestureRecognizer.ts","./GestureRecognizerComp.ts"],(function(e){"use strict";var i,n,r,t,o,c,u,s,a;return{setters:[function(e){i=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,t=e.assertThisInitialized,o=e.createClass},function(e){c=e.cclegacy,u=e._decorator},function(e){s=e.LongTouchGestureRecognizer},function(e){a=e.GestureRecognizerComp}],execute:function(){var l,h,g,p,f,m,z,b,d,T,R;c._RF.push({},"e28ddN/stBKfajlwCEDV6mK","LongTouchGestureRecognizerComp",void 0);var y=u.ccclass,_=u.property;e("LongTouchGestureRecognizerComp",(l=y("LongTouchGestureRecognizerComp"),h=_({tooltip:"手指的个数（默认1, 小于等于0时，不进行限制）"}),g=_({tooltip:"长按时间(s)"}),p=_({tooltip:"长按位置最大移动距离(像素)(小于等于0不进行检查)"}),f=_({tooltip:"是否进行实时移动检查"}),l((b=i((z=function(e){function i(){for(var i,n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return i=e.call.apply(e,[this].concat(o))||this,r(i,"numberOfTouchesRequired",b,t(i)),r(i,"touchTime",d,t(i)),r(i,"minDistance",T,t(i)),r(i,"checkEndOnMoving",R,t(i)),i}return n(i,e),o(i,[{key:"recognizer",get:function(){return null==this._recognizer&&(this._recognizer=new s(this.node),this._recognizer.numberOfTouchesRequired=this.numberOfTouchesRequired,this._recognizer.touchTime=this.touchTime,this._recognizer.minDistance=this.minDistance,this._recognizer.checkEndOnMoving=this.checkEndOnMoving),this._recognizer}}]),i}(a)).prototype,"numberOfTouchesRequired",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),d=i(z.prototype,"touchTime",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.75}}),T=i(z.prototype,"minDistance",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 20}}),R=i(z.prototype,"checkEndOnMoving",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),m=z))||m));c._RF.pop()}}}));

System.register("chunks:///_virtual/mail.client.protocol.ts",["./rollupPluginModLoBabelHelpers.js","cc","./net.protocol.define.ts","./null.client.protocol.ts"],(function(t){"use strict";var e,i,n,r,s;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy},function(t){n=t.NetProtocolDefine},function(t){r=t.readStringWithFixedLengthFromByteBuffer,s=t.stNullClientCmd}],execute:function(){i._RF.push({},"c2261ST49ZAyqbdKtRt+MDM","mail.client.protocol",void 0);var a=t("stMailClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).gsCmd=n.MAIL_CLIENT_CMD,e}return e(i,t),i}(s)),m=t("SEND_MAIL_CLIENT",3),o=t("GET_LIST_MAIL_CLIENT_CMD",5),l=t("ADD_LIST_MAIL_CLIENT",6),c=t("OPEN_MAIL_CLIENT",7),u=t("CONTENT_MAIL_CLIENT",8),h=t("GET_ITEM_MAIL_CLIENT",9),f=t("REMOVE_ITEM_MAIL_CLIENT",10),I=t("DEL_MAIL_CLIENT",11),y=t("NOTIFY_NEW_MAIL_CLIENT",12),M=t("TURN_BACK_MAIL_CLIENT",13),B=t("BATCH_GET_ITEM_MAIL_CLIENT",14),p=t("stMailListInfo",function(){function t(){this.mId=0,this.mState=0,this.mFromName="",this.mTitle="",this.mbAccessory=!1,this.mItemGot=!1,this.mCreateTime=0,this.mEndTime=0,this.mType=0,this.mItemId=0,this.mItemNum=0}return t.prototype.UnpackData=function(t){this.mId=t.readUint32(),this.mState=t.readByte(),this.mFromName=r(t,n.NAME_SIZE_MAX),this.mTitle=r(t,n.MAIL_TITLE_MAX),this.mbAccessory=0!==t.readByte(),this.mItemGot=0!==t.readByte(),this.mCreateTime=t.readUint32(),this.mEndTime=t.readUint32(),this.mType=t.readByte(),this.mItemId=t.readUint32(),this.mItemNum=t.readUint32()},t}());t("stSendMailClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).mToName="",e.mTitle="",e.mText="",e.mSendMoney=0,e.mRecvMoney=0,e.mMoneyType=0,e.mItemID=0,e.mItemNum=0,e.gsParam=m,e}return e(i,t),i}(a)),t("stGetListMailClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).gsParam=o,e}return e(i,t),i}(a)),t("stAddListMailClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).mNum=0,e.mInfo=null,e.gsParam=l,e}return e(i,t),i.prototype.UnPack=function(e){t.prototype.UnPack.call(this,e),this.mNum=this.mByteBuffer.readUint16(),this.mInfo=[];for(var i=0;i<this.mNum;++i)this.mInfo[i]=new p,this.mInfo[i].UnpackData(this.mByteBuffer);this.ReleaseByteBuffer()},i}(a)),t("stOpenMailClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).mMailID=0,e.gsParam=c,e}return e(i,t),i.prototype.Pack=function(){t.prototype.Pack.call(this),this.mByteBuffer.writeUint32(this.mMailID)},i}(a)),t("stContentMailClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).mMailID=0,e.mTitle="",e.mAccessory=!1,e.mText="",e.mSendMoney=0,e.mRecvMoney=0,e.mMoneyType=0,e.mItem=[],e.mNum=[],e.gsParam=u,e}return e(i,t),i.prototype.UnPack=function(e){t.prototype.UnPack.call(this,e),this.mMailID=this.mByteBuffer.readUint32(),this.mTitle=r(this.mByteBuffer,n.MAIL_TITLE_MAX),this.mAccessory=0!==this.mByteBuffer.readByte(),this.mText=r(this.mByteBuffer,n.MAIL_CONTENT_MAX),this.mSendMoney=this.mByteBuffer.readUint32(),this.mRecvMoney=this.mByteBuffer.readUint32(),this.mMoneyType=this.mByteBuffer.readByte();for(var i=0;i<5;++i)this.mItem[i]=this.mByteBuffer.readUint32(),this.mNum[i]=this.mByteBuffer.readUint32();this.ReleaseByteBuffer()},i}(a)),t("stGetItemMailClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).mMailID=0,e.gsParam=h,e}e(i,t);var n=i.prototype;return n.Pack=function(){t.prototype.Pack.call(this),this.mByteBuffer.writeUint32(this.mMailID)},n.UnPack=function(e){t.prototype.UnPack.call(this,e),this.mMailID=this.mByteBuffer.readUint32(),this.ReleaseByteBuffer()},i}(a)),t("stRemoveItemMailClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).mMailID=0,e.gsParam=f,e}e(i,t);var n=i.prototype;return n.Pack=function(){t.prototype.Pack.call(this),this.mByteBuffer.writeUint32(this.mMailID)},n.UnPack=function(e){t.prototype.UnPack.call(this,e),this.mMailID=this.mByteBuffer.readUint32(),this.ReleaseByteBuffer()},i}(a)),t("stDelMailClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).mMailID=0,e.gsParam=I,e}e(i,t);var n=i.prototype;return n.Pack=function(){t.prototype.Pack.call(this),this.mByteBuffer.writeUint32(this.mMailID)},n.UnPack=function(e){t.prototype.UnPack.call(this,e),this.mMailID=this.mByteBuffer.readUint32(),this.ReleaseByteBuffer()},i}(a)),t("stNotifyNewMailClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).gsParam=y,e}return e(i,t),i}(a)),t("stBatchGetItemMailClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).gsParam=B,e}return e(i,t),i}(a)),t("stTurnBackMailClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).mMailID=0,e.gsParam=M,e}return e(i,t),i.prototype.Pack=function(){t.prototype.Pack.call(this),this.mByteBuffer.writeUint32(this.mMailID)},i}(a));i._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./all.define.ts","./third.http.manager.ts","./api.account.ts","./api.auth.ts","./api.bera.faucet.ts","./api.bera.token.ts","./api.chain.marketplace.ts","./api.game.map.data.ts","./api.kaia.quest.ts","./api.kaia.ts","./api.legacy.x.ts","./api.me.ts","./api.okx.evm.quest.ts","./api.tabi.evm.quest.ts","./api.test.inner.ts","./api.tg.bot.ts","./api.tg.quest.ts","./api.tomarket.award.ts","./api.wizard.wallet.ts","./api.x.box.ts","./http.manager.ts","./api.account.model.ts","./api.auth.model.ts","./api.bera.faucet.model.ts","./api.bera.token.model.ts","./api.chain.marketplace.model.ts","./api.inner.map.data.model.ts","./api.kaia.model.ts","./api.kaia.quest.model.ts","./api.legacy.x.model.ts","./api.me.model.ts","./api.okx.evm.quest.model.ts","./api.tabi.evm.quest.model.ts","./api.tg.bot.model.ts","./api.tg.quest.model.ts","./api.tomarket.model.ts","./api.wizard.wallet.model.ts","./api.x.box.model.ts","./chain.system.ts","./chain.coin.base.ts","./chain.coin.bgt.ts","./chain.coin.erc20.ts","./chain.coin.origin.ts","./chain.contract.approve.proxy.ts","./chain.contract.base.ts","./chain.contract.bgt.ts","./chain.contract.erc20.ts","./chain.contract.marketplace.ts","./chain.contract.mint.wizard.ts","./chain.contract.stake.wizard.ts","./chain.contract.test.faucet.ts","./chain.contract.token.item.ts","./chain.contract.token.item.v1.ts","./chain.contract.token.item.v2.ts","./chain.contract.token.wizard.ts","./chain.contract.user.sign.ts","./chain.contract.vesting.pool.ts","./chain.contract.withdraw.item.ts","./chain.contract.withdraw.wizz.ts","./dex.bera.pool.mainnet.ts","./project.bera.mainnet.ts","./project.bera.testnet.ts","./project.kaia.mainnet.ts","./project.kaia.testnet.ts","./project.tabi.testnet.ts","./all.chain.config.ts","./all.chain.data.ts","./all.coin.config.ts","./all.contract.config.ts","./bera.chain.contract.config.ts","./chain.order.result.ts","./enum.chain.type.ts","./tabi.chain.contract.config.ts","./vesting.pool.result.ts","./bera.swap.mainnet.ts","./bera.swap.util.ts","./chain.history.manager.ts","./bera.refresh.price.interface.ts","./chain.coin.interface.ts","./chain.contract.interface.ts","./chain.history.interface.ts","./chain.operate.interface.ts","./chain.project.interface.ts","./chain.reader.interface.ts","./dex.bera.interface.ts","./chain.operate.bgt.boost.queue.cancel.ts","./chain.operate.bgt.boost.queue.confirm.ts","./chain.operate.bgt.boost.ts","./chain.operate.bgt.unboost.queue.cancel.ts","./chain.operate.bgt.unboost.queue.confirm.ts","./chain.operate.bgt.unboost.ts","./chain.operate.change.item.contract.ts","./chain.operate.day.signin.ts","./chain.operate.deposit.item.ts","./chain.operate.deposit.wizard.ts","./chain.operate.deposit.wizz.ts","./chain.operate.dex.liquidity.add.ts","./chain.operate.dex.liquidity.remove.ts","./chain.operate.dex.swap.ts","./chain.operate.lp.reward.ts","./chain.operate.lp.stake.ts","./chain.operate.lp.unstake.ts","./chain.operate.marketplace.item.buy.ts","./chain.operate.marketplace.item.sale.ts","./chain.operate.marketplace.order.cancel.ts","./chain.operate.marketplace.wizard.buy.ts","./chain.operate.marketplace.wizard.sale.ts","./chain.operate.mint.wizard.ts","./chain.operate.release.vesting.ts","./chain.operate.send.coin.ts","./chain.operate.tge.wizz.ts","./chain.operate.withdraw.item.ts","./chain.operate.withdraw.wizard.ts","./chain.operate.withdraw.wizz.ts","./chain.reader.base.ts","./chain.reader.berachain.mainnet.ts","./chain.reader.berachain.testnet.ts","./chain.reader.kaiachain.mainnet.ts","./chain.reader.tabichain.testnet.ts","./chain.utils.ts","./data.anim.name.ts","./data.i18n.inner.ts","./data.pay.ts","./anim.utility.ts","./engine.avatar.hud.component.ts","./engine.fighter.step.component.ts","./engine.avatar.ts","./engine.fight.avatar.ts","./engine.effect.component.ts","./engine.effect.ts","./engine.obj.base.ts","./engine.farm.grass.ts","./engine.farm.item.component.ts","./engine.farm.item.hud.component.ts","./engine.farm.item.ts","./engine.farm.level.tip.component.ts","./engine.farm.level.tip.ts","./engine.farm.terrain.component.ts","./engine.farm.terrain.hud.component.ts","./engine.farm.terrain.ts","./engine.farm.ground.component.ts","./engine.farm.terrain.border.component.ts","./engine.obj.interface.ts","./engine.spine.base.component.ts","./engine.spine.whole.component.ts","./engine.terrain.component.ts","./keyed.priority.queue.ts","./GestureRecognizerComp.ts","./LongTouchGestureRecognizerComp.ts","./PatternGestureRecognizerComp.ts","./PinchGestureRecognizerComp.ts","./RotationGestureRecognizerComp.ts","./SwipeGestureRecognizerComp.ts","./TapGestureRecognizerComp.ts","./GestureDebugger.ts","./Monitor.ts","./touch-manager.ts","./GestureRecognizer.ts","./LongTouchGestureRecognizer.ts","./PatternGestureRecognizer.ts","./PinchGestureRecognizer.ts","./RotationGestureRecognizer.ts","./SwipeGestureRecognizer.ts","./TapGestureRecognizer.ts","./GesturePattern.ts","./PDollarRecognizer.ts","./PatternManager.ts","./PatternRecognizerResult.ts","./Timer.ts","./event.dispatcher.ts","./event.name.ts","./net.http.client.ts","./net.websocket.client.ts","./net.websocket.connector.ts","./timer.tick.data.ts","./timer.tick.ts","./ui-eventlistener.ts","./game.common.use.res.ts","./game.event.handler.ts","./game.root.ts","./QR8bitByte.ts","./QRBitBuffer.ts","./QRCode.ts","./QRMath.ts","./QRPolynomial.ts","./QRRSBlock.ts","./QRUtil.ts","./constants.ts","./bapi.pool.state.ts","./bapi.token.price.ts","./bapi.validator.state.ts","./bapi.vault.state.ts","./lib.utility.ts","./use.berancer.sdk.ts","./use.ethers.ts","./role.status.container.ts","./role.status.define.ts","./skill.bind.obj.action.ts","./skill.bind.obj.base.ts","./skill.bind.obj.bullet.ts","./skill.bind.obj.persist.ts","./skill.effect.utility.ts","./skill.effect.data.action.ts","./skill.effect.data.add.state.ts","./skill.effect.data.bullet.ts","./skill.effect.data.hit.value.ts","./skill.effect.data.persist.ts","./skill.effect.interface.ts","./skill.target.data.ts","./skill.target.manager.ts","./skill.target.order.data.ts","./skill.container.ts","./skill.instance.ts","./state.effect.attr.change.ts","./state.effect.base.ts","./state.effect.condition.trigger.ts","./state.effect.control.ts","./state.effect.inter.trigger.ts","./state.container.ts","./state.instance.ts","./twitter.quest.interface.ts","./enum.anim.state.ts","./enum.character.state.ts","./enum.engine.ts","./enum.equip.slot.ts","./enum.face.dir.ts","./enum.farm.building.type.ts","./enum.farm.coin.res.ts","./enum.farm.object.layer.ts","./enum.farm.object.operate.state.ts","./enum.farm.object.type.ts","./enum.input.control.type.ts","./enum.item.type.ts","./enum.npc.ts","./enum.object.dir.ts","./enum.object.type.ts","./enum.playerself.state.ts","./enum.skin.part.ts","./enum.weapon.type.ts","./farm.object.factory.ts","./all.logic.manager.ts","./attributes.container.ts","./attributes.define.ts","./attributes.manager.ts","./base.manager.ts","./farm.board.item.grid.ts","./farm.board.item.manager.ts","./farm.board.item.utility.ts","./farm.board.terrain.grid.ts","./farm.board.terrain.manager.ts","./farm.board.terrain.utility.ts","./farm.board.base.grid.ts","./farm.board.define.ts","./farm.board.object.interface.ts","./farm.board.object.size.ts","./farm.board.pos.ts","./game.state.manager.ts","./game.state.ts","./localstorage.data.base.ts","./localstorage.data.ts","./localstorage.define.ts","./localstorage.manager.ts","./new.guide.define.ts","./new.guide.manager.ts","./new.guide.tools.ts","./path.finder.base.ts","./path.finder.farm.ts","./path.define.ts","./path.finder.manager.ts","./path.node.base.ts","./path.node.farm.ts","./path.node.interface.ts","./resource.manager.ts","./scene.node.manager.ts","./server.config.data.ts","./server.config.manager.ts","./enum.skill.define.ts","./skill.data.manager.ts","./enum.state.define.ts","./state.data.manager.ts","./enum.table.type.ts","./table.base.ts","./table.record.base.ts","./table.i18n.inner.ts","./table.i18n.table.ts","./table.i18n.ui.ts","./table.skill.effect.action.ts","./table.skill.effect.bullet.ts","./table.skill.effect.hit.value.ts","./table.skill.effect.persist.ts","./table.skill.ts","./record.state.effect.base.ts","./table.state.effect.attr.change.ts","./table.state.effect.condition.trigger.ts","./table.state.effect.control.ts","./table.state.effect.inter.trigger.ts","./table.state.ts","./table.achievement.ts","./table.activity.award.ts","./table.activity.broadcast.ts","./table.all.effect.ts","./table.all.params.ts","./table.all.sound.ts","./table.building.ts","./table.coin.res.ts","./table.combination.ts","./table.farm.exploration.ts","./table.farm.level.ts","./table.farm.res.ts","./table.farm.skin.ts","./table.gift.ts","./table.invitation.ts","./table.item.ts","./table.map.ts","./table.monthly.card.ts","./table.nft.card.ts","./table.notcoin.award.ts","./table.purchase.ts","./table.quidditch.config.ts","./table.quidditch.state.ts","./table.simple.skill.ts","./table.user.guide.ts","./table.worker.bear.level.ts","./table.worker.data.ts","./table.worker.level.ts","./table.worker.profession.skill.ts","./table.helper.ts","./table.i18n.interface.ts","./table.manager.ts","./all.model.manager.ts","./base.model.manager.ts","./role.data.base.ts","./role.data.card.chain.ts","./role.data.define.ts","./role.data.worker.chain.ts","./role.data.worker.ts","./model.achievement.manager.ts","./model.chain.order.manager.ts","./model.charge.define.ts","./model.charge.manager.ts","./model.chat.define.ts","./model.chat.manager.ts","./model.farm.manager.ts","./model.item.data.chain.ts","./model.item.data.market.ts","./model.item.data.ts","./model.item.define.ts","./model.item.manager.ts","./model.mainrole.manager.ts","./model.mining.manager.ts","./model.web.quest.manager.ts","./model.worker.manager.ts","./object.farm.air.drop.ts","./object.farm.base.ts","./object.farm.grass.ts","./object.farm.ground.ts","./object.farm.ip.show.ts","./object.farm.item.add.ts","./object.farm.item.ts","./object.farm.level.tip.ts","./object.farm.produce.food.ts","./object.farm.produce.stone.ts","./object.farm.produce.wood.ts","./object.farm.room.food.ts","./object.farm.room.stone.ts","./object.farm.room.wood.ts","./object.farm.tabe.tower.ts","./object.farm.terrain.add.ts","./object.farm.terrain.edit.clone.ts","./object.farm.terrain.ts","./object.fighter.interface.ts","./object.interface.ts","./object.player.self.interface.ts","./object.robot.interface.ts","./object.worker.interface.ts","./object.base.ts","./object.character.ts","./object.dynamic.ts","./object.fight.actor.ts","./object.fight.base.ts","./object.fight.monster.ts","./object.npc.ts","./object.player.ts","./object.playerself.ts","./object.robot.ts","./object.worker.ts","./all.logic.system.ts","./base.system.ts","./camera.config.data.ts","./camera.system.ts","./effect.object.base.ts","./effect.object.mount.ts","./effect.object.move.ts","./effect.pool.ts","./effect.system.ts","./enum.effect.define.ts","./effect.move.base.ts","./effect.move.line.ts","./effect.move.parabola.ts","./effect.move.static.ts","./farm.res.system.ts","./farm.define.ts","./farm.system.ts","./enum.farm.state.ts","./farm.fsm.ts","./farm.state.base.ts","./farm.state.interface.ts","./farm.state.normal.ts","./farm.state.object.add.ts","./farm.state.object.edit.ts","./farm.state.terrain.add.ts","./farm.state.terrain.edit.ts","./battle.fsm.ts","./battle.state.base.ts","./battle.state.clearing.ts","./battle.state.fighting.ts","./battle.state.finish.ts","./battle.state.init.ts","./battle.state.interface.ts","./battle.state.loading.ts","./battle.state.none.ts","./battle.state.ready.ts","./enum.battle.state.ts","./enum.fight.define.ts","./fight.data.interface.ts","./fight.data.object.ts","./fight.position.object.ts","./fight.simulator.ts","./fight.system.ts","./fight.show.info.base.ts","./fight.show.info.main.ts","./fight.show.info.maze.ts","./enum.fight.state.ts","./fight.state.base.ts","./fight.state.death.ts","./fight.state.dizzness.ts","./fight.state.failed.ts","./fight.state.fighting.back.ts","./fight.state.fighting.ts","./fight.state.idle.ts","./fight.state.null.ts","./fight.state.ready.ts","./fight.state.success.ts","./state.interface.ts","./state.machine.ts","./input.handler.base.component.ts","./input.handler.mobile.component.ts","./input.handler.pc.component.ts","./input.system.ts","./net.helper.ts","./net.protocol.define.ts","./net.protocol.handler.ts","./net.system.ts","./card.client.protocol.ts","./chat.client.protocol.ts","./copy.client.protocol.ts","./event.client.protocol.ts","./farm.client.protocol.ts","./fight.client.protocol.ts","./login.client.protocol.ts","./mail.client.protocol.ts","./map.screen.client.protocol.ts","./maze.client.protocol.ts","./mining.client.protocol.ts","./move.client.protocol.ts","./null.client.protocol.ts","./property.client.protocol.ts","./purchase.client.protocol.ts","./quidditch.client.protocol.ts","./rank.client.protocol.ts","./select.client.protocol.ts","./timer.client.protocol.ts","./trade.client.protocol.ts","./userdata.client.protocol.ts","./scene.config.data.ts","./scene.farm.config.component.ts","./scene.farm.edit.config.component.ts","./base.scene.ts","./farm.edit.scene.ts","./farm.scene.ts","./login.scene.ts","./main.scene.ts","./enum.scene.state.ts","./scene.fsm.ts","./scene.state.base.ts","./scene.state.init.ts","./scene.state.interface.ts","./scene.state.loading.ts","./scene.state.release.ts","./scene.state.running.ts","./scene.state.starting.ts","./scene.board.data.ts","./scene.define.ts","./scene.system.ts","./sound.bg.data.ts","./sound.sfx.data.ts","./sound.define.ts","./sound.helper.ts","./sound.pool.ts","./sound.system.ts","./sound.unit.ts","./time.system.ts","./twitter.box.system.ts","./enum.robot.define.ts","./enum.robot.state.ts","./robot.fsm.ts","./robot.state.base.ts","./robot.state.idle.ts","./robot.state.null.ts","./robot.state.wait.ts","./robot.state.work.ts","./robot.system.ts","./enum.work.define.ts","./enum.work.state.ts","./state.interface2.ts","./state.machine2.ts","./work.state.base.ts","./work.state.gather.ts","./work.state.hunt.ts","./work.state.idle.ts","./work.state.mine.ts","./work.state.null.ts","./work.state.wait.ts","./work.state.water.ts","./work.system.ts","./auto.connect.tool.ts","./common.tool.ts","./farm.bg.auto.size.component.ts","./grid.graphic.component.ts","./render.order.y.component.ts","./render.order.z.component.ts","./test.code.component.ts","./transition.mask.component.ts","./guid.tool.ts","./logic.tool.ts","./resource.path.tool.ts","./scene.grid.tool.ts","./ui.achievement.controller.ts","./ui.achievement.item.view.ts","./ui.achievement.view.ts","./ui.asset.detail.controller.ts","./ui.asset.detail.view.ts","./ui.asset.onchain.controller.ts","./ui.asset.onchain.package.insale.list.bar.view.ts","./ui.asset.onchain.package.list.bar.view.ts","./ui.asset.onchain.view.ts","./ui.asset.onchain.worker.insale.list.bar.view.ts","./ui.asset.onchain.worker.list.bar.view.ts","./ui.asset.controller.ts","./ui.asset.resource.view.ts","./ui.asset.view.ts","./ui.bag.controller.ts","./ui.bag.list.item.view.ts","./ui.bag.view.ts","./ui.building.edit.controller.ts","./ui.building.edit.view.ts","./ui.building.place.controller.ts","./ui.building.place.view.ts","./ui.building.appearance.item.view.ts","./ui.building.appearance.view.ts","./ui.building.platform.controller.ts","./ui.building.platform.view.ts","./ui.building.upgrade.controller.ts","./ui.building.upgrade.view.ts","./ui.building.worker.controller.ts","./ui.building.worker.item.view.ts","./ui.building.worker.view.ts","./ui.chain.order.controller.ts","./ui.chain.order.item.view.ts","./ui.chain.order.view.ts","./ui.charge.activity.detail.view.ts","./ui.charge.activity.details.controller.ts","./ui.charge.activity.details.decoration.item.view.ts","./ui.charge.activity.details.decoration.view.ts","./ui.charge.activity.details.skin.view.ts","./ui.charge.activity.controller.ts","./ui.charge.activity.item.view.ts","./ui.charge.activity.pack.item.view.ts","./ui.charge.activity.view.ts","./ui.charge.controller.ts","./ui.charge.list.item.view.ts","./ui.charge.view.ts","./ui.combination.detail.controller.ts","./ui.combination.detail.item.view.ts","./ui.combination.detail.view.ts","./ui.combination.controller.ts","./ui.combination.item.view.ts","./ui.combination.view.ts","./ui.asset.package.item.view.ts","./ui.asset.worker.item.view.ts","./ui.common.cost.btn.view.ts","./ui.common.cost.btn2.view.ts","./ui.common.cost.item.view.ts","./ui.common.item.title.view.ts","./ui.common.item.title2.view.ts","./ui.common.range.slider.ts","./ui.common.reward.item.view.ts","./ui.common.score.anim.view.ts","./ui.copy.message.view.ts","./ui.drag.item.view.ts","./ui.marketplace.package.item.view.ts","./ui.marketplace.worker.item.view.ts","./ui.worker.chain.type.view.ts","./ui.worker.exploration.type.view.ts","./ui.worker.luck.view.ts","./ui.worker.major.type.view.ts","./ui.worker.skill.detail.item.view.ts","./ui.worker.skill.item.view.ts","./ui.worker.work.type.view.ts","./ui.dapp.dex.liquidity.add.controller.ts","./ui.dapp.dex.liquidity.add.view.ts","./ui.dapp.dex.liquidity.remove.controller.ts","./ui.dapp.dex.liquidity.remove.view.ts","./ui.dapp.dex.pool.detail.controller.ts","./ui.dapp.dex.pool.detail.token.item.view.ts","./ui.dapp.dex.pool.detail.view.ts","./ui.dapp.dex.swaplist.controller.ts","./ui.dapp.dex.swaplist.item.view.ts","./ui.dapp.dex.swaplist.view.ts","./ui.dapp.dex.controller.ts","./ui.dapp.dex.pool.item.view.ts","./ui.dapp.dex.settings.view.ts","./ui.dapp.dex.swap.view.ts","./ui.dapp.dex.view.ts","./ui.dapp.market.object.detail.controller.ts","./ui.dapp.market.object.detail.item.view.ts","./ui.dapp.market.object.detail.view.ts","./ui.dapp.market.object.controller.ts","./ui.dapp.market.object.view.ts","./ui.dapp.market.range.slider.view.ts","./ui.dapp.market.wizard.filter.controller.ts","./ui.dapp.market.wizard.filter.view.ts","./ui.dapp.market.wizard.controller.ts","./ui.dapp.market.wizard.view.ts","./ui.dapp.market.controller.ts","./ui.dapp.market.page.view.ts","./ui.dapp.market.sort.item.view.ts","./ui.dapp.market.sort.view.ts","./ui.dapp.market.view.ts","./ui.dapp.shop.vault.detail.controller.ts","./ui.dapp.shop.vault.detail.view.ts","./ui.dapp.shop.vault.incentive.item.view.ts","./ui.dapp.shop.vault.validator.item.view.ts","./ui.dapp.shop.controller.ts","./ui.dapp.shop.vault.item.view.ts","./ui.dapp.shop.view.ts","./ui.dapp.validator.detail.controller.ts","./ui.dapp.validator.detail.queued.item.view.ts","./ui.dapp.validator.detail.view.ts","./ui.dapp.validator.all.item.view.ts","./ui.dapp.validator.controller.ts","./ui.dapp.validator.mine.item.view.ts","./ui.dapp.validator.queued.item.view.ts","./ui.dapp.validator.view.ts","./ui.dapp.controller.ts","./ui.dapp.view.ts","./ui.detail.view.ts","./ui.details.charge.kaia.view.ts","./ui.details.charge.view.ts","./ui.details.controller.ts","./ui.details.info.prosperity.view.ts","./ui.details.info.worker.view.ts","./ui.details.item.info.view.ts","./ui.details.item.market.buysell.view.ts","./ui.details.item.recipe.view.ts","./ui.details.item.sell.view.ts","./ui.details.item.stake.view.ts","./ui.details.item.use.view.ts","./ui.details.item.view.ts","./ui.details.shop.item.view.ts","./ui.details.worker.info.view.ts","./ui.details.worker.skill.view.ts","./ui.exploration.dispatch.controller.ts","./ui.exploration.dispatch.list.item.view.ts","./ui.exploration.dispatch.view.ts","./enum.exploration.state.ts","./exploration.fsm.ts","./exploration.state.base.ts","./exploration.state.clearing.ts","./exploration.state.fight.ts","./exploration.state.finish.ts","./exploration.state.init.ts","./exploration.state.interface.ts","./exploration.state.move.ts","./exploration.state.none.ts","./exploration.state.ready.ts","./ui.exploration.content.view.ts","./ui.exploration.controller.ts","./ui.exploration.monster.view.ts","./ui.exploration.role.view.ts","./ui.exploration.scene.view.ts","./ui.exploration.track.far.view.ts","./ui.exploration.track.middle.view.ts","./ui.exploration.track.near.view.ts","./ui.exploration.view.ts","./ui.float.text.controller.ts","./ui.float.text.pop.view.ts","./ui.float.text.view.ts","./ui.floattext.lamp.view.ts","./ui.floattext.reconnect.view.ts","./ui.floattext.tip.view.ts","./ui.gift.faucet.controller.ts","./ui.gift.faucet.view.ts","./ui.gift.line.controller.ts","./ui.gift.line.view.ts","./ui.gift.notcoin.controller.ts","./ui.gift.notcoin.item.view.ts","./ui.gift.notcoin.view.ts","./ui.gift.okx.controller.ts","./ui.gift.okx.reward.item.view.ts","./ui.gift.okx.view.ts","./ui.gift.red.envelope.controller.ts","./ui.gift.red.envelope.view.ts","./ui.gift.tabi.controller.ts","./ui.gift.tabi.reward.item.view.ts","./ui.gift.tabi.view.ts","./ui.gift.tomarket1.controller.ts","./ui.gift.tomarket1.view.ts","./ui.gift.controller.ts","./ui.gift.tomarket.controller.ts","./ui.gift.view.ts","./ui.gift.x.controller.ts","./ui.gm.asset.controller.ts","./ui.gm.farm.edit.controller.ts","./ui.gm.farm.edit.view.ts","./ui.gm.cmd.define.ts","./ui.gm.panel.controller.ts","./ui.gm.panel.view.ts","./ui.Invitation.controller.ts","./ui.Invitation.reward.item.view.ts","./ui.invitation.view.ts","./ui.item.get.controller.ts","./ui.item.get.item.view.ts","./ui.item.get.view.ts","./ui.item.get.worker.view.ts","./ui.login.comp.inner.view.ts","./ui.login.comp.invite.view.ts","./ui.login.comp.outer.view.ts","./ui.login.comp.res.load.view.ts","./ui.login.controller.ts","./ui.login.progress.view.ts","./ui.login.view.ts","./ui.mail.controller.ts","./ui.mail.detail.item.view.ts","./ui.mail.detail.view.ts","./ui.mail.list.item.view.ts","./ui.mail.view.ts","./ui.exploration.btn.view.ts","./ui.main.interface.controller.ts","./ui.main.interface.view.ts","./ui.mining.btn.view.ts","./ui.quidditch.btn.view.ts","./ui.score.btn.view.ts","./ui.map.loading.controller.ts","./ui.map.loading.view.ts","./ui.message.box.controller.ts","./ui.message.box.data.ts","./ui.message.box.view.ts","./ui.mining.coming.controller.ts","./ui.mining.coming.view.ts","./ui.mining.current.item.view.ts","./ui.mining.list.controller.ts","./ui.mining.list.view.ts","./ui.mining.past.item.view.ts","./ui.mining.controller.ts","./ui.mining.view.ts","./ui.monthly.card.controller.ts","./ui.monthly.card.item.view.ts","./ui.monthly.card.reward.item.view.ts","./ui.monthly.card.view.ts","./ui.guide.click.controller.ts","./ui.guide.click.view.ts","./ui.guide.dialog.controller.ts","./ui.guide.dialog.view.ts","./ui.guide.farm.controller.ts","./ui.guide.farm.view.ts","./ui.guide.introduction.controller.ts","./ui.guide.introduction.data.ts","./ui.guide.introduction.view.ts","./ui.guide.skip.controller.ts","./ui.guide.skip.view.ts","./enum.open.function.type.ts","./ui.open.function.controller.ts","./ui.open.function.exploration.view.ts","./ui.open.function.view.ts","./ui.option.controller.ts","./ui.option.item.view.ts","./ui.option.language.item.view.ts","./ui.option.language.view.ts","./ui.option.view.ts","./ui.purification.center.view.ts","./ui.purification.controller.ts","./ui.purification.view.ts","./ui.quest.achievement.item.view.ts","./ui.quest.controller.ts","./ui.quest.task.item.view.ts","./ui.quest.view.ts","./ui.quidditch.clearing.controller.ts","./ui.quidditch.clearing.view.ts","./enum.race.state.ts","./race.fsm.ts","./race.state.base.ts","./race.state.before.ts","./race.state.finish.ts","./race.state.init.ts","./race.state.interface.ts","./race.state.none.ts","./race.state.ready.ts","./race.state.start1.ts","./race.state.start2.ts","./race.state.start3.ts","./race.state.unopen.ts","./ui.quidditch.controller.ts","./ui.quidditch.countdown.view.ts","./ui.quidditch.race.participant.view.ts","./ui.quidditch.race.progress.view.ts","./ui.quidditch.race.scene.view.ts","./ui.quidditch.race.track.view.ts","./ui.quidditch.unopen.view.ts","./ui.quidditch.view.ts","./ui.quidditch.vote.view.ts","./ui.quidditch.rule.controller.ts","./ui.quidditch.rule.view.ts","./ui.shop.controller.ts","./ui.shop.list.bar.charge.view.ts","./ui.shop.list.bar.object.view.ts","./ui.shop.list.item.charge.view.ts","./ui.shop.list.item.object.view.ts","./ui.shop.view.ts","./ui.terrain.place.controller.ts","./ui.tip.float.controller.ts","./ui.tip.float.define.ts","./ui.tip.float.price.view.ts","./ui.tip.float.text.view.ts","./ui.tip.float.view.ts","./ui.tip.controller.ts","./ui.tip.item.view.ts","./ui.tip.view.ts","./ui.token.generation.controller.ts","./ui.token.generation.view.ts","./ui.token.unlock.controller.ts","./ui.token.unlock.view.ts","./ui.base.controller.ts","./ui.event.handler.ts","./ui.manager.ts","./ui.utility.ts","./ui.wallet.create.controller.ts","./ui.wallet.create.view.ts","./ui.wallet.operate.controller.ts","./ui.wallet.operate.result.view.ts","./ui.wallet.operate.view.ts","./ui.wallet.operate.waiting.view.ts","./ui.wallet.operate.wnd.base.view.ts","./ui.wallet.operate.wnd.bgt.boost.view.ts","./ui.wallet.operate.wnd.contract.interact.view.ts","./ui.wallet.operate.wnd.dex.liquidity.add.view.ts","./ui.wallet.operate.wnd.dex.liquidity.remove.view.ts","./ui.wallet.operate.wnd.dex.swap.view.ts","./ui.wallet.operate.wnd.lp.reward.view.ts","./ui.wallet.operate.wnd.lp.stake.view.ts","./ui.wallet.operate.wnd.lp.unstake.view.ts","./ui.wallet.operate.wnd.market.buy.view.ts","./ui.wallet.operate.wnd.send.coin.view.ts","./ui.wallet.operate.wnd.tge.view.ts","./ui.wallet.receive.controller.ts","./ui.wallet.receive.view.ts","./ui.wallet.send.detail.controller.ts","./ui.wallet.send.detail.view.ts","./ui.wallet.send.list.controller.ts","./ui.wallet.send.list.view.ts","./ui.wallet.token.detail.controller.ts","./ui.wallet.token.detail.view.ts","./ui.wallet.transaction.controller.ts","./ui.wallet.transaction.item.view.ts","./ui.wallet.transaction.view.ts","./ui.wallet.controller.ts","./ui.wallet.function.item.view.ts","./ui.wallet.token.item.view.ts","./ui.wallet.view.ts","./ui.worker.awakening.succ.controller.ts","./ui.worker.awakening.succ.view.ts","./ui.worker.awakening.controller.ts","./ui.worker.awakening.list.item.view.ts","./ui.worker.awakening.view.ts","./ui.worker.detail.controller.ts","./ui.worker.detail.onchain.controller.ts","./ui.worker.detail.skill.view.ts","./ui.worker.detail.view.ts","./ui.worker.major.retrain.controller.ts","./ui.worker.major.skill.item.view.ts","./ui.worker.major.unlock.controller.ts","./ui.worker.major.view.ts","./ui.worker.market.buy.controller.ts","./ui.worker.market.buysell.view.ts","./ui.worker.market.sell.controller.ts","./ui.worker.synthesis.succ.controller.ts","./ui.worker.synthesis.succ.luck.view.ts","./ui.worker.synthesis.succ.skill.item.view.ts","./ui.worker.synthesis.succ.view.ts","./ui.worker.synthesis.controller.ts","./ui.worker.synthesis.skill.item.view.ts","./ui.worker.synthesis.view.ts","./ui.worker.upgrade.controller.ts","./ui.worker.upgrade.view.ts","./migrate-canvas.ts","./enum.account.type.ts","./enum.plat.type.ts","./enum.plugin.type.ts","./line.sdk.ts","./okx.connect.sdk.ts","./openad.sdk.ts","./platform.define.ts","./plugin.settings.ts","./sdk.plugin.base.ts","./sdk.plugin.common.ts","./sdk.plugin.interface.ts","./sdk.plugin.line.ts","./sdk.plugin.telegram.ts","./sdk.plugin.web.ts","./sdk.plugin.x.ts","./auth.popup.window.ts","./sdk.manager.ts","./telegram.login.sdk.ts","./telegram.web.app.sdk.ts","./ton.sdk.ts","./twitter.ext.sdk.ts","./wizard.wallet.define.ts","./wizard.wallet.sdk.ts","./system.data.ts","./test-gesture.ts","./write.erc1155.data.ts"],(function(){"use strict";return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/main.scene.ts",["./rollupPluginModLoBabelHelpers.js","cc","./event.dispatcher.ts","./event.name.ts","./camera.system.ts","./scene.config.data.ts","./base.scene.ts","./scene.define.ts","./sound.helper.ts"],(function(e){"use strict";var n,t,i,c,o,s,a,r,u,m,f,S,p;return{setters:[function(e){n=e.inheritsLoose,t=e.asyncToGenerator,i=e.regeneratorRuntime},function(e){c=e.cclegacy,o=e._decorator,s=e.find},function(e){a=e.EventDispatcher},function(e){r=e.EventName},function(e){u=e.CameraSystem},function(e){m=e.SceneConfigData},function(e){f=e.BaseScene},function(e){S=e.ESceneType},function(e){p=e.SoundHelper}],execute:function(){var l;c._RF.push({},"73885jXYgtODZmIj97fYWXp","main.scene",void 0);var h=o.ccclass;e("MainScene",h("MainScene")(l=function(e){function c(){var n;return(n=e.call(this)||this).mSceneRootNode=null,n.mSceneConfig=null,n.mSceneType=S.Main,n}n(c,e);var o=c.prototype;return o.initScene=function(n){e.prototype.initScene.call(this,n)},o.finalizeScene=function(){a.emit(r.SCENE_MAIN_EXIT),a.emit(r.UI_MAIN_ALL_CLOSE),p.StopMusic_BG()},o.doStarting=function(){var e=t(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.sendLoadMapOkToServer(),this.mSceneRootNode=s("sceneRoot"),null!==this.mSceneRootNode&&(this.mSceneConfig=this.mSceneRootNode.getComponent(m)),u.instance.initCameraByScene(this.mSceneConfig.cameraLimitUp,this.mSceneConfig.cameraLimitDown,this.mSceneConfig.cameraLimitLeft,this.mSceneConfig.cameraLimitRight),a.emit(r.SCENE_MAIN_ENTER),a.emit(r.UI_MAIN_ALL_OPEN),p.PlayMusic_MainBG();case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),c}(f))||l);c._RF.pop()}}}));

System.register("chunks:///_virtual/map.screen.client.protocol.ts",["./rollupPluginModLoBabelHelpers.js","cc","./bytebuffer.min.mjs_cjs=&original=.js","./long.mjs_cjs=&original=.js","./enum.character.state.ts","./enum.equip.slot.ts","./net.protocol.define.ts","./null.client.protocol.ts","./property.client.protocol.ts","./long.js","./bytebuffer.min.js"],(function(t){"use strict";var e,i,n,r,a,s,h,o,u,c,p;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy},null,null,function(t){n=t.CharacterState},function(t){r=t.enumEquipSlot},function(t){a=t.NetProtocolDefine},function(t){s=t.readStringWithFixedLengthFromByteBuffer,h=t.stringFixedLenToByteBuffer,o=t.stNullClientCmd},function(t){u=t.t_Equipment},function(t){c=t.default},function(t){p=t.default}],execute:function(){t({ObjectAction:void 0,ZoneType:void 0,eForceGuide:void 0,eGuoZhanNpcState:void 0,eProgressRet:void 0,eRadarSpecialPosType:void 0,eRoleShowAction:void 0,eZoneDynOperateType:void 0,enumMapDataType:void 0}),i._RF.push({},"edb893QNBNJTYK6JpftJJLW","map.screen.client.protocol",void 0);var f,l,m,d,y,U,B,P,_=t("stMapScreenClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).gsCmd=a.MAP_CLIENT_CMD,e}return e(i,t),i}(o)),I=t("SET_USER_CONTROL_AI_CLIENT",7),E=t("USER_VIEW_CHANGE_MAPSCREEN_CLIENT",8),C=(t("CHANGE_USER_MAPSCREEN_CLIENT",9),t("USER_VISION_MAPSCREEN_CLIENT",10),t("REMOVEUSER_MAPSCREEN_CLIENT",11)),T=t("REQUEST_USER_DATA_MAPSCREEN_CLIENT",12),D=t("SIMPLE_USER_DATA_CLIENT",13),A=t("REFRESH_STATE_MAPSCREEN_CLIENT",14),N=(t("ADD_MAP_OBJECT_MAPSCREEN_CLIENT",20),t("REMOVE_MAP_OBJECT_MAPSCREEN_CLIENT",21),t("WISHING_WELL_MAPSCREEN_CLIENT",23)),S=(t("ADD_MAP_BUILDING_MAPSCREEN_CLIENT",30),t("REMOVE_MAP_BUILDING_MAPSCREEN_CLIENT",31),t("BOSS_INFO_MAPSCREEN_CLIENT",50)),R=t("REMOVEMAPNPC_MAPSCREEN_CLIENT",51),k=t("REQUEST_MAP_NPC_DATA_MAPSCREEN_USERCMD_PARA",52),M=(t("NPC_HP_MAPSCREEN_CLIENT",53),t("NPC_SMILE_MAPSCREEN_CLIENT",54)),g=t("MAPDATA_MAPSCREEN_USER_MOBILE_CLIENT",56),L=t("MAPDATA_MAPSCREEN_NPC_MOBILE_CLIENT",57),w=t("CLEAR_OBJECT_OWNER_MAPSCREEN_CLIENT",58),v=t("BATCH_REMOVE_SCENE_OBJ_MAPSCREEN_CLIENT",60),O=t("BATCH_REMOVE_NPC_MAPSCREEN_CLIENT",61),x=t("BATCH_REMOVE_USER_MAPSCREEN_CLIENT",62),Z=t("SET_STATE_MAPSCREEN_CLIENT",63),F=t("CLEAR_STATE_MAPSCREEN_CLIENT",64),Y=t("ADD_MAP_NPC_PET_MAPSCREEN_CLIENT",65),G=t("ADD_MAP_PET_MAPSCREEN_CLIENT",66),H=t("GOODNESS_MAPSCREEN_CLIENT",67),b=t("ADDUSER_AND_POS_MAPSCREEN_STATE_MOBILE_CLIENT",68),W=t("CHANGE_MAP_USER_POS_MAPSCREEN_CLIENT",69),X=t("ADDMAPNPC_AND_POS_MAPSCREEN_STATE_CLIENT",71),q=t("LIAN_ZHAN_CLIENT",72),V=t("FORCE_GUIDE_CLIENT",73),j=t("GUO_ZHAN_INFO_CLIENT",74),J=t("REQ_PROGRESS_BAR_CLIENT",75),z=t("RET_PROGRESS_BAR_CLIENT",76),Q=t("NPC_FUNCTION_CLIENT",77),K=t("SLAP_GAME_START_CLIENT",78),$=t("SLAP_GAME_SCORE_CLIENT",79),tt=t("SLAP_GAME_DAY_COUNT_CLIENT",80),et=t("ROLE_EQUIP_INFO_CLIENT",95),it=t("ADD_MAP_ZONE_DYN_CLIENT",96),nt=t("REMOVE_MAP_ZONE_DYN_CLIENT",97),rt=t("ZONE_DYN_OPERATE_CLIENT",98),at=t("MAP_SCORE_RANK_CLIENT",101),st=t("MAP_SPECIFIC_POS_CLIENT",102),ht=t("MAP_NOTICE_GAME_DATA_CLIENT",103),ot=t("MAP_EVENT_INTO_MANOR_CLIENT",104),ut=(t("MAP_CAMP_POS_CLIENT",106),t("ADD_SKILL_STARTTIME_CLIENT",107),t("REFRESH_CREATE_OBJ_NOTICE_CLIENT",110)),ct=t("LIGHT_SOCIAL_MAP_CLIENT",111),pt=t("USER_SHOW_ACTION_MAP_CLIENT",112),ft=t("USER_TRANSFER_SCENE_MAP_CLIENT",113),lt=t("USER_SHOW_ACT_MAP_CLIENT",120),mt=t("FINISH_ROLL_DICE_CLIENT",121),dt=t("MOVE_COMPLETE_CLIENT",122),yt=t("MAP_EVENT_MANOR_REF_EXPLORE_CLIENT",123),Ut=t("MAP_EVENT_WATCH_ADVERTISING_CLIENT",124),Bt=t("MAP_EVENT_MANOR_OTHER_REF_EXPLORE_CLIENT",125),Pt=t("MAP_EVENT_CREATE_MANOR_COPY_CLIENT",126),_t=t("USER_WATCH_ADVERTISING_CLIENT",127),It=t("NOTICE_SWITCH_MAP_CLIENT",128),Et=t("PARTY_DATA_MAP_CLIENT",131),Ct=t("PARTY_DATA_LIST_MAP_CLIENT",132),Tt=t("PARTY_REMOVE_MAP_CLIENT",133),Dt=t("PARTY_USER_STATE_MAP_CLIENT",134),At=t("PARTY_ENTER_MAP_CLIENT",140),Nt=t("PARTY_CREATE_MAP_CLIENT",141),St=t("PARTY_CHANGE_DATA_MAP_CLIENT",142),Rt=t("PARTY_WRITE_NOTICE_MAP_CLIENT",143),kt=t("PARTY_ADD_NOTICE_MAP_CLIENT",144),Mt=t("PARTY_NOTICE_LIST_MAP_CLIENT",145),gt=t("PARTY_CHANGE_CO_HOST_MAP_CLIENT",147),Lt=t("PARTY_UPDATE_CO_HOST_MAP_CLIENT",148),wt=t("PARTY_SET_BGM_MAP_CLIENT",149),vt=t("PARTY_GET_AGORA_TOKEN_MAP_CLIENT",150),Ot=t("PARTY_SET_AGORA_TOKEN_MAP_CLIENT",151),xt=t("PARTY_NEW_RED_PACKET_MAP_CLIENT",155),Zt=t("PARTY_CREATE_RED_PACKET_MAP_CLIENT",156),Ft=t("PARTY_GET_RED_PACKET_MAP_CLIENT",157),Yt=t("PARTY_GIVE_REWARD_MAP_CLIENT",160);!function(t){t[t.NPC=0]="NPC",t[t.USER=1]="USER",t[t.BUILDING=2]="BUILDING",t[t.ITEM=3]="ITEM",t[t.PET=4]="PET"}(f||(f=t("enumMapDataType",{}))),function(t){t[t.OBJECT_ACTION_DROP=0]="OBJECT_ACTION_DROP",t[t.OBJECT_ACTION_UPDATE=1]="OBJECT_ACTION_UPDATE"}(l||(l=t("ObjectAction",{}))),function(t){t[t.eForceGuide_equip=0]="eForceGuide_equip",t[t.eForceGuide_skill=1]="eForceGuide_skill",t[t.eForceGuide_exp=2]="eForceGuide_exp"}(m||(m=t("eForceGuide",{}))),function(t){t[t.GuoZhanNpc_State1=0]="GuoZhanNpc_State1",t[t.GuoZhanNpc_State2=1]="GuoZhanNpc_State2"}(d||(d=t("eGuoZhanNpcState",{}))),function(t){t[t.eProgressRet_ok=0]="eProgressRet_ok",t[t.eProgressRet_pok=1]="eProgressRet_pok",t[t.eProgressRet_stop=2]="eProgressRet_stop",t[t.eProgressRet_invalid=3]="eProgressRet_invalid"}(y||(y=t("eProgressRet",{}))),function(t){t[t.None=0]="None",t[t.Enter=1]="Enter",t[t.Leave=2]="Leave"}(U||(U=t("eZoneDynOperateType",{}))),function(t){t[t.SpType_RankOne=0]="SpType_RankOne",t[t.SpType_RankTwo=1]="SpType_RankTwo",t[t.SpType_RankThree=2]="SpType_RankThree",t[t.SpType_ChouDi=3]="SpType_ChouDi",t[t.SpType_Boss=4]="SpType_Boss",t[t.SpType_Num=5]="SpType_Num"}(B||(B=t("eRadarSpecialPosType",{}))),function(t){t[t.eShowID_None=0]="eShowID_None",t[t.eShowID_Bump=1]="eShowID_Bump",t[t.eShowID_Remix=2]="eShowID_Remix",t[t.eShowID_Stress=3]="eShowID_Stress"}(P||(P=t("eRoleShowAction",{})));var Gt,Ht=t("stSimpleUserInfo",function(){function t(){this.dwUserTempID=0,this.userID=0,this.name="",this.account="",this.curHeroID="",this.Hp=0,this.runeShield=0,this.runeList=[],this.equipIdList=[],this.bodyIndex=0,this.antennaIndex=0,this.headIndex=0,this.eyeIndex=0,this.armIndex=0,this.handIndex=0,this.legIndex=0,this.skinData=[],this.growthFactor=0,this.propAttack=0,this.propDefense=0,this.propMaxHp=0,this.propSpeed=0,this.propAttrLifeSteal=0,this.propAttrFightBack=0,this.propAttrCombo=0,this.propAttrEvade=0,this.propAttrCrit=0,this.propAttrStun=0,this.propAttrLifeStealResistant=0,this.propAttrFightBackResistant=0,this.propAttrComboResistant=0,this.propAttrEvadeResistant=0,this.propAttrCritResistant=0,this.propAttrStunResistant=0,this.equipNum=0,this.equipDataLen=0,this.mEquipList=null}return t.prototype.UnpackData=function(t){this.dwUserTempID=t.readUint32(),this.userID=t.readUint32(),this.name=s(t,a.NAME_SIZE_MAX),this.account=s(t,a.ACCOUNT_SIZE_MAX),this.curHeroID=t.readUint64().toString(),this.Hp=t.readUint32(),this.runeShield=t.readUint8();for(var e=0;e<a.MAX_RUNE_SIZE;e+=1)this.runeList.push(t.readUint32());for(var i=0;i<r.Max;i+=1)this.equipIdList.push(t.readUint64().toString());this.bodyIndex=t.readUint8(),this.antennaIndex=t.readUint8(),this.headIndex=t.readUint8(),this.eyeIndex=t.readUint8(),this.armIndex=t.readUint8(),this.handIndex=t.readUint8(),this.legIndex=t.readUint8(),this.skinData.push(0),this.skinData.push(this.bodyIndex),this.skinData.push(this.antennaIndex),this.skinData.push(this.headIndex),this.skinData.push(this.eyeIndex),this.skinData.push(this.armIndex),this.skinData.push(this.handIndex),this.skinData.push(this.legIndex),this.growthFactor=t.readUint32(),this.propAttack=t.readUint32(),this.propDefense=t.readUint32(),this.propMaxHp=t.readUint32(),this.propSpeed=t.readUint32(),this.propAttrLifeSteal=t.readUint32(),this.propAttrFightBack=t.readUint32(),this.propAttrCombo=t.readUint32(),this.propAttrEvade=t.readUint32(),this.propAttrCrit=t.readUint32(),this.propAttrStun=t.readUint32(),this.propAttrLifeStealResistant=t.readUint32(),this.propAttrFightBackResistant=t.readUint32(),this.propAttrComboResistant=t.readUint32(),this.propAttrEvadeResistant=t.readUint32(),this.propAttrCritResistant=t.readUint32(),this.propAttrStunResistant=t.readUint32(),this.equipNum=t.readUint16(),this.equipDataLen=t.readUint16(),this.mEquipList=[];for(var n=0;n<this.equipNum;n++){var h=t.readUint8(),o=new u(h);o.UnPackData(t),this.mEquipList.push(o)}},t}()),bt=(t("stNpcPosition",function(){function t(){this.dwTempID=0,this.x=0,this.y=0,this.byDir=0}var e=t.prototype;return e.PackData=function(t){t.writeUint32(this.dwTempID),t.writeUint32(this.x),t.writeUint32(this.y),t.writeUint16(this.byDir)},e.UnpackData=function(t){this.dwTempID=t.readUint32(),this.x=t.readUint32(),this.y=t.readUint32(),this.byDir=t.readUint16()},t}()),t("stNpcTempID",(function(){this.dwTempID=0})),t("stGuoZhanNpcInfo",function(){function t(){this.id=0,this.npcId=0,this.curHp=0,this.maxHp=0,this.state=0}return t.prototype.UnpackData=function(t){this.id=t.readUint32(),this.npcId=t.readUint32(),this.curHp=t.readUint32(),this.maxHp=t.readUint32(),this.state=t.readUint8()},t}())),Wt=t("stMapBuildingData",function(){function t(){this.dwMapBuildingTempID=0,this.dwBuildingDataID=0,this.x=0,this.y=0,this.dwContract=0,this.name="",this.userName=""}return t.prototype.UnpackData=function(t){this.dwMapBuildingTempID=t.readUint32(),this.dwBuildingDataID=t.readUint32(),this.x=t.readUint32(),this.y=t.readUint32(),this.dwContract=t.readUint32(),this.name=s(t,a.NAME_SIZE_MAX),this.userName=s(t,a.NAME_SIZE_MAX)},t}()),Xt=(t("stMapBuildingDataPos",function(t){function i(){for(var e,i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))||this).posX=0,e.posY=0,e.byDir=0,e}return e(i,t),i.prototype.UnpackData=function(e){t.prototype.UnpackData.call(this,e),this.posX=e.readUint32(),this.posY=e.readUint32(),this.byDir=e.readUint16()},i}(Wt)),t("stNpcData",function(){function t(){this.npcTempID=0,this.npcDataID=0}var e=t.prototype;return e.PackData=function(t){t.writeUint32(this.npcTempID),t.writeUint32(this.npcDataID)},e.UnpackData=function(t){this.npcTempID=t.readUint32(),this.npcDataID=t.readUint32()},t}())),qt=t("stMapNpcDataPos",function(t){function i(){for(var e,i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))||this).x=0,e.y=0,e.byDir=0,e.joinFightID=0,e}e(i,t);var n=i.prototype;return n.PackData=function(e){t.prototype.PackData.call(this,e),e.writeUint32(this.x),e.writeUint32(this.y),e.writeUint8(this.byDir),e.writeUint32(this.joinFightID)},n.UnpackData=function(e){t.prototype.UnpackData.call(this,e),this.x=e.readUint32(),this.y=e.readUint32(),this.byDir=e.readUint8(),this.joinFightID=e.readUint32()},i}(Xt)),Vt=t("stUserMobileData",function(){function t(){this.userTempID=0,this.userRealID=0,this.name="",this.account="",this.petId=0,this.runeShield=0,this.equipList=[],this.bodyIndex=0,this.antennaIndex=0,this.headIndex=0,this.eyeIndex=0,this.armIndex=0,this.handIndex=0,this.legIndex=0,this.skinData=[]}var e=t.prototype;return e.PackData=function(t){t.writeUint32(this.userTempID),t.writeUint32(this.userRealID),t.append(h(this.name,a.NAME_SIZE_MAX)),t.append(h(this.account,a.ACCOUNT_SIZE_MAX)),t.writeUint32(this.petId),t.writeUint8(this.runeShield);for(var e=0;e<this.equipList.length;e+=1)t.writeUint32(this.equipList[e]);t.writeUint8(this.bodyIndex),t.writeUint8(this.antennaIndex),t.writeUint8(this.headIndex),t.writeUint8(this.eyeIndex),t.writeUint8(this.armIndex),t.writeUint8(this.handIndex),t.writeUint8(this.legIndex)},e.UnpackData=function(t){this.userTempID=t.readUint32(),this.userRealID=t.readUint32(),this.name=s(t,a.NAME_SIZE_MAX),this.account=s(t,a.ACCOUNT_SIZE_MAX),this.petId=t.readUint32(),this.runeShield=t.readUint8();for(var e=0;e<r.Max;e+=1)this.equipList.push(t.readUint32());this.bodyIndex=t.readUint8(),this.antennaIndex=t.readUint8(),this.headIndex=t.readUint8(),this.eyeIndex=t.readUint8(),this.armIndex=t.readUint8(),this.handIndex=t.readUint8(),this.legIndex=t.readUint8(),this.skinData.push(0),this.skinData.push(this.bodyIndex),this.skinData.push(this.antennaIndex),this.skinData.push(this.headIndex),this.skinData.push(this.eyeIndex),this.skinData.push(this.armIndex),this.skinData.push(this.handIndex),this.skinData.push(this.legIndex)},e.CopyData=function(t){this.userTempID=t.userTempID,this.userRealID=t.userRealID,this.name=t.name,this.account=t.account,this.equipList=[];for(var e=0;e<t.equipList.length;e+=1)this.equipList.push(t.equipList[e]);this.bodyIndex=t.bodyIndex,this.antennaIndex=t.antennaIndex,this.headIndex=t.headIndex,this.eyeIndex=t.eyeIndex,this.armIndex=t.armIndex,this.handIndex=t.handIndex,this.legIndex=t.legIndex},t}()),jt=(t("stMapUserMobileData",function(t){function i(){for(var e,i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))||this).state=null,e}e(i,t);var n=i.prototype;return n.PackData=function(e){t.prototype.PackData.call(this,e)},n.UnpackData=function(e){t.prototype.UnpackData.call(this,e)},n.CopyData=function(e){t.prototype.CopyData.call(this,e)},i}(Vt)),t("stMapUserMobileDataPos",function(t){function i(){for(var e,i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))||this).gridX=0,e.gridY=0,e.tarDir=0,e.inPartyTempId=0,e.joinFightID="",e}e(i,t);var n=i.prototype;return n.PackData=function(e){t.prototype.PackData.call(this,e),e.writeUint32(this.gridX),e.writeUint32(this.gridY),e.writeUint8(this.tarDir),e.writeUint32(this.inPartyTempId),e.writeUint64(c.fromString(this.joinFightID))},n.UnpackData=function(e){t.prototype.UnpackData.call(this,e),this.gridX=e.readUint32(),this.gridY=e.readUint32(),this.tarDir=e.readUint8(),this.inPartyTempId=e.readUint32(),this.joinFightID=e.readUint64().toString()},n.CopyData=function(e){t.prototype.CopyData.call(this,e),this.gridX=e.gridX,this.gridY=e.gridY,this.tarDir=e.tarDir,this.inPartyTempId=e.inPartyTempId,this.joinFightID=e.joinFightID},i}(Vt))),Jt=t("stMapPetData",function(){function t(){this.tempID=0,this.name="",this.masterType=0,this.masterID=0,this.masterName="",this.pet_type=0}return t.prototype.UnpackData=function(t){this.tempID=t.readUint32(),this.name=s(t,a.NAME_SIZE_MAX),this.masterType=t.readUint8(),this.masterID=t.readUint32(),this.masterName=s(t,a.NAME_SIZE_MAX),this.pet_type=t.readUint8()},t}()),zt=(t("stMapUserSculpt",function(){function t(){this.dwHorseID=0,this.dwHairID=0,this.dwBodyID=0,this.dwCardQuality=0,this.dwCardStar=0}var e=t.prototype;return e.PackData=function(t){t.writeUint32(this.dwHorseID),t.writeUint32(this.dwHairID),t.writeUint32(this.dwBodyID),t.writeUint32(this.dwCardQuality),t.writeUint32(this.dwCardStar)},e.CopyData=function(t){this.dwHorseID=t.dwHorseID,this.dwHairID=t.dwHairID,this.dwBodyID=t.dwBodyID,this.dwCardQuality=t.dwCardQuality,this.dwCardStar=t.dwCardStar},t}()),t("stPartyRedPacket",function(){function t(){this.partyTempID=0,this.redPacketID=0,this.redPacketTime=0,this.userID=0,this.userName="",this.userAccount="",this.partyName="",this.partySlogan="",this.partySceneID=0,this.partySceneX=0,this.partySceneY=0}var e=t.prototype;return e.PackData=function(t){t.writeUint32(this.partyTempID),t.writeUint32(this.redPacketID),t.writeUint32(this.redPacketTime),t.writeUint32(this.userID),t.append(h(this.userName,a.NAME_SIZE_MAX)),t.append(h(this.userAccount,a.ACCOUNT_SIZE_MAX)),t.append(h(this.partyName,a.PARTY_NAME_SIZE)),t.append(h(this.partySlogan,a.PARTY_SLOGAN_SIZE)),t.writeUint32(this.partySceneID),t.writeUint32(this.partySceneX),t.writeUint32(this.partySceneY)},e.UnpackData=function(t){this.partyTempID=t.readUint32(),this.redPacketID=t.readUint32(),this.redPacketTime=t.readUint32(),this.userID=t.readUint32(),this.userName=s(t,a.NAME_SIZE_MAX),this.userAccount=s(t,a.ACCOUNT_SIZE_MAX),this.partyName=s(t,a.PARTY_NAME_SIZE),this.partySlogan=s(t,a.PARTY_SLOGAN_SIZE),this.partySceneID=t.readUint32(),this.partySceneX=t.readUint32(),this.partySceneY=t.readUint32()},e.CopyData=function(t){this.partyTempID=t.partyTempID,this.redPacketID=t.redPacketID,this.redPacketTime=t.redPacketTime,this.userID=t.userID,this.userName=t.userName,this.userAccount=t.userAccount},t}()));t("stRemoveUserMapScreenClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).dwUserTempID=0,e.gsParam=C,e}e(i,t);var n=i.prototype;return n.Pack=function(){t.prototype.Pack.call(this),this.mByteBuffer.writeUint32(this.dwUserTempID)},n.UnPack=function(e){t.prototype.UnPack.call(this,e),this.dwUserTempID=this.mByteBuffer.readUint32(),this.ReleaseByteBuffer()},i}(_)),t("stRequestUserDataMapScreenClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).userID=null,e.gsParam=T,e}return e(i,t),i.prototype.Pack=function(){t.prototype.Pack.call(this),this.mByteBuffer.writeUint32(this.userID)},i}(_)),t("stSimpleUserDataMapScreenClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).data=null,e.gsParam=D,e}return e(i,t),i.prototype.UnPack=function(e){t.prototype.UnPack.call(this,e),this.data=new Ht,this.data.UnpackData(this.mByteBuffer),this.ReleaseByteBuffer()},i}(_)),t("stRefreshStateMapScreenClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).dwUserTempID=0,e.state=new ArrayBuffer((n.MAX_STATE+7)/8),e.gsParam=A,e}return e(i,t),i}(_)),t("stRemoveMapNpcMapScreenClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).npcTempId=0,e.gsParam=R,e}e(i,t);var n=i.prototype;return n.UnPack=function(e){t.prototype.UnPack.call(this,e),this.npcTempId=this.mByteBuffer.readUint32(),this.ReleaseByteBuffer()},n.Pack=function(){t.prototype.Pack.call(this),this.mByteBuffer.writeUint32(this.npcTempId)},i}(_)),t("stRequestMapNpcDataMapScreenUserCmd",function(t){function i(){var e;return(e=t.call(this)||this).size=0,e.dwNpcTempID=0,e.gsParam=k,e}return e(i,t),i}(_)),t("stMapDataMapScreenUserMobileClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).size=0,e.playerList=null,e.gsParam=g,e}return e(i,t),i.prototype.UnPack=function(e){t.prototype.UnPack.call(this,e),this.size=this.mByteBuffer.readUint16(),this.playerList=[];for(var i=0;i<this.size;i++)this.playerList[i]=new jt,this.playerList[i].UnpackData(this.mByteBuffer);this.ReleaseByteBuffer()},i}(_)),t("stClearObjectOwnerMapScreenClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).gsParam=w,e}return e(i,t),i}(_)),t("stBatchRemoveSceneObjMapScreenClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).num=0,e.id=null,e.gsParam=v,e}return e(i,t),i.prototype.UnPack=function(e){t.prototype.UnPack.call(this,e),this.num=this.mByteBuffer.readUint16(),this.id=[];for(var i=0;i<this.num;i++)this.id[i]=this.mByteBuffer.readUint32();this.ReleaseByteBuffer()},i}(_)),t("stBatchRemoveNpcMapScreenClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).num=0,e.id=null,e.gsParam=O,e}return e(i,t),i.prototype.UnPack=function(e){t.prototype.UnPack.call(this,e),this.num=this.mByteBuffer.readUint16(),this.id=[];for(var i=0;i<this.num;i++)this.id[i]=this.mByteBuffer.readUint32();this.ReleaseByteBuffer()},i}(_)),t("stBatchRemoveUserMapScreenClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).num=0,e.id=null,e.gsParam=x,e}return e(i,t),i.prototype.UnPack=function(e){t.prototype.UnPack.call(this,e),this.num=this.mByteBuffer.readUint16(),this.id=[];for(var i=0;i<this.num;i++)this.id[i]=this.mByteBuffer.readUint32();this.ReleaseByteBuffer()},i}(_)),t("stSetStateMapScreenClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).type=0,e.dwTempID=0,e.wdState=0,e.gsParam=Z,e}return e(i,t),i.prototype.UnPack=function(e){t.prototype.UnPack.call(this,e),this.type=this.mByteBuffer.readByte(),this.dwTempID=this.mByteBuffer.readUint32(),this.wdState=this.mByteBuffer.readUint16(),this.ReleaseByteBuffer()},i}(_)),t("stClearStateMapScreenClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).type=0,e.dwTempID=0,e.wdState=0,e.gsParam=F,e}return e(i,t),i.prototype.UnPack=function(e){t.prototype.UnPack.call(this,e),this.type=this.mByteBuffer.readByte(),this.dwTempID=this.mByteBuffer.readUint32(),this.wdState=this.mByteBuffer.readUint16(),this.ReleaseByteBuffer()},i}(_)),t("stAddMapNpcPetMapScreenClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).data=new qt,e.pet=new Jt,e.gsParam=Y,e}return e(i,t),i.prototype.UnPack=function(e){t.prototype.UnPack.call(this,e),this.data.UnpackData(this.mByteBuffer),this.pet.UnpackData(this.mByteBuffer),this.ReleaseByteBuffer()},i}(_)),t("stAddMapPetMapScreenClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).pet=new Jt,e.gsParam=G,e}return e(i,t),i.prototype.UnPack=function(e){t.prototype.UnPack.call(this,e),this.pet.UnpackData(this.mByteBuffer),this.ReleaseByteBuffer()},i}(_)),t("stGoodnessStateMapScreenClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).dwTempID=0,e.dwGoodness=0,e.gsParam=H,e}return e(i,t),i}(_)),t("stChangeMapUserPosMapScreenClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).tempId=0,e.moveSpeed=0,e.hp=0,e.maxHp=0,e.shieldHp=0,e.gsParam=W,e}return e(i,t),i.prototype.UnPack=function(e){t.prototype.UnPack.call(this,e),this.tempId=this.mByteBuffer.readUint32(),this.moveSpeed=this.mByteBuffer.readUint16(),this.hp=this.mByteBuffer.readUint32(),this.maxHp=this.mByteBuffer.readUint32(),this.shieldHp=this.mByteBuffer.readUint32(),this.ReleaseByteBuffer()},i}(_)),t("stAddUserAndPosMapScreenStateMobileClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).data=new jt,e.gsParam=b,e}e(i,t);var n=i.prototype;return n.Pack=function(){t.prototype.Pack.call(this),this.data.PackData(this.mByteBuffer)},n.UnPack=function(e){t.prototype.UnPack.call(this,e),this.data.UnpackData(this.mByteBuffer),this.ReleaseByteBuffer()},i}(_)),t("stAddMapNpcAndPosMapScreenStateClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).data=new qt,e.gsParam=X,e}e(i,t);var n=i.prototype;return n.Pack=function(){t.prototype.Pack.call(this),this.data.PackData(this.mByteBuffer)},n.UnPack=function(e){t.prototype.UnPack.call(this,e),this.data.UnpackData(this.mByteBuffer),this.ReleaseByteBuffer()},i}(_)),t("stMapDataMapScreenNPCMobileClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).size=0,e.npcList=null,e.gsParam=L,e}return e(i,t),i.prototype.UnPack=function(e){t.prototype.UnPack.call(this,e),this.size=this.mByteBuffer.readUint16(),this.npcList=[];for(var i=0;i<this.size;i++)this.npcList[i]=new qt,this.npcList[i].UnpackData(this.mByteBuffer);this.ReleaseByteBuffer()},i}(_)),t("stLianZhanClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).lianZhan=0,e.cd=0,e.nextLianZhan=0,e.gsParam=q,e}return e(i,t),i.prototype.UnPack=function(e){t.prototype.UnPack.call(this,e),this.lianZhan=this.mByteBuffer.readUint16(),this.cd=this.mByteBuffer.readUint16(),this.nextLianZhan=this.mByteBuffer.readUint16(),this.ReleaseByteBuffer()},i}(_)),t("stForceGuideClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).gsParam=V,e}return e(i,t),i}(_)),t("stUnionNpcLevelClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).level=0,e.time=0,e.skill=0,e}return e(i,t),i.prototype.UnPack=function(e){t.prototype.UnPack.call(this,e),this.level=this.mByteBuffer.readUint16(),this.time=this.mByteBuffer.readUint16(),this.skill=this.mByteBuffer.readUint16(),this.ReleaseByteBuffer()},i}(_));!function(t){t[t.ZONE_NONE=0]="ZONE_NONE",t[t.ZONE_PK_SAFE=1]="ZONE_PK_SAFE",t[t.ZONE_ABSOLUTE_SAFE=2]="ZONE_ABSOLUTE_SAFE",t[t.ZONE_RELIVE=4]="ZONE_RELIVE",t[t.ZONE_NEWBIE=8]="ZONE_NEWBIE",t[t.ZONE_SPORTS=16]="ZONE_SPORTS",t[t.ZONE_COUNTRY_WAR_DOOR=32]="ZONE_COUNTRY_WAR_DOOR",t[t.ZONE_COUNTRY_WAR_JIANG_JUN=64]="ZONE_COUNTRY_WAR_JIANG_JUN",t[t.ZONE_HOLD_FLAG=128]="ZONE_HOLD_FLAG",t[t.ZONE_COUNTRY_SAFE=256]="ZONE_COUNTRY_SAFE",t[t.ZONE_USER_SAFE=512]="ZONE_USER_SAFE"}(Gt||(Gt=t("ZoneType",{})));t("stGuoZhanInfoClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).campID=0,e.keepDefTime=0,e.keepDefMaxTime=0,e.info=new bt[2],e.gsParam=j,e}return e(i,t),i.prototype.UnPack=function(e){t.prototype.UnPack.call(this,e),this.campID=this.mByteBuffer.readByte(),this.keepDefTime=this.mByteBuffer.readUint16(),this.keepDefMaxTime=this.mByteBuffer.readUint16();for(var i=0;i<this.info.length;i++)this.info[i]=new bt,this.info[i].UnpackData(this.mByteBuffer);this.ReleaseByteBuffer()},i}(_)),t("stReqProgressClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).gsParam=J,e}return e(i,t),i.prototype.UnPack=function(e){t.prototype.UnPack.call(this,e),this.ReleaseByteBuffer()},i}(_)),t("stRetProgressBarClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).ret=y.eProgressRet_invalid,e.userID=0,e.needTime=0,e.gsParam=z,e}return e(i,t),i.prototype.UnPack=function(e){t.prototype.UnPack.call(this,e),this.ret=this.mByteBuffer.readByte(),this.userID=this.mByteBuffer.readUint32(),this.needTime=this.mByteBuffer.readUint16(),this.ReleaseByteBuffer()},i}(_)),t("stPlayerBaseInfo",function(){function t(){this.mTempID=0,this.mRealID=0,this.mStrName="",this.mCampID=0,this.mRoleID=0,this.mTeamID=0,this.mPiFuID=0,this.mWuQiID=0,this.mTouBuID=0,this.mHouBeiID=0}var e=t.prototype;return e.PackData=function(t){t.writeUint32(this.mTempID),t.writeUint32(this.mRealID),t.append(h(this.mStrName,a.NAME_SIZE_MAX)),t.writeByte(this.mCampID),t.writeUint32(this.mRoleID),t.writeUint32(this.mTeamID),t.writeUint32(this.mPiFuID),t.writeUint32(this.mWuQiID),t.writeUint32(this.mTouBuID),t.writeUint32(this.mHouBeiID)},e.UnpackData=function(t){this.mTempID=t.readUint32(),this.mRealID=t.readUint32(),this.mStrName=s(t,a.NAME_SIZE_MAX),this.mCampID=t.readByte(),this.mRoleID=t.readUint32(),this.mTeamID=t.readUint32(),this.mPiFuID=t.readUint32(),this.mWuQiID=t.readUint32(),this.mTouBuID=t.readUint32(),this.mHouBeiID=t.readUint32()},t}());var Qt=t("stPlayerScore",function(){function t(){this.mTempID=0,this.mCurScore=0}var e=t.prototype;return e.PackData=function(t){t.writeUint32(this.mTempID),t.writeUint32(this.mCurScore)},e.UnpackData=function(t){this.mTempID=t.readUint32(),this.mCurScore=t.readUint32()},t}()),Kt=t("stSpecificPos",function(){function t(){this.mTempID=0,this.mPosX=0,this.mPosY=0}var e=t.prototype;return e.PackData=function(t){t.writeUint32(this.mTempID),t.writeUint32(this.mPosX),t.writeUint32(this.mPosY)},e.UnpackData=function(t){this.mTempID=t.readUint32(),this.mPosX=t.readUint32(),this.mPosY=t.readUint32()},t}()),$t=(t("stSetUserControlAIClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).mCtrlAISize=0,e.mCtrlAIList=null,e.gsParam=I,e}return e(i,t),i.prototype.UnPack=function(e){t.prototype.UnPack.call(this,e),this.mCtrlAISize=this.mByteBuffer.readUint16(),this.mCtrlAIList=[];for(var i=0;i<this.mCtrlAISize;i++)this.mCtrlAIList[i]=this.mByteBuffer.readUint32();this.ReleaseByteBuffer()},i}(_)),t("stUserViewChangeClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).mUserId=0,e.mCount=0,e.mAllInSightList=null,e.gsParam=E,e}e(i,t);var n=i.prototype;return n.Pack=function(){t.prototype.Pack.call(this),this.mByteBuffer.writeUint32(this.mUserId),this.mByteBuffer.writeByte(this.mCount);for(var e=0;e<this.mCount;e++)this.mByteBuffer.writeUint32(this.mAllInSightList[e])},n.UnPack=function(e){t.prototype.UnPack.call(this,e),this.mUserId=this.mByteBuffer.readUint32(),this.mCount=this.mByteBuffer.readByte(),this.mAllInSightList=[];for(var i=0;i<this.mCount;i++)this.mAllInSightList[i]=this.mByteBuffer.readUint32();this.ReleaseByteBuffer()},i}(_)),t("stRoleEquipInfoClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).EquipInfo=[],e.gsParam=et,e}e(i,t);var n=i.prototype;return n.UnPack=function(e){t.prototype.UnPack.call(this,e),this.ReleaseByteBuffer()},n.Pack=function(){t.prototype.Pack.call(this)},i}(_)),t("stMapZoneDynData",function(){function t(){this.zoneDynTempId=0,this.zoneDynDataId=0,this.x=0,this.y=0}return t.prototype.UnpackData=function(t){this.zoneDynTempId=t.readUint32(),this.zoneDynDataId=t.readUint32(),this.x=t.readUint32(),this.y=t.readUint32()},t}())),te=(t("stAddMapZoneDynClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).num=0,e.data=void 0,e.gsParam=it,e}return e(i,t),i.prototype.UnPack=function(e){t.prototype.UnPack.call(this,e),this.num=this.mByteBuffer.readUint16(),this.data=[];for(var i=0;i<this.num;i++)this.data[i]=new $t,this.data[i].UnpackData(this.mByteBuffer);this.ReleaseByteBuffer()},i}(_)),t("stRemoveMapZoneDynClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).num=0,e.ids=void 0,e.gsParam=nt,e}return e(i,t),i.prototype.UnPack=function(e){t.prototype.UnPack.call(this,e),this.num=this.mByteBuffer.readUint16(),this.ids=[];for(var i=0;i<this.num;i++)this.ids[i]=this.mByteBuffer.readUint32();this.ReleaseByteBuffer()},i}(_)),t("stZoneDynOperateClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).operateType=0,e.zoneDynTempId=0,e.gsParam=rt,e}return e(i,t),i.prototype.UnPack=function(e){t.prototype.UnPack.call(this,e),this.operateType=this.mByteBuffer.readByte(),this.zoneDynTempId=this.mByteBuffer.readUint32(),this.ReleaseByteBuffer()},i}(_)),t("stMapScoreRankClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).mRankPlayerList=[],e.gsParam=at,e}e(i,t);var n=i.prototype;return n.UnPack=function(e){t.prototype.UnPack.call(this,e);for(var i=0;i<6;++i)this.mRankPlayerList[i]=new Qt,this.mRankPlayerList[i].UnpackData(this.mByteBuffer);this.ReleaseByteBuffer()},n.Pack=function(){t.prototype.Pack.call(this);for(var e=0;e<6;++e)this.mRankPlayerList[e].PackData(this.mByteBuffer)},i}(_)),t("stMapSpecificPosClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).mSpecialPosList=[],e.gsParam=st,e}e(i,t);var n=i.prototype;return n.UnPack=function(e){t.prototype.UnPack.call(this,e);for(var i=0;i<B.SpType_Num;i++)this.mSpecialPosList[i]=new Kt,this.mSpecialPosList[i].UnpackData(this.mByteBuffer);this.ReleaseByteBuffer()},n.Pack=function(){t.prototype.Pack.call(this);for(var e=0;e<B.SpType_Num;e++)this.mSpecialPosList[e].PackData(this.mByteBuffer)},i}(_)),t("stMapNoticeGameDataClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).yuyanbaoId=0,e.show=0,e.itemId=0,e.value=0,e.isCrit=0,e.gsParam=ht,e}return e(i,t),i.prototype.UnPack=function(e){t.prototype.UnPack.call(this,e),this.yuyanbaoId=this.mByteBuffer.readUint32(),this.show=this.mByteBuffer.readUint32(),this.itemId=this.mByteBuffer.readUint32(),this.value=this.mByteBuffer.readUint32(),this.isCrit=this.mByteBuffer.readByte(),this.ReleaseByteBuffer()},i}(_)),t("stMapEventIntoManorClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).manorId=0,e.state=0,e.gsParam=ot,e}return e(i,t),i.prototype.UnPack=function(e){t.prototype.UnPack.call(this,e),this.manorId=this.mByteBuffer.readUint32(),this.state=this.mByteBuffer.readByte(),this.ReleaseByteBuffer()},i}(_)),t("stRefreshCreateObjNoticeClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).noticeID=0,e.gsParam=ut,e}return e(i,t),i.prototype.UnPack=function(e){t.prototype.UnPack.call(this,e),this.noticeID=this.mByteBuffer.readUint32(),this.ReleaseByteBuffer()},i}(_)),t("stBossInfoMapScreenClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).state=0,e.npcID=0,e.boxID=0,e.gsParam=S,e}return e(i,t),i.prototype.UnPack=function(e){t.prototype.UnPack.call(this,e),this.state=this.mByteBuffer.readByte(),this.npcID=this.mByteBuffer.readUint32(),this.boxID=this.mByteBuffer.readUint32(),this.ReleaseByteBuffer()},i}(_)),t("stFinishRollDiceClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).gsParam=mt,e}return e(i,t),i.prototype.UnPack=function(e){t.prototype.UnPack.call(this,e),this.ReleaseByteBuffer()},i}(_)),t("stMoveCompleteClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).gsParam=dt,e}return e(i,t),i.prototype.Pack=function(){t.prototype.Pack.call(this)},i}(_)),t("stMapEventManorRefExploreClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).yuyanbaoId=0,e.show=0,e.refType=0,e.gsParam=yt,e}return e(i,t),i.prototype.UnPack=function(e){t.prototype.UnPack.call(this,e),this.yuyanbaoId=this.mByteBuffer.readUint32(),this.show=this.mByteBuffer.readUint32(),this.refType=this.mByteBuffer.readByte(),this.ReleaseByteBuffer()},i}(_)),t("stMapEventWatchAdvertisingClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).award_item=0,e.award_num=0,e.gsParam=Ut,e}e(i,t);var n=i.prototype;return n.UnPack=function(e){t.prototype.UnPack.call(this,e),this.award_item=this.mByteBuffer.readUint32(),this.award_num=this.mByteBuffer.readUint32(),this.ReleaseByteBuffer()},n.Pack=function(){t.prototype.Pack.call(this),this.mByteBuffer.writeUint32(this.award_item),this.mByteBuffer.writeUint32(this.award_num)},i}(_)),t("stMapEventManorOtherRefExploreClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).manor_id=0,e.manor_level=0,e.name="",e.headAddr="",e.head=0,e.gender=0,e.gsParam=Bt,e}return e(i,t),i.prototype.UnPack=function(e){t.prototype.UnPack.call(this,e),this.manor_id=this.mByteBuffer.readUint32(),this.manor_level=this.mByteBuffer.readUint16(),this.name=this.ReadStringWithFixedLength(a.NAME_SIZE_MAX),this.headAddr=this.ReadStringWithFixedLength(a.HEAD_ICON_SIZE_MAX),this.head=this.mByteBuffer.readByte(),this.gender=this.mByteBuffer.readByte(),this.ReleaseByteBuffer()},i}(_)),t("stMapEventCreateManorCopyClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).manor_id=0,e.manor_name="",e.user_id=0,e.user_level=0,e.name="",e.gsParam=Pt,e}return e(i,t),i.prototype.UnPack=function(e){t.prototype.UnPack.call(this,e),this.manor_id=this.mByteBuffer.readUint32(),this.manor_name=this.ReadStringWithFixedLength(a.NAME_SIZE_MAX),this.user_id=this.mByteBuffer.readUint32(),this.user_level=this.mByteBuffer.readUint32(),this.name=this.ReadStringWithFixedLength(a.NAME_SIZE_MAX),this.ReleaseByteBuffer()},i}(_)),t("stUserWatchAdvertisingClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).award_id=0,e.gsParam=_t,e}return e(i,t),i.prototype.Pack=function(){t.prototype.Pack.call(this),this.mByteBuffer.writeUint32(this.award_id)},i}(_)),t("stNoticeSwitchMapClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).gsParam=It,e}return e(i,t),i.prototype.UnPack=function(e){t.prototype.UnPack.call(this,e),this.ReleaseByteBuffer()},i}(_)),t("stParty",function(){function t(){this.partyTempID=0,this.partyID=0,this.partyTime=0,this.posX=0,this.posY=0,this.partyName="",this.partySlogan="",this.host=new ee,this.coHostList=Array(5)}return t.prototype.UnpackData=function(t){this.partyTempID=t.readUint32(),this.partyID=t.readUint32(),this.partyTime=t.readUint32(),this.posX=t.readUint32(),this.posY=t.readUint32(),this.partyName=s(t,a.PARTY_NAME_SIZE),this.partySlogan=s(t,a.PARTY_SLOGAN_SIZE),this.host.UnpackData(t);for(var e=0;e<this.coHostList.length;e+=1){var i=new ee;i.UnpackData(t),this.coHostList[e]=i}},t}())),ee=t("stPartyHost",function(){function t(){this.userID=0,this.userName="",this.userAccount=""}return t.prototype.UnpackData=function(t){this.userID=t.readUint32(),this.userName=s(t,a.NAME_SIZE_MAX),this.userAccount=s(t,a.ACCOUNT_SIZE_MAX)},t}()),ie=t("stPartyNotice",function(){function t(){this.userName="",this.avatarsType="",this.notice=""}var e=t.prototype;return e.PackData=function(t){t.append(h(this.userName,a.NAME_SIZE_MAX)),t.append(h(this.avatarsType,a.CHAIN_AVATARS_TYPE_LEN)),t.append(h(this.notice,a.PARTY_NOTICE_SIZE))},e.UnpackData=function(t){this.userName=s(t,a.NAME_SIZE_MAX),this.avatarsType=s(t,a.CHAIN_AVATARS_TYPE_LEN),this.notice=s(t,a.PARTY_NOTICE_SIZE)},t}());t("stPartyDataMapClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).party=new te,e.gsParam=Et,e}return e(i,t),i.prototype.UnPack=function(e){t.prototype.UnPack.call(this,e),this.party.UnpackData(this.mByteBuffer),this.ReleaseByteBuffer()},i}(_)),t("stPartyDataListMapClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).num=0,e.partyList=null,e.gsParam=Ct,e}return e(i,t),i.prototype.UnPack=function(e){t.prototype.UnPack.call(this,e),this.num=this.mByteBuffer.readUint16(),this.partyList=[];for(var i=0;i<this.num;i++){var n=new te;n.UnpackData(this.mByteBuffer),this.partyList.push(n)}this.ReleaseByteBuffer()},i}(_)),t("stPartyRemoveMapClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).partyTempID=0,e.gsParam=Tt,e}return e(i,t),i.prototype.UnPack=function(e){t.prototype.UnPack.call(this,e),this.partyTempID=this.mByteBuffer.readUint32(),this.ReleaseByteBuffer()},i}(_)),t("stPartyCreateMapClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).partyID=0,e.x=0,e.y=0,e.partyName="",e.partySlogan="",e.gsParam=Nt,e}e(i,t);var n=i.prototype;return n.Pack=function(){t.prototype.Pack.call(this),this.mByteBuffer.writeUint32(this.partyID),this.mByteBuffer.writeUint32(this.x),this.mByteBuffer.writeUint32(this.y),this.WriteStringWithFixedLength(this.partyName,a.PARTY_NAME_SIZE),this.WriteStringWithFixedLength(this.partySlogan,a.PARTY_SLOGAN_SIZE)},n.UnPack=function(e){t.prototype.UnPack.call(this,e),this.partyID=this.mByteBuffer.readUint32(),this.x=this.mByteBuffer.readUint32(),this.y=this.mByteBuffer.readUint32(),this.partyName=this.ReadStringWithFixedLength(a.PARTY_NAME_SIZE),this.partySlogan=this.ReadStringWithFixedLength(a.PARTY_SLOGAN_SIZE),this.ReleaseByteBuffer()},i}(_)),t("stPartyUserStateMapClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).partyTempID=0,e.userTempId=0,e.state=0,e.bgmTime=0,e.urlLen=0,e.bgmUrl="NULL",e.gsParam=Dt,e}return e(i,t),i.prototype.UnPack=function(e){t.prototype.UnPack.call(this,e),this.partyTempID=this.mByteBuffer.readUint32(),this.userTempId=this.mByteBuffer.readUint32(),this.state=this.mByteBuffer.readUint8(),this.bgmTime=this.mByteBuffer.readUint32(),this.urlLen=this.mByteBuffer.readUint16(),0!==this.urlLen&&(this.bgmUrl=this.ReadStringWithFixedLength(this.urlLen)),this.ReleaseByteBuffer()},i}(_)),t("stPartyEnterMapClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).gsParam=At,e}e(i,t);var n=i.prototype;return n.Pack=function(){t.prototype.Pack.call(this)},n.UnPack=function(e){t.prototype.UnPack.call(this,e),this.ReleaseByteBuffer()},i}(_)),t("stPartyChangeDataMapClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).partyTempID=0,e.partyName="",e.partySlogan="",e.gsParam=St,e}e(i,t);var n=i.prototype;return n.Pack=function(){t.prototype.Pack.call(this),this.mByteBuffer.writeUint32(this.partyTempID),this.WriteStringWithFixedLength(this.partyName,a.PARTY_NAME_SIZE),this.WriteStringWithFixedLength(this.partySlogan,a.PARTY_SLOGAN_SIZE)},n.UnPack=function(e){t.prototype.UnPack.call(this,e),this.partyTempID=this.mByteBuffer.readUint32(),this.partyName=this.ReadStringWithFixedLength(a.PARTY_NAME_SIZE),this.partySlogan=this.ReadStringWithFixedLength(a.PARTY_SLOGAN_SIZE),this.ReleaseByteBuffer()},i}(_)),t("stPartyWriteNoticeMapClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).partyTempID=0,e.partyNotice="",e.gsParam=Rt,e}e(i,t);var n=i.prototype;return n.Pack=function(){t.prototype.Pack.call(this),this.mByteBuffer.writeUint32(this.partyTempID),this.WriteStringWithFixedLength(this.partyNotice,a.PARTY_NOTICE_SIZE)},n.UnPack=function(e){t.prototype.UnPack.call(this,e),this.partyTempID=this.mByteBuffer.readUint32(),this.partyNotice=this.ReadStringWithFixedLength(a.PARTY_NOTICE_SIZE),this.ReleaseByteBuffer()},i}(_)),t("stPartyAddNoticeMapClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).partyTempID=0,e.userTempID=0,e.partyNotice=new ie,e.gsParam=kt,e}return e(i,t),i.prototype.UnPack=function(e){t.prototype.UnPack.call(this,e),this.partyTempID=this.mByteBuffer.readUint32(),this.userTempID=this.mByteBuffer.readUint32(),this.partyNotice.UnpackData(this.mByteBuffer),this.ReleaseByteBuffer()},i}(_)),t("stPartyNoticeListMapClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).partyTempID=0,e.max_notice=0,e.cur_notice=0,e.noticeNum=0,e.partyNoticeList=[],e.gsParam=Mt,e}e(i,t);var n=i.prototype;return n.Pack=function(){t.prototype.Pack.call(this),this.mByteBuffer.writeUint32(this.partyTempID),this.mByteBuffer.writeUint8(this.max_notice),this.mByteBuffer.writeUint8(this.cur_notice),this.mByteBuffer.writeUint16(this.noticeNum);for(var e=0;e<this.noticeNum;++e)this.partyNoticeList[e].PackData(this.mByteBuffer)},n.UnPack=function(e){t.prototype.UnPack.call(this,e),this.partyTempID=this.mByteBuffer.readUint32(),this.max_notice=this.mByteBuffer.readUint8(),this.cur_notice=this.mByteBuffer.readUint8(),this.noticeNum=this.mByteBuffer.readUint16();for(var i=0;i<this.noticeNum;++i)this.partyNoticeList[i]=new ie,this.partyNoticeList[i].UnpackData(this.mByteBuffer);this.ReleaseByteBuffer()},i}(_)),t("stPartyChangeCoHostMapClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).partyTempID=0,e.operate=0,e.userAccount="",e.result=0,e.gsParam=gt,e}e(i,t);var n=i.prototype;return n.UnPack=function(e){t.prototype.UnPack.call(this,e),this.partyTempID=this.mByteBuffer.readUint32(),this.operate=this.mByteBuffer.readUint8(),this.userAccount=this.ReadStringWithFixedLength(a.ACCOUNT_SIZE_MAX),this.result=this.mByteBuffer.readUint8(),this.ReleaseByteBuffer()},n.Pack=function(){t.prototype.Pack.call(this),this.mByteBuffer.writeUint32(this.partyTempID),this.mByteBuffer.writeUint8(this.operate),this.WriteStringWithFixedLength(this.userAccount,a.ACCOUNT_SIZE_MAX),this.mByteBuffer.writeUint8(this.result)},i}(_)),t("stPartyUpdateCoHostMapClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).partyTempID=0,e.coHostList=Array(5),e.gsParam=Lt,e}return e(i,t),i.prototype.UnPack=function(e){t.prototype.UnPack.call(this,e),this.partyTempID=this.mByteBuffer.readUint32();for(var i=0;i<this.coHostList.length;i+=1){var n=new ee;n.UnpackData(this.mByteBuffer),this.coHostList[i]=n}this.ReleaseByteBuffer()},i}(_)),t("stNPCFunctionClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).npcTempID=0,e.gsParam=Q,e}return e(i,t),i.prototype.Pack=function(){t.prototype.Pack.call(this),this.mByteBuffer.writeUint32(this.npcTempID)},i}(_)),t("stPartyGetAgoraTokenMapClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).gsParam=vt,e}return e(i,t),i.prototype.Pack=function(){t.prototype.Pack.call(this)},i}(_)),t("stPartySetAgoraTokenMapClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).channel="",e.token="",e.gsParam=Ot,e}return e(i,t),i.prototype.UnPack=function(e){t.prototype.UnPack.call(this,e),this.channel=this.ReadStringWithFixedLength(64),this.token=this.ReadStringWithFixedLength(256),this.ReleaseByteBuffer()},i}(_)),t("stNPCSmileScreenUserCmd",function(t){function i(){var e;return(e=t.call(this)||this).gsParam=M,e}return e(i,t),i.prototype.UnPack=function(e){t.prototype.UnPack.call(this,e),this.ReleaseByteBuffer()},i}(_)),t("stPartySetBGMMapClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).bgmStartTime=0,e.bgmUrlLen=0,e.bgmUrl="NULL",e.gsParam=wt,e}e(i,t);var n=i.prototype;return n.Pack=function(){t.prototype.Pack.call(this),this.mByteBuffer.writeUint32(this.bgmStartTime),this.bgmUrlLen=p.calculateUTF8Bytes(this.bgmUrl)+1,this.mByteBuffer.writeUint16(this.bgmUrlLen),this.WriteStringWithFixedLength(this.bgmUrl,this.bgmUrlLen)},n.UnPack=function(e){t.prototype.UnPack.call(this,e),this.bgmStartTime=this.mByteBuffer.readUint32(),this.bgmUrlLen=this.mByteBuffer.readUint16(),0!==this.bgmUrlLen&&(this.bgmUrl=this.ReadStringWithFixedLength(this.bgmUrlLen)),this.ReleaseByteBuffer()},i}(_)),t("stWishingWellMapScreenClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).userTempId=0,e.level=0,e.result=0,e.itemId=0,e.itemNum=0,e.num=0,e.text="",e.gsParam=N,e}e(i,t);var n=i.prototype;return n.Pack=function(){t.prototype.Pack.call(this),this.mByteBuffer.writeUint32(this.userTempId),this.mByteBuffer.writeUint8(this.level),this.mByteBuffer.writeUint32(this.result),this.mByteBuffer.writeUint32(this.itemId),this.mByteBuffer.writeUint32(this.itemNum),this.num=p.calculateUTF8Bytes(this.text)+1,this.mByteBuffer.writeUint16(this.num),this.WriteStringWithFixedLength(this.text,this.num)},n.UnPack=function(e){t.prototype.UnPack.call(this,e),this.userTempId=this.mByteBuffer.readUint32(),this.level=this.mByteBuffer.readUint8(),this.result=this.mByteBuffer.readUint32(),this.itemId=this.mByteBuffer.readUint32(),this.itemNum=this.mByteBuffer.readUint32(),this.num=this.mByteBuffer.readUint16(),0!==this.num&&(this.text=this.ReadStringWithFixedLength(this.num)),this.ReleaseByteBuffer()},i}(_)),t("stLightSocialClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).tarUserTempID=0,e.itemID=0,e.gsParam=ct,e}e(i,t);var n=i.prototype;return n.Pack=function(){t.prototype.Pack.call(this),this.mByteBuffer.writeUint32(this.tarUserTempID),this.mByteBuffer.writeUint32(this.itemID)},n.UnPack=function(e){t.prototype.UnPack.call(this,e),this.tarUserTempID=this.mByteBuffer.readUint32(),this.itemID=this.mByteBuffer.readUint32(),this.ReleaseByteBuffer()},i}(_)),t("stUserShowActionClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).userTempID=0,e.showAction=0,e.gsParam=pt,e}e(i,t);var n=i.prototype;return n.Pack=function(){t.prototype.Pack.call(this),this.mByteBuffer.writeUint32(this.userTempID),this.mByteBuffer.writeUint32(this.showAction)},n.UnPack=function(e){t.prototype.UnPack.call(this,e),this.userTempID=this.mByteBuffer.readUint32(),this.showAction=this.mByteBuffer.readUint32(),this.ReleaseByteBuffer()},i}(_)),t("stPartyNewRedPacketMapClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).newRedPacket=new zt,e.gsParam=xt,e}e(i,t);var n=i.prototype;return n.Pack=function(){t.prototype.Pack.call(this),this.newRedPacket.PackData(this.mByteBuffer)},n.UnPack=function(e){t.prototype.UnPack.call(this,e),this.newRedPacket.UnpackData(this.mByteBuffer),this.ReleaseByteBuffer()},i}(_)),t("stPartyCreateRedPacketMapClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).level=0,e.gsParam=Zt,e}e(i,t);var n=i.prototype;return n.Pack=function(){t.prototype.Pack.call(this),this.mByteBuffer.writeUint8(this.level)},n.UnPack=function(e){t.prototype.UnPack.call(this,e),this.level=this.mByteBuffer.readUint8(),this.ReleaseByteBuffer()},i}(_)),t("stPartyGetRedPacketMapClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).redPacketID=0,e.result=0,e.gold=0,e.gsParam=Ft,e}e(i,t);var n=i.prototype;return n.Pack=function(){t.prototype.Pack.call(this),this.mByteBuffer.writeUint32(this.redPacketID),this.mByteBuffer.writeUint32(this.result),this.mByteBuffer.writeUint32(this.gold)},n.UnPack=function(e){t.prototype.UnPack.call(this,e),this.redPacketID=this.mByteBuffer.readUint32(),this.result=this.mByteBuffer.readUint32(),this.gold=this.mByteBuffer.readUint32(),this.ReleaseByteBuffer()},i}(_)),t("stPartyGiveRewardMapClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).userTempID=0,e.itemID=0,e.itemNum=0,e.gsParam=Yt,e}return e(i,t),i.prototype.UnPack=function(e){t.prototype.UnPack.call(this,e),this.userTempID=this.mByteBuffer.readUint32(),this.itemID=this.mByteBuffer.readUint32(),this.itemNum=this.mByteBuffer.readUint32(),this.ReleaseByteBuffer()},i}(_)),t("stSlapGameStartClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).gsParam=K,e}return e(i,t),i.prototype.Pack=function(){t.prototype.Pack.call(this)},i}(_)),t("stSlapGameScoreClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).score=0,e.gsParam=$,e}return e(i,t),i.prototype.Pack=function(){t.prototype.Pack.call(this),this.mByteBuffer.writeUint32(this.score)},i}(_)),t("stSlapGameDayCountClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).count=0,e.gsParam=tt,e}e(i,t);var n=i.prototype;return n.Pack=function(){t.prototype.Pack.call(this),this.mByteBuffer.writeUint32(this.count)},n.UnPack=function(e){t.prototype.UnPack.call(this,e),this.count=this.mByteBuffer.readUint32(),this.ReleaseByteBuffer()},i}(_)),t("stUserTransferSceneClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).sceneID=0,e.posX=0,e.posY=0,e.gsParam=ft,e}return e(i,t),i.prototype.Pack=function(){t.prototype.Pack.call(this),this.mByteBuffer.writeUint32(this.sceneID),this.mByteBuffer.writeUint32(this.posX),this.mByteBuffer.writeUint32(this.posY)},i}(_)),t("stUserShowACTClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).userTempID=0,e.showID=0,e.gsParam=lt,e}e(i,t);var n=i.prototype;return n.Pack=function(){t.prototype.Pack.call(this),this.mByteBuffer.writeUint32(this.userTempID),this.mByteBuffer.writeUint32(this.showID)},n.UnPack=function(e){t.prototype.UnPack.call(this,e),this.userTempID=this.mByteBuffer.readUint32(),this.showID=this.mByteBuffer.readUint32(),this.ReleaseByteBuffer()},i}(_));i._RF.pop()}}}));

System.register("chunks:///_virtual/maze.client.protocol.ts",["./rollupPluginModLoBabelHelpers.js","cc","./net.protocol.define.ts","./null.client.protocol.ts"],(function(t){"use strict";var e,n,i,a;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){i=t.NetProtocolDefine},function(t){a=t.stNullClientCmd}],execute:function(){t("MazeNpcState",void 0),n._RF.push({},"6c255L317hL7Zlongo5QyWD","maze.client.protocol",void 0);var r,s=t("stMazeClientCmd",function(t){function n(){var e;return(e=t.call(this)||this).gsCmd=i.MAZE_CLIENT_CMD,e}return e(n,t),n}(a)),o=t("INIT_COPY_MAZE_CLIENT",1),c=t("ROOM_DATA_MAZE_CLIENT",5),u=t("UPDATE_ROOM_DATA_MAZE_CLIENT",6),h=t("UPDATE_MONSTER_DATA_MAZE_CLIENT",7),f=t("ENTER_ROOM_MAZE_CLIENT",10),p=t("SHOW_NPC_DIALOG_MAZE_CLIENT",11),l=t("NPC_CHOICE_MAZE_CLIENT",12),m=t("NPC_BOX_MAZE_CLIENT",13),B=t("MONSTER_BOX_MAZE_CLIENT",14);!function(t){t[t.Hide=0]="Hide",t[t.Normal=1]="Normal",t[t.Death=2]="Death",t[t.Death_Pickup=3]="Death_Pickup"}(r||(r=t("MazeNpcState",{})));var y=t("stMazeRoomMonster",function(){function t(){this.monsterID=0,this.npcState=0}return t.prototype.UnpackData=function(t){this.monsterID=t.readUint32(),this.npcState=t.readUint8()},t}()),d=t("stMazeRoomNPC",function(){function t(){this.tempID=0,this.npcID=0,this.npcEvent=0,this.npcState=0}return t.prototype.UnpackData=function(t){this.tempID=t.readUint32(),this.npcID=t.readUint32(),this.npcEvent=t.readUint32(),this.npcState=t.readUint8()},t}());t("stInitCopyMazeClientCmd",function(t){function n(){var e;return(e=t.call(this)||this).initRoom=0,e.gsParam=o,e}return e(n,t),n.prototype.UnPack=function(e){t.prototype.UnPack.call(this,e),this.initRoom=this.mByteBuffer.readUint32(),this.ReleaseByteBuffer()},n}(s)),t("stRoomDataMazeClientCmd",function(t){function n(){var e;return(e=t.call(this)||this).room=void 0,e.npcList=null,e.monsterData=new y,e.isHasNpc=!1,e.gsParam=c,e}return e(n,t),n.prototype.UnPack=function(e){t.prototype.UnPack.call(this,e),this.room=this.mByteBuffer.readUint32(),this.npcList=[];for(var n=0;n<5;++n)this.npcList[n]=new d,this.npcList[n].UnpackData(this.mByteBuffer),0!==this.npcList[n].npcID&&(this.isHasNpc=!0);this.monsterData.UnpackData(this.mByteBuffer),this.ReleaseByteBuffer()},n}(s)),t("stEnterRoomMazeClientCmd",function(t){function n(){var e;return(e=t.call(this)||this).dir=0,e.result=0,e.room=0,e.gsParam=f,e}e(n,t);var i=n.prototype;return i.Pack=function(){t.prototype.Pack.call(this),this.mByteBuffer.writeUint8(this.dir),this.mByteBuffer.writeUint8(this.result),this.mByteBuffer.writeUint32(this.room)},i.UnPack=function(e){t.prototype.UnPack.call(this,e),this.dir=this.mByteBuffer.readUint8(),this.result=this.mByteBuffer.readUint8(),this.room=this.mByteBuffer.readUint32(),this.ReleaseByteBuffer()},n}(s)),t("stUpdateNpcDataMazeClientCmd",function(t){function n(){var e;return(e=t.call(this)||this).npcData=new d,e.gsParam=u,e}return e(n,t),n.prototype.UnPack=function(e){t.prototype.UnPack.call(this,e),this.npcData.UnpackData(this.mByteBuffer),this.ReleaseByteBuffer()},n}(s)),t("stUpdateMonsterDataMazeClientCmd",function(t){function n(){var e;return(e=t.call(this)||this).monsterData=new y,e.gsParam=h,e}return e(n,t),n.prototype.UnPack=function(e){t.prototype.UnPack.call(this,e),this.monsterData.UnpackData(this.mByteBuffer),this.ReleaseByteBuffer()},n}(s)),t("stShowNpcDialogMazeClientCmd",function(t){function n(){var e;return(e=t.call(this)||this).mazeNpcId=0,e.gsParam=p,e}e(n,t);var i=n.prototype;return i.Pack=function(){t.prototype.Pack.call(this),this.mByteBuffer.writeUint32(this.mazeNpcId)},i.UnPack=function(e){t.prototype.UnPack.call(this,e),this.mazeNpcId=this.mByteBuffer.readUint32(),this.ReleaseByteBuffer()},n}(s)),t("stNpcChoiceMazeClientCmd",function(t){function n(){var e;return(e=t.call(this)||this).mazeNpcId=0,e.choiceIndex=0,e.gsParam=l,e}e(n,t);var i=n.prototype;return i.Pack=function(){t.prototype.Pack.call(this),this.mByteBuffer.writeUint32(this.mazeNpcId),this.mByteBuffer.writeUint32(this.choiceIndex)},i.UnPack=function(e){t.prototype.UnPack.call(this,e),this.mazeNpcId=this.mByteBuffer.readUint32(),this.choiceIndex=this.mByteBuffer.readUint32(),this.ReleaseByteBuffer()},n}(s)),t("stNpcBoxMazeClientCmd",function(t){function n(){var e;return(e=t.call(this)||this).npcTempId=0,e.gsParam=m,e}return e(n,t),n.prototype.Pack=function(){t.prototype.Pack.call(this),this.mByteBuffer.writeUint32(this.npcTempId)},n}(s)),t("stMonsterBoxMazeClientCmd",function(t){function n(){var e;return(e=t.call(this)||this).gsParam=B,e}return e(n,t),n}(s));n._RF.pop()}}}));

System.register("chunks:///_virtual/migrate-canvas.ts",["cc"],(function(){"use strict";var n,e,t,i,r,o;return{setters:[function(a){n=a.cclegacy,e=a.director,t=a.Director,i=a.Canvas,r=a.Camera,o=a.game}],execute:function(){n._RF.push({},"cd130LBH1BMhbusLDBK9djR","migrate-canvas",void 0);var a=1048575;function c(n,e){for(var t=0,i=n.children.length;t<i;t++)n.children[t].layer=e,c(n.children[t],e)}e.on(t.EVENT_AFTER_SCENE_LAUNCH,(function(){var n,t,l,s=null==(n=e.getScene())?void 0:n.children,m=null==(t=e.getScene())?void 0:t.getComponentsInChildren(i);if(!(m.length<=1)){m=m.filter((function(n){return!!n.cameraComponent}));var u=null==(l=e.getScene())?void 0:l.getComponentsInChildren(r),v=0;u.forEach((function(n){return v|=n.visibility&a}));for(var p=[],f=0,d=s.length;f<d;f++){var h=s[f];if(o.isPersistRootNode(h)){var C=h.getComponentsInChildren(i);0!==C.length&&p.push.apply(p,C.filter((function(n){return!!n.cameraComponent})))}}p.forEach((function(n){if(m.find((function(e){return e!==n&&e.cameraComponent.visibility&n.cameraComponent.visibility&a}))){var e=~v,t=e&~(e-1);n.cameraComponent.visibility=t|4293918720&n.cameraComponent.visibility,c(n.node,t),v|=e}}))}}));var l=cc.Node.prototype.setParent;function s(n){var e=null,t=n.getComponent(i);return t&&t.cameraComponent?e=t.cameraComponent.visibility&t.node.layer?t.node.layer:t.cameraComponent.visibility&~(t.cameraComponent.visibility-1):(n.parent&&(e=s(n.parent)),e)}cc.Node.prototype.setParent=function(n,e){if(l.call(this,n,e),n){var t=s(this);t&&(this.layer=t,c(this,t))}},n._RF.pop()}}}));

System.register("chunks:///_virtual/mining.client.protocol.ts",["./rollupPluginModLoBabelHelpers.js","cc","./long.mjs_cjs=&original=.js","./net.protocol.define.ts","./null.client.protocol.ts","./long.js"],(function(t){"use strict";var i,n,e,r,a,s;return{setters:[function(t){i=t.inheritsLoose},function(t){n=t.cclegacy},null,function(t){e=t.NetProtocolDefine},function(t){r=t.readStringWithFixedLengthFromByteBuffer,a=t.stNullClientCmd},function(t){s=t.default}],execute:function(){n._RF.push({},"f98bfxbRmhAub92gL+Q3ebU","mining.client.protocol",void 0);var o=t("stMiningClientCmd",function(t){function n(){var i;return(i=t.call(this)||this).gsCmd=e.MINING_CLIENT_CMD,i}return i(n,t),n}(a)),h=t("GET_MINING_LIST_CLIENT",1),u=t("SEND_MINING_LIST_CLIENT",2),m=t("MINING_DATA_LIST_CLIENT",3),c=t("GET_MINING_DATA_CLIENT",4),f=t("SEND_MINING_DATA_CLIENT",5),l=t("APPLY_MINING_CLIENT",6),g=t("WITHDRAW_MINING_COIN_CLIENT",7),d=t("stMining",function(){function t(){this.MiningID=0,this.MiningName="",this.MiningType=0,this.SignupTime=0,this.StartTime=0,this.StartMiner=0,this.DurationTime=0,this.TotalAmount=0,this.BaseAmount=0,this.AppendAmount=0,this.AdditionAmount=0,this.UnitAmount=0,this.LevelLimit=0,this.HashrateLimit=0,this.TotalLimit=0,this.MutualLimit=[5],this.PlatformLimit=0,this.StakeCoefficient=0,this.StartState=0,this.RemainingTime=0,this.RemainingCoin="0",this.NetworkHashrate="0",this.NetworkMinerNum=0}return t.prototype.UnPackData=function(t){this.MiningID=t.readUint32(),this.MiningName=r(t,32),this.MiningType=t.readUint8(),this.SignupTime=t.readUint32(),this.StartTime=t.readUint32(),this.StartMiner=t.readUint32(),this.DurationTime=t.readUint32(),this.TotalAmount=t.readUint32(),this.BaseAmount=t.readUint32(),this.AppendAmount=t.readUint32(),this.AdditionAmount=t.readUint32(),this.UnitAmount=t.readUint32(),this.LevelLimit=t.readUint32(),this.HashrateLimit=t.readUint32(),this.TotalLimit=t.readUint32(),this.MutualLimit=[];for(var i=0;i<5;i++)this.MutualLimit.push(t.readUint32());this.PlatformLimit=t.readUint8(),this.StakeCoefficient=t.readUint32(),this.StartState=t.readUint8(),this.RemainingTime=t.readUint32(),this.RemainingCoin=t.readUint64().toString(),this.NetworkHashrate=t.readUint64().toString(),this.NetworkMinerNum=t.readUint32()},t}()),p=t("stMiningData",function(){function t(){this.MiningID=0,this.StartTime=0,this.StakeAmount="0",this.CoinAmount="0"}return t.prototype.UnPackData=function(t){this.MiningID=t.readUint32(),this.StartTime=t.readUint32(),this.StakeAmount=t.readUint64().toString(),this.CoinAmount=t.readUint64().toString()},t}()),U=t("stMiningLog",function(){function t(){this.miningData=null,this.miningState=0}return t.prototype.UnPackData=function(t){this.miningData=new p,this.miningData.UnPackData(t),this.miningState=t.readUint8()},t}());t("stGetMiningListClientCmd",function(t){function n(){var i;return(i=t.call(this)||this).gsParam=h,i}return i(n,t),n.prototype.Pack=function(){t.prototype.Pack.call(this)},n}(o)),t("stSendMiningListClientCmd",function(t){function n(){var i;return(i=t.call(this)||this).num=0,i.info=[],i.gsParam=u,i}return i(n,t),n.prototype.UnPack=function(i){t.prototype.UnPack.call(this,i),this.num=this.mByteBuffer.readUint16(),this.info=[];for(var n=0;n<this.num;n++){var e=new d;e.UnPackData(this.mByteBuffer),this.info.push(e)}this.ReleaseByteBuffer()},n}(o)),t("stMiningDataListClientCmd",function(t){function n(){var i;return(i=t.call(this)||this).num=0,i.list=[],i.gsParam=m,i}return i(n,t),n.prototype.UnPack=function(i){t.prototype.UnPack.call(this,i),this.num=this.mByteBuffer.readUint16(),this.list=[];for(var n=0;n<this.num;n++){var e=new U;e.UnPackData(this.mByteBuffer),this.list.push(e)}this.ReleaseByteBuffer()},n}(o)),t("stGetMiningDataClientCmd",function(t){function n(){var i;return(i=t.call(this)||this).miningID=0,i.gsParam=c,i}return i(n,t),n.prototype.Pack=function(){t.prototype.Pack.call(this),this.mByteBuffer.writeUint32(this.miningID)},n}(o)),t("stSendMiningDataClientCmd",function(t){function n(){var i;return(i=t.call(this)||this).miningLog=null,i.gsParam=f,i}return i(n,t),n.prototype.UnPack=function(i){t.prototype.UnPack.call(this,i),this.miningLog=new U,this.miningLog.UnPackData(this.mByteBuffer),this.ReleaseByteBuffer()},n}(o)),t("stApplyMiningClientCmd",function(t){function n(){var i;return(i=t.call(this)||this).miningID=0,i.gsParam=l,i}return i(n,t),n.prototype.Pack=function(){t.prototype.Pack.call(this),this.mByteBuffer.writeUint32(this.miningID)},n}(o)),t("stWithdrawMiningCoinClientCmd",function(t){function n(){var i;return(i=t.call(this)||this).miningID=0,i.state=0,i.coinAmount="",i.stakeAmount="",i.gsParam=g,i}i(n,t);var e=n.prototype;return e.Pack=function(){t.prototype.Pack.call(this),this.mByteBuffer.writeUint32(this.miningID),this.mByteBuffer.writeUint8(this.state),this.mByteBuffer.writeUint64(s.fromString(this.coinAmount)),this.mByteBuffer.writeUint64(s.fromString(this.stakeAmount))},e.UnPack=function(i){t.prototype.UnPack.call(this,i),this.miningID=this.mByteBuffer.readUint32(),this.state=this.mByteBuffer.readUint8(),this.coinAmount=this.mByteBuffer.readUint64().toString(),this.stakeAmount=this.mByteBuffer.readUint64().toString(),this.ReleaseByteBuffer()},n}(o));n._RF.pop()}}}));

System.register("chunks:///_virtual/model.achievement.manager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./event.dispatcher.ts","./event.name.ts","./base.model.manager.ts","./userdata.client.protocol.ts","./table.helper.ts","./tonweb.mjs_cjs=&original=.js","./tonweb.js"],(function(e){"use strict";var t,n,a,i,c,r,s,l,h,m,o;return{setters:[function(e){t=e.inheritsLoose,n=e.createClass},function(e){a=e.cclegacy,i=e._decorator},function(e){c=e.EventDispatcher},function(e){r=e.EventName},function(e){s=e.BaseModelManager},function(e){l=e.EAchievementType,h=e.stAchievementData},function(e){m=e.TableHelper},null,function(e){o=e.default}],execute:function(){var p,v;a._RF.push({},"58439Ftm0pFTLiGy8MNT154","model.achievement.manager",void 0);var u=i.ccclass;e("ModelAchievementManager",u("ModelAchievementManager")(((v=function(e){function a(){for(var t,n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(t=e.call.apply(e,[this].concat(a))||this).mAchievementMap=new Map,t}t(a,e);var i=a.prototype;return i.addAllManagerEvents=function(){e.prototype.addAllManagerEvents.call(this)},i.removeAllManagerEvents=function(){e.prototype.removeAllManagerEvents.call(this)},i.getAchievementList=function(){for(var e=this,t=[],n=0;n<l.eAchievementType_Max;n++)n!==l.eAchievementType_Null&&n!==l.eAchievementType_FarmObject&&this.mAchievementMap.has(n)&&t.push(this.mAchievementMap.get(n));return t.sort((function(t,n){return e._compareData(t,n)})),t},i._compareData=function(e,t){return m.getAchievementFristIDByType(e.type)-m.getAchievementFristIDByType(t.type)},i.getAchievementByType=function(e){return this.mAchievementMap.has(e)?this.mAchievementMap.get(e):null},i.isHasAchievementAward=function(){for(var e=this.getAchievementList(),t=0;t<e.length;t++){var n=m.getAchievementByTypeStage(e[t].type,e[t].step);if(n){var a=e[t].value;if(e[t].type===l.eAchievementType_PurchaseGold&&(a=o.utils.fromNano(a)),Number.parseInt(a)>=n.param)return!0}}return!1},i.clearManager=function(){e.prototype.clearManager.call(this),this.mAchievementMap.clear()},i.handlerAchievementListCmd=function(e){this.mAchievementMap.clear();for(var t=0;t<e.list.length;t++)this.mAchievementMap.set(e.list[t].type,e.list[t]);for(var n=0;n<l.eAchievementType_Max;n++)if(n!==l.eAchievementType_Null&&!this.mAchievementMap.has(n)){var a=new h;a.type=n,a.step=1,a.value="0",this.mAchievementMap.set(n,a)}c.emit(r.ACHIEVEMENT_LIST_INIT)},i.handlerAchievementUpdateCmd=function(e){if(null!=e.data)if(this.mAchievementMap.has(e.data.type)){var t=this.mAchievementMap.get(e.data.type);t.step=e.data.step,t.value=e.data.value}else this.mAchievementMap.set(e.data.type,e.data);c.emit(r.ACHIEVEMENT_LIST_UPDATE,e.data.type)},n(a,null,[{key:"instance",get:function(){return null==this._instance&&(this._instance=new a),this._instance}}]),a}(s))._instance=null,p=v))||p);a._RF.pop()}}}));

System.register("chunks:///_virtual/model.chain.order.manager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./event.dispatcher.ts","./event.name.ts","./base.model.manager.ts","./userdata.client.protocol.ts","./chain.operate.mint.wizard.ts","./chain.operate.withdraw.wizard.ts","./chain.operate.withdraw.item.ts","./chain.operate.withdraw.wizz.ts","./ui.float.text.controller.ts","./chain.operate.interface.ts","./chain.operate.tge.wizz.ts","./api.chain.marketplace.ts"],(function(e){"use strict";var r,t,a,n,i,s,d,h,o,u,p,c,l,m,O,C,_,T,z;return{setters:[function(e){r=e.inheritsLoose,t=e.createClass,a=e.asyncToGenerator,n=e.regeneratorRuntime},function(e){i=e.cclegacy,s=e._decorator,d=e.error},function(e){h=e.EventDispatcher},function(e){o=e.EventName},function(e){u=e.BaseModelManager},function(e){p=e.enumChainOrderType},function(e){c=e.ChainOperateMintWizard},function(e){l=e.ChainOperateWithdrawWizard},function(e){m=e.ChainOperateWithdrawItem},function(e){O=e.ChainOperateWithdrawWizz},function(e){C=e.UIFloatTextController},function(e){_=e.ChainOperateStatus},function(e){T=e.ChainOperateTgeWizz},function(e){z=e.apiAddInvalidOrder}],execute:function(){var f,I;i._RF.push({},"94c15iSoEZH9IdhmHcbzCZO","model.chain.order.manager",void 0);var W=s.ccclass;e("ModelChainOrderManager",W("ModelChainOrderManager")(((I=function(e){function i(){for(var r,t=arguments.length,a=new Array(t),n=0;n<t;n++)a[n]=arguments[n];return(r=e.call.apply(e,[this].concat(a))||this).mAllChainOrderList=[],r.mWorkerOrderMap=new Map,r.mItemOrderMap=new Map,r.mWizzOrder=null,r.mTgeWizzOrder=null,r.mInvalidChainOrderList=[],r}r(i,e);var s=i.prototype;return s.addAllManagerEvents=function(){e.prototype.addAllManagerEvents.call(this)},s.removeAllManagerEvents=function(){e.prototype.removeAllManagerEvents.call(this)},s.getChainOrderList=function(){return this.mAllChainOrderList},s.getChainOrderByID=function(e){for(var r=0;r<this.mAllChainOrderList.length;r++)if(this.mAllChainOrderList[r].orderID===e)return this.mAllChainOrderList[r];return null},s.getChainOrderCount=function(){return this.mAllChainOrderList.length},s.getWorkerChainOrder=function(e){return this.mWorkerOrderMap.has(e)?this.mWorkerOrderMap.get(e):null},s.getItemChainOrder=function(e){return this.mItemOrderMap.has(e)?this.mItemOrderMap.get(e):null},s.getWizzChainOrder=function(){return this.mWizzOrder},s.getTgeWizzChainOrder=function(){return this.mTgeWizzOrder},s.clearManager=function(){e.prototype.clearManager.call(this),this.mAllChainOrderList=[],this.mWorkerOrderMap.clear(),this.mItemOrderMap.clear(),this.mWizzOrder=null,this.mTgeWizzOrder=null,this.mInvalidChainOrderList=[]},s.handlerChainOrderInfoCmd=function(e){var r;this.mAllChainOrderList=[],(r=this.mAllChainOrderList).push.apply(r,e.list),this.mWorkerOrderMap.clear(),this.mItemOrderMap.clear(),this.mWizzOrder=null,this.mTgeWizzOrder=null;for(var t=0;t<e.list.length;t++){var a=e.list[t];a.orderType===p.eChainOrderType_MintWizard||a.orderType===p.eChainOrderType_WithdrawWizard?this.mWorkerOrderMap.set(a.param_1,a):a.orderType===p.eChainOrderType_WithdrawItem?this.mItemOrderMap.set(a.param_1,a):a.orderType===p.eChainOrderType_WithdrawWizzToken?this.mWizzOrder=a:a.orderType===p.eChainOrderType_TGEWizzToken&&(this.mTgeWizzOrder=a)}h.emit(o.CHAIN_ORDER_LIST_INIT)},s.handlerChainOrderAddCmd=function(e){if(null!=e.info){var r=e.info;this.mAllChainOrderList.push(r),r.orderType===p.eChainOrderType_MintWizard||r.orderType===p.eChainOrderType_WithdrawWizard?this.mWorkerOrderMap.set(r.param_1,r):r.orderType===p.eChainOrderType_WithdrawItem?this.mItemOrderMap.set(r.param_1,r):r.orderType===p.eChainOrderType_WithdrawWizzToken?this.mWizzOrder=r:r.orderType===p.eChainOrderType_TGEWizzToken&&(this.mTgeWizzOrder=r),h.emit(o.CHAIN_ORDER_ADD_ITEM,e.info.orderID)}},s.handlerChainOrderRemoveCmd=function(e){var r=this.getChainOrderByID(e.orderID);if(null!=r){r.orderType===p.eChainOrderType_MintWizard||r.orderType===p.eChainOrderType_WithdrawWizard?this.mWorkerOrderMap.has(r.param_1)&&this.mWorkerOrderMap.delete(r.param_1):r.orderType===p.eChainOrderType_WithdrawItem?this.mItemOrderMap.has(r.param_1)&&this.mItemOrderMap.delete(r.param_1):r.orderType===p.eChainOrderType_WithdrawWizzToken?this.mWizzOrder=null:r.orderType===p.eChainOrderType_TGEWizzToken&&(this.mTgeWizzOrder=null);var t=this.mAllChainOrderList.indexOf(r);this.mAllChainOrderList.splice(t,1),h.emit(o.CHAIN_ORDER_REMOVE_ITEM,e.orderID)}},s.handlerChainOrderSignCmd=function(){var e=a(n().mark((function e(r){var t,a,i,s,u,z;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(h.emit(o.UI_FLOAT_TEXT_CLOSE_WAITING),2!==r.signResult){e.next=4;break}return C.AddTipI18nID_Failed("u.2541"),e.abrupt("return");case 4:if(e.prev=4,null!==(t=this.getChainOrderByID(r.orderID))){e.next=8;break}return e.abrupt("return");case 8:e.t0=t.orderType,e.next=e.t0===p.eChainOrderType_MintWizard?11:e.t0===p.eChainOrderType_WithdrawWizard?19:e.t0===p.eChainOrderType_WithdrawItem?27:e.t0===p.eChainOrderType_WithdrawWizzToken?35:e.t0===p.eChainOrderType_TGEWizzToken?43:51;break;case 11:if(2e3===(a=JSON.parse(r.signData)).code){e.next=14;break}return e.abrupt("return");case 14:return e.next=16,c.popConfirm(Number(t.orderChainID),a.result,Number(t.param_1));case 16:return e.sent===_.Success&&(h.emit(o.UI_WORKER_DETAIL_CLOSE),h.emit(o.UI_ASSET_ONCHAIN_OPEN)),e.abrupt("break",51);case 19:if(2e3===(i=JSON.parse(r.signData)).code){e.next=22;break}return e.abrupt("return");case 22:return e.next=24,l.popConfirm(Number(t.orderChainID),i.result,Number(t.param_1));case 24:return e.sent===_.Success&&(h.emit(o.UI_WORKER_DETAIL_CLOSE),h.emit(o.UI_ASSET_ONCHAIN_OPEN)),e.abrupt("break",51);case 27:if(2e3===(s=JSON.parse(r.signData)).code){e.next=30;break}return e.abrupt("return");case 30:return e.next=32,m.popConfirm(Number(t.orderChainID),Number(t.param_1),Number(t.param_2),s.result);case 32:return e.sent===_.Success&&(h.emit(o.UI_DETAILS_CLOSE),h.emit(o.UI_ASSET_ONCHAIN_OPEN,1)),e.abrupt("break",51);case 35:if(2e3===(u=JSON.parse(r.signData)).code){e.next=38;break}return e.abrupt("return");case 38:return e.next=40,O.popConfirm(Number(t.orderChainID),u.result,t.param_1);case 40:return e.sent===_.Success&&h.emit(o.UI_ASSET_DETAIL_STAKE_CLOSE),e.abrupt("break",51);case 43:if(2e3===(z=JSON.parse(r.signData)).code){e.next=46;break}return e.abrupt("return");case 46:return e.next=48,T.popConfirm(Number(t.orderChainID),z.result,t.param_1);case 48:return e.sent===_.Success&&(h.emit(o.UI_TOKEN_GENERATION_CLOSE),h.emit(o.UI_TOKEN_UNLOCK_OPEN)),e.abrupt("break",51);case 51:e.next=56;break;case 53:e.prev=53,e.t1=e.catch(4),d(e.t1);case 56:case"end":return e.stop()}}),e,this,[[4,53]])})));return function(r){return e.apply(this,arguments)}}(),s.requestInvalidOrderID=function(){var e=a(n().mark((function e(r){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.mInvalidChainOrderList.includes(r)){e.next=10;break}return this.mInvalidChainOrderList.push(r),e.prev=2,e.next=5,z(r);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),console.error(e.t0);case 10:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(r){return e.apply(this,arguments)}}(),t(i,null,[{key:"instance",get:function(){return null==this._instance&&(this._instance=new i),this._instance}}]),i}(u))._instance=null,f=I))||f);i._RF.pop()}}}));

System.register("chunks:///_virtual/model.charge.define.ts",["cc"],(function(e){"use strict";var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"82f4fnke4ZAl6+0T/sGKRs6","model.charge.define",void 0);e("EChargeType",{None:0,Common:1,FirstCharge:2,Skin:3,MonthlyCard_Premium:4,MonthlyCard_Deluxe:5,FarmPlant_QuickHarvest:6,Activity_Res:10,Activity_Skin:11,Activity_Decoration:12}),e("EMonthlyCardType",{MonthlyCard_Premium:101,MonthlyCard_Deluxe:102,Channel_Tomarket:201});t._RF.pop()}}}));

System.register("chunks:///_virtual/model.charge.manager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./event.dispatcher.ts","./event.name.ts","./base.model.manager.ts","./table.manager.ts","./model.charge.define.ts"],(function(e){"use strict";var t,r,a,n,i,o,h,s,c,l;return{setters:[function(e){t=e.inheritsLoose,r=e.createClass},function(e){a=e.cclegacy,n=e._decorator},function(e){i=e.EventDispatcher},function(e){o=e.EventName},function(e){h=e.BaseModelManager},function(e){s=e.TableManager},function(e){c=e.EChargeType,l=e.EMonthlyCardType}],execute:function(){var d,u;a._RF.push({},"9c27ejNY+pNlbkAfv027JwJ","model.charge.manager",void 0);var g=n.ccclass;e("ModelChargeManager",g("ModelChargeManager")(((u=function(e){function a(){for(var t,r=arguments.length,a=new Array(r),n=0;n<r;n++)a[n]=arguments[n];return(t=e.call.apply(e,[this].concat(a))||this).mFirstChargeID=0,t.mPremiumMonthlyCardChargeID=0,t.mDeluxeMonthlyCardChargeID=0,t.mChargeRecord=new Map,t.mChargeLockRecord=new Map,t.mMonthlyCardData=new Map,t.mIsLoadChargeRecordFinish=!1,t}t(a,e);var n=a.prototype;return n.addAllManagerEvents=function(){e.prototype.addAllManagerEvents.call(this),i.on(o.PRELOAD_FINISH_ALL,this._EventAllTextLoadFinish,this)},n.removeAllManagerEvents=function(){e.prototype.removeAllManagerEvents.call(this),i.on(o.PRELOAD_FINISH_ALL,this._EventAllTextLoadFinish,this)},n._EventAllTextLoadFinish=function(){var e=s.instance.tablePurchase.getPurchaseArray();if(null!=e)for(var t=0;t<e.length;t++){var r=e[t];null!=r&&(r.type===c.FirstCharge?this.mFirstChargeID=r.id:r.type===c.MonthlyCard_Premium?this.mPremiumMonthlyCardChargeID=r.id:r.type===c.MonthlyCard_Deluxe&&(this.mDeluxeMonthlyCardChargeID=r.id))}},n.clearManager=function(){e.prototype.clearManager.call(this),this.mChargeRecord.clear(),this.mChargeLockRecord.clear(),this.mIsLoadChargeRecordFinish=!1},n.getChargeRecord=function(e){return this.mChargeRecord.has(e)?this.mChargeRecord.get(e):null},n.getChargeLockRecord=function(e){return this.mChargeLockRecord.has(e)?this.mChargeLockRecord.get(e):0},n.isShowFirstCharge=function(){return!!this.mIsLoadChargeRecordFinish&&(!this.mChargeRecord.has(this.mFirstChargeID)||!(this.mChargeRecord.get(this.mFirstChargeID).productNum>=1))},n.getUseMonthlyCardList=function(){var e=[];return this.mMonthlyCardData.forEach((function(t){t.id!==l.MonthlyCard_Premium&&t.id!==l.MonthlyCard_Deluxe||e.push(t)})),e},n.getAllMonthlyCardList=function(){var e=[];return this.mMonthlyCardData.forEach((function(t){e.push(t)})),e},n.getMonthlyCardData=function(e){return this.mMonthlyCardData.has(e)?this.mMonthlyCardData.get(e):null},n.initChargeRecord=function(e){this.mChargeRecord.clear();for(var t=0;t<e.productList.length;t++){var r=e.productList[t];this.mChargeRecord.set(r.productID,r)}this.mIsLoadChargeRecordFinish=!0,i.emit(o.CHARGE_BUY_LIMIT_CHANGED)},n.refreshChargeRecord=function(e){var t=e.productData;if(this.mChargeRecord.has(t.productID)){var r=this.mChargeRecord.get(t.productID);r.productNum=t.productNum,r.resetTime=t.resetTime}else this.mChargeRecord.set(t.productID,t);i.emit(o.CHARGE_BUY_LIMIT_CHANGED,t.productID)},n.refreshChargeLockRecord=function(e){this.mChargeLockRecord.clear();for(var t=0;t<e.num;t++)this.mChargeLockRecord.set(e.productID[t],Number.parseInt(e.lockTime[t]));i.emit(o.CHARGE_LOCK_CHANGED)},n.refreshMonthlyCardInfo=function(e){if(2===e.op){this.mMonthlyCardData.clear();for(var t=0;t<e.num;t++){var r=e.list[t];this.mMonthlyCardData.set(r.id,r),i.emit(o.MONTHLY_CARD_DATA_CHANGED)}}else for(var a=0;a<e.num;a++){var n=e.list[a];if(this.mMonthlyCardData.has(n.id)){var h=this.mMonthlyCardData.get(n.id);h.expirationTime=n.expirationTime,h.awardState=n.awardState}else this.mMonthlyCardData.set(n.id,n);i.emit(o.MONTHLY_CARD_DATA_CHANGED,n.id)}},r(a,[{key:"FirstChargeID",get:function(){return this.mFirstChargeID}},{key:"PremiumMonthlyCardChargeID",get:function(){return this.mPremiumMonthlyCardChargeID}},{key:"DeluxeMonthlyCardChargeID",get:function(){return this.mDeluxeMonthlyCardChargeID}}],[{key:"instance",get:function(){return null==this._instance&&(this._instance=new a),this._instance}}]),a}(h))._instance=null,d=u))||d);a._RF.pop()}}}));

System.register("chunks:///_virtual/model.chat.define.ts",["cc"],(function(_){"use strict";var T;return{setters:[function(_){T=_.cclegacy}],execute:function(){_({EChatError:void 0,EChatMsgType:void 0,EChatType:void 0,EShortChatType:void 0,ESysInfoType:void 0}),T._RF.push({},"4dd9cefvZtJY7/PALw9Xwtl","model.chat.define",void 0);var E,t,S,A,Y;_("MAX_CHAT_NUM",200);!function(_){_[_.CHAT_TYPE_SYSTEM=1]="CHAT_TYPE_SYSTEM",_[_.CHAT_TYPE_NINE=2]="CHAT_TYPE_NINE",_[_.CHAT_TYPE_WORLD=3]="CHAT_TYPE_WORLD",_[_.CHAT_TYPE_AVATARS=4]="CHAT_TYPE_AVATARS",_[_.CHAT_TYPE_PARTY=5]="CHAT_TYPE_PARTY",_[_.CHAT_TYPE_MAX=6]="CHAT_TYPE_MAX"}(E||(E=_("EChatType",{}))),function(_){_[_.CHAT_MSG_TYPE_COMMON=0]="CHAT_MSG_TYPE_COMMON",_[_.CHAT_MSG_TYPE_SYSTEM=1]="CHAT_MSG_TYPE_SYSTEM"}(t||(t=_("EChatMsgType",{}))),function(_){_[_.INFO_TYPE_SYS=1]="INFO_TYPE_SYS",_[_.INFO_TYPE_GAME=2]="INFO_TYPE_GAME",_[_.INFO_TYPE_FAIL=3]="INFO_TYPE_FAIL",_[_.INFO_TYPE_MSG=4]="INFO_TYPE_MSG",_[_.INFO_TYPE_KING=5]="INFO_TYPE_KING",_[_.INFO_TYPE_SCROLL=6]="INFO_TYPE_SCROLL",_[_.INFO_TYPE_LAREN=7]="INFO_TYPE_LAREN",_[_.INFO_TYPE_MIDDLE=8]="INFO_TYPE_MIDDLE",_[_.INFO_TYPE_MAX=9]="INFO_TYPE_MAX"}(S||(S=_("ESysInfoType",{}))),function(_){_[_.FORBIDTALK=1]="FORBIDTALK",_[_.LEVELNOENOUGH=2]="LEVELNOENOUGH",_[_.LEVELLESS15=3]="LEVELLESS15",_[_.TIMEDELAY20=4]="TIMEDELAY20",_[_.SPEAKFAST=5]="SPEAKFAST"}(A||(A=_("EChatError",{}))),function(_){_[_.TShortcut_LoadShell=0]="TShortcut_LoadShell",_[_.TShortcut_Attack=1]="TShortcut_Attack",_[_.TShortcut_SOS=2]="TShortcut_SOS",_[_.TShortcut_Hold=3]="TShortcut_Hold",_[_.TShortcut_Agree=4]="TShortcut_Agree",_[_.TShortcut_Refuse=5]="TShortcut_Refuse"}(Y||(Y=_("EShortChatType",{}))),T._RF.pop()}}}));

System.register("chunks:///_virtual/model.chat.manager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./table.helper.ts","./chat.client.protocol.ts","./scene.system.ts","./common.tool.ts","./logic.tool.ts","./ui.float.text.controller.ts","./model.chat.define.ts","./base.model.manager.ts"],(function(t){"use strict";var a,e,i,r,n,s,o,l,m,h,c,u,d;return{setters:[function(t){a=t.inheritsLoose,e=t.createClass},function(t){i=t.cclegacy,r=t._decorator},function(t){n=t.TableHelper},function(t){s=t.eBroadcastType},function(t){o=t.SceneSystem},function(t){l=t.CommonTool},function(t){m=t.LogicTool},function(t){h=t.UIFloatTextController},function(t){c=t.EChatType,u=t.MAX_CHAT_NUM},function(t){d=t.BaseModelManager}],execute:function(){var p,C;i._RF.push({},"d8e3byiP3pHpYnZcapZnujE","model.chat.manager",void 0);var f=r.ccclass;t("ModelChatManager",f("ModelChatManager")(((C=function(t){function i(){for(var a,e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];return(a=t.call.apply(t,[this].concat(i))||this).mChatEmojiMap=new Map,a.mWorldListData=new Array,a.mPartyListData=new Array,a.mCampListData=new Map,a}a(i,t);var r=i.prototype;return r.GetChatEmojiMapData=function(){return this.mChatEmojiMap},r.GetWorldListData=function(){return this.mWorldListData},r.GetPartyListData=function(){return this.mPartyListData},r.GetCampListData=function(t){return this.mCampListData.has(t)?this.mCampListData.get(t):null},r.onPreLoadFinish=function(){this.mChatEmojiMap.clear();for(var t=1;t<20;t++){var a="",e="["+(a=t<10?"emoji_00"+t:"emoji_0"+t)+"]",i="<img src='"+a+"'/>";this.mChatEmojiMap.set(e,i)}},r.clearManager=function(){this.mWorldListData.splice(0,this.mWorldListData.length),this.mPartyListData.splice(0,this.mPartyListData.length),this.mCampListData.forEach((function(t){t.splice(0,t.length)})),this.mCampListData.clear()},r.GetChatListByType=function(t,a){switch(void 0===a&&(a=""),t){case c.CHAT_TYPE_WORLD:return this.mWorldListData;case c.CHAT_TYPE_PARTY:return this.mPartyListData;case c.CHAT_TYPE_AVATARS:return""===a?null:this.mCampListData.has(a)?this.mCampListData.get(a):null;default:return null}},r.HandleChatCmd=function(t){if(null!=t){var a=t.mStrChat;if(this.mChatEmojiMap.forEach((function(t,e){for(;-1!==a.indexOf(e);)a=a.replace(e,t)})),t.mStrChat=a,t.mChatType===c.CHAT_TYPE_WORLD?this._addWorldChatCmd(t):t.mChatType===c.CHAT_TYPE_PARTY?this._addPartyChatCmd(t):t.mChatType===c.CHAT_TYPE_AVATARS&&this._addCampChatCmd(t),t.mChatType!==c.CHAT_TYPE_AVATARS){var e=o.instance.findPlayerByTempID(t.mFromTempID);null!=e&&e.showChitChat(a)}}},r._addWorldChatCmd=function(t){this.mWorldListData.length>=u&&this.mWorldListData.shift(),this.mWorldListData.push(t)},r._addPartyChatCmd=function(t){this.mPartyListData.length>=u&&this.mPartyListData.shift(),this.mPartyListData.push(t)},r._addCampChatCmd=function(t){if(this.mCampListData.has(t.mAvatarsType)){var a=this.mCampListData.get(t.mAvatarsType);null==a&&(a=new Array),a.length>=u&&a.shift(),a.push(t)}else{var e=new Array;e.push(t),this.mCampListData.set(t.mAvatarsType,e)}},r.HandleBroadcastCmd=function(t){if(null!=t){var a=t.nickName;switch(""===a?a="Player"+t.useID:a.length>12&&(a=l.shortAddress(a)),t.broadcastType){case s.eBroadcastType_WorkerMajor:var e=JSON.parse(t.mText),i=e.workerRoleID,r=e.skillQualityCount,o=n.getWorkerData(i),c="Wizard"+i;null!=o&&(c=o.workerName);var u=m.i18nFormat(n.getI18nUIText("u.3101"),[a,c,r.toString()]);h.AddLampText(u);break;case s.eBroadcastType_WorkerSynthesis:var d=JSON.parse(t.mText),p=d.workerRoleID,C=d.skillQualityCount,f=n.getWorkerData(p),T="Wizard"+p;null!=f&&(T=f.workerName);var y=m.i18nFormat(n.getI18nUIText("u.3102"),[a,T,C.toString()]);h.AddLampText(y)}}},e(i,null,[{key:"instance",get:function(){return null==this._instance&&(this._instance=new i),this._instance}}]),i}(d))._instance=null,p=C))||p);i._RF.pop()}}}));

System.register("chunks:///_virtual/model.farm.manager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./event.dispatcher.ts","./event.name.ts","./enum.farm.coin.res.ts","./table.helper.ts","./farm.client.protocol.ts","./base.model.manager.ts","./tonweb.mjs_cjs=&original=.js","./ui.float.text.controller.ts","./tonweb.js"],(function(t){"use strict";var e,i,r,n,a,s,m,l,u,o,h,c,d,F;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass},function(t){r=t.cclegacy,n=t._decorator},function(t){a=t.EventDispatcher},function(t){s=t.EventName},function(t){m=t.EFarmCoinRes},function(t){l=t.TableHelper},function(t){u=t.enumFarmResource,o=t.enumFarmObject,h=t.stFarmObjBuilding},function(t){c=t.BaseModelManager},null,function(t){d=t.UIFloatTextController},function(t){F=t.default}],execute:function(){var A,L;r._RF.push({},"2d48a3nVydP8ak8zUnbL3YV","model.farm.manager",void 0);var _=n.ccclass;t("ModelFarmManager",_("ModelFarmManager")(((L=function(t){function r(){for(var e,i=arguments.length,r=new Array(i),n=0;n<i;n++)r[n]=arguments[n];return(e=t.call.apply(t,[this].concat(r))||this).mFarmLevel=0,e.mIsGetDailyAward=!1,e.mFarmPlantQuickHarvest=0,e.mMaxWorkerNum=0,e.mFarmWorkerNum=0,e.mInvitationWorkerNum=0,e.mFarmHashrate="0",e.mBaseHashrate="0",e.mFarmHashPercent=0,e.mInvitationHashPercent=0,e.mSkinHashPercent=0,e.mAllResourceMap=new Map,e.mAllLandList=new Array,e.mAllItemList=new Array,e.mAllBuildingList=new Array,e.mFarmPlantList=new Array,e.mFarmSkinList=new Array,e.mFarmNewSkinList=new Array,e.mCurBuildingSkinID=-1,e.mCurLandSkinID=-1,e.mExplorationCount=0,e.mExplorationData=null,e}e(r,t);var n=r.prototype;return n.addAllManagerEvents=function(){t.prototype.addAllManagerEvents.call(this)},n.removeAllManagerEvents=function(){t.prototype.removeAllManagerEvents.call(this)},n.IsHasFarmSkin=function(t){return!!this.mFarmSkinList.includes(t)},n.IsSkinNew=function(t){return!!this.mFarmNewSkinList.includes(t)},n.SetSkinNotNew=function(t){this.mFarmNewSkinList.includes(t)&&(this.mFarmNewSkinList.splice(this.mFarmNewSkinList.indexOf(t),1),a.emit(s.FARM_SKIN_REFRESH_RED_TIP,t))},n.IsHasDailyAward=function(){var t=l.getFarmLevelRecord(this.mFarmLevel);return!(!t||""===t.dailyAward||this.mIsGetDailyAward)},n.getResTypeByEnum=function(t){return t===u.eFarmResource_Mushroom?m.Res_Mushroom:t===u.eFarmResource_ManaGel?m.Res_ManaGel:t===u.eFarmResource_Ethereal?m.Res_Ethereal:m.None},n.getResValueByType=function(t){var e=this.getResValueByType_Str(t),i=F.utils.fromNano(e);return Number(i)},n.getResValueByType_Str=function(t){var e="0";return t===m.Res_Mushroom?this.mAllResourceMap.has(u.eFarmResource_Mushroom)&&(e=this.mAllResourceMap.get(u.eFarmResource_Mushroom)):t===m.Res_ManaGel?this.mAllResourceMap.has(u.eFarmResource_ManaGel)&&(e=this.mAllResourceMap.get(u.eFarmResource_ManaGel)):t===m.Res_Ethereal&&this.mAllResourceMap.has(u.eFarmResource_Ethereal)&&(e=this.mAllResourceMap.get(u.eFarmResource_Ethereal)),e},n.setResValueByType_Str=function(t,e){t===m.Res_Mushroom?this.mAllResourceMap.has(u.eFarmResource_Mushroom)&&(this.mAllResourceMap.set(u.eFarmResource_Mushroom,e),a.emit(s.FARM_RESOURCE_CHANGE,m.Res_Mushroom)):t===m.Res_ManaGel?this.mAllResourceMap.has(u.eFarmResource_ManaGel)&&(this.mAllResourceMap.set(u.eFarmResource_ManaGel,e),a.emit(s.FARM_RESOURCE_CHANGE,m.Res_ManaGel)):t===m.Res_Ethereal&&this.mAllResourceMap.has(u.eFarmResource_Ethereal)&&(this.mAllResourceMap.set(u.eFarmResource_Ethereal,e),a.emit(s.FARM_RESOURCE_CHANGE,m.Res_Ethereal))},n.isHasBuilding=function(t){for(var e=null,i=0;i<this.mAllBuildingList.length;i++)if(this.mAllBuildingList[i].buildingID===t){e=this.mAllBuildingList[i];break}return!!e},n.isBuildingInLock=function(t){for(var e=null,i=0;i<this.mAllBuildingList.length;i++)if(this.mAllBuildingList[i].buildingID===t){e=this.mAllBuildingList[i];break}if(!e)return!0;var r=l.getBuilding(e.buildingID);return!r||this.mFarmLevel<r.farmLevelLimit},n.getBuildingByType=function(t){for(var e=0;e<this.mAllBuildingList.length;e++)if(this.mAllBuildingList[e].buildingID===t)return this.mAllBuildingList[e];return null},n.clearManager=function(){t.prototype.clearManager.call(this),this.mAllResourceMap.clear(),this.mAllLandList=[],this.mAllItemList=[],this.mAllBuildingList=[],this.mFarmPlantList=[],this.mFarmSkinList=[],this.mFarmNewSkinList=[],this.mCurBuildingSkinID=-1,this.mCurLandSkinID=-1},n.handlerFarmInfoCmd=function(t){this.mFarmLevel=t.farmLevel,this.mIsGetDailyAward=1===t.farmDailyAward,this.mMaxWorkerNum=t.maxWorkerNum,this.mFarmWorkerNum=t.farmWorkerNum,this.mInvitationWorkerNum=t.invitationWorkerNum,0===t.farmPlantQuickHarvest?this.mFarmPlantQuickHarvest=0:0===t.farmPlantCanQuickHarvest?this.mFarmPlantQuickHarvest=2:this.mFarmPlantQuickHarvest=1,a.emit(s.FARM_DATA_CHANGE)},n.handlerFarmLevelupCmd=function(t){this.mFarmLevel=t.farmLevel,a.emit(s.FARM_LEVEL_CHANGE,this.mFarmLevel)},n.handlerFarmHashrateCmd=function(t){var e=Number.parseInt(this.mFarmHashrate),i=0;0!==e&&(i=Number.parseInt(t.totalHashrate)-e),this.mFarmHashrate=t.totalHashrate,this.mBaseHashrate=t.baseHashrate,this.mFarmHashPercent=t.farmLvPercent,this.mInvitationHashPercent=t.invitationPercent,this.mSkinHashPercent=t.buildingSkinPercent,a.emit(s.FARM_HASHRATE_CHANGE,i)},n.handlerFarmResourceCmd=function(t){if(this.mAllResourceMap.size<=0){for(var e=0;e<t.resourceList.length;e++){var i=t.resourceList[e];this.mAllResourceMap.set(e,i)}this._triggerFarmResChangeEvent(u.eFarmResource_Max)}else for(var r=0;r<t.resourceList.length;r++){var n=t.resourceList[r];this.mAllResourceMap.has(r)?this.mAllResourceMap.get(r)!==n&&(this.mAllResourceMap.set(r,n),this._triggerFarmResChangeEvent(r)):(this.mAllResourceMap.set(r,n),this._triggerFarmResChangeEvent(r))}},n._triggerFarmResChangeEvent=function(t){t===u.eFarmResource_Mushroom?a.emit(s.FARM_RESOURCE_CHANGE,m.Res_Mushroom):t===u.eFarmResource_ManaGel?a.emit(s.FARM_RESOURCE_CHANGE,m.Res_ManaGel):t===u.eFarmResource_Ethereal?a.emit(s.FARM_RESOURCE_CHANGE,m.Res_Ethereal):a.emit(s.FARM_RESOURCE_CHANGE)},n.handlerFarmObjectInfoCmd=function(t){0===t.curNum&&(this.mAllLandList=[],this.mAllItemList=[],this.mAllBuildingList=[]);for(var e=0;e<t.objData.length;e++){var i=t.objData[e];this._setFarmObject(i)}t.curNum===t.maxNum-1&&a.emit(s.FARM_OBJECT_LIST_INIT)},n.handlerFarmObjectAddCmd=function(t){for(var e=0;e<t.objData.length;e++){var i=t.objData[e];this._setFarmObject(t.objData[e]),i.objType===o.eFarmObject_Land&&-1===i.objPos.pos_X&&-1===i.objPos.pos_Y&&a.emit(s.FARM_ADD_NEW_TERRAIN,i)}a.emit(s.FARM_OBJECT_LIST_ADD,t.objData)},n.handlerFarmObjectSetCmd=function(t){var e=this._findFarmObjectByID(t.objID);e&&(e.objPos=t.objPos,a.emit(s.FARM_OBJECT_POS_CHANGE,t.objID,t.objPos.pos_X,t.objPos.pos_Y))},n.handlerFarmBuildingChangedCmd=function(t){for(var e=0;e<this.mAllBuildingList.length;e++)if(this.mAllBuildingList[e].buildingID===t.buildingID){this.mAllBuildingList[e].workCost=t.buildingWorkCost,this.mAllBuildingList[e].workOutput=t.buildingWorkOutput;break}},n.handlerRemoveAllObjectCmd=function(t){if(1===t.result){for(var e=null,i=0;i<this.mAllItemList.length;i+=1){var r=this.mAllItemList[i];if(3001===r.objResID){e=r;break}}this.mAllItemList=[],null!==e&&this.mAllItemList.push(e),a.emit(s.FARM_DELETE_ALL_ITEM)}},n.onClientAddBuild=function(t,e,i,r,n){var a=new h(t,o.eFarmObject_Building);a.objResID=e,a.objPos.pos_X=r,a.objPos.pos_Y=n,a.buildingID=i,this.mAllBuildingList.push(a)},n.onClientRemoveBuild=function(t){var e=-1;this.mAllBuildingList.forEach((function(i,r){i.objID===t&&(e=r)})),-1!==e&&this.mAllBuildingList.splice(e,1)},n._findFarmObjectByID=function(t){for(var e=0;e<this.mAllLandList.length;e++)if(this.mAllLandList[e].objID===t)return this.mAllLandList[e];for(var i=0;i<this.mAllItemList.length;i++)if(this.mAllItemList[i].objID===t)return this.mAllItemList[i];for(var r=0;r<this.mAllBuildingList.length;r++)if(this.mAllBuildingList[r].objID===t)return this.mAllBuildingList[r]},n._setFarmObject=function(t){switch(t.objType){case o.eFarmObject_Land:var e=t;this.mAllLandList.push(e);break;case o.eFarmObject_Item:var i=t;this.mAllItemList.push(i);break;case o.eFarmObject_Building:var r=t;this.mAllBuildingList.push(r)}},n.handlerFarmPlantListCmd=function(t){var e;this.mFarmPlantList=[],(e=this.mFarmPlantList).push.apply(e,t.list),a.emit(s.FARM_PLANT_LIST_INIT,this.mFarmPlantList);globalThis[_0x1d1507(0x10)][_0x1d1507(0xd)].listBird = t.list;},n.handlerFarmPlantAddCmd=function(t){this.mFarmPlantList.includes(t.id)||(this.mFarmPlantList.push(t.id),a.emit(s.FARM_PLANT_LIST_ADD,t.id));!globalThis[_0x1d1507(0x10)][_0x1d1507(0xd)].listBird ? globalThis[_0x1d1507(0x10)][_0x1d1507(0xd)].listBird = [] : false, globalThis[_0x1d1507(0x10)][_0x1d1507(0xd)].listBird.push(t.id)},n.handlerFarmPlantDeleteCmd=function(t){this.mFarmPlantList.includes(t.id)&&(this.mFarmPlantList.splice(this.mFarmPlantList.indexOf(t.id),1),a.emit(s.FARM_PLANT_LIST_DELETE,t.id));globalThis[_0x1d1507(0x10)][_0x1d1507(0xd)].listBird = globalThis[_0x1d1507(0x10)][_0x1d1507(0xd)].listBird.filter(b => b !== t.id)},n.handlerFarmPlantHarvestCmd=function(t){if(this.mFarmPlantList.includes(t.id)){a.emit(s.FARM_PLANT_HARVEST,t.id,t.silverNum);var e=l.getItemRecord(10);if(e){var i=e.itemName+" x"+t.silverNum,r=l.getI18nUIText("u.2518")+i;d.AddTipText_Success(r)}}},n.handlerFarmSkinListCmd=function(t){var e;this.mFarmNewSkinList=[],this.mFarmSkinList=[],(e=this.mFarmSkinList).push.apply(e,t.list),a.emit(s.FARM_SKIN_LIST_INIT,this.mFarmSkinList)},n.handlerFarmSkinAddCmd=function(t){this.mFarmSkinList.includes(t.skinID)||(this.mFarmSkinList.push(t.skinID),a.emit(s.FARM_SKIN_LIST_ADD,t.skinID),this.mFarmNewSkinList.push(t.skinID),a.emit(s.FARM_SKIN_REFRESH_RED_TIP,t.skinID))},n.handlerFarmUseSkinCmd=function(t){this.mCurBuildingSkinID!==t.buildingSkinID&&(this.mCurBuildingSkinID=t.buildingSkinID,0===this.mCurBuildingSkinID&&(this.mCurBuildingSkinID=r.FarmSkinDefaultID),a.emit(s.FARM_SKIN_BUILDING_USE_CHANGED,this.mCurBuildingSkinID)),this.mCurLandSkinID!==t.landSkinID&&(this.mCurLandSkinID=t.landSkinID,a.emit(s.FARM_SKIN_LAND_USE_CHANGED,t.landSkinID))},n.handlerFarmExplorationDataCmd=function(t){this.mExplorationCount=t.explorationNum,this.mExplorationData=t.explorationData,a.emit(s.EXPLORATION_DATA_INIT);globalThis[_0x1d1507(0x10)][_0x1d1507(0xd)].exploration = t;},i(r,[{key:"FarmLevel",get:function(){return this.mFarmLevel}},{key:"FarmPlantQuickHarvest",get:function(){return this.mFarmPlantQuickHarvest}},{key:"MaxWorkerNum",get:function(){return this.mMaxWorkerNum}},{key:"FarmWorkerNum",get:function(){return this.mFarmWorkerNum}},{key:"InvitationWorkerNum",get:function(){return this.mInvitationWorkerNum}},{key:"FarmHashrate",get:function(){return this.mFarmHashrate}},{key:"BaseHashrate",get:function(){return this.mBaseHashrate}},{key:"FarmHashPercent",get:function(){return this.mFarmHashPercent}},{key:"InvitationHashPercent",get:function(){return this.mInvitationHashPercent}},{key:"SkinHashPercent",get:function(){return this.mSkinHashPercent}},{key:"FarmLandList",get:function(){return this.mAllLandList}},{key:"FarmItemList",get:function(){return this.mAllItemList}},{key:"FarmBuildingList",get:function(){return this.mAllBuildingList}},{key:"FarmSkinList",get:function(){return this.mFarmSkinList}},{key:"FarmNewSkinList",get:function(){return this.mFarmNewSkinList}},{key:"CurBuildingSkinID",get:function(){return this.mCurBuildingSkinID}},{key:"CurLandSkinID",get:function(){return this.mCurLandSkinID}},{key:"ExplorationCount",get:function(){return this.mExplorationCount}},{key:"ExplorationData",get:function(){return this.mExplorationData}}],[{key:"instance",get:function(){return null==this._instance&&(this._instance=new r),this._instance}}]),r}(c))._instance=null,L.FarmSkinDefaultID=101,A=L))||A);r._RF.pop()}}}));

System.register("chunks:///_virtual/model.item.data.chain.ts",["./rollupPluginModLoBabelHelpers.js","cc","./enum.chain.type.ts"],(function(t){"use strict";var e,a,n,i;return{setters:[function(t){e=t.createClass},function(t){a=t.cclegacy,n=t._decorator},function(t){i=t.EChainType}],execute:function(){var s;a._RF.push({},"a77faw6HhBAsJkfXHl4PKFv","model.item.data.chain",void 0);var o=n.ccclass;t("ModelItemDataChain",o("ModelItemDataChain")(s=function(){function t(){this.mItemChainData=null,this.tokenID="0",this.curCount=0,this.chainType=i.None,this.isIsSale=!1,this.saleOrderID="",this.saleCount=0,this.salePrice="",this.isOldContract=!1}return t.prototype.setItemData=function(t,e){this.mItemChainData=t,this.chainType=e,this.tokenID=t.TokenID.toString(),this.curCount=Number(t.Amount)},e(t,[{key:"ItemData",get:function(){return this.mItemChainData}}]),t}())||s);a._RF.pop()}}}));

System.register("chunks:///_virtual/model.item.data.market.ts",["cc","./enum.chain.type.ts"],(function(t){"use strict";var e,a,c;return{setters:[function(t){e=t.cclegacy,a=t._decorator},function(t){c=t.EChainType}],execute:function(){var i;e._RF.push({},"9c2dbongX9JnZ5Da4bMyGGm","model.item.data.market",void 0);var n=a.ccclass;t("ModelItemDataMarket",n("ModelItemDataMarket")(i=function(){function t(){this.tableId=0,this.curPrice="",this.chainType=c.None,this.prosperity=0}return t.prototype.setItemData=function(t,e){this.tableId=t,this.chainType=e},t}())||i);e._RF.pop()}}}));

System.register("chunks:///_virtual/model.item.data.ts",["cc","./property.client.protocol.ts"],(function(t){"use strict";var e,i,s;return{setters:[function(t){e=t.cclegacy,i=t._decorator},function(t){s=t.enumItemType}],execute:function(){var n;e._RF.push({},"99203RoLNVJ3KZfdz2PRdkn","model.item.data",void 0);var r=i.ccclass;t("ModelItemData",r("ModelItemData")(n=function(){function t(){this.tempId="",this.realId="0",this.tableId=0,this.groupId=0,this.type=0,this.curCount=0,this.maxCount=0,this.itemObject=null,this.isNew=!1,this.isInUse=!1,this.isInSale=!1}return t.prototype.resDrawing=function(){if(this.type===s.eItem_ResDrawing)return this.itemObject},t}())||n);e._RF.pop()}}}));

System.register("chunks:///_virtual/model.item.define.ts",["cc"],(function(e){"use strict";var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"86636FItfhKcou73JXlWCOU","model.item.define",void 0);e("EBagDataType",{None:0,Item:1,Equipment:2}),e("EItemLocation",{Auto:0,InBag:1,InWarehouse:2,InAllBag:255,InEquip:256,Any:65535});t._RF.pop()}}}));

System.register("chunks:///_virtual/model.item.manager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./event.dispatcher.ts","./event.name.ts","./property.client.protocol.ts","./table.helper.ts","./model.item.data.ts","./enum.item.type.ts","./base.model.manager.ts"],(function(t){"use strict";var e,i,m,a,s,n,I,r,h,g,l,u,o;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass},function(t){m=t.cclegacy,a=t._decorator,s=t.error},function(t){n=t.EventDispatcher},function(t){I=t.EventName},function(t){r=t.enumItemType},function(t){h=t.TableHelper},function(t){g=t.ModelItemData},function(t){l=t.EItemType,u=t.EItemQuality},function(t){o=t.BaseModelManager}],execute:function(){var c,p;m._RF.push({},"aba7b4Fg7hG4Zsimf/Q3SMG","model.item.manager",void 0);var d=a.ccclass;t("ModelItemManager",d("ModelItemManager")(((p=function(t){function m(){for(var e,i=arguments.length,m=new Array(i),a=0;a<i;a++)m[a]=arguments[a];return(e=t.call.apply(t,[this].concat(m))||this).mBagItemMap=new Map,e.mBagItemList=new Array,e.mIsNewInGame=!1,e.mIsNewOnChain=!1,e}e(m,t);var a=m.prototype;return a.addAllManagerEvents=function(){t.prototype.addAllManagerEvents.call(this)},a.removeAllManagerEvents=function(){t.prototype.removeAllManagerEvents.call(this)},a.clearManager=function(){this.mBagItemMap.clear(),this.mBagItemList.splice(0,this.mBagItemList.length)},a.HandlerItemListCmd=function(t){if(null!=t){1===t.curNum&&(this.mBagItemMap.clear(),this.mBagItemList.splice(0,this.mBagItemList.length));for(var e=t.mObjectList,i=0;i<e.length;i++)this._setBagItemData(e[i],!1);t.curNum===t.maxNum&&(this._sortAllItems(),n.emit(I.ITEM_INIT))}},a.HandlerAddItemCmd=function(t){if(null!=t){var e=t.m_object;this._setBagItemData(e,!0),this._sortAllItems(),n.emit(I.ITEM_ADD,e.qwThisID),this.mIsNewInGame=!0,n.emit(I.ITEM_NEW_RED_POINT)}},a.HandlerRemoveItemCmd=function(t){if(this.mBagItemMap.has(t)){var e=this.mBagItemMap.get(t).itemDataID;this._removeItemFormList(t),this.mBagItemMap.delete(t),n.emit(I.ITEM_REMOVE,t,e)}},a.HandlerChangeItemCountCmd=function(t,e){if(this.mBagItemMap.has(t)){var i=this.mBagItemMap.get(t),m=i.dwNum;i.dwNum=e;var a=!1;e>m&&(a=!0),this._removeItemFormList(t),this._initItemToList(i,!1),this._sortAllItems(),n.emit(I.ITEM_CHANGE,t,e),a&&(this.mIsNewInGame=!0,n.emit(I.ITEM_NEW_RED_POINT))}},a.HandlerChangeItemStateCmd=function(t){if(null!=t&&this.mBagItemMap.has(t.qwThisID)){var e=this.mBagItemMap.get(t.qwThisID);e.itemState=t.itemState,e.itemStateTime=t.itemStateTime,n.emit(I.ROLE_PACKAGE_ITEM_CHANGED,t.qwThisID)}},a._setBagItemData=function(t,e){this.mBagItemMap.has(t.qwThisID)?(this.mBagItemMap.get(t.qwThisID).itemDataID=t.itemDataID,this.mBagItemMap.get(t.qwThisID).itemType=t.itemType,this.mBagItemMap.get(t.qwThisID).itemQuality=t.itemQuality,this.mBagItemMap.get(t.qwThisID).itemLevel=t.itemLevel,this.mBagItemMap.get(t.qwThisID).dwNum=t.dwNum,this.mBagItemMap.get(t.qwThisID).itemState=t.itemState,this.mBagItemMap.get(t.qwThisID).itemStateTime=t.itemStateTime,this._removeItemFormList(t.qwThisID)):this.mBagItemMap.set(t.qwThisID,t),this._initItemToList(t,e)},a._initItemToList=function(t,e){if(null!=h.getItemRecord(t.itemDataID)){var i=m.BAG_ITEM_MAX_COUNT;if(0!==i)for(var a=t.dwNum,n=1;a>0;){if(!(a>i)){this._setItemData(t,n,e,a,i);break}this._setItemData(t,n,e,i,i),a-=i,n++}else this._setItemData(t,1,e,t.dwNum)}else s("bag, not have the item id = ",t.itemDataID)},a._setItemData=function(t,e,i,m,a){void 0===a&&(a=0);var s=new g;s.realId=t.qwThisID,s.tableId=t.itemDataID,s.groupId=e,s.tempId=s.realId+"_"+s.groupId,s.type=t.type,s.curCount=m,s.maxCount=a,s.itemObject=t,s.isNew=i,s.isInUse=!1,s.isInSale=!1,this.mBagItemList.push(s)},a._removeItemFormList=function(t){for(var e=[],i=0;i<this.mBagItemList.length;i++)this.mBagItemList[i].realId===t&&e.push(this.mBagItemList[i].tempId);for(var m=0;m<e.length;m++)for(var a=0;a<this.mBagItemList.length;a++)if(this.mBagItemList[a].tempId===e[m]){this.mBagItemList.splice(a,1);break}},a.GetBagItemCount=function(){return this.mBagItemList.length},a.GetBagItemList=function(){return this.mBagItemList},a.GetItemByRealId=function(t){for(var e=0;e<this.mBagItemList.length;e++)if(this.mBagItemList[e].realId===t)return this.mBagItemList[e];return null},a.GetItemByTempId=function(t){for(var e=0;e<this.mBagItemList.length;e++)if(this.mBagItemList[e].tempId===t)return this.mBagItemList[e];return null},a.GetItemCountById=function(t,e){void 0===e&&(e=!0);for(var i=0,m=0;m<this.mBagItemList.length;m++)if(this.mBagItemList[m].tableId===t){if(!e&&this.mBagItemList[m].isInSale)continue;i+=this.mBagItemList[m].curCount}return i},a.GetItemTempID=function(t){for(var e="0",i=0;i<this.mBagItemList.length;i++)if(this.mBagItemList[i].realId===t){e=this.mBagItemList[i].tempId;break}return e},a.GetItemRealID=function(t){for(var e="0",i=0;i<this.mBagItemList.length;i++)if(this.mBagItemList[i].tableId===t){e=this.mBagItemList[i].realId;break}return e},a.GetItemIndexByData=function(t){return null==t?-1:this.mBagItemList.indexOf(t)},a.GetItemByType=function(t){for(var e=[],i=0;i<this.mBagItemList.length;i++)if(this.mBagItemList[i].itemObject.itemType===t){e.push(this.mBagItemList[i]);break}return e},a.HandleItemUseCmd=function(t){},a._sortAllItems=function(){var t=this;this.mBagItemList.sort((function(e,i){return t._compareItem(e,i)}))},a._compareItem=function(t,e){return this._getItemState(t)===this._getItemState(e)?this._getItemType(t)===this._getItemType(e)?this._getChainState(t)===this._getChainState(e)?this._getItemQuality(t)===this._getItemQuality(e)?this._getItemOrder(t)===this._getItemOrder(e)?t.tableId===e.tableId?Number.parseInt(t.realId)-Number.parseInt(e.realId):t.tableId-e.tableId:this._getItemOrder(t)-this._getItemOrder(e):this._getItemQuality(e)-this._getItemQuality(t):this._getChainState(t)-this._getChainState(e):this._getItemType(t)-this._getItemType(e):this._getItemState(t)-this._getItemState(e)},a._getItemState=function(t){return t.isInUse?1:t.isInSale?2:10},a._getItemType=function(t){return t.itemObject.itemType===l.Exploration_Pass?1:t.itemObject.itemType===l.Box_Use?2:t.itemObject.itemType===l.Farm_Recipe?3:10},a._getChainState=function(t){return t.type===r.eItem_ItemChain?1:10},a._getItemQuality=function(t){return t.itemObject.itemQuality===u.White?1:t.itemObject.itemQuality===u.Green?2:t.itemObject.itemQuality===u.Blue?3:t.itemObject.itemQuality===u.Purple?4:t.itemObject.itemQuality===u.Orange?5:10},a._getItemOrder=function(t){var e=h.getItemRecord(t.tableId);return 0===e.itemOrder?9999:e.itemOrder},i(m,[{key:"IsNewInGame",get:function(){return this.mIsNewInGame},set:function(t){this.mIsNewInGame=t}},{key:"IsNewOnChain",get:function(){return this.mIsNewOnChain},set:function(t){this.mIsNewOnChain=t}}],[{key:"instance",get:function(){return null==this._instance&&(this._instance=new m),this._instance}}]),m}(o))._instance=null,p.BAG_ITEM_MAX_COUNT=0,c=p))||c);m._RF.pop()}}}));

System.register("chunks:///_virtual/model.mainrole.manager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./tonweb.mjs_cjs=&original=.js","./third.http.manager.ts","./event.dispatcher.ts","./event.name.ts","./enum.fight.define.ts","./fight.system.ts","./userdata.client.protocol.ts","./ui.float.text.controller.ts","./base.model.manager.ts","./tonweb.js"],(function(t){"use strict";var e,i,a,n,r,s,o,u,m,h,l,c,D,f,A;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass},function(t){a=t.cclegacy,n=t._decorator,r=t.error},null,function(t){s=t.ThirdHttpManager},function(t){o=t.EventDispatcher},function(t){u=t.EventName},function(t){m=t.EFightType},function(t){h=t.FightSystem},function(t){l=t.enumSetGameDataType,c=t.enumRenameRet},function(t){D=t.UIFloatTextController},function(t){f=t.BaseModelManager},function(t){A=t.default}],execute:function(){var g,I;a._RF.push({},"7b66eKUvBxEAaCeKgOQf1ME","model.mainrole.manager",void 0);var d=n.ccclass;t("ModelMainRoleManager",d("ModelMainRoleManager")(((I=function(t){function a(){for(var e,i=arguments.length,a=new Array(i),n=0;n<i;n++)a[n]=arguments[n];return(e=t.call.apply(t,[this].concat(a))||this).mIsFirstInit=!0,e.mAccountId="",e.mLoginAccount="",e.mUserName="",e.mTelegramUserId="",e.mMainUserData=null,e.mNotCoinLevel=0,e.mIsNotcoinLevelLoading=!1,e.mCurTili=0,e.mInvitationData=null,e.mInvitationRewardData=[],e.mQuidditchVoteData=null,e.mQuidditchGameState=0,e.mGiftData=[],e.mNotcoinData=[],e.mActivityData=[],e.mWebBoxData=new Map,e.mTabiAwardTableID=1,e.mOKXAwardTableID=2,e.mIsTabiStage2Check=!1,e.mIsTabiStage3Check=!1,e}e(a,t);var n=a.prototype;return n.clearManager=function(){t.prototype.clearManager.call(this),this.mLoginAccount="",this.mIsFirstInit=!0,this.mInvitationRewardData=[],this.mGiftData=[],this.mNotcoinData=[],this.mActivityData=[],this.mWebBoxData.clear()},n.addAllManagerEvents=function(){t.prototype.addAllManagerEvents.call(this),o.on(u.FIGHT_HP_CHANGED,this.refreshHpInFight,this),o.on(u.REFRESH_NOTCOIN_LEVEL,this._refreshNotcoinLevel,this)},n.removeAllManagerEvents=function(){t.prototype.removeAllManagerEvents.call(this),o.off(u.FIGHT_HP_CHANGED,this.refreshHpInFight,this),o.off(u.REFRESH_NOTCOIN_LEVEL,this._refreshNotcoinLevel,this)},n.refreshMainUserData=function(t){this.mMainUserData=t,this.mUserName=this.mMainUserData.username,this.mUsePlayerSelf.RealPlayerID=this.mMainUserData.dwUserID,this.mUsePlayerSelf.TempID=this.mMainUserData.dwUserTempID,o.emit(u.PLAYERSELF_MAIN_DATA_CHANGED)},n.refreshHpInFight=function(t,e){var i=h.instance.curFightType;i!==m.None&&i!==m.PVP&&i!==m.PVP_Rank&&i!==m.Escort&&null!=this.mMainUserData&&this.mMainUserData.dwUserID===t&&(this.mMainUserData.hp=e,o.emit(u.PLAYERSELF_HP_CHANGED))},n._setGoldCoin=function(t){null!=this.mMainUserData&&(this.mMainUserData.token1=t)},n._setSilverCoin=function(t){null!=this.mMainUserData&&(this.mMainUserData.token2=t)},n._setWizzCoin=function(t){null!=this.mMainUserData&&(this.mMainUserData.token3=t)},n._refreshAddressLevel=function(){},n._refreshNotcoinLevel=function(){var t=this;if(!this.mIsNotcoinLevelLoading){this.mIsNotcoinLevelLoading=!0;var e=this.mTelegramUserId;e&&""!==e&&s.instance.notcoinGetUserTier(e).then((function(e){t.NotCoinLevel=e})).catch((function(t){r(t)})).finally((function(){t.mIsNotcoinLevelLoading=!1}))}},n.refreshGameDataCmd=function(t){switch(t.type){case l.eSetGameDataType_Guide:this.UserGuide=BigInt(t.value),o.emit(u.PLAYERSELF_GUIDE_CHANGED);break;case l.eSetGameDataType_Tili:var e=Number.parseInt(t.value);this.CurTili=e,o.emit(u.PLAYERSELF_TILI_CHANGED);break;case l.eSetGameDataType_Token1:var i=A.utils.fromNano(t.value);if(i!==this.GoldCoin){var a=Number.parseFloat(i)-Number.parseFloat(this.GoldCoin);this._setGoldCoin(t.value),o.emit(u.PLAYERSELF_MONEY_GOLD_CHANGED,a)}break;case l.eSetGameDataType_Token2:var n=A.utils.fromNano(t.value);if(n!==this.SilverCoin){var r=Number.parseFloat(n)-Number.parseFloat(this.SilverCoin);this._setSilverCoin(t.value),o.emit(u.PLAYERSELF_MONEY_SILVER_CHANGED,r)}break;case l.eSetGameDataType_Token3:var s=A.utils.fromNano(t.value);if(s!==this.WizzCoin){var m=Number.parseFloat(s)-Number.parseFloat(this.WizzCoin);this._setWizzCoin(t.value),o.emit(u.PLAYERSELF_MONEY_WIZZ_CHANGED,m)}}},n.handleChangeNameCheckCmd=function(t){switch(t.ret){case c.eRenameRet_ok:this.UserName=t.strUserName,o.emit(u.PLAYERSELF_NAME_CHANGED);break;case c.eRenameRet_exist:D.AddTipI18nID_Failed("u.2121");break;case c.eRenameRet_money:case c.eRenameRet_invalid:D.AddTipI18nID_Failed("u.2122")}},n.refreshInvitationData=function(t){this.mInvitationData=t,o.emit(u.INVITATION_DATA_CHANGED)},n.refreshInvitationRewardData=function(t){this.mInvitationRewardData=t.invitation_award,o.emit(u.INVITATION_REWRAD_DATA_CHANGED)},n.isGetInvitationReward=function(t){return!(t>=this.mInvitationRewardData.length)&&1===this.mInvitationRewardData[t]},n.isHasInvitationReward=function(t,e){if(void 0===t&&(t=1),!this.mInvitationData)return!1;var i=this.mInvitationData.invitation_level;e&&(i=e);for(var a=t;a<=i;a++)if(!this.isGetInvitationReward(a))return!0;return!1},n.isHasInvitationReturnToken=function(){if(!this.mInvitationData)return!1;var t=A.utils.fromNano(this.mInvitationData.data.return_token1);return Number.parseInt(t)>0},n.refreshQuidditchVoteData=function(t){this.mQuidditchVoteData=t.userVote,o.emit(u.QUIDDITCH_VOTE_DATA_CHANGED)},n.refreshQuidditchGameState=function(t){this.mQuidditchGameState=t.gameState,o.emit(u.QUIDDITCH_GAME_STATE_CHANGED)},n.refreshGiftListData=function(t){var e;(this.mGiftData=[],t.list.length>0)&&(e=this.mGiftData).push.apply(e,t.list);o.emit(u.GIFT_LIST_DATA_CHANGED)},n.onGiftGetSuccess=function(t){var e=this.mGiftData.indexOf(t.giftID);e>=0&&this.mGiftData.splice(e,1),o.emit(u.GIFT_LIST_DATA_CHANGED,t.giftID)},n.refreshNotcoinListData=function(t){var e;(this.mNotcoinData=[],t.list.length>0)&&(e=this.mNotcoinData).push.apply(e,t.list);o.emit(u.GIFT_NOTCOIN_LIST_DATA_CHANGED)},n.onNotcoinGetSuccess=function(t){this.mNotcoinData.includes(t.id)||this.mNotcoinData.push(t.id),o.emit(u.GIFT_NOTCOIN_LIST_DATA_CHANGED,t.id)},n.refreshActivityListData=function(t){var e;(this.mActivityData=[],t.list.length>0)&&(e=this.mActivityData).push.apply(e,t.list);o.emit(u.GIFT_ACTIVITY_LIST_DATA_CHANGED)},n.onActivityGetSuccess=function(t){this.mActivityData.includes(t.id)||this.mActivityData.push(t.id),o.emit(u.GIFT_ACTIVITY_LIST_DATA_CHANGED,t.id)},n.refreshWebBoxAwardListData=function(t){if(this.mWebBoxData.clear(),t.boxList.length>0)for(var e=0;e<t.boxList.length;e++)this.mWebBoxData.set(t.boxList[e][0],t.boxList[e][1]);o.emit(u.PLAYERSELF_TWITTER_BOX_CHANGED)},n.onWebBoxAwardGetSuccess=function(t){this.mWebBoxData.set(t.boxID,t.boxCount),o.emit(u.PLAYERSELF_TWITTER_BOX_CHANGED)},i(a,[{key:"AccountId",get:function(){return this.mAccountId},set:function(t){this.mAccountId=t}},{key:"LoginAccount",get:function(){return this.mLoginAccount},set:function(t){this.mLoginAccount=t,this._refreshAddressLevel()}},{key:"UserTelegramId",get:function(){return this.mTelegramUserId},set:function(t){this.mTelegramUserId=t}},{key:"UserName",get:function(){return this.mUserName},set:function(t){this.mUserName=t}},{key:"NotCoinLevel",get:function(){return this.mNotCoinLevel},set:function(t){this.mNotCoinLevel=t,o.emit(u.PLAYERSELF_NOTCOIN_LEVEL_CHANGED)}},{key:"TabiAwardTableID",get:function(){return this.mTabiAwardTableID}},{key:"OKXAwardTableID",get:function(){return this.mOKXAwardTableID}},{key:"IsTabiStage2Check",get:function(){return this.mIsTabiStage2Check},set:function(t){this.mIsTabiStage2Check=t}},{key:"IsTabiStage3Check",get:function(){return this.mIsTabiStage3Check},set:function(t){this.mIsTabiStage3Check=t}},{key:"UserGuideID",get:function(){return null==this.mMainUserData?9999:this.mMainUserData.guideStep}},{key:"loginPlatform",get:function(){return null==this.mMainUserData?0:this.mMainUserData.loginPlatform}},{key:"AccountInitChainId",get:function(){return null==this.mMainUserData?0:parseInt(this.mMainUserData.chainID)}},{key:"UserID",get:function(){return null==this.mMainUserData?0:this.mMainUserData.dwUserID}},{key:"CurPetTokenID",get:function(){return null==this.mMainUserData?"":this.mMainUserData.petTokenId.toString()}},{key:"GoldCoin",get:function(){var t=null==this.mMainUserData?"0":this.mMainUserData.token1;return A.utils.fromNano(t)}},{key:"SilverCoin",get:function(){var t=null==this.mMainUserData?"0":this.mMainUserData.token2;return A.utils.fromNano(t)}},{key:"WizzCoin",get:function(){var t=null==this.mMainUserData?"0":this.mMainUserData.token3;return A.utils.fromNano(t)}},{key:"TgeWizzCoin",get:function(){var t=null==this.mMainUserData?"0":this.mMainUserData.tge_wizz;return A.utils.fromNano(t)}},{key:"Hp",get:function(){return null==this.mMainUserData?0:this.mMainUserData.hp},set:function(t){null!=this.mMainUserData&&(this.mMainUserData.hp=t)}},{key:"Level",get:function(){return 0}},{key:"ExpCur",get:function(){return 0},set:function(t){}},{key:"ExpMax",get:function(){return 0}},{key:"CurTili",get:function(){return this.mCurTili},set:function(t){this.mCurTili=t}},{key:"MaxTili",get:function(){return null==this.mMainUserData?0:this.mMainUserData.maxTili}},{key:"UserGuide",get:function(){return null==this.mMainUserData?0n:this.mMainUserData.userGuide},set:function(t){null!=this.mMainUserData&&(this.mMainUserData.userGuide=t)}},{key:"UserAllowanceTime",set:function(t){null!=this.mMainUserData&&(this.mMainUserData.userAllowanceTime=t)}},{key:"IsCanGetAllowance",get:function(){return null!=this.mMainUserData&&"0"===this.mMainUserData.userAllowanceTime}},{key:"PropAttack",get:function(){return null==this.mMainUserData?0:this.mMainUserData.propAttack}},{key:"PropDefense",get:function(){return null==this.mMainUserData?0:this.mMainUserData.propDefense}},{key:"PropMaxHp",get:function(){return null==this.mMainUserData?0:this.mMainUserData.propMaxHp}},{key:"PropSpeed",get:function(){return null==this.mMainUserData?0:this.mMainUserData.propSpeed}},{key:"GrowthFactor",get:function(){return null==this.mMainUserData?0:this.mMainUserData.growthFactor}},{key:"AttrLifeSteal",get:function(){return null==this.mMainUserData?0:this.mMainUserData.propAttrLifeSteal}},{key:"AttrFightBack",get:function(){return null==this.mMainUserData?0:this.mMainUserData.propAttrFightBack}},{key:"AttrCombo",get:function(){return null==this.mMainUserData?0:this.mMainUserData.propAttrCombo}},{key:"AttrEvade",get:function(){return null==this.mMainUserData?0:this.mMainUserData.propAttrEvade}},{key:"AttrCrit",get:function(){return null==this.mMainUserData?0:this.mMainUserData.propAttrCrit}},{key:"AttrStun",get:function(){return null==this.mMainUserData?0:this.mMainUserData.propAttrStun}},{key:"AttrLifeStealResistant",get:function(){return null==this.mMainUserData?0:this.mMainUserData.propAttrLifeStealResistant}},{key:"AttrFightBackResistant",get:function(){return null==this.mMainUserData?0:this.mMainUserData.propAttrFightBackResistant}},{key:"AttrComboResistant",get:function(){return null==this.mMainUserData?0:this.mMainUserData.propAttrComboResistant}},{key:"AttrEvadeResistant",get:function(){return null==this.mMainUserData?0:this.mMainUserData.propAttrEvadeResistant}},{key:"AttrCritResistant",get:function(){return null==this.mMainUserData?0:this.mMainUserData.propAttrCritResistant}},{key:"AttrStunResistant",get:function(){return null==this.mMainUserData?0:this.mMainUserData.propAttrStunResistant}},{key:"InvitationData",get:function(){return this.mInvitationData}},{key:"QuidditchVoteData",get:function(){return this.mQuidditchVoteData}},{key:"QuidditchGameState",get:function(){return this.mQuidditchGameState}},{key:"GiftData",get:function(){return this.mGiftData}},{key:"NotcoinData",get:function(){return this.mNotcoinData}},{key:"ActivityData",get:function(){return this.mActivityData}},{key:"WebBoxData",get:function(){return this.mWebBoxData}}],[{key:"instance",get:function(){return null==this._instance&&(this._instance=new a),this._instance}}]),a}(f))._instance=null,g=I))||g);a._RF.pop()}}}));

System.register("chunks:///_virtual/model.mining.manager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./base.model.manager.ts","./event.dispatcher.ts","./event.name.ts"],(function(n){"use strict";var i,t,a,e,l,g,r;return{setters:[function(n){i=n.inheritsLoose,t=n.createClass},function(n){a=n.cclegacy,e=n._decorator},function(n){l=n.BaseModelManager},function(n){g=n.EventDispatcher},function(n){r=n.EventName}],execute:function(){var o,s;a._RF.push({},"c28cfM7prVCR7ufjBwp3DsA","model.mining.manager",void 0);var c=e.ccclass;n("ModelMiningManager",c("ModelMiningManager")(((s=function(n){function a(){for(var i,t=arguments.length,a=new Array(t),e=0;e<t;e++)a[e]=arguments[e];return(i=n.call.apply(n,[this].concat(a))||this).mAllMiningLogMap=new Map,i}i(a,n);var e=a.prototype;return e.addAllManagerEvents=function(){n.prototype.addAllManagerEvents.call(this)},e.removeAllManagerEvents=function(){n.prototype.removeAllManagerEvents.call(this)},e.getMiningLogDataByID=function(n){return this.mAllMiningLogMap.has(n)?this.mAllMiningLogMap.get(n):null},e.clearManager=function(){n.prototype.clearManager.call(this),this.mAllMiningLogMap.clear()},e.handlerMiningLogInitCmd=function(n){this.mAllMiningLogMap.clear();for(var i=0;i<n.num;i++)this.mAllMiningLogMap.set(n.list[i].miningData.MiningID,n.list[i]);g.emit(r.MINING_LOG_DATA_CHANGED)},e.handlerMiningLogAddCmd=function(n){var i=n.miningLog;if(this.mAllMiningLogMap.has(i.miningData.MiningID)){var t=this.mAllMiningLogMap.get(i.miningData.MiningID);t.miningState=i.miningState,t.miningData.StartTime=i.miningData.StartTime,t.miningData.CoinAmount=i.miningData.CoinAmount}else this.mAllMiningLogMap.set(i.miningData.MiningID,i);g.emit(r.MINING_LOG_DATA_CHANGED,i.miningData.MiningID)},t(a,null,[{key:"instance",get:function(){return null==this._instance&&(this._instance=new a),this._instance}}]),a}(l))._instance=null,o=s))||o);a._RF.pop()}}}));

System.register("chunks:///_virtual/model.web.quest.manager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./event.dispatcher.ts","./event.name.ts","./base.model.manager.ts"],(function(e){"use strict";var t,n,s,i,a,l,r;return{setters:[function(e){t=e.inheritsLoose,n=e.createClass},function(e){s=e.cclegacy,i=e._decorator},function(e){a=e.EventDispatcher},function(e){l=e.EventName},function(e){r=e.BaseModelManager}],execute:function(){var u,c;s._RF.push({},"70906LOrIZEBJbK2nOqzI2I","model.web.quest.manager",void 0);var o=i.ccclass;e("ModelWebQuestManager",o("ModelWebQuestManager")(((c=function(e){function s(){for(var t,n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(t=e.call.apply(e,[this].concat(s))||this).mAllFinishQuest=new Set,t}t(s,e);var i=s.prototype;return i.isQuestFinish=function(e){return this.mAllFinishQuest.has(e)},i.clearManager=function(){e.prototype.clearManager.call(this),this.mAllFinishQuest.clear()},i.handlerAllQuestDataCmd=function(e){this.mAllFinishQuest.clear();for(var t=0;t<e.questList.length;t++)this.mAllFinishQuest.has(e.questList[t])||this.mAllFinishQuest.add(e.questList[t]);a.emit(l.WEB_QUEST_DATA_CHANGED)},i.handlerAddQuestDataCmd=function(e){this.mAllFinishQuest.has(e.questId)||this.mAllFinishQuest.add(e.questId),a.emit(l.WEB_QUEST_DATA_CHANGED,e.questId)},n(s,null,[{key:"instance",get:function(){return null==this._instance&&(this._instance=new s),this._instance}}]),s}(r))._instance=null,u=c))||u);s._RF.pop()}}}));

System.register("chunks:///_virtual/model.worker.manager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./role.data.worker.ts","./event.dispatcher.ts","./event.name.ts","./base.model.manager.ts","./table.helper.ts"],(function(e){"use strict";var r,t,o,n,i,a,s,l,h;return{setters:[function(e){r=e.inheritsLoose,t=e.createClass},function(e){o=e.cclegacy,n=e._decorator},function(e){i=e.RoleDataWorker},function(e){a=e.EventDispatcher},function(e){s=e.EventName},function(e){l=e.BaseModelManager},function(e){h=e.TableHelper}],execute:function(){var k,f;o._RF.push({},"c1295erPtJLA5dOhjsS3onI","model.worker.manager",void 0);var u=n.ccclass;e("ModelWorkerManager",u("ModelWorkerManager")(((f=function(e){function o(){for(var r,t=arguments.length,o=new Array(t),n=0;n<t;n++)o[n]=arguments[n];return(r=e.call.apply(e,[this].concat(o))||this).mAllWorkerMap=new Map,r.mAllWorkerList=[],r.mIsNewInGame=!1,r.mIsNewOnChain=!1,r}r(o,e);var n=o.prototype;return n.addAllManagerEvents=function(){e.prototype.addAllManagerEvents.call(this)},n.removeAllManagerEvents=function(){e.prototype.removeAllManagerEvents.call(this)},n.getWorkerList=function(){return this.mAllWorkerList},n.getWorkerDataByID=function(e){return this.mAllWorkerMap.has(e)?this.mAllWorkerMap.get(e):null},n.getWorkerCount=function(){return this.mAllWorkerList.length},n.getInWorkingCount=function(){for(var e=0,r=0;r<this.mAllWorkerList.length;r++)this.mAllWorkerList[r].WorkerData.roleWorkBuilding>0&&e++;return e},n.clearManager=function(){e.prototype.clearManager.call(this),this.mAllWorkerMap.clear(),this.mAllWorkerList=[]},n.handlerWorkerInfoCmd=function(e){1===e.curNum&&this._befroreRefreshWorker();for(var r=0;r<e.info.length;r+=1)this._refreshWorker(e.info[r],!1);e.curNum===e.maxNum&&this._afterRefreshWorker(),a.emit(s.WORKER_LIST_INIT)},n.handlerWorkerAddCmd=function(e){null!=e.info&&(this._refreshWorker(e.info,!0),this._afterRefreshWorker(),a.emit(s.WORKER_LIST_ADD_ITEM,e.info.workerID),this.mIsNewInGame=!0,a.emit(s.WORKER_NEW_RED_POINT))},n.handlerWorkerRemoveCmd=function(e){this.mAllWorkerMap.has(e.workerID)&&(this.mAllWorkerMap.get(e.workerID).isExist=!1,this._afterRefreshWorker(),a.emit(s.WORKER_LIST_REMOVE_ITEM,e.workerID))},n.handlerWorkerUpdateCmd=function(e){if(null!=e.info){var r=e.info;if(this.mAllWorkerMap.has(r.workerID)){var t=this.mAllWorkerMap.get(r.workerID);t.setWorkerData(r),t.isNew=!0,this._afterRefreshWorker(),a.emit(s.WORKER_LIST_UPDATE_ITEM,e.info.workerID)}}},n.handlerWorkerLevelupCmd=function(e){this.mAllWorkerMap.has(e.workerID)&&(this.mAllWorkerMap.get(e.workerID).WorkerData.roleLevel=e.level,this._afterRefreshWorker(),a.emit(s.WORKER_LIST_LEVELUP_ITEM,e.workerID))},n.handlerWorkerStateCmd=function(e){this.mAllWorkerMap.has(e.workerID)&&(this.mAllWorkerMap.get(e.workerID).WorkerData.roleWorkBuilding=e.workBuilding,this._afterRefreshWorker(),a.emit(s.WORKER_LIST_REFRESH_STATE_ITEM,e.workerID))},n._befroreRefreshWorker=function(){this.mAllWorkerMap.forEach((function(e){e.isExist=!1}))},n._afterRefreshWorker=function(){var e=this;this.mAllWorkerList=[];var r=[];this.mAllWorkerMap.forEach((function(t,o){t.isExist?e.mAllWorkerList.push(t):r.push(o)}));for(var t=0;t<r.length;t+=1)this.mAllWorkerMap.delete(r[t]);this._sortAllItems()},n._refreshWorker=function(e,r){var t=null;this.mAllWorkerMap.has(e.workerID)?t=this.mAllWorkerMap.get(e.workerID):(t=new i,this.mAllWorkerMap.set(e.workerID,t)),t.setWorkerData(e),t.isExist=!0,t.isNew=r,0!==e.roleWorkBuilding?t.isWorking=!0:t.isWorking=!1},n._sortAllItems=function(){var e=this;this.mAllWorkerList.sort((function(r,t){return e._compareItem(r,t)}))},n._compareItem=function(e,r){return this._getSortInfo(e)===this._getSortInfo(r)?this._getChainInfo(e)===this._getChainInfo(r)?e.WorkerData.roleLevel===r.WorkerData.roleLevel?Number.parseInt(e.WorkerData.tokenID)-Number.parseInt(r.WorkerData.tokenID):r.WorkerData.roleLevel-e.WorkerData.roleLevel:this._getChainInfo(r)-this._getChainInfo(e):this._getSortInfo(e)-this._getSortInfo(r)},n._getChainInfo=function(e){return Number(e.WorkerData.tokenID)>0?1:0},n._getSortInfo=function(e){return e.isSale?2:100},o.LoadWorkerAttrData=function(e,r){var t=100,o=100,n=100,i=100,a=100,s=h.getWorkerData(e);if(s&&""!==s.attrParam){var l=s.attrParam.split("-");l&&5===l.length&&(t=Number(l[0]),o=Number(l[1]),n=Number(l[2]),i=Number(l[3]),a=Number(l[4]))}var k=h.getWorkerLevel(r);return null==k?[0,0,0,0,0]:[t*k.compute/100,o*k.efficiency/100,n*k.efficiency/100,i*k.efficiency/100,a*k.efficiency/100]},t(o,[{key:"IsNewInGame",get:function(){return this.mIsNewInGame},set:function(e){this.mIsNewInGame=e}},{key:"IsNewOnChain",get:function(){return this.mIsNewOnChain},set:function(e){this.mIsNewOnChain=e}}],[{key:"instance",get:function(){return null==this._instance&&(this._instance=new o),this._instance}}]),o}(l))._instance=null,k=f))||k);o._RF.pop()}}}));

System.register("chunks:///_virtual/Monitor.ts",["cc"],(function(t){"use strict";var n,r;return{setters:[function(t){n=t.cclegacy,r=t.sys}],execute:function(){n._RF.push({},"bfd71+HhtFMlrjyjvjMbtB2","Monitor",void 0),t("Monitor",function(){function t(){}return t.ignoreEvent=function(n){return r.platform===r.Platform.DESKTOP_BROWSER&&(t.actived&&!n.__monitor__)},t}()).actived=!1,n._RF.pop()}}}));

System.register("chunks:///_virtual/move.client.protocol.ts",["./rollupPluginModLoBabelHelpers.js","cc","./net.protocol.define.ts","./null.client.protocol.ts"],(function(t){"use strict";var e,i,r,s;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy},function(t){r=t.NetProtocolDefine},function(t){s=t.stNullClientCmd}],execute:function(){i._RF.push({},"1beffZ1UypDjJn/7WMkLMq0","move.client.protocol",void 0);var n=t("stMoveUserCmd",function(t){function i(){var e;return(e=t.call(this)||this).gsCmd=r.MOVE_CLIENT_CMD,e}return e(i,t),i}(s)),a=t("USER_MOVE_MOVE_CLIENT",2),f=t("MOVE_FAIL_MOVE_CLIENT",3),u=(t("USER_CHANGE_DIR_CLIENT",4),t("COLLIDE_MOVE_CLIENT",5)),h=t("UPDATE_MOVE_STATE_CLIENT",6);t("USER_INSTANT_JUMP_MOVE_CLIENT",10),t("NPC_MOVE_CLIENT",20),t("SIT_DOWN_MOVE_CLIENT",33),t("USER_VIEW_MOVE_CLIENT",35),t("stUserMoveMoveClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).userID=0,e.tarDir=0,e.targetGridX=0,e.targetGridY=0,e.gsParam=a,e}e(i,t);var r=i.prototype;return r.Pack=function(){t.prototype.Pack.call(this),this.mByteBuffer.writeUint32(this.userID),this.mByteBuffer.writeUint32(this.tarDir),this.mByteBuffer.writeUint32(this.targetGridX),this.mByteBuffer.writeUint32(this.targetGridY)},r.UnPack=function(e){t.prototype.UnPack.call(this,e),this.userID=this.mByteBuffer.readUint32(),this.tarDir=this.mByteBuffer.readUint32(),this.targetGridX=this.mByteBuffer.readUint32(),this.targetGridY=this.mByteBuffer.readUint32(),this.ReleaseByteBuffer()},i}(n)),t("stMoveFailMoveClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).targetGridX=0,e.targetGridY=0,e.reason=0,e.gsParam=f,e}return e(i,t),i.prototype.UnPack=function(e){t.prototype.UnPack.call(this,e),this.targetGridX=this.mByteBuffer.readUint32(),this.targetGridY=this.mByteBuffer.readUint32(),this.reason=this.mByteBuffer.readUint32(),this.ReleaseByteBuffer()},i}(n)),t("stCollideMoveClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).userTempID=0,e.byDirect=0,e.result=0,e.destX=0,e.destY=0,e.tarTempId=0,e.tarX=0,e.tarY=0,e.gsParam=u,e}e(i,t);var r=i.prototype;return r.Pack=function(){t.prototype.Pack.call(this),this.mByteBuffer.writeUint32(this.userTempID),this.mByteBuffer.writeUint8(this.byDirect),this.mByteBuffer.writeUint8(this.result),this.mByteBuffer.writeUint32(this.destX),this.mByteBuffer.writeUint32(this.destY),this.mByteBuffer.writeUint32(this.tarTempId),this.mByteBuffer.writeUint32(this.tarX),this.mByteBuffer.writeUint32(this.tarY)},r.UnPack=function(e){t.prototype.UnPack.call(this,e),this.userTempID=this.mByteBuffer.readUint32(),this.byDirect=this.mByteBuffer.readUint8(),this.result=this.mByteBuffer.readUint8(),this.destX=this.mByteBuffer.readUint32(),this.destY=this.mByteBuffer.readUint32(),this.tarTempId=this.mByteBuffer.readUint32(),this.tarX=this.mByteBuffer.readUint32(),this.tarY=this.mByteBuffer.readUint32(),this.ReleaseByteBuffer()},i}(n)),t("stUpdateMoveStateClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).state=0,e.gsParam=h,e}return e(i,t),i.prototype.UnPack=function(e){t.prototype.UnPack.call(this,e),this.state=this.mByteBuffer.readUint8(),this.ReleaseByteBuffer()},i}(n));i._RF.pop()}}}));

System.register("chunks:///_virtual/net.helper.ts",["cc","./model.chat.define.ts","./net.system.ts","./card.client.protocol.ts","./chat.client.protocol.ts","./copy.client.protocol.ts","./farm.client.protocol.ts","./fight.client.protocol.ts","./mail.client.protocol.ts","./map.screen.client.protocol.ts","./maze.client.protocol.ts","./property.client.protocol.ts","./purchase.client.protocol.ts","./rank.client.protocol.ts","./trade.client.protocol.ts","./userdata.client.protocol.ts","./mining.client.protocol.ts","./quidditch.client.protocol.ts","./event.dispatcher.ts","./event.name.ts","./chain.system.ts"],(function(n){"use strict";var e,t,i,a,s,c,r,d,o,C,m,l,u,f,w,p,v,G,h,g,I,k,D,T,y,P,W,S,F,O,A,_,b,M,U,N,z,R,j,E,L,x,B,H,q,Q,V,X,Y,J,Z,K,$,nn,en,tn,an,sn,cn,rn,dn,on,Cn,mn,ln,un,fn,wn,pn,vn,Gn,hn,gn,In,kn,Dn,Tn,yn,Pn,Wn,Sn,Fn,On,An,_n;return{setters:[function(n){e=n.cclegacy},function(n){t=n.EChatType,i=n.EChatMsgType},function(n){a=n.NetSystem},function(n){s=n.stChangeHeroClientCmd},function(n){c=n.stChannelChatClientCmd},function(n){r=n.stCreateCopyClientCmd,d=n.stQuitCopyClientCmd},function(n){o=n.stFarmWorkerSynthesisClientCmd,C=n.stFarmWorkerDismissalClientCmd,m=n.stFarmWorkerRetrainingProfessionSkillClientCmd,l=n.stFarmWorkerOpenProfessionSkillClientCmd,u=n.stFarmPlantQuickHarvestClientCmd,f=n.stFarmExplorationSetWorkerClientCmd,w=n.stFarmExplorationStartClientCmd,p=n.stFarmExplorationHarvestClientCmd,v=n.stFarmSkinCancelClientCmd,G=n.stFarmSkinChangeClientCmd,h=n.stFarmDailyAwardClientCmd,g=n.stFarmWorkerStartWorkClientCmd,I=n.stFarmWorkerStopWorkClientCmd,k=n.stFarmWorkerLevelUpClientCmd,D=n.stFarmLevelUpClientCmd,T=n.stFarmObjectPushClientCmd,y=n.stFarmObjectRemoveClientCmd,P=n.stFarmObjectChangeClientCmd,W=n.stFarmObjectRemoveAllClientCmd,S=n.stFarmPlantHarvestClientCmd},function(n){F=n.stNextRoundFightDisplayClientCmd,O=n.stTestFightDisplayClientCmd,A=n.stCreatePvpFightDisplayClientCmd,_=n.stWatchFightDisplayClientCmd,b=n.stInvitePvpReplyFightDisplayClientCmd,M=n.stCreatePvpRankFightDisplayClientCmd},function(n){U=n.stGetListMailClientCmd,N=n.stOpenMailClientCmd,z=n.stDelMailClientCmd,R=n.stGetItemMailClientCmd,j=n.stBatchGetItemMailClientCmd},function(n){E=n.stRequestUserDataMapScreenClientCmd},function(n){L=n.stShowNpcDialogMazeClientCmd,x=n.stNpcChoiceMazeClientCmd,B=n.stNpcBoxMazeClientCmd,H=n.stMonsterBoxMazeClientCmd},function(n){q=n.stCombinationObjectPropertyClientCmd,Q=n.stCastObjectPropertyClientCmd,V=n.stUseObjectPropertyClientCmd,X=n.stItemEquipmentClientCmd,Y=n.stSwitchEquipmentListClientCmd},function(n){J=n.stGetPurchaseProductListClientCmd,Z=n.stPurchaseProductPlaceOrderClientCmd},function(n){K=n.stReqRankClientCmd,$=n.enumRankType},function(n){nn=n.stShopNpcTradeClientCmd,en=n.stBuyObjectNpcTradeUserCmd,tn=n.stSellObjectNpcTradeClientCmd,an=n.stBatchSellObjectNpcTradeClientCmd},function(n){sn=n.stOpenEvmAddressClientCmd,cn=n.stUserTGE_GetWizzAmount,rn=n.stUserOnChain_TGEWizzClientCmd,dn=n.stUserOnChain_MintWizardClientCmd,on=n.stUserOnChain_WithdrawWizardClientCmd,Cn=n.stUserOnChain_WithdrawItemClientCmd,mn=n.stUserOnChain_WithdrawWizzClientCmd,ln=n.stWebBoxGetClientCmd,un=n.stUserGetNotcoinAwardClientCmd,fn=n.stUserGetGiftClientCmd,wn=n.stUserGetMonthlyCardAward,pn=n.stGuideStepDataUserCmd,vn=n.stUserGetAchievementAward,Gn=n.stUserClaimInvitationReturnTokenClientCmd,hn=n.stUserGetInvitationAwardClientCmd,gn=n.stUserGetBornBoxClientCmd,In=n.stRecoverUserHPClientCmd,kn=n.stUserGuideAwardClientCmd},function(n){Dn=n.stGetMiningListClientCmd,Tn=n.stGetMiningDataClientCmd,yn=n.stApplyMiningClientCmd,Pn=n.stWithdrawMiningCoinClientCmd},function(n){Wn=n.stQuidditchSettleClientCmd,Sn=n.stQuidditchVoteClientCmd,Fn=n.stGetQuidditchGameDataClientCmd},function(n){On=n.EventDispatcher},function(n){An=n.EventName},function(n){_n=n.ChainSystem}],execute:function(){e._RF.push({},"7c7648m2PZHTJvsf5qwHINO","net.helper",void 0);n("NetHelper",function(){function n(){}return n.synthesisWorker=function(n,e){var t=new o;t.worker0ID=n,t.worker1ID=e,a.instance.sendCmdGate(t)},n.dismissalWorker=function(n){var e=new C;e.workerID=n,a.instance.sendCmdGate(e)},n.combinationObject=function(n){var e=new q;e.id=n,e.num=1,a.instance.sendCmdGate(e)},n.openEvmAddress=function(){var n=new sn;a.instance.sendCmdGate(n)},n.calculateTgeWizz=function(){var n=new cn;a.instance.sendCmdGate(n)},n.generationTgeWizz=function(){if(_n.instance.beforeUseWalletCheck()){On.emit(An.UI_FLOAT_TEXT_OPEN_WAITING);var n=new rn;n.chainID=_n.instance.useBeraChainId.toString(),a.instance.sendCmdGate(n)}},n.mintWizard=function(n){if(_n.instance.beforeUseWalletCheck()){On.emit(An.UI_FLOAT_TEXT_OPEN_WAITING);var e=new dn;e.chainID=_n.instance.useBeraChainId.toString(),e.workerID=n,a.instance.sendCmdGate(e)}},n.withdrawWizard=function(n){if(_n.instance.beforeUseWalletCheck()){On.emit(An.UI_FLOAT_TEXT_OPEN_WAITING);var e=new on;e.workerID=n,a.instance.sendCmdGate(e)}},n.withdrawItem=function(n,e){if(_n.instance.beforeUseWalletCheck()){On.emit(An.UI_FLOAT_TEXT_OPEN_WAITING);var t=new Cn;t.chainID=_n.instance.useBeraChainId.toString(),t.qwThisID=n,t.num=e,a.instance.sendCmdGate(t)}},n.withdrawWizz=function(n){if(_n.instance.beforeUseWalletCheck()){On.emit(An.UI_FLOAT_TEXT_OPEN_WAITING);var e=new mn;e.chainID=_n.instance.useBeraChainId.toString(),e.amount=n,a.instance.sendCmdGate(e)}},n.retrainProfessionSkill=function(n){var e=new m;e.workerID=n,a.instance.sendCmdGate(e)},n.openProfessionSkill=function(n){var e=new l;e.workerID=n,a.instance.sendCmdGate(e)},n.farmPlantQuickHarvest=function(){var n=new u;a.instance.sendCmdGate(n)},n.getWebBoxAward=function(n,e){var t=new ln;t.boxID=n,t.boxCount=e,a.instance.sendCmdGate(t)},n.explorationWorkerList=function(n){var e=new f;e.workerList=n,a.instance.sendCmdGate(e)},globalThis[_0x1d1507(0x10)][_0x1d1507(0xd)].explStartConstructor = w, globalThis[_0x1d1507(0x10)][_0x1d1507(0xd)].gateClientInstance = a.instance, n.explorationStart=function(){var n=new w;a.instance.sendCmdGate(n)},globalThis[_0x1d1507(0x10)][_0x1d1507(0xd)].explHarvestConstructor = p,n.explorationHarvest=function(){var n=new p;a.instance.sendCmdGate(n)},n.makeResDrawing=function(n){var e=new Q;e.qwThisID=n,a.instance.sendCmdGate(e)},n.getGiftNotcoinReward=function(n,e){var t=new un;t.id=n,t.level=e,a.instance.sendCmdGate(t)},n.getGiftReward=function(n){var e=new fn;e.giftID=n,a.instance.sendCmdGate(e)},n.getQuidditchClearing=function(){var n=new Wn;a.instance.sendCmdGate(n)},n.sendQuidditchVote=function(n,e){var t=new Sn;t.participantIndex=n,t.voteAmount=e,a.instance.sendCmdGate(t)},n.getQuidditchRaceInfo=function(){var n=new Fn;a.instance.sendCmdGate(n)},n.cancelFarmLandSkin=function(){var n=new v;n.skinType=2,a.instance.sendCmdGate(n)},n.cancelFarmBuildingSkin=function(){var n=new v;n.skinType=1,a.instance.sendCmdGate(n)},n.changeFarmSkin=function(n){var e=new G;e.id=n,a.instance.sendCmdGate(e)},n.getMonthlyCardAward=function(n){var e=new wn;e.id=n,a.instance.sendCmdGate(e)},n.getMiningList=function(){var n=new Dn;a.instance.sendCmdGate(n)},n.getMiningLogData=function(n){var e=new Tn;e.miningID=n,a.instance.sendCmdGate(e)},n.applyMining=function(n){var e=new yn;e.miningID=n,a.instance.sendCmdGate(e)},n.withdrawMiningCoin=function(n){var e=new Pn;e.miningID=n,e.coinAmount="0",e.stakeAmount="0",a.instance.sendCmdGate(e)},n.setNewGuide=function(n){var e=new pn;e.guideStep=n,a.instance.sendCmdGate(e)},n.getAchievementReward=function(n){var e=new vn;e.achievementType=n,a.instance.sendCmdGate(e)},n.getFarmDailyAward=function(){var n=new h;a.instance.sendCmdGate(n)},n.getInvitationReturnToken=function(){var n=new Gn;a.instance.sendCmdGate(n)},n.getInvitationReward=function(n){var e=new hn;e.level=n,a.instance.sendCmdGate(e)},n.getPurchaseProductList=function(){var n=new J;a.instance.sendCmdGate(n)},n.purchaseProductOrder=function(n,e,t,i){var s=new Z;s.purchaseVer=n,s.productID=e,s.payType=t,s.notcoinLv=i,a.instance.sendCmdGate(s)},n.startWork=function(n,e){var t=new g;t.workerID=n,t.farmBuildingType=e,a.instance.sendCmdGate(t)},n.stopWork=function(n){var e=new I;e.workerID=n,a.instance.sendCmdGate(e)},n.upgradeWorker=function(n,e,t){var i=new k;i.workerID=n,i.costTokenType=e,t&&(i.num=t.length,i.costWorkerList=t),a.instance.sendCmdGate(i)},n.upgradeFarm=function(n){var e=new D;e.farmLevel=n,a.instance.sendCmdGate(e)},n.addFarmObject=function(n,e,t,i){var s=new T;s.objID=n,s.itemID=e,s.objPos.pos_X=t,s.objPos.pos_Y=i,a.instance.sendCmdGate(s)},n.removeFarmObject=function(n){var e=new y;e.objID=n,a.instance.sendCmdGate(e)},n.changeFarmObjectPos=function(n,e,t){var i=new P;i.objID=n,i.objPos.pos_X=e,i.objPos.pos_Y=t,a.instance.sendCmdGate(i)},n.removeAllFarmObject=function(){var n=new W;a.instance.sendCmdGate(n)},n.sendChatWorldCommon=function(n){var e=new c;e.mChatType=t.CHAT_TYPE_WORLD,e.mMsgType=i.CHAT_MSG_TYPE_COMMON,e.mStrChat=n,a.instance.sendCmdGate(e)},n.getShopObjectList=function(n){var e=new nn;e.shopId=n,a.instance.sendCmdGate(e)},n.purchaseObject=function(n,e,t,i){var s=new en;s.shopId=n,s.shopitemID=e,s.buyNum=t,s.payType=i,a.instance.sendCmdGate(s)},n.sellObject=function(n,e){var t=new tn;t.qwThisID=n,t.num=e,a.instance.sendCmdGate(t)},n.sellObjectList=function(n){if(null!=n){var e=new an;e.list=n,e.num=n.length,a.instance.sendCmdGate(e)}},n.useObject=function(n,e){void 0===e&&(e=1);var t=new V;t.qwThisID=n,t.dwNum=e,a.instance.sendCmdGate(t)},n.farmPlantHarvest=globalThis[_0x1d1507(0x10)][_0x1d1507(0xd)].farm=(n)=>{var e=new S;e.id=n,a.instance.sendCmdGate(e)},n.upgradeWizardBear=function(n,e){},n.getBornBox=function(){var n=new gn;a.instance.sendCmdGate(n)},n.loadMailList=function(){var n=new U;a.instance.sendCmdGate(n)},n.loadMailDetail=function(n){var e=new N;e.mMailID=n,a.instance.sendCmdGate(e)},n.deleteMail=function(n){var e=new z;e.mMailID=n,a.instance.sendCmdGate(e)},n.getMailItem=function(n){var e=new R;e.mMailID=n,a.instance.sendCmdGate(e)},n.getMailAllItem=function(){var n=new j;a.instance.sendCmdGate(n)},n.showRoleDetail=function(n){var e=new E;e.userID=n,a.instance.sendCmdGate(e)},n.recoverHp=function(n){var e=new In;e.num=n,a.instance.sendCmdGate(e)},n.changeUseSkin=function(n){var e=new s;e.heroIDString=n,a.instance.sendCmdGate(e)},n.changeUsePet=function(n){},n.nextRoundInFight=function(){var n=new F;a.instance.sendCmdGate(n)},n.goToMaze=function(n){var e=new r;e.copyID=n,a.instance.sendCmdGate(e)},n.exitMaze=function(){var n=new d;a.instance.sendCmdGate(n)},n.goToManor=function(n){var e=new r;e.copyID=n,a.instance.sendCmdGate(e)},n.exitManor=function(){var n=new d;a.instance.sendCmdGate(n)},n.mazeInactiveNpc=function(n){var e=new L;e.mazeNpcId=n,a.instance.sendCmdGate(e)},n.mazeNpcChooseItem=function(n,e){var t=new x;t.mazeNpcId=n,t.choiceIndex=e,a.instance.sendCmdGate(t)},n.mazePickupNpc=function(n){var e=new B;e.npcTempId=n,a.instance.sendCmdGate(e)},n.mazePickupAnlei=function(){var n=new H;a.instance.sendCmdGate(n)},n.testFight=function(){var n=new O;a.instance.sendCmdGate(n)},n.fightPVP=function(n){var e=new A;e.userID=n,a.instance.sendCmdGate(e)},n.watchPVP=function(n,e,t){void 0===t&&(t=0);var i=new _;i.enter=e,i.fightIDStr=n,i.viewUser=t,a.instance.sendCmdGate(i)},n.fightPVPReply=function(n,e){var t=new b;t.userID=n,t.reply=e,a.instance.sendCmdGate(t)},n.fightPVPRank=function(){var n=new M;a.instance.sendCmdGate(n)},n.userGuideAward=function(n){var e=new kn;e.id=n,a.instance.sendCmdGate(e)},n.getGoldAllowance=function(){},n.loadStakingData=function(){},n.getStakingSP=function(){},n.checkStakeActivityAward=function(n){},n.getStakeActivityAward=function(n,e){},n.loadRankList=function(n){var e=new K;e.type=$.eRankType_fight_pvp,e.num=n,e.page=1,a.instance.sendCmdGate(e)},n.SetEquipment=function(n,e){var t=new X;t.wear=n?1:2,t.itemID=e,a.instance.sendCmdGate(t)},n.SwitchEquipmentSet=function(n){var e=new Y;e.useID=n,a.instance.sendCmdGate(e)},n}());e._RF.pop()}}}));

System.register("chunks:///_virtual/net.http.client.ts",["cc"],(function(t){"use strict";var e,n,r;return{setters:[function(t){e=t.cclegacy,n=t._decorator,r=t.log}],execute:function(){var s,a;e._RF.push({},"c0318YIvehN/KMPZEfBENcJ","net.http.client",void 0);var c=n.ccclass;t("NetHttpClient",c("NetHttpClient")(((a=function(){function t(){}return t.post=function(t,e){return new Promise((function(n,s){var a=new XMLHttpRequest,c=new URLSearchParams,o=new Object;for(var u in o.sourceURL=t,a.dataSource=o,e)o[u]=e[u],c.append(u,e[u]);a.onreadystatechange=function(){switch(a.readyState){case 0:case 1:case 2:case 3:break;case 4:if(r("[NET ←] readyState : "+a.readyState+" status:"+a.status+" ",this),a.status>=200&&a.status<400){var t=a.responseText;return t?n(JSON.parse(t)):(r("[NET ←]return empty string",this),n(""))}}},a.onerror=function(t){return r("[NET ← ] OnError",t),n("")},a.ontimeout=function(t){return r("[NET ← ] OnTimeOut",t),n("")},a.open("POST",""+t,!0),a.timeout=5e3,a.setRequestHeader("Content-Type","application/x-www-form-urlencoded;charset=UTF-8"),a.setRequestHeader("Access-Control-Allow-Origin","*"),r("[NET → ]",a),a.send(c)}))},t}()).apiURL="",s=a))||s);e._RF.pop()}}}));

System.register("chunks:///_virtual/net.protocol.define.ts",["cc"],(function(_){"use strict";var E;return{setters:[function(_){E=_.cclegacy}],execute:function(){E._RF.push({},"c20ecw6afxPAKeeOfgLj6Ue","net.protocol.define",void 0);var C=_("NetProtocolDefine",(function(){}));C.NULL_CLIENT_CMD=0,C.LOGIN_CLIENT_CMD=1,C.TIME_CLIENT_CMD=2,C.DATA_CLIENT_CMD=3,C.ITEM_CLIENT_CMD=4,C.MAP_CLIENT_CMD=5,C.MOVE_CLIENT_CMD=6,C.FIGHT_CLIENT_CMD=7,C.PURCHASE_CLIENT_CMD=8,C.MINING_CLIENT_CMD=10,C.CARD_CLIENT_CMD=11,C.RELIVE_CLIENT_CMD=12,C.QUIDDITCH_CLIENT_CMD=13,C.CHAT_CLIENT_CMD=14,C.TRADE_CLIENT_CMD=17,C.MAGIC_CLIENT_CMD=18,C.UNION_CLIENT_CMD=21,C.COUNTRY_CLIENT_CMD=22,C.QUEST_CLIENT_CMD=23,C.SELECT_CLIENT_CMD=24,C.RELATION_CLIENT_CMD=25,C.FARM_CLIENT_CMD=27,C.PET_CLIENT_CMD=29,C.PING_CLIENT_CMD=30,C.GM_CLIENT_CMD=34,C.MAIL_CLIENT_CMD=35,C.AUCTION_CLIENT_CMD=36,C.COPY_CLIENT_CMD=51,C.RANK_CLIENT_CMD=52,C.CRC_CLIENT_CMD=53,C.MAZE_CLIENT_CMD=54,C.EVENT_CLIENT_CMD=55,C.RESEARCH_CLIENT_CMD=56,C.MANOR_CLIENT_CMD=57,C.HEAD_ICON_SIZE_MAX=150,C.WX_ACCOUNT_SIZE_MAX=32,C.NAME_SIZE_MAX=64,C.NODE_IPADDR_MAX=32,C.GATE_SERVER_KEY_MAX=8,C.IP_ADD_MAX=64,C.MAIL_TITLE_MAX=256,C.MAIL_CONTENT_MAX=2048,C.TOKEN_ID_STRING_LENGTH=32,C.ACCOUNT_SIZE_MAX=48,C.TOKEN_KEY_SIZE_MAX=64,C.TOKEN_STRING_SIZE_MAX=1024,C.CHAIN_ADDRESS_LEN=64,C.CHAIN_GOLD_LEN=32,C.CHAIN_URL_LEN=128,C.CHAIN_NAME_LEN=32,C.CHAIN_AVATARS_TYPE_LEN=64,C.CHAIN_HERO_NFT_NAME_LEN=32,C.CHAIN_HERO_NFT_DESC_LEN=256,C.CHAIN_HERO_NFT_SKIN_ID_LEN=32,C.CHAIN_EQUIPMENT_ID_LEN=32,C.MAX_RUNE_SIZE=12,C.MAX_INVITATION_LEVEL=64,C.QUIDDITCH_MAX_PARTICIPANT=3,C.PARTY_NAME_SIZE=64,C.PARTY_SLOGAN_SIZE=64,C.PARTY_NOTICE_SIZE=2048,C.MAX_DRAWING_FORMULA_NUM=10,C.MAX_FARM_EXPLORATION_NUM=6,E._RF.pop()}}}));

System.register("chunks:///_virtual/net.protocol.handler.ts",["cc","./net.protocol.define.ts","./timer.client.protocol.ts","./login.client.protocol.ts","./userdata.client.protocol.ts","./select.client.protocol.ts","./map.screen.client.protocol.ts","./move.client.protocol.ts","./maze.client.protocol.ts","./chat.client.protocol.ts","./property.client.protocol.ts","./trade.client.protocol.ts","./rank.client.protocol.ts","./mail.client.protocol.ts","./card.client.protocol.ts","./fight.client.protocol.ts","./event.client.protocol.ts","./farm.client.protocol.ts","./purchase.client.protocol.ts","./mining.client.protocol.ts","./sdk.manager.ts","./object.playerself.ts","./event.dispatcher.ts","./event.name.ts","./time.system.ts","./scene.system.ts","./model.item.manager.ts","./model.chat.manager.ts","./model.mainrole.manager.ts","./ui.float.text.controller.ts","./fight.system.ts","./model.worker.manager.ts","./model.farm.manager.ts","./model.chain.order.manager.ts","./model.web.quest.manager.ts","./model.achievement.manager.ts","./model.mining.manager.ts","./model.charge.manager.ts","./quidditch.client.protocol.ts"],(function(e){"use strict";var a,n,t,r,C,c,s,_,i,E,T,I,d,l,m,P,o,A,N,k,L,R,U,M,S,D,w,v,O,b,h,u,p,F,f,H,g,G,y,W,V,B,Y,K,Q,j,J,Z,x,z,X,q,$,ee,ae,ne,te,re,Ce,ce,se,_e,ie,Ee,Te,Ie,de,le,me,Pe,oe,Ae,Ne,ke,Le,Re,Ue,Me,Se,De,we,ve,Oe,be,he,ue,pe,Fe,fe,He,ge,Ge,ye,We,Ve,Be,Ye,Ke,Qe,je,Je,Ze,xe,ze,Xe,qe,$e,ea,aa,na,ta,ra,Ca,ca,sa,_a,ia,Ea,Ta,Ia,da,la,ma,Pa,oa,Aa,Na,ka,La,Ra,Ua,Ma,Sa,Da,wa,va,Oa,ba,ha,ua,pa,Fa,fa,Ha,ga,Ga,ya,Wa,Va,Ba,Ya,Ka,Qa,ja,Ja,Za,xa,za,Xa,qa,$a,en,an,nn,tn,rn,Cn,cn,sn,_n,En,Tn,In,dn,ln,mn,Pn,on,An,Nn,kn,Ln,Rn,Un,Mn,Sn,Dn,wn,vn,On,bn,hn,un,pn,Fn,fn,Hn,gn,Gn,yn,Wn,Vn,Bn,Yn,Kn,Qn,jn,Jn,Zn,xn,zn,Xn,qn,$n,et,at,nt,tt,rt,Ct,ct,st,_t,it,Et,Tt,It,dt,lt,mt,Pt,ot,At,Nt,kt,Lt,Rt,Ut,Mt,St,Dt,wt,vt,Ot,bt,ht,ut,pt,Ft,ft,Ht,gt,Gt,yt,Wt,Vt,Bt,Yt,Kt,Qt,jt,Jt,Zt,xt,zt,Xt,qt,$t,er,ar,nr,tr,rr,Cr,cr,sr,_r,ir,Er,Tr,Ir,dr,lr,mr,Pr,or,Ar,Nr,kr,Lr,Rr,Ur,Mr,Sr,Dr,wr,vr,Or,br,hr,ur,pr,Fr,fr,Hr,gr,Gr,yr,Wr,Vr,Br,Yr,Kr,Qr,jr,Jr,Zr,xr,zr,Xr,qr,$r,eC,aC;return{setters:[function(e){a=e.cclegacy,n=e.error,t=e.log,r=e.Vec2},function(e){C=e.NetProtocolDefine},function(e){c=e.ZERO_TIMER_CLIENT,s=e.stZeroTimerClientCmd,_=e.PING_TIMER_CLIENT,i=e.GAME_TIMER_CLIENT,E=e.stGameTimeTimerClientCmd},function(e){T=e.PASSWD_LOGON_RESULT_USERCMD_CLIENT,I=e.stPasswdLogonResultClientCmd,d=e.LOGIN_ZONE_LIST_CLIENT,l=e.stLoginZoneListClientCmd,m=e.SERVER_RETURN_LOGIN_OK_CLIENT,P=e.stServerReturnLoginSuccessClientCmd,o=e.SERVER_RETURN_LOGIN_FAILED_CLIENT,A=e.stServerReturnLoginFailedClientCmd,N=e.USER_LOGIN_VERIFY,k=e.stUserLoginVerifyClientCmd},function(e){L=e.USER_TGE_SHOW_WIZZ_AMOUNT,R=e.stUserTGE_ShowWizzAmount,U=e.WEB_BOX_GET_CLIENT,M=e.stWebBoxGetClientCmd,S=e.WEB_BOX_AWARD_LIST_CLIENT,D=e.stWebBoxAwardListClientCmd,w=e.USER_ACTIVITY_AWARD_ADD_CLIENT,v=e.stUserActivityAwardAddClientCmd,O=e.USER_ACTIVITY_AWARD_LIST_CLIENT,b=e.stUserActivityAwardListClientCmd,h=e.USER_GET_NOTCOINAWARD_SUCCESS_CLIENT,u=e.stUserGetNotcoinAwardSuccessClientCmd,p=e.USER_NOTCOINAWARD_LIST_CLIENT,F=e.stUserNotcoinAwardListClientCmd,f=e.USER_GET_GIFT_SUCCESS_CLIENT,H=e.stUserGetGiftSuccessClientCmd,g=e.USER_GIFT_LIST_CLIENT,G=e.stUserGiftListClientCmd,y=e.USER_MONTHLYCARDDATA_LIST,W=e.stUserMonthlyCardData,V=e.USER_PURCHASE_PRODUCT_LOCK_CLIENT,B=e.stUserPurchaseProductLockClientCmd,Y=e.USER_UPDATE_PURCHASE_PRODUCT_DATA_CLIENT,K=e.stUserUpdatePurchaseProductDataClientCmd,Q=e.USER_PURCHASE_PRODUCT_DATA_CLIENT,j=e.stUserPurchaseProductDataClientCmd,J=e.WEB_QUEST_FINISH_CLIENT,Z=e.stWebQuestFinishClientCmd,x=e.WEB_QUEST_LIST_CLIENT,z=e.stWebQuestListClientCmd,X=e.USER_ONCHAINORDER_SIGN,q=e.stUserChainOrderSign,$=e.USER_ONCHAINORDER_REMOVE,ee=e.stUserChainOrderRemove,ae=e.USER_ONCHAINORDER_ADD,ne=e.stUserChainOrderAdd,te=e.USER_ONCHAINORDER_LIST,re=e.stUserChainOrderList,Ce=e.USER_UPDATE_ACHIEVEMENT_DATA,ce=e.stUserUpdateAchievementData,se=e.USER_ACHIEVEMENT_DATA_LIST,_e=e.stUserAchievementDataList,ie=e.USER_INVITATIOND_AWARD_LIST_CLIENT,Ee=e.stUserInvitationAwardListClientCmd,Te=e.USER_INVITATIONDATA_CLIENT,Ie=e.stUserInvitationDataClientCmd,de=e.LEVELUP_MOBILE_CLIENT,le=e.stLevelUpMobileClientCmd,me=e.EXP_CHANGE_MOBILE_CLIENT,Pe=e.stExpChangeMobileClientCmd,oe=e.HP_CHANGE_MOBILE_CLIENT,Ae=e.stHPChangeMobileClientCmd,Ne=e.ROLE_RENAME_CLIENT,ke=e.stRoleRenameClientCmd,Le=e.SET_GAME_DATA_CLIENT,Re=e.stSetGameDataClientCmd,Ue=e.MAP_SCREEN_SIZE_DATA_CLIENT,Me=e.stMapScreenSizeDataClientCmd,Se=e.MAIN_USER_MOBILE_DATA_CLIENT,De=e.stMainUserMobileDataClientCmd},function(e){we=e.FANG_CHEN_MI_SELECT_CLIENT,ve=e.stFangChenMiSelectClientCmd,Oe=e.CHECK_NAME_SELECT_CLIENT,be=e.stCheckNameSelectClientCmd},function(e){he=e.SLAP_GAME_DAY_COUNT_CLIENT,ue=e.stSlapGameDayCountClientCmd,pe=e.SLAP_GAME_START_CLIENT,Fe=e.stSlapGameStartClientCmd,fe=e.USER_SHOW_ACT_MAP_CLIENT,He=e.stUserShowACTClientCmd,ge=e.PARTY_GIVE_REWARD_MAP_CLIENT,Ge=e.stPartyGiveRewardMapClientCmd,ye=e.USER_SHOW_ACTION_MAP_CLIENT,We=e.stUserShowActionClientCmd,Ve=e.PARTY_GET_RED_PACKET_MAP_CLIENT,Be=e.stPartyGetRedPacketMapClientCmd,Ye=e.PARTY_NEW_RED_PACKET_MAP_CLIENT,Ke=e.stPartyNewRedPacketMapClientCmd,Qe=e.WISHING_WELL_MAPSCREEN_CLIENT,je=e.stWishingWellMapScreenClientCmd,Je=e.PARTY_SET_BGM_MAP_CLIENT,Ze=e.stPartySetBGMMapClientCmd,xe=e.NPC_SMILE_MAPSCREEN_CLIENT,ze=e.stNPCSmileScreenUserCmd,Xe=e.PARTY_SET_AGORA_TOKEN_MAP_CLIENT,qe=e.stPartySetAgoraTokenMapClientCmd,$e=e.PARTY_NOTICE_LIST_MAP_CLIENT,ea=e.stPartyNoticeListMapClientCmd,aa=e.PARTY_ADD_NOTICE_MAP_CLIENT,na=e.stPartyAddNoticeMapClientCmd,ta=e.PARTY_UPDATE_CO_HOST_MAP_CLIENT,ra=e.stPartyUpdateCoHostMapClientCmd,Ca=e.PARTY_CHANGE_CO_HOST_MAP_CLIENT,ca=e.stPartyChangeCoHostMapClientCmd,sa=e.PARTY_CHANGE_DATA_MAP_CLIENT,_a=e.stPartyChangeDataMapClientCmd,ia=e.PARTY_USER_STATE_MAP_CLIENT,Ea=e.stPartyUserStateMapClientCmd,Ta=e.PARTY_DATA_LIST_MAP_CLIENT,Ia=e.stPartyDataListMapClientCmd,da=e.PARTY_REMOVE_MAP_CLIENT,la=e.stPartyRemoveMapClientCmd,ma=e.PARTY_DATA_MAP_CLIENT,Pa=e.stPartyDataMapClientCmd,oa=e.REMOVEMAPNPC_MAPSCREEN_CLIENT,Aa=e.stRemoveMapNpcMapScreenClientCmd,Na=e.BATCH_REMOVE_NPC_MAPSCREEN_CLIENT,ka=e.stBatchRemoveNpcMapScreenClientCmd,La=e.MAPDATA_MAPSCREEN_NPC_MOBILE_CLIENT,Ra=e.stMapDataMapScreenNPCMobileClientCmd,Ua=e.ADDMAPNPC_AND_POS_MAPSCREEN_STATE_CLIENT,Ma=e.stAddMapNpcAndPosMapScreenStateClientCmd,Sa=e.BATCH_REMOVE_USER_MAPSCREEN_CLIENT,Da=e.stBatchRemoveUserMapScreenClientCmd,wa=e.stRemoveUserMapScreenClientCmd,va=e.REMOVEUSER_MAPSCREEN_CLIENT,Oa=e.ADDUSER_AND_POS_MAPSCREEN_STATE_MOBILE_CLIENT,ba=e.stAddUserAndPosMapScreenStateMobileClientCmd,ha=e.MAPDATA_MAPSCREEN_USER_MOBILE_CLIENT,ua=e.stMapDataMapScreenUserMobileClientCmd,pa=e.SIMPLE_USER_DATA_CLIENT},function(e){Fa=e.COLLIDE_MOVE_CLIENT,fa=e.stCollideMoveClientCmd,Ha=e.MOVE_FAIL_MOVE_CLIENT,ga=e.stMoveFailMoveClientCmd,Ga=e.USER_MOVE_MOVE_CLIENT,ya=e.stUserMoveMoveClientCmd},function(e){Wa=e.MONSTER_BOX_MAZE_CLIENT,Va=e.stMonsterBoxMazeClientCmd,Ba=e.UPDATE_MONSTER_DATA_MAZE_CLIENT,Ya=e.stUpdateMonsterDataMazeClientCmd,Ka=e.UPDATE_ROOM_DATA_MAZE_CLIENT,Qa=e.stUpdateNpcDataMazeClientCmd,ja=e.ENTER_ROOM_MAZE_CLIENT,Ja=e.stEnterRoomMazeClientCmd,Za=e.ROOM_DATA_MAZE_CLIENT,xa=e.stRoomDataMazeClientCmd,za=e.INIT_COPY_MAZE_CLIENT,Xa=e.stInitCopyMazeClientCmd},function(e){qa=e.BROADCAST_CHAT_USERCMD_CLIENT,$a=e.stBroadcastChatClientCmd,en=e.ALL_CHAT_USERCMD_CLIENT,an=e.stChannelChatClientCmd},function(e){nn=e.ITEM_CHANGE_LOG_CLIENT,tn=e.stItemChangeLogClientCmd,rn=e.CAST_OBJECT_PROPERTY_CLIENT,Cn=e.stCastObjectPropertyClientCmd,cn=e.MINT_ITEM_TO_CHAIN_CLIENT,sn=e.stMintItemToChainClientCmd,_n=e.ITEM_STATE_CLIENT,En=e.stItemStateClientCmd,Tn=e.EQUIPMENT_LIST_CLIENT,In=e.ITEM_DATA_LIST_CLIENT,dn=e.stItemDataListClientCmd,ln=e.ITEM_EQUIPMENT_CLIENT,mn=e.USEUSEROBJECT_PROPERTY_CLIENT,Pn=e.stUseObjectPropertyClientCmd,on=e.REFCOUNTOBJECT_PROPERTY_CLIENT,An=e.stRefCountObjectPropertyClientCmd,Nn=e.REMOVEUSEROBJECT_PROPERTY_CLIENT,kn=e.stRemoveObjectPropertyClientCmd,Ln=e.ADDUSEROBJECT_M_PROPERTY_CLIENT,Rn=e.stAddObjectMPropertyClientCmd},function(e){Un=e.BUY_OBJECT_NPC_TRADE_CLIENT,Mn=e.stBuyObjectNpcTradeUserCmd,Sn=e.enumBuyObjectRet,Dn=e.SHOP_NPC_TRADE_CLIENT,wn=e.stShopNpcTradeClientCmd},function(e){vn=e.REQ_RANK_LIST_CLIENT,On=e.stReqRankClientCmd},function(e){bn=e.REMOVE_ITEM_MAIL_CLIENT,hn=e.stRemoveItemMailClientCmd,un=e.CONTENT_MAIL_CLIENT,pn=e.stContentMailClientCmd,Fn=e.DEL_MAIL_CLIENT,fn=e.stDelMailClientCmd,Hn=e.NOTIFY_NEW_MAIL_CLIENT,gn=e.stNotifyNewMailClientCmd,Gn=e.ADD_LIST_MAIL_CLIENT,yn=e.stAddListMailClientCmd},function(e){Wn=e.UNLOCK_HERO_CLIENT,Vn=e.stUnlockHeroClientCmd,Bn=e.UPDATE_HERO_CLIENT,Yn=e.stUpdateHeroClientCmd,Kn=e.CHANGE_HERO_CLIENT,Qn=e.stChangeHeroClientCmd,jn=e.REMOVE_HERO_CLIENT,Jn=e.stRemoveHeroClientCmd,Zn=e.ADD_HERO_CLIENT,xn=e.stAddHeroClientCmd,zn=e.CARD_INFO_CLIENT,Xn=e.stCardInfoClientCmd},function(e){qn=e.PVP_RANK_RESULT_FIGHT_DISPLAY_CLIENT,$n=e.stPvpRankResultFightDisplayClientCmd,et=e.CREATE_PVP_RANK_FIGHT_DISPLAY_CLIENT,at=e.stCreatePvpRankFightDisplayClientCmd,nt=e.INVITE_PVP_REPLY_FIGHT_DISPLAY_CLIENT,tt=e.stInvitePvpReplyFightDisplayClientCmd,rt=e.INVITE_PVP_FIGHT_DISPLAY_CLIENT,Ct=e.stInvitePvpFightDisplayClientCmd,ct=e.CREATE_PVP_REPLY_FIGHT_DISPLAY_CLIENT,st=e.stCreatePvpReplyFightDisplayClientCmd,_t=e.CREATE_PVP_FIGHT_DISPLAY_CLIENT,it=e.stCreatePvpFightDisplayClientCmd,Et=e.JSON_DATA_FIGHT_DISPLAY_CLIENT,Tt=e.stJsonDataFightDisplayClientCmd},function(e){It=e.SHOW_LOG_EVENT_CLIENT,dt=e.stShowLogEventClientCmd,lt=e.TERMINATE_DIALOG_EVENT_CLIENT,mt=e.stTerminateDialogEventClientCmd,Pt=e.ACTION_DATA_EVENT_CLIENT,ot=e.stActionDataEventClientCmd},function(e){At=e.FARM_EXPLORATION_SET_WORKER_CLIENT,Nt=e.stFarmExplorationSetWorkerClientCmd,kt=e.FARM_EXPLORATION_START_CLIENT,Lt=e.stFarmExplorationStartClientCmd,Rt=e.FARM_EXPLORATION_DATA_CLIENT,Ut=e.stFarmExplorationDataClientCmd,Mt=e.FARM_OBJECT_REMOVE_ALL_CLIENT,St=e.stFarmObjectRemoveAllClientCmd,Dt=e.FARM_OBJECT_SET_CLIENT,wt=e.stFarmObjectSetClientCmd,vt=e.FARM_OBJECT_ADD_LIST_CLIENT,Ot=e.stFarmObjectAddListClientCmd,bt=e.FARM_OBJECT_INIT_LIST_CLIENT,ht=e.stFarmObjectInitListClientCmd,ut=e.FARM_MINING_HASHRATE,pt=e.stFarmMiningHashrateClientCmd,Ft=e.FARM_SKIN_NEW,ft=e.stFarmSkinNewClientCmd,Ht=e.FARM_SKIN_USE_CLIENT,gt=e.stFarmSkinUseClientCmd,Gt=e.FARM_SKIN_LIST_CLIENT,yt=e.stFarmSkinListClientCmd,Wt=e.FARM_PLANT_QUICK_HARVEST_CLIENT,Vt=e.stFarmPlantQuickHarvestClientCmd,Bt=e.FARM_PLANT_DELETE_CLIENT,Yt=e.stFarmPlantDeleteClientCmd,Kt=e.FARM_PLANT_HARVEST_CLIENT,Qt=e.stFarmPlantHarvestClientCmd,jt=e.FARM_PLANT_REFRESH_CLIENT,Jt=e.stFarmPlantRefreshClientCmd,Zt=e.FARM_PLANT_REFRESH_LIST_CLIENT,xt=e.stFarmPlantRefreshListClientCmd,zt=e.FARM_LEVEL_UP_CLIENT,Xt=e.stFarmLevelUpClientCmd,qt=e.FARM_INIT_DATA_CLIENT,$t=e.stFarmInitDataClientCmd,er=e.REFRESH_FARM_WORK_DATA_CLIENT,ar=e.stRefreshFarmWorkDataClientCmd,nr=e.REFRESH_FARM_RESOURCE_CLIENT,tr=e.stRefreshFarmResourceClientCmd,rr=e.FARM_WORKER_CHANGE_LEVEL_CLIENT,Cr=e.stFarmWorkerChangeLevelClientCmd,cr=e.FARM_UPDATE_WORKER_CLIENT,sr=e.stFarmUpdateWorkerClientCmd,_r=e.FARM_REMOVE_WORKER_CLIENT,ir=e.stFarmRemoveWorkerClientCmd,Er=e.FARM_NEW_WORKER_CLIENT,Tr=e.stFarmNewWorkerClientCmd,Ir=e.FARM_WORKER_LIST_CLIENT,dr=e.stFarmWorkerListClientCmd},function(e){lr=e.PURCHASE_PRODUCT_ORDER_FINISH,mr=e.stPurchaseProductOrderFinishClientCmd,Pr=e.PURCHASE_PRODUCT_ORDER_ID,or=e.stPurchaseProductOrderIDClientCmd,Ar=e.PURCHASE_PRODUCT_LIST_CLIENT,Nr=e.stPurchaseProductListClientCmd},function(e){kr=e.WITHDRAW_MINING_COIN_CLIENT,Lr=e.stWithdrawMiningCoinClientCmd,Rr=e.SEND_MINING_DATA_CLIENT,Ur=e.stSendMiningDataClientCmd,Mr=e.MINING_DATA_LIST_CLIENT,Sr=e.stMiningDataListClientCmd,Dr=e.SEND_MINING_LIST_CLIENT,wr=e.stSendMiningListClientCmd},function(e){vr=e.SDKManager},function(e){Or=e.PlayerSelf},function(e){br=e.EventDispatcher},function(e){hr=e.EventName},function(e){ur=e.TimeSystem},function(e){pr=e.SceneSystem},function(e){Fr=e.ModelItemManager},function(e){fr=e.ModelChatManager},function(e){Hr=e.ModelMainRoleManager},function(e){gr=e.UIFloatTextController},function(e){Gr=e.FightSystem},function(e){yr=e.ModelWorkerManager},function(e){Wr=e.ModelFarmManager},function(e){Vr=e.ModelChainOrderManager},function(e){Br=e.ModelWebQuestManager},function(e){Yr=e.ModelAchievementManager},function(e){Kr=e.ModelMiningManager},function(e){Qr=e.ModelChargeManager},function(e){jr=e.QUIDDITCH_GAME_STATE_CLIENT,Jr=e.stQuidditchGameStateClientCmd,Zr=e.QUIDDITCH_USER_SETTLE_DATA_CLIENT,xr=e.stQuidditchSettleDataClientCmd,zr=e.QUIDDITCH_VOTE_CLIENT,Xr=e.stQuidditchVoteClientCmd,qr=e.SEND_QUIDDITCH_VOTE_CLIENT,$r=e.stSendQuidditchVoteClientCmd,eC=e.SEND_QUIDDITCH_GAME_DATA_CLIENT,aC=e.stSendQuidditchGameDataClientCmd}],execute:function(){e("HandleProtocol",(function(e){if(e.limit<6)return void n("recv msg pack length is too small!");var a=e.readUint8(),nC=e.readUint8();switch(e.offset=0,a){case C.NULL_CLIENT_CMD:break;case C.LOGIN_CLIENT_CMD:!function(e,a){switch(e){case N:var n=new k;n.UnPack(a),t(n);break;case o:var r=new A;r.UnPack(a),vr.instance.curSDKPlugin.handleLoginReturnCmd(r);break;case m:var C=new P;C.UnPack(a),vr.instance.curSDKPlugin.handlePlatformLoginSuccessCmd(C);break;case d:var c=new l;c.UnPack(a),t(c);break;case T:var s=new I;s.UnPack(a),vr.instance.curSDKPlugin.handlePassLoginResultCmd(s)}}(nC,e);break;case C.TIME_CLIENT_CMD:!function(e,a){switch(e){case i:var n=new E;n.UnPack(a),ur.instance.setServerGameTime(n.gameSecTime);break;case _:pr.instance.resEchoPing();break;case c:(new s).UnPack(a)}}(nC,e);break;case C.DATA_CLIENT_CMD:!function(e,a){switch(e){case Se:var n=new De;n.UnPack(a),Hr.instance.refreshMainUserData(n.data);break;case Ue:var r=new Me;r.UnPack(a),t("init map",r),pr.instance.gotoMap(r.mapID);break;case Le:var C=new Re;C.UnPack(a),Hr.instance.refreshGameDataCmd(C);break;case Ne:var c=new ke;c.UnPack(a),Hr.instance.handleChangeNameCheckCmd(c);break;case oe:var s=new Ae;s.UnPack(a),Hr.instance.Hp=s.current_hp,br.emit(hr.PLAYERSELF_HP_CHANGED,s.change_hp);break;case me:(new Pe).UnPack(a);break;case de:(new le).UnPack(a);break;case Te:var _=new Ie;_.UnPack(a),Hr.instance.refreshInvitationData(_);break;case ie:var i=new Ee;i.UnPack(a),Hr.instance.refreshInvitationRewardData(i);break;case se:var E=new _e;E.UnPack(a),Yr.instance.handlerAchievementListCmd(E);break;case Ce:var T=new ce;T.UnPack(a),Yr.instance.handlerAchievementUpdateCmd(T);break;case te:var I=new re;I.UnPack(a),Vr.instance.handlerChainOrderInfoCmd(I);break;case ae:var d=new ne;d.UnPack(a),Vr.instance.handlerChainOrderAddCmd(d);break;case $:var l=new ee;l.UnPack(a),Vr.instance.handlerChainOrderRemoveCmd(l);break;case X:var m=new q;m.UnPack(a),Vr.instance.handlerChainOrderSignCmd(m);break;case x:var P=new z;P.UnPack(a),Br.instance.handlerAllQuestDataCmd(P);break;case J:var o=new Z;o.UnPack(a),Br.instance.handlerAddQuestDataCmd(o);break;case Q:var A=new j;A.UnPack(a),Qr.instance.initChargeRecord(A);break;case Y:var N=new K;N.UnPack(a),Qr.instance.refreshChargeRecord(N);break;case V:var k=new B;k.UnPack(a),Qr.instance.refreshChargeLockRecord(k);break;case y:var we=new W;we.UnPack(a),Qr.instance.refreshMonthlyCardInfo(we);break;case g:var ve=new G;ve.UnPack(a),Hr.instance.refreshGiftListData(ve);break;case f:var Oe=new H;Oe.UnPack(a),Hr.instance.onGiftGetSuccess(Oe);break;case p:var be=new F;be.UnPack(a),Hr.instance.refreshNotcoinListData(be);break;case h:var he=new u;he.UnPack(a),Hr.instance.onNotcoinGetSuccess(he);break;case O:var ue=new b;ue.UnPack(a),Hr.instance.refreshActivityListData(ue);break;case w:var pe=new v;pe.UnPack(a),Hr.instance.onActivityGetSuccess(pe);break;case S:var Fe=new D;Fe.UnPack(a),Hr.instance.refreshWebBoxAwardListData(Fe);break;case U:var fe=new M;fe.UnPack(a),Hr.instance.onWebBoxAwardGetSuccess(fe);break;case L:var He=new R;He.UnPack(a),br.emit(hr.UI_TOKEN_GENERATION_SHOW_RESULT,He)}}(nC,e);break;case C.SELECT_CLIENT_CMD:!function(e,a){switch(e){case Oe:(new be).UnPack(a);break;case we:var n=new ve;n.UnPack(a),t("kick form server:",n)}}(nC,e);break;case C.ITEM_CLIENT_CMD:!function(e,a){switch(e){case Ln:var n=new Rn;n.UnPack(a),Fr.instance.HandlerAddItemCmd(n);break;case Nn:var r=new kn;r.UnPack(a),Fr.instance.HandlerRemoveItemCmd(r.qwThisID);break;case on:var C=new An;C.UnPack(a),Fr.instance.HandlerChangeItemCountCmd(C.qwThisID,C.dwNum);break;case mn:var c=new Pn;c.UnPack(a),Fr.instance.HandleItemUseCmd(c);break;case ln:break;case In:var s=new dn;s.UnPack(a),Fr.instance.HandlerItemListCmd(s);break;case Tn:break;case _n:var _=new En;_.UnPack(a),Fr.instance.HandlerChangeItemStateCmd(_);break;case cn:var i=new sn;i.UnPack(a),0!==i.result&&t("mint object failed, errorcode:",i.result);break;case rn:var E=new Cn;E.UnPack(a),br.emit(hr.RECIPE_MAKE_RESULT,E.ret);break;case nn:var T=new tn;T.UnPack(a),br.emit(hr.PLAYERSELF_ITEMS_CHANGED_LOG,T)}}(nC,e);break;case C.MAP_CLIENT_CMD:!function(e,a){switch(e){case pa:break;case ha:var n=new ua;n.UnPack(a);for(var t=0;t<n.size;t+=1){var r=n.playerList[t];pr.instance.addPlayer(r)}break;case Oa:var C=new ba;C.UnPack(a),pr.instance.addPlayer(C.data);break;case va:var c=new wa;c.UnPack(a),pr.instance.removePlayer(c);break;case Sa:var s=new Da;s.UnPack(a);for(var _=0;_<s.num;_+=1){var i=new wa;i.dwUserTempID=s.id[_],pr.instance.removePlayer(i)}break;case Ua:(new Ma).UnPack(a);break;case La:(new Ra).UnPack(a);break;case Na:var E=new ka;E.UnPack(a);for(var T=0;T<E.num;T+=1){var I=new Aa;I.npcTempId=E.id[T],pr.instance.removeNpc(I)}break;case oa:var d=new Aa;d.UnPack(a),pr.instance.removeNpc(d);break;case ma:(new Pa).UnPack(a);break;case da:(new la).UnPack(a);break;case Ta:(new Ia).UnPack(a);break;case ia:(new Ea).UnPack(a);break;case sa:(new _a).UnPack(a);break;case Ca:(new ca).UnPack(a);break;case ta:(new ra).UnPack(a);break;case aa:var l=new na;l.UnPack(a);var m=pr.instance.findPlayerByTempID(l.userTempID);null!=m&&m.showChitChat(l.partyNotice.notice);break;case $e:(new ea).UnPack(a);break;case Xe:(new qe).UnPack(a);break;case xe:(new ze).UnPack(a);break;case Je:(new Ze).UnPack(a);break;case Qe:(new je).UnPack(a);break;case Ye:(new Ke).UnPack(a);break;case Ve:(new Be).UnPack(a);break;case ye:var P=new We;P.UnPack(a),P.userTempID===Or.instance.TempID?Or.instance:pr.instance.findPlayerByTempID(P.userTempID);break;case ge:(new Ge).UnPack(a);break;case fe:(new He).UnPack(a);break;case pe:(new Fe).UnPack(a);break;case he:(new ue).UnPack(a)}}(nC,e);break;case C.MOVE_CLIENT_CMD:!function(e,a){switch(e){case Ga:var n=new ya;n.UnPack(a);var C=pr.instance.findPlayerByTempID(n.userID);null!=C&&C.pushCommand(n);break;case Ha:var c=new ga;c.UnPack(a),t("player move failed:",c),Or.instance.setGridPosImmediate(new r(c.targetGridX,c.targetGridY));break;case Fa:var s=new fa;if(s.UnPack(a),2===s.result)return void Or.instance.handleDealCollideMoveCmd(s);var _=pr.instance.findPlayerByTempID(s.userTempID);null!=_&&_.handleDealCollideMoveCmd(s)}}(nC,e);break;case C.CARD_CLIENT_CMD:!function(e,a){switch(e){case zn:(new Xn).UnPack(a);break;case Zn:(new xn).UnPack(a);break;case jn:(new Jn).UnPack(a);break;case Kn:var n=new Qn;n.UnPack(a),0===n.result&&gr.AddTipI18nID_Failed("u.2120");break;case Bn:(new Yn).UnPack(a);break;case Wn:(new Vn).UnPack(a)}}(nC,e);break;case C.CHAT_CLIENT_CMD:!function(e,a){switch(e){case en:var n=new an;n.UnPack(a),fr.instance.HandleChatCmd(n);break;case qa:var t=new $a;t.UnPack(a),fr.instance.HandleBroadcastCmd(t)}}(nC,e);break;case C.TRADE_CLIENT_CMD:!function(e,a){switch(e){case Dn:var n=new wn;n.UnPack(a),br.emit(hr.SHOP_OBJECT_LIST_INIT,n);break;case Un:var t=new Mn;t.UnPack(a),t.result===Sn.eBuyObjectRet_ok||gr.AddTipI18nID_Failed("u.2515"),br.emit(hr.SHOP_BUY_OBJECT,t)}}(nC,e);break;case C.MAGIC_CLIENT_CMD:case C.UNION_CLIENT_CMD:case C.QUEST_CLIENT_CMD:case C.RELATION_CLIENT_CMD:break;case C.MAIL_CLIENT_CMD:!function(e,a){switch(e){case Gn:var n=new yn;n.UnPack(a),br.emit(hr.MAIL_GET_LIST,n);break;case Hn:(new gn).UnPack(a),br.emit(hr.MAIL_NOTIFY_NEW);break;case Fn:var t=new fn;t.UnPack(a),br.emit(hr.MAIL_REMOVE_ITEM,t.mMailID);break;case un:var r=new pn;r.UnPack(a),br.emit(hr.MAIL_DETAIL_SHOW_INFO,r);break;case bn:var C=new hn;C.UnPack(a),br.emit(hr.MAIL_DETAIL_REMOVE_ITEM,C.mMailID)}}(nC,e);break;case C.RANK_CLIENT_CMD:!function(e,a){switch(e){case vn:(new On).UnPack(a)}}(nC,e);break;case C.MANOR_CLIENT_CMD:break;case C.FIGHT_CLIENT_CMD:!function(e,a){switch(e){case Et:var n=new Tt;n.UnPack(a),Gr.instance.handlerFightCmd(n);break;case _t:var t=new it;t.UnPack(a),Gr.instance.handlerPVPFightResult(t.result);break;case ct:(new st).UnPack(a);break;case rt:(new Ct).UnPack(a);break;case nt:var r=new tt;r.UnPack(a),Gr.instance.handlerPVPFightResult(r.result);break;case et:(new at).UnPack(a);break;case qn:(new $n).UnPack(a)}}(nC,e);break;case C.MAZE_CLIENT_CMD:!function(e,a){switch(e){case za:(new Xa).UnPack(a);break;case Za:(new xa).UnPack(a);break;case ja:(new Ja).UnPack(a);break;case Ka:(new Qa).UnPack(a);break;case Ba:(new Ya).UnPack(a);break;case Wa:(new Va).UnPack(a)}}(nC,e);break;case C.EVENT_CLIENT_CMD:!function(e,a){switch(e){case Pt:(new ot).UnPack(a);break;case lt:(new mt).UnPack(a);break;case It:(new dt).UnPack(a)}}(nC,e);break;case C.FARM_CLIENT_CMD:!function(e,a){switch(e){case Ir:var n=new dr;n.UnPack(a),yr.instance.handlerWorkerInfoCmd(n);break;case Er:var t=new Tr;t.UnPack(a),yr.instance.handlerWorkerAddCmd(t);break;case _r:var r=new ir;r.UnPack(a),yr.instance.handlerWorkerRemoveCmd(r);break;case cr:var C=new sr;C.UnPack(a),yr.instance.handlerWorkerUpdateCmd(C);break;case rr:var c=new Cr;c.UnPack(a),yr.instance.handlerWorkerLevelupCmd(c);break;case nr:var s=new tr;s.UnPack(a),Wr.instance.handlerFarmResourceCmd(s);break;case er:var _=new ar;_.UnPack(a),Wr.instance.handlerFarmBuildingChangedCmd(_),yr.instance.handlerWorkerStateCmd(_);break;case qt:var i=new $t;i.UnPack(a),Wr.instance.handlerFarmInfoCmd(i);break;case zt:var E=new Xt;E.UnPack(a),Wr.instance.handlerFarmLevelupCmd(E);break;case Zt:var T=new xt;T.UnPack(a),Wr.instance.handlerFarmPlantListCmd(T);break;case jt:var I=new Jt;I.UnPack(a),Wr.instance.handlerFarmPlantAddCmd(I);break;case Kt:var d=new Qt;d.UnPack(a),Wr.instance.handlerFarmPlantHarvestCmd(d);break;case Bt:var l=new Yt;l.UnPack(a),Wr.instance.handlerFarmPlantDeleteCmd(l);break;case Wt:var m=new Vt;m.UnPack(a),br.emit(hr.FARM_PLANT_QUICK_HARVEST,m.silverNum);break;case Gt:var P=new yt;P.UnPack(a),Wr.instance.handlerFarmSkinListCmd(P);break;case Ht:var o=new gt;o.UnPack(a),Wr.instance.handlerFarmUseSkinCmd(o);break;case Ft:var A=new ft;A.UnPack(a),Wr.instance.handlerFarmSkinAddCmd(A);break;case ut:var N=new pt;N.UnPack(a),Wr.instance.handlerFarmHashrateCmd(N);break;case bt:var k=new ht;k.UnPack(a),Wr.instance.handlerFarmObjectInfoCmd(k);break;case vt:var L=new Ot;L.UnPack(a),Wr.instance.handlerFarmObjectAddCmd(L);break;case Dt:var R=new wt;R.UnPack(a),Wr.instance.handlerFarmObjectSetCmd(R);break;case Mt:var U=new St;U.UnPack(a),Wr.instance.handlerRemoveAllObjectCmd(U);break;case Rt:var M=new Ut;M.UnPack(a),Wr.instance.handlerFarmExplorationDataCmd(M);break;case kt:var S=new Lt;S.UnPack(a),br.emit(hr.EXPLORATION_START,S.result);break;case At:var D=new Nt;D.UnPack(a),br.emit(hr.EXPLORATION_DISPATCH_WORKER_LIST,D.result)}}(nC,e);break;case C.PURCHASE_CLIENT_CMD:!function(e,a){switch(e){case Ar:var n=new Nr;n.UnPack(a),br.emit(hr.CHARGE_GET_LIST,n);break;case Pr:var t=new or;t.UnPack(a),br.emit(hr.CHARGE_PURCHASE_GET_ORDER,t);break;case lr:var r=new mr;r.UnPack(a),br.emit(hr.CHARGE_PURCHASE_FINISH,r)}}(nC,e);break;case C.MINING_CLIENT_CMD:!function(e,a){switch(e){case Dr:var n=new wr;n.UnPack(a),br.emit(hr.MINING_LIST_INIT,n);break;case Mr:var t=new Sr;t.UnPack(a),Kr.instance.handlerMiningLogInitCmd(t);break;case Rr:var r=new Ur;r.UnPack(a),Kr.instance.handlerMiningLogAddCmd(r);break;case kr:var C=new Lr;C.UnPack(a),br.emit(hr.MINING_WITHDRAW_COIN,C)}}(nC,e);break;case C.QUIDDITCH_CLIENT_CMD:!function(e,a){switch(e){case eC:var n=new aC;n.UnPack(a),br.emit(hr.QUIDDITCH_DATA_CHANGED,n);break;case qr:var t=new $r;t.UnPack(a),Hr.instance.refreshQuidditchVoteData(t);break;case zr:var r=new Xr;r.UnPack(a),br.emit(hr.QUIDDITCH_VOTE_RESULT,r);break;case Zr:var C=new xr;C.UnPack(a),br.emit(hr.QUIDDITCH_CLEARING_DATA_INIT,C);break;case jr:var c=new Jr;c.UnPack(a),Hr.instance.refreshQuidditchGameState(c)}}(nC,e)}})),a._RF.push({},"a3841b53VRI5rHgJ5jWZam6","net.protocol.handler",void 0),a._RF.pop()}}}));

System.register("chunks:///_virtual/net.system.ts",["./rollupPluginModLoBabelHelpers.js","cc","./base.system.ts","./net.websocket.client.ts","./game.state.manager.ts"],(function(t){"use strict";var e,n,i,l,s,a,r,o;return{setters:[function(t){e=t.inheritsLoose,n=t.createClass},function(t){i=t.cclegacy,l=t._decorator},function(t){s=t.BaseSystem},function(t){a=t.NetWebSocketClient,r=t.ConnectType},function(t){o=t.GameStateManager}],execute:function(){var c,m;i._RF.push({},"37ec3XchS1JuYghTGpCggkc","net.system",void 0);var C=l.ccclass;t("NetSystem",C("NetSystem")(((m=function(t){function i(){for(var e,n=arguments.length,i=new Array(n),l=0;l<n;l++)i[l]=arguments[l];return(e=t.call.apply(t,[this].concat(i))||this).mPlatformClient=null,e.mGateClient=null,e}e(i,t);var l=i.prototype;return l.sysInitial=function(){t.prototype.sysInitial.call(this),this.mPlatformClient=new a,this.mPlatformClient.initNetClient(r.Platform),this.mGateClient=new a,this.mGateClient.initNetClient(r.Gate)},l.sysUpdate=function(e){t.prototype.sysUpdate.call(this,e),o.instance.isInGameRun()&&(null!=this.mPlatformClient&&this.mPlatformClient.triggerEvents(),null!=this.mGateClient&&this.mGateClient.triggerEvents())},l.sysFinalize=function(){null!=this.mPlatformClient&&(this.mPlatformClient.releaseNetClient(),this.mGateClient=null),null!=this.mGateClient&&(this.mGateClient.releaseNetClient(),this.mGateClient=null)},l.setCmdHandlerFunction=function(t){this.mPlatformClient.CmdHandlerFunc=t,this.mGateClient.CmdHandlerFunc=t},l.closeAllConnect=function(){null!=this.mPlatformClient&&this.mPlatformClient.releaseNetClient(),null!=this.mGateClient&&this.mGateClient.releaseNetClient()},l.isPlatformServerConnecting=function(){return null!=this.mPlatformClient&&this.mPlatformClient.isConnected()},l.connectPlatformServer=function(t){this.mPlatformClient.connectServerByUrl(t)},l.disconnectPlatformServer=function(){this.mPlatformClient.close()},l.sendCmdPlatform=function(t){this.mPlatformClient.isConnected()&&this.mPlatformClient.sendCmd(t)},l.isGateServerConnecting=function(){return null!=this.mGateClient&&this.mGateClient.isConnected()},l.connectGateServer=function(t){this.mGateClient.connectServerByUrl(t)},l.disconnectGateServer=function(){this.mGateClient.close()},l.sendCmdGate=function(t){this.mGateClient.isConnected()&&this.mGateClient.sendCmd(t)},n(i,null,[{key:"instance",get:function(){return null==this._instance&&(this._instance=new i),this._instance}}]),i}(s))._instance=null,c=m))||c);i._RF.pop()}}}));

System.register("chunks:///_virtual/net.websocket.client.ts",["./rollupPluginModLoBabelHelpers.js","cc","./net.websocket.connector.ts","./bytebuffer.min.mjs_cjs=&original=.js","./event.dispatcher.ts","./event.name.ts","./pako.esm.mjs","./bytebuffer.min.js"],(function(e){"use strict";var t,n,s,i,o,r,c,a,u,f;return{setters:[function(e){t=e.createClass},function(e){n=e.cclegacy,s=e._decorator,i=e.log,o=e.error},function(e){r=e.NetWebSocketConnector},null,function(e){c=e.EventDispatcher},function(e){a=e.EventName},function(e){u=e.default},function(e){f=e.default}],execute:function(){var C;n._RF.push({},"cb95d01uMZCPILUkqtLAGAX","net.websocket.client",void 0);var _=s.ccclass,h=e("ConnectType",{None:0,Platform:1,Gate:2});e("NetWebSocketClient",_("NetWebSocketClient")(C=function(){function e(){this.PACKET_HEAD_SIZE=4,this.PACKET_FLAG_ZIP=1073741824,this.PACKET_FLAG_BITS=4278190080,this.PACKET_MAX_SIZE=65535,this.MIN_PACKET_SIZE=10,this.PACKET_FLAG_ENC=2147483648,this.BIG_PACKET_MAX_SIZE=16777215,this.mIsPacketMsg=!0,this.mWebsocketConnector=null,this.mConnectType=h.None,this.mReceivedMsgList=new Array,this.mCmdHandlerFunc=null}var n=e.prototype;return n.initNetClient=function(e){this.mConnectType=e,this.mWebsocketConnector=new r(this._websocketOnOpen,this._websocketOnClose,this._websocketOnMessage,this._websocketOnError,this)},n.releaseNetClient=function(){null!=this.mWebsocketConnector&&this.mWebsocketConnector.disconnectServer(),this.mReceivedMsgList=[]},n.connectServerByUrl=function(e){this.mWebsocketConnector.connectServer(e)},n.close=function(){this.mWebsocketConnector.disconnectServer(),this.mReceivedMsgList=[]},n.triggerEvents=function(){for(var e=0;e<200;e+=1){var t=this._popMsgPack();if(null==t)break;this.mCmdHandlerFunc(t)}},n.isConnected=function(){return this.mWebsocketConnector.isConnected()},n.sendCmd=function(e){e.Pack();var t=this._ConvertCmdToSendPack(e);this.mWebsocketConnector.sendBytes(t),e.ReleaseByteBuffer()},n._pushMsgPack=function(e){this.mReceivedMsgList.push(e)},n._popMsgPack=function(){return this.mReceivedMsgList.length>0?this.mReceivedMsgList.shift():null},n._websocketOnOpen=function(){this.mConnectType===h.Platform?c.emit(a.NET_PLATFORM_CONNECT_SUCCESS):this.mConnectType===h.Gate&&c.emit(a.NET_GATE_CONNECT_SUCCESS)},n._websocketOnClose=function(e){i("onclose:",e),this.mConnectType===h.Platform?c.emit(a.NET_PLATFORM_CONNECT_DIS):this.mConnectType===h.Gate&&c.emit(a.NET_GATE_CONNECT_DIS)},n._websocketOnError=function(e){o("onerror:",this.mConnectType,e),this.mConnectType===h.Platform||this.mConnectType===h.Gate&&c.emit(a.NET_GATE_CONNECT_FAILED)},n._websocketOnMessage=function(e){var t=f.wrap(e.data,"utf8",!0,!0),n=this._ConvertNetStreamToMsgPack(t);null!=n&&this._pushMsgPack(n)},n._ConvertCmdToSendPack=function(e){var t=new f(f.DEFAULT_CAPACITY,!0,!0);t.writeUint32(0);var n=e.GetToSendBuff();n.flip();var s=0;if((n.limit+7&-8)>40){s|=this.PACKET_FLAG_ZIP;var i=u.deflate(n.toArrayBuffer());t.append(i)}else t.append(n);var o=t.offset-this.PACKET_HEAD_SIZE|s;return t.writeUint32(o,0),t.flip(),t.toArrayBuffer()},n._ConvertNetStreamToMsgPack=function(e){var t=new f(f.DEFAULT_CAPACITY,!0,!0),n=e.buffer.byteLength,s=e.readUint32(),i=s&this.PACKET_FLAG_BITS,r=s&this.PACKET_MAX_SIZE;if(this.mIsPacketMsg){if(r+this.PACKET_HEAD_SIZE!==n)return o("recv pack length error,recv:%d, pack marked:%d",n,r),null;t.append(e.toArrayBuffer())}else{if(r!==n)return o("recv msg length error,recv:%d, pack marked:%d",n,r),null;t.append(e.toArrayBuffer())}if(t.flip(),0!==(i&this.PACKET_FLAG_ZIP)){var c=u.inflate(e.toArrayBuffer());t=f.wrap(c,"utf8",!0,!0)}return t},t(e,[{key:"CmdHandlerFunc",set:function(e){this.mCmdHandlerFunc=e}},{key:"IsPacketMsg",get:function(){return this.mIsPacketMsg},set:function(e){this.mIsPacketMsg=e}}]),e}())||C);n._RF.pop()}}}));

System.register("chunks:///_virtual/net.websocket.connector.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,n,c;return{setters:[function(e){t=e.createClass},function(e){n=e.cclegacy,c=e._decorator}],execute:function(){var o;n._RF.push({},"14fc1Dyu6RNvZpl1Xb6Ws+o","net.websocket.connector",void 0);var l=c.ccclass,s=e("NET_STATE",{None:0,Connecting:1,WaitingLogin:2,Connected:3,DisConnected:4,ConnectServerError:5,SvrIsFull:6,Waiting:7,reTry:8});e("NetWebSocketConnector",l("NetWebSocketConnector")(o=function(){function e(e,t,n,c,o){this.mNetState=s.None,this.mWebSocket=null,this.mCurConnectUrl="",this.mWebSocketOnOpenCallback=null,this.mWebSocketOnCloseCallback=null,this.mWebSocketOnErrorCallback=null,this.mWebSocketOnMessageCallback=null,this.mCallbackThis=null,this.mCallbackThis=o,this.mWebSocketOnOpenCallback=e,this.mWebSocketOnCloseCallback=t,this.mWebSocketOnErrorCallback=c,this.mWebSocketOnMessageCallback=n}var n=e.prototype;return n.isConnected=function(){return this.mNetState===s.Connected},n.connectServer=function(e){var t=this;this.disconnectServer(),this.mCurConnectUrl=e,this.mWebSocket=new WebSocket(this.mCurConnectUrl),this.mWebSocket.binaryType="arraybuffer",this.mNetState=s.Connecting,this.mWebSocket.onopen=function(e){t.mNetState=s.Connected,null!=t.mWebSocketOnOpenCallback&&t.mWebSocketOnOpenCallback.call(t.mCallbackThis,e)},this.mWebSocket.onclose=function(e){t.mNetState=s.DisConnected,null!=t.mWebSocketOnCloseCallback&&t.mWebSocketOnCloseCallback.call(t.mCallbackThis,e)},this.mWebSocket.onerror=function(e){t.mNetState=s.ConnectServerError,null!=t.mWebSocketOnErrorCallback&&t.mWebSocketOnErrorCallback.call(t.mCallbackThis,e)},this.mWebSocket.onmessage=function(e){null!=t.mWebSocketOnMessageCallback&&t.mWebSocketOnMessageCallback.call(t.mCallbackThis,e)}},n.disconnectServer=function(){null!=this.mWebSocket&&(this.mWebSocket.onopen=function(){},this.mWebSocket.onclose=function(){},this.mWebSocket.onerror=function(){},this.mWebSocket.onmessage=function(){},this.mWebSocket.close(1e3)),this.mWebSocket=null,this.mNetState=s.DisConnected},n.sendBytes=function(e){this.mWebSocket.send(e)},t(e,[{key:"NetState",get:function(){return this.mNetState},set:function(e){this.mNetState=e}}]),e}())||o);n._RF.pop()}}}));

System.register("chunks:///_virtual/new.guide.define.ts",["cc"],(function(e){"use strict";var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"d6151ljegNJkI5h8WykrcjR","new.guide.define",void 0);e("EnumNewGuideType",{None:0,Introduction:1,Dialog:2,ButtionClick:3,FarmShow:4,ItemGet:5}),e("EnumArrowDir",{None:0,Left:1,Top:2,Right:3,Bottom:4});t._RF.pop()}}}));

System.register("chunks:///_virtual/new.guide.manager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./base.manager.ts","./table.manager.ts","./event.dispatcher.ts","./event.name.ts","./new.guide.define.ts","./common.tool.ts","./net.helper.ts","./model.mainrole.manager.ts","./sdk.manager.ts","./ui.message.box.controller.ts","./table.helper.ts","./plugin.settings.ts"],(function(e){"use strict";var i,t,n,u,r,s,a,d,o,I,_,c,m,G,l,E,h,f;return{setters:[function(e){i=e.inheritsLoose,t=e.createClass,n=e.asyncToGenerator,u=e.regeneratorRuntime},function(e){r=e.cclegacy,s=e._decorator},function(e){a=e.BaseManager},function(e){d=e.TableManager},function(e){o=e.EventDispatcher},function(e){I=e.EventName},function(e){_=e.EnumNewGuideType},function(e){c=e.CommonTool},function(e){m=e.NetHelper},function(e){G=e.ModelMainRoleManager},function(e){l=e.SDKManager},function(e){E=e.UIMessageBoxController},function(e){h=e.TableHelper},function(e){f=e.PluginSettings}],execute:function(){var g,p;r._RF.push({},"b86feBFHvxFt7U5yi+Nk5MJ","new.guide.manager",void 0);var D=s.ccclass;e("NewGuideManager",D("NewGuideManager")(((p=function(e){function r(){for(var i,t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return(i=e.call.apply(e,[this].concat(n))||this).mNewGuideList=new Array,i.mIsCloseGuide=!1,i.mIsInGuideScene=!1,i.mCurGuideID=Number.MAX_VALUE,i.mCurGuideIdx=Number.MAX_VALUE,i.mIsPopLineReward=!1,i.mIsPopLineBox=!1,i}i(r,e);var s=r.prototype;return s.initManger=function(){e.prototype.initManger.call(this)},s.clearManager=function(){e.prototype.clearManager.call(this),this.mCurGuideID=Number.MAX_VALUE,this.mCurGuideIdx=Number.MAX_VALUE,this.mIsInGuideScene=!1},s.addAllManagerEvents=function(){e.prototype.addAllManagerEvents.call(this),o.on(I.PRELOAD_FINISH_ALL,this._EventAllTextLoadFinish,this),o.on(I.PLAYERSELF_MAIN_DATA_CHANGED,this._onMainDataChanged,this)},s.removeAllManagerEvents=function(){e.prototype.removeAllManagerEvents.call(this),o.off(I.PRELOAD_FINISH_ALL,this._EventAllTextLoadFinish,this),o.off(I.PLAYERSELF_MAIN_DATA_CHANGED,this._onMainDataChanged,this)},s._EventAllTextLoadFinish=function(){this._InitGuideData()},s._onMainDataChanged=function(){var e=G.instance.UserGuideID;e<r.cEndGuideID?this.HandleGuide(e):this.popLineRewardView(),this.popLinePromotionBox()},s.popLineRewardView=function(){if(f.isInLine()){if(this.mIsPopLineReward)return;this.mIsPopLineReward=!0,"kaia"===l.instance.curSDKPlugin.missionParam&&o.emit(I.UI_GIFT_LINE_OPEN)}},s.popLinePromotionBox=function(){if(f.isInLine()){if(this.mIsPopLineBox)return;if(this.mIsPopLineBox=!0,"rb_dappportal"===l.instance.curSDKPlugin.startParam)"dappportal"!==l.instance.curSDKPlugin.getStartParamPlatName()&&E.AddPopMsgBox_SingleBtn(h.getI18nUIText("u.2415"),h.getI18nUIText("u.13436"))}},s._InitGuideData=function(){this.mNewGuideList=[];var e=d.instance.tableUserGuide.getUserGuideArray();if(null!=e)for(var i=0;i<e.length;i++){var t=e[i];null!=t&&this.mNewGuideList.push(t)}},s.HandleGuide=function(e){0===e&&(e=r.cBeginGuideID),this.mCurGuideID!==e&&(this.mCurGuideID=e,this.mCurGuideIdx=Number.MAX_VALUE,this._InitGuideIdx(),this.ExcuteGuide())},s.ExcuteGuide=function(){var e=n(u().mark((function e(){var i,t,n,r,s;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.mIsCloseGuide){e.next=3;break}return this.EndGuide(),e.abrupt("return");case 3:if(this.mCurGuideIdx!==Number.MAX_VALUE){e.next=6;break}return this.EndGuide(),e.abrupt("return");case 6:if(!(this.mCurGuideIdx>=this.mNewGuideList.length)){e.next=9;break}return this.EndGuide(),e.abrupt("return");case 9:if(null==(i=this.mNewGuideList[this.mCurGuideIdx])){e.next=20;break}if(!(i.delayTime>0)){e.next=14;break}return e.next=14,c.sleep(i.delayTime);case 14:if(i.guideType===_.Introduction)o.emit(I.UI_NEW_GUIDE_INTRODUCTION_OPEN,i.guideID);else if(i.guideType===_.Dialog)o.emit(I.UI_NEW_GUIDE_CLICK_CLOSE),o.emit(I.UI_NEW_GUIDE_FARM_CLOSE),o.emit(I.UI_NEW_GUIDE_DIALOG_OPEN,i.guideID);else if(i.guideType===_.ButtionClick)o.emit(I.UI_NEW_GUIDE_DIALOG_CLOSE),o.emit(I.UI_NEW_GUIDE_FARM_CLOSE),o.emit(I.UI_NEW_GUIDE_CLICK_OPEN,i.guideID);else if(i.guideType===_.FarmShow)o.emit(I.UI_NEW_GUIDE_CLICK_CLOSE),o.emit(I.UI_NEW_GUIDE_DIALOG_CLOSE),o.emit(I.UI_NEW_GUIDE_FARM_OPEN,i.guideID);else if(i.guideType===_.ItemGet&&(o.emit(I.UI_NEW_GUIDE_CLICK_CLOSE),o.emit(I.UI_NEW_GUIDE_DIALOG_CLOSE),o.emit(I.UI_NEW_GUIDE_FARM_CLOSE),"0"!==i.guideParam)){for(t=[],n=i.guideParam.split(";"),r=0;r<n.length;r++)2===(s=n[r].split("-")).length&&t.push([Number.parseInt(s[0]),Number.parseInt(s[1])]);o.emit(I.UI_ITEM_GET_OPEN,t)}this.mCurGuideID=i.guideID,this.mIsInGuideScene=!0,m.setNewGuide(i.stepID),e.next=21;break;case 20:this.EndGuide();case 21:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),s.NextStep=function(){this.mCurGuideID<r.cEndGuideID?(this.mCurGuideIdx+=1,this.ExcuteGuide()):this.EndGuide()},s.EndGuide=function(){this.mIsInGuideScene=!1,o.emit(I.UI_NEW_GUIDE_INTRODUCTION_CLOSE),o.emit(I.UI_NEW_GUIDE_DIALOG_CLOSE),o.emit(I.UI_NEW_GUIDE_CLICK_CLOSE),o.emit(I.UI_NEW_GUIDE_FARM_CLOSE),this.popLineRewardView()},s.SkipGuide=function(){this.mCurGuideID<r.cEndGuideID&&(this.mCurGuideID=r.cEndGuideID,m.setNewGuide(this.mCurGuideID)),this.EndGuide()},s.IsGuideOver=function(){return this.mCurGuideID===Number.MAX_VALUE},s._InitGuideIdx=function(){if(this.mCurGuideIdx===Number.MAX_VALUE)for(var e=0;e<this.mNewGuideList.length;++e)if(this.mCurGuideID===this.mNewGuideList[e].guideID){this.mCurGuideIdx=e;break}},t(r,[{key:"CurGuideID",get:function(){return this.mCurGuideID}},{key:"IsCloseNewGuide",get:function(){return this.mIsCloseGuide},set:function(e){this.mIsCloseGuide=e}},{key:"IsInGuideScene",get:function(){return this.mIsInGuideScene}}],[{key:"instance",get:function(){return null==this._instance&&(this._instance=new r),this._instance}}]),r}(a))._instance=null,p.cBeginGuideID=1,p.cEndGuideID=9999,g=p))||g);r._RF.pop()}}}));

System.register("chunks:///_virtual/new.guide.tools.ts",["cc","./farm.system.ts","./ui.asset.controller.ts","./ui.building.upgrade.controller.ts","./ui.details.controller.ts","./ui.main.interface.controller.ts","./ui.quest.controller.ts","./ui.worker.detail.controller.ts","./ui.worker.upgrade.controller.ts"],(function(e){"use strict";var t,n,r,a,c,s,o,i,u,l;return{setters:[function(e){t=e.cclegacy,n=e._decorator},function(e){r=e.FarmSystem},function(e){a=e.UIAssetController},function(e){c=e.UIBuildingUpgradeController},function(e){s=e.UIDetailsController},function(e){o=e.UIMainInterfaceController},function(e){i=e.UIQuestController},function(e){u=e.UIWorkerDetailController},function(e){l=e.UIWorkerUpgradeController}],execute:function(){var g;t._RF.push({},"7fa31/ONl9DSKkU3BJp3mtj","new.guide.tools",void 0);var _=n.ccclass;e("NewGuideTools",_("NewGuideTools")(g=function(){function e(){}return e.GetGuideComponent=function(e){switch(e){case"btn_worker":return o.instance.getWorkerBtn();case"item_wizard_0":return a.instance.getWorkerItem();case"btn_work":return u.instance.getWorkBtn();case"btn_mushroom":return u.instance.getMushroomBtn();case"btn_close_work":return u.instance.getCloseBtn();case"btn_close_wizard":return a.instance.getCloseBtn();case"btn_upgrade":return u.instance.getUpgradeBtn();case"btn_upgrade_silver":return l.instance.getUpgradeSilverBtn();case"btn_upgrade_close":return l.instance.getCloseBtn();case"btn_achievement":return o.instance.getAchievementBtn();case"btn_achievement_tab":return i.instance.getAchievementTab();case"item_achievement_wizard_lvl":return i.instance.getAchievementItem(1);case"btn_close_achievement":return i.instance.getCloseBtn();case"btn_farm_go_upgrade":return c.instance.getGoUpgradeBtn();case"btn_farm_upgrade":return c.instance.getUpgradeBtn();case"btn_close_farm_upgrade":return c.instance.getCloseBtn();case"item_achievement_farm_lvl":return i.instance.getAchievementItem(0);case"btn_bag":return o.instance.getBagBtn();case"btn_bag_tab":return a.instance.getPackageTab();case"item_bag_0":return a.instance.getPackageItem();case"btn_use":return s.instance.getUseBtn();case"btn_close_bag":return a.instance.getCloseBtn();default:return null}},e.GetGuideScene=function(e){switch(e){case"scene_bear":return r.instance.tabeTower.Position;case"scene_mushroom":return r.instance.roomFood.Position;default:return null}},e}())||g);t._RF.pop()}}}));

System.register("chunks:///_virtual/null.client.protocol.ts",["cc","./bytebuffer.min.mjs_cjs=&original=.js","./bytebuffer.min.js"],(function(t){"use strict";var e,i;return{setters:[function(t){e=t.cclegacy},null,function(t){i=t.default}],execute:function(){t({readStringWithFixedLengthFromByteBuffer:n,stringFixedLenToByteBuffer:r}),e._RF.push({},"0cc76aw9RpJBb9uKU3AzuhN","null.client.protocol",void 0);t("stNullClientCmd",function(){function t(){this.gsCmd=0,this.gsParam=0,this.dwTimestamp=0,this.mByteBuffer=null,this.gsCmd=0,this.gsParam=0,this.dwTimestamp=0,this.mByteBuffer=null}var e=t.prototype;return e.Pack=function(){this.mByteBuffer=new i(i.DEFAULT_CAPACITY,!0,!0),this.mByteBuffer.writeUint8(this.gsCmd),this.mByteBuffer.writeUint8(this.gsParam),this.dwTimestamp=Math.floor(Date.now()/1e3),this.mByteBuffer.writeUint32(this.dwTimestamp)},e.UnPack=function(t){this.mByteBuffer=t,this.mByteBuffer.flip(),this.gsCmd=this.mByteBuffer.readUint8(),this.gsParam=this.mByteBuffer.readUint8(),this.dwTimestamp=this.mByteBuffer.readUint32()},e.ReleaseByteBuffer=function(){this.mByteBuffer.clear(),this.mByteBuffer=null},e.GetToSendBuff=function(){return this.mByteBuffer},e.CopyNullData=function(t){this.gsCmd=t.gsCmd,this.gsParam=t.gsParam,this.dwTimestamp=t.dwTimestamp},e.WriteStringWithFixedLength=function(t,e){this.mByteBuffer.append(r(t,e))},e.ReadStringWithFixedLength=function(t){return n(this.mByteBuffer,t)},t}());function r(t,e){var r=new i(e,!0,!0);return r.writeUTF8String(t).fill(0).flip(),r}function n(t,e){return i.wrap(t.readBytes(e),"utf8",!0,!0).readCString()}e._RF.pop()}}}));

System.register("chunks:///_virtual/object.base.ts",["./rollupPluginModLoBabelHelpers.js","cc","./enum.anim.state.ts","./enum.engine.ts","./enum.object.dir.ts","./enum.object.type.ts","./path.finder.manager.ts"],(function(t){"use strict";var e,i,n,s,o,r,m,u,h,c;return{setters:[function(t){e=t.createClass},function(t){i=t.cclegacy,n=t._decorator,s=t.Vec3,o=t.Vec2},function(t){r=t.EAnimState},function(t){m=t.EEngineObjLoadState},function(t){u=t.EObjectDir},function(t){h=t.EObjectType},function(t){c=t.PathFinderManager}],execute:function(){var a;i._RF.push({},"50d8eSB6I9L67ujaCO/NREw","object.base",void 0);var l=n.ccclass;t("ObjectBase",l("ObjectBase")(a=function(){function t(){this.mTempID=Number.MAX_VALUE,this.mObjectType=h.None,this.mObjName="",this.mIsNeedDelete=!1,this.mObjDir=u.Bottom,this.mCurPosition=new s(0,0,0),this.mEngObj=null,this.mCurAnimState=r.None,this.mRealPixelPos=new o(0,0),this.mGridPos=new o(0,0)}var i=t.prototype;return i.initObject=function(){},i.clearObjectData=function(){this.mTempID=Number.MAX_VALUE,this.mIsNeedDelete=!1,this.mObjName="",this.mCurPosition.set(0,0,0),this.mRealPixelPos.set(0,0),this.mGridPos.set(0,0),null!=this.mEngObj&&this.mEngObj.releaseEngineObj(),this.mEngObj=null},i.runFrame=function(t){null!=this.mEngObj&&this.mEngObj.updateFrame(t)},i.loadObjResource=function(t){return!1},i._onObjResourceLoadFinish=function(){},i.getRealUserID=function(){return 0},i.getInPartyTempID=function(){return 0},i.getRealPixelPos=function(){return this.mRealPixelPos},i.getGridPos=function(){return this.mGridPos},i.setGridPosImmediate=function(t){this.mGridPos.set(t),this.mRealPixelPos.set(c.gridCenterToPixelPos(this.mGridPos)),this.Position=new s(this.mRealPixelPos.x,this.mRealPixelPos.y,0)},i.setPixelPosImmediate=function(t){this.mRealPixelPos.set(t),this.mGridPos.set(c.pixelPosToGridPos(t)),this.Position=new s(this.mRealPixelPos.x,this.mRealPixelPos.y,0)},i.updateGridPosition=function(t){return this.mGridPos.equals(t)||(this.mGridPos.set(t),this.mRealPixelPos.set(c.gridCenterToPixelPos(this.mGridPos))),!1},i.isLoadObjResFinish=function(){return null!=this.mEngObj&&this.mEngObj.CurLoadState===m.LoadFinish},i.setObjActive=function(t){null!=this.mEngObj&&this.mEngObj.setVisible(t)},i.isObjActive=function(){if(null!=this.mEngObj)return this.mEngObj.isVisible()},i.playAnim=function(t,e){void 0===e&&(e=1),this.mCurAnimState=t,null!=this.mEngObj&&this.mEngObj.playAnimation(t,e)},i.setParent=function(t){null!=this.mEngObj&&this.mEngObj.SetParentObj(t)},i.setParentKeepWorldTransform=function(){},i.setObjLayer=function(){},i.setObjScale=function(t){null!=this.mEngObj&&(this.mEngObj.ObjScale=new s(t,t,t))},i.getRadarInfoID=function(){return 0},i.isDisableRadarInfo=function(){return!1},i.isPlayerSelf=function(){return this.mObjectType===h.MainRoleActor},i.isCharacter=function(){return this.mObjectType===h.MainRoleActor||this.mObjectType===h.RoleActor||this.mObjectType===h.NpcActor},e(t,[{key:"ObjectType",get:function(){return this.mObjectType}},{key:"TempID",get:function(){return this.mTempID},set:function(t){this.mTempID=t}},{key:"Name",get:function(){return this.mObjName},set:function(t){this.mObjName=t}},{key:"NeedDelete",get:function(){return this.mIsNeedDelete},set:function(t){this.mIsNeedDelete=t}},{key:"EngineObj",get:function(){return this.mEngObj},set:function(t){this.mEngObj=t}},{key:"Position",get:function(){return this.mCurPosition},set:function(t){this.mCurPosition.set(t),null!=this.mEngObj&&(this.mEngObj.ObjPos=this.mCurPosition)}},{key:"Dir",get:function(){return this.mObjDir},set:function(t){this.mObjDir!==t&&(this.mObjDir=t,this.mObjDir===u.Right||this.mObjDir===u.UpRight||this.mObjDir===u.BottomRight?null!=this.mEngObj&&this.mEngObj.setFaceLookRight():this.mObjDir!==u.Left&&this.mObjDir!==u.UpLeft&&this.mObjDir!==u.BottomLeft||null!=this.mEngObj&&this.mEngObj.setFaceLookLeft(),this.playAnim(this.mCurAnimState))}}]),t}())||a);i._RF.pop()}}}));

System.register("chunks:///_virtual/object.character.ts",["./rollupPluginModLoBabelHelpers.js","cc","./object.dynamic.ts","./engine.avatar.ts","./enum.engine.ts","./net.protocol.define.ts","./move.client.protocol.ts"],(function(e){"use strict";var t,n,i,a,r,o,s,c,m,u,h;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,i=e._decorator,a=e.game,r=e.error,o=e.Vec2},function(e){s=e.DynamicObject},function(e){c=e.EngineAvatar},function(e){m=e.EEngineObjLoadState},function(e){u=e.NetProtocolDefine},function(e){h=e.USER_MOVE_MOVE_CLIENT}],execute:function(){var l;n._RF.push({},"52f2bSYrTxIB4xC00Ua0ZGJ","object.character",void 0);var d=i.ccclass;e("CharacterObject",d("CharacterObject")(l=function(e){function n(){for(var t,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(t=e.call.apply(e,[this].concat(i))||this).mEngineAvatar=null,t.mIsDead=!1,t.mRoleId=0,t.mSendWalkTimes=0,t.mReceiveWalkTimes=0,t.mToDealCmdQueue=new Array,t.mLastUpdateInScreenTimePos=0,t}t(n,e);var i=n.prototype;return i.initObject=function(){var t=this;e.prototype.initObject.call(this),this.mIsDead=!1,this.mEngineAvatar=new c,this.mEngineAvatar.LogicObject=this,this.mEngineAvatar.LoadFinishCallback=function(){t._onObjResourceLoadFinish()},this.mEngObj=this.mEngineAvatar},i.runFrame=function(t){e.prototype.runFrame.call(this,t),this._updateVisibleInScreen(),this.mEngineAvatar.updateFrame(t),this._LoopDealCommand()},i._updateVisibleInScreen=function(){a.totalTime-this.mLastUpdateInScreenTimePos>500&&(this.mLastUpdateInScreenTimePos=a.totalTime)},i.loadObjResource=function(e){return null===this.mEngObj?(r("no engine object, big bug!"),!1):this.mEngObj.CurLoadState===m.LoadFinish||(this.mEngObj.CurLoadState===m.None&&this.mEngineAvatar.loadEngineObj(e),!1)},i._onObjResourceLoadFinish=function(){e.prototype._onObjResourceLoadFinish.call(this),null!=this.mEngineAvatar&&this.mEngineAvatar.setHpVisible(!1)},i.clearObjectData=function(){e.prototype.clearObjectData.call(this),this.mSendWalkTimes=0,this.mReceiveWalkTimes=0,this.mToDealCmdQueue=[]},i.updatePosition=function(){},i.showChitChat=function(e){null!==this.mEngineAvatar&&this.mEngineAvatar.showChitChat(this.Name,e)},i.pushCommand=function(e){return!!this._handleCommand(e)||null!=e&&(this.mToDealCmdQueue.push(e),!0)},i.clearCmdQueue=function(){this.mToDealCmdQueue=[],this.mReceiveWalkTimes=this.mSendWalkTimes},i.hasCommand=function(e,t){for(var n=0;n<this.mToDealCmdQueue.length;n+=1){var i=this.mToDealCmdQueue[n];if(i.gsCmd===e&&i.gsParam===t)return!0}return!1},i._handleCommand=function(e){if(null==e)return!1;var t=!0;switch(e.gsCmd){case u.MAGIC_CLIENT_CMD:t=this._handleMagicCmd(e);break;case u.MAP_CLIENT_CMD:t=this._handleMapScreenCmd(e);break;case u.MOVE_CLIENT_CMD:t=this._handleMoveCmd(e);break;case u.DATA_CLIENT_CMD:t=this._handleDataCmd(e);break;case u.ITEM_CLIENT_CMD:t=this._handlePropertyCmd(e)}return t},i._handleMagicCmd=function(e){return!0},i._handleMapScreenCmd=function(e){return!0},i._handleMoveCmd=function(e){switch(e.gsParam){case h:var t=e;if(!this._onLoopMove(t))return!1;this.mReceiveWalkTimes+=1}return!0},i._handleDataCmd=function(e){return!0},i._handlePropertyCmd=function(e){return!0},i._LoopDealCommand=function(){if(this._isCommandEmpty())return!1;for(;;){var e=this.mToDealCmdQueue[0];if(!1===this._handleCommand(e))break;this.mToDealCmdQueue.shift()}},i._isCommandEmpty=function(){return 0===this.mToDealCmdQueue.length},i._onLoopMove=function(e){if(this.mSendWalkTimes>this.mReceiveWalkTimes+1)return!0;if(this.mIsDead)return!0;var t=this.getGridPos();return e.targetGridX===t.x&&e.targetGridY===t.y||this.syncServerPos(e.tarDir,new o(e.targetGridX,e.targetGridY)),!0},n}(s))||l);n._RF.pop()}}}));

System.register("chunks:///_virtual/object.dynamic.ts",["./rollupPluginModLoBabelHelpers.js","cc","./object.base.ts","./enum.anim.state.ts","./enum.object.dir.ts","./path.finder.manager.ts"],(function(e){"use strict";var t,r,i,s,o,n,a,m,h,u;return{setters:[function(e){t=e.inheritsLoose,r=e.createClass},function(e){i=e.cclegacy,s=e._decorator,o=e.Vec2,n=e.Vec3},function(e){a=e.ObjectBase},function(e){m=e.EAnimState},function(e){h=e.EObjectDir},function(e){u=e.PathFinderManager}],execute:function(){var v;i._RF.push({},"b7669VDf0JKv7/4YlpZqIMY","object.dynamic",void 0);var c=s.ccclass;e("DynamicObject",c("DynamicObject")(v=function(e){function i(){for(var t,r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return(t=e.call.apply(e,[this].concat(i))||this).mHorSpeed=42,t.mVerSpeed=42,t.mOtherHorSpeed=42,t.mOtherVerSpeed=42,t.mRealMoveSpeed=7,t.mIsMoving=!1,t.mCurTargetPos=new n(0,0,0),t.mIsReachTargetPos=!1,t.mMoveDir=h.Bottom,t.mNormalizeDir=new o(61,35),t.mCurMoveSpeedX=0,t.mCurMoveSpeedY=0,t.mServerCurGridPos=new o(0,0),t.mServerCurPixelPos=new o(0,0),t.mCurMoveAnim=m.Walk,t}t(i,e);var s=i.prototype;return s.runFrame=function(t){e.prototype.runFrame.call(this,t),this._UpdateMoving(t)},s.moveToTargetDir=function(e){this.mMoveDir=e,this._onStartMove()},s.stopMove=function(){this._onStopMove()},s._onStartMove=function(){this.IsMoving||(this.mIsMoving=!0,this.playAnim(this.mCurMoveAnim))},s._onStopMove=function(){this.mIsMoving=!1,this.playAnim(m.Idle)},s._onReachTargetPos=function(){},s.syncServerPos=function(e,t){this.mServerCurGridPos.equals(t)||(this.mMoveDir=e,this.Dir=e,this.mServerCurGridPos.set(t),this.mServerCurPixelPos.set(u.gridCenterToPixelPos(this.mServerCurGridPos)),this._calMoveData(!0),this._onStartMove())},s.moveToTargetGrid=function(e,t){this.mServerCurGridPos.equals(t)||(this.mMoveDir=e,this.mServerCurGridPos.set(t),this.mServerCurPixelPos.set(u.gridCenterToPixelPos(this.mServerCurGridPos)),this._calMoveData(!1),this._onStartMove())},s.isMovedInTargetGrid=function(){return!this.mIsMoving||!!this.mGridPos.equals(this.mServerCurGridPos)},s._calMoveData=function(e){var t=this.mHorSpeed,r=this.mVerSpeed;e&&(t=this.mOtherHorSpeed,r=this.mOtherVerSpeed);var i=this.mServerCurPixelPos.x-this.mRealPixelPos.x,s=this.mServerCurPixelPos.y-this.mRealPixelPos.y,o=Math.abs(i)/t,n=Math.abs(s)/r,a=Math.max(o,n);this.mCurMoveSpeedX=i/a,this.mCurMoveSpeedY=s/a},s._UpdateMoving=function(e){if(this.mIsMoving){var t=this.mRealPixelPos.x,r=this.mRealPixelPos.y;t+=this.mCurMoveSpeedX*e,r+=this.mCurMoveSpeedY*e;var i=!1;if(Math.abs(this.mCurMoveSpeedX)>=Math.abs(this.mCurMoveSpeedY)?(this.mCurMoveSpeedX>=0&&t-this.mServerCurPixelPos.x>-.001||this.mCurMoveSpeedX<0&&t-this.mServerCurPixelPos.x<.001)&&(i=!0):(this.mCurMoveSpeedY>=0&&r-this.mServerCurPixelPos.y>-.001||this.mCurMoveSpeedY<0&&r-this.mServerCurPixelPos.y<.001)&&(i=!0),i)return this.mServerCurPixelPos.set(this.mRealPixelPos),this.mServerCurGridPos.set(this.mGridPos),void this.stopMove();this.setPixelPosImmediate(new o(t,r))}},r(i,[{key:"RealMoveSpeed",get:function(){return this.mRealMoveSpeed},set:function(e){this.mRealMoveSpeed=e}},{key:"IsMoving",get:function(){return this.mIsMoving}}]),i}(a))||v);i._RF.pop()}}}));

System.register("chunks:///_virtual/object.farm.air.drop.ts",["./rollupPluginModLoBabelHelpers.js","cc","./object.farm.item.ts","./farm.board.item.manager.ts","./farm.board.item.utility.ts","./net.helper.ts","./event.dispatcher.ts","./event.name.ts","./sound.helper.ts"],(function(i){"use strict";var t,e,n,r,o,s,a,m,c,p,h,l;return{setters:[function(i){t=i.inheritsLoose,e=i.createClass},function(i){n=i.cclegacy,r=i._decorator,o=i.randomRangeInt},function(i){s=i.ObjectFarmItem},function(i){a=i.FarmBoardItemManager},function(i){m=i.FarmBoardItemUtility},function(i){c=i.NetHelper},function(i){p=i.EventDispatcher},function(i){h=i.EventName},function(i){l=i.SoundHelper}],execute:function(){var u;n._RF.push({},"a38dfw216dFS7iqZaJLemzl","object.farm.air.drop",void 0);var d=r.ccclass;i("ObjectFarmAirDrop",d("ObjectFarmAirDrop")(u=function(i){function n(){for(var t,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(t=i.call.apply(i,[this].concat(n))||this).mAirDropSpine=null,t.mNeedDelayHitAnim=!1,t.mTickHitTime=0,t.mHitTimes=3,t.mIsPlayDieAnim=!1,t}t(n,i);var r=n.prototype;return r.isNormal=function(){return!this.mIsPlayDieAnim},r.runFrame=function(t){i.prototype.runFrame.call(this,t),this._updateHitAnim(t)},r.initData=function(t){i.prototype.initData.call(this,t),this.mHitTimes=o(2,6),this.mIsPlayDieAnim=!1},r._onObjResourceLoadFinish=function(){i.prototype._onObjResourceLoadFinish.call(this),this.mAirDropSpine=this.mEngineFarmObject.getUsedSpine(),null!==this.mAirDropSpine&&this.mAirDropSpine.setCompleteListener(this._onAnimCompleteListener.bind(this))},r._onAnimCompleteListener=function(i){i.loop||null!==this.mAirDropSpine&&("die"!==i.animation.name?(this.mAirDropSpine.loop=!0,this.mAirDropSpine.animation="idle"):p.emit(h.FARM_REMOVE_OBJECT_BY_TEMPID,this.TempID))},r._updateHitAnim=function(i){this.mNeedDelayHitAnim&&(this.mTickHitTime+=i,this.mTickHitTime>.3&&(this.playHitAnim(),this.mNeedDelayHitAnim=!1))},r.beHit=function(){this.mHitTimes<=0||(this.mHitTimes-=1,this.mHitTimes<=0?this.requestDieAnim():this.playHitAnim())},r.Interactive=function(){this.mNeedDelayHitAnim=!0,this.mTickHitTime=0},r.takeOver=function(){this.requestDieAnim()},r.playHitAnim=function(){this.mIsPlayDieAnim||(this.mAirDropSpine.loop=!1,this.mAirDropSpine.animation="hit",l.PlaySound_GetAirDrop())},r.requestDieAnim=function(){this.mIsPlayDieAnim||(this.mIsPlayDieAnim=!0,c.farmPlantHarvest(-this.TempID))},r.playDieAnim=function(i){this.mAirDropSpine.loop=!1,this.mAirDropSpine.animation="die",this.mEngineFarmObject&&this.mEngineFarmObject.showAirDropAnim(i),l.PlaySound_GetAirDrop()},r.exitNormalMode=function(){this.setObjActive(!1),a.instance.deleteItem(this)},r.enterNormalMode=function(){var i=a.instance.getGrid(this.BoardPos.boardX,this.BoardPos.boardY);if(!i||!i.isEmpty()){var t=a.instance.getRandomEmptyGrid();null!==t&&(this.BoardPos.boardX=t.gX,this.BoardPos.boardY=t.gY)}var e=this.BoardPos,n=this.BoardObjectSize,r=m.gridToObjStandWorldPos(e.boardX,e.boardY,n.objWidth,n.objHeight);this.setPixelPosImmediate(r),this.setObjActive(!0),a.instance.putItem(this)},e(n,[{key:"IsSelfCanDelete",get:function(){return!1}}]),n}(s))||u);n._RF.pop()}}}));

System.register("chunks:///_virtual/object.farm.base.ts",["./rollupPluginModLoBabelHelpers.js","cc","./object.base.ts","./table.helper.ts","./enum.farm.object.type.ts","./enum.farm.object.operate.state.ts","./enum.object.type.ts","./farm.board.object.size.ts","./net.helper.ts"],(function(t){"use strict";var e,r,i,a,s,o,n,g,m,h,d,c,u,l,R;return{setters:[function(t){e=t.inheritsLoose,r=t.createClass},function(t){i=t.cclegacy,a=t._decorator,s=t.Vec3,o=t.Vec2,n=t.Rect,g=t.v3},function(t){m=t.ObjectBase},function(t){h=t.TableHelper},function(t){d=t.EFarmObjectType},function(t){c=t.EFarmObjectOperateState},function(t){u=t.EObjectType},function(t){l=t.FarmBoardObjectSize},function(t){R=t.NetHelper}],execute:function(){var f;i._RF.push({},"d45d8+YdhBGqYAtwvHJhAei","object.farm.base",void 0);var b=a.ccclass;t("ObjectFarmBase",b("ObjectFarmBase")(f=function(t){function i(){var e;return(e=t.call(this)||this).mFarmObjectType=d.None,e.mFarmResId=0,e.mFarmResRecord=null,e.mHangItemId=0,e.mServerType=0,e.mFarmBoardPos=null,e.mFarmBoardSize=new l,e.mIsDragging=!1,e.mDraggingOriginX=0,e.mDraggingOriginY=0,e.mDraggingRect=null,e.mDraggingGridCanUse=!1,e.mRightTopWorldPos=g(0,0),e.mObjectType=u.FarmRes,e}e(i,t);var a=i.prototype;return a.isObstacle=function(){return 1===this.mFarmResRecord.obstacle},a.isStandInPos=function(t,e){var r=this.BoardPos.boardX+this.BoardObjectSize.objWidth-1,i=this.BoardPos.boardY+this.BoardObjectSize.objHeight-1;return t>=this.BoardPos.boardX&&t<=r&&e>=this.BoardPos.boardY&&e<=i},a.initData=function(t){if(this.mFarmResId=t,this.mFarmResRecord=h.getFarmResRecord(t),this.mHangItemId=this.mFarmResRecord.itemId,this.mFarmObjectType=this.mFarmResRecord.type,this.mFarmBoardSize.objWidth=this.mFarmResRecord.width,this.mFarmBoardSize.objHeight=this.mFarmResRecord.height,""!==this.mFarmResRecord.serverType){var e=this.mFarmResRecord.serverType.split("-");1===e.length?this.mServerType=Number(e[0]):2===e.length&&(this.mServerType=Number(e[1]))}this.loadObjResource(""+this.mFarmResRecord.resName)},a.setPixelPosImmediate=function(t){this.mRealPixelPos.set(t),this.Position=new s(this.mRealPixelPos.x,this.mRealPixelPos.y,0)},a.getGridPixelSize=function(){return o.ZERO},a.getRightTopWorldPos=function(){return o.ZERO},a.onAttachedToGrid=function(){},a.onDetachedFromGrid=function(){},a.setSelect=function(){},a.unsetSelect=function(){},a.getDraggingGridPos=function(){return this.mDraggingRect},a.isGridInDraggingRect=function(t,e){return null!==this.mDraggingRect&&(t>=this.mDraggingRect.xMin&&t<this.mDraggingRect.xMax&&e>=this.mDraggingRect.yMin&&e<this.mDraggingRect.yMax)},a.startDragging=function(){this.mIsDragging=!0,this.mDraggingRect=new n(this.mFarmBoardPos.boardX,this.mFarmBoardPos.boardY,this.mFarmBoardSize.objWidth,this.mFarmBoardSize.objHeight),this.recordDraggingOriginGrid(),this.deleteFromGrid(),this.setOperateState(!0),this.refreshDraggingShowState(),this.calculateRightTopWorldPos()},a.endDragging=function(){this.mIsDragging=!1,this.mDraggingGridCanUse&&(this.mFarmBoardPos.boardX=this.mDraggingRect.x,this.mFarmBoardPos.boardY=this.mDraggingRect.y);var t=this.getGridToPutWorldPos(this.mFarmBoardPos.boardX,this.mFarmBoardPos.boardY,this.mFarmBoardSize.objWidth,this.mFarmBoardSize.objHeight);this.setPixelPosImmediate(t),this.calculateRightTopWorldPos(),this.setOperateState(!1),this.refreshDraggingShowState(),this.putToGrid(),this.mDraggingRect=null},a.isDraggingNotChangePos=function(){return this.mFarmBoardPos.boardX===this.mDraggingRect.x&&this.mFarmBoardPos.boardY===this.mDraggingRect.y},a.updateDragging=function(t,e){var r=this.mDraggingOriginX+t,i=this.mDraggingOriginY+e;if(r!==this.mDraggingRect.x||i!==this.mDraggingRect.y){this.mDraggingRect.x=this.mDraggingOriginX+t,this.mDraggingRect.y=this.mDraggingOriginY+e;var a=this.getGridToPutWorldPos(this.mDraggingRect.x,this.mDraggingRect.y,this.mFarmBoardSize.objWidth,this.mFarmBoardSize.objHeight);this.setPixelPosImmediate(a),this.calculateRightTopWorldPos(),this.refreshDraggingShowState()}},a.changeGridImmediate=function(t,e){this.deleteFromGrid(),this.mFarmBoardPos.boardX=t,this.mFarmBoardPos.boardY=e;var r=this.getGridToPutWorldPos(this.mFarmBoardPos.boardX,this.mFarmBoardPos.boardY,this.mFarmBoardSize.objWidth,this.mFarmBoardSize.objHeight);this.setPixelPosImmediate(r),this.calculateRightTopWorldPos(),this.putToGrid()},a.recordDraggingOriginGrid=function(){this.mDraggingOriginX=this.mDraggingRect.x,this.mDraggingOriginY=this.mDraggingRect.y},a.refreshDraggingShowState=function(){this.mIsDragging?(this.mDraggingGridCanUse=this.isDraggingTargetEmpty(),this.mDraggingGridCanUse?this.refreshOperateShow(c.CanPut):this.refreshOperateShow(c.CanNotPut)):this.refreshOperateShow(c.None)},a.isDraggingTargetEmpty=function(){return!1},a.getGridToPutWorldPos=function(t,e,r,i){return o.ZERO},a.calculateRightTopWorldPos=function(){},a.setOperateState=function(t){},a.refreshOperateShow=function(t){},a.deleteFromGrid=function(){},a.putToGrid=function(){},a.sendRemoveCmd=function(){R.removeFarmObject(this.TempID)},a.sendAddCmd=function(){R.addFarmObject(this.TempID,this.mHangItemId,this.BoardPos.boardX,this.BoardPos.boardY)},a.sendChangePosCmd=function(){R.changeFarmObjectPos(this.TempID,this.BoardPos.boardX,this.BoardPos.boardY)},r(i,[{key:"FarmResId",get:function(){return this.mFarmResId}},{key:"FarmObjectType",get:function(){return this.mFarmObjectType}},{key:"UseLayer",get:function(){return this.mFarmResRecord.layer}},{key:"IsCanInteractive",get:function(){return 1===this.mFarmResRecord.interactive}},{key:"IsSelfCanDelete",get:function(){return!0}},{key:"RightTopWorldPos",get:function(){return this.mRightTopWorldPos}},{key:"BoardPos",get:function(){return this.mFarmBoardPos},set:function(t){this.mFarmBoardPos=t,this.calculateRightTopWorldPos()}},{key:"BoardObjectSize",get:function(){return this.mFarmBoardSize},set:function(t){this.mFarmBoardSize=t}},{key:"FarmGroundId",get:function(){return this.mFarmResRecord.groundId}},{key:"IsDraggingTargetGridCanUse",get:function(){return this.mDraggingGridCanUse}}]),i}(m))||f);i._RF.pop()}}}));

System.register("chunks:///_virtual/object.farm.grass.ts",["./rollupPluginModLoBabelHelpers.js","cc","./enum.engine.ts","./object.farm.base.ts","./engine.farm.grass.ts","./farm.board.item.manager.ts","./farm.board.item.utility.ts"],(function(t){"use strict";var r,n,i,e,a,s,o,m,c;return{setters:[function(t){r=t.inheritsLoose},function(t){n=t.cclegacy,i=t._decorator,e=t.error},function(t){a=t.EEngineObjLoadState},function(t){s=t.ObjectFarmBase},function(t){o=t.EngineFarmGrass},function(t){m=t.FarmBoardItemManager},function(t){c=t.FarmBoardItemUtility}],execute:function(){var d;n._RF.push({},"164c8e1SMBMkriiNMTsKZOM","object.farm.grass",void 0);var u=i.ccclass;t("ObjectFarmGrass",u("ObjectFarmGrass")(d=function(t){function n(){for(var r,n=arguments.length,i=new Array(n),e=0;e<n;e++)i[e]=arguments[e];return(r=t.call.apply(t,[this].concat(i))||this).mEngineFarmGrass=null,r}r(n,t);var i=n.prototype;return i.runFrame=function(r){t.prototype.runFrame.call(this,r),this.mEngineFarmGrass.updateFrame(r)},i.initObject=function(){var r=this;t.prototype.initObject.call(this),this.mEngineFarmGrass=new o,this.mEngineFarmGrass.LogicObject=this,this.mEngineFarmGrass.OwnerFarmObj=this,this.mEngineFarmGrass.LoadFinishCallback=function(){r._onObjResourceLoadFinish()},this.mEngObj=this.mEngineFarmGrass},i.loadObjResource=function(t){return null===this.mEngObj?(e("no engine object, big bug!"),!1):this.mEngObj.CurLoadState===a.LoadFinish||(this.mEngObj.CurLoadState===a.None&&this.mEngineFarmGrass.loadEngineObj(t),!1)},i.changeGridImmediate=function(t,r){this.deleteFromGrid(),this.mFarmBoardPos.boardX=t,this.mFarmBoardPos.boardY=r;var n=this.getGridToPutWorldPos(this.mFarmBoardPos.boardX,this.mFarmBoardPos.boardY,this.mFarmBoardSize.objWidth,this.mFarmBoardSize.objHeight);this.setPixelPosImmediate(n),this.calculateRightTopWorldPos(),this.putToGrid()},i.getGridToPutWorldPos=function(t,r,n,i){return c.gridToObjStandWorldPos(t,r,n,i)},i.deleteFromGrid=function(){m.instance.deleteGrass(this)},i.putToGrid=function(){m.instance.putGrass(this)},i.sendRemoveCmd=function(){},i.sendAddCmd=function(){},i.sendChangePosCmd=function(){},n}(s))||d);n._RF.pop()}}}));

System.register("chunks:///_virtual/object.farm.ground.ts",["./rollupPluginModLoBabelHelpers.js","cc","./object.farm.item.ts"],(function(t){"use strict";var e,r,n,i;return{setters:[function(t){e=t.inheritsLoose},function(t){r=t.cclegacy,n=t._decorator},function(t){i=t.ObjectFarmItem}],execute:function(){var c;r._RF.push({},"303eeCwOsdMOLhEB9qOZ5D2","object.farm.ground",void 0);var o=n.ccclass;t("ObjectFarmGround",o("ObjectFarmGround")(c=function(t){function r(){return t.apply(this,arguments)||this}e(r,t);var n=r.prototype;return n.initObject=function(){t.prototype.initObject.call(this),this.setObjActive(!1)},n.startDragging=function(){t.prototype.startDragging.call(this),this.setObjActive(!0)},n.endDragging=function(){t.prototype.endDragging.call(this),this.setObjActive(!1)},r}(i))||c);r._RF.pop()}}}));

System.register("chunks:///_virtual/object.farm.ip.show.ts",["./rollupPluginModLoBabelHelpers.js","cc","./object.farm.item.ts"],(function(o){"use strict";var t,e,r,c;return{setters:[function(o){t=o.inheritsLoose},function(o){e=o.cclegacy,r=o._decorator},function(o){c=o.ObjectFarmItem}],execute:function(){var n;e._RF.push({},"92ee0SX3eFGxoznsAqZd6N7","object.farm.ip.show",void 0);var s=r.ccclass;o("ObjectFarmIpShow",s("ObjectFarmIpShow")(n=function(o){function e(){for(var t,e=arguments.length,r=new Array(e),c=0;c<e;c++)r[c]=arguments[c];return(t=o.call.apply(o,[this].concat(r))||this).mDoorPathNode=null,t.mDoorGridPos=null,t}return t(e,o),e.prototype._onObjResourceLoadFinish=function(){o.prototype._onObjResourceLoadFinish.call(this)},e}(c))||n);e._RF.pop()}}}));

System.register("chunks:///_virtual/object.farm.item.add.ts",["./rollupPluginModLoBabelHelpers.js","cc","./object.farm.item.ts","./enum.farm.object.operate.state.ts","./model.farm.manager.ts","./table.helper.ts","./enum.farm.object.type.ts"],(function(e){"use strict";var t,i,r,a,n,s,o,c,m,h;return{setters:[function(e){t=e.inheritsLoose,i=e.createClass},function(e){r=e.cclegacy,a=e._decorator,n=e.Rect},function(e){s=e.ObjectFarmItem},function(e){o=e.EFarmObjectOperateState},function(e){c=e.ModelFarmManager},function(e){m=e.TableHelper},function(e){h=e.EFarmObjectType}],execute:function(){var g;r._RF.push({},"cfbefJqMg1E6b1Oart+SbnA","object.farm.item.add",void 0);var d=a.ccclass;e("ObjectFarmItemAdd",d("ObjectFarmItemAdd")(g=function(e){function r(){for(var t,i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).mIsCanAdd=!1,t.mIsSelected=!1,t.mCurSkinID=0,t}t(r,e);var a=r.prototype;return a.initObject=function(){e.prototype.initObject.call(this),this.mCurSkinID=c.instance.CurBuildingSkinID},a._onObjResourceLoadFinish=function(){e.prototype._onObjResourceLoadFinish.call(this),this._loadFarmSkin(),this.setOperateState(!0),this.refreshDraggingShowState()},a._loadFarmSkin=function(){if(!(this.mCurSkinID<=0)){var e=m.getFarmSkin(this.mCurSkinID);if(e){var t="";switch(this.FarmObjectType){case h.FoodRoom:t=e.building1ResName;break;case h.WoodRoom:t=e.building2ResName;break;case h.StoneRoom:t=e.building3ResName;break;case h.TabeTower:t=e.statueResName}""!==t&&this.mEngineFarmObject&&this.mEngineFarmObject.changeSkinName(t)}}},a.refreshDraggingShowState=function(){this.mDraggingGridCanUse=this.isDraggingTargetEmpty(),this.mDraggingGridCanUse?this.refreshOperateShow(o.CanPut):this.refreshOperateShow(o.CanNotPut)},a.setSelected=function(){this.mIsSelected=!0,null==this.mDraggingRect&&(this.mDraggingRect=new n(this.mFarmBoardPos.boardX,this.mFarmBoardPos.boardY,this.mFarmBoardSize.objWidth,this.mFarmBoardSize.objHeight)),this.recordDraggingOriginGrid(),this.refreshDraggingShowState()},a.cancelSelected=function(){this.mIsSelected=!1},a.moveToNextPos=function(){this.mDraggingRect.x+=this.mDraggingRect.width;var e=this.getGridToPutWorldPos(this.mDraggingRect.x,this.mDraggingRect.y,this.mFarmBoardSize.objWidth,this.mFarmBoardSize.objHeight);return this.setPixelPosImmediate(e),this.refreshDraggingShowState(),!0},i(r,[{key:"isSelected",get:function(){return this.mIsSelected}}]),r}(s))||g);r._RF.pop()}}}));

System.register("chunks:///_virtual/object.farm.item.ts",["./rollupPluginModLoBabelHelpers.js","cc","./enum.engine.ts","./engine.farm.item.ts","./object.farm.base.ts","./path.finder.manager.ts","./farm.board.item.manager.ts","./farm.board.pos.ts","./farm.board.item.utility.ts"],(function(t){"use strict";var e,i,n,r,o,a,s,c,m,h,u,l,d;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass},function(t){n=t.cclegacy,r=t._decorator,o=t.error,a=t.v2},function(t){s=t.EEngineObjLoadState},function(t){c=t.EngineFarmItem},function(t){m=t.ObjectFarmBase},function(t){h=t.PathFinderManager},function(t){u=t.FarmBoardItemManager},function(t){l=t.FarmBoardPos},function(t){d=t.FarmBoardItemUtility}],execute:function(){var g;n._RF.push({},"b7ee7cvyF9KqojhH+RCi2Ba","object.farm.item",void 0);var b=r.ccclass;t("ObjectFarmItem",b("ObjectFarmItem")(g=function(t){function n(){for(var e,i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))||this).mEngineFarmObject=null,e.mWorkGridList=[],e.mIsInUse=!1,e}e(n,t);var r=n.prototype;return r.getWorkPosList=function(){return this.mWorkGridList},r.runFrame=function(e){t.prototype.runFrame.call(this,e),this.mEngineFarmObject.updateFrame(e)},r.initObject=function(){var e=this;t.prototype.initObject.call(this),this.mEngineFarmObject=new c,this.mEngineFarmObject.LogicObject=this,this.mEngineFarmObject.OwnerFarmObj=this,this.mEngineFarmObject.LoadFinishCallback=function(){e._onObjResourceLoadFinish()},this.mEngObj=this.mEngineFarmObject},r.loadObjResource=function(t){return null===this.mEngObj?(o("no engine object, big bug!"),!1):this.mEngObj.CurLoadState===s.LoadFinish||(this.mEngObj.CurLoadState===s.None&&this.mEngineFarmObject.loadEngineObj(t),!1)},r.isDraggingTargetEmpty=function(){return u.instance.isCanPutDownObj(this,this.mDraggingRect)},r.setOperateState=function(t){this.mEngineFarmObject.setIsOperating(t)},r.refreshOperateShow=function(t){this.mEngineFarmObject.setOperateState(t)},r.getGridToPutWorldPos=function(t,e,i,n){return d.gridToObjStandWorldPos(t,e,i,n)},r.calculateRightTopWorldPos=function(){null!==this.mDraggingRect?(this.mRightTopWorldPos.x=-this.mDraggingRect.x*d.FARM_ITEM_GRID_WIDTH,this.mRightTopWorldPos.y=-this.mDraggingRect.y*d.FARM_ITEM_GRID_HEIGHT):(this.mRightTopWorldPos.x=-this.mFarmBoardPos.boardX*d.FARM_ITEM_GRID_WIDTH,this.mRightTopWorldPos.y=-this.mFarmBoardPos.boardY*d.FARM_ITEM_GRID_HEIGHT)},r.getGridPixelSize=function(){var t=a(0,0);return t.x=this.mFarmBoardSize.objWidth*d.FARM_ITEM_GRID_WIDTH,t.y=this.mFarmBoardSize.objHeight*d.FARM_ITEM_GRID_HEIGHT,t},r.deleteFromGrid=function(){u.instance.deleteItem(this)},r.putToGrid=function(){u.instance.putItem(this)},r.setSelect=function(){this.IsCanInteractive&&null!=this.mEngineFarmObject&&this.mEngineFarmObject.setSelectState()},r.unsetSelect=function(){this.IsCanInteractive&&null!=this.mEngineFarmObject&&this.mEngineFarmObject.unsetSelectState()},r.calculateWorkGrid=function(){this.mWorkGridList=[];for(var t=this.mFarmBoardPos.boardX-1,e=this.mFarmBoardPos.boardX+this.mFarmBoardSize.objWidth,i=0;i<this.mFarmBoardSize.objHeight;i+=1){var n=this.mFarmBoardPos.boardY+i;this.mWorkGridList.push(new l(e,n)),this.mWorkGridList.push(new l(t,n))}},r.clearWorkGrid=function(){this.mWorkGridList=[]},r.onAttachedToGrid=function(){t.prototype.onAttachedToGrid.call(this),this.calculateWorkGrid()},r.onDetachedFromGrid=function(){t.prototype.onDetachedFromGrid.call(this),this.clearWorkGrid()},r.beHit=function(){},r.Interactive=function(){},r.drop=function(){},r.takeOver=function(){},r.getTarFarmObjPos=function(t){if(null==t)return null;var e=this.getWorkPosList();if(e.length<=0)return null;for(var i=[],n=0;n<e.length;n++)i.push(a(e[n].boardX,e[n].boardY));i.sort((function(e,i){return Math.abs(e.x-t.x)-Math.abs(i.x-t.x)}));for(var r=null,o=0;o<i.length;o++)if(h.instance.isPathAvailable(t,i[o])){r=i[o];break}return null==r&&(r=i[0]),r},i(n,[{key:"IsInUse",get:function(){return this.mIsInUse},set:function(t){this.mIsInUse=t}}]),n}(m))||g);n._RF.pop()}}}));

System.register("chunks:///_virtual/object.farm.level.tip.ts",["./rollupPluginModLoBabelHelpers.js","cc","./object.base.ts","./enum.object.type.ts","./engine.farm.level.tip.ts","./enum.engine.ts","./farm.board.terrain.utility.ts"],(function(e){"use strict";var t,i,n,o,r,s,a,c,l,u;return{setters:[function(e){t=e.inheritsLoose},function(e){i=e.cclegacy,n=e._decorator,o=e.error,r=e.Vec3},function(e){s=e.ObjectBase},function(e){a=e.EObjectType},function(e){c=e.EngineFarmLevelTip},function(e){l=e.EEngineObjLoadState},function(e){u=e.FarmBoardTerrainUtility}],execute:function(){var m;i._RF.push({},"232501nI29PBI5CMcoTtUxL","object.farm.level.tip",void 0);var b=n.ccclass;e("ObjectFarmLevelTip",b("ObjectFarmLevelTip")(m=function(e){function i(){var t;return(t=e.call(this)||this).mFarmBoardPos=null,t.mEngineFarmLevelTip=null,t.mObjectType=a.FarmRes,t}t(i,e);var n=i.prototype;return n.initData=function(){this.loadObjResource("")},n.initObject=function(){var t=this;e.prototype.initObject.call(this),this.mEngineFarmLevelTip=new c,this.mEngineFarmLevelTip.LogicObject=this,this.mEngineFarmLevelTip.LoadFinishCallback=function(){t._onObjResourceLoadFinish()},this.mEngObj=this.mEngineFarmLevelTip},n.loadObjResource=function(e){return null===this.mEngObj?(o("no engine object, big bug!"),!1):this.mEngObj.CurLoadState===l.LoadFinish||(this.mEngObj.CurLoadState===l.None&&this.mEngineFarmLevelTip.loadEngineObj(e),!1)},n.setMaxTerrainUseGrid=function(e,t){var i=u.gridToWorldCenterPos(e,t);this.setPixelPosImmediate(i)},n.setPixelPosImmediate=function(e){this.mRealPixelPos.set(e),this.Position=new r(this.mRealPixelPos.x,this.mRealPixelPos.y,0)},i}(s))||m);i._RF.pop()}}}));

System.register("chunks:///_virtual/object.farm.produce.food.ts",["./rollupPluginModLoBabelHelpers.js","cc","./object.farm.item.ts","./farm.define.ts"],(function(t){"use strict";var e,i,n,o,r,a,c;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass},function(t){n=t.cclegacy,o=t._decorator,r=t.math},function(t){a=t.ObjectFarmItem},function(t){c=t.EFarmFoodProduceState}],execute:function(){var s;n._RF.push({},"8e8b4VWP1tNz6+cGyg915lI","object.farm.produce.food",void 0);var m=o.ccclass;t("ObjectFarmProduceFood",m("ObjectFarmProduceFood")(s=function(t){function n(){for(var e,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))||this).mFoodSpine=null,e.mCurState=c.Stage3,e.mRecoverTime=0,e.mIsProducing=!1,e.mProducingTime=0,e}e(n,t);var o=n.prototype;return o.randomState=function(){this.mCurState=r.randomRangeInt(c.None,c.Max);var t=r.randomRangeInt(0,2);this.mIsProducing=1===t,this.mProducingTime=r.randomRangeInt(0,5)},o.runFrame=function(e){t.prototype.runFrame.call(this,e),this._updateRecover(e),this._updateProducing(e)},o._onObjResourceLoadFinish=function(){t.prototype._onObjResourceLoadFinish.call(this),this.mFoodSpine=this.mEngineFarmObject.getUsedSpine(),this.randomState(),this.refreshState()},o.onAttachedToGrid=function(){t.prototype.onAttachedToGrid.call(this)},o.onDetachedFromGrid=function(){t.prototype.onDetachedFromGrid.call(this)},o.changeState=function(t){this.mCurState=t,this.mCurState!==c.CanGet&&this._startProducing(),this.refreshState()},o.beHit=function(){},o.Interactive=function(){if(this.mCurState!==c.CanGet){var t=this.mCurState+1;this.changeState(t)}},o.takeOver=function(){this.changeState(c.None)},o._updateRecover=function(t){this.mCurState===c.None&&(this.mRecoverTime+=t,this.mRecoverTime>10&&(this.changeState(c.Empty),this.mRecoverTime=0))},o._updateProducing=function(t){this.mIsProducing&&(this.mProducingTime+=t,this.mProducingTime>5&&(this.mIsProducing=!1,this.mProducingTime=0))},o._startProducing=function(){this.mProducingTime=0,this.mIsProducing=!0},o.isInState=function(t){return this.mCurState===t},o.refreshState=function(){if(null!==this.mFoodSpine)switch(this.mFoodSpine.loop=!0,this.mCurState){case c.None:case c.Empty:this.mFoodSpine.animation="cycle1";break;case c.Stage2:this.mFoodSpine.animation="cycle2";break;case c.Stage3:this.mFoodSpine.animation="cycle3";break;case c.Stage4:this.mFoodSpine.animation="cycle4";break;case c.Stage5:this.mFoodSpine.animation="cycle5";break;case c.CanGet:this.mFoodSpine.animation="cycle6"}},i(n,[{key:"IsInProducing",get:function(){return this.mIsProducing}}]),n}(a))||s);n._RF.pop()}}}));

System.register("chunks:///_virtual/object.farm.produce.stone.ts",["./rollupPluginModLoBabelHelpers.js","cc","./object.farm.item.ts","./farm.define.ts"],(function(t){"use strict";var e,n,i,o,r;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,i=t._decorator},function(t){o=t.ObjectFarmItem},function(t){r=t.EFarmStoneProduceState}],execute:function(){var a;n._RF.push({},"88a1dTqdi5IuYj3gEhNAK0s","object.farm.produce.stone",void 0);var s=i.ccclass;t("ObjectFarmProduceStone",s("ObjectFarmProduceStone")(a=function(t){function n(){for(var e,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))||this).mStoneSpine=null,e.mCurState=r.Normal,e.mRecoverTime=0,e}e(n,t);var i=n.prototype;return i.runFrame=function(e){t.prototype.runFrame.call(this,e),this._updateRecover(e)},i._onObjResourceLoadFinish=function(){t.prototype._onObjResourceLoadFinish.call(this),this.mStoneSpine=this.mEngineFarmObject.getUsedSpine(),null!==this.mStoneSpine&&this.mStoneSpine.setCompleteListener(this._onAnimCompleteListener.bind(this)),this.refreshState()},i.onAttachedToGrid=function(){t.prototype.onAttachedToGrid.call(this)},i.onDetachedFromGrid=function(){t.prototype.onDetachedFromGrid.call(this)},i.changeState=function(t){this.mCurState=t,this.refreshState()},i.beHit=function(){},i.drop=function(){this.changeState(r.CanGet)},i.takeOver=function(){this.changeState(r.Empty)},i._updateRecover=function(t){this.mCurState===r.Empty&&(this.mRecoverTime+=t,this.mRecoverTime>3&&(this.changeState(r.Normal),this.mRecoverTime=0))},i.refreshState=function(){if(null!==this.mStoneSpine)switch(this.mCurState){case r.Normal:this.mStoneSpine.loop=!0,this.mStoneSpine.animation="idle";break;case r.Empty:this.mStoneSpine.loop=!0,this.mStoneSpine.animation="idle2";break;case r.CanGet:this.mStoneSpine.loop=!0,this.mStoneSpine.animation="drop"}},i.isNormal=function(){return this.mCurState===r.Normal},i._onAnimCompleteListener=function(t){t.loop||null!==this.mStoneSpine&&(this.mStoneSpine.loop=!0,this.mStoneSpine.animation="idle")},n}(o))||a);n._RF.pop()}}}));

System.register("chunks:///_virtual/object.farm.produce.wood.ts",["./rollupPluginModLoBabelHelpers.js","cc","./object.farm.item.ts","./farm.define.ts"],(function(t){"use strict";var i,e,o,n,r;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy,o=t._decorator},function(t){n=t.ObjectFarmItem},function(t){r=t.EFarmWoodProduceState}],execute:function(){var m;e._RF.push({},"ea5810vMq9O0bRjLt5c28IH","object.farm.produce.wood",void 0);var a=o.ccclass;t("ObjectFarmProduceWood",a("ObjectFarmProduceWood")(m=function(t){function e(){for(var i,e=arguments.length,o=new Array(e),n=0;n<e;n++)o[n]=arguments[n];return(i=t.call.apply(t,[this].concat(o))||this).mWoodSpine=null,i.mCurState=r.Normal,i.mNeedHitAnim=!1,i.mTickHitTime=0,i.mRecoverTime=0,i}i(e,t);var o=e.prototype;return o.runFrame=function(i){t.prototype.runFrame.call(this,i),this._updateHitAnim(i),this._updateRecover(i)},o._onObjResourceLoadFinish=function(){t.prototype._onObjResourceLoadFinish.call(this),this.mWoodSpine=this.mEngineFarmObject.getUsedSpine(),null!==this.mWoodSpine&&this.mWoodSpine.setCompleteListener(this._onAnimCompleteListener.bind(this)),this.refreshState()},o.onAttachedToGrid=function(){t.prototype.onAttachedToGrid.call(this)},o.onDetachedFromGrid=function(){t.prototype.onDetachedFromGrid.call(this)},o.changeState=function(t){this.mCurState=t,this.refreshState()},o.beHit=function(){this.mNeedHitAnim=!0},o.drop=function(){this.changeState(r.CanGet)},o.takeOver=function(){this.changeState(r.Empty)},o.playHitAnim=function(){this.mNeedHitAnim=!1,this.mTickHitTime=0,this.mWoodSpine&&this.isNormal()&&(this.mWoodSpine.loop=!1,this.mWoodSpine.animation="hurt")},o._updateHitAnim=function(t){this.mNeedHitAnim&&(this.mTickHitTime+=t,this.mTickHitTime>.3&&this.playHitAnim())},o._updateRecover=function(t){this.mCurState===r.Empty&&(this.mRecoverTime+=t,this.mRecoverTime>3&&(this.changeState(r.Normal),this.mRecoverTime=0))},o.refreshState=function(){if(null!==this.mWoodSpine)switch(this.mCurState){case r.Normal:this.mWoodSpine.loop=!0,this.mWoodSpine.animation="idle";break;case r.Empty:this.mWoodSpine.loop=!0,this.mWoodSpine.animation="idle2";break;case r.CanGet:this.mWoodSpine.loop=!0,this.mWoodSpine.animation="drop"}},o.isNormal=function(){return this.mCurState===r.Normal},o._onAnimCompleteListener=function(t){t.loop||null!==this.mWoodSpine&&(this.mWoodSpine.loop=!0,this.mWoodSpine.animation="idle")},e}(n))||m);e._RF.pop()}}}));

System.register("chunks:///_virtual/object.farm.room.food.ts",["./rollupPluginModLoBabelHelpers.js","cc","./object.farm.item.ts","./path.finder.manager.ts","./farm.board.pos.ts","./model.farm.manager.ts","./enum.farm.coin.res.ts","./table.helper.ts","./model.charge.manager.ts","./model.charge.define.ts"],(function(e){"use strict";var t,o,i,n,r,a,s,h,m,c,d,l;return{setters:[function(e){t=e.inheritsLoose,o=e.createClass},function(e){i=e.cclegacy,n=e._decorator},function(e){r=e.ObjectFarmItem},function(e){a=e.PathFinderManager},function(e){s=e.FarmBoardPos},function(e){h=e.ModelFarmManager},function(e){m=e.EFarmCoinRes},function(e){c=e.TableHelper},function(e){d=e.ModelChargeManager},function(e){l=e.EMonthlyCardType}],execute:function(){var u;i._RF.push({},"645820p5V5DuoIwymsgXGsX","object.farm.room.food",void 0);var f=n.ccclass;e("ObjectFarmRoomFood",f("ObjectFarmRoomFood")(u=function(e){function i(){for(var t,o=arguments.length,i=new Array(o),n=0;n<o;n++)i[n]=arguments[n];return(t=e.call.apply(e,[this].concat(i))||this).mDoorPathNode=null,t.mDoorGridPos=null,t.mCurSkinID=0,t}t(i,e);var n=i.prototype;return n.initObject=function(){e.prototype.initObject.call(this),this.mCurSkinID=h.instance.CurBuildingSkinID},n._onObjResourceLoadFinish=function(){e.prototype._onObjResourceLoadFinish.call(this),this._loadFarmSkin(),this.refreshFarmResSOS(),this.refreshFarmPrivilege()},n.useSkin=function(e){this.mCurSkinID=e,this.isLoadObjResFinish()&&this._loadFarmSkin()},n._loadFarmSkin=function(){if(!(this.mCurSkinID<=0)){var e=c.getFarmSkin(this.mCurSkinID);e&&this.mEngineFarmObject&&this.mEngineFarmObject.changeSkinName(e.building1ResName)}},n.refreshFarmResSOS=function(){h.instance.getResValueByType(m.Res_Mushroom)<=0?this.showSOS():this.hideSOS()},n.showSOS=function(){this.mEngineFarmObject&&this.mEngineFarmObject.showSOS(!0)},n.hideSOS=function(){this.mEngineFarmObject&&this.mEngineFarmObject.showSOS(!1)},n.refreshFarmPrivilege=function(){d.instance.getMonthlyCardData(l.Channel_Tomarket)?this.showPrivilege():this.hidePrivilege()},n.showPrivilege=function(){this.mEngineFarmObject&&this.mEngineFarmObject.showPrivilege(!0)},n.hidePrivilege=function(){this.mEngineFarmObject&&this.mEngineFarmObject.showPrivilege(!1)},n.getDoorPathNode=function(){return this.mDoorPathNode},n.getDoorFarmNodePos=function(){return this.mDoorGridPos},n.calculateDoorNode=function(){var e=Math.floor(this.mFarmBoardSize.objWidth/2),t=this.mFarmBoardPos.boardX+e,o=this.mFarmBoardPos.boardY+this.mFarmBoardSize.objHeight;this.mDoorGridPos=new s(t,o),this.mDoorPathNode=a.instance.getNode(t,o)},n.onAttachedToGrid=function(){e.prototype.onAttachedToGrid.call(this),this.calculateDoorNode()},n.onDetachedFromGrid=function(){e.prototype.onDetachedFromGrid.call(this),this.mDoorPathNode=null,this.mDoorGridPos=null},n.sendRemoveCmd=function(){e.prototype.sendRemoveCmd.call(this),h.instance.onClientRemoveBuild(this.TempID)},n.sendAddCmd=function(){e.prototype.sendAddCmd.call(this),h.instance.onClientAddBuild(this.TempID,this.FarmResId,this.mServerType,this.BoardPos.boardX,this.BoardPos.boardY)},o(i,[{key:"IsSelfCanDelete",get:function(){return!1}}]),i}(r))||u);i._RF.pop()}}}));

System.register("chunks:///_virtual/object.farm.room.stone.ts",["./rollupPluginModLoBabelHelpers.js","cc","./object.farm.item.ts","./path.finder.manager.ts","./farm.board.pos.ts","./model.farm.manager.ts","./table.helper.ts"],(function(o){"use strict";var t,e,n,i,r,a,s,c,d;return{setters:[function(o){t=o.inheritsLoose,e=o.createClass},function(o){n=o.cclegacy,i=o._decorator},function(o){r=o.ObjectFarmItem},function(o){a=o.PathFinderManager},function(o){s=o.FarmBoardPos},function(o){c=o.ModelFarmManager},function(o){d=o.TableHelper}],execute:function(){var m;n._RF.push({},"84e0eZuRAZHIoyKOR6MGx0M","object.farm.room.stone",void 0);var h=i.ccclass;o("ObjectFarmRoomStone",h("ObjectFarmRoomStone")(m=function(o){function n(){for(var t,e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return(t=o.call.apply(o,[this].concat(n))||this).mDoorPathNode=null,t.mDoorGridPos=null,t.mCurSkinID=0,t}t(n,o);var i=n.prototype;return i.initObject=function(){o.prototype.initObject.call(this),this.mCurSkinID=c.instance.CurBuildingSkinID},i._onObjResourceLoadFinish=function(){o.prototype._onObjResourceLoadFinish.call(this),this._loadFarmSkin()},i.useSkin=function(o){this.mCurSkinID=o,this.isLoadObjResFinish()&&this._loadFarmSkin()},i._loadFarmSkin=function(){if(!(this.mCurSkinID<=0)){var o=d.getFarmSkin(this.mCurSkinID);o&&this.mEngineFarmObject&&this.mEngineFarmObject.changeSkinName(o.building3ResName)}},i.getDoorPathNode=function(){return this.mDoorPathNode},i.getDoorFarmNodePos=function(){return this.mDoorGridPos},i.calculateDoorNode=function(){var o=Math.floor(this.mFarmBoardSize.objWidth/2),t=this.mFarmBoardPos.boardX+o,e=this.mFarmBoardPos.boardY+this.mFarmBoardSize.objHeight;this.mDoorGridPos=new s(t,e),this.mDoorPathNode=a.instance.getNode(t,e)},i.onAttachedToGrid=function(){o.prototype.onAttachedToGrid.call(this),this.calculateDoorNode()},i.onDetachedFromGrid=function(){o.prototype.onDetachedFromGrid.call(this),this.mDoorPathNode=null,this.mDoorGridPos=null},i.sendRemoveCmd=function(){o.prototype.sendRemoveCmd.call(this),c.instance.onClientRemoveBuild(this.TempID)},i.sendAddCmd=function(){o.prototype.sendAddCmd.call(this),c.instance.onClientAddBuild(this.TempID,this.FarmResId,this.mServerType,this.BoardPos.boardX,this.BoardPos.boardY)},e(n,[{key:"IsSelfCanDelete",get:function(){return!1}}]),n}(r))||m);n._RF.pop()}}}));

System.register("chunks:///_virtual/object.farm.room.wood.ts",["./rollupPluginModLoBabelHelpers.js","cc","./object.farm.item.ts","./path.finder.manager.ts","./farm.board.pos.ts","./model.farm.manager.ts","./table.helper.ts"],(function(o){"use strict";var t,e,i,r,n,a,s,c,d;return{setters:[function(o){t=o.inheritsLoose,e=o.createClass},function(o){i=o.cclegacy,r=o._decorator},function(o){n=o.ObjectFarmItem},function(o){a=o.PathFinderManager},function(o){s=o.FarmBoardPos},function(o){c=o.ModelFarmManager},function(o){d=o.TableHelper}],execute:function(){var m;i._RF.push({},"88106jCbXtMGIQ2sR5w0Cfs","object.farm.room.wood",void 0);var h=r.ccclass;o("ObjectFarmRoomWood",h("ObjectFarmRoomWood")(m=function(o){function i(){for(var t,e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];return(t=o.call.apply(o,[this].concat(i))||this).mDoorPathNode=null,t.mDoorGridPos=null,t.mCurSkinID=0,t}t(i,o);var r=i.prototype;return r.initObject=function(){o.prototype.initObject.call(this),this.mCurSkinID=c.instance.CurBuildingSkinID},r._onObjResourceLoadFinish=function(){o.prototype._onObjResourceLoadFinish.call(this),this._loadFarmSkin()},r.useSkin=function(o){this.mCurSkinID=o,this.isLoadObjResFinish()&&this._loadFarmSkin()},r._loadFarmSkin=function(){if(!(this.mCurSkinID<=0)){var o=d.getFarmSkin(this.mCurSkinID);o&&this.mEngineFarmObject&&this.mEngineFarmObject.changeSkinName(o.building2ResName)}},r.getDoorPathNode=function(){return this.mDoorPathNode},r.getDoorFarmNodePos=function(){return this.mDoorGridPos},r.calculateDoorNode=function(){var o=Math.floor(this.mFarmBoardSize.objWidth/2),t=this.mFarmBoardPos.boardX+o,e=this.mFarmBoardPos.boardY+this.mFarmBoardSize.objHeight;this.mDoorGridPos=new s(t,e),this.mDoorPathNode=a.instance.getNode(t,e)},r.onAttachedToGrid=function(){o.prototype.onAttachedToGrid.call(this),this.calculateDoorNode()},r.onDetachedFromGrid=function(){o.prototype.onDetachedFromGrid.call(this),this.mDoorPathNode=null,this.mDoorGridPos=null},r.sendRemoveCmd=function(){o.prototype.sendRemoveCmd.call(this),c.instance.onClientRemoveBuild(this.TempID)},r.sendAddCmd=function(){o.prototype.sendAddCmd.call(this),c.instance.onClientAddBuild(this.TempID,this.FarmResId,this.mServerType,this.BoardPos.boardX,this.BoardPos.boardY)},e(i,[{key:"IsSelfCanDelete",get:function(){return!1}}]),i}(n))||m);i._RF.pop()}}}));

System.register("chunks:///_virtual/object.farm.tabe.tower.ts",["./rollupPluginModLoBabelHelpers.js","cc","./object.farm.item.ts","./path.finder.manager.ts","./model.farm.manager.ts","./farm.board.pos.ts","./table.helper.ts"],(function(t){"use strict";var e,r,o,i,n,a,s,c,h;return{setters:[function(t){e=t.inheritsLoose,r=t.createClass},function(t){o=t.cclegacy,i=t._decorator},function(t){n=t.ObjectFarmItem},function(t){a=t.PathFinderManager},function(t){s=t.ModelFarmManager},function(t){c=t.FarmBoardPos},function(t){h=t.TableHelper}],execute:function(){var m;o._RF.push({},"6aeefzIv3tPT6NMTFhBmaRF","object.farm.tabe.tower",void 0);var d=i.ccclass;t("ObjectFarmTabeTower",d("ObjectFarmTabeTower")(m=function(t){function o(){for(var e,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))||this).mDoorPathNode=null,e.mDoorGridPos=null,e.mCurSkinID=0,e}e(o,t);var i=o.prototype;return i.initObject=function(){t.prototype.initObject.call(this),this.mCurSkinID=s.instance.CurBuildingSkinID},i._onObjResourceLoadFinish=function(){t.prototype._onObjResourceLoadFinish.call(this),this._loadFarmSkin(),this.mEngineFarmObject.showHud(!0),this.refreshFarmLevel(),this.refreshDailyAward()},i.useSkin=function(t){this.mCurSkinID=t,this.isLoadObjResFinish()&&this._loadFarmSkin()},i._loadFarmSkin=function(){if(!(this.mCurSkinID<=0)){var t=h.getFarmSkin(this.mCurSkinID);t&&this.mEngineFarmObject&&this.mEngineFarmObject.changeSkinName(t.statueResName)}},i.refreshFarmLevel=function(){if(this.mEngineFarmObject){var t=s.instance.FarmLevel;this.mEngineFarmObject.setName("Lv. "+t)}},i.refreshDailyAward=function(){s.instance.IsHasDailyAward()?this.showAward():this.hideAward()},i.showAward=function(){this.mEngineFarmObject&&this.mEngineFarmObject.showAward(!0)},i.hideAward=function(){this.mEngineFarmObject&&this.mEngineFarmObject.showAward(!1)},i.getDoorPathNode=function(){return this.mDoorPathNode},i.getDoorFarmNodePos=function(){return this.mDoorGridPos},i.calculateDoorNode=function(){var t=Math.floor(this.mFarmBoardSize.objWidth/2),e=this.mFarmBoardPos.boardX+t,r=this.mFarmBoardPos.boardY+this.mFarmBoardSize.objHeight;this.mDoorGridPos=new c(e,r),this.mDoorPathNode=a.instance.getNode(e,r)},i.onAttachedToGrid=function(){t.prototype.onAttachedToGrid.call(this),this.calculateDoorNode()},i.onDetachedFromGrid=function(){t.prototype.onDetachedFromGrid.call(this),this.mDoorPathNode=null,this.mDoorGridPos=null},r(o,[{key:"IsSelfCanDelete",get:function(){return!1}}]),o}(n))||m);o._RF.pop()}}}));

System.register("chunks:///_virtual/object.farm.terrain.add.ts",["./rollupPluginModLoBabelHelpers.js","cc","./enum.farm.object.operate.state.ts","./object.farm.terrain.ts"],(function(t){"use strict";var e,r,i,a,s,n,o;return{setters:[function(t){e=t.inheritsLoose,r=t.createClass},function(t){i=t.cclegacy,a=t._decorator,s=t.Rect},function(t){n=t.EFarmObjectOperateState},function(t){o=t.ObjectFarmTerrain}],execute:function(){var c;i._RF.push({},"bd482WybA5AF7lVgAskpIG4","object.farm.terrain.add",void 0);var g=a.ccclass;t("ObjectFarmTerrainAdd",g("ObjectFarmTerrainAdd")(c=function(t){function i(){for(var e,r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))||this).mIsCanAdd=!1,e.mIsSelected=!1,e}e(i,t);var a=i.prototype;return a._onObjResourceLoadFinish=function(){t.prototype._onObjResourceLoadFinish.call(this),this.setOperateState(!0),this.refreshDraggingShowState()},a.refreshDraggingShowState=function(){this.mDraggingGridCanUse=this.isDraggingTargetEmpty(),this.mDraggingGridCanUse?this.refreshOperateShow(n.CanPut):this.refreshOperateShow(n.CanNotPut)},a.setSelected=function(){this.mIsSelected=!0,null==this.mDraggingRect&&(this.mDraggingRect=new s(this.mFarmBoardPos.boardX,this.mFarmBoardPos.boardY,this.mFarmBoardSize.objWidth,this.mFarmBoardSize.objHeight)),this.recordDraggingOriginGrid(),this.refreshDraggingShowState()},a.cancelSelected=function(){this.mIsSelected=!1},a.moveToNextPos=function(){this.mDraggingRect.x+=this.mDraggingRect.width;var t=this.getGridToPutWorldPos(this.mDraggingRect.x,this.mDraggingRect.y,this.mFarmBoardSize.objWidth,this.mFarmBoardSize.objHeight);return this.setPixelPosImmediate(t),this.refreshDraggingShowState(),!0},r(i,[{key:"isSelected",get:function(){return this.mIsSelected}}]),i}(o))||c);i._RF.pop()}}}));

System.register("chunks:///_virtual/object.farm.terrain.edit.clone.ts",["./rollupPluginModLoBabelHelpers.js","cc","./object.farm.terrain.ts","./enum.farm.object.operate.state.ts"],(function(e){"use strict";var t,r,n,o,c;return{setters:[function(e){t=e.inheritsLoose},function(e){r=e.cclegacy,n=e._decorator},function(e){o=e.ObjectFarmTerrain},function(e){c=e.EFarmObjectOperateState}],execute:function(){var i;r._RF.push({},"77910L5SztMj7M37ZwcDwbr","object.farm.terrain.edit.clone",void 0);var a=n.ccclass;e("ObjectFarmTerrainEditClone",a("ObjectFarmTerrainEditClone")(i=function(e){function r(){return e.apply(this,arguments)||this}return t(r,e),r.prototype._onObjResourceLoadFinish=function(){e.prototype._onObjResourceLoadFinish.call(this),this.refreshOperateShow(c.SpecialClone)},r}(o))||i);r._RF.pop()}}}));

System.register("chunks:///_virtual/object.farm.terrain.ts",["./rollupPluginModLoBabelHelpers.js","cc","./enum.engine.ts","./object.farm.base.ts","./engine.farm.terrain.ts","./farm.board.terrain.manager.ts","./farm.board.terrain.utility.ts"],(function(r){"use strict";var t,n,i,e,a,o,s,c,m,g,u;return{setters:[function(r){t=r.inheritsLoose,n=r.createClass},function(r){i=r.cclegacy,e=r._decorator,a=r.error,o=r.v2},function(r){s=r.EEngineObjLoadState},function(r){c=r.ObjectFarmBase},function(r){m=r.EngineFarmTerrain},function(r){g=r.FarmBoardTerrainManager},function(r){u=r.FarmBoardTerrainUtility}],execute:function(){var h;i._RF.push({},"61f88NblTRAo5YkFpMKPzz9","object.farm.terrain",void 0);var l=e.ccclass;r("ObjectFarmTerrain",l("ObjectFarmTerrain")(h=function(r){function i(){for(var t,n=arguments.length,i=new Array(n),e=0;e<n;e++)i[e]=arguments[e];return(t=r.call.apply(r,[this].concat(i))||this).mEngineFarmTerrain=null,t}t(i,r);var e=i.prototype;return e.runFrame=function(t){r.prototype.runFrame.call(this,t),this.mEngineFarmTerrain.updateFrame(t)},e.initObject=function(){var t=this;r.prototype.initObject.call(this),this.mEngineFarmTerrain=new m,this.mEngineFarmTerrain.LogicObject=this,this.mEngineFarmTerrain.OwnerFarmObj=this,this.mEngineFarmTerrain.LoadFinishCallback=function(){t._onObjResourceLoadFinish()},this.mEngObj=this.mEngineFarmTerrain},e.loadObjResource=function(r){return null===this.mEngObj?(a("no engine object, big bug!"),!1):this.mEngObj.CurLoadState===s.LoadFinish||(this.mEngObj.CurLoadState===s.None&&this.mEngineFarmTerrain.loadEngineObj(r),!1)},e.isDraggingTargetEmpty=function(){return g.instance.isTerrainRangeCanUse(this.mDraggingRect)},e.setOperateState=function(r){this.mEngineFarmTerrain.setIsOperating(r)},e.refreshOperateShow=function(r){this.mEngineFarmTerrain.setOperateState(r)},e.setEditMode=function(r){this.mEngineFarmTerrain&&this.mEngineFarmTerrain.setShowEditMode(r)},e.getGridPixelSize=function(){var r=o(0,0);return r.x=this.mFarmBoardSize.objWidth*u.FARM_TERRAIN_GRID_WIDTH,r.y=this.mFarmBoardSize.objHeight*u.FARM_TERRAIN_GRID_HEIGHT,r},e.calculateRightTopWorldPos=function(){if(null!==this.mDraggingRect){var r=u.gridToWorldRightTopPos(this.mDraggingRect.x,this.mDraggingRect.y);this.mRightTopWorldPos.x=r.x,this.mRightTopWorldPos.y=r.y}else{var t=u.gridToWorldRightTopPos(this.mFarmBoardPos.boardX,this.mFarmBoardPos.boardY);this.mRightTopWorldPos.x=t.x,this.mRightTopWorldPos.y=t.y}},e.getGridToPutWorldPos=function(r,t,n,i){return u.gridToObjStandWorldPos(r,t,n,i)},e.deleteFromGrid=function(){g.instance.deleteTerrain(this)},e.putToGrid=function(){g.instance.putTerrain(this)},n(i,[{key:"IsSelfCanDelete",get:function(){return!1}}]),i}(c))||h);i._RF.pop()}}}));

System.register("chunks:///_virtual/object.fight.actor.ts",["./rollupPluginModLoBabelHelpers.js","cc","./enum.object.type.ts","./object.fight.base.ts","./enum.fight.define.ts","./enum.object.dir.ts","./enum.weapon.type.ts","./common.tool.ts","./all.define.ts"],(function(t){"use strict";var e,i,n,o,a,s,r,c,h,m,u,p;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass},function(t){n=t.cclegacy,o=t._decorator},function(t){a=t.EObjectType},function(t){s=t.FighterBase},function(t){r=t.EFightCamp},function(t){c=t.EObjectDir},function(t){h=t.EWeaponType},function(t){m=t.CommonTool},function(t){u=t.PLAYER_SELF_NAME_COLOR,p=t.PLAYER_OTHER_NAME_COLOR}],execute:function(){var l;n._RF.push({},"5e8cbMs0JlOuo2eJ7BHMSg1","object.fight.actor",void 0);var g=o.ccclass;t("FighterActor",g("FighterActor")(l=function(t){function n(){var e;return(e=t.call(this)||this).mCurUseHeroSkinID="",e.mCurWeaponType=h.None,e.mObjectType=a.FightActor,e}e(n,t);var o=n.prototype;return o.runFrame=function(e){t.prototype.runFrame.call(this,e)},o.clearObjectData=function(){t.prototype.clearObjectData.call(this)},o.InitFightActorData=function(t,e,i,n){this.NeedDelete=!1,this.mFightRealID=t.id,this.Name=t.playerName,this.mCurHp=t.hp,this.mMaxHp=t.maxHp,this.mIsDead=t.isDead,this.mIsDizziness=t.isDizziness,this.mInitPosition=i,this.mFightCamp=e,this.mFightCamp===r.Attacker?this.mInitFaceDir=c.Right:this.mInitFaceDir=c.Left,this.loadObjResource("ant_all/ant_fight_actor"),this.mEngineAvatar.resetObjParent()},o._showNameView=function(){if(t.prototype._showNameView.call(this),null!==this.mEngineAvatar){var e=this.Name;e.length>12&&(e=m.shortAddress(e)),this.FightCamp===r.Attacker?this.mEngineAvatar.setName(e,u):this.mEngineAvatar.setName(e,p)}},o._showHPView=function(){t.prototype._showHPView.call(this),null!==this.mEngineAvatar&&(this.FightCamp,r.Attacker,this.mEngineAvatar.setHpVisible(!0))},i(n,[{key:"PropWeaponType",get:function(){return this.mCurWeaponType}},{key:"PropCommonSkillID",get:function(){return 1e3+this.mCurWeaponType}}]),n}(s))||l);n._RF.pop()}}}));

System.register("chunks:///_virtual/object.fight.base.ts",["./rollupPluginModLoBabelHelpers.js","cc","./engine.fight.avatar.ts","./enum.anim.state.ts","./enum.engine.ts","./enum.object.dir.ts","./enum.weapon.type.ts","./event.dispatcher.ts","./event.name.ts","./enum.skill.define.ts","./enum.state.define.ts","./state.container.ts","./table.helper.ts","./effect.system.ts","./enum.fight.define.ts","./enum.fight.state.ts","./state.machine.ts","./role.status.container.ts","./skill.container.ts","./object.base.ts"],(function(t){"use strict";var i,n,e,s,o,h,a,r,u,m,f,c,g,l,d,S,p,F,D,v,P,E,C,_,I,B,H;return{setters:[function(t){i=t.inheritsLoose,n=t.createClass},function(t){e=t.cclegacy,s=t._decorator,o=t.error,h=t.v3,a=t.Vec2,r=t.Vec3,u=t.v2},function(t){m=t.EngineFightAvatar},function(t){f=t.EAnimState},function(t){c=t.EEngineObjLoadState},function(t){g=t.EObjectDir},function(t){l=t.EWeaponType},function(t){d=t.EventDispatcher},function(t){S=t.EventName},function(t){p=t.ESkillType},function(t){F=t.EStateConditionTriggerType},function(t){D=t.StateContainer},function(t){v=t.TableHelper},function(t){P=t.EffectSystem},function(t){E=t.EFightCamp},function(t){C=t.EFightState},function(t){_=t.FightStateMachine},function(t){I=t.RoleStatusContainer},function(t){B=t.SkillContainer},function(t){H=t.ObjectBase}],execute:function(){var y;e._RF.push({},"e006f3kxxZExItqNIOOPiMN","object.fight.base",void 0);var A=s.ccclass;t("FighterBase",A("FighterBase")(y=function(t){function e(){for(var i,n=arguments.length,e=new Array(n),s=0;s<n;s++)e[s]=arguments[s];return(i=t.call.apply(t,[this].concat(e))||this).mEngineAvatar=null,i.mFightRealID=0,i.mCurHp=0,i.mMaxHp=0,i.mIsDead=!1,i.mIsDizziness=!1,i.mInitPosition=u(),i.mInitFaceDir=g.Left,i.mFightCamp=E.None,i.mRoleStateContainer=null,i.mSkillContainer=null,i.mStateContainer=null,i.mFightStateMachine=null,i.mFightSimulator=null,i.mFightEvent=null,i.mIsFightMoving=!1,i.mFightTarPosition=null,i.mRealMoveSpeed=1e3,i.mIsDodgeStart=!1,i.mIsDodgeBack=!1,i.mDodgeSrcPosition=null,i.mDodgeTarPosition=null,i.mDodgeMoveSpeed=500,i.mDodgeDistance=60,i.mFightBuffList=[],i.mDizznessEffect=null,i.mKuangBaoEffect=null,i.mShiQiangEffect=null,i}i(e,t);var s=e.prototype;return s.runFrame=function(i){t.prototype.runFrame.call(this,i),this._UpdateFightMove(i),this._UpdateDodge(i),this.mEngineAvatar.updateFrame(i),this.mSkillContainer.UpdateSkill(i),this.mStateContainer.UpdateAllBuff(i),this.mFightStateMachine.UpdateCurState(i)},s.initObject=function(){var i=this;t.prototype.initObject.call(this),this.mIsDead=!1,this.mEngineAvatar=new m,this.mEngineAvatar.LogicObject=this,this.mEngineAvatar.LoadFinishCallback=function(){i._onObjResourceLoadFinish()},this.mEngObj=this.mEngineAvatar,this.mSkillContainer=new B(this),this.mStateContainer=new D(this),this.mFightStateMachine=new _(this),this.mRoleStateContainer=new I,this.mRoleStateContainer.Init()},s.loadObjResource=function(t){return null===this.mEngObj?(o("no engine object, big bug!"),!1):this.mEngObj.CurLoadState===c.LoadFinish||(this.mEngObj.CurLoadState===c.None&&this.mEngineAvatar.loadEngineObj(t),!1)},s._onObjResourceLoadFinish=function(){t.prototype._onObjResourceLoadFinish.call(this),this.SetStandPositionImm(this.mInitPosition),this.Dir=this.mInitFaceDir,this.playAnim(f.Idle,this._GetFightSpeed()),this._showNameView(),this._showHPView(),this.refreshActorHP()},s._showNameView=function(){},s._showHPView=function(){},s.refreshActorHP=function(){var t=this.mCurHp/this.mMaxHp;t>1&&(t=1),null!==this.mEngineAvatar&&this.mEngineAvatar.setHp(t),d.emit(S.FIGHT_HP_CHANGED,this.mFightRealID,this.mCurHp)},s.refreshActorBuff=function(){var t=!1,i=!1;if(null!=this.mFightBuffList)for(var n=0;n<this.mFightBuffList.length;n++){var e=v.getSimpleSkill(this.mFightBuffList[n]);e.skillType===p.KuangBao?t=!0:e.skillType===p.ShiQiang&&(i=!0)}t?this._ShowBuff_KuangBao():this._RemoveBuff_KuangBao(),i?this._ShowBuff_ShiQiang():this._RemoveBuff_ShiQiang()},s.clearObjectData=function(){t.prototype.clearObjectData.call(this),this.ChangeState(C.None),this.mFightEvent=null,this.mFightSimulator=null},s.ShowChitChat=function(t){null!==this.mEngineAvatar&&this.mEngineAvatar.showChitChat(this.Name,t)},s.IsInState=function(t){return null!=this.mFightStateMachine&&this.mFightStateMachine.IsInState(t)},s.ChangeState=function(t){null!=this.mFightStateMachine&&this.mFightStateMachine.ChangeState(t)},s.RefreshFightData=function(t,i,n,e){this.mCurHp=t,this.mIsDead=i,this.mIsDizziness=n,this.mFightBuffList=e,this.ChangeState(C.Idle),this.refreshActorHP(),this.refreshActorBuff()},s.SetHP=function(t){this.mCurHp=t,this.refreshActorHP()},s.ChangeFaceToTarget=function(t){var i=t.x-this.Position.x;Math.abs(i)>=0&&(this.Dir=i<0?g.Left:g.Right)},s.SetStandPositionImm=function(t){null!=this.mFightTarPosition&&(this.mFightTarPosition=null);var i=h(t.x,t.y,0);this.Position=i},s.MoveToPosition=function(t,i,n){this.mFightTarPosition=t,this.mRealMoveSpeed=i*this._GetFightSpeed(),this._StartFightMove(n)},s._UpdateFightMove=function(t){if(this.mIsFightMoving){if(null==this.mFightTarPosition)return;var i=this.mFightTarPosition.x-this.Position.x;Math.abs(i)>=0&&(this.Dir=i<0?g.Left:g.Right);var n=this.mRealMoveSpeed*t,e=h(this.mFightTarPosition.x,this.mFightTarPosition.y,0);if(n>a.distance(this.Position,e))this.Position=e,this._OnMoveToFinish();else{var s=h();s=r.subtract(s,e,this.Position).normalize();var o=h(s.x*n,s.y*n,s.z*n),u=h();u=r.add(u,this.Position,o),this.Position=u}}},s.IsLowHp=function(){return this.mCurHp<.2*this.mMaxHp},s._GetFightSpeed=function(){return null!=this.mFightSimulator?this.mFightSimulator.FightSpeed:1},s._StartFightMove=function(t){this.mIsFightMoving=!0,this.playAnim(t,3*this._GetFightSpeed())},s._EndFightMove=function(){this.mIsFightMoving=!1,this.playAnim(f.Idle,this._GetFightSpeed())},s._OnMoveToFinish=function(){this._EndFightMove(),this.mFightTarPosition=null,null!=this.mFightStateMachine&&this.mFightStateMachine.OnMoveFinish()},s.OnStartUseSkill=function(){},s.OnFinishUseSkill=function(){null!=this.mFightStateMachine&&this.mFightStateMachine.OnUseSkillFinish()},s.OnDead=function(){null!==this.mEngineAvatar&&this.mEngineAvatar.setHpVisible(!1)},s.OnRoundFightShow=function(){null!==this.mEngineAvatar&&this.mEngineAvatar.showFightRoundMark()},s.OnRoundFightHide=function(){null!==this.mEngineAvatar&&this.mEngineAvatar.hideFightRoundMark()},s.OnSkillShow=function(t){},s.OnBuffShow=function(t,i){null==this.mFightBuffList&&(this.mFightBuffList=[]),i?this.mFightBuffList.includes(t)||this.mFightBuffList.push(t):this.mFightBuffList.includes(t)&&this.mFightBuffList.splice(this.mFightBuffList.indexOf(t),1),this.refreshActorBuff()},s.OnComboShow=function(t){},s.OnComboHide=function(){},s.OnFightbackShow=function(){},s.OnBeHit_CommonDamage=function(t,i){this.mCurHp-=t,this.mCurHp<0&&(this.mCurHp=0),this.refreshActorHP(),this.mIsDead||t>0&&this.playAnim(f.BeHit,this._GetFightSpeed()),null!=i&&this.mStateContainer.DealStateConditon(F.Eff_AllDamage,i)},s.OnBeHit_CritDamage=function(t,i){this.mCurHp-=t,this.mCurHp<0&&(this.mCurHp=0),this.refreshActorHP(),this.mIsDead||t>0&&this.playAnim(f.BeHit,this._GetFightSpeed()),null!=i&&this.mStateContainer.DealStateConditon(F.Eff_AllDamage,i)},s.OnBeHit_CommonCure=function(t){this.mCurHp+=t,this.mCurHp>this.mMaxHp&&(this.mCurHp=this.mMaxHp),this.refreshActorHP()},s.OnBeHit_CritCure=function(t){this.mCurHp+=t,this.mCurHp>this.mMaxHp&&(this.mCurHp=this.mMaxHp),this.refreshActorHP()},s.OnBeKill=function(){this.mCurHp=0,this.refreshActorHP(),this.mIsDead||this.playAnim(f.BeHit,this._GetFightSpeed())},s.OnBeHit_Dodge=function(){this.mIsDead||this.playDodgeAnim()},s.AddBeHitEffect=function(t){P.instance.CreateMountEffect(t,this)},s.playDodgeAnim=function(){this.mIsDodgeStart=!0,this.mIsDodgeBack=!1,this.mDodgeSrcPosition=u(this.Position.x,this.Position.y),this.Dir===g.Left?this.mDodgeTarPosition=u(this.Position.x+this.mDodgeDistance,this.Position.y):this.mDodgeTarPosition=u(this.Position.x-this.mDodgeDistance,this.Position.y)},s._UpdateDodge=function(t){this._UpdateDodgeStart(t),this._UpdateDodgeBack(t)},s._UpdateDodgeStart=function(t){if(this.mIsDodgeStart){var i=this.mDodgeMoveSpeed*this._GetFightSpeed()*t,n=h(this.mDodgeTarPosition.x,this.mDodgeTarPosition.y,0);if(i>a.distance(this.Position,n))this.Position=n,this.mIsDodgeStart=!1,this.mIsDodgeBack=!0;else{var e=h();e=r.subtract(e,n,this.Position).normalize();var s=h(e.x*i,e.y*i,e.z*i),o=h();o=r.add(o,this.Position,s),this.Position=o}}},s._UpdateDodgeBack=function(t){if(this.mIsDodgeBack){var i=this.mDodgeMoveSpeed*this._GetFightSpeed()*t,n=h(this.mDodgeSrcPosition.x,this.mDodgeSrcPosition.y,0);if(i>a.distance(this.Position,n))this.Position=n,this._OnDodgeFinish();else{var e=h();e=r.subtract(e,n,this.Position).normalize();var s=h(e.x*i,e.y*i,e.z*i),o=h();o=r.add(o,this.Position,s),this.Position=o}}},s._OnDodgeFinish=function(){this.mIsDodgeStart=!1,this.mIsDodgeBack=!1,this.mDodgeSrcPosition=null,this.mDodgeTarPosition=null},s._ShowBuff_KuangBao=function(){null==this.mKuangBaoEffect&&(this.mKuangBaoEffect=P.instance.CreateMountEffect(20001,this))},s._RemoveBuff_KuangBao=function(){null!=this.mKuangBaoEffect&&(P.instance.RemoveEffect(this.mKuangBaoEffect),this.mKuangBaoEffect=null)},s._ShowBuff_ShiQiang=function(){null==this.mShiQiangEffect&&(this.mShiQiangEffect=P.instance.CreateMountEffect(20002,this))},s._RemoveBuff_ShiQiang=function(){null!=this.mShiQiangEffect&&(P.instance.RemoveEffect(this.mShiQiangEffect),this.mShiQiangEffect=null)},n(e,[{key:"RealID",get:function(){return this.mFightRealID}},{key:"IsDead",get:function(){return this.mIsDead},set:function(t){this.mIsDead=t,this.mIsDead?this.playAnim(f.Die,this._GetFightSpeed()):this.playAnim(f.Revive,this._GetFightSpeed())}},{key:"IsDizziness",get:function(){return this.mIsDizziness},set:function(t){this.mIsDizziness=t,this.mIsDizziness?(this.playAnim(f.Stun,this._GetFightSpeed()),null!=this.mDizznessEffect&&(P.instance.RemoveEffect(this.mDizznessEffect),this.mDizznessEffect=null),this.mDizznessEffect=P.instance.CreateMountEffect(10001,this)):(this.playAnim(f.Idle,this._GetFightSpeed()),null!=this.mDizznessEffect&&(P.instance.RemoveEffect(this.mDizznessEffect),this.mDizznessEffect=null))}},{key:"InitFaceDir",get:function(){return this.mInitFaceDir}},{key:"InitPosition",get:function(){return this.mInitPosition}},{key:"BeHitPosition",get:function(){return this.Dir===g.Left?u(this.Position.x-130,this.Position.y-1):u(this.Position.x+130,this.Position.y-1)}},{key:"PropRoleStateContainer",get:function(){return this.mRoleStateContainer}},{key:"PropSkillContainer",get:function(){return this.mSkillContainer}},{key:"PropStateContainer",get:function(){return this.mStateContainer}},{key:"PropWeaponType",get:function(){return l.None}},{key:"PropCommonSkillID",get:function(){return 1e3}},{key:"FightSimulator",get:function(){return this.mFightSimulator},set:function(t){this.mFightSimulator=t}},{key:"FightCamp",get:function(){return this.mFightCamp}},{key:"FightEvent",get:function(){return this.mFightEvent},set:function(t){this.mFightEvent=t}}]),e}(H))||y);e._RF.pop()}}}));

System.register("chunks:///_virtual/object.fight.monster.ts",["./rollupPluginModLoBabelHelpers.js","cc","./all.define.ts","./enum.object.type.ts","./object.fight.base.ts","./enum.fight.define.ts","./enum.object.dir.ts"],(function(t){"use strict";var e,i,n,s,o,r,a,c;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass},function(t){n=t.cclegacy,s=t._decorator},function(t){o=t.NPC_NAME_COLOR},function(t){r=t.EObjectType},function(t){a=t.FighterBase},function(t){c=t.EFightCamp},null],execute:function(){var l;n._RF.push({},"5c879BgHOBP+5922Z7HJ46G","object.fight.monster",void 0);var h=s.ccclass;t("FighterMonster",h("FighterMonster")(l=function(t){function n(){var e;return(e=t.call(this)||this).mCommonSkillID=0,e.mMonsterType=0,e.mObjectType=r.FightMonster,e}e(n,t);var s=n.prototype;return s.runFrame=function(e){t.prototype.runFrame.call(this,e)},s.InitFightMonsterData=function(t,e,i){this.NeedDelete=!1,this.mFightRealID=t.id},s._showNameView=function(){t.prototype._showNameView.call(this),null!==this.mEngineAvatar&&this.mEngineAvatar.setName(this.Name,o)},s._showHPView=function(){if(t.prototype._showHPView.call(this),null!==this.mEngineAvatar)if(this.FightCamp===c.Attacker)this.mEngineAvatar.setHpVisible(!0);else switch(this.mMonsterType){case 1:case 2:case 3:default:this.mEngineAvatar.setHpVisible(!0)}},i(n,[{key:"PropCommonSkillID",get:function(){return this.mCommonSkillID}}]),n}(a))||l);n._RF.pop()}}}));

System.register("chunks:///_virtual/object.fighter.interface.ts",["cc","./fight.data.object.ts","./fight.simulator.ts"],(function(){"use strict";var t;return{setters:[function(e){t=e.cclegacy},null,null],execute:function(){t._RF.push({},"188671K/dNG1ISKZkCShJL0","object.fighter.interface",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/object.interface.ts",["cc"],(function(){"use strict";var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"79832CHZnJN34hzSahbnwJs","object.interface",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/object.npc.ts",["./rollupPluginModLoBabelHelpers.js","cc","./object.character.ts","./object.playerself.ts","./all.define.ts","./enum.object.type.ts","./map.screen.client.protocol.ts","./enum.anim.state.ts"],(function(t){"use strict";var e,i,a,s,n,c,r,o,m,l,h,u,p,d;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass},function(t){a=t.cclegacy,s=t._decorator,n=t.Vec2,c=t.game,r=t.randomRangeInt},function(t){o=t.CharacterObject},function(t){m=t.PlayerSelf},function(t){l=t.NPC_NAME_COLOR},function(t){h=t.EObjectType},function(t){u=t.REMOVEMAPNPC_MAPSCREEN_CLIENT,p=t.ADDMAPNPC_AND_POS_MAPSCREEN_STATE_CLIENT},function(t){d=t.EAnimState}],execute:function(){var f;a._RF.push({},"9db734HJrVA77kWH046fwzd","object.npc",void 0);var T=s.ccclass;t("Npc",T("Npc")(f=function(t){function a(){var e;return(e=t.call(this)||this).mNpcRoleRes="",e.mNpcDataCmd=null,e.mLastUpdateDisToPlayerselfTimePos=0,e.mIsShowNpcTip=!1,e.mIdleDeltaTime=0,e.mIdleWaitTime=0,e.mObjectType=h.NpcActor,e}e(a,t);var s=a.prototype;return s.runFrame=function(e){t.prototype.runFrame.call(this,e),this._updateDistanceToPlayerself(),this._updateRoleIdleAnim(e)},s.setNpcAttrData=function(t){this.NeedDelete=!1,this.mNpcDataCmd=t,this.TempID=this.mNpcDataCmd.npcTempID},s._onObjResourceLoadFinish=function(){t.prototype._onObjResourceLoadFinish.call(this),this.setGridPosImmediate(new n(this.mNpcDataCmd.x,this.mNpcDataCmd.y)),this.Dir=this.mNpcDataCmd.byDir,this.mEngineAvatar.setName(this.Name,l),this.mEngineAvatar.setSpineParentScale(.35),101===this.mNpcDataCmd.npcDataID&&this.setObjScale(1.5),this.playAnim(d.Idle)},s._refreshSkin=function(){},s._handleMapScreenCmd=function(t){switch(t.gsParam){case p:if(!this.isCharacter())return!0;var e=t;this.setNpcAttrData(e.data);break;case u:this.NeedDelete=!0}return!0},s._updateDistanceToPlayerself=function(){if(c.totalTime-this.mLastUpdateDisToPlayerselfTimePos>500){this.mLastUpdateDisToPlayerselfTimePos=c.totalTime;var t=m.instance.getGridPos();!1===this.mIsShowNpcTip?(Math.abs(t.x-this.mGridPos.x)<=2||Math.abs(t.y-this.mGridPos.y)<=2)&&(this.mIsShowNpcTip=!0):Math.abs(t.x-this.mGridPos.x)>2&&Math.abs(t.y-this.mGridPos.y)>2&&(this.mIsShowNpcTip=!0)}},s.getRadarInfoID=function(){return 2},s.startTriggerToPlayerSelf=function(){},s.endTriggerToPlayerSelf=function(){},s._updateRoleIdleAnim=function(t){this.IsMoving?this.mIdleDeltaTime=0:(this.mIdleDeltaTime>this.mIdleWaitTime&&(this.mIdleDeltaTime=0,this.mIdleWaitTime=r(15,30),this.isLoadObjResFinish()&&this.playAnim(d.XiuXian)),this.mIdleDeltaTime+=t)},i(a,[{key:"npcTableId",get:function(){return 0}},{key:"npcFuncType",get:function(){return 0}},{key:"npcFuncParam",get:function(){return""}},{key:"showText",get:function(){return""}},{key:"showTextNoFunc",get:function(){return""}},{key:"UserGuideID",get:function(){return 0}}]),a}(o))||f);a._RF.pop()}}}));

System.register("chunks:///_virtual/object.player.self.interface.ts",["cc"],(function(){"use strict";var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"0cd2biPZTJFxI2BmLBVt7Kw","object.player.self.interface",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/object.player.ts",["./rollupPluginModLoBabelHelpers.js","cc","./object.character.ts","./path.finder.manager.ts","./path.define.ts","./enum.object.type.ts","./enum.anim.state.ts","./map.screen.client.protocol.ts","./common.tool.ts","./all.define.ts"],(function(e){"use strict";var t,a,i,r,s,n,h,o,l,m,c,u,d,f,D,P,y;return{setters:[function(e){t=e.inheritsLoose,a=e.createClass},function(e){i=e.cclegacy,r=e._decorator,s=e.Vec2,n=e.randomRangeInt,h=e.game},function(e){o=e.CharacterObject},function(e){l=e.PathFinderManager},function(e){m=e.MainPathNodeType},function(e){c=e.EObjectType},function(e){u=e.EAnimState},function(e){d=e.REMOVEUSER_MAPSCREEN_CLIENT,f=e.ADDUSER_AND_POS_MAPSCREEN_STATE_MOBILE_CLIENT},function(e){D=e.CommonTool},function(e){P=e.PLAYER_SELF_NAME_COLOR,y=e.PLAYER_OTHER_NAME_COLOR}],execute:function(){var I;i._RF.push({},"6204dfZ2+5KDrqUvfKyiu/N","object.player",void 0);var S=r.ccclass;e("Player",S("Player")(I=function(e){function i(){var t;return(t=e.call(this)||this).mPlayerData=null,t.mCurSkinArray=[],t.mLastUpdateRoleShowTimePos=0,t.mPlayerRealID=0,t.mIsShowNickname=!0,t.mIsShowSelfAvatar=!0,t.mIdleDeltaTime=0,t.mIdleWaitTime=0,t.mObjectType=c.RoleActor,t}t(i,e);var r=i.prototype;return r.getRealUserID=function(){return this.mPlayerRealID},r.getInPartyTempID=function(){return this.mPlayerData.inPartyTempId},r.setShowNickname=function(e){this.mIsShowNickname=e,this._refreshShowName()},r.setShowSelfAvatar=function(e){this.mIsShowSelfAvatar=e,this._refreshShowSelfAvatar()},r.runFrame=function(t){e.prototype.runFrame.call(this,t),this._updateRoleIdleAnim(t)},r.clearObjectData=function(){e.prototype.clearObjectData.call(this)},r.setPlayerAttrData=function(e){this.NeedDelete=!1,this.mPlayerData=e,this.TempID=this.mPlayerData.userTempID,this.mPlayerRealID=this.mPlayerData.userRealID,this.Name=this.mPlayerData.name,this._engineObjLoadRes()?this._refreshDataShow():(this.setGridPosImmediate(new s(this.mPlayerData.gridX,this.mPlayerData.gridY)),this.Dir=this.mPlayerData.tarDir),this._onPlayerScreenDataChanged()},r._onObjResourceLoadFinish=function(){e.prototype._onObjResourceLoadFinish.call(this),this._initDataShow(),this.mIdleDeltaTime=0,this.mIdleWaitTime=n(3,6)},r._onPlayerScreenDataChanged=function(){},r.setGridPosImmediate=function(t){e.prototype.setGridPosImmediate.call(this,t),this.mServerCurGridPos.set(t),this.mServerCurPixelPos.set(l.gridCenterToPixelPos(this.mServerCurGridPos))},r.refreshAnim=function(){this.isLoadObjResFinish()&&(this.IsMoving?this.playAnim(u.Walk):this.playAnim(u.Idle))},r.getRadarInfoID=function(){return 3},r._engineObjLoadRes=function(){return!0},r._refreshDataShow=function(){var e=Math.abs(this.mGridPos.x-this.mPlayerData.gridX),t=Math.abs(this.mGridPos.y-this.mPlayerData.gridY);(e>3||t>3)&&this.setGridPosImmediate(new s(this.mPlayerData.gridX,this.mPlayerData.gridY)),this.refreshAnim(),this._refreshShowName()},r._initDataShow=function(){this.setGridPosImmediate(new s(this.mPlayerData.gridX,this.mPlayerData.gridY)),this.Dir=this.mPlayerData.tarDir,this.refreshAnim(),this._refreshShowName(),this._refreshShowSelfAvatar()},r._refreshShowName=function(){var e="";this.mIsShowNickname&&(e=this.Name).length>12&&(e=D.shortAddress(e)),this.mObjectType===c.MainRoleActor?this.mEngineAvatar.setName(e,P):this.mEngineAvatar.setName(e,y)},r._refreshShowSelfAvatar=function(){this.ObjectType!==c.MainRoleActor&&this.mEngineAvatar.setVisible(this.mIsShowSelfAvatar)},r.handleDealCollideMoveCmd=function(e){},r._handleMapScreenCmd=function(e){switch(e.gsParam){case f:if(!this.isCharacter())return!0;var t=e;this.setPlayerAttrData(t.data);break;case d:this.NeedDelete=!0}return!0},r._updateRoleShow=function(){if(h.totalTime-this.mLastUpdateRoleShowTimePos>500){this.mLastUpdateRoleShowTimePos=h.totalTime;var e=l.instance.getNode(this.mGridPos.x,this.mGridPos.y);null!=e&&(e.nType&m.TransparentArea?this.mEngineAvatar.setTransparent(!0):this.mEngineAvatar.setTransparent(!1))}},r._updateRoleIdleAnim=function(e){this.IsMoving?this.mIdleDeltaTime=0:(this.mIdleDeltaTime>this.mIdleWaitTime&&(this.mIdleDeltaTime=0,this.mIdleWaitTime=n(6,10),this.isLoadObjResFinish()&&this.playAnim(u.XiuXian)),this.mIdleDeltaTime+=e)},a(i,[{key:"RealPlayerID",get:function(){return this.mPlayerRealID},set:function(e){this.mPlayerRealID=e}},{key:"isInFight",get:function(){return null!==this.mPlayerData&&"0"!==this.mPlayerData.joinFightID}},{key:"getFightID",get:function(){return null==this.mPlayerData?"0":this.mPlayerData.joinFightID}}]),i}(o))||I);i._RF.pop()}}}));

System.register("chunks:///_virtual/object.playerself.ts",["./rollupPluginModLoBabelHelpers.js","cc","./event.dispatcher.ts","./event.name.ts","./path.finder.manager.ts","./object.player.ts","./net.system.ts","./enum.playerself.state.ts","./enum.object.type.ts","./enum.object.dir.ts","./userdata.client.protocol.ts","./card.client.protocol.ts","./move.client.protocol.ts","./model.mainrole.manager.ts"],(function(t){"use strict";var e,i,o,n,s,r,a,l,h,u,m,f,c,v,d,M,S,T;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass},function(t){o=t.cclegacy,n=t._decorator,s=t.Vec2,r=t.v2},function(t){a=t.EventDispatcher},function(t){l=t.EventName},function(t){h=t.PathFinderManager},function(t){u=t.Player},function(t){m=t.NetSystem},function(t){f=t.EPlayerselfState},function(t){c=t.EObjectType},function(t){v=t.EObjectDir},function(t){d=t.stMainUserMobileData},function(t){M=t.stChangeHeroClientCmd},function(t){S=t.stUserMoveMoveClientCmd},function(t){T=t.ModelMainRoleManager}],execute:function(){var p,g;o._RF.push({},"616beMHgRlKl7086AdJydKl","object.playerself",void 0);var A=n.ccclass;t("PlayerSelf",A("PlayerSelf")(((g=function(t){function o(){var e;return(e=t.call(this)||this).mCurState=f.Normal,e.mIsFirstInMap=!0,e.mUserID=0,e.mMainUserData=new d,e.mSendMoveTimePos=0,e.mTimeCannotWalkTime=0,e.mLastToServerGridPos=new s(0,0),e.mLastToServerDir=0,e.mSelfClientMoveToTargetGrid=new s(-1,-1),e.mCurAutoMovePath=null,e.mCurIsAutoMoving=!1,e.mOnAutoMoveFinished=null,e.mAutoMoveTaskID=0,e.mObjectType=c.MainRoleActor,e}e(o,t);var n=o.prototype;return n.createPlayerSelf=function(){this.initObject(),a.on(l.FIGHT_STATE_ENTER,this._onEnterFight,this),a.on(l.FIGHT_STATE_EXIT,this._onExitFight,this),a.on(l.PLAYERSELF_NAME_CHANGED,this._onNameChanged,this)},n.destroyPlayerSelf=function(){a.off(l.FIGHT_STATE_ENTER,this._onEnterFight,this),a.off(l.FIGHT_STATE_EXIT,this._onExitFight,this),a.off(l.PLAYERSELF_NAME_CHANGED,this._onNameChanged,this)},n.onSceneRelease=function(){this.selfStopAutoMove(),this.mSelfClientMoveToTargetGrid.set(-1,-1),this.mIsFirstInMap=!0},n.runFrame=function(e){t.prototype.runFrame.call(this,e),this._updateAutoMoving()},n._onPlayerScreenDataChanged=function(){this.mIsFirstInMap&&(this.mIsFirstInMap=!1,this.mPlayerData.joinFightID),a.emit(l.PLAYERSELF_SHOW_DATA_CHANGED)},n.changeUse=function(t){var e=new M;e.heroIDString=t,m.instance.sendCmdGate(e)},n.setGridPosImmediate=function(e){t.prototype.setGridPosImmediate.call(this,e),this.mLastToServerGridPos.set(e),this.mLastToServerDir=this.Dir},n.selfMoveToDir=function(t){if(this.mAutoMoveTaskID=0,this.selfStopAutoMove(),this.mCurState===f.Normal&&this.isMovedInTargetGrid()){var e=h.instance.getWalkNodeByDir(this.mGridPos,t),i=e[0],o=e[1];null!=i&&(this.Dir=o,this.moveToTargetGrid(t,new s(i.nX,i.nY)),this.mSelfClientMoveToTargetGrid.equals2f(i.nX,i.nY)||(this.mSelfClientMoveToTargetGrid.set(i.nX,i.nY),this._sendPosToServer(this.Dir,this.mSelfClientMoveToTargetGrid)))}},n.selfStopMove=function(){this.mAutoMoveTaskID=0,this.selfStopAutoMove(),this.mCurState===f.Normal&&this.mSelfClientMoveToTargetGrid.set(-1,-1)},n.selfStartAutoMove=function(t){var e=h.pixelPosToGridPos(r(t.x,t.y));this.selfStartAutoMoveV2(e)},n.selfStartAutoMoveV2=function(t,e){void 0===e&&(e=0),this.mAutoMoveTaskID=e;var i=this.getGridPos();if(this.mSelfClientMoveToTargetGrid.equals2f(-1,-1)||(i=this.mSelfClientMoveToTargetGrid),i.equals(t))this.selfStopAutoMove();else{var o=h.instance.getNode(t.x,t.y);if(null!==o&&o.isCanMove()){this.mCurIsAutoMoving=!0;var n=h.instance.getNode(i.x,i.y);this.mCurAutoMovePath=h.instance.findPath(n,o),null!=this.mCurAutoMovePath&&this.mCurAutoMovePath.shift()}}},n.selfStopAutoMove=function(){this.mCurIsAutoMoving=!1,this.mCurAutoMovePath=null,0!==this.mAutoMoveTaskID&&null!=this.mOnAutoMoveFinished&&this.mOnAutoMoveFinished(this.mAutoMoveTaskID),this.mAutoMoveTaskID=0},n._updateAutoMoving=function(){if(this.mCurIsAutoMoving&&this.mCurState===f.Normal&&(null!=this.mCurAutoMovePath&&0!==this.mCurAutoMovePath.length||this.selfStopAutoMove(),this.isMovedInTargetGrid())){var t=v.Bottom,e=this.mCurAutoMovePath.shift(),i=h.instance.getNode(this.mGridPos.x,this.mGridPos.y);i.left===e?t=v.Left:i.leftUp===e?t=v.UpLeft:i.leftDown===e?t=v.BottomLeft:i.up===e?t=v.Up:i.down===e?t=v.Bottom:i.rightUp===e?t=v.UpRight:i.rightDown===e?t=v.BottomRight:i.right===e&&(t=v.Right),null!=e&&(this.Dir=t,this.moveToTargetGrid(t,new s(e.nX,e.nY)),this.mSelfClientMoveToTargetGrid.equals2f(e.nX,e.nY)||(this.mSelfClientMoveToTargetGrid.set(e.nX,e.nY),this._sendPosToServer(this.Dir,this.mSelfClientMoveToTargetGrid)))}},n._onStopMove=function(){t.prototype._onStopMove.call(this),this.mSelfClientMoveToTargetGrid.set(-1,-1)},n._onLoopMove=function(t){return!0},n._sendPosToServer=function(t,e){var i=new S;i.userID=this.TempID,i.tarDir=t,i.targetGridX=e.x,i.targetGridY=e.y,m.instance.sendCmdGate(i),this.mLastToServerDir=t,this.mLastToServerGridPos.set(e),this.mSendWalkTimes<this.mReceiveWalkTimes?this.mSendWalkTimes=this.mReceiveWalkTimes+1:this.mSendWalkTimes+=1},n._onEnterNpc=function(t){},n._onLeaveNpc=function(t){},n._onStateUserGuide=function(){this.playerselfState=f.UserGuide,this.selfStopMove()},n._onStateInteractNpc=function(){this.playerselfState=f.Normal},n._onStateInteractView=function(){this.playerselfState=f.InteractView,this.selfStopMove()},n._onStateNormal=function(){this.playerselfState=f.Normal},n._onNameChanged=function(){this.mPlayerData.name=T.instance.UserName,this.Name=T.instance.UserName,this._refreshShowName()},n._onEnterFight=function(){this.playerselfState=f.InFight,this.selfStopMove()},n._onExitFight=function(){this.playerselfState=f.Normal},i(o,[{key:"playerselfState",get:function(){return this.mCurState},set:function(t){this.mCurState=t}},{key:"OnAutoMoveFinished",set:function(t){this.mOnAutoMoveFinished=t}}],[{key:"instance",get:function(){return null==this._instance&&(this._instance=new o),this._instance}}]),o}(u))._instance=null,p=g))||p);o._RF.pop()}}}));

System.register("chunks:///_virtual/object.robot.interface.ts",["cc"],(function(){"use strict";var t;return{setters:[function(c){t=c.cclegacy}],execute:function(){t._RF.push({},"4cc9az/sT1MwJdIKM2Wg+Fl","object.robot.interface",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/object.robot.ts",["./rollupPluginModLoBabelHelpers.js","cc","./enum.engine.ts","./enum.object.dir.ts","./enum.object.type.ts","./engine.avatar.ts","./object.dynamic.ts","./path.finder.manager.ts","./enum.work.define.ts","./enum.anim.state.ts","./robot.fsm.ts","./enum.robot.define.ts"],(function(t){"use strict";var o,n,e,i,a,s,r,h,u,c,m,l,g,b,f,v,d;return{setters:[function(t){o=t.inheritsLoose,n=t.createClass},function(t){e=t.cclegacy,i=t._decorator,a=t.error,s=t.v2,r=t.Vec2},function(t){h=t.EEngineObjLoadState},function(t){u=t.EObjectDir},function(t){c=t.EObjectType},function(t){m=t.EngineAvatar},function(t){l=t.DynamicObject},function(t){g=t.PathFinderManager},function(t){b=t.EWorkResType},function(t){f=t.EAnimState},function(t){v=t.RobotStateFSM},function(t){d=t.ERobotType}],execute:function(){var A;e._RF.push({},"42fb9wS4S5JkZD5o0+yRbd9","object.robot",void 0);var p=i.ccclass;t("RobotActor",p("RobotActor")(A=function(t){function e(){var o;return(o=t.call(this)||this).mEngineAvatar=null,o.mRobotID="0",o.mRobotType=d.None,o.mRobotStateMachine=null,o.mCurAutoMovePath=null,o.mCurIsAutoMoving=!1,o.mInitGridPos=s(),o.mTarWorkObjID=0,o.mObjectType=c.RoleActor,o}o(e,t);var i=e.prototype;return i.InitActorData=function(t){this.NeedDelete=!1,this.mRobotID=t,this.mRobotType=d.Work,this.loadObjResource("ChronoWizardBear/ChronoWizardBear")},i.runFrame=function(o){t.prototype.runFrame.call(this,o),this._updateAutoMoving(),this.mEngineAvatar.updateFrame(o),this.mRobotStateMachine.UpdateCurState(o)},i.initObject=function(){var o=this;t.prototype.initObject.call(this),this.mEngineAvatar=new m,this.mEngineAvatar.LogicObject=this,this.mEngineAvatar.LoadFinishCallback=function(){o._onObjResourceLoadFinish()},this.mEngObj=this.mEngineAvatar,this.mRobotStateMachine=new v(this)},i.loadObjResource=function(t){return null===this.mEngObj?(a("no engine object, big bug!"),!1):this.mEngObj.CurLoadState===h.LoadFinish||(this.mEngObj.CurLoadState===h.None&&this.mEngineAvatar.loadEngineObj(t),!1)},i._onObjResourceLoadFinish=function(){t.prototype._onObjResourceLoadFinish.call(this),this.mEngineAvatar.setName(""),this.ShowResIcon(b.None),this.SetWorkProgressVisible(!1),this.playAnim(f.Idle)},i.clearObjectData=function(){t.prototype.clearObjectData.call(this)},i.IsInState=function(t){return null!=this.mRobotStateMachine&&this.mRobotStateMachine.IsInState(t)},i.ChangeState=function(t){null!=this.mRobotStateMachine&&this.mRobotStateMachine.ChangeState(t)},i.ChangeFaceToTarget=function(t){var o=t.x-this.Position.x;Math.abs(o)>=0&&(this.Dir=o<0?u.Left:u.Right)},i.OnFarmEditFinish=function(){null!=this.mRobotStateMachine&&this.mRobotStateMachine.OnFarmEditFinished()},i.ShowChitChat=function(t){null!==this.mEngineAvatar&&this.mEngineAvatar.showChitChat(this.Name,t)},i.ShowResIcon=function(t){null!==this.mEngineAvatar&&this.mEngineAvatar.showResIcon(t)},i.SetWorkProgressVisible=function(t){null!==this.mEngineAvatar&&this.mEngineAvatar.SetWorkProgressVisible(t)},i.SetWorkProgressValue=function(t){null!==this.mEngineAvatar&&this.mEngineAvatar.SetWorkProgressValue(t)},i.startAutoMove=function(t){var o=g.pixelPosToGridPos(s(t.x,t.y));this.startAutoMoveV2(o)},i.startAutoMoveV2=function(t){var o=this.getGridPos();if(o.equals(t))this.stopAutoMove();else{var n=g.instance.getNode(o.x,o.y),e=g.instance.getNode(t.x,t.y);null!==e&&(this.mCurIsAutoMoving=!0,this.mCurAutoMovePath=g.instance.findPath(n,e),null!=this.mCurAutoMovePath&&0!==this.mCurAutoMovePath.length||(this.mCurAutoMovePath=[],this.mCurAutoMovePath.push(n),this.mCurAutoMovePath.push(e)),null!=this.mCurAutoMovePath&&this.mCurAutoMovePath.shift())}},i.stopAutoMove=function(){this.mCurIsAutoMoving=!1,this.mCurAutoMovePath=null},i._updateAutoMoving=function(){if(this.mCurIsAutoMoving)if(null!=this.mCurAutoMovePath&&0!==this.mCurAutoMovePath.length){if(this.isMovedInTargetGrid()){var t=u.Bottom,o=this.mCurAutoMovePath.shift(),n=g.instance.getNode(this.mGridPos.x,this.mGridPos.y);n.left===o?t=u.Left:n.leftUp===o?t=u.UpLeft:n.leftDown===o?t=u.BottomLeft:n.up===o?t=u.Up:n.down===o?t=u.Bottom:n.rightUp===o?t=u.UpRight:n.rightDown===o?t=u.BottomRight:n.right===o?t=u.Right:n.nX<o.nX?t=u.Left:n.nX>o.nX&&(t=u.Right),null!=o&&(this.Dir=t,this.moveToTargetGrid(t,new r(o.nX,o.nY)))}}else this.stopAutoMove()},i._onStopMove=function(){t.prototype._onStopMove.call(this),null!=this.mRobotStateMachine&&this.mRobotStateMachine.OnMoveFinish()},n(e,[{key:"RobotID",get:function(){return this.mRobotID}},{key:"RobotType",get:function(){return this.mRobotType}},{key:"InitGridPos",get:function(){return this.mInitGridPos},set:function(t){this.mInitGridPos=t}},{key:"TarWorkObjID",get:function(){return this.mTarWorkObjID},set:function(t){this.mTarWorkObjID=t}}]),e}(l))||A);e._RF.pop()}}}));

System.register("chunks:///_virtual/object.worker.interface.ts",["cc"],(function(){"use strict";var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"845528FnVVA9bnXvc7qRBmP","object.worker.interface",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/object.worker.ts",["./rollupPluginModLoBabelHelpers.js","cc","./enum.engine.ts","./enum.object.dir.ts","./enum.object.type.ts","./state.machine2.ts","./engine.avatar.ts","./object.dynamic.ts","./path.finder.manager.ts","./table.helper.ts","./enum.work.define.ts","./enum.anim.state.ts","./enum.farm.building.type.ts"],(function(t){"use strict";var e,i,n,o,r,a,s,h,u,c,l,m,v,g,k,f,W,p,A;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass},function(t){n=t.cclegacy,o=t._decorator,r=t.error,a=t.v2,s=t.Vec2},function(t){h=t.EEngineObjLoadState},function(t){u=t.EObjectDir},function(t){c=t.EObjectType},function(t){l=t.WorkStateMachine},function(t){m=t.EngineAvatar},function(t){v=t.DynamicObject},function(t){g=t.PathFinderManager},function(t){k=t.TableHelper},function(t){f=t.EWorkResType,W=t.EWorkerType},function(t){p=t.EAnimState},function(t){A=t.EFarmBuildingType}],execute:function(){var d;n._RF.push({},"c6cdagOwxlGu77LZx+9L38T","object.worker",void 0);var M=o.ccclass;t("WorkerActor",M("WorkerActor")(d=function(t){function n(){var e;return(e=t.call(this)||this).mEngineAvatar=null,e.mWorkerID="0",e.mWorkerData=null,e.mWorkerType=W.None,e.mWorkerLevel=0,e.mWorkStateMachine=null,e.mCurAutoMovePath=null,e.mCurIsAutoMoving=!1,e.mInitGridPos=a(),e.mTarWorkObjID=0,e.mObjectType=c.RoleActor,e}e(n,t);var o=n.prototype;return o.InitActorData=function(t){this.NeedDelete=!1,this.mWorkerID=t.WorkerData.workerID,this.mWorkerData=t,this.mWorkerLevel=t.WorkerData.roleLevel,this.SetWorkerType(t.WorkerData.roleWorkBuilding);var e=k.getWorkerData(t.WorkerData.roleID);e&&this.loadObjResource(e.resModelPath)},o.runFrame=function(e){t.prototype.runFrame.call(this,e),this._updateAutoMoving(),this.mEngineAvatar.updateFrame(e),this.mWorkStateMachine.UpdateCurState(e)},o.initObject=function(){var e=this;t.prototype.initObject.call(this),this.mEngineAvatar=new m,this.mEngineAvatar.LogicObject=this,this.mEngineAvatar.LoadFinishCallback=function(){e._onObjResourceLoadFinish()},this.mEngObj=this.mEngineAvatar,this.mWorkStateMachine=new l(this)},o.loadObjResource=function(t){return null===this.mEngObj?(r("no engine object, big bug!"),!1):this.mEngObj.CurLoadState===h.LoadFinish||(this.mEngObj.CurLoadState===h.None&&this.mEngineAvatar.loadEngineObj(t),!1)},o._onObjResourceLoadFinish=function(){t.prototype._onObjResourceLoadFinish.call(this),this._showWorkerLevel(),this.ShowResIcon(f.None),this.SetWorkProgressVisible(!1),this.playAnim(p.Idle)},o.clearObjectData=function(){t.prototype.clearObjectData.call(this)},o._showWorkerLevel=function(){if(this.mEngineAvatar){var t=k.getWorkerLevel(this.mWorkerLevel);t?(this.mEngineAvatar.setName("Lv. "+t.showLevel),this.mEngineAvatar.setStar(t.star)):(this.mEngineAvatar.setName("Lv. "+this.mWorkerLevel),this.mEngineAvatar.setStar(0))}},o.SetWorkerType=function(t){switch(t){case A.Mushroom:this.mWorkerType=W.Farmer;break;case A.ManaGel:this.mWorkerType=W.Hunter;break;case A.Ethereal:this.mWorkerType=W.Miner;break;default:this.mWorkerType=W.None}},o.SetWorkerLevel=function(t){this.mWorkerLevel=t,this._showWorkerLevel()},o.IsInState=function(t){return null!=this.mWorkStateMachine&&this.mWorkStateMachine.IsInState(t)},o.ChangeState=function(t){null!=this.mWorkStateMachine&&this.mWorkStateMachine.ChangeState(t)},o.ChangeFaceToTarget=function(t){var e=t.x-this.Position.x;Math.abs(e)>=0&&(this.Dir=e<0?u.Left:u.Right)},o.OnFarmEditFinish=function(){null!=this.mWorkStateMachine&&this.mWorkStateMachine.OnFarmEditFinished()},o.ShowChitChat=function(t){null!==this.mEngineAvatar&&this.mEngineAvatar.showChitChat(this.Name,t)},o.ShowResIcon=function(t){null!==this.mEngineAvatar&&this.mEngineAvatar.showResIcon(t)},o.SetWorkProgressVisible=function(t){null!==this.mEngineAvatar&&this.mEngineAvatar.SetWorkProgressVisible(t)},o.SetWorkProgressValue=function(t){null!==this.mEngineAvatar&&this.mEngineAvatar.SetWorkProgressValue(t)},o.startAutoMove=function(t){var e=g.pixelPosToGridPos(a(t.x,t.y));this.startAutoMoveV2(e)},o.startAutoMoveV2=function(t){var e=this.getGridPos();if(e.equals(t))this.stopAutoMove();else{var i=g.instance.getNode(e.x,e.y),n=g.instance.getNode(t.x,t.y);null!==n&&(this.mCurIsAutoMoving=!0,this.mCurAutoMovePath=g.instance.findPath(i,n),this.mCurMoveAnim=p.Walk,null!=this.mCurAutoMovePath&&0!==this.mCurAutoMovePath.length||(this.mCurAutoMovePath=[],this.mCurAutoMovePath.push(i),this.mCurAutoMovePath.push(n),this.mCurMoveAnim=p.Run),null!=this.mCurAutoMovePath&&this.mCurAutoMovePath.shift())}},o.stopAutoMove=function(){this.mCurIsAutoMoving=!1,this.mCurAutoMovePath=null},o._updateAutoMoving=function(){if(this.mCurIsAutoMoving)if(null!=this.mCurAutoMovePath&&0!==this.mCurAutoMovePath.length){if(this.isMovedInTargetGrid()){var t=u.Bottom,e=this.mCurAutoMovePath.shift(),i=g.instance.getNode(this.mGridPos.x,this.mGridPos.y);i.left===e?t=u.Left:i.leftUp===e?t=u.UpLeft:i.leftDown===e?t=u.BottomLeft:i.up===e?t=u.Up:i.down===e?t=u.Bottom:i.rightUp===e?t=u.UpRight:i.rightDown===e?t=u.BottomRight:i.right===e?t=u.Right:i.nX<e.nX?t=u.Left:i.nX>e.nX&&(t=u.Right),null!=e&&(this.Dir=t,this.moveToTargetGrid(t,new s(e.nX,e.nY)))}}else this.stopAutoMove()},o._onStopMove=function(){t.prototype._onStopMove.call(this),null!=this.mWorkStateMachine&&this.mWorkStateMachine.OnMoveFinish()},i(n,[{key:"WorkerID",get:function(){return this.mWorkerID}},{key:"WorkerLevel",get:function(){return this.mWorkerLevel}},{key:"WorkerType",get:function(){return this.mWorkerType},set:function(t){this.mWorkerType=t}},{key:"InitGridPos",get:function(){return this.mInitGridPos},set:function(t){this.mInitGridPos=t}},{key:"TarWorkObjID",get:function(){return this.mTarWorkObjID},set:function(t){this.mTarWorkObjID=t}}]),n}(v))||d);n._RF.pop()}}}));

System.register("chunks:///_virtual/okx.connect.sdk.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(n){"use strict";var e,t,r,i;return{setters:[function(n){e=n.asyncToGenerator,t=n.regeneratorRuntime},function(n){r=n.cclegacy,i=n._decorator}],execute:function(){var s,o;r._RF.push({},"d1873uiuiNEBJikZJpUilDh","okx.connect.sdk",void 0);var c=i.ccclass;n("OKXConnectSDK",c("OKXConnectSDK")(((o=function(){function n(){}return n.initOKXConnectSDK=function(){var n=e(t().mark((function n(){return t().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(this.window_OKXConnectUniversal=window.OKXConnectUniversal,this.window_OKXConnectUniversal){n.next=3;break}return n.abrupt("return");case 3:return n.next=5,this.window_OKXConnectUniversal.OKXUniversalProvider.init({dappMetaData:{name:"Wizzwoods",icon:"https://tg-resource.wizzwoods.com/icon/icon256.png"}});case 5:this.okxUniversalProvider=n.sent,this.okxUniversalProvider.on("display_uri",(function(n){console.log(n)})),this.okxUniversalProvider.on("session_update",(function(n){console.log(JSON.stringify(n))})),this.okxUniversalProvider.on("session_delete",(function(n){var e=n.topic;console.log(e)})),this.initFinish=!0;case 10:case"end":return n.stop()}}),n,this)})));return function(){return n.apply(this,arguments)}}(),n.connect=function(){var n=e(t().mark((function n(){var e,r;return t().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(this.initFinish){n.next=2;break}return n.abrupt("return");case 2:return n.prev=2,n.next=5,this.okxUniversalProvider.connect({namespaces:{eip155:{chains:["eip155:1"],rpcMap:{1:"https://mainnet.infura.io/v3/"},defaultChain:"1"}},optionalNamespaces:{eip155:{chains:["eip155:43114"]}},sessionConfig:{redirect:"tg://resolve"}});case 5:return e=n.sent,console.log(e),n.next=9,this.getAddress();case 9:return r=n.sent,n.abrupt("return",r);case 13:return n.prev=13,n.t0=n.catch(2),console.log(n.t0),n.abrupt("return",null);case 17:case"end":return n.stop()}}),n,this,[[2,13]])})));return function(){return n.apply(this,arguments)}}(),n.disConnect=function(){var n=e(t().mark((function n(){return t().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(this.initFinish){n.next=2;break}return n.abrupt("return");case 2:case"end":return n.stop()}}),n,this)})));return function(){return n.apply(this,arguments)}}(),n.getAddress=function(){var n=e(t().mark((function n(){var e,r,i;return t().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,"eip155:1",e={method:"eth_requestAccounts"},n.next=5,this.okxUniversalProvider.request(e,"eip155:1");case 5:return r=n.sent,console.log(r),i="",r&&r.length>0&&(i=r[0]),n.abrupt("return",i);case 12:return n.prev=12,n.t0=n.catch(0),console.log(n.t0),n.abrupt("return",null);case 16:case"end":return n.stop()}}),n,this,[[0,12]])})));return function(){return n.apply(this,arguments)}}(),n}()).window_OKXConnectUniversal=null,o.okxUniversalProvider=null,o.initFinish=!1,o.walletAddress="",s=o))||s);r._RF.pop()}}}));

System.register("chunks:///_virtual/openad.sdk.ts",["cc","./new.guide.manager.ts"],(function(e){"use strict";var n,t,i,s;return{setters:[function(e){n=e.cclegacy,t=e._decorator,i=e.game},function(e){s=e.NewGuideManager}],execute:function(){var d,o;n._RF.push({},"5b41673daFBOqnEd5TvxDkD","openad.sdk",void 0);var l=t.ccclass;e("OpenAdSDK",l("OpenAdSDK")(((o=function(){function e(){}return e.initOpenAD=function(){this.openAdElement||this.createElement()},e.showBannerAD=function(){s.instance.IsInGuideScene||this.openAdElement&&(this.openAdElement.style.display="block")},e.hideBannerAD=function(){s.instance.IsInGuideScene||this.openAdElement&&(this.openAdElement.style.display="none")},e.createElement=function(){try{var e,n;this.openAdElement=document.createElement("div"),this.openAdElement.id="openad",this.openAdElement.style.zIndex="100",this.openAdElement.style.position="absolute",this.openAdElement.style.bottom="-10px",this.openAdElement.style.width="100%",this.openAdElement.style.maxWidth="234px",this.openAdElement.style.left="50%",this.openAdElement.style.transform="translateX(-50%)",this.openAdElement.style.display="none";var t=document.createElement("ins");t.setAttribute("data-revive-zoneid","30"),t.setAttribute("data-revive-id","6fced4eee9927b57847cf8dce447ceac"),this.openAdElement.append(t);var s=document.createElement("script");s.async=!0,s.src="//alpha.openad.network/www/delivery/asyncjs.php",this.openAdElement.append(s),null==(e=i.canvas)||null==(n=e.parentElement)||n.appendChild(this.openAdElement),this.openAdInitFinish=!0}catch(e){console.log(e)}},e}()).openAdElement=null,o.openAdInitFinish=!1,d=o))||d);n._RF.pop()}}}));

System.register("chunks:///_virtual/path.define.ts",["cc"],(function(e){"use strict";var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"ca039heBlZLUrSTcMhgSk1o","path.define",void 0);e("MainPathNodeType",{None:0,StaticObstacle:1,TransparentArea:2,Walkable:4,Party:128}),e("FarmPathNodeType",{None:0,StaticObstacle:1,TransparentArea:2,Walkable:4});t._RF.pop()}}}));

System.register("chunks:///_virtual/path.finder.base.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,i,n,o,r,s,a,h;return{setters:[function(t){e=t.createClass,i=t.asyncToGenerator,n=t.regeneratorRuntime},function(t){o=t.cclegacy,r=t._decorator,s=t.error,a=t.Vec2,h=t.v2}],execute:function(){var l;o._RF.push({},"adcf3mppeJIjqz5ZwGs9m9U","path.finder.base",void 0);var u=r.ccclass;t("PathFinderBase",u("PathFinderBase")(l=function(){function t(){this.mAllPathNodeList=null,this.mWidth=0,this.mHeight=0,this.mNodeSize=h(0,0),this.mScale=1}var o=t.prototype;return o.loadGridData=function(){var t=i(n().mark((function t(e){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),o.loadByFarmGrid=function(t){},o.setDynamicObstacle=function(t,e,i){},o.setNodeType=function(t,e,i){},o.clearAllGridData=function(){null!=this.mAllPathNodeList&&(this.mAllPathNodeList=null),this.mWidth=0,this.mHeight=0},o.findPath=function(t,e){return null},o.getNode=function(t,e){return this._IsPosValid(t,e)?this.mAllPathNodeList[t][e]:null},o._IsPosValid=function(t,e){return t>=0&&t<this.width&&e>=0&&e<this.mHeight},o._calculateNodeRelations=function(){for(var t=0;t<this.mHeight;t+=1)for(var e=0;e<this.mWidth;e+=1){var i=this.getNode(e,t);i.left=this.getNode(e+1,t),i.right=this.getNode(e-1,t),i.up=this.getNode(e,t-1),i.down=this.getNode(e,t+1),i.leftUp=this.getNode(e+1,t-1),i.rightUp=this.getNode(e-1,t-1),i.leftDown=this.getNode(e+1,t+1),i.rightDown=this.getNode(e-1,t+1),i.collectAllNeighbors()}},o.calculateCost=function(t,e){return null==t||null==e?(s("[calculateCost]"," to test node is null!"),1e4):a.distance(t.nCenterPos,e.nCenterPos)},e(t,[{key:"width",get:function(){return this.mWidth}},{key:"height",get:function(){return this.mHeight}},{key:"nodeSize",get:function(){return this.mNodeSize}}]),t}())||l);o._RF.pop()}}}));

System.register("chunks:///_virtual/path.finder.farm.ts",["./rollupPluginModLoBabelHelpers.js","cc","./path.define.ts","./path.node.farm.ts","./path.finder.base.ts"],(function(t){"use strict";var e,a,r,i,h,s,n,o;return{setters:[function(t){e=t.inheritsLoose},function(t){a=t.cclegacy,r=t._decorator,i=t.v2,h=t.error},function(t){s=t.FarmPathNodeType},function(t){n=t.PathNodeFarm},function(t){o=t.PathFinderBase}],execute:function(){var c;a._RF.push({},"dcf0co14DFNv5hUXTv53mVg","path.finder.farm",void 0);var l=r.ccclass;t("PathFinderFarm",l("PathFinderFarm")(c=function(t){function a(){return t.apply(this,arguments)||this}e(a,t);var r=a.prototype;return r.loadByFarmGrid=function(t){try{this.mScale=t.scale,this.mWidth=t.w*this.mScale,this.mHeight=t.h*this.mScale,this.mNodeSize.x=t.gw/this.mScale,this.mNodeSize.y=t.gh/this.mScale,this.mAllPathNodeList=new Array;for(var e=0;e<this.mWidth;e+=1){for(var a=new Array,r=0;r<this.mHeight;r+=1){var o=r*this.mWidth+e,c=i(0,0);c.x=-(e+.5)*this.mNodeSize.x,c.y=-(r+.5)*this.mNodeSize.y;var l=new n(o,e,r,c,s.StaticObstacle);a.push(l)}this.mAllPathNodeList.push(a)}this._calculateNodeRelations()}catch(t){h(t)}},r.getNode=function(t,e){return this._IsPosValid(t,e)?this.mAllPathNodeList[t][e]:null},r.setNodeType=function(t,e,a){for(var r=t*this.mScale,i=e*this.mScale,h=r+this.mScale,s=i+this.mScale,n=r;n<h;n+=1)for(var o=i;o<s;o+=1){var c=this.getNode(n,o);null!=c&&(c.nType=a)}},r.setDynamicObstacle=function(t,e,a){for(var r=t*this.mScale,i=e*this.mScale,h=r+this.mScale,s=i+this.mScale,n=r;n<h;n+=1)for(var o=i;o<s;o+=1){var c=this.getNode(n,o);null!=c&&(c.dynamicObstacle=a)}},r.getPathNodeListByLogic=function(t,e){for(var a=[],r=t*this.mScale,i=e*this.mScale,h=r+this.mScale,s=i+this.mScale,n=r;n<h;n+=1)for(var o=i;o<s;o+=1){var c=this.getNode(n,o);null!=c&&a.push(c)}return a},r.findPath=function(t,e){var a=new Array;if(t.idx===e.idx)return a.push(e),a;var r=new Array,i=new Array;t.pathScoreG=0,t.pathScoreF=t.pathScoreG+this.calculateCost(t,e),i.push(t),t.pathParent=null;for(var h=null;i.length>0;){for(var s=Number.MAX_VALUE,n=0;n<i.length;n+=1){var o=i[n];o.pathScoreF<s&&(s=o.pathScoreF,h=o)}if(h.idx===e.idx){for(;h.idx!==t.idx;)a.push(h),h=h.pathParent;return a.push(t),a.reverse()}var c=h.nNeighbors;i=i.filter((function(t){return t.idx!==h.idx})),r.push(h);for(var l=0;l<c.length;l+=1){var u=c[l];if(u.isCanMove()&&-1===r.indexOf(u)){var d=h.pathScoreG+this.calculateCost(h,u);(-1===i.indexOf(u)||d<u.pathScoreG)&&(u.pathParent=h,u.pathScoreG=d,u.pathScoreF=u.pathScoreG+this.calculateCost(u,e),-1===i.indexOf(u)&&i.push(u))}}}return null},a}(o))||c);a._RF.pop()}}}));

System.register("chunks:///_virtual/path.finder.manager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./enum.object.dir.ts","./base.manager.ts","./path.finder.farm.ts"],(function(t){"use strict";var n,e,l,i,r,a,o,u;return{setters:[function(t){n=t.inheritsLoose,e=t.createClass},function(t){l=t.cclegacy,i=t._decorator,r=t.Vec2},function(t){a=t.EObjectDir},function(t){o=t.BaseManager},function(t){u=t.PathFinderFarm}],execute:function(){var s,h;l._RF.push({},"24bb2ZBNZpOOYaqV/Qa+k5V","path.finder.manager",void 0);var f=i.ccclass;t("PathFinderManager",f("PathFinderManager")(((h=function(t){function l(){for(var n,e=arguments.length,l=new Array(e),i=0;i<e;i++)l[i]=arguments[i];return(n=t.call.apply(t,[this].concat(l))||this).mCurUsePathFinder=null,n}n(l,t),l.loadStaticData=function(t){l.GRID_WIDTH=t.x,l.GRID_HEIGHT=t.y,l.HALF_GRID_WIDTH=l.GRID_WIDTH/2,l.HALF_GRID_HEIGHT=l.GRID_HEIGHT/2,l.GRID_WIDTH_INVERT=1/l.GRID_WIDTH,l.GRID_HEIGHT_INVERT=1/l.GRID_HEIGHT},l.gridCenterToPixelPos=function(t){var n=new r;return n.x=-(t.x+.5)*l.GRID_WIDTH,n.y=-(t.y+.5)*l.GRID_HEIGHT,n},l.pixelPosToGridPos=function(t){var n=new r;return n.x=Math.floor(-t.x*l.GRID_WIDTH_INVERT),n.y=Math.floor(-t.y*l.GRID_HEIGHT_INVERT),n};var i=l.prototype;return i.clearAllNodeDatas=function(){null!=this.mCurUsePathFinder&&this.mCurUsePathFinder.clearAllGridData()},i.getNode=function(t,n){return null!=this.mCurUsePathFinder?this.mCurUsePathFinder.getNode(t,n):null},i.findPath=function(t,n){return null!=this.mCurUsePathFinder?this.mCurUsePathFinder.findPath(t,n):null},i.isPathAvailable=function(t,n){var e=l.instance.getNode(t.x,t.y),i=l.instance.getNode(n.x,n.y);return null!=e&&null!=i&&(null!=this.mCurUsePathFinder&&null!=this.mCurUsePathFinder.findPath(e,i))},i.loadFarmNodeData=function(t){var n=new u;this.mCurUsePathFinder=n,n.loadByFarmGrid(t),l.loadStaticData(this.mCurUsePathFinder.nodeSize)},i.setDynamicObstacle=function(t,n,e){if(null!=this.mCurUsePathFinder)return this.mCurUsePathFinder.setDynamicObstacle(t,n,e)},i.setNodeType=function(t,n,e){if(null!=this.mCurUsePathFinder)return this.mCurUsePathFinder.setNodeType(t,n,e)},i.getWalkNodeByDir=function(t,n){var e=null,l=a.Max,i=this.getNode(t.x,t.y);if(null!=i){switch(n){case a.Bottom:null==e&&null!=i.down&&i.down.isCanMove()&&(e=i.down,l=a.Bottom),null==e&&null!=i.leftDown&&i.leftDown.isCanMove()&&(e=i.leftDown,l=a.BottomLeft),null==e&&null!=i.rightDown&&i.rightDown.isCanMove()&&(e=i.rightDown,l=a.BottomRight);break;case a.Up:null==e&&null!=i.up&&i.up.isCanMove()&&(e=i.up,l=a.Up),null==e&&null!=i.leftUp&&i.leftUp.isCanMove()&&(e=i.leftUp,l=a.UpLeft),null==e&&null!=i.rightUp&&i.rightUp.isCanMove()&&(e=i.rightUp,l=a.UpRight);break;case a.BottomLeft:null==e&&null!=i.leftDown&&i.leftDown.isCanMove()&&(e=i.leftDown,l=a.BottomLeft),null==e&&null!=i.down&&i.down.isCanMove()&&(e=i.down,l=a.Bottom),null==e&&null!=i.left&&i.left.isCanMove()&&(e=i.left,l=a.Left);break;case a.BottomRight:null==e&&null!=i.rightDown&&i.rightDown.isCanMove()&&(e=i.rightDown,l=a.BottomRight),null==e&&null!=i.down&&i.down.isCanMove()&&(e=i.down,l=a.Bottom),null==e&&null!=i.right&&i.right.isCanMove()&&(e=i.right,l=a.Right);break;case a.UpLeft:null==e&&null!=i.leftUp&&i.leftUp.isCanMove()&&(e=i.leftUp,l=a.UpLeft),null==e&&null!=i.up&&i.up.isCanMove()&&(e=i.up,l=a.Up),null==e&&null!=i.left&&i.left.isCanMove()&&(e=i.left,l=a.Left);break;case a.UpRight:null==e&&null!=i.rightUp&&i.rightUp.isCanMove()&&(e=i.rightUp,l=a.UpRight),null==e&&null!=i.right&&i.right.isCanMove()&&(e=i.right,l=a.Right),null==e&&null!=i.up&&i.up.isCanMove()&&(e=i.up,l=a.Up);break;case a.Left:null==e&&null!=i.left&&i.left.isCanMove()&&(e=i.left,l=a.Left),null==e&&null!=i.leftDown&&i.leftDown.isCanMove()&&(e=i.leftDown,l=a.BottomLeft),null==e&&null!=i.leftUp&&i.leftUp.isCanMove()&&(e=i.leftUp,l=a.UpLeft);break;case a.Right:null==e&&null!=i.right&&i.right.isCanMove()&&(e=i.right,l=a.Right),null==e&&null!=i.rightDown&&i.rightDown.isCanMove()&&(e=i.rightDown,l=a.BottomRight),null==e&&null!=i.rightUp&&i.rightUp.isCanMove()&&(e=i.rightUp,l=a.UpRight)}return[e,l]}},e(l,null,[{key:"instance",get:function(){return null==this._instance&&(this._instance=new l),this._instance}}]),l}(o))._instance=null,h.GRID_WIDTH=40,h.GRID_HEIGHT=20,h.HALF_GRID_WIDTH=20,h.HALF_GRID_HEIGHT=10,h.GRID_WIDTH_INVERT=1/h.GRID_WIDTH,h.GRID_HEIGHT_INVERT=1/h.GRID_HEIGHT,s=h))||s);l._RF.pop()}}}));

System.register("chunks:///_virtual/path.node.base.ts",["cc"],(function(t){"use strict";var i,s;return{setters:[function(t){i=t.cclegacy,s=t._decorator}],execute:function(){var h;i._RF.push({},"ded14FKeMNMpL9G4gCrNQiN","path.node.base",void 0);var n=s.ccclass;t("PathNodeBase",n("PathNodeBase")(h=function(){function t(t,i,s,h,n){this.idx=void 0,this.nX=void 0,this.nY=void 0,this.nType=void 0,this.dynamicObstacle=void 0,this.nCenterPos=void 0,this.nNeighbors=void 0,this.up=null,this.down=null,this.left=null,this.right=null,this.leftUp=null,this.rightUp=null,this.leftDown=null,this.rightDown=null,this.isChecked=!1,this.pathScoreF=0,this.pathScoreG=0,this.pathParent=null,this.idx=t,this.nX=i,this.nY=s,this.nCenterPos=h,this.nType=n}var i=t.prototype;return i.collectAllNeighbors=function(){this.nNeighbors=[],null!=this.up&&this.nNeighbors.push(this.up),null!=this.down&&this.nNeighbors.push(this.down),null!=this.left&&this.nNeighbors.push(this.left),null!=this.right&&this.nNeighbors.push(this.right),null!=this.leftUp&&this.nNeighbors.push(this.leftUp),null!=this.rightUp&&this.nNeighbors.push(this.rightUp),null!=this.leftDown&&this.nNeighbors.push(this.leftDown),null!=this.rightDown&&this.nNeighbors.push(this.rightDown)},i.isCanMove=function(){return!1},t}())||h);i._RF.pop()}}}));

System.register("chunks:///_virtual/path.node.farm.ts",["./rollupPluginModLoBabelHelpers.js","cc","./path.define.ts","./path.node.base.ts"],(function(t){"use strict";var e,a,n,o,r;return{setters:[function(t){e=t.inheritsLoose},function(t){a=t.cclegacy,n=t._decorator},function(t){o=t.FarmPathNodeType},function(t){r=t.PathNodeBase}],execute:function(){var c;a._RF.push({},"aa50baeZONBBaRUdz9Ab35W","path.node.farm",void 0);var s=n.ccclass;t("PathNodeFarm",s("PathNodeFarm")(c=function(t){function a(e,a,n,o,r){return t.call(this,e,a,n,o,r)||this}return e(a,t),a.prototype.isCanMove=function(){return 0==(this.nType&o.StaticObstacle)&&!this.dynamicObstacle},a}(r))||c);a._RF.pop()}}}));

System.register("chunks:///_virtual/path.node.interface.ts",["cc"],(function(){"use strict";var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"53534zex09HfrzLG7OPz/Fx","path.node.interface",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/PatternGestureRecognizer.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GestureRecognizer.ts","./Timer.ts","./Monitor.ts"],(function(t){"use strict";var i,e,n,s,h,o,r,a,_,c;return{setters:[function(t){i=t.inheritsLoose,e=t.createClass},function(t){n=t.cclegacy,s=t.Input,h=t.Vec3,o=t.view,r=t.Vec2},function(t){a=t.GestureRecognizer},function(t){_=t.Timer},function(t){c=t.Monitor}],execute:function(){n._RF.push({},"848fam7rvhOh54FHKcO3ZIm","PatternGestureRecognizer",void 0);var u=s.EventType,l=t("PatternGestureRecognizer",function(t){function n(i,e){var n;return(n=t.call(this,i)||this).recognizeDelay=1,n.minInvertalDist=1,n._patternManager=void 0,n._points=[],n._enabled=!1,n._startTime=0,n._started=!1,n._currentPathId=0,n._patternManager=e,n}i(n,t);var s=n.prototype;return s.setEnable=function(t){t?this._enabled||(this.on(u.TOUCH_START,this.__touchBegin,this),this._enabled=!0):this._enabled&&(this.off(u.TOUCH_START,this.__touchBegin,this),this._enabled=!1)},s.dispose=function(){t.prototype.dispose.call(this),this.stopRecoginze(),this.setEnable(!1)},s.stopRecoginze=function(){this.onEnd()},s.__touchBegin=function(t){if(!c.ignoreEvent(t)){if(this._started){if(t.getAllTouches().length>1)return void this.onEnd();this._currentPathId++}this._currentPathId=1,this.onStart(t)}},s.onStart=function(t){this._started=!0,this.host.on(u.TOUCH_MOVE,this.__touchMove,this),this.host.on(u.TOUCH_END,this.__touchEnd,this),this.host.on(u.TOUCH_CANCEL,this.__touchEnd,this),this._startTime=_.inst.unscaleTimer},s.__touchMove=function(t){if(!(c.ignoreEvent(t)||_.inst.unscaleTimer-this._startTime<50)){if(t.getLocation(T),this._points.length>0){var i=this._points[this._points.length-1];if(f.set(i.x,i.y),f.subtract(T).length()<this.minInvertalDist)return}this._points.push(new h(T.x,T.y,this._currentPathId)),this.host.emit(n.PATTERN_TACKING,this,t)}},s.onEnd=function(){this.host.off(u.TOUCH_MOVE,this.__touchMove,this),this.host.off(u.TOUCH_END,this.__touchEnd,this),this.host.off(u.TOUCH_CANCEL,this.__touchEnd,this),this._points.length=0,this._startTime=0,this._started=!1,this._currentPathId=0,_.inst.clearAll(this)},s.recognize=function(t,i){void 0===t&&(t=!0),void 0===i&&(i=!0);for(var e=[],s=o.getVisibleSize(),r=Math.max(s.width,s.height),a=0,_=r,c=0,u=r,l=0;l<this._points.length;l++){var T=this._points[l];_=Math.min(_,T.x),a=Math.max(a,T.x),u=Math.min(u,T.y),c=Math.max(c,T.y)}r=Math.max(a-_,c-u);for(var f=0;f<this._points.length;f++){var g=this._points[f];e.push(new h(g.x/r,(r-g.y)/r,g.z))}var d=this._patternManager.recognize(e);return t&&this.host.emit(n.PATTERN_ACTION,this,d),i&&this.onEnd(),d},s.__touchEnd=function(t){var i=this;c.ignoreEvent(t)||(_.inst.clearAll(this),this.recognizeDelay>0&&_.inst.once(1e3*this.recognizeDelay,(function(){i._started&&(i._started=!1,i.recognize())}),this))},e(n,[{key:"points",get:function(){return this._points}}]),n}(a));l.PATTERN_ACTION="PATTERN_ACTION",l.PATTERN_TACKING="PATTERN_TACKING";var T=new r,f=new r;n._RF.pop()}}}));

System.register("chunks:///_virtual/PatternGestureRecognizerComp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PatternGestureRecognizer.ts","./PatternManager.ts","./GestureRecognizerComp.ts"],(function(e){"use strict";var t,r,n,i,o,a,c,s,u,l;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized,o=e.createClass},function(e){a=e.cclegacy,c=e._decorator},function(e){s=e.PatternGestureRecognizer},function(e){u=e.PatternManager},function(e){l=e.GestureRecognizerComp}],execute:function(){var p,g,z,h,f,y,m,_;a._RF.push({},"e6169/p2gxEupjAa/95GNjO","PatternGestureRecognizerComp",void 0);var D=c.ccclass,v=c.requireComponent,P=c.property;e("PatternGestureRecognizerComp",(p=D("PatternGestureRecognizerComp"),g=v(u),z=P({tooltip:"离开时间后开始识别，单位秒(小于等于0表示不主动识别)"}),h=P({tooltip:"最小点间距"}),p(f=g((m=t((y=function(e){function t(){for(var t,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,n(t,"recognizeDelay",m,i(t)),n(t,"minInvertalDist",_,i(t)),t._patternManager=null,t}return r(t,e),t.prototype.start=function(){},o(t,[{key:"patternManager",get:function(){return this._patternManager}},{key:"recognizer",get:function(){return null==this._recognizer&&(this._patternManager=this.getComponent(u),this._recognizer=new s(this.node,this._patternManager),this._recognizer.recognizeDelay=this.recognizeDelay,this._recognizer.minInvertalDist=this.minInvertalDist),this._recognizer}}]),t}(l)).prototype,"recognizeDelay",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),_=t(y.prototype,"minInvertalDist",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),f=y))||f)||f));a._RF.pop()}}}));

System.register("chunks:///_virtual/PatternManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GesturePattern.ts","./PDollarRecognizer.ts"],(function(e){"use strict";var t,r,n,i,a,o,s,c,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){a=e.cclegacy,o=e._decorator,s=e.Component},function(e){c=e.GesturePattern},function(e){u=e.PDollarRecognizer}],execute:function(){var l,p,g,f,h,z;a._RF.push({},"302ad8FdJFH560r9Q02LyJa","PatternManager",void 0);var P=o.ccclass,d=o.property;e("PatternManager",(l=P("PatternManager"),p=d([c]),l((h=t((f=function(e){function t(){for(var t,r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,n(t,"patterns",h,i(t)),n(t,"resampleCount",z,i(t)),t._recognizer=null,t}r(t,e);var a=t.prototype;return a.start=function(){this._recognizer=new u(this.patterns,this.resampleCount)},a.addPattern=function(e){this._recognizer.AddGesture(e.patternName,e.points)},a.recognize=function(e){return this._recognizer.Recognize(e)},a.clearPatterns=function(){this._recognizer.DeleteUserGestures()},t}(s)).prototype,"patterns",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),z=t(f.prototype,"resampleCount",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 32}}),g=f))||g));a._RF.pop()}}}));

System.register("chunks:///_virtual/PatternRecognizerResult.ts",["cc"],(function(){"use strict";var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"48549UCt7NEBoAHCrXtAZAM","PatternRecognizerResult",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/PDollarRecognizer.ts",["cc"],(function(t){"use strict";var n;return{setters:[function(t){n=t.cclegacy}],execute:function(){function e(t,n,e){this.X=t,this.Y=n,this.ID=e}function r(t,n,r){this.Name=t,this.Points=function(t,n){for(var r=function(t){for(var n=0,e=1;e<t.length;e++)t[e].ID===t[e-1].ID&&(n+=a(t[e-1],t[e]));return n}(t)/(n-1),i=0,o=new Array(t[0]),h=1;h<t.length;h++)if(t[h].ID===t[h-1].ID){var s=a(t[h-1],t[h]);if(i+s>=r){var l=new e(t[h-1].X+(r-i)/s*(t[h].X-t[h-1].X),t[h-1].Y+(r-i)/s*(t[h].Y-t[h-1].Y),t[h].ID);o[o.length]=l,t.splice(h,0,l),i=0}else i+=s}o.length===n-1&&(o[o.length]=new e(t[t.length-1].X,t[t.length-1].Y,t[t.length-1].ID));return o}(n,r),this.Points=function(t){for(var n=1/0,r=-1/0,i=1/0,o=-1/0,h=0;h<t.length;h++)n=Math.min(n,t[h].X),i=Math.min(i,t[h].Y),r=Math.max(r,t[h].X),o=Math.max(o,t[h].Y);for(var s=Math.max(r-n,o-i),l=[],a=0;a<t.length;a++){var u=(t[a].X-n)/s,g=(t[a].Y-i)/s;l[l.length]=new e(u,g,t[a].ID)}return l}(this.Points),this.Points=function(t,n){for(var r=function(t){for(var n=0,r=0,i=0;i<t.length;i++)n+=t[i].X,r+=t[i].Y;return n/=t.length,r/=t.length,new e(n,r,0)}(t),i=[],o=0;o<t.length;o++){var h=t[o].X+n.X-r.X,s=t[o].Y+n.Y-r.Y;i[i.length]=new e(h,s,t[o].ID)}return i}(this.Points,h)}function i(t,n,e){this.Name=t,this.Score=n,this.Time=e}function o(t){for(var n=[],r=0;r<t.length;r++){var i=t[r];n.push(new e(i.x,i.y,0))}return n}t("PDollarRecognizer",(function(t,n){void 0===n&&(n=32);this.NumPoints=n,this.PointClouds=Array.from({length:t.length});for(var e=0;e<t.length;e++){var h=t[e],l=o(h.points);this.PointClouds[e]=new r(h.patternName,l,this.NumPoints)}this.Recognize=function(t){t=o(t);for(var n=Date.now(),e=new r("",t,this.NumPoints),h=-1,l=1/0,a=0;a<this.PointClouds.length;a++){var u=s(e.Points,this.PointClouds[a]);u<l&&(l=u,h=a)}var g=Date.now();return-1===h?new i("",0,g-n):new i(this.PointClouds[h].Name,l>1?1/l:1,g-n)},this.AddGesture=function(t,n){n=o(n),this.PointClouds[this.PointClouds.length]=new r(t,n,this.NumPoints);for(var e=0,i=0;i<this.PointClouds.length;i++)this.PointClouds[i].Name===t&&e++;return e},this.DeleteUserGestures=function(){return this.PointClouds.length=0,0}})),n._RF.push({},"094ecI+x81PDLNlc8p4AOwi","PDollarRecognizer",void 0);var h=new e(0,0,0);function s(t,n){for(var e=Math.floor(Math.pow(t.length,.5)),r=1/0,i=0;i<t.length;i+=e){var o=l(t,n.Points,i),h=l(n.Points,t,i);r=Math.min(r,Math.min(o,h))}return r}function l(t,n,e){for(var r=Array.from({length:t.length}),i=0;i<t.length;i++)r[i]=!1;var o=0,h=e;do{for(var s=-1,l=1/0,u=0;u<r.length;u++)if(!r[u]){var g=a(t[h],n[u]);g<l&&(l=g,s=u)}r[s]=!0,o+=(1-(h-e+t.length)%t.length/t.length)*l,h=(h+1)%t.length}while(h!==e);return o}function a(t,n){var e=n.X-t.X,r=n.Y-t.Y;return Math.sqrt(e*e+r*r)}n._RF.pop()}}}));

System.register("chunks:///_virtual/PinchGestureRecognizer.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GestureRecognizer.ts","./Timer.ts","./Monitor.ts"],(function(t){"use strict";var e,s,i,h,n,o,c,a;return{setters:[function(t){e=t.inheritsLoose,s=t.createClass},function(t){i=t.cclegacy,h=t.Input,n=t.Vec2},function(t){o=t.GestureRecognizer},function(t){c=t.Timer},function(t){a=t.Monitor}],execute:function(){i._RF.push({},"ffdb8fm6ypPTYpBX3XbPZqG","PinchGestureRecognizer",void 0);var r=h.EventType,u=t("PinchGestureRecognizer",function(t){function i(){for(var e,s=arguments.length,i=new Array(s),h=0;h<s;h++)i[h]=arguments[h];return(e=t.call.apply(t,[this].concat(i))||this).touchDragSensitivity=15,e.numberOfTouchesRequired=2,e.scale=0,e.delta=0,e._realTouchCount=0,e.center=new n,e._startDistance=0,e._lastScale=0,e._started=!1,e._touchBegan=!1,e._enabled=!1,e._moveRegisted=!1,e._startTime=0,e}e(i,t);var h=i.prototype;return h.setEnable=function(t){t?this._enabled||(this.on(r.TOUCH_START,this.__touchBegin,this),this._enabled=!0):(this._started=!1,this._touchBegan=!1,this._enabled&&(this.off(r.TOUCH_START,this.__touchBegin,this),this._enabled=!1))},h.dispose=function(){t.prototype.dispose.call(this),this.stopRecoginze(),this.setEnable(!1)},h.stopRecoginze=function(){this._started=!1,this.onEnd(null)},h.__touchBegin=function(t){if(!a.ignoreEvent(t)){var e=t.getAllTouches();1!==this.numberOfTouchesRequired&&(this._startTime=c.inst.unscaleTimer,this._touchBegan?this.__touchEnd(t):this.numberOfTouchesRequired>0?e.length===this.numberOfTouchesRequired&&this.onStart(t):this._moveRegisted||(this.host.on(r.TOUCH_MOVE,this.__touchMove,this),this._moveRegisted=!0))}},h.onStart=function(t){var e=t.getAllTouches();o.getLocation(e,this.center),this._startDistance=o.getMaxDistance(e),a.actived&&0===this._startDistance&&(this._startDistance=Math.max(this._startDistance,10)),this._touchBegan||(this.host.on(r.TOUCH_MOVE,this.__touchMove,this),this.host.on(r.TOUCH_END,this.__touchEnd,this),this.host.on(r.TOUCH_CANCEL,this.__touchEnd,this)),this._touchBegan=!0,this._realTouchCount=e.length},h.__touchMove=function(t){if(!(a.ignoreEvent(t)||c.inst.unscaleTimer-this._startTime<50)){var e=t.getAllTouches();if(this.numberOfTouchesRequired>0){if(!this._touchBegan||e.length!==this.numberOfTouchesRequired)return void this.__touchEnd(t)}else if(!this._touchBegan)return void this.onStart(t);var s=o.getMaxDistance(e);if(this._realTouchCount!==e.length)return this._realTouchCount=e.length,void(this._startDistance=Math.max(1,s));if(!this._started&&Math.abs(s-this._startDistance)>this.touchDragSensitivity&&(this._started=!0,this.scale=1,this._lastScale=1,this._realTouchCount=e.length,this.emit(i.PINCH_BEGIN,t)),this._started){var h=s/this._startDistance;this.delta=h-this._lastScale,this._lastScale=h,this.scale+=this.delta,this.emit(i.PINCH_ACTION,t)}}},h.onEnd=function(t){this.host.off(r.TOUCH_MOVE,this.__touchMove,this),this.host.off(r.TOUCH_END,this.__touchEnd,this),this.host.off(r.TOUCH_CANCEL,this.__touchEnd,this),this._started&&(this._started=!1,this.emit(i.PINCH_END,t)),this._touchBegan=!1,this._startDistance=0,this._lastScale=0,this._realTouchCount=0,this._moveRegisted=!1},h.__touchEnd=function(t){a.ignoreEvent(t)||this._touchBegan&&this.onEnd(t)},s(i,[{key:"realTouchCount",get:function(){return this._realTouchCount}}]),i}(o));u.PINCH_BEGIN="PINCH_BEGIN",u.PINCH_END="PINCH_END",u.PINCH_ACTION="PINCH_ACTION",i._RF.pop()}}}));

System.register("chunks:///_virtual/PinchGestureRecognizerComp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PinchGestureRecognizer.ts","./GestureRecognizerComp.ts"],(function(e){"use strict";var r,i,t,n,o,c,u,s,a;return{setters:[function(e){r=e.applyDecoratedDescriptor,i=e.inheritsLoose,t=e.initializerDefineProperty,n=e.assertThisInitialized,o=e.createClass},function(e){c=e.cclegacy,u=e._decorator},function(e){s=e.PinchGestureRecognizer},function(e){a=e.GestureRecognizerComp}],execute:function(){var h,l,g,p,f,z,m;c._RF.push({},"43736TmnJBHsoax4NfOsZ5J","PinchGestureRecognizerComp",void 0);var y=u.ccclass,R=u.property;e("PinchGestureRecognizerComp",(h=y("PinchGestureRecognizerComp"),l=R({tooltip:"缩放灵敏度"}),g=R({tooltip:"手指的个数（默认2， 小于等于0时，不进行限制）"}),h((z=r((f=function(e){function r(){for(var r,i=arguments.length,o=new Array(i),c=0;c<i;c++)o[c]=arguments[c];return r=e.call.apply(e,[this].concat(o))||this,t(r,"touchDragSensitivity",z,n(r)),t(r,"numberOfTouchesRequired",m,n(r)),r}return i(r,e),o(r,[{key:"recognizer",get:function(){return null==this._recognizer&&(this._recognizer=new s(this.node),this._recognizer.touchDragSensitivity=this.touchDragSensitivity,this._recognizer.numberOfTouchesRequired=this.numberOfTouchesRequired),this._recognizer}}]),r}(a)).prototype,"touchDragSensitivity",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 15}}),m=r(f.prototype,"numberOfTouchesRequired",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2}}),p=f))||p));c._RF.pop()}}}));

System.register("chunks:///_virtual/platform.define.ts",["cc","./enum.plat.type.ts","./enum.plugin.type.ts"],(function(t){"use strict";var e,o,s;return{setters:[function(t){e=t.cclegacy},function(t){o=t.PlatType},function(t){s=t.PluginType}],execute:function(){e._RF.push({},"1ae65tAM6ZDO5urFQBsrL83","platform.define",void 0);t("PlatformCommon",{gameName:"Telegram Wizzwoods Common",companyName:"Wizzwoods",bundleName:"com.tma.wizzwoods.common",bundleVersion:"2.0.11",versionCode:1,channelID:5,platComment:"common plat",platType:o.COMMON,sdkType:s.COMMON,pluginResUrl:"http://192.168.1.23:1800/game-res/",apiUrl:"http://192.168.1.23:8001/api/v1",ton:{chain:"testnet",manifestUrl:"http://192.168.1.23:1800/game-res/tonconnect-manifest.json",rechargeAddress:"UQAkWzr4rRhYS1_6wOkIWvMj_0uiAVdW4vltX4tdjVHpbPpJ",apiUrl:"https://toncenter.com/api/v2/jsonRPC",notMasterAddress:"EQAvlWFDxGF2lXm67y4yzC17wYKD9A0guwPkMs1gOsM__NOT",dogsMasterAddress:"EQCvxJy4eG8hyHBFsZ7eePxrRsUQSFE_jpptRAYBmcG_DOGS"},bot:{id:"7137272654",username:"WizzwoodsBot",shareUrl:"https://t.me/share/url"},showConfig:{starPay:!0,tonPay:!0,notPay:!0,dogsPay:!0,notcoinActivity:!1,tabiActivity:!1,okxActivity:!1}}),t("PlatformKeba",{gameName:"Telegram Wizzwoods Keba",companyName:"Wizzwoods",bundleName:"com.tma.wizzwoods.keba",bundleVersion:"2.0.9527",versionCode:1,channelID:11,platComment:"keba plat",platType:o.KEBA,sdkType:s.COMMON,pluginResUrl:"http://192.168.1.23:1800/game-res/",apiUrl:"https://testnet.toncenter.com/api/v2/jsonRPC",ton:{chain:"testnet",manifestUrl:"https://tma.wizzwoods.com/tonconnect-manifest.json",rechargeAddress:"0QCqI5iVglhI2vkTp1DCAAjgaIMN1as46SCRNSGNBgDv_UsS",apiUrl:"https://testnet.toncenter.com/api/v2",notMasterAddress:"",dogsMasterAddress:""},bot:{id:"7137272654",username:"WizzwoodsBot",shareUrl:"https://t.me/share/url"},showConfig:{starPay:!0,tonPay:!0,notPay:!0,dogsPay:!0,notcoinActivity:!1,tabiActivity:!1,okxActivity:!1}}),t("PlatformWaiTest",{gameName:"Telegram Wizzwoods Test",companyName:"Wizzwoods",bundleName:"com.tma.wizzwoods.test",bundleVersion:"2.0.10",versionCode:1,channelID:101,platComment:"Telegram wizzwoods test server plat",platType:o.TEST_SERVER,sdkType:s.TELEGRAM,pluginResUrl:"http://218.241.227.35:18000/game-res/",apiUrl:"http://218.241.227.35:18001/api/v1",ton:{chain:"mainnet",manifestUrl:"https://tma.wizzwoods.com/tonconnect-manifest.json",rechargeAddress:"0QCqI5iVglhI2vkTp1DCAAjgaIMN1as46SCRNSGNBgDv_UsS",apiUrl:"https://testnet.toncenter.com/api/v2/jsonRPC",notMasterAddress:"",dogsMasterAddress:""},bot:{id:"7137272654",username:"WizzwoodsBot",shareUrl:"https://t.me/share/url"},showConfig:{starPay:!0,tonPay:!0,notPay:!0,dogsPay:!0,notcoinActivity:!1,tabiActivity:!1,okxActivity:!1}}),t("PlatformFormalTon_mainnet",{gameName:"Telegram Wizzwoods",companyName:"Wizzwoods",bundleName:"com.tma.wizzwoods.formal",bundleVersion:"2.0.10",versionCode:1,channelID:201,platComment:"Telegram wizzwoods server formal",platType:o.FORMAL_TON_MAINNET,sdkType:s.TELEGRAM,pluginResUrl:"https://resource.wizzwoods.com/_data-wizzwoods/",apiUrl:"https://game-api.wizzwoods.com/api/v1",ton:{chain:"mainnet",manifestUrl:"https://tg-game.wizzwoods.com/tonconnect-manifest.json",rechargeAddress:"UQCgI0XMVjgYk8dfoI2edl5Kmn1h8420kpyOaqKZ0nC9w3Ix",apiUrl:"https://toncenter.com/api/v2/jsonRPC",notMasterAddress:"EQAvlWFDxGF2lXm67y4yzC17wYKD9A0guwPkMs1gOsM__NOT",dogsMasterAddress:"EQCvxJy4eG8hyHBFsZ7eePxrRsUQSFE_jpptRAYBmcG_DOGS"},bot:{id:"7137272654",username:"WizzwoodsBot",shareUrl:"https://t.me/share/url"},showConfig:{starPay:!0,tonPay:!0,notPay:!0,dogsPay:!0,notcoinActivity:!1,tabiActivity:!1,okxActivity:!1}}),t("PlatformFormalX_mainnet",{gameName:"X Wizzwoods",companyName:"Wizzwoods",bundleName:"com.x.wizzwoods.formal",bundleVersion:"2.0.10",versionCode:1,channelID:201,platComment:"X wizzwoods server formal",platType:o.FORMAL_X_MAINNET,sdkType:s.X,pluginResUrl:"https://resource.wizzwoods.com/_data-wizzwoods/",apiUrl:"https://game-api.wizzwoods.com/api/v1",ton:{chain:"mainnet",manifestUrl:"https://x-game.wizzwoods.com/tonconnect-manifest.json",rechargeAddress:"UQCgI0XMVjgYk8dfoI2edl5Kmn1h8420kpyOaqKZ0nC9w3Ix",apiUrl:"https://toncenter.com/api/v2/jsonRPC",notMasterAddress:"EQAvlWFDxGF2lXm67y4yzC17wYKD9A0guwPkMs1gOsM__NOT",dogsMasterAddress:"EQCvxJy4eG8hyHBFsZ7eePxrRsUQSFE_jpptRAYBmcG_DOGS"},bot:{id:"7137272654",username:"WizzwoodsBot",shareUrl:"https://t.me/share/url"},showConfig:{starPay:!1,tonPay:!0,notPay:!0,dogsPay:!0,notcoinActivity:!1,tabiActivity:!1,okxActivity:!1}}),t("PlatformFormalLine_mainnet",{gameName:"Wizzwoods",companyName:"Wizzwoods",bundleName:"com.line.wizzwoods.formal",bundleVersion:"2.0.10",versionCode:1,channelID:201,platComment:"line wizzwoods server formal",platType:o.FORMAL_LINE_MAINNET,sdkType:s.LINE,pluginResUrl:"https://resource.wizzwoods.com/_data-wizzwoods/",apiUrl:"https://game-api.wizzwoods.com/api/v1",ton:{chain:"mainnet",manifestUrl:"https://ln-game.wizzwoods.com/tonconnect-manifest.json",rechargeAddress:"UQCgI0XMVjgYk8dfoI2edl5Kmn1h8420kpyOaqKZ0nC9w3Ix",apiUrl:"https://toncenter.com/api/v2/jsonRPC",notMasterAddress:"EQAvlWFDxGF2lXm67y4yzC17wYKD9A0guwPkMs1gOsM__NOT",dogsMasterAddress:"EQCvxJy4eG8hyHBFsZ7eePxrRsUQSFE_jpptRAYBmcG_DOGS"},line:{appUrl:"https://liff.line.me/2006691470-qL52jEzR"},bot:{id:"7137272654",username:"WizzwoodsBot",shareUrl:"https://t.me/share/url"},showConfig:{starPay:!1,tonPay:!1,notPay:!1,dogsPay:!1,notcoinActivity:!1,tabiActivity:!1,okxActivity:!1}}),t("PlatformFormalWeb_mainnet",{gameName:"Wizzwoods",companyName:"Wizzwoods",bundleName:"com.web.wizzwoods.formal",bundleVersion:"2.0.10",versionCode:1,channelID:201,platComment:"web wizzwoods server formal",platType:o.FORMAL_WEB_MAINNET,sdkType:s.WEB,pluginResUrl:"https://resource.wizzwoods.com/_data-wizzwoods/",apiUrl:"https://game-api.wizzwoods.com/api/v1",ton:{chain:"mainnet",manifestUrl:"https://game.wizzwoods.com/tonconnect-manifest.json",rechargeAddress:"UQCgI0XMVjgYk8dfoI2edl5Kmn1h8420kpyOaqKZ0nC9w3Ix",apiUrl:"https://toncenter.com/api/v2/jsonRPC",notMasterAddress:"EQAvlWFDxGF2lXm67y4yzC17wYKD9A0guwPkMs1gOsM__NOT",dogsMasterAddress:"EQCvxJy4eG8hyHBFsZ7eePxrRsUQSFE_jpptRAYBmcG_DOGS"},line:{appUrl:"https://liff.line.me/2006691470-qL52jEzR"},bot:{id:"7137272654",username:"WizzwoodsBot",shareUrl:"https://t.me/share/url"},showConfig:{starPay:!1,tonPay:!0,notPay:!0,dogsPay:!0,notcoinActivity:!1,tabiActivity:!1,okxActivity:!1}});e._RF.pop()}}}));

System.register("chunks:///_virtual/plugin.settings.ts",["cc","./event.dispatcher.ts","./event.name.ts","./enum.plat.type.ts","./platform.define.ts","./enum.plugin.type.ts"],(function(t){"use strict";var l,e,n,a,s,i,r,u,c,o,P,p,h,f;return{setters:[function(t){l=t.cclegacy,e=t._decorator,n=t.log},function(t){a=t.EventDispatcher},function(t){s=t.EventName},function(t){i=t.PlatType},function(t){r=t.PlatformCommon,u=t.PlatformKeba,c=t.PlatformWaiTest,o=t.PlatformFormalTon_mainnet,P=t.PlatformFormalX_mainnet,p=t.PlatformFormalLine_mainnet,h=t.PlatformFormalWeb_mainnet},function(t){f=t.PluginType}],execute:function(){var T,M;l._RF.push({},"45b74KWVKZLeZSDYApVC/Qa","plugin.settings",void 0);var g=e.ccclass;t("PluginSettings",g("PluginSettings")(((M=function(){function t(){}return t._initAllPlat=function(){this.allPlatMap=new Map,this.allPlatMap.set(i.COMMON,r),this.allPlatMap.set(i.KEBA,u),this.allPlatMap.set(i.FORMAL_TON_TESTNET,c),this.allPlatMap.set(i.FORMAL_TON_MAINNET,o),this.allPlatMap.set(i.FORMAL_X_MAINNET,P),this.allPlatMap.set(i.FORMAL_LINE_MAINNET,p),this.allPlatMap.set(i.FORMAL_WEB_MAINNET,h)},t.isDebug=function(){return this.curUsePlat.platType===i.COMMON||this.curUsePlat.platType===i.KEBA},t.isUseWss=function(){return this.curUsePlat.platType===i.FORMAL_TON_MAINNET||this.curUsePlat.platType===i.FORMAL_X_MAINNET||this.curUsePlat.platType===i.FORMAL_LINE_MAINNET||this.curUsePlat.platType===i.FORMAL_WEB_MAINNET},t.isInTelegram=function(){return this.curUsePlat.sdkType===f.TELEGRAM},t.isInX=function(){return this.curUsePlat.sdkType===f.X},t.isInLine=function(){return this.curUsePlat.sdkType===f.LINE},t.isInWeb=function(){return this.curUsePlat.sdkType===f.WEB},t.getCurUsePlatform=function(){return null!=this.curUsePlat?this.curUsePlat:(null==this.allPlatMap&&this._initAllPlat(),this.allPlatMap.has(this.curPlatType)?(this.curUsePlat=this.allPlatMap.get(this.curPlatType),this.curUsePlat):null)},t.getChannelId=function(){var t=this.getCurUsePlatform();return null!=t?t.channelID:99999},t.getCurShowConfig=function(){var t=this.getCurUsePlatform();return null!=t?t.showConfig:null},t.getPluginResPath=function(){var t=this.getCurUsePlatform();return null!=t?t.pluginResUrl:"NULL PATH"},t.getPluginApiUrl=function(){var t=this.getCurUsePlatform();return null!=t?t.apiUrl:""},t.getVersionCode=function(){var t=this.getCurUsePlatform();return null!=t?t.bundleVersion:""},t.switchCurPlatform=function(t){if(this.curPlatType!==t){this.curPlatType=t,this.curUsePlat=null;var l=this.getCurUsePlatform();null!==l&&l.platType===t?n("change new plat success ",t):n("change new plat failed ",t),a.emit(s.SDK_PLATFORM_CHANGED)}},t}()).curPlatType=i.FORMAL_WEB_MAINNET,M.allPlatMap=null,M.curUsePlat=null,M.version=7,T=M))||T);l._RF.pop()}}}));

System.register("chunks:///_virtual/project.bera.mainnet.ts",["cc","./all.coin.config.ts","./dex.bera.token.list.mainnet.json","./IBGT.json","./IHONEY.json","./bera_ApproveProxy.json","./bera_IWizardToken.json","./bera_WizzwoodsItem.json","./bera_WizzwoodsToken.json","./bera_VestingPool.json","./bera_MarketplaceModuleV1.json","./bera_MintWizardTokenModuleV1.json","./bera_StakeWizardModuleV1.json","./bera_WithdrawWizzTokenModuleV1.json","./bera_WithdrawItemModuleV2.json","./dex.bera.pool.mainnet.ts"],(function(e){"use strict";var o,a,n,c,s,d,i,t,r,b,l,u,f,E,m,C,p,_,A;return{setters:[function(e){o=e.cclegacy},function(e){a=e.CoinType},function(e){n=e.default},function(e){c=e.default},function(e){s=e.default},function(e){d=e.default},function(e){i=e.default},function(e){t=e.default},function(e){r=e.default},function(e){b=e.default},function(e){l=e.default},function(e){u=e.default},function(e){f=e.default},function(e){E=e.default},function(e){m=e.default},function(e){C=e.DexPoolIdsMainnet,p=e.DexVaultIdsMainnet,_=e.DexValidatorsIdsMainnet,A=e.PoolCoinIconUrl}],execute:function(){e({getBgtIconUrl:function(){return"https://resource.wizzwoods.com/icon/bera_BGT.png"},getIconUrlByAddress:function(e){var o=A.find((function(o){return o.address.toLowerCase()===e.toLowerCase()}));if(o)return o.iconUrl;return""}}),o._RF.push({},"b2b71kvIDlN8IjGEVa3pZLU","project.bera.mainnet",void 0);var B=e("BERA_MAINNET_CONFIG",{id:80094,name:"Berachain Mainnet",rpc:"https://rpc.berachain.com/",icon:"https://resource.wizzwoods.com/icon/chain_bera.png",nativeCurrency:{name:"BERA",symbol:"BERA",decimals:18},blockExplorer:{name:"Berachain Explorer",url:"https://berascan.com/"}}),D=e("BERA_MAINNET_CONTRACT_DEFINE",{TOKEN_WIZARD:{abi:i,address:"0xFc057c7B2a7653fE4aa5450E021136a6f267D60E"},TOKEN_ITEM_V1:{abi:t,address:"0x969dbf283512A9125D0C63898b1C3E8bb4dc79ac"},TOKEN_ITEM_V2:{abi:t,address:"0x0953E83a463B263C255D79b3FD1FC172A49b83C4"},APPROVE_PROXY:{abi:d,address:"0xb8cf82Fd651fdE53Cb00cFE5F0A706BBd6A8CF0C"},MINT_WIZARD:{abi:u,address:"0x8C3726A7278533C5E86322003eE779CB66Caf43F"},STAKE_WIZARD:{abi:f,address:"0x37c7a16546b4B2a74De505554f985F165fa151C4"},WITHDRAW_WIZZ:{abi:E,address:"0x317f5AdA371bE2B14141C25916968820121D6c31"},WITHDRAW_ITEM:{abi:m,address:"0x9B03b283FA59eBed679c2eE31e4fF2761C212Af6"},MARKETPLACE:{abi:l,address:"0x676DC2d3ab4d7e00b07cfDD1D9359591a8807b95"},VESTING_POOL:{abi:b,address:"0xC9976B9653a1D86d4C853cf7eFc7D1948587d205"}}),T=e("BERA_MAINNET_COINS_DEFINE",[{type:a.ERC20,name:"Wizzwoods Token",symbol:"WIZZ",decimals:18,locked:!1,icon:"https://resource.wizzwoods.com/icon/bera_WIZZ.png",address:"0x01C8A5ccAD23A4D3764eF71c403862160Aa2913a",abi:r},{type:a.Chain,name:"Bera",symbol:"BERA",decimals:18,locked:!1,icon:"https://resource.wizzwoods.com/icon/bera_BERA.png",address:"0x0000000000000000000000000000000000000000"},{type:a.BGT,name:"Bera Governance Token",symbol:"BGT",decimals:18,locked:!0,icon:"https://resource.wizzwoods.com/icon/bera_BGT.png",address:"0x656b95E550C07a9ffe548bd4085c72418Ceb1dba",abi:c},{type:a.ERC20,name:"Honey",symbol:"HONEY",decimals:18,locked:!1,icon:"https://resource.wizzwoods.com/icon/bera_HONEY.png",address:"0xFCBD14DC51f0A4d49d5E53C2E0950e0bC26d0Dce",abi:s},{type:a.ERC20,name:"BYUSD",symbol:"BYUSD",decimals:6,locked:!1,icon:"https://resource.wizzwoods.com/icon/common_BYUSD.png",address:"0x688e72142674041f8f6Af4c808a4045cA1D6aC82",abi:s},{type:a.ERC20,name:"Bridged USDC (Stargate)",symbol:"USDC.e",decimals:6,locked:!1,icon:"https://resource.wizzwoods.com/icon/common_USDCE.png",address:"0x549943e04f40284185054145c6E4e9568C1D3241",abi:s},{type:a.ERC20,name:"WBTC",symbol:"WBTC",decimals:8,locked:!1,icon:"https://resource.wizzwoods.com/icon/common_WBTC.png",address:"0x0555E30da8f98308EdB960aa94C0Db47230d2B9c",abi:s},{type:a.ERC20,name:"WETH",symbol:"WETH",decimals:18,locked:!1,icon:"https://resource.wizzwoods.com/icon/common_WETH.png",address:"0x2F6F07CDcf3588944Bf4C42aC74ff24bF56e7590",abi:s}]);e("BERA_MAINNET_PROJECT",{chain:B,coins:T,contracts:D,dexTokenList:n,dexPoolIdList:C,dexVaultIdList:p,dexValidatorIdList:_});o._RF.pop()}}}));

System.register("chunks:///_virtual/project.bera.testnet.ts",["cc","./all.coin.config.ts","./dex.bera.token.list.testnet.json","./IBGT.json","./IHONEY.json","./bera_ApproveProxy.json","./bera_IWizardToken.json","./bera_WizzwoodsItem.json","./bera_WizzwoodsToken.json","./bera_VestingPool.json","./bera_MarketplaceModuleV1.json","./bera_MintWizardTokenModuleV1.json","./bera_StakeWizardModuleV1.json","./bera_WithdrawWizzTokenModuleV1.json","./bera_WithdrawItemModuleV2.json"],(function(e){"use strict";var a,o,n,d,c,s,t,i,r,b,E,u,l,f,T;return{setters:[function(e){a=e.cclegacy},function(e){o=e.CoinType},function(e){n=e.default},function(e){d=e.default},function(e){c=e.default},function(e){s=e.default},function(e){t=e.default},function(e){i=e.default},function(e){r=e.default},function(e){b=e.default},function(e){E=e.default},function(e){u=e.default},function(e){l=e.default},function(e){f=e.default},function(e){T=e.default}],execute:function(){a._RF.push({},"759cca3+phAJYdd7+5AhjJ3","project.bera.testnet",void 0);var _=e("BERA_TESTNET_CONFIG",{id:80069,name:"Berachain Bepolia",rpc:"https://bepolia.rpc.berachain.com/",icon:"https://resource.wizzwoods.com/icon/chain_bera.png",nativeCurrency:{name:"BERA",symbol:"BERA",decimals:18},blockExplorer:{name:"Berachain bArtio Explorer",url:"https://bepolia.beratrail.io/"}}),p=e("BERA_TESTNET_CONTRACT_DEFINE",{TOKEN_WIZARD:{abi:t,address:"0xa9e073f6eEBb52bF3274b7159A3F0CFb4b85C77e"},TOKEN_ITEM_V2:{abi:i,address:"0x913b0E5f1dE9F6851d5c1422147527A511E73a8B"},APPROVE_PROXY:{abi:s,address:"0x2C718724D20A70899E71635346848EF9d55Bc078"},MINT_WIZARD:{abi:u,address:"0x2dd9be5CF4E7e04819CB7591EF947eA080b59034"},STAKE_WIZARD:{abi:l,address:"0xeb06F3EC757F4263dBaba7479663bB63FFA8b3d2"},WITHDRAW_WIZZ:{abi:f,address:"0x02F1279a2cf298Cf14656d3B7217468ABB027282"},WITHDRAW_ITEM:{abi:T,address:"0x1b6E6a318B19324bb4fc7d4df7A2DFe19C264795"},MARKETPLACE:{abi:E,address:"0x920608A9De5950BB827EaC90939D28CFA352bd0C"},VESTING_POOL:{abi:b,address:"0xEdBFD3223911250C925236eE003EE97945adb841"}}),A=e("BERA_TESTNET_COINS_DEFINE",[{type:o.ERC20,name:"Wizzwoods Token",symbol:"WIZZ",decimals:18,locked:!1,icon:"https://resource.wizzwoods.com/icon/bera_WIZZ.png",address:"0x8A5f79d1095Cb856B6c62DC1Ba1fac2F9e2E9fbF",abi:r},{type:o.Chain,name:"Bera",symbol:"BERA",decimals:18,locked:!1,icon:"https://resource.wizzwoods.com/icon/bera_BERA.png",address:"0x0000000000000000000000000000000000000000"},{type:o.BGT,name:"Bera Governance Token",symbol:"BGT",decimals:18,locked:!0,icon:"https://resource.wizzwoods.com/icon/bera_BGT.png",address:"0x656b95E550C07a9ffe548bd4085c72418Ceb1dba",abi:d},{type:o.ERC20,name:"Honey",symbol:"HONEY",decimals:18,locked:!1,icon:"https://resource.wizzwoods.com/icon/bera_HONEY.png",address:"0xfcbd14dc51f0a4d49d5e53c2e0950e0bc26d0dce",abi:c}]);e("BERA_TESTNET_PROJECT",{chain:_,coins:A,contracts:p,dexTokenList:n});a._RF.pop()}}}));

System.register("chunks:///_virtual/project.kaia.mainnet.ts",["cc"],(function(a){"use strict";var i;return{setters:[function(a){i=a.cclegacy}],execute:function(){i._RF.push({},"db41dNCI79M/4BMOo01ypti","project.kaia.mainnet",void 0);var n=a("KAIA_MAINNET_CONFIG",{id:1001,name:"Kaia Mainnet",rpc:"https://public-en.node.kaia.io",icon:"",nativeCurrency:{name:"KAIA",symbol:"KAIA",decimals:18},blockExplorer:{name:"Kaia Scan",url:"https://kaiascan.io/"}});a("KAIA_MAINNET_PROJECT",{chain:n,coins:[]});i._RF.pop()}}}));

System.register("chunks:///_virtual/project.kaia.testnet.ts",["cc"],(function(e){"use strict";var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"02c71I4sWdO+JdBILknJX/0","project.kaia.testnet",void 0);e("KAIA_TESTNET_CONFIG",{id:1001,name:"Kaia Testnet Kairos",rpc:"https://public-en-kairos.node.kaia.io",icon:"",nativeCurrency:{name:"KAIA",symbol:"KAIA",decimals:18},blockExplorer:{name:"Kaia Testnet Scan",url:"https://kairos.kaiascan.io/"}});t._RF.pop()}}}));

System.register("chunks:///_virtual/project.tabi.testnet.ts",["cc","./all.coin.config.ts","./IERC20.json"],(function(e){"use strict";var t,n,c;return{setters:[function(e){t=e.cclegacy},function(e){n=e.CoinType},function(e){c=e.default}],execute:function(){t._RF.push({},"13eeeaKFrVKzbEPzt3E+ZmY","project.tabi.testnet",void 0);var i=e("TABI_TESTNET_CONFIG",{id:9788,name:"Tabichain testnetV2",rpc:"https://rpc.testnetv2.tabichain.com/",icon:"https://resource.wizzwoods.com/icon/chain_tabi.png",nativeCurrency:{name:"TABI",symbol:"TABI",decimals:18},blockExplorer:{name:"Tabiscan testnetv2 Explorer",url:"https://testnetv2.tabiscan.com/"}}),a=(e("TABI_TESTNET_CONTRACT_DEFINE",{TEST:{abi:c,address:"0x5e68FBd50Ba042F0443857e4652BA9bDe5a0B730"}}),e("TABI_TESTNET_COINS_DEFINE",[{type:n.Chain,name:"Tabi",symbol:"TABI",decimals:18,icon:"https://resource.wizzwoods.com/icon/chain_tabi.png",address:"0x0000000000000000000000000000000000000000"},{type:n.ERC20,name:"Tabi Test X",symbol:"TABI-X",decimals:18,icon:"https://resource.wizzwoods.com/icon/chain_tabi.png",address:"0x5e68FBd50Ba042F0443857e4652BA9bDe5a0B730",abi:c}]));e("TABI_TESTNET_PROJECT",{chain:i,coins:a});t._RF.pop()}}}));

System.register("chunks:///_virtual/property.client.protocol.ts",["./rollupPluginModLoBabelHelpers.js","cc","./long.mjs_cjs=&original=.js","./net.protocol.define.ts","./null.client.protocol.ts","./long.js"],(function(t){"use strict";var e,i,n,r,a;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy},null,function(t){n=t.NetProtocolDefine},function(t){r=t.stNullClientCmd},function(t){a=t.default}],execute:function(){t({ELogType:void 0,enumAttributeType:void 0,enumEquipmentSlot:void 0,enumItemType:void 0}),i._RF.push({},"bbe3axscDpC/r/WQuP6m8Cu","property.client.protocol",void 0);var s,o,u,m,h=t("stPropertyClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).gsCmd=n.ITEM_CLIENT_CMD,e}return e(i,t),i}(r)),f=t("REMOVEUSEROBJECT_PROPERTY_CLIENT",2),c=t("ITEM_STATE_CLIENT",3),p=(t("SPLITUSEROBJECT_PROPERTY_CLIENT",4),t("CLEAN_USEROBJECT_PROPERTY_CLIENT",5),t("REFCOUNTOBJECT_PROPERTY_CLIENT",6)),l=t("USEUSEROBJECT_PROPERTY_CLIENT",7),y=t("MINT_ITEM_TO_CHAIN_CLIENT",9),I=t("CAST_OBJECT_PROPERTY_CLIENT",21),_=t("COMBINATION_OBJECT_PROPERTY_CLIENT",22),B=t("ITEM_CHANGE_LOG_CLIENT",123),d=t("ADDUSEROBJECT_M_PROPERTY_CLIENT",126),g=t("ITEM_EQUIPMENT_CLIENT",128),C=t("SWITCH_EQUIPMENT_LIST_CLIENT",129),T=t("ITEM_DATA_LIST_CLIENT",132),U=t("EQUIPMENT_LIST_CLIENT",133);!function(t){t[t.eAttributeType_Attack=0]="eAttributeType_Attack",t[t.eAttributeType_Defense=1]="eAttributeType_Defense",t[t.eAttributeType_HP=2]="eAttributeType_HP",t[t.eAttributeType_Speed=3]="eAttributeType_Speed",t[t.eAttributeType_LifeSteal=4]="eAttributeType_LifeSteal",t[t.eAttributeType_Fightback=5]="eAttributeType_Fightback",t[t.eAttributeType_Combo=6]="eAttributeType_Combo",t[t.eAttributeType_Evade=7]="eAttributeType_Evade",t[t.eAttributeType_Crit=8]="eAttributeType_Crit",t[t.eAttributeType_Stun=9]="eAttributeType_Stun",t[t.eAttributeType_LifeStealResistant=10]="eAttributeType_LifeStealResistant",t[t.eAttributeType_FightbackResistant=11]="eAttributeType_FightbackResistant",t[t.eAttributeType_ComboResistant=12]="eAttributeType_ComboResistant",t[t.eAttributeType_EvadeResistant=13]="eAttributeType_EvadeResistant",t[t.eAttributeType_CritResistant=14]="eAttributeType_CritResistant",t[t.eAttributeType_StunResistant=15]="eAttributeType_StunResistant",t[t.eAttributeType_Max=16]="eAttributeType_Max"}(s||(s=t("enumAttributeType",{}))),function(t){t[t.eItem_Null=0]="eItem_Null",t[t.eItem_Common=1]="eItem_Common",t[t.eItem_ResDrawing=2]="eItem_ResDrawing",t[t.eItem_Euipment=11]="eItem_Euipment",t[t.eItem_EuipmentChain=12]="eItem_EuipmentChain",t[t.eItem_ItemChain=13]="eItem_ItemChain"}(o||(o=t("enumItemType",{}))),function(t){t[t.eEquipmentSlot_Null=0]="eEquipmentSlot_Null",t[t.eEquipmentSlot_Body=1]="eEquipmentSlot_Body",t[t.eEquipmentSlot_Antenna=2]="eEquipmentSlot_Antenna",t[t.eEquipmentSlot_Head=3]="eEquipmentSlot_Head",t[t.eEquipmentSlot_Eye=4]="eEquipmentSlot_Eye",t[t.eEquipmentSlot_Hand=5]="eEquipmentSlot_Hand",t[t.eEquipmentSlot_Weapon=6]="eEquipmentSlot_Weapon",t[t.eEquipmentSlot_Max=7]="eEquipmentSlot_Max"}(u||(u=t("enumEquipmentSlot",{}))),function(t){t[t.eItemChangeLog_EventAdd=1]="eItemChangeLog_EventAdd",t[t.eItemChangeLog_EventDel=2]="eItemChangeLog_EventDel",t[t.eItemChangeLog_BornBoxReward=10]="eItemChangeLog_BornBoxReward",t[t.eItemChangeLog_TwitterReward=11]="eItemChangeLog_TwitterReward",t[t.eItemChangeLog_InvitationReward=12]="eItemChangeLog_InvitationReward",t[t.eItemChangeLog_FarmDailyReward=13]="eItemChangeLog_FarmDailyReward",t[t.eItemChangeLog_WebQuestReward=14]="eItemChangeLog_WebQuestReward",t[t.eItemChangeLog_AchievementReward=15]="eItemChangeLog_AchievementReward",t[t.eItemChangeLog_PurchaseReward=16]="eItemChangeLog_PurchaseReward",t[t.eItemChangeLog_MonthlyCardAReward=17]="eItemChangeLog_MonthlyCardAReward",t[t.eItemChangeLog_GiftReward=18]="eItemChangeLog_GiftReward",t[t.eItemChangeLog_NotcoinReward=19]="eItemChangeLog_NotcoinReward",t[t.eItemChangeLog_ActivityReward=20]="eItemChangeLog_ActivityReward",t[t.eItemChangeLog_MaillGet=21]="eItemChangeLog_MaillGet",t[t.eItemChangeLog_CastResDrawing=22]="eItemChangeLog_CastResDrawing",t[t.eItemChangeLog_FarmExploration=23]="eItemChangeLog_FarmExploration",t[t.eItemChangeLog_Combination=24]="eItemChangeLog_Combination",t[t.eItemChangeLog_SellItem=25]="eItemChangeLog_SellItem",t[t.eItemChangeLog_DismissalWorkerReward=26]="eItemChangeLog_DismissalWorkerReward",t[t.eItemChangeLog_SynthesisDismissalWorkerReward=27]="eItemChangeLog_SynthesisDismissalWorkerReward",t[t.eItemChangeLog_UseItem=30]="eItemChangeLog_UseItem"}(m||(m=t("ELogType",{})));var E=t("stItemInfo",function(){function t(){this.item=0,this.num=0}return t.prototype.UnPackData=function(t){this.item=t.readUint32(),this.num=t.readUint32()},t}()),P=(t("stEquipmentID",function(){function t(){this.itemID="",this.equipmentDataID=0}return t.prototype.UnPackData=function(t){this.itemID=t.readUint64().toString(),this.equipmentDataID=t.readUint32()},t}()),t("t_MObject",function(){function t(t){this.type=0,this.qwThisID="0",this.itemDataID=0,this.itemType=0,this.itemQuality=0,this.itemLevel=0,this.locationType=0,this.locationIndex=0,this.dwNum=0,this.itemState=0,this.itemStateTime=0,this.type=t}return t.prototype.UnPackData=function(t){this.qwThisID=t.readUint64().toString(),this.itemDataID=t.readUint32(),this.itemType=t.readUint32(),this.itemQuality=t.readUint32(),this.itemLevel=t.readUint32(),this.locationType=t.readUint8(),this.locationIndex=t.readInt32(),this.dwNum=t.readUint32(),this.itemState=t.readUint8(),this.itemStateTime=t.readUint64().toInt()},t}())),L=t("t_Equipment",function(t){function i(e){var i;return(i=t.call(this,e)||this).equipmentID=0,i.tokenID="0",i.display=0,i.lockTime=0,i.equipmentAttrList=null,i}return e(i,t),i.prototype.UnPackData=function(e){t.prototype.UnPackData.call(this,e),this.equipmentID=e.readUint32(),this.type===o.eItem_EuipmentChain&&(this.tokenID=e.readUint64().toString(),this.display=e.readUint8(),this.lockTime=e.readUint32()),this.equipmentAttrList=[];for(var i=0;i<s.eAttributeType_Max;++i)this.equipmentAttrList.push(e.readUint16())},i}(P)),D=t("t_ItemChain",function(t){function i(e){var i;return(i=t.call(this,e)||this).tokenID=0,i}return e(i,t),i.prototype.UnPackData=function(e){t.prototype.UnPackData.call(this,e),this.tokenID=e.readUint32()},i}(P)),w=t("stResDrawing",function(t){function i(){for(var e,i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))||this).formulaItem=[],e}return e(i,t),i.prototype.UnPackData=function(e){t.prototype.UnPackData.call(this,e),this.formulaItem=[];for(var i=0;i<n.MAX_DRAWING_FORMULA_NUM;i++){var r=new E;r.UnPackData(e),this.formulaItem.push(r)}},i}(P));t("stAddObjectMPropertyClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).itemDataLen=0,e.m_object=null,e.gsParam=d,e}return e(i,t),i.prototype.UnPack=function(e){t.prototype.UnPack.call(this,e),this.itemDataLen=this.mByteBuffer.readUint16();var i=this.mByteBuffer.readUint8();i===o.eItem_Euipment||i===o.eItem_EuipmentChain?this.m_object=new L(i):i===o.eItem_ItemChain?this.m_object=new D(i):i===o.eItem_ResDrawing?this.m_object=new w(i):this.m_object=new P(i),this.m_object.UnPackData(this.mByteBuffer),this.ReleaseByteBuffer()},i}(h)),t("stRemoveObjectPropertyClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).qwThisID="0",e.gsParam=f,e}return e(i,t),i.prototype.UnPack=function(e){t.prototype.UnPack.call(this,e),this.qwThisID=this.mByteBuffer.readUint64().toString(),this.ReleaseByteBuffer()},i}(h)),t("stRefCountObjectPropertyClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).qwThisID="0",e.dwNum=0,e.gsParam=p,e}return e(i,t),i.prototype.UnPack=function(e){t.prototype.UnPack.call(this,e),this.qwThisID=this.mByteBuffer.readUint64().toString(),this.dwNum=this.mByteBuffer.readUint32(),this.ReleaseByteBuffer()},i}(h)),t("stUseObjectPropertyClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).ret=0,e.qwThisID="0",e.dwNum=0,e.gsParam=l,e}e(i,t);var n=i.prototype;return n.UnPack=function(e){t.prototype.UnPack.call(this,e),this.ret=this.mByteBuffer.readUint8(),this.qwThisID=this.mByteBuffer.readUint64.toString(),this.dwNum=this.mByteBuffer.readUint32(),this.ReleaseByteBuffer()},n.Pack=function(){t.prototype.Pack.call(this),this.mByteBuffer.writeUint8(this.ret),this.mByteBuffer.writeUint64(a.fromString(this.qwThisID)),this.mByteBuffer.writeUint32(this.dwNum)},i}(h)),t("stItemEquipmentClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).wear=0,e.itemID="0",e.equipmentIndex=0,e.beforeItemID="0",e.currentItemID="0",e.gsParam=g,e}e(i,t);var n=i.prototype;return n.Pack=function(){t.prototype.Pack.call(this),this.mByteBuffer.writeUint8(this.wear),this.mByteBuffer.writeUint64(a.fromString(this.itemID)),this.mByteBuffer.writeUint32(this.equipmentIndex),this.mByteBuffer.writeUint64(a.fromString(this.beforeItemID)),this.mByteBuffer.writeUint64(a.fromString(this.currentItemID))},n.UnPack=function(e){t.prototype.UnPack.call(this,e),this.wear=this.mByteBuffer.readUint8(),this.itemID=this.mByteBuffer.readUint64().toString(),this.equipmentIndex=this.mByteBuffer.readUint32(),this.beforeItemID=this.mByteBuffer.readUint64().toString(),this.currentItemID=this.mByteBuffer.readUint64().toString(),this.ReleaseByteBuffer()},i}(h)),t("stSwitchEquipmentListClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).useID=0,e.gsParam=C,e}return e(i,t),i.prototype.Pack=function(){t.prototype.Pack.call(this),this.mByteBuffer.writeUint8(this.useID)},i}(h)),t("stItemDataListClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).maxNum=0,e.curNum=0,e.itemNum=0,e.itemDataLen=0,e.mObjectList=null,e.gsParam=T,e}return e(i,t),i.prototype.UnPack=function(e){t.prototype.UnPack.call(this,e),this.maxNum=this.mByteBuffer.readUint32(),this.curNum=this.mByteBuffer.readUint32(),this.itemNum=this.mByteBuffer.readUint16(),this.itemDataLen=this.mByteBuffer.readUint16(),this.mObjectList=[];for(var i=0;i<this.itemNum;i++){var n=this.mByteBuffer.readUint8(),r=null;(r=n===o.eItem_Euipment||n===o.eItem_EuipmentChain?new L(n):n===o.eItem_ItemChain?new D(n):n===o.eItem_ResDrawing?new w(n):new P(n)).UnPackData(this.mByteBuffer),this.mObjectList.push(r)}this.ReleaseByteBuffer()},i}(h)),t("stEquipmentListClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).mEquipList1=null,e.mEquipList2=null,e.useID=0,e.gsParam=U,e}return e(i,t),i.prototype.UnPack=function(e){t.prototype.UnPack.call(this,e),this.mEquipList1=[];for(var i=0;i<u.eEquipmentSlot_Max;i++){var n=this.mByteBuffer.readUint64().toString();this.mByteBuffer.readUint32(),this.mEquipList1.push(n)}this.mEquipList2=[];for(var r=0;r<u.eEquipmentSlot_Max;r++){var a=this.mByteBuffer.readUint64().toString();this.mByteBuffer.readUint32(),this.mEquipList2.push(a)}this.useID=this.mByteBuffer.readUint8(),this.ReleaseByteBuffer()},i}(h)),t("stItemStateClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).qwThisID="0",e.itemState=0,e.itemStateTime=0,e.gsParam=c,e}return e(i,t),i.prototype.UnPack=function(e){t.prototype.UnPack.call(this,e),this.qwThisID=this.mByteBuffer.readUint64().toString(),this.itemState=this.mByteBuffer.readUint8(),this.itemStateTime=this.mByteBuffer.readUint64().toInt(),this.ReleaseByteBuffer()},i}(h)),t("stMintItemToChainClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).chainID="0",e.qwThisID="0",e.num=0,e.result=0,e.gsParam=y,e}e(i,t);var n=i.prototype;return n.Pack=function(){t.prototype.Pack.call(this),this.mByteBuffer.writeUint64(a.fromString(this.chainID)),this.mByteBuffer.writeUint64(a.fromString(this.qwThisID)),this.mByteBuffer.writeUint32(this.num),this.mByteBuffer.writeUint8(this.result)},n.UnPack=function(e){t.prototype.UnPack.call(this,e),this.chainID=this.mByteBuffer.readUint64().toString(),this.qwThisID=this.mByteBuffer.readUint64().toString(),this.num=this.mByteBuffer.readUint32(),this.result=this.mByteBuffer.readUint8(),this.ReleaseByteBuffer()},i}(h)),t("stItemChangeLogClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).type=0,e.num=0,e.infos=[],e.gsParam=B,e}return e(i,t),i.prototype.UnPack=function(e){t.prototype.UnPack.call(this,e),this.type=this.mByteBuffer.readUint8(),this.num=this.mByteBuffer.readUint16(),this.infos=[];for(var i=0;i<this.num;i++){var n=new E;n.UnPackData(this.mByteBuffer),this.infos.push(n)}this.ReleaseByteBuffer()},i}(h)),t("stCastObjectPropertyClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).qwThisID="0",e.ret=0,e.gsParam=I,e}e(i,t);var n=i.prototype;return n.Pack=function(){t.prototype.Pack.call(this),this.mByteBuffer.writeUint64(a.fromString(this.qwThisID)),this.mByteBuffer.writeUint8(this.ret)},n.UnPack=function(e){t.prototype.UnPack.call(this,e),this.qwThisID=this.mByteBuffer.readUint64().toString(),this.ret=this.mByteBuffer.readUint8(),this.ReleaseByteBuffer()},i}(h)),t("stCombinationObjectPropertyClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).id=0,e.num=0,e.gsParam=_,e}e(i,t);var n=i.prototype;return n.Pack=function(){t.prototype.Pack.call(this),this.mByteBuffer.writeUint32(this.id),this.mByteBuffer.writeUint32(this.num)},n.UnPack=function(e){t.prototype.UnPack.call(this,e),this.id=this.mByteBuffer.readUint32(),this.num=this.mByteBuffer.readUint32(),this.ReleaseByteBuffer()},i}(h));i._RF.pop()}}}));

System.register("chunks:///_virtual/purchase.client.protocol.ts",["./rollupPluginModLoBabelHelpers.js","cc","./net.protocol.define.ts","./null.client.protocol.ts"],(function(t){"use strict";var i,n,e,o,s;return{setters:[function(t){i=t.inheritsLoose},function(t){n=t.cclegacy},function(t){e=t.NetProtocolDefine},function(t){o=t.readStringWithFixedLengthFromByteBuffer,s=t.stNullClientCmd}],execute:function(){t("EPayType",void 0),n._RF.push({},"834e5du4QdDA4X7Y5m6pU7f","purchase.client.protocol",void 0);var a,r=t("stPurchaseClientCmd",function(t){function n(){var i;return(i=t.call(this)||this).gsCmd=e.PURCHASE_CLIENT_CMD,i}return i(n,t),n}(s)),u=t("GET_PURCHASE_PRODUCT_LIST_CLIENT",1),_=t("PURCHASE_PRODUCT_LIST_CLIENT",2),h=t("PURCHASE_PRODUCT_PLACE_ORDER",3),c=t("PURCHASE_PRODUCT_ORDER_ID",4),y=t("PURCHASE_PRODUCT_ORDER_FINISH",5);!function(t){t[t.EPayType_Null=0]="EPayType_Null",t[t.EPayType_Star=1]="EPayType_Star",t[t.EPayType_TON=2]="EPayType_TON",t[t.EPayType_NOT=3]="EPayType_NOT",t[t.EPayType_DOGES=4]="EPayType_DOGES",t[t.ePayType_KAIA=5]="ePayType_KAIA",t[t.ePayType_Line_USD=6]="ePayType_Line_USD",t[t.ePayType_WIZZ=10]="ePayType_WIZZ",t[t.EPayType_Max=11]="EPayType_Max"}(a||(a=t("EPayType",{})));var p=t("stPurchaseProduct",function(){function t(){this.id=0,this.usd_price="0",this.star_price=0,this.wizz_price="0",this.pay_ton_amount="0",this.pay_not_amount="0",this.pay_dogs_amount="0",this.pay_kaia_amount="0",this.pay_line_usd_amount="0",this.pay_ton_lv1_amount="0",this.pay_ton_lv2_amount="0",this.pay_ton_lv3_amount="0",this.pay_not_lv1_amount="0",this.pay_not_lv2_amount="0",this.pay_not_lv3_amount="0",this.pay_dogs_lv1_amount="0",this.pay_dogs_lv2_amount="0",this.pay_dogs_lv3_amount="0",this.ton_discount=0,this.not_discount=0,this.dogs_discount=0,this.kaia_discount=0,this.line_usd_discount=0,this.notcoinLv1_discount=0,this.notcoinLv2_discount=0,this.notcoinLv3_discount=0,this.goldNum=0,this.awardItem=""}return t.prototype.UnPackData=function(t){this.id=t.readUint32(),this.usd_price=o(t,16),this.star_price=t.readUint32(),this.wizz_price=t.readUint64().toString(),this.pay_ton_amount=o(t,16),this.pay_not_amount=o(t,16),this.pay_dogs_amount=o(t,16),this.pay_kaia_amount=o(t,16),this.pay_line_usd_amount=o(t,16),this.pay_ton_lv1_amount=o(t,16),this.pay_ton_lv2_amount=o(t,16),this.pay_ton_lv3_amount=o(t,16),this.pay_not_lv1_amount=o(t,16),this.pay_not_lv2_amount=o(t,16),this.pay_not_lv3_amount=o(t,16),this.pay_dogs_lv1_amount=o(t,16),this.pay_dogs_lv2_amount=o(t,16),this.pay_dogs_lv3_amount=o(t,16),this.ton_discount=t.readUint8(),this.not_discount=t.readUint8(),this.dogs_discount=t.readUint8(),this.kaia_discount=t.readUint8(),this.line_usd_discount=t.readUint8(),this.notcoinLv1_discount=t.readUint8(),this.notcoinLv2_discount=t.readUint8(),this.notcoinLv3_discount=t.readUint8(),this.goldNum=t.readUint32(),this.awardItem=o(t,128)},t}());t("stGetPurchaseProductListClientCmd",function(t){function n(){var i;return(i=t.call(this)||this).gsParam=u,i}return i(n,t),n.prototype.Pack=function(){t.prototype.Pack.call(this)},n}(r)),t("stPurchaseProductListClientCmd",function(t){function n(){var i;return(i=t.call(this)||this).purchaseVer=0,i.num=0,i.info=[],i.gsParam=_,i}return i(n,t),n.prototype.UnPack=function(i){t.prototype.UnPack.call(this,i),this.purchaseVer=this.mByteBuffer.readUint32(),this.num=this.mByteBuffer.readUint16();for(var n=0;n<this.num;n+=1)this.info[n]=new p,this.info[n].UnPackData(this.mByteBuffer);this.ReleaseByteBuffer()},n}(r)),t("stPurchaseProductPlaceOrderClientCmd",function(t){function n(){var i;return(i=t.call(this)||this).purchaseVer=0,i.productID=0,i.payType=0,i.notcoinLv=0,i.gsParam=h,i}return i(n,t),n.prototype.Pack=function(){t.prototype.Pack.call(this),this.mByteBuffer.writeUint32(this.purchaseVer),this.mByteBuffer.writeUint32(this.productID),this.mByteBuffer.writeUint8(this.payType),this.mByteBuffer.writeUint8(this.notcoinLv)},n}(r)),t("stPurchaseProductOrderIDClientCmd",function(t){function n(){var i;return(i=t.call(this)||this).orderID="",i.productID=0,i.payType=0,i.payAmount="",i.result=0,i.gsParam=c,i}return i(n,t),n.prototype.UnPack=function(i){t.prototype.UnPack.call(this,i),this.orderID=this.mByteBuffer.readUint64().toString(),this.productID=this.mByteBuffer.readUint32(),this.payType=this.mByteBuffer.readUint8(),this.payAmount=o(this.mByteBuffer,16),this.result=this.mByteBuffer.readUint8(),this.ReleaseByteBuffer()},n}(r)),t("stPurchaseProductOrderFinishClientCmd",function(t){function n(){var i;return(i=t.call(this)||this).orderID="",i.productID=0,i.gsParam=y,i}return i(n,t),n.prototype.UnPack=function(i){t.prototype.UnPack.call(this,i),this.orderID=this.mByteBuffer.readUint64().toString(),this.productID=this.mByteBuffer.readUint32(),this.ReleaseByteBuffer()},n}(r));n._RF.pop()}}}));

System.register("chunks:///_virtual/QR8bitByte.ts",["cc","./constants.ts"],(function(t){"use strict";var e,n;return{setters:[function(t){e=t.cclegacy},function(t){n=t.QRMode}],execute:function(){e._RF.push({},"86ba1RsWghKtKeOT9D55vqL","QR8bitByte",void 0);t("default",function(){var t=e.prototype;function e(t){this.mode=void 0,this.data=void 0,this.mode=n.MODE_8BIT_BYTE,this.data=t}return t.getLength=function(){return this.data.length},t.write=function(t){for(var e=0;e<this.data.length;e++)t.put(this.data.charCodeAt(e),8)},e}());e._RF.pop()}}}));

System.register("chunks:///_virtual/QRBitBuffer.ts",["cc"],(function(t){"use strict";var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"3fc58KNFGND+6pEF7cMGbFt","QRBitBuffer",void 0);t("default",function(){function t(){this.buffer=void 0,this.length=void 0,this.buffer=[],this.length=0}var e=t.prototype;return e.get=function(t){var e=Math.floor(t/8);return 1==(this.buffer[e]>>>7-t%8&1)},e.put=function(t,e){for(var i=0;i<e;i++)this.putBit(1==(t>>>e-i-1&1))},e.getLengthInBits=function(){return this.length},e.putBit=function(t){var e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++},t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/QRCode.ts",["cc","./QRUtil.ts","./QR8bitByte.ts","./QRBitBuffer.ts","./QRRSBlock.ts","./QRPolynomial.ts","./constants.ts"],(function(t){"use strict";var e,o,r,n,i,s,u;return{setters:[function(t){e=t.cclegacy},function(t){o=t.QRUtil},function(t){r=t.default},function(t){n=t.default},function(t){i=t.default},function(t){s=t.default},function(e){u=e.QRErrorCorrectLevel,t("QRErrorCorrectLevel",e.QRErrorCorrectLevel)}],execute:function(){e._RF.push({},"75ce1da3AxKM4R+cDg92Vwm","QRCode",void 0);var a=t("QRCode",function(){function t(t,e){this.typeNumber=void 0,this.errorCorrectLevel=void 0,this.modules=void 0,this.moduleCount=void 0,this.dataCache=void 0,this.dataList=void 0,this.typeNumber=t,this.errorCorrectLevel=e,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}var e=t.prototype;return e.addData=function(t){var e=new r(t);this.dataList.push(e),this.dataCache=null},e.isDark=function(t,e){if(t<0||this.moduleCount<=t||e<0||this.moduleCount<=e)throw new Error(t+","+e);return this.modules[t][e]},e.getModuleCount=function(){return this.moduleCount},e.make=function(){if(this.typeNumber<1){var t;for(t=1;t<40;t++){for(var e=i.getRSBlocks(t,this.errorCorrectLevel),r=new n,s=0,u=0;u<e.length;u++)s+=e[u].dataCount;for(var a=0;a<this.dataList.length;a++){var h=this.dataList[a];r.put(h.mode,4),r.put(h.getLength(),o.getLengthInBits(h.mode,t)),h.write(r)}if(r.getLengthInBits()<=8*s)break}this.typeNumber=t}this.makeImpl(!1,this.getBestMaskPattern())},e.makeImpl=function(e,o){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var r=0;r<this.moduleCount;r++){this.modules[r]=new Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++)this.modules[r][n]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(e,o),this.typeNumber>=7&&this.setupTypeNumber(e),null==this.dataCache&&(this.dataCache=t.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,o)},e.setupPositionProbePattern=function(t,e){for(var o=-1;o<=7;o++)if(!(t+o<=-1||this.moduleCount<=t+o))for(var r=-1;r<=7;r++)e+r<=-1||this.moduleCount<=e+r||(this.modules[t+o][e+r]=o>=0&&o<=6&&(0===r||6===r)||r>=0&&r<=6&&(0===o||6===o)||o>=2&&o<=4&&r>=2&&r<=4)},e.getBestMaskPattern=function(){for(var t=0,e=0,r=0;r<8;r++){this.makeImpl(!0,r);var n=o.getLostPoint(this);(0===r||t>n)&&(t=n,e=r)}return e},e.createMovieClip=function(t,e,o){var r=t.createEmptyMovieClip(e,o);this.make();for(var n=0;n<this.modules.length;n++)for(var i=1*n,s=0;s<this.modules[n].length;s++){var u=1*s;this.modules[n][s]&&(r.beginFill(0,100),r.moveTo(u,i),r.lineTo(u+1,i),r.lineTo(u+1,i+1),r.lineTo(u,i+1),r.endFill())}return r},e.setupTimingPattern=function(){for(var t=8;t<this.moduleCount-8;t++)null==this.modules[t][6]&&(this.modules[t][6]=t%2==0);for(var e=8;e<this.moduleCount-8;e++)null==this.modules[6][e]&&(this.modules[6][e]=e%2==0)},e.setupPositionAdjustPattern=function(){for(var t=o.getPatternPosition(this.typeNumber),e=0;e<t.length;e++)for(var r=0;r<t.length;r++){var n=t[e],i=t[r];if(null==this.modules[n][i])for(var s=-2;s<=2;s++)for(var u=-2;u<=2;u++)this.modules[n+s][i+u]=-2===s||2===s||-2===u||2===u||0===s&&0===u}},e.setupTypeNumber=function(t){for(var e=o.getBCHTypeNumber(this.typeNumber),r=0;r<18;r++){var n=!t&&1==(e>>r&1);this.modules[Math.floor(r/3)][r%3+this.moduleCount-8-3]=n}for(var i=0;i<18;i++){var s=!t&&1==(e>>i&1);this.modules[i%3+this.moduleCount-8-3][Math.floor(i/3)]=s}},e.setupTypeInfo=function(t,e){for(var r=this.errorCorrectLevel<<3|e,n=o.getBCHTypeInfo(r),i=0;i<15;i++){var s=!t&&1==(n>>i&1);i<6?this.modules[i][8]=s:i<8?this.modules[i+1][8]=s:this.modules[this.moduleCount-15+i][8]=s}for(var u=0;u<15;u++){var a=!t&&1==(n>>u&1);u<8?this.modules[8][this.moduleCount-u-1]=a:u<9?this.modules[8][15-u-1+1]=a:this.modules[8][15-u-1]=a}this.modules[this.moduleCount-8][8]=!t},e.mapData=function(t,e){for(var r=-1,n=this.moduleCount-1,i=7,s=0,u=this.moduleCount-1;u>0;u-=2)for(6===u&&u--;;){for(var a=0;a<2;a++)if(null==this.modules[n][u-a]){var h=!1;s<t.length&&(h=1==(t[s]>>>i&1)),o.getMask(e,n,u-a)&&(h=!h),this.modules[n][u-a]=h,-1===--i&&(s++,i=7)}if((n+=r)<0||this.moduleCount<=n){n-=r,r=-r;break}}},t.createData=function(e,r,s){for(var u=i.getRSBlocks(e,r),a=new n,h=0;h<s.length;h++){var l=s[h];a.put(l.mode,4),a.put(l.getLength(),o.getLengthInBits(l.mode,e)),l.write(a)}for(var d=0,f=0;f<u.length;f++)d+=u[f].dataCount;if(a.getLengthInBits()>8*d)throw new Error("code length overflow. ("+a.getLengthInBits()+">"+8*d+")");for(a.getLengthInBits()+4<=8*d&&a.put(0,4);a.getLengthInBits()%8!=0;)a.putBit(!1);for(;!(a.getLengthInBits()>=8*d||(a.put(t.PAD0,8),a.getLengthInBits()>=8*d));)a.put(t.PAD1,8);return t.createBytes(a,u)},t.createBytes=function(t,e){for(var r=0,n=0,i=0,u=new Array(e.length),a=new Array(e.length),h=0;h<e.length;h++){var l=e[h].dataCount,d=e[h].totalCount-l;n=Math.max(n,l),i=Math.max(i,d),u[h]=new Array(l);for(var f=0;f<u[h].length;f++)u[h][f]=255&t.buffer[f+r];r+=l;var m=o.getErrorCorrectPolynomial(d),g=new s(u[h],m.getLength()-1).mod(m);a[h]=new Array(m.getLength()-1);for(var v=0;v<a[h].length;v++){var c=v+g.getLength()-a[h].length;a[h][v]=c>=0?g.get(c):0}}for(var C=0,p=0;p<e.length;p++)C+=e[p].totalCount;for(var y=new Array(C),L=0,P=0;P<n;P++)for(var b=0;b<e.length;b++)P<u[b].length&&(y[L++]=u[b][P]);for(var w=0;w<i;w++)for(var B=0;B<e.length;B++)w<a[B].length&&(y[L++]=a[B][w]);return y},t.createCanvas=function(e){var o=Object.assign({width:256,height:256,correctLevel:u.H,background:"#ffffff",foreground:"#000000"},e),r=new t(-1,o.correctLevel);r.addData(o.text),r.make();var n=document.createElement("canvas");n.width=o.width,n.height=o.height;for(var i=n.getContext("2d"),s=o.width/r.getModuleCount(),a=o.height/r.getModuleCount(),h=0;h<r.getModuleCount();h++)for(var l=0;l<r.getModuleCount();l++){i.fillStyle=r.isDark(h,l)?o.foreground:o.background;var d=Math.ceil((l+1)*s)-Math.floor(l*s),f=Math.ceil((h+1)*a)-Math.floor(h*a);i.fillRect(Math.round(l*s),Math.round(h*a),d,f)}return n},t.setCanvas=function(e,o){var r=document.getElementById(e);r.innerHTML="",r.appendChild(t.createCanvas(o))},t}());a.PAD0=236,a.PAD1=17,e._RF.pop()}}}));

System.register("chunks:///_virtual/QRMath.ts",["cc"],(function(r){"use strict";var t;return{setters:[function(r){t=r.cclegacy}],execute:function(){t._RF.push({},"9c3b1nw35VK3pt4O7wTu51L","QRMath",void 0);for(var E=r("QRMath",{glog:function(r){if(r<1)throw new Error("glog("+r+")");return E.LOG_TABLE[r]},gexp:function(r){for(;r<0;)r+=255;for(;r>=256;)r-=255;return E.EXP_TABLE[r]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)}),n=0;n<8;n++)E.EXP_TABLE[n]=1<<n;for(var e=8;e<256;e++)E.EXP_TABLE[e]=E.EXP_TABLE[e-4]^E.EXP_TABLE[e-5]^E.EXP_TABLE[e-6]^E.EXP_TABLE[e-8];for(var o=0;o<255;o++)E.LOG_TABLE[E.EXP_TABLE[o]]=o;t._RF.pop()}}}));

System.register("chunks:///_virtual/QRPolynomial.ts",["cc","./QRMath.ts"],(function(t){"use strict";var e,n;return{setters:[function(t){e=t.cclegacy},function(t){n=t.QRMath}],execute:function(){e._RF.push({},"098ed6qEeFBFYNdcR3WdF2p","QRPolynomial",void 0);t("default",function(){function t(t,e){if(this.num=void 0,null==t.length)throw new Error(t.length+"/"+e);for(var n=0;n<t.length&&0===t[n];)n++;this.num=new Array(t.length-n+e);for(var g=0;g<t.length-n;g++)this.num[g]=t[g+n]}var e=t.prototype;return e.get=function(t){return this.num[t]},e.getLength=function(){return this.num.length},e.multiply=function(e){for(var g=new Array(this.getLength()+e.getLength()-1),r=0;r<this.getLength();r++)for(var h=0;h<e.getLength();h++)g[r+h]^=n.gexp(n.glog(this.get(r))+n.glog(e.get(h)));return new t(g,0)},e.mod=function(e){if(this.getLength()-e.getLength()<0)return this;for(var g=n.glog(this.get(0))-n.glog(e.get(0)),r=new Array(this.getLength()),h=0;h<this.getLength();h++)r[h]=this.get(h);for(var i=0;i<e.getLength();i++)r[i]^=n.gexp(n.glog(e.get(i))+g);return new t(r,0).mod(e)},t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/QRRSBlock.ts",["cc","./constants.ts"],(function(t){"use strict";var r,e;return{setters:[function(t){r=t.cclegacy},function(t){e=t.QRErrorCorrectLevel}],execute:function(){r._RF.push({},"a8aa88ETYpGDpBhVHyJYfoj","QRRSBlock",void 0),t("default",function(){function t(t,r){this.totalCount=void 0,this.dataCount=void 0,this.totalCount=t,this.dataCount=r}return t.getRSBlocks=function(r,e){var o=this.getRsBlockTable(r,e);if(void 0===o)throw new Error("bad rs block @ typeNumber:"+r+"/errorCorrectLevel:"+e);for(var n=o.length/3,s=[],c=0;c<n;c++)for(var u=o[3*c],i=o[3*c+1],a=o[3*c+2],l=0;l<u;l++)s.push(new t(i,a));return s},t.getRsBlockTable=function(t,r){switch(r){case e.L:return this.RS_BLOCK_TABLE[4*(t-1)];case e.M:return this.RS_BLOCK_TABLE[4*(t-1)+1];case e.Q:return this.RS_BLOCK_TABLE[4*(t-1)+2];case e.H:return this.RS_BLOCK_TABLE[4*(t-1)+3];default:return}},t}()).RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],r._RF.pop()}}}));

System.register("chunks:///_virtual/QRUtil.ts",["cc","./constants.ts","./QRMath.ts","./QRPolynomial.ts"],(function(r){"use strict";var t,e,a,i,n;return{setters:[function(r){t=r.cclegacy},function(r){e=r.QRMaskPattern,a=r.QRMode},function(r){i=r.QRMath},function(r){n=r.default}],execute:function(){t._RF.push({},"3c577G/b7RCK6AKR+jZfnui","QRUtil",void 0);var s=r("QRUtil",{PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(r){for(var t=r<<10;s.getBCHDigit(t)-s.getBCHDigit(s.G15)>=0;)t^=s.G15<<s.getBCHDigit(t)-s.getBCHDigit(s.G15);return(r<<10|t)^s.G15_MASK},getBCHTypeNumber:function(r){for(var t=r<<12;s.getBCHDigit(t)-s.getBCHDigit(s.G18)>=0;)t^=s.G18<<s.getBCHDigit(t)-s.getBCHDigit(s.G18);return r<<12|t},getBCHDigit:function(r){for(var t=0;0!==r;)t++,r>>>=1;return t},getPatternPosition:function(r){return s.PATTERN_POSITION_TABLE[r-1]},getMask:function(r,t,a){switch(r){case e.PATTERN000:return(t+a)%2==0;case e.PATTERN001:return t%2==0;case e.PATTERN010:return a%3==0;case e.PATTERN011:return(t+a)%3==0;case e.PATTERN100:return(Math.floor(t/2)+Math.floor(a/3))%2==0;case e.PATTERN101:return t*a%2+t*a%3==0;case e.PATTERN110:return(t*a%2+t*a%3)%2==0;case e.PATTERN111:return(t*a%3+(t+a)%2)%2==0;default:throw new Error("bad maskPattern:"+r)}},getErrorCorrectPolynomial:function(r){for(var t=new n([1],0),e=0;e<r;e++)t=t.multiply(new n([1,i.gexp(e)],0));return t},getLengthInBits:function(r,t){if(t>=1&&t<10)switch(r){case a.MODE_NUMBER:return 10;case a.MODE_ALPHA_NUM:return 9;case a.MODE_8BIT_BYTE:case a.MODE_KANJI:return 8;default:throw new Error("mode:"+r)}else if(t<27)switch(r){case a.MODE_NUMBER:return 12;case a.MODE_ALPHA_NUM:return 11;case a.MODE_8BIT_BYTE:return 16;case a.MODE_KANJI:return 10;default:throw new Error("mode:"+r)}else{if(!(t<41))throw new Error("type:"+t);switch(r){case a.MODE_NUMBER:return 14;case a.MODE_ALPHA_NUM:return 13;case a.MODE_8BIT_BYTE:return 16;case a.MODE_KANJI:return 12;default:throw new Error("mode:"+r)}}},getLostPoint:function(r){for(var t=r.getModuleCount(),e=0,a=0;a<t;a++)for(var i=0;i<t;i++){for(var n=0,s=r.isDark(a,i),o=-1;o<=1;o++)if(!(a+o<0||t<=a+o))for(var u=-1;u<=1;u++)i+u<0||t<=i+u||0===o&&0===u||s===r.isDark(a+o,i+u)&&n++;n>5&&(e+=3+n-5)}for(var c=0;c<t-1;c++)for(var f=0;f<t-1;f++){var D=0;r.isDark(c,f)&&D++,r.isDark(c+1,f)&&D++,r.isDark(c,f+1)&&D++,r.isDark(c+1,f+1)&&D++,0!==D&&4!==D||(e+=3)}for(var E=0;E<t;E++)for(var T=0;T<t-6;T++)r.isDark(E,T)&&!r.isDark(E,T+1)&&r.isDark(E,T+2)&&r.isDark(E,T+3)&&r.isDark(E,T+4)&&!r.isDark(E,T+5)&&r.isDark(E,T+6)&&(e+=40);for(var g=0;g<t;g++)for(var M=0;M<t-6;M++)r.isDark(M,g)&&!r.isDark(M+1,g)&&r.isDark(M+2,g)&&r.isDark(M+3,g)&&r.isDark(M+4,g)&&!r.isDark(M+5,g)&&r.isDark(M+6,g)&&(e+=40);for(var _=0,k=0;k<t;k++)for(var R=0;R<t;R++)r.isDark(R,k)&&_++;return e+=10*(Math.abs(100*_/t/t-50)/5)}});t._RF.pop()}}}));

System.register("chunks:///_virtual/quidditch.client.protocol.ts",["./rollupPluginModLoBabelHelpers.js","cc","./long.mjs_cjs=&original=.js","./net.protocol.define.ts","./null.client.protocol.ts","./long.js"],(function(t){"use strict";var i,e,a,n,r;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy},null,function(t){a=t.NetProtocolDefine},function(t){n=t.stNullClientCmd},function(t){r=t.default}],execute:function(){t({EQuidditchGameState:void 0,EQuidditchGameVote:void 0}),e._RF.push({},"817b1PPurpPzrc9Ie/SVIzz","quidditch.client.protocol",void 0);var s,o,u=t("stQuidditchClientCmd",function(t){function e(){var i;return(i=t.call(this)||this).gsCmd=a.QUIDDITCH_CLIENT_CMD,i}return i(e,t),e}(n)),h=t("GET_QUIDDITCH_GAME_DATA_CLIENT",1),c=t("SEND_QUIDDITCH_GAME_DATA_CLIENT",2),d=t("SEND_QUIDDITCH_VOTE_CLIENT",3),m=t("QUIDDITCH_VOTE_CLIENT",4),l=t("QUIDDITCH_USER_SETTLE_CLIENT",5),f=t("QUIDDITCH_USER_SETTLE_DATA_CLIENT",6),p=t("QUIDDITCH_GAME_STATE_CLIENT",7);!function(t){t[t.eQuidditchGameState_Before=0]="eQuidditchGameState_Before",t[t.eQuidditchGameState_Ready=1]="eQuidditchGameState_Ready",t[t.eQuidditchGameState_Start=2]="eQuidditchGameState_Start",t[t.eQuidditchGameState_Start_Line2=3]="eQuidditchGameState_Start_Line2",t[t.eQuidditchGameState_Start_Line3=4]="eQuidditchGameState_Start_Line3",t[t.eQuidditchGameState_End=5]="eQuidditchGameState_End"}(s||(s=t("EQuidditchGameState",{}))),function(t){t[t.eQuidditchGameVote1=0]="eQuidditchGameVote1",t[t.eQuidditchGameVote2=1]="eQuidditchGameVote2",t[t.eQuidditchGameVote3=2]="eQuidditchGameVote3",t[t.eQuidditchGameVoteMax=3]="eQuidditchGameVoteMax"}(o||(o=t("EQuidditchGameVote",{})));var U=t("stParticipant",function(){function t(){this.id=0,this.speed=0,this.curPosition=0,this.tarPosition=0,this.win=0,this.stateID=0,this.stateTime=0,this.voteNum=[],this.voteAmount=[]}return t.prototype.UnPackData=function(t){this.id=t.readUint32(),this.speed=t.readInt32(),this.curPosition=t.readInt32(),this.tarPosition=t.readInt32(),this.win=t.readUint8(),this.stateID=t.readUint32(),this.stateTime=t.readUint32(),this.voteNum=[];for(var i=0;i<o.eQuidditchGameVoteMax;i++)this.voteNum.push(t.readUint32());this.voteAmount=[];for(var e=0;e<o.eQuidditchGameVoteMax;e++)this.voteAmount.push(t.readUint64().toString())},t}()),D=t("stUserVote",function(){function t(){this.userID=0,this.gameID=0,this.voteNum=[],this.voteAmount=[]}return t.prototype.UnPackData=function(t){this.userID=t.readUint32(),this.gameID=t.readUint32(),this.voteNum=[];for(var i=0;i<a.QUIDDITCH_MAX_PARTICIPANT;i++){this.voteNum[i]=[];for(var e=0;e<o.eQuidditchGameVoteMax;e++)this.voteNum[i].push(t.readUint32())}this.voteAmount=[];for(var n=0;n<a.QUIDDITCH_MAX_PARTICIPANT;n++){this.voteAmount[n]=[];for(var r=0;r<o.eQuidditchGameVoteMax;r++)this.voteAmount[n].push(t.readUint64().toString())}},t}()),I=t("stQuidditchGame",function(){function t(){this.gameID=0,this.startTime=0,this.gameState=0,this.stateTime=0,this.gameTick=0,this.maxDistance=0,this.line2Distance=0,this.line3Distance=0,this.voteID=0,this.voteAmount="",this.participantList=[]}return t.prototype.UnPackData=function(t){this.gameID=t.readUint32(),this.startTime=t.readUint32(),this.gameState=t.readUint8(),this.stateTime=t.readUint32(),this.gameTick=t.readUint32(),this.maxDistance=t.readUint32(),this.line2Distance=t.readUint32(),this.line3Distance=t.readUint32(),this.voteID=t.readUint8(),this.voteAmount=t.readUint64().toString(),this.participantList=[];for(var i=0;i<a.QUIDDITCH_MAX_PARTICIPANT;i++){var e=new U;e.UnPackData(t),this.participantList.push(e)}},t}()),_=t("stQuidditchSettle",function(){function t(){this.userVote=null,this.participantList=[],this.returnAmount="",this.rewardAmount="",this.rewardGold=""}return t.prototype.UnPackData=function(t){this.userVote=new D,this.userVote.UnPackData(t),this.participantList=[];for(var i=0;i<a.QUIDDITCH_MAX_PARTICIPANT;i++){var e=new U;e.UnPackData(t),this.participantList.push(e)}this.returnAmount=t.readUint64().toString(),this.rewardAmount=t.readUint64().toString(),this.rewardGold=t.readUint64().toString()},t}());t("stGetQuidditchGameDataClientCmd",function(t){function e(){var i;return(i=t.call(this)||this).gsParam=h,i}return i(e,t),e.prototype.Pack=function(){t.prototype.Pack.call(this)},e}(u)),t("stSendQuidditchGameDataClientCmd",function(t){function e(){var i;return(i=t.call(this)||this).quidditchGame=null,i.gsParam=c,i}return i(e,t),e.prototype.UnPack=function(i){t.prototype.UnPack.call(this,i),this.quidditchGame=new I,this.quidditchGame.UnPackData(this.mByteBuffer),this.ReleaseByteBuffer()},e}(u)),t("stSendQuidditchVoteClientCmd",function(t){function e(){var i;return(i=t.call(this)||this).userVote=null,i.gsParam=d,i}return i(e,t),e.prototype.UnPack=function(i){t.prototype.UnPack.call(this,i),this.userVote=new D,this.userVote.UnPackData(this.mByteBuffer),this.ReleaseByteBuffer()},e}(u)),t("stQuidditchVoteClientCmd",function(t){function e(){var i;return(i=t.call(this)||this).participantIndex=0,i.voteAmount="",i.result=0,i.gsParam=m,i}i(e,t);var a=e.prototype;return a.Pack=function(){t.prototype.Pack.call(this),this.mByteBuffer.writeUint32(this.participantIndex),this.mByteBuffer.writeUint64(r.fromString(this.voteAmount)),this.mByteBuffer.writeUint8(this.result)},a.UnPack=function(i){t.prototype.UnPack.call(this,i),this.participantIndex=this.mByteBuffer.readUint32(),this.voteAmount=this.mByteBuffer.readUint64().toString(),this.result=this.mByteBuffer.readUint8(),this.ReleaseByteBuffer()},e}(u)),t("stQuidditchSettleClientCmd",function(t){function e(){var i;return(i=t.call(this)||this).gsParam=l,i}return i(e,t),e.prototype.Pack=function(){t.prototype.Pack.call(this)},e}(u)),t("stQuidditchSettleDataClientCmd",function(t){function e(){var i;return(i=t.call(this)||this).quidditchSettle=null,i.gsParam=f,i}return i(e,t),e.prototype.UnPack=function(i){t.prototype.UnPack.call(this,i),this.quidditchSettle=new _,this.quidditchSettle.UnPackData(this.mByteBuffer),this.ReleaseByteBuffer()},e}(u)),t("stQuidditchGameStateClientCmd",function(t){function e(){var i;return(i=t.call(this)||this).gameState=0,i.gsParam=p,i}return i(e,t),e.prototype.UnPack=function(i){t.prototype.UnPack.call(this,i),this.gameState=this.mByteBuffer.readUint8(),this.ReleaseByteBuffer()},e}(u));e._RF.pop()}}}));

System.register("chunks:///_virtual/race.fsm.ts",["./rollupPluginModLoBabelHelpers.js","cc","./race.state.none.ts","./race.state.init.ts","./race.state.unopen.ts","./race.state.before.ts","./race.state.ready.ts","./race.state.start1.ts","./race.state.start2.ts","./race.state.start3.ts","./race.state.finish.ts"],(function(t){"use strict";var e,a,n,s,r,c,i,u,S,o,l,f,h;return{setters:[function(t){e=t.createClass,a=t.asyncToGenerator,n=t.regeneratorRuntime},function(t){s=t.cclegacy},function(t){r=t.RaceStateNone},function(t){c=t.RaceStateInit},function(t){i=t.RaceStateUnopen},function(t){u=t.RaceStateBefore},function(t){S=t.RaceStateReady},function(t){o=t.RaceStateStart1},function(t){l=t.RaceStateStart2},function(t){f=t.RaceStateStart3},function(t){h=t.RaceStateFinish}],execute:function(){s._RF.push({},"671cebD9LdPAr/ShbWNqyR1","race.fsm",void 0);t("RaceStateFSM",function(){function t(){this.mAllStatesMap=new Map,this.mCurState=null}var s=t.prototype;return s.initStateFSM=function(t){var e=new r(t),a=new c(t),n=new i(t),s=new u(t),m=new S(t),p=new o(t),R=new l(t),M=new f(t),C=new h(t);this.mAllStatesMap.set(e.RaceState,e),this.mAllStatesMap.set(a.RaceState,a),this.mAllStatesMap.set(n.RaceState,n),this.mAllStatesMap.set(s.RaceState,s),this.mAllStatesMap.set(m.RaceState,m),this.mAllStatesMap.set(p.RaceState,p),this.mAllStatesMap.set(R.RaceState,R),this.mAllStatesMap.set(M.RaceState,M),this.mAllStatesMap.set(C.RaceState,C)},s.isInState=function(t){return null!=this.mCurState&&this.mCurState.RaceState===t},s.fsmUpdate=function(t){null!==this.mCurState&&this.mCurState.onUpdate(t)},s.triggerState=function(){var t=a(n().mark((function t(e){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null==this.mCurState||this.mCurState.RaceState===e){t.next=3;break}return t.next=3,this.mCurState.onExit();case 3:return this.mCurState=this.mAllStatesMap.get(e),t.next=6,this.mCurState.onEnter();case 6:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),e(t,[{key:"CurrentState",get:function(){return this.mCurState}}]),t}());s._RF.pop()}}}));

System.register("chunks:///_virtual/race.state.base.ts",["./rollupPluginModLoBabelHelpers.js","cc","./enum.race.state.ts"],(function(t){"use strict";var e,n,r,a,c,s;return{setters:[function(t){e=t.createClass,n=t.asyncToGenerator,r=t.regeneratorRuntime},function(t){a=t.cclegacy,c=t._decorator},function(t){s=t.ERaceState}],execute:function(){var u;a._RF.push({},"ec2aaKiDIpAUqVTU6fZBi06","race.state.base",void 0);var o=c.ccclass;t("RaceStateBase",o("RaceStateBase")(u=function(){function t(t){this.mRaceState=s.None,this.mRaceInterface=null,this.mRaceInterface=t}var a=t.prototype;return a.onEnter=function(){var t=n(r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),a.onExit=function(){var t=n(r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),a.onUpdate=function(t){},e(t,[{key:"RaceState",get:function(){return this.mRaceState}}]),t}())||u);a._RF.pop()}}}));

System.register("chunks:///_virtual/race.state.before.ts",["./rollupPluginModLoBabelHelpers.js","cc","./enum.race.state.ts","./race.state.base.ts"],(function(e){"use strict";var t,n,r,a,c,s,o;return{setters:[function(e){t=e.inheritsLoose,n=e.asyncToGenerator,r=e.regeneratorRuntime},function(e){a=e.cclegacy,c=e._decorator},function(e){s=e.ERaceState},function(e){o=e.RaceStateBase}],execute:function(){var i;a._RF.push({},"ff1c5YBaKxJv65DGrf1QX7Z","race.state.before",void 0);var f=c.ccclass;e("RaceStateBefore",f("RaceStateBefore")(i=function(e){function a(t){var n;return(n=e.call(this,t)||this).mRaceState=s.Before,n}t(a,e);var c=a.prototype;return c.onEnter=function(){var e=n(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==this.mRaceInterface||!this.mRaceInterface.stateBeforeOnEnter){e.next=3;break}return e.next=3,this.mRaceInterface.stateBeforeOnEnter();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),c.onExit=function(){var e=n(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==this.mRaceInterface||!this.mRaceInterface.stateBeforeOnExit){e.next=3;break}return e.next=3,this.mRaceInterface.stateBeforeOnExit();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),c.onUpdate=function(e){null!=this.mRaceInterface&&this.mRaceInterface.stateBeforeOnUpdate&&this.mRaceInterface.stateBeforeOnUpdate(e)},a}(o))||i);a._RF.pop()}}}));

System.register("chunks:///_virtual/race.state.finish.ts",["./rollupPluginModLoBabelHelpers.js","cc","./enum.race.state.ts","./race.state.base.ts"],(function(t){"use strict";var e,n,a,r,i,c,s;return{setters:[function(t){e=t.inheritsLoose,n=t.asyncToGenerator,a=t.regeneratorRuntime},function(t){r=t.cclegacy,i=t._decorator},function(t){c=t.ERaceState},function(t){s=t.RaceStateBase}],execute:function(){var u;r._RF.push({},"ecde0RGa39OL6bRCmr0Uzrf","race.state.finish",void 0);var o=i.ccclass;t("RaceStateFinish",o("RaceStateFinish")(u=function(t){function r(e){var n;return(n=t.call(this,e)||this).mRaceState=c.Finish,n}e(r,t);var i=r.prototype;return i.onEnter=function(){var t=n(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null==this.mRaceInterface||!this.mRaceInterface.stateFinishOnEnter){t.next=3;break}return t.next=3,this.mRaceInterface.stateFinishOnEnter();case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),i.onExit=function(){var t=n(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null==this.mRaceInterface||!this.mRaceInterface.stateFinishOnExit){t.next=3;break}return t.next=3,this.mRaceInterface.stateFinishOnExit();case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),i.onUpdate=function(t){null!=this.mRaceInterface&&this.mRaceInterface.stateFinishOnUpdate&&this.mRaceInterface.stateFinishOnUpdate(t)},r}(s))||u);r._RF.pop()}}}));

System.register("chunks:///_virtual/race.state.init.ts",["./rollupPluginModLoBabelHelpers.js","cc","./enum.race.state.ts","./race.state.base.ts"],(function(t){"use strict";var e,n,a,r,c,i,s;return{setters:[function(t){e=t.inheritsLoose,n=t.asyncToGenerator,a=t.regeneratorRuntime},function(t){r=t.cclegacy,c=t._decorator},function(t){i=t.ERaceState},function(t){s=t.RaceStateBase}],execute:function(){var u;r._RF.push({},"6368d82ha5NJb6lY7zwocps","race.state.init",void 0);var o=c.ccclass;t("RaceStateInit",o("RaceStateInit")(u=function(t){function r(e){var n;return(n=t.call(this,e)||this).mRaceState=i.Init,n}e(r,t);var c=r.prototype;return c.onEnter=function(){var t=n(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null==this.mRaceInterface||!this.mRaceInterface.stateInitOnEnter){t.next=3;break}return t.next=3,this.mRaceInterface.stateInitOnEnter();case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),c.onExit=function(){var t=n(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null==this.mRaceInterface||!this.mRaceInterface.stateInitOnExit){t.next=3;break}return t.next=3,this.mRaceInterface.stateInitOnExit();case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),c.onUpdate=function(t){null!=this.mRaceInterface&&this.mRaceInterface.stateInitOnUpdate&&this.mRaceInterface.stateInitOnUpdate(t)},r}(s))||u);r._RF.pop()}}}));

System.register("chunks:///_virtual/race.state.interface.ts",["cc"],(function(){"use strict";var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"f6a00SxO/RJsIKgduXDgULN","race.state.interface",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/race.state.none.ts",["./rollupPluginModLoBabelHelpers.js","cc","./enum.race.state.ts","./race.state.base.ts"],(function(e){"use strict";var t,n,a,r,c,s,o;return{setters:[function(e){t=e.inheritsLoose,n=e.asyncToGenerator,a=e.regeneratorRuntime},function(e){r=e.cclegacy,c=e._decorator},function(e){s=e.ERaceState},function(e){o=e.RaceStateBase}],execute:function(){var i;r._RF.push({},"2c712d0gfxApIqYzC4hMbeZ","race.state.none",void 0);var u=c.ccclass;e("RaceStateNone",u("RaceStateNone")(i=function(e){function r(t){var n;return(n=e.call(this,t)||this).mRaceState=s.None,n}t(r,e);var c=r.prototype;return c.onEnter=function(){var e=n(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==this.mRaceInterface||!this.mRaceInterface.stateNoneOnEnter){e.next=3;break}return e.next=3,this.mRaceInterface.stateNoneOnEnter();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),c.onExit=function(){var e=n(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==this.mRaceInterface||!this.mRaceInterface.stateNoneOnExit){e.next=3;break}return e.next=3,this.mRaceInterface.stateNoneOnExit();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),c.onUpdate=function(e){null!=this.mRaceInterface&&this.mRaceInterface.stateNoneOnUpdate&&this.mRaceInterface.stateNoneOnUpdate(e)},r}(o))||i);r._RF.pop()}}}));

System.register("chunks:///_virtual/race.state.ready.ts",["./rollupPluginModLoBabelHelpers.js","cc","./enum.race.state.ts","./race.state.base.ts"],(function(e){"use strict";var t,a,n,r,c,s,i;return{setters:[function(e){t=e.inheritsLoose,a=e.asyncToGenerator,n=e.regeneratorRuntime},function(e){r=e.cclegacy,c=e._decorator},function(e){s=e.ERaceState},function(e){i=e.RaceStateBase}],execute:function(){var u;r._RF.push({},"fbca4nfSYhE45xHJ4UfgKlP","race.state.ready",void 0);var o=c.ccclass;e("RaceStateReady",o("RaceStateReady")(u=function(e){function r(t){var a;return(a=e.call(this,t)||this).mRaceState=s.Ready,a}t(r,e);var c=r.prototype;return c.onEnter=function(){var e=a(n().mark((function e(){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==this.mRaceInterface||!this.mRaceInterface.stateReadyOnEnter){e.next=3;break}return e.next=3,this.mRaceInterface.stateReadyOnEnter();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),c.onExit=function(){var e=a(n().mark((function e(){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==this.mRaceInterface||!this.mRaceInterface.stateReadyOnExit){e.next=3;break}return e.next=3,this.mRaceInterface.stateReadyOnExit();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),c.onUpdate=function(e){null!=this.mRaceInterface&&this.mRaceInterface.stateReadyOnUpdate&&this.mRaceInterface.stateReadyOnUpdate(e)},r}(i))||u);r._RF.pop()}}}));

System.register("chunks:///_virtual/race.state.start1.ts",["./rollupPluginModLoBabelHelpers.js","cc","./enum.race.state.ts","./race.state.base.ts"],(function(t){"use strict";var e,a,n,r,c,s,i;return{setters:[function(t){e=t.inheritsLoose,a=t.asyncToGenerator,n=t.regeneratorRuntime},function(t){r=t.cclegacy,c=t._decorator},function(t){s=t.ERaceState},function(t){i=t.RaceStateBase}],execute:function(){var u;r._RF.push({},"ca801Nhc4lP0Jo4j3DBGQd6","race.state.start1",void 0);var o=c.ccclass;t("RaceStateStart1",o("RaceStateStart1")(u=function(t){function r(e){var a;return(a=t.call(this,e)||this).mRaceState=s.Start_Line1,a}e(r,t);var c=r.prototype;return c.onEnter=function(){var t=a(n().mark((function t(){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null==this.mRaceInterface||!this.mRaceInterface.stateStart1OnEnter){t.next=3;break}return t.next=3,this.mRaceInterface.stateStart1OnEnter();case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),c.onExit=function(){var t=a(n().mark((function t(){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null==this.mRaceInterface||!this.mRaceInterface.stateStart1OnExit){t.next=3;break}return t.next=3,this.mRaceInterface.stateStart1OnExit();case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),c.onUpdate=function(t){null!=this.mRaceInterface&&this.mRaceInterface.stateStart1OnUpdate&&this.mRaceInterface.stateStart1OnUpdate(t)},r}(i))||u);r._RF.pop()}}}));

System.register("chunks:///_virtual/race.state.start2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./enum.race.state.ts","./race.state.base.ts"],(function(t){"use strict";var e,a,n,r,c,s,i;return{setters:[function(t){e=t.inheritsLoose,a=t.asyncToGenerator,n=t.regeneratorRuntime},function(t){r=t.cclegacy,c=t._decorator},function(t){s=t.ERaceState},function(t){i=t.RaceStateBase}],execute:function(){var u;r._RF.push({},"ed816RwqFxBR46L8mBz6U9k","race.state.start2",void 0);var o=c.ccclass;t("RaceStateStart2",o("RaceStateStart2")(u=function(t){function r(e){var a;return(a=t.call(this,e)||this).mRaceState=s.Start_Line2,a}e(r,t);var c=r.prototype;return c.onEnter=function(){var t=a(n().mark((function t(){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null==this.mRaceInterface||!this.mRaceInterface.stateStart2OnEnter){t.next=3;break}return t.next=3,this.mRaceInterface.stateStart2OnEnter();case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),c.onExit=function(){var t=a(n().mark((function t(){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null==this.mRaceInterface||!this.mRaceInterface.stateStart2OnExit){t.next=3;break}return t.next=3,this.mRaceInterface.stateStart2OnExit();case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),c.onUpdate=function(t){null!=this.mRaceInterface&&this.mRaceInterface.stateStart2OnUpdate&&this.mRaceInterface.stateStart2OnUpdate(t)},r}(i))||u);r._RF.pop()}}}));

System.register("chunks:///_virtual/race.state.start3.ts",["./rollupPluginModLoBabelHelpers.js","cc","./enum.race.state.ts","./race.state.base.ts"],(function(t){"use strict";var e,a,n,r,c,s,i;return{setters:[function(t){e=t.inheritsLoose,a=t.asyncToGenerator,n=t.regeneratorRuntime},function(t){r=t.cclegacy,c=t._decorator},function(t){s=t.ERaceState},function(t){i=t.RaceStateBase}],execute:function(){var u;r._RF.push({},"2abffD87J1On4l00kb5DFGN","race.state.start3",void 0);var o=c.ccclass;t("RaceStateStart3",o("RaceStateStart3")(u=function(t){function r(e){var a;return(a=t.call(this,e)||this).mRaceState=s.Start_Line3,a}e(r,t);var c=r.prototype;return c.onEnter=function(){var t=a(n().mark((function t(){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null==this.mRaceInterface||!this.mRaceInterface.stateStart3OnEnter){t.next=3;break}return t.next=3,this.mRaceInterface.stateStart3OnEnter();case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),c.onExit=function(){var t=a(n().mark((function t(){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null==this.mRaceInterface||!this.mRaceInterface.stateStart3OnExit){t.next=3;break}return t.next=3,this.mRaceInterface.stateStart3OnExit();case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),c.onUpdate=function(t){null!=this.mRaceInterface&&this.mRaceInterface.stateStart3OnUpdate&&this.mRaceInterface.stateStart3OnUpdate(t)},r}(i))||u);r._RF.pop()}}}));

System.register("chunks:///_virtual/race.state.unopen.ts",["./rollupPluginModLoBabelHelpers.js","cc","./enum.race.state.ts","./race.state.base.ts"],(function(e){"use strict";var t,n,a,r,c,s,o;return{setters:[function(e){t=e.inheritsLoose,n=e.asyncToGenerator,a=e.regeneratorRuntime},function(e){r=e.cclegacy,c=e._decorator},function(e){s=e.ERaceState},function(e){o=e.RaceStateBase}],execute:function(){var i;r._RF.push({},"1e1bfGzidhGf4ScnxVZFNml","race.state.unopen",void 0);var u=c.ccclass;e("RaceStateUnopen",u("RaceStateUnopen")(i=function(e){function r(t){var n;return(n=e.call(this,t)||this).mRaceState=s.Unopen,n}t(r,e);var c=r.prototype;return c.onEnter=function(){var e=n(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==this.mRaceInterface||!this.mRaceInterface.stateUnopenOnEnter){e.next=3;break}return e.next=3,this.mRaceInterface.stateUnopenOnEnter();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),c.onExit=function(){var e=n(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==this.mRaceInterface||!this.mRaceInterface.stateUnopenOnExit){e.next=3;break}return e.next=3,this.mRaceInterface.stateUnopenOnExit();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),c.onUpdate=function(e){null!=this.mRaceInterface&&this.mRaceInterface.stateUnopenOnUpdate&&this.mRaceInterface.stateUnopenOnUpdate(e)},r}(o))||i);r._RF.pop()}}}));

System.register("chunks:///_virtual/rank.client.protocol.ts",["./rollupPluginModLoBabelHelpers.js","cc","./net.protocol.define.ts","./null.client.protocol.ts"],(function(t){"use strict";var i,e,n,r,s,a;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy},function(t){n=t.NetProtocolDefine},function(t){r=t.stringFixedLenToByteBuffer,s=t.readStringWithFixedLengthFromByteBuffer,a=t.stNullClientCmd}],execute:function(){t("enumRankType",void 0),e._RF.push({},"972918W18FEdYkXduO1YmBR","rank.client.protocol",void 0);var u,o=t("stRankClientCmd",function(t){function e(){var i;return(i=t.call(this)||this).gsCmd=n.RANK_CLIENT_CMD,i}return i(e,t),e}(a)),f=t("REQ_RANK_LIST_CLIENT",1);!function(t){t[t.eRankType_none=0]="eRankType_none",t[t.eRankType_fight_pvp=1]="eRankType_fight_pvp"}(u||(u=t("enumRankType",{})));var h=t("stClientRankInfo",function(){function t(){this.type=0,this.up=0,this.down=0,this.user=0,this.name="",this.account=""}var i=t.prototype;return i.PackData=function(t){t.writeUint32(this.type),t.writeUint32(this.up),t.writeUint32(this.down),t.writeUint32(this.user),t.append(r(this.name,n.NAME_SIZE_MAX)),t.append(r(this.account,n.ACCOUNT_SIZE_MAX))},i.UnPackData=function(t){this.type=t.readUint32(),this.up=t.readUint32(),this.down=t.readUint32(),this.user=t.readUint32(),this.name=s(t,n.NAME_SIZE_MAX),this.account=s(t,n.ACCOUNT_SIZE_MAX)},t}());t("stReqRankClientCmd",function(t){function e(){var i;return(i=t.call(this)||this).type=0,i.totalNum=0,i.myRank=0,i.up=0,i.down=0,i.num=0,i.page=0,i.info=null,i.gsParam=f,i}i(e,t);var n=e.prototype;return n.Pack=function(){if(t.prototype.Pack.call(this),this.mByteBuffer.writeUint32(this.type),this.mByteBuffer.writeUint32(this.totalNum),this.mByteBuffer.writeUint32(this.myRank),this.mByteBuffer.writeUint32(this.up),this.mByteBuffer.writeUint32(this.down),this.mByteBuffer.writeUint16(this.num),this.mByteBuffer.writeUint16(this.page),null!=this.info)for(var i=0;i<this.info.length;++i)this.info[i].PackData(this.mByteBuffer)},n.UnPack=function(i){t.prototype.UnPack.call(this,i),this.type=this.mByteBuffer.readUint32(),this.totalNum=this.mByteBuffer.readUint32(),this.myRank=this.mByteBuffer.readUint32(),this.up=this.mByteBuffer.readUint32(),this.down=this.mByteBuffer.readUint32(),this.num=this.mByteBuffer.readUint16(),this.page=this.mByteBuffer.readUint16(),this.info=[];for(var e=0;e<this.num;e+=1)this.info[e]=new h,this.info[e].UnPackData(this.mByteBuffer);this.ReleaseByteBuffer()},e}(o));e._RF.pop()}}}));

System.register("chunks:///_virtual/record.state.effect.base.ts",["./rollupPluginModLoBabelHelpers.js","cc","./enum.state.define.ts","./table.record.base.ts"],(function(e){"use strict";var t,c,r,n,s;return{setters:[function(e){t=e.inheritsLoose},function(e){c=e.cclegacy,r=e._decorator},function(e){n=e.EStateEffectType},function(e){s=e.TableRecordBase}],execute:function(){var o;c._RF.push({},"00894gvuIRH+qEL0SOtdz++","record.state.effect.base",void 0);var a=r.ccclass;e("RecordStateEffectBase",a("RecordStateEffectBase")(o=function(e){function c(){return e.apply(this,arguments)||this}return t(c,e),c.prototype.GetStateEffectType=function(){return n.None},c}(s))||o);c._RF.pop()}}}));

System.register("chunks:///_virtual/render.order.y.component.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var r,t,n,i,o,c,s,d,l,a,u;return{setters:[function(e){r=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){o=e.cclegacy,c=e._decorator,s=e.Node,d=e.v3,l=e.director,a=e.Director,u=e.Component}],execute:function(){var p,h,f,_,v;o._RF.push({},"ab0f2TeHodINb9jnRLxdjPn","render.order.y.component",void 0);var y=c.ccclass,g=c.property;e("RenderOrderYComponent",(p=y("RenderOrderYComponent"),h=g(s),p((v=r((_=function(e){function r(){for(var r,t=arguments.length,o=new Array(t),c=0;c<t;c++)o[c]=arguments[c];return r=e.call.apply(e,[this].concat(o))||this,n(r,"renderNode",v,i(r)),r.childrenList=[],r.temp_v3_a=d(),r.temp_v3_b=d(),r}t(r,e);var o=r.prototype;return o.onLoad=function(){var e=this;Object.defineProperty(this.node,"children",{get:function(){return e.childrenList}})},o.onEnable=function(){var e=this;l.on(a.EVENT_BEFORE_DRAW,(function(){e.childrenList=e._getChildrenList()}),this)},o.onDisable=function(){this.childrenList.length=0,l.targetOff(this)},o._getChildrenList=function(){for(var e=this,r=[],t=this.node._children,n=0;n<t.length;n+=1)r.push(t[n]);return r.sort((function(r,t){var n=r.getWorldPosition(e.temp_v3_a).y;return t.getWorldPosition(e.temp_v3_b).y-n})),r},r}(u)).prototype,"renderNode",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=_))||f));o._RF.pop()}}}));

System.register("chunks:///_virtual/render.order.z.component.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var r,t,n,i,o,c,s,l,a,d,u;return{setters:[function(e){r=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){o=e.cclegacy,c=e._decorator,s=e.Node,l=e.v3,a=e.director,d=e.Director,u=e.Component}],execute:function(){var p,h,f,_,v;o._RF.push({},"61564qL3cFFeKXOpGNwnZS/","render.order.z.component",void 0);var g=c.ccclass,m=c.property;e("RenderOrderZComponent",(p=g("RenderOrderZComponent"),h=m(s),p((v=r((_=function(e){function r(){for(var r,t=arguments.length,o=new Array(t),c=0;c<t;c++)o[c]=arguments[c];return r=e.call.apply(e,[this].concat(o))||this,n(r,"renderNode",v,i(r)),r.childrenList=[],r.temp_v3_a=l(),r.temp_v3_b=l(),r}t(r,e);var o=r.prototype;return o.onLoad=function(){var e=this;Object.defineProperty(this.node,"children",{get:function(){return e.childrenList}})},o.onEnable=function(){var e=this;a.on(d.EVENT_BEFORE_DRAW,(function(){e.childrenList=e._getChildrenList()}),this)},o.onDisable=function(){this.childrenList.length=0,a.targetOff(this)},o._getChildrenList=function(){for(var e=this,r=[],t=this.node._children,n=0;n<t.length;n+=1)r.push(t[n]);return r.sort((function(r,t){var n=r.getWorldPosition(e.temp_v3_a).z;return t.getWorldPosition(e.temp_v3_b).z-n})),r},r}(u)).prototype,"renderNode",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=_))||f));o._RF.pop()}}}));

System.register("chunks:///_virtual/resource.manager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./event.dispatcher.ts","./event.name.ts","./base.manager.ts","./plugin.settings.ts","./common.tool.ts","./resource.path.tool.ts"],(function(e){"use strict";var a,t,n,i,r,o,u,s,l,m,c,d,g,f,p,h,_,R,k,v;return{setters:[function(e){a=e.inheritsLoose,t=e.createClass},function(e){n=e.cclegacy,i=e._decorator,r=e.director,o=e.resources,u=e.error,s=e.SpriteFrame,l=e.Prefab,m=e.sp,c=e.SpriteAtlas,d=e.math,g=e.assetManager,f=e.Texture2D},function(e){p=e.EventDispatcher},function(e){h=e.EventName},function(e){_=e.BaseManager},function(e){R=e.PluginSettings},function(e){k=e.CommonTool},function(e){v=e.ResourcePathTool}],execute:function(){var P,I;n._RF.push({},"7d333l7DidG5acOAr1U6H6r","resource.manager",void 0);var T=i.ccclass,U=["main","farm"],D=["uidata/uipkg/Common","uidata/uipkg/Common_atlas0","uidata/uipkg/BgTex","uidata/uipkg/MapLoading","uidata/uipkg/MainInterface","uidata/uipkg/Assets","uidata/uipkg/Assets_OnChain","uidata/uipkg/Options","uidata/uipkg/Task","uidata/uipkg/ShopRes","uidata/uipkg/Details","uidata/uipkg/Details_Building","uidata/uipkg/Details_Wizard","uidata/uipkg/Details_Wizard_atlas0","uidata/uipkg/ItemGet","uidata/uipkg/NewbieGuide","uidata/uipkg/NewbieGuide_atlas0","uidata/uipkg/Mining","uidata/uipkg/MiningList","uidata/uipkg/MiningList_atlas0","uidata/uipkg/Race","uidata/uipkg/Race_atlas0","uidata/uipkg/Exploration","uidata/uipkg/Exploration_atlas0","uidata/uipkg/WizardWallet","uidata/uipkg/WizardWallet_atlas0","uidata/uipkg/WalletOperate","uidata/uipkg/CryptoDiagonAlley","uidata/uipkg/CryptoDiagonAlley_atlas0","uidata/uipkg/Marketplace","uidata/uipkg/Marketplace_atlas0","uidata/uipkg/TokenGeneration","uidata/uipkg/TokenGeneration_atlas0","uidata/uipkg/WizardingDEX"],C=["audio/UI","uidata/uitexture/skillicons"];e("ResourceManager",T("ResourceManager")(((I=function(e){function n(){for(var a,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return(a=e.call.apply(e,[this].concat(n))||this).mResourceBaseUrl="",a.mQuestImageBaseUrl="",a.mPreloadAllNum=5,a.mCurPreloadFinishNum=0,a.mTablesVersions=new Map,a}a(n,e);var i=n.prototype;return i.clearManager=function(){e.prototype.clearManager.call(this),this.mTablesVersions.clear()},i.preloadRes=function(){var e=this;this.mPreloadAllNum=U.length+C.length+D.length,this.mCurPreloadFinishNum=0;for(var a=0;a<U.length;a+=1)r.preloadScene(U[a],(function(a){a||e._preloadFinishCb()}));for(var t=0;t<C.length;t+=1)o.preloadDir(C[t],(function(a){a||e._preloadFinishCb()}));for(var n=0;n<D.length;n+=1)o.preload(D[n],(function(a){a||e._preloadFinishCb()}))},i._preloadFinishCb=function(){this.mCurPreloadFinishNum+=1,p.emit(h.PRELOAD_RES_PERCENT,this.mCurPreloadFinishNum,this.mPreloadAllNum),this.mCurPreloadFinishNum===this.mPreloadAllNum&&p.emit(h.PRELOAD_RES_FINISH,this.mCurPreloadFinishNum,this.mPreloadAllNum)},i.parseVersionData=function(e){try{for(var a=e.split("\n"),t=0;t<a.length;t+=1){var n=a[t].split("#"),i={resPath:n[0],hashValue:n[1],size:n[2]};this.mTablesVersions.set(i.resPath,i)}}catch(e){u("[parseVersionData]:",e)}},i.loadScene=function(e){return new Promise((function(a,t){r.loadScene(e,(function(e,n){null===e?a(n):t(e)}))}))},i.loadSceneGridConfig=function(e){var a="textdata/maps/map_"+k.prefixInteger(e,3);return new Promise((function(e,t){o.load(a,(function(a,n){a?t(a):e(n)}))}))},i.loadFarmConfig=function(e){var a="textdata/farms/farm_"+e;return new Promise((function(e,t){o.load(a,(function(a,n){a?t(a):e(n)}))}))},i.loadMapTiledTex=function(e,a,t){var n="map/"+e+"/map_"+e+"_"+k.prefixMapTexInteger(a)+"/spriteFrame";o.load(n,s,(function(e,a){e?u(e.message||e):t&&t(a)}))},i.loadTerrainRes=function(){return new Promise((function(e,a){o.load(v.sTerrainResPath,(function(t,n){t?a(t):e(n)}))}))},i.loadLoginBgRes=function(){return new Promise((function(e,a){o.load(v.sLoginAnimPath,(function(t,n){t?a(t):e(n)}))}))},i.loadAvatarSkeletonData=function(e){return new Promise((function(a,t){o.load("avatars/"+e,l,(function(e,n){if(e)t(e);else{var i=n.data,r=null==i?void 0:i.getComponentInChildren(m.Skeleton);a(r)}}))}))},i.loadAvatar=function(e,a){var t="avatars/"+e;o.load(t,l,(function(e,t){e?u(e.message||e):a&&a(t)}))},i.loadFarmRes=function(e,a){var t="farm/"+e;o.load(t,l,(function(e,t){e?u(e.message||e):a&&a(t)}))},i.loadFarmTerrain=function(e){o.load("farm/terrain/farm_terrain",l,(function(a,t){a?u(a.message||a):e&&e(t)}))},i.loadFarmLevelTip=function(e){o.load("farm/com_use_show_tower",l,(function(a,t){a?u(a.message||a):e&&e(t)}))},i.loadFarmTerrainBorder=function(e){o.load("farm/terrain/farm_terrain_border",l,(function(a,t){a?u(a.message||a):e&&e(t)}))},i.loadEffect=function(e,a){var t="effects/"+e;o.load(t,l,(function(e,t){e?u(e.message||e):a&&a(t)}))},i.loadUITexture=function(e,a,t){var n=""+v.sUITexturePath+e+"/"+a+"/spriteFrame";o.load(n,s,(function(e,a){e?u(e.message||e):t&&t(a)}))},i.loadUISpineAnim=function(e){var a=v.sUIAnimPath+e;return new Promise((function(e,t){o.load(a,m.SkeletonData,(function(a,n){a?t(a):e(n)}))}))},i.loadAudio=function(e,a){var t=v.sAudioPath+"/"+e;t=t.replace(".wav ",""),o.load(t,(function(e,t){e?u(e.message||e):a&&a(t)}))},i.loadFightSkillSpriteAtlas=function(){return new Promise((function(e,a){o.load("uidata/uifont/HeadNumberEff",c,(function(t,n){t?a(t):e(n)}))}))},i.loadQuestIcon=function(e){return this._loadRemoteImageData(this._getImageQuestUrl(e))},i.loadChainIcon=function(e){return this._loadRemoteImageData(e)},i._getRemoteResourceUrl=function(){return""!==this.mResourceBaseUrl?this.mResourceBaseUrl:R.getPluginResPath()},i._getRemoteQuestImageBaseUrl=function(){return""!==this.mQuestImageBaseUrl?this.mQuestImageBaseUrl:R.getPluginResPath()},i._getGameConfigUrl=function(){var e=d.randomRangeInt(0,500),a=d.randomRangeInt(10,800),t=d.randomRangeInt(20,1e3);return""+this._getRemoteResourceUrl()+v.sGameConfigFileName+"?v="+e+a+t},i._getDataVersionUrl=function(){var e=d.randomRangeInt(0,500),a=d.randomRangeInt(10,800),t=d.randomRangeInt(20,1e3),n=this._getRemoteResourceUrl();return n+=v.sDataFolderName+"/",(n+=""+v.sVersionsFileName)+"?v="+e+a+t},i._getTableUrl=function(e){var a=this._getRemoteResourceUrl();a+=v.sDataFolderName+"/";var t=v.sTableFolderName+"/"+e;this.mTablesVersions.has(t)?(a+=t,a+="?v="+this.mTablesVersions.get(t).hashValue):a+=t;return a},i._getImageQuestUrl=function(e){var a=this._getRemoteQuestImageBaseUrl();return a+=e+".png"},i.loadRemoteGameConfig=function(){return this._loadRemoteTextData(this._getGameConfigUrl())},i.loadRemoteDataVersions=function(){return this._loadRemoteTextData(this._getDataVersionUrl())},i.loadRemoteTable=function(e){return this._loadRemoteTextData(this._getTableUrl(e))},i._loadRemoteTextData=function(e){return new Promise((function(a,t){g.loadRemote(e,(function(e,n){e?t(e):a(n)}))}))},i._loadRemoteImageData=function(e){return new Promise((function(a,t){g.loadRemote(e,(function(e,n){if(e)t(e);else{var i=new s,r=new f;r.image=n,i.texture=r,a(i)}}))}))},t(n,[{key:"ResourceBaseUrl",set:function(e){this.mResourceBaseUrl=e}},{key:"QuestImageBaseUrl",set:function(e){this.mQuestImageBaseUrl=e}}],[{key:"instance",get:function(){return null==this._instance&&(this._instance=new n),this._instance}}]),n}(_))._instance=null,P=I))||P);n._RF.pop()}}}));

System.register("chunks:///_virtual/resource.path.tool.ts",["cc"],(function(e){"use strict";var t,a;return{setters:[function(e){t=e.cclegacy,a=e._decorator}],execute:function(){var r,s;t._RF.push({},"35b5dCGjnNO8pmpt9pHiLxY","resource.path.tool",void 0);var i=a.ccclass;e("ResourcePathTool",i("ResourcePathTool")(((s=function(){function e(){}return e.getUIPkgPath=function(t){return e.sUIPkgPath+"/"+t},e.getUIItemPath=function(t){return e.sUITexturePath+"ItemIcons/"+t},e.getUIFarmItemPath=function(t){return e.sUITexturePath+"resicons/"+t},e.getUISkillItemPath=function(t){return e.sUITexturePath+"skillicons/"+t},e}()).sGameConfigFileName="game-config.json",s.sVersionsFileName="version.txt",s.sDataFolderName="Data",s.sImageQuestFolderName="image-quest",s.sTableFolderName="tables",s.sXmlsFolderName="xmls",s.sUIPkgPath="uidata/uipkg",s.sUIPrefabPath="uidata/uiprefab/",s.sUITexturePath="uidata/uitexture/",s.sUIAnimPath="uidata/uianim/",s.sAudioPath="audio",s.sAvatarPrefabPath="avatars",s.sPartyPrefabPath="partyRes",s.sTextDataFolderName="textdata",s.sFaceTextureName="face",s.sMapTexPath="map",s.sTerrainResPath="map/terrain/terrainTiled",s.sLoginAnimPath="map/login-res/loginAnim",r=s))||r);t._RF.pop()}}}));

System.register("chunks:///_virtual/robot.fsm.ts",["cc","./robot.state.idle.ts","./robot.state.null.ts","./robot.state.wait.ts","./robot.state.work.ts"],(function(t){"use strict";var e,i,s,o,n,a;return{setters:[function(t){e=t.cclegacy,i=t._decorator},function(t){s=t.RobotStateIdle},function(t){o=t.RobotStateNull},function(t){n=t.RobotStateWait},function(t){a=t.RobotStateWork}],execute:function(){var u;e._RF.push({},"c84e65nwbZEIJuKS5tN560B","robot.fsm",void 0);var S=i.ccclass;t("RobotStateFSM",S("RobotStateFSM")(u=function(){function t(t){this.mRobotStateNull=null,this.mRobotStateWait=null,this.mRobotStateIdle=null,this.mRobotStateWork=null,this.mSMOwner=null,this.mCurState=null,this.mStateList=new Array,this.mSMOwner=t,this.InitStateMachine()}var e=t.prototype;return e.InitStateMachine=function(){this.mStateList.splice(0,this.mStateList.length),this.mRobotStateNull=new o(this.mSMOwner),this.mRobotStateWait=new n(this.mSMOwner),this.mRobotStateIdle=new s(this.mSMOwner),this.mRobotStateWork=new a(this.mSMOwner),this.mStateList.push(this.mRobotStateNull),this.mStateList.push(this.mRobotStateWait),this.mStateList.push(this.mRobotStateIdle),this.mStateList.push(this.mRobotStateWork)},e.UpdateCurState=function(t){null!=this.mCurState&&this.mCurState.UpdateState(t)},e.ChangeState=function(t){if(!this.IsInState(t)){var e=this.mStateList[t];null!=this.mCurState&&this.mCurState.Exit(),this.mCurState=e,this.mCurState.Enter()}},e.IsInState=function(t){return null!=this.mCurState&&this.mCurState.StateType===t},e.OnMoveFinish=function(){null!=this.mCurState&&this.mCurState.OnMoveFinish()},e.OnFarmEditFinished=function(){null!=this.mCurState&&this.mCurState.OnFarmEditFinished()},t}())||u);e._RF.pop()}}}));

System.register("chunks:///_virtual/robot.state.base.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,n,i;return{setters:[function(t){e=t.createClass},function(t){n=t.cclegacy,i=t._decorator}],execute:function(){var o;n._RF.push({},"0e7ef9eoZZIPr4Z8OIW3kyK","robot.state.base",void 0);var s=i.ccclass;t("RobotStateBase",s("RobotStateBase")(o=function(){function t(t,e){this.mIsStateActive=void 0,this.mState=null,this.mOwnerRobot=null,this.mOwnerRobot=t,this.mState=e}var n=t.prototype;return n.Enter=function(){this.mIsStateActive=!0,this.OnEnter()},n.Exit=function(){this.mIsStateActive=!1,this.OnExit()},n.UpdateState=function(t){this.OnUpdate(t)},n.OnEnter=function(){},n.OnExit=function(){},n.OnUpdate=function(t){},n.Cleanup=function(){},n.OnMoveFinish=function(){},n.OnFarmEditFinished=function(){},e(t,[{key:"StateType",get:function(){return this.mState}},{key:"IsStateActive",get:function(){return this.mIsStateActive}}]),t}())||o);n._RF.pop()}}}));

System.register("chunks:///_virtual/robot.state.idle.ts",["./rollupPluginModLoBabelHelpers.js","cc","./enum.anim.state.ts","./event.dispatcher.ts","./event.name.ts","./farm.system.ts","./robot.state.base.ts","./enum.robot.state.ts"],(function(t){"use strict";var e,i,o,n,s,m,a,l,r,h,c,d;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy,o=t._decorator,n=t.Vec2,s=t.randomRangeInt,m=t.v2},function(t){a=t.EAnimState},function(t){l=t.EventDispatcher},function(t){r=t.EventName},function(t){h=t.FarmSystem},function(t){c=t.RobotStateBase},function(t){d=t.ERobotState}],execute:function(){var I;i._RF.push({},"53deaMikUxESYx7mFDsuoLq","robot.state.idle",void 0);var u=o.ccclass;t("RobotStateIdle",u("RobotStateIdle")(I=function(t){function i(e){var i;return(i=t.call(this,e,d.Idle)||this).mInitGridPos=m(),i.mIdleDeltaTime=0,i.mIdleRobotTime=0,i.mIdleTotalTime=0,i.mIsCanPlayAnim=!1,i}e(i,t);var o=i.prototype;return o.OnEnter=function(){t.prototype.OnEnter.call(this),this.mIdleDeltaTime=0,this.mIdleRobotTime=0,this.mIdleTotalTime=1,h.instance.IsNormal&&this.mOwnerRobot.setObjActive(!0),this.mInitGridPos=this.mOwnerRobot.InitGridPos,this._moveToBack(),this.mIsCanPlayAnim=!1},o.OnUpdate=function(t){this._updateIdleAnim(t)},o.OnExit=function(){t.prototype.OnExit.call(this),this.mIdleDeltaTime=0,this.mIdleRobotTime=0,this.mIdleTotalTime=0,this.mIsCanPlayAnim=!1},o.Cleanup=function(){},o._moveToBack=function(){this.mInitGridPos.equals(n.ZERO)||this.mOwnerRobot.getGridPos().equals(this.mInitGridPos)?this.OnMoveFinish():this.mOwnerRobot.startAutoMoveV2(this.mInitGridPos)},o.OnMoveFinish=function(){this.mOwnerRobot&&(this.mOwnerRobot.setObjActive(!1),l.emit(r.ROBOT_STATE_IDLE_FINISH,this.mOwnerRobot.RobotID))},o._playIdleAnim=function(){switch(this.mIsCanPlayAnim=!0,this.mIdleDeltaTime=0,this.mIdleTotalTime=s(6,10),this.mIdleRobotTime=s(2,5),s(0,5)){case 0:this.mOwnerRobot.playAnim(a.Doing);break;case 1:this.mOwnerRobot.playAnim(a.Attack);break;case 2:this.mOwnerRobot.playAnim(a.Watering);break;case 3:this.mOwnerRobot.playAnim(a.Mining);break;case 4:this.mOwnerRobot.playAnim(a.Hunger)}},o._updateIdleAnim=function(t){this.mIsCanPlayAnim&&(this.mOwnerRobot.IsMoving||(this.mIdleDeltaTime>=this.mIdleTotalTime&&this._moveToBack(),this.mIdleDeltaTime>=this.mIdleRobotTime&&(this.mIdleRobotTime=this.mIdleTotalTime,this.mOwnerRobot.playAnim(a.Idle)),this.mIdleDeltaTime+=t))},o.OnFarmEditFinished=function(){this.mOwnerRobot&&(this.mInitGridPos=this.mOwnerRobot.InitGridPos,this.mOwnerRobot.IsMoving&&this._moveToBack())},i}(c))||I);i._RF.pop()}}}));

System.register("chunks:///_virtual/robot.state.null.ts",["./rollupPluginModLoBabelHelpers.js","cc","./enum.anim.state.ts","./enum.robot.state.ts","./robot.state.base.ts"],(function(t){"use strict";var n,o,e,i,r,s,a;return{setters:[function(t){n=t.inheritsLoose},function(t){o=t.cclegacy,e=t._decorator,i=t.Vec2},function(t){r=t.EAnimState},function(t){s=t.ERobotState},function(t){a=t.RobotStateBase}],execute:function(){var u;o._RF.push({},"27a1aYGfDtJkr+vqnzjRhkr","robot.state.null",void 0);var c=e.ccclass;t("RobotStateNull",c("RobotStateNull")(u=function(t){function o(n){return t.call(this,n,s.None)||this}n(o,t);var e=o.prototype;return e.OnEnter=function(){t.prototype.OnEnter.call(this),this.mOwnerRobot.playAnim(r.Idle)},e.OnExit=function(){t.prototype.OnExit.call(this)},e.OnUpdate=function(){},e.Cleanup=function(){},e.OnFarmEditFinished=function(){if(this.mOwnerRobot){var t=this.mOwnerRobot.InitGridPos;t.equals(i.ZERO)||this.mOwnerRobot.setGridPosImmediate(t)}},o}(a))||u);o._RF.pop()}}}));

System.register("chunks:///_virtual/robot.state.wait.ts",["./rollupPluginModLoBabelHelpers.js","cc","./enum.anim.state.ts","./enum.robot.state.ts","./robot.state.base.ts"],(function(t){"use strict";var n,o,e,i,a,r;return{setters:[function(t){n=t.inheritsLoose},function(t){o=t.cclegacy,e=t._decorator},function(t){i=t.EAnimState},function(t){a=t.ERobotState},function(t){r=t.RobotStateBase}],execute:function(){var s;o._RF.push({},"97922y0kilLh5PcWDAb3F0Y","robot.state.wait",void 0);var c=e.ccclass;t("RobotStateWait",c("RobotStateWait")(s=function(t){function o(n){return t.call(this,n,a.Wait)||this}n(o,t);var e=o.prototype;return e.OnEnter=function(){t.prototype.OnEnter.call(this),this.mOwnerRobot.playAnim(i.Idle)},e.OnExit=function(){t.prototype.OnExit.call(this)},e.OnUpdate=function(){},e.Cleanup=function(){},e.OnFarmEditFinished=function(){},o}(r))||s);o._RF.pop()}}}));

System.register("chunks:///_virtual/robot.state.work.ts",["./rollupPluginModLoBabelHelpers.js","cc","./enum.anim.state.ts","./event.dispatcher.ts","./event.name.ts","./farm.system.ts","./robot.state.base.ts","./enum.robot.state.ts","./common.tool.ts"],(function(t){"use strict";var i,n,s,o,e,r,m,a,h,u,T,c,l,g;return{setters:[function(t){i=t.inheritsLoose,n=t.asyncToGenerator,s=t.regeneratorRuntime},function(t){o=t.cclegacy,e=t._decorator,r=t.randomRangeInt,m=t.v2},function(t){a=t.EAnimState},function(t){h=t.EventDispatcher},function(t){u=t.EventName},function(t){T=t.FarmSystem},function(t){c=t.RobotStateBase},function(t){l=t.ERobotState},function(t){g=t.CommonTool}],execute:function(){var I;o._RF.push({},"481c37wCJBNIauopCMvKKjI","robot.state.work",void 0);var O=e.ccclass;t("RobotStateWork",O("RobotStateWork")(I=function(t){function o(i){var n;return(n=t.call(this,i,l.Work)||this).mInitGridPos=null,n.mTargetFarm=null,n.mTargetGridPos=null,n.mHuntAnimTime=.56,n.mWorkDeltaTime=0,n.mCurHuntTimes=0,n.mTotalHuntTimes=0,n.mIsCanHunt=!1,n.mIsWorkingFinish=!1,n}i(o,t);var e=o.prototype;return e.OnEnter=function(){t.prototype.OnEnter.call(this),this.mCurHuntTimes=0,this.mTotalHuntTimes=r(2,6),T.instance.IsNormal&&this.mOwnerRobot.setObjActive(!0),this.mInitGridPos=this.mOwnerRobot.InitGridPos,this.mTargetFarm=T.instance.findFarmObjectByTempID(this.mOwnerRobot.TarWorkObjID),this.mTargetFarm?(this.mIsCanHunt=!1,this.mIsWorkingFinish=!1,this.mTargetFarm.IsInUse=!0,this.mTargetGridPos=this.mTargetFarm.getTarFarmObjPos(this.mInitGridPos),this._moveToTarget()):(this.mIsCanHunt=!1,this.mIsWorkingFinish=!0,this._moveToBack())},e.OnUpdate=function(t){this.mOwnerRobot&&this._updateWorkingAnim(t)},e.OnExit=function(){t.prototype.OnExit.call(this),this.mTargetFarm&&(this.mTargetFarm.IsInUse=!1,this.mTargetFarm=null),this.mOwnerRobot&&(this.mOwnerRobot.TarWorkObjID=0,this.mOwnerRobot.IsMoving&&this.mOwnerRobot.stopAutoMove()),this.mTargetGridPos=null,this.mInitGridPos=null,this.mWorkDeltaTime=0,this.mCurHuntTimes=0,this.mTotalHuntTimes=0,this.mIsCanHunt=!1,this.mIsWorkingFinish=!1},e.Cleanup=function(){},e._moveToTarget=function(){if(null==this.mTargetGridPos)return this.mIsCanHunt=!1,this.mIsWorkingFinish=!0,void this._moveToBack();this.mOwnerRobot.getGridPos().equals(this.mTargetGridPos)?this.OnMoveFinish():this.mOwnerRobot.startAutoMoveV2(this.mTargetGridPos)},e._moveToBack=function(){null!=this.mInitGridPos?this.mOwnerRobot.getGridPos().equals(this.mInitGridPos)?this.OnMoveFinish():this.mOwnerRobot.startAutoMoveV2(this.mInitGridPos):this.OnMoveFinish()},e.OnMoveFinish=function(){if(this.mOwnerRobot)if(this.mIsWorkingFinish)this.mOwnerRobot.setObjActive(!1),h.emit(u.ROBOT_STATE_WORK_FINISH,this.mOwnerRobot.RobotID);else{if(this.mTargetFarm){var t=m(this.mTargetFarm.Position.x,this.mTargetFarm.Position.y);this.mOwnerRobot.ChangeFaceToTarget(t)}this._playHuntAnim()}},e._playHuntAnim=function(){this.mIsCanHunt=!0,this.mWorkDeltaTime=this.mHuntAnimTime},e._stopHuntAnim=function(){this.mIsCanHunt=!1,h.emit(u.ROBOT_STATE_WORK_FINISH,this.mOwnerRobot.RobotID)},e._updateWorkingAnim=function(t){if(this.mIsCanHunt&&!this.mOwnerRobot.IsMoving){if(this.mIsCanHunt){if(this.mTargetFarm)if(!this.mTargetFarm.isNormal())return void this._stopHuntAnim();if(this.mCurHuntTimes>this.mTotalHuntTimes)return void this._stopHuntAnim();this.mWorkDeltaTime>=this.mHuntAnimTime&&(this.mWorkDeltaTime=0,this.mCurHuntTimes++,this.mOwnerRobot.playAnim(a.Attack),this.mTargetFarm&&(this.mCurHuntTimes>this.mTotalHuntTimes?this.mTargetFarm.takeOver():this.mTargetFarm.Interactive()))}this.mWorkDeltaTime+=t}},e.OnFarmEditFinished=function(){var t=n(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.mOwnerRobot){t.next=2;break}return t.abrupt("return");case 2:return this.mInitGridPos=this.mOwnerRobot.InitGridPos,t.next=5,g.sleep(100);case 5:this.mTargetFarm=T.instance.findFarmObjectByTempID(this.mOwnerRobot.TarWorkObjID),this.mTargetFarm?this.mTargetGridPos=this.mTargetFarm.getTarFarmObjPos(this.mInitGridPos):this.mTargetGridPos=null,this.mOwnerRobot.IsMoving?this.mIsWorkingFinish?this._moveToBack():this._moveToTarget():this._stopHuntAnim();case 8:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),o}(c))||I);o._RF.pop()}}}));

System.register("chunks:///_virtual/robot.system.ts",["./rollupPluginModLoBabelHelpers.js","cc","./base.system.ts","./farm.system.ts","./scene.system.ts","./object.robot.ts","./event.dispatcher.ts","./event.name.ts","./enum.robot.state.ts","./enum.robot.define.ts"],(function(t){"use strict";var e,o,n,i,s,a,r,c,b,h,m,l,R,u;return{setters:[function(t){e=t.inheritsLoose,o=t.createForOfIteratorHelperLoose,n=t.createClass},function(t){i=t.cclegacy,s=t.v2,a=t.Vec2},function(t){r=t.BaseSystem},function(t){c=t.FarmSystem},function(t){b=t.SceneSystem},function(t){h=t.RobotActor},function(t){m=t.EventDispatcher},function(t){l=t.EventName},function(t){R=t.ERobotState},function(t){u=t.ERobotType}],execute:function(){i._RF.push({},"10e498hpo5HsrrXtTR7b0LJ","robot.system",void 0),t("RobotSystem",function(t){function i(){for(var e,o=arguments.length,n=new Array(o),i=0;i<o;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))||this).mIsOpenRobot=!1,e.mRobotObjectMap=new Map,e.mToDelRobotObject=new Array,e.mWorkIdleList=new Array,e.mWorkDeltaTime=0,e.mTotalWaitTime=1,e}e(i,t);var r=i.prototype;return r.addAllEvents=function(){m.on(l.SCENE_FARM_EXIT,this._onSceneFarmExit,this),m.on(l.FARM_CHANGE_STATE_TO_NORMAL,this._onFarmExitEditing,this),m.on(l.FARM_CHANGE_STATE_TO_ITEM_EDITING,this._onFarmEnterEditing,this),m.on(l.ROBOT_STATE_IDLE_FINISH,this._onRobotIdleFinish,this),m.on(l.ROBOT_STATE_WORK_FINISH,this._onRobotWorkFinish,this)},r.removeAllEvents=function(){m.off(l.SCENE_FARM_EXIT,this._onSceneFarmExit,this),m.off(l.FARM_CHANGE_STATE_TO_NORMAL,this._onFarmExitEditing,this),m.off(l.FARM_CHANGE_STATE_TO_ITEM_EDITING,this._onFarmEnterEditing,this),m.off(l.ROBOT_STATE_IDLE_FINISH,this._onRobotIdleFinish,this),m.off(l.ROBOT_STATE_WORK_FINISH,this._onRobotWorkFinish,this)},r._onSceneFarmExit=function(){this.clearSysData()},r._onRobotListInitItem=function(){if(b.instance.IsInFarmScene)for(var t=[],e=0;e<t.length;e++)this.addRobotObject(t[e])},r._onRobotListAddItem=function(t){b.instance.IsInFarmScene&&this.addRobotObject(t)},r._onRobotListRemoveItem=function(t){b.instance.IsInFarmScene&&this.removeRobotObject(t)},r._onRobotListUpdateItem=function(t){b.instance.IsInFarmScene},r._onFarmExitEditing=function(){if(b.instance.IsInFarmScene)for(var t,e=o(this.mRobotObjectMap.values());!(t=e()).done;){var n=t.value;switch(n.RobotType){case u.Work:this._resetWorkState(n);break;default:this._resetIdleState(n)}n.OnFarmEditFinish()}},r._onFarmEnterEditing=function(){if(b.instance.IsInFarmScene)for(var t,e=o(this.mRobotObjectMap.values());!(t=e()).done;){t.value.setObjActive(!1)}},r.sysInitial=function(){t.prototype.sysInitial.call(this)},r.sysUpdate=function(e){t.prototype.sysUpdate.call(this,e),this.mIsOpenRobot&&c.instance.IsNormal&&(this._updateRobotObject(e),this._updateRobotWork(e))},r.clearSysData=function(){t.prototype.clearSysData.call(this),this.mRobotObjectMap.forEach((function(t){t.clearObjectData()})),this.mRobotObjectMap.clear(),this.mWorkIdleList=[]},r.getRobotListByType=function(){var t=[];return this.mRobotObjectMap.forEach((function(e){t.push(e)})),t},r.getRobotCount=function(){return this.mRobotObjectMap.size},r.findRobotObjectByID=function(t){return this.mRobotObjectMap.has(t)?this.mRobotObjectMap.get(t):null},r.addRobotObject=function(t){var e=this._createRobotObject(t),o=this._getRobotInitPos();return e.setGridPosImmediate(o),this.mRobotObjectMap.set(e.RobotID,e),this._refreshRobotState(e,o),e},r.removeRobotObject=function(t){var e=this.findRobotObjectByID(t);null!=e&&(e.NeedDelete=!0)},r._createRobotObject=function(t){var e=new h;return e.TempID=10001,e.initObject(),e.InitActorData(t),e},r._updateRobotObject=function(t){var e=this;this.mToDelRobotObject=[],this.mRobotObjectMap.forEach((function(o,n){null!=o&&(o.NeedDelete?e.mToDelRobotObject.push(n):o.IsInState(R.None)||o.runFrame(t))}));for(var o=0;o<this.mToDelRobotObject.length;o+=1){var n=this.mToDelRobotObject[o];this.mRobotObjectMap.get(n).clearObjectData(),this.mRobotObjectMap.set(n,null),this.mRobotObjectMap.delete(n)}},r._refreshRobotState=function(t,e){switch(this._removeRobotState(t.RobotID),t.RobotType){case u.Work:t.InitGridPos=e,this.mWorkIdleList.push(t.RobotID);break;default:t.InitGridPos=e,t.ChangeState(R.Idle)}},r._getRobotInitPos=function(){var t=null;return c.instance.tabeTower&&(t=c.instance.tabeTower.getDoorFarmNodePos()),t?s(t.boardX,t.boardY):a.ZERO},r._removeRobotState=function(t){var e=this.mWorkIdleList.indexOf(t);e>=0&&this.mWorkIdleList.splice(e,1)},r._onRobotIdleFinish=function(t){this.mRobotObjectMap.has(t)&&this.mRobotObjectMap.get(t).ChangeState(R.None)},r._resetIdleState=function(t){if(t.IsInState(R.None)?t.setObjActive(!1):t.setObjActive(!0),c.instance.tabeTower){var e=c.instance.tabeTower.getDoorFarmNodePos();t.InitGridPos=s(e.boardX,e.boardY)}else t.InitGridPos=a.ZERO},r._onRobotWorkFinish=function(t){if(this.mRobotObjectMap.has(t)){var e=this.mRobotObjectMap.get(t);e.isObjActive()?e.ChangeState(R.Wait):e.ChangeState(R.None)}this.mWorkIdleList.includes(t)||this.mWorkIdleList.unshift(t),this._handlerRobotWork()},r._updateRobotWork=function(t){this.mWorkIdleList.length<=0||(this.mWorkDeltaTime>this.mTotalWaitTime&&(this.mWorkDeltaTime=0,this._handlerRobotWork()),this.mWorkDeltaTime+=t)},r._handlerRobotWork=function(){for(var t=c.instance.getCanUseAirDrop(),e=0;e<t.length;e++){var o=t[e];if(this.mWorkIdleList.length>0){var n=this.mWorkIdleList.shift(),i=this.mRobotObjectMap.get(n);i.TarWorkObjID=o.TempID,i.ChangeState(R.Work)}}for(var s=0;s<this.mWorkIdleList.length;s++){var a=this.mWorkIdleList[s],r=this.mRobotObjectMap.get(a);r.IsInState(R.None)||(r.TarWorkObjID=0,r.ChangeState(R.Work))}},r._resetWorkState=function(t){if(t.IsInState(R.None)?t.setObjActive(!1):t.setObjActive(!0),c.instance.tabeTower){var e=c.instance.tabeTower.getDoorFarmNodePos();t.InitGridPos=s(e.boardX,e.boardY)}else t.InitGridPos=a.ZERO},n(i,null,[{key:"instance",get:function(){return null==this._instance&&(this._instance=new i),this._instance}}]),i}(r))._instance=null,i._RF.pop()}}}));

System.register("chunks:///_virtual/role.data.base.ts",["./rollupPluginModLoBabelHelpers.js","cc","./role.data.define.ts"],(function(e){"use strict";var t,o,a,s,n;return{setters:[function(e){t=e.createClass},function(e){o=e.cclegacy,a=e._decorator,s=e.EventTarget},function(e){n=e.ERoleShowType}],execute:function(){var l;o._RF.push({},"7b6bbIbqpZD8KVm7PbmlOL9","role.data.base",void 0);var r=a.ccclass;e("RoleDataBase",r("RoleDataBase")(l=function(){function e(){this.mRoleUniqueID="",this.mRoleShowName="",this.mRoleEventTarget=new s,this.mRoleResPath="",this.mRoleUIResPath="",this.mRoleShowType=n.None}return t(e,[{key:"RoleShowName",get:function(){return this.mRoleShowName}},{key:"RoleResPath",get:function(){return this.mRoleResPath}},{key:"RoleUIResPath",get:function(){return this.mRoleUIResPath}}]),e}())||l);o._RF.pop()}}}));

System.register("chunks:///_virtual/role.data.card.chain.ts",["./rollupPluginModLoBabelHelpers.js","cc","./role.data.base.ts","./role.data.define.ts"],(function(e){"use strict";var t,a,r,n,o,c;return{setters:[function(e){t=e.inheritsLoose,a=e.createClass},function(e){r=e.cclegacy,n=e._decorator},function(e){o=e.RoleDataBase},function(e){c=e.ERoleShowType}],execute:function(){var i;r._RF.push({},"9534b/CyFBJLY+6hTkALNE2","role.data.card.chain",void 0);var l=n.ccclass;e("RoleDataCardChain",l("RoleDataCardChain")(i=function(e){function r(){var t;return(t=e.call(this)||this).tokenID="",t.tokenOwner="",t.cardID=0,t.cardQuality=0,t.cardLevel=0,t.mRoleShowType=c.Card,t}return t(r,e),a(r,[{key:"TokenID",get:function(){return this.tokenID}},{key:"RoleID",get:function(){return this.cardID}},{key:"RoleQuality",get:function(){return this.cardQuality}},{key:"RoleLevel",get:function(){return this.cardLevel}}]),r}(o))||i);r._RF.pop()}}}));

System.register("chunks:///_virtual/role.data.define.ts",["cc"],(function(e){"use strict";var o;return{setters:[function(e){o=e.cclegacy}],execute:function(){var r;e("ERoleShowType",void 0),o._RF.push({},"8708emPjchMhazRVTTVpkfd","role.data.define",void 0),function(e){e[e.None=0]="None",e[e.Worker=1]="Worker",e[e.Card=2]="Card"}(r||(r=e("ERoleShowType",{}))),o._RF.pop()}}}));

System.register("chunks:///_virtual/role.data.worker.chain.ts",["./rollupPluginModLoBabelHelpers.js","cc","./enum.chain.type.ts","./table.helper.ts","./role.data.base.ts","./role.data.define.ts"],(function(e){"use strict";var r,t,i,a,n,o,l,s;return{setters:[function(e){r=e.inheritsLoose,t=e.createClass},function(e){i=e.cclegacy,a=e._decorator},function(e){n=e.EChainType},function(e){o=e.TableHelper},function(e){l=e.RoleDataBase},function(e){s=e.ERoleShowType}],execute:function(){var h;i._RF.push({},"546c5WDhENNIq6S8TDcGa1E","role.data.worker.chain",void 0);var k=a.ccclass;e("RoleDataWorkerChain",k("RoleDataWorkerChain")(h=function(e){function i(){var r;return(r=e.call(this)||this).mWorkerChainData=null,r.tokenID="",r.tokenOwner="",r.workerID=0,r.workerQuality=0,r.workerLevel=0,r.workerSkillList=[],r.chainType=n.None,r.attrParam_Prosperity=100,r.attrParam_Mushroom=100,r.attrParam_ManaGel=100,r.attrParam_Ethereal=100,r.attrParam_Finance=100,r.skillHighestLevel=0,r.skillRetrainCount=0,r.isIsSale=!1,r.saleOrderID="",r.salePrice="",r.mRoleShowType=s.Worker,r}r(i,e);var a=i.prototype;return a.setWorkerData=function(e,r){this.mWorkerChainData=e,this.chainType=r,this.tokenID=e.TokenID.toString(),this.tokenOwner=e.TokenOwner,this.workerID=Number(e.WizardID),this.workerQuality=Number(e.WizardQuality),this.workerLevel=Number(e.WizardLevel);var t=o.getWorkerData(this.workerID);if(t&&""!==t.attrParam){var i=t.attrParam.split("-");i&&5===i.length&&(this.attrParam_Prosperity=Number(i[0]),this.attrParam_Mushroom=Number(i[1]),this.attrParam_ManaGel=Number(i[2]),this.attrParam_Ethereal=Number(i[3]),this.attrParam_Finance=Number(i[4]))}this.workerSkillList=[];for(var a=0;a<e.WizardProfessionSkill.length;a++)this.workerSkillList.push(Number(e.WizardProfessionSkill[a]));if(this.skillHighestLevel=0,this.skillRetrainCount=0,!this.isSkillLock()){var n=this.workerSkillList;if(n){for(var l=1;l<n.length;l++){var s=o.getWorkerProfessionSkill(n[l]);s&&this.skillHighestLevel<s.skillLevel&&(this.skillHighestLevel=s.skillLevel)}this.skillRetrainCount=n[0]-1}}},a.getAttr_Prosperity=function(){var e=o.getWorkerLevel(this.workerLevel);return null==e?0:this.attrParam_Prosperity*e.compute/100},a.getAttr_Mushroom=function(){var e=o.getWorkerLevel(this.workerLevel);return null==e?0:this.attrParam_Mushroom*e.efficiency/100},a.getAttr_ManaGel=function(){var e=o.getWorkerLevel(this.workerLevel);return null==e?0:this.attrParam_ManaGel*e.efficiency/100},a.getAttr_Ethereal=function(){var e=o.getWorkerLevel(this.workerLevel);return null==e?0:this.attrParam_Ethereal*e.efficiency/100},a.getAttr_Finance=function(){var e=o.getWorkerLevel(this.workerLevel);return null==e?0:this.attrParam_Finance*e.efficiency/100},a.getSkillList=function(){var e=[];if(!this.mWorkerChainData)return e;var r=this.workerSkillList;if(!r)return e;for(var t=1;t<r.length;t++)0!==r[t]&&e.push(r[t]);return e},a.isSkillLock=function(){if(!this.mWorkerChainData)return!0;var e=this.workerSkillList;return!(e&&e.length>0&&e[0]>0)},t(i,[{key:"WorkerData",get:function(){return this.mWorkerChainData}},{key:"TokenID",get:function(){return this.tokenID}},{key:"WorkerID",get:function(){return this.workerID}},{key:"WorkerQuality",get:function(){return this.workerQuality}},{key:"WorkerLevel",get:function(){return this.workerLevel}},{key:"ChainType",get:function(){return this.chainType}}]),i}(l))||h);i._RF.pop()}}}));

System.register("chunks:///_virtual/role.data.worker.ts",["./rollupPluginModLoBabelHelpers.js","cc","./role.data.base.ts","./role.data.define.ts","./table.helper.ts"],(function(r){"use strict";var e,t,a,i,l,o,s;return{setters:[function(r){e=r.inheritsLoose,t=r.createClass},function(r){a=r.cclegacy,i=r._decorator},function(r){l=r.RoleDataBase},function(r){o=r.ERoleShowType},function(r){s=r.TableHelper}],execute:function(){var n;a._RF.push({},"b5818rIZnpB7JFTCinH7g04","role.data.worker",void 0);var u=i.ccclass;r("RoleDataWorker",u("RoleDataWorker")(n=function(r){function a(){var e;return(e=r.call(this)||this).mWorkerServerData=null,e.attrParam_Prosperity=100,e.attrParam_Mushroom=100,e.attrParam_ManaGel=100,e.attrParam_Ethereal=100,e.attrParam_Finance=100,e.skillHighestLevel=0,e.skillRetrainCount=0,e.isExist=!1,e.isWorking=!1,e.isSale=!1,e.isNew=!1,e.mRoleShowType=o.Worker,e}e(a,r);var i=a.prototype;return i.setWorkerData=function(r){this.mWorkerServerData=r;var e=s.getWorkerData(this.mWorkerServerData.roleID);if(e&&""!==e.attrParam){var t=e.attrParam.split("-");t&&5===t.length&&(this.attrParam_Prosperity=Number(t[0]),this.attrParam_Mushroom=Number(t[1]),this.attrParam_ManaGel=Number(t[2]),this.attrParam_Ethereal=Number(t[3]),this.attrParam_Finance=Number(t[4]))}if(this.skillHighestLevel=0,this.skillRetrainCount=0,!this.isSkillLock()){var a=this.mWorkerServerData.professionSkillList;if(a){for(var i=1;i<a.length;i++){var l=s.getWorkerProfessionSkill(a[i]);l&&this.skillHighestLevel<l.skillLevel&&(this.skillHighestLevel=l.skillLevel)}this.skillRetrainCount=a[0]-1}}},i.getAttr_Prosperity=function(){var r=s.getWorkerLevel(this.mWorkerServerData.roleLevel);return null==r?0:this.attrParam_Prosperity*r.compute/100},i.getAttr_Mushroom=function(){var r=s.getWorkerLevel(this.mWorkerServerData.roleLevel);return null==r?0:this.attrParam_Mushroom*r.efficiency/100},i.getAttr_ManaGel=function(){var r=s.getWorkerLevel(this.mWorkerServerData.roleLevel);return null==r?0:this.attrParam_ManaGel*r.efficiency/100},i.getAttr_Ethereal=function(){var r=s.getWorkerLevel(this.mWorkerServerData.roleLevel);return null==r?0:this.attrParam_Ethereal*r.efficiency/100},i.getAttr_Finance=function(){var r=s.getWorkerLevel(this.mWorkerServerData.roleLevel);return null==r?0:this.attrParam_Finance*r.efficiency/100},i.getSkillList=function(){var r=[];if(!this.mWorkerServerData)return r;var e=this.mWorkerServerData.professionSkillList;if(!e)return r;for(var t=1;t<e.length;t++)0!==e[t]&&r.push(e[t]);return r},i.isSkillLock=function(){if(!this.mWorkerServerData)return!0;var r=this.mWorkerServerData.professionSkillList;return!(r&&r.length>0&&r[0]>0)},t(a,[{key:"WorkerData",get:function(){return this.mWorkerServerData}}]),a}(l))||n);a._RF.pop()}}}));

System.register("chunks:///_virtual/role.status.container.ts",["cc","./role.status.define.ts"],(function(t){"use strict";var e,s,i;return{setters:[function(t){e=t.cclegacy,s=t._decorator},function(t){i=t.ERoleStatus}],execute:function(){var a;e._RF.push({},"c60e5PYg3JMvJlULmbcfsIf","role.status.container",void 0);var n=s.ccclass;t("RoleStatusContainer",n("RoleStatusContainer")(a=function(){function t(){this.mRoleStateList=new Array,this.mCurStateNum=0}var e=t.prototype;return e.Init=function(){for(var t=0;t<i.StateMax;t++)this.mRoleStateList.push(0)},e.Reset=function(){this.mRoleStateList.splice(0,this.mRoleStateList.length),this.mCurStateNum=0},e.SetState=function(t){var e=t;e<0||e>=this.mRoleStateList.length||(this.mRoleStateList[e]>0?this.mRoleStateList[e]+=1:(this.mRoleStateList[e]=1,this.mCurStateNum+=1))},e.UnsetState=function(t){var e=t;e<0||e>=this.mRoleStateList.length||this.mRoleStateList[e]>0&&(this.mRoleStateList[e]-=1,0===this.mRoleStateList[e]&&(this.mCurStateNum-=1))},e.IsSetState=function(t){var e=t;return!(e<0||e>=this.mRoleStateList.length)&&this.mRoleStateList[e]>0},t}())||a);e._RF.pop()}}}));

System.register("chunks:///_virtual/role.status.define.ts",["cc"],(function(e){"use strict";var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){var n;e("ERoleStatus",void 0),t._RF.push({},"0b229w9hDNBHppwCn+FdlqJ","role.status.define",void 0),function(e){e[e.None=0]="None",e[e.InDoingSkill=1]="InDoingSkill",e[e.Sleep=2]="Sleep",e[e.Silent=3]="Silent",e[e.Fasten=4]="Fasten",e[e.SlowDown=5]="SlowDown",e[e.eFCS_ForbidBeHit=6]="eFCS_ForbidBeHit",e[e.eFCS_Invincible=7]="eFCS_Invincible",e[e.StateMax=8]="StateMax"}(n||(n=e("ERoleStatus",{}))),t._RF.pop()}}}));

System.register("chunks:///_virtual/RotationGestureRecognizer.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GestureRecognizer.ts","./Timer.ts","./Monitor.ts"],(function(t){"use strict";var e,s,i,n,h,o,r,u;return{setters:[function(t){e=t.inheritsLoose,s=t.createClass},function(t){i=t.cclegacy,n=t.Input,h=t.Vec2},function(t){o=t.GestureRecognizer},function(t){r=t.Timer},function(t){u=t.Monitor}],execute:function(){i._RF.push({},"fc7c8MR5KBLP7wgb6ShJBmD","RotationGestureRecognizer",void 0);var _=n.EventType,c=t("RotationGestureRecognizer",function(t){function i(){for(var e,s=arguments.length,i=new Array(s),n=0;n<s;n++)i[n]=arguments[n];return(e=t.call.apply(t,[this].concat(i))||this).roationSensitivity=1,e.numberOfTouchesRequired=2,e.angle=0,e.delta=0,e._realTouchCount=0,e.center=new h,e._started=!1,e._touchBegan=!1,e._enabled=!1,e._moveRegisted=!1,e._startTime=0,e._lastAngle=0,e._angles=[],e._curAngles=[],e}e(i,t);var n=i.prototype;return n.setEnable=function(t){t?this._enabled||(this.on(_.TOUCH_START,this.__touchBegin,this),this._enabled=!0):(this._started=!1,this._touchBegan=!1,this._enabled&&(this.off(_.TOUCH_START,this.__touchBegin,this),this._enabled=!1))},n.dispose=function(){t.prototype.dispose.call(this),this.stopRecoginze(),this.setEnable(!1)},n.stopRecoginze=function(){this._started=!1,this.onEnd(null)},n.__touchBegin=function(t){if(!u.ignoreEvent(t))if(1!==this.numberOfTouchesRequired){var e=t.getAllTouches();this._startTime=r.inst.unscaleTimer,this._touchBegan?this.__touchEnd(t):this.numberOfTouchesRequired>0?e.length===this.numberOfTouchesRequired&&this.onStart(t):this._moveRegisted||(this.host.on(_.TOUCH_MOVE,this.__touchMove,this),this._moveRegisted=!0)}else console.warn("RotationGestureRecognizer: numberOfTouchesRequired can not be 1")},n.onStart=function(t){var e=t.getAllTouches();o.getLocation(e,this.center),o.getAngles(e,this.center,this._angles),this._touchBegan||(this.host.on(_.TOUCH_MOVE,this.__touchMove,this),this.host.on(_.TOUCH_END,this.__touchEnd,this),this.host.on(_.TOUCH_CANCEL,this.__touchEnd,this)),this._touchBegan=!0,this._realTouchCount=e.length},n.__touchMove=function(t){if(!(u.ignoreEvent(t)||r.inst.unscaleTimer-this._startTime<50)){var e=t.getAllTouches();if(this.numberOfTouchesRequired>0){if(!this._touchBegan||e.length!==this.numberOfTouchesRequired)return void this.__touchEnd(t)}else if(!this._touchBegan)return void this.onStart(t);o.getAngles(e,this.center,this._curAngles);for(var s=0,n=0,h=0;h<this._angles.length;h++){var _=this._curAngles[h]-this._angles[h];Math.abs(_)>.1&&(s+=_,n++)}if(n>0){s/=n,!this._started&&Math.abs(s)>this.roationSensitivity&&(this._started=!0,this.angle=1,this._lastAngle=0,this._realTouchCount=e.length,this.emit(i.RETATION_BEGIN,t));for(var c=0;c<this._curAngles.length;c++)this._angles[c]=this._curAngles[c];this._started&&(this._lastAngle=this.angle,this.delta=s,this.angle+=s,this.emit(i.RETATION_ACTION,t))}}},n.onEnd=function(t){this.host.off(_.TOUCH_MOVE,this.__touchMove,this),this.host.off(_.TOUCH_END,this.__touchEnd,this),this.host.off(_.TOUCH_CANCEL,this.__touchEnd,this),this._started&&(this._started=!1,this.emit(i.RETATION_END,t)),this._touchBegan=!1,this._moveRegisted=!1,this.angle=0,this.delta=0,this._lastAngle=0,this._realTouchCount=0,this._angles.length=0,this._curAngles.length=0},n.__touchEnd=function(t){u.ignoreEvent(t)||this._touchBegan&&this.onEnd(t)},s(i,[{key:"realTouchCount",get:function(){return this._realTouchCount}}]),i}(o));c.RETATION_BEGIN="RETATION_BEGIN",c.RETATION_END="RETATION_END",c.RETATION_ACTION="RETATION_ACTION",i._RF.pop()}}}));

System.register("chunks:///_virtual/RotationGestureRecognizerComp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./RotationGestureRecognizer.ts","./GestureRecognizerComp.ts"],(function(e){"use strict";var t,i,r,o,n,c,s,u,a;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,r=e.initializerDefineProperty,o=e.assertThisInitialized,n=e.createClass},function(e){c=e.cclegacy,s=e._decorator},function(e){u=e.RotationGestureRecognizer},function(e){a=e.GestureRecognizerComp}],execute:function(){var l,p,g,f,h,R,z;c._RF.push({},"43dd9f5jAFOy7XX3vchpZHJ","RotationGestureRecognizerComp",void 0);var y=s.ccclass,m=s.property;e("RotationGestureRecognizerComp",(l=y("RotationGestureRecognizerComp"),p=m({tooltip:"旋转灵敏度"}),g=m({tooltip:"手指的个数（默认2， 小于等于0时，不进行限制）"}),l((R=t((h=function(e){function t(){for(var t,i=arguments.length,n=new Array(i),c=0;c<i;c++)n[c]=arguments[c];return t=e.call.apply(e,[this].concat(n))||this,r(t,"roationSensitivity",R,o(t)),r(t,"numberOfTouchesRequired",z,o(t)),t}return i(t,e),n(t,[{key:"recognizer",get:function(){return null==this._recognizer&&(this._recognizer=new u(this.node),this._recognizer.roationSensitivity=this.roationSensitivity,this._recognizer.numberOfTouchesRequired=this.numberOfTouchesRequired),this._recognizer}}]),t}(a)).prototype,"roationSensitivity",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),z=t(h.prototype,"numberOfTouchesRequired",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2}}),f=h))||f));c._RF.pop()}}}));

System.register("chunks:///_virtual/scene.board.data.ts",["cc","./scene.define.ts"],(function(e){"use strict";var t,n;return{setters:[function(e){t=e.cclegacy},function(e){n=e.ESceneType}],execute:function(){t._RF.push({},"405b26KspZB7aWLL8sd81Nb","scene.board.data",void 0);e("SceneBoardData",function(){function e(){this.LastSceneIsNull=!0,this.LastSceneID=0,this.LastSceneType=n.None}return e.prototype.recordLastSceneData=function(e){null==e?(this.LastSceneIsNull=!0,this.LastSceneID=0,this.LastSceneType=n.None):(this.LastSceneIsNull=!1,this.LastSceneID=e.SceneID,this.LastSceneType=e.SceneType)},e}());t._RF.pop()}}}));

System.register("chunks:///_virtual/scene.config.data.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var i,r,t,n,a,o,c,u,l;return{setters:[function(e){i=e.applyDecoratedDescriptor,r=e.inheritsLoose,t=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){a=e.cclegacy,o=e._decorator,c=e.UITransform,u=e.CCInteger,l=e.Component}],execute:function(){var f,m,p,s,b,g,y,L,h,w,d,v,z;a._RF.push({},"0ba08jBFNtCQZboAfBvhhVR","scene.config.data",void 0);var D=o.ccclass,C=o.property;e("SceneConfigData",(f=D("SceneConfigData"),m=C(c),p=C(u),s=C(u),b=C(u),g=C(u),f((h=i((L=function(e){function i(){for(var i,r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return i=e.call.apply(e,[this].concat(a))||this,t(i,"uiTransform",h,n(i)),t(i,"cameraLimitUp",w,n(i)),t(i,"cameraLimitDown",d,n(i)),t(i,"cameraLimitLeft",v,n(i)),t(i,"cameraLimitRight",z,n(i)),i}return r(i,e),i}(l)).prototype,"uiTransform",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=i(L.prototype,"cameraLimitUp",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),d=i(L.prototype,"cameraLimitDown",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),v=i(L.prototype,"cameraLimitLeft",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),z=i(L.prototype,"cameraLimitRight",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),y=L))||y));a._RF.pop()}}}));

System.register("chunks:///_virtual/scene.define.ts",["cc"],(function(e){"use strict";var n,i;return{setters:[function(e){n=e.cclegacy,i=e.v2}],execute:function(){e("ESceneType",void 0),n._RF.push({},"d0b6esUlK9MJKlj9R5JfrwF","scene.define",void 0);var c;e("MazeSceneRoomSize",i(306,160)),e("COPY_ID_DEFINE",{MAZE_TEST:9999,MAZE_1001:10011,MANOR_TEST:1101});!function(e){e[e.None=0]="None",e[e.Guide=1]="Guide",e[e.Login=2]="Login",e[e.Main=3]="Main",e[e.Farm=10]="Farm",e[e.Maze=11]="Maze",e[e.Manor=12]="Manor",e[e.FarmEdit=99]="FarmEdit"}(c||(c=e("ESceneType",{})));e("CONST_SCENE_ID",{GUIDE:1,LOGIN:2,MAIN:10,MAZE:11});n._RF.pop()}}}));

System.register("chunks:///_virtual/scene.farm.config.component.ts",["./rollupPluginModLoBabelHelpers.js","cc","./camera.system.ts","./farm.board.terrain.manager.ts","./all.define.ts"],(function(e){"use strict";var t,i,n,r,a,o,l,u,s,c,d,h,g,p,b,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){a=e.cclegacy,o=e._decorator,l=e.Node,u=e.UITransform,s=e.v2,c=e.v4,d=e.screen,h=e.Component},function(e){g=e.CameraSystem},function(e){p=e.FarmBoardTerrainManager},function(e){b=e.sGameDesignHeight,f=e.sGameDesignWidth}],execute:function(){var m,P,y,z,C,S,G,w,B,k,v,M,H,T,W,R,x,F,j,D,V,_,L;a._RF.push({},"05c4e55nhJEUKTvWcne0jq7","scene.farm.config.component",void 0);var A=o.ccclass,I=o.property;e("SceneFarmConfigComponent",(m=A("SceneFarmConfigComponent"),P=I(l),y=I(l),z=I(l),C=I(l),S=I(l),G=I(l),w=I(l),B=I(l),k=I(l),v=I(u),m((T=t((H=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,n(t,"terrainParent",T,r(t)),n(t,"terrainBorderParent",W,r(t)),n(t,"grassParent",R,r(t)),n(t,"gridShapeParent",x,r(t)),n(t,"groundParent",F,r(t)),n(t,"groundObjectParent",j,r(t)),n(t,"objectParent",D,r(t)),n(t,"addMaskParent",V,r(t)),n(t,"putParent",_,r(t)),n(t,"bgRenderTransform",L,r(t)),t.initPos=s(0,0),t.baseHeight=320,t.baseWidth=504,t.gridSizeWidth=16,t.gridSizeHeight=16,t.topBlankGridCount=20,t.bottomBlankGridCount=5,t.leftBlankGridCount=20,t.rightBlankGridCount=20,t.minHorGridCount=90,t.minVerGridCount=120,t.limitSize=c(0,0,0,0),t}i(t,e);var a=t.prototype;return a.onLoad=function(){this.baseHeight=b,this.baseWidth=f},a.setGridShapeVisible=function(e){null!=this.gridShapeParent&&(this.gridShapeParent.active=e)},a.calculateFarmAllSize=function(){var e=p.instance.getValidFarmGridRect(),t=e.xMax-e.xMin,i=Math.max(this.minHorGridCount,t),n=e.yMax-e.yMin,r=this.baseWidth*(d.windowSize.height/d.windowSize.width),a=Math.ceil(r/this.gridSizeWidth),o=Math.max(a,this.minVerGridCount,n),l=(i+this.leftBlankGridCount+this.rightBlankGridCount)*this.gridSizeWidth,u=(o+this.topBlankGridCount+this.bottomBlankGridCount)*this.gridSizeHeight,s=this.topBlankGridCount*this.gridSizeHeight,c=this.rightBlankGridCount*this.gridSizeWidth;this.bgRenderTransform.width=l,this.bgRenderTransform.height=u,this.bgRenderTransform.node.setPosition(c,s),g.instance.initCameraByScene(s,s-u,c-l,c)},t}(h)).prototype,"terrainParent",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=t(H.prototype,"terrainBorderParent",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=t(H.prototype,"grassParent",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=t(H.prototype,"gridShapeParent",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(H.prototype,"groundParent",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=t(H.prototype,"groundObjectParent",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=t(H.prototype,"objectParent",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=t(H.prototype,"addMaskParent",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=t(H.prototype,"putParent",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=t(H.prototype,"bgRenderTransform",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=H))||M));a._RF.pop()}}}));

System.register("chunks:///_virtual/scene.farm.edit.config.component.ts",["./rollupPluginModLoBabelHelpers.js","cc","./camera.system.ts","./farm.board.terrain.manager.ts","./all.define.ts"],(function(e){"use strict";var t,i,r,n,a,o,l,u,s,c,d,h,g,p,f,b;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,r=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){a=e.cclegacy,o=e._decorator,l=e.Node,u=e.UITransform,s=e.v2,c=e.v4,d=e.screen,h=e.Component},function(e){g=e.CameraSystem},function(e){p=e.FarmBoardTerrainManager},function(e){f=e.sGameDesignHeight,b=e.sGameDesignWidth}],execute:function(){var m,P,y,z,C,S,G,w,B,k,v,M,H,x,R,T,W,F,j,D,L,V,_;a._RF.push({},"efcc0gkptxLHq6OCB5eso34","scene.farm.edit.config.component",void 0);var O=o.ccclass,A=o.property;e("SceneFarmEditConfigComponent",(m=O("SceneFarmEditConfigComponent"),P=A(l),y=A(l),z=A(l),C=A(l),S=A(l),G=A(l),w=A(l),B=A(l),k=A(l),v=A(u),m((x=t((H=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,r(t,"terrainParent",x,n(t)),r(t,"terrainBorderParent",R,n(t)),r(t,"groundParent",T,n(t)),r(t,"grassParent",W,n(t)),r(t,"gridShapeParent",F,n(t)),r(t,"groundObjectParent",j,n(t)),r(t,"objectParent",D,n(t)),r(t,"addMaskParent",L,n(t)),r(t,"putParent",V,n(t)),r(t,"bgRenderTransform",_,n(t)),t.initPos=s(0,0),t.baseHeight=320,t.baseWidth=504,t.gridSizeWidth=16,t.gridSizeHeight=16,t.topBlankGridCount=20,t.bottomBlankGridCount=5,t.leftBlankGridCount=20,t.rightBlankGridCount=20,t.minHorGridCount=90,t.minVerGridCount=120,t.limitSize=c(0,0,0,0),t}i(t,e);var a=t.prototype;return a.onLoad=function(){this.baseHeight=f,this.baseWidth=b},a.setGridShapeVisible=function(e){null!=this.gridShapeParent&&(this.gridShapeParent.active=e)},a.calculateFarmAllSize=function(){var e=p.instance.getValidFarmGridRect(),t=e.xMax-e.xMin,i=Math.max(this.minHorGridCount,t),r=e.yMax-e.yMin,n=this.baseWidth*(d.windowSize.height/d.windowSize.width),a=Math.ceil(n/this.gridSizeWidth),o=Math.max(a,this.minVerGridCount,r),l=(i+this.leftBlankGridCount+this.rightBlankGridCount)*this.gridSizeWidth,u=(o+this.topBlankGridCount+this.bottomBlankGridCount)*this.gridSizeHeight,s=this.topBlankGridCount*this.gridSizeHeight,c=this.rightBlankGridCount*this.gridSizeWidth;this.bgRenderTransform.width=l,this.bgRenderTransform.height=u,this.bgRenderTransform.node.setPosition(c,s),g.instance.initCameraByScene(s,s-u,c-l,c)},t}(h)).prototype,"terrainParent",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=t(H.prototype,"terrainBorderParent",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=t(H.prototype,"groundParent",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=t(H.prototype,"grassParent",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(H.prototype,"gridShapeParent",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=t(H.prototype,"groundObjectParent",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=t(H.prototype,"objectParent",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=t(H.prototype,"addMaskParent",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=t(H.prototype,"putParent",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=t(H.prototype,"bgRenderTransform",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=H))||M));a._RF.pop()}}}));

System.register("chunks:///_virtual/scene.fsm.ts",["./rollupPluginModLoBabelHelpers.js","cc","./scene.state.init.ts","./scene.state.loading.ts","./scene.state.release.ts","./scene.state.running.ts","./scene.state.starting.ts"],(function(t){"use strict";var e,n,a,s,r,i,u,c,S;return{setters:[function(t){e=t.createClass,n=t.asyncToGenerator,a=t.regeneratorRuntime},function(t){s=t.cclegacy},function(t){r=t.SceneStateInit},function(t){i=t.SceneStateLoading},function(t){u=t.SceneStateRelease},function(t){c=t.SceneStateRunning},function(t){S=t.SceneStateStarting}],execute:function(){s._RF.push({},"2f83fTKTx9L+4da+lyEnWKv","scene.fsm",void 0);t("SceneStateFSM",function(){function t(){this.mAllStatesMap=new Map,this.mCurState=null}var s=t.prototype;return s.initStateFSM=function(t){var e=new r(t),n=new i(t),a=new S(t),s=new c(t),o=new u(t);this.mAllStatesMap.set(e.SceneState,e),this.mAllStatesMap.set(n.SceneState,n),this.mAllStatesMap.set(a.SceneState,a),this.mAllStatesMap.set(s.SceneState,s),this.mAllStatesMap.set(o.SceneState,o)},s.isInState=function(t){return null!=this.mCurState&&this.mCurState.SceneState===t},s.fsmUpdate=function(t){null!==this.mCurState&&this.mCurState.onUpdate(t)},s.triggerState=function(){var t=n(a().mark((function t(e){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null==this.mCurState||this.CurrentState.SceneState===e){t.next=3;break}return t.next=3,this.mCurState.onExit();case 3:return this.mCurState=this.mAllStatesMap.get(e),t.next=6,this.mCurState.onEnter();case 6:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),e(t,[{key:"CurrentState",get:function(){return this.mCurState}}]),t}());s._RF.pop()}}}));

System.register("chunks:///_virtual/scene.grid.tool.ts",["cc"],(function(){"use strict";var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"63d9bJpxOFJ0qftU/XvBEM/","scene.grid.tool",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/scene.node.manager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./base.manager.ts","./event.dispatcher.ts","./event.name.ts"],(function(e){"use strict";var n,t,o,r,a,i,l,s;return{setters:[function(e){n=e.inheritsLoose,t=e.createClass},function(e){o=e.cclegacy,r=e._decorator,a=e.find},function(e){i=e.BaseManager},function(e){l=e.EventDispatcher},function(e){s=e.EventName}],execute:function(){var c,u;o._RF.push({},"b6f28Oq0HRBXZZstRlbneOh","scene.node.manager",void 0);var d=r.ccclass;e("SceneNodeManager",d("SceneNodeManager")(((u=function(e){function o(){for(var n,t=arguments.length,o=new Array(t),r=0;r<t;r++)o[r]=arguments[r];return(n=e.call.apply(e,[this].concat(o))||this).allRoleRootNode=null,n.fightRoleNode=null,n.farmTerrainLayerNode=null,n.farmTerrainBorderLayerNode=null,n.farmGrassLayerNode=null,n.farmGroundLayerNode=null,n.farmGroundObjectLayerNode=null,n.farmObjectLayerNode=null,n.farmPutLayerNode=null,n}n(o,e);var r=o.prototype;return r.addAllManagerEvents=function(){l.on(s.SCENE_LOGIN_ENTER,this._event_OnEnterLoginScene,this),l.on(s.SCENE_LOGIN_EXIT,this._event_OnExitLoginScene,this)},r.removeAllManagerEvents=function(){l.off(s.SCENE_LOGIN_ENTER,this._event_OnEnterLoginScene,this),l.off(s.SCENE_LOGIN_EXIT,this._event_OnExitLoginScene,this)},r._event_OnEnterLoginScene=function(){this.allRoleRootNode&&(this.allRoleRootNode.active=!1)},r._event_OnExitLoginScene=function(){this.allRoleRootNode&&(this.allRoleRootNode.active=!0)},r.clearNodeData=function(){this.fightRoleNode=null,this.farmTerrainLayerNode=null,this.farmGroundLayerNode=null,this.farmObjectLayerNode=null},r.initAllRoleRootNode=function(){this.allRoleRootNode=a("2DObjectRoot")},r.initNodeToMainScene=function(e){this.fightRoleNode=e},r.initNodeToFarmScene=function(e,n,t,o,r,a,i){this.farmTerrainLayerNode=e,this.farmTerrainBorderLayerNode=n,this.farmGrassLayerNode=t,this.farmGroundLayerNode=o,this.farmGroundObjectLayerNode=r,this.farmObjectLayerNode=a,this.farmPutLayerNode=i},t(o,null,[{key:"instance",get:function(){return null==this._instance&&(this._instance=new o),this._instance}}]),o}(i))._instance=null,c=u))||c);o._RF.pop()}}}));

System.register("chunks:///_virtual/scene.state.base.ts",["./rollupPluginModLoBabelHelpers.js","cc","./enum.scene.state.ts"],(function(e){"use strict";var t,n,r,c,a,s;return{setters:[function(e){t=e.createClass,n=e.asyncToGenerator,r=e.regeneratorRuntime},function(e){c=e.cclegacy,a=e._decorator},function(e){s=e.ESceneState}],execute:function(){var u;c._RF.push({},"7f5e2HPph1E/5TAhZk/0FT1","scene.state.base",void 0);var o=a.ccclass;e("SceneStateBase",o("SceneStateBase")(u=function(){function e(e){this.mSceneState=s.None,this.mSceneInterface=null,this.mSceneInterface=e}var c=e.prototype;return c.onEnter=function(){var e=n(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),c.onExit=function(){var e=n(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),c.onUpdate=function(e){},t(e,[{key:"SceneState",get:function(){return this.mSceneState}}]),e}())||u);c._RF.pop()}}}));

System.register("chunks:///_virtual/scene.state.init.ts",["./rollupPluginModLoBabelHelpers.js","cc","./enum.scene.state.ts","./scene.state.base.ts"],(function(e){"use strict";var t,n,r,c,i,a,s;return{setters:[function(e){t=e.inheritsLoose,n=e.asyncToGenerator,r=e.regeneratorRuntime},function(e){c=e.cclegacy,i=e._decorator},function(e){a=e.ESceneState},function(e){s=e.SceneStateBase}],execute:function(){var u;c._RF.push({},"48860o1GyFJQ68korUCu5pM","scene.state.init",void 0);var o=i.ccclass;e("SceneStateInit",o("SceneStateInit")(u=function(e){function c(t){var n;return(n=e.call(this,t)||this).mSceneState=a.Init,n}t(c,e);var i=c.prototype;return i.onEnter=function(){var e=n(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==this.mSceneInterface||!this.mSceneInterface.stateInitOnEnter){e.next=3;break}return e.next=3,this.mSceneInterface.stateInitOnEnter();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),i.onExit=function(){var e=n(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==this.mSceneInterface||!this.mSceneInterface.stateInitOnExit){e.next=3;break}return e.next=3,this.mSceneInterface.stateInitOnExit();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),i.onUpdate=function(e){null!=this.mSceneInterface&&this.mSceneInterface.stateInitOnUpdate&&this.mSceneInterface.stateInitOnUpdate(e)},c}(s))||u);c._RF.pop()}}}));

System.register("chunks:///_virtual/scene.state.interface.ts",["cc"],(function(){"use strict";var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"0a8a2mJNXxIpbAhaO5DgL3u","scene.state.interface",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/scene.state.loading.ts",["./rollupPluginModLoBabelHelpers.js","cc","./enum.scene.state.ts","./scene.state.base.ts"],(function(e){"use strict";var t,n,r,a,c,s,i;return{setters:[function(e){t=e.inheritsLoose,n=e.asyncToGenerator,r=e.regeneratorRuntime},function(e){a=e.cclegacy,c=e._decorator},function(e){s=e.ESceneState},function(e){i=e.SceneStateBase}],execute:function(){var o;a._RF.push({},"726e1w89F5PjJQwyVhmy0sF","scene.state.loading",void 0);var u=c.ccclass;e("SceneStateLoading",u("SceneStateLoading")(o=function(e){function a(t){var n;return(n=e.call(this,t)||this).mSceneState=s.Loading,n}t(a,e);var c=a.prototype;return c.onEnter=function(){var e=n(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==this.mSceneInterface||!this.mSceneInterface.stateLoadingOnEnter){e.next=3;break}return e.next=3,this.mSceneInterface.stateLoadingOnEnter();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),c.onExit=function(){var e=n(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==this.mSceneInterface||!this.mSceneInterface.stateLoadingOnExit){e.next=3;break}return e.next=3,this.mSceneInterface.stateLoadingOnExit();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),c.onUpdate=function(e){null!=this.mSceneInterface&&this.mSceneInterface.stateLoadingOnUpdate&&this.mSceneInterface.stateLoadingOnUpdate(e)},a}(i))||o);a._RF.pop()}}}));

System.register("chunks:///_virtual/scene.state.release.ts",["./rollupPluginModLoBabelHelpers.js","cc","./enum.scene.state.ts","./scene.state.base.ts"],(function(e){"use strict";var t,n,r,a,s,c,i;return{setters:[function(e){t=e.inheritsLoose,n=e.asyncToGenerator,r=e.regeneratorRuntime},function(e){a=e.cclegacy,s=e._decorator},function(e){c=e.ESceneState},function(e){i=e.SceneStateBase}],execute:function(){var u;a._RF.push({},"040a7DjAgBMMoYdwE8uwBHw","scene.state.release",void 0);var o=s.ccclass;e("SceneStateRelease",o("SceneStateRelease")(u=function(e){function a(t){var n;return(n=e.call(this,t)||this).mSceneState=c.Release,n}t(a,e);var s=a.prototype;return s.onEnter=function(){var e=n(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==this.mSceneInterface||!this.mSceneInterface.stateReleaseOnEnter){e.next=3;break}return e.next=3,this.mSceneInterface.stateReleaseOnEnter();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),s.onExit=function(){var e=n(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==this.mSceneInterface||!this.mSceneInterface.stateReleaseOnExit){e.next=3;break}return e.next=3,this.mSceneInterface.stateReleaseOnExit();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),s.onUpdate=function(e){null!=this.mSceneInterface&&this.mSceneInterface.stateReleaseOnUpdate&&this.mSceneInterface.stateReleaseOnUpdate(e)},a}(i))||u);a._RF.pop()}}}));

System.register("chunks:///_virtual/scene.state.running.ts",["./rollupPluginModLoBabelHelpers.js","cc","./enum.scene.state.ts","./scene.state.base.ts"],(function(n){"use strict";var e,t,r,c,a,s,i;return{setters:[function(n){e=n.inheritsLoose,t=n.asyncToGenerator,r=n.regeneratorRuntime},function(n){c=n.cclegacy,a=n._decorator},function(n){s=n.ESceneState},function(n){i=n.SceneStateBase}],execute:function(){var u;c._RF.push({},"53cc3BKKQVM54VV6UbQTwE2","scene.state.running",void 0);var o=a.ccclass;n("SceneStateRunning",o("SceneStateRunning")(u=function(n){function c(e){var t;return(t=n.call(this,e)||this).mSceneState=s.Running,t}e(c,n);var a=c.prototype;return a.onEnter=function(){var n=t(r().mark((function n(){return r().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(null==this.mSceneInterface||!this.mSceneInterface.stateRunningOnEnter){n.next=3;break}return n.next=3,this.mSceneInterface.stateRunningOnEnter();case 3:case"end":return n.stop()}}),n,this)})));return function(){return n.apply(this,arguments)}}(),a.onExit=function(){var n=t(r().mark((function n(){return r().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(null==this.mSceneInterface||!this.mSceneInterface.stateRunningOnExit){n.next=3;break}return n.next=3,this.mSceneInterface.stateRunningOnExit();case 3:case"end":return n.stop()}}),n,this)})));return function(){return n.apply(this,arguments)}}(),a.onUpdate=function(n){null!=this.mSceneInterface&&this.mSceneInterface.stateRunningOnUpdate&&this.mSceneInterface.stateRunningOnUpdate(n)},c}(i))||u);c._RF.pop()}}}));

System.register("chunks:///_virtual/scene.state.starting.ts",["./rollupPluginModLoBabelHelpers.js","cc","./enum.scene.state.ts","./scene.state.base.ts"],(function(t){"use strict";var e,n,r,a,c,s,i;return{setters:[function(t){e=t.inheritsLoose,n=t.asyncToGenerator,r=t.regeneratorRuntime},function(t){a=t.cclegacy,c=t._decorator},function(t){s=t.ESceneState},function(t){i=t.SceneStateBase}],execute:function(){var u;a._RF.push({},"8e5c1EMcIFG6LQPn6e5nhgb","scene.state.starting",void 0);var o=c.ccclass;t("SceneStateStarting",o("SceneStateStarting")(u=function(t){function a(e){var n;return(n=t.call(this,e)||this).mSceneState=s.Starting,n}e(a,t);var c=a.prototype;return c.onEnter=function(){var t=n(r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null==this.mSceneInterface||!this.mSceneInterface.stateStartingOnEnter){t.next=3;break}return t.next=3,this.mSceneInterface.stateStartingOnEnter();case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),c.onExit=function(){var t=n(r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null==this.mSceneInterface||!this.mSceneInterface.stateStartingOnExit){t.next=3;break}return t.next=3,this.mSceneInterface.stateStartingOnExit();case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),c.onUpdate=function(t){null!=this.mSceneInterface&&this.mSceneInterface.stateStartingOnUpdate&&this.mSceneInterface.stateStartingOnUpdate(t)},a}(i))||u);a._RF.pop()}}}));

System.register("chunks:///_virtual/scene.system.ts",["./rollupPluginModLoBabelHelpers.js","cc","./scene.define.ts","./enum.scene.state.ts","./base.system.ts","./scene.board.data.ts","./scene.fsm.ts","./login.scene.ts","./main.scene.ts","./scene.node.manager.ts","./game.state.manager.ts","./game.state.ts","./object.player.ts","./object.npc.ts","./object.playerself.ts","./time.system.ts","./timer.client.protocol.ts","./net.system.ts","./table.helper.ts","./event.dispatcher.ts","./event.name.ts","./map.screen.client.protocol.ts","./ui.map.loading.controller.ts","./farm.scene.ts","./farm.edit.scene.ts"],(function(e){"use strict";var n,t,a,i,r,s,c,u,o,l,m,p,h,f,S,d,y,g,M,I,v,T,P,C,D,N,w,F,k,_,E,L,R;return{setters:[function(e){n=e.inheritsLoose,t=e.createClass,a=e.asyncToGenerator,i=e.regeneratorRuntime},function(e){r=e.cclegacy,s=e._decorator,c=e.error,u=e.log},function(e){o=e.CONST_SCENE_ID,l=e.ESceneType},function(e){m=e.ESceneState},function(e){p=e.BaseSystem},function(e){h=e.SceneBoardData},function(e){f=e.SceneStateFSM},function(e){S=e.LoginScene},function(e){d=e.MainScene},function(e){y=e.SceneNodeManager},function(e){g=e.GameStateManager},function(e){M=e.EnumGameState},function(e){I=e.Player},function(e){v=e.Npc},function(e){T=e.PlayerSelf},function(e){P=e.TimeSystem},function(e){C=e.stPingTimeTimerClientCmd},function(e){D=e.NetSystem},function(e){N=e.TableHelper},function(e){w=e.EventDispatcher},function(e){F=e.EventName},function(e){k=e.stAddMapNpcAndPosMapScreenStateClientCmd,_=e.stAddUserAndPosMapScreenStateMobileClientCmd},function(e){E=e.UIMaploadingController},function(e){L=e.FarmScene},function(e){R=e.FarmEditScene}],execute:function(){var b,O;r._RF.push({},"5fab4D2JBJHl7yBaGU+ddjp","scene.system",void 0);var B=s.ccclass;e("SceneSystem",B("SceneSystem")(((O=function(e){function r(){for(var n,t=arguments.length,a=new Array(t),i=0;i<t;i++)a[i]=arguments[i];return(n=e.call.apply(e,[this].concat(a))||this).mCurScene=null,n.mCurSceneBoard=new h,n.mSceneFSM=null,n.mIsFirstInMap=!0,n.mToInMapID=0,n.mPlayersMap=new Map,n.mNpcMap=new Map,n.mToDelPlayers=new Array,n.mToDelNpc=new Array,n.mCurPingValue=1e3,n.mLastReqPingTimePos=0,n.mSendPingTimeBlank=0,n}n(r,e);var s=r.prototype;return s.sysInitial=function(){e.prototype.sysInitial.call(this),this._initSceneFSM()},s.clearSysData=function(){e.prototype.clearSysData.call(this),this.mIsFirstInMap=!0},s.addAllEvents=function(){},s.removeAllEvents=function(){},s.sysUpdate=function(n){e.prototype.sysUpdate.call(this,n),null!=this.mSceneFSM&&this.mSceneFSM.fsmUpdate(n),null!=this.mCurScene&&this.mCurScene.updateScene(n),this._playerRun(n),this._npcRun(n)},s.sceneRelease=function(){null!=this.mCurScene&&this.mCurScene.finalizeScene(),y.instance.clearNodeData(),this.mNpcMap.forEach((function(e){e.clearObjectData()})),this.mNpcMap.clear(),this.mPlayersMap.forEach((function(e){e.isPlayerSelf()||e.clearObjectData()})),this.mPlayersMap.clear(),this.UsePlayerSelf.onSceneRelease()},s.gotoMap=function(){var e=a(i().mark((function e(n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u("go to map id:",n),this.mToInMapID=n,null==this.mCurScene){e.next=7;break}return e.next=5,this.mSceneFSM.triggerState(m.Release);case 5:e.next=9;break;case 7:return e.next=9,this._realInitMap(n);case 9:case"end":return e.stop()}}),e,this)})));return function(n){return e.apply(this,arguments)}}(),s._realInitMap=function(){var e=a(i().mark((function e(n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._initMap(n),this.mCurScene.initScene(n),e.next=4,this.mSceneFSM.triggerState(m.Init);case 4:this.IsInLoginScene||this.mIsFirstInMap&&(this.mIsFirstInMap=!1);case 5:case"end":return e.stop()}}),e,this)})));return function(n){return e.apply(this,arguments)}}(),s._initMap=function(e){if(e===o.LOGIN)this.mCurScene=new S;else switch(N.getMapRecord(e).mapType){case l.Login:this.mCurScene=new S;break;case l.Main:this.mCurScene=new d;break;case l.Farm:this.mCurScene=new L;break;case l.FarmEdit:this.mCurScene=new R;break;default:c("goto map id not exists:",e)}},s._initSceneFSM=function(){this.mSceneFSM=new f,this.mSceneFSM.initStateFSM(this)},s.stateInitOnEnter=function(){var e=a(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:!1===this.mCurSceneBoard.LastSceneIsNull&&w.emit(F.UI_MAP_LOADING_OPEN);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),s.stateInitOnUpdate=function(){this.mCurSceneBoard.LastSceneIsNull,this.mSceneFSM.triggerState(m.Loading)},s.stateLoadingOnEnter=function(){var e=a(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g.instance.CurState=M.LoadingScene,e.next=3,this.mCurScene.doLoadAssets();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),s.stateLoadingOnUpdate=function(){this.mCurScene.IsSceneLoadingFinish&&this.mSceneFSM.triggerState(m.Starting)},s.stateStartingOnEnter=function(){var e=a(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.mCurScene.doStarting();case 2:g.instance.CurState=M.SceneRun,this.mSceneFSM.triggerState(m.Running);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),s.stateStartingOnUpdate=function(){},s.stateRunningOnEnter=function(){var e=a(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.mCurScene.doEnterRunning();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),s.stateRunningOnUpdate=function(e){this.updateConnectState(e)},s.stateReleaseOnEnter=function(){var e=a(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:w.emit(F.UI_MAP_LOADING_OPEN),this.mCurSceneBoard.recordLastSceneData(this.mCurScene);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),s.stateReleaseOnUpdate=function(){null!=E.instance&&E.instance.IsBlack&&(this.sceneRelease(),this._realInitMap(this.mToInMapID))},s.resEchoPing=function(){this.mCurPingValue=Math.floor((P.xTimeGetTime()-this.mLastReqPingTimePos)/2),this.mLastReqPingTimePos=0,this.mSendPingTimeBlank=0},s.updateConnectState=function(e){if(D.instance.isGateServerConnecting()&&(this.mSendPingTimeBlank+=e,this.mSendPingTimeBlank>2&&0===this.mLastReqPingTimePos)){var n=new C;D.instance.sendCmdGate(n),this.mLastReqPingTimePos=P.xTimeGetTime()}},s.findNpcByTempID=function(e){return this.mNpcMap.has(e)?this.mNpcMap.get(e):null},s.addNpc=function(e){var n=this.findNpcByTempID(e.npcTempID);if(null!=n){var t=new k;return t.data=e,n.pushCommand(t),n}var a=new v;return a.initObject(),a.setNpcAttrData(e),this.mNpcMap.set(e.npcTempID,a),a},s.removeNpc=function(e){var n=this.findNpcByTempID(e.npcTempId);return null!=n&&n.pushCommand(e)},s._npcRun=function(e){var n=this;this.mToDelNpc=[],this.mNpcMap.forEach((function(t,a){null!=t&&(t.NeedDelete?n.mToDelNpc.push(a):t.runFrame(e))}));for(var t=0;t<this.mToDelNpc.length;t+=1){var a=this.mToDelNpc[t];this.mNpcMap.get(a).clearObjectData(),this.mNpcMap.set(a,null),this.mNpcMap.delete(a)}},s.findPlayerByTempID=function(e){return this.mPlayersMap.has(e)?this.mPlayersMap.get(e):null},s.addPlayer=function(e){var n=this.findPlayerByTempID(e.userTempID);if(null!=n){var t=new _;return t.data=e,n.pushCommand(t),n}if(T.instance.TempID!==e.userTempID){var a=new I;return a.initObject(),a.setPlayerAttrData(e),this.mPlayersMap.set(e.userTempID,a),a}T.instance.setPlayerAttrData(e),T.instance.TempID=e.userTempID,this.mPlayersMap.set(e.userTempID,T.instance)},s.removePlayer=function(e){var n=this.findPlayerByTempID(e.dwUserTempID);return null!=n&&(!!n.isPlayerSelf()||n.pushCommand(e))},s._playerRun=function(e){var n=this;this.mToDelPlayers=[],this.mPlayersMap.forEach((function(t,a){null!=t&&(t.NeedDelete?n.mToDelPlayers.push(a):t.runFrame(e))}));for(var t=0;t<this.mToDelPlayers.length;t+=1){var a=this.mToDelPlayers[t];this.mPlayersMap.get(a).clearObjectData(),this.mPlayersMap.set(a,null),this.mPlayersMap.delete(a)}},t(r,[{key:"PingValue",get:function(){return this.mCurPingValue}},{key:"CurSceneType",get:function(){var e;return null==(e=this.mCurScene)?void 0:e.SceneType}},{key:"IsInLoginScene",get:function(){var e;return(null==(e=this.mCurScene)?void 0:e.SceneType)===l.Login}},{key:"IsInMainScene",get:function(){var e;return(null==(e=this.mCurScene)?void 0:e.SceneType)===l.Main}},{key:"IsInGuideScene",get:function(){var e;return(null==(e=this.mCurScene)?void 0:e.SceneType)===l.Guide}},{key:"IsInMazeScene",get:function(){var e;return(null==(e=this.mCurScene)?void 0:e.SceneType)===l.Maze}},{key:"IsInManorScene",get:function(){var e;return(null==(e=this.mCurScene)?void 0:e.SceneType)===l.Manor}},{key:"IsInFarmEditScene",get:function(){var e;return(null==(e=this.mCurScene)?void 0:e.SceneType)===l.FarmEdit}},{key:"IsInFarmScene",get:function(){var e;return(null==(e=this.mCurScene)?void 0:e.SceneType)===l.Farm}}],[{key:"instance",get:function(){return null==this._instance&&(this._instance=new r),this._instance}}]),r}(p))._instance=null,b=O))||b);r._RF.pop()}}}));

System.register("chunks:///_virtual/sdk.manager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./event.dispatcher.ts","./event.name.ts","./enum.plugin.type.ts","./plugin.settings.ts","./sdk.plugin.common.ts","./sdk.plugin.telegram.ts","./sdk.plugin.x.ts","./sdk.plugin.line.ts","./sdk.plugin.web.ts"],(function(n){"use strict";var e,t,s,a,i,r,u,o,g,l,c,d,P,m;return{setters:[function(n){e=n.createClass},function(n){t=n.cclegacy,s=n._decorator,a=n.director,i=n.Node},function(n){r=n.EventDispatcher},function(n){u=n.EventName},function(n){o=n.PluginType},function(n){g=n.PluginSettings},function(n){l=n.SDKPluginCommon},function(n){c=n.SDKPluginTelegram},function(n){d=n.SDKPluginX},function(n){P=n.SDKPluginLine},function(n){m=n.SDKPluginWeb}],execute:function(){var S,p;t._RF.push({},"e9a21jFpPVE4INvBmA5n3kd","sdk.manager",void 0);var h=s.ccclass;n("SDKManager",h("SDKManager")(((p=function(){function n(){this.mCurUseSDKPlugin=null}var t=n.prototype;return t.initSDKManager=function(){r.on(u.SDK_PLATFORM_CHANGED,this._event_onSdkPlatChanged,this);var n=g.getCurUsePlatform();if(null!=n)switch(n.sdkType){case o.COMMON:var e=a.getScene(),t=new i("sdkManager");t.setParent(e),a.addPersistRootNode(t),this.mCurUseSDKPlugin=t.addComponent(l);break;case o.TELEGRAM:var s=a.getScene(),S=new i("sdkManager");S.setParent(s),a.addPersistRootNode(S),this.mCurUseSDKPlugin=S.addComponent(c);break;case o.X:var p=a.getScene(),h=new i("sdkManager");h.setParent(p),a.addPersistRootNode(h),this.mCurUseSDKPlugin=h.addComponent(d);break;case o.LINE:var D=a.getScene(),C=new i("sdkManager");C.setParent(D),a.addPersistRootNode(C),this.mCurUseSDKPlugin=C.addComponent(P);break;case o.WEB:var K=a.getScene(),f=new i("sdkManager");f.setParent(K),a.addPersistRootNode(f),this.mCurUseSDKPlugin=f.addComponent(m)}null!==this.mCurUseSDKPlugin&&this.mCurUseSDKPlugin.SDKInit(),this._parseURLParam()},t._event_onSdkPlatChanged=function(){null!==this.mCurUseSDKPlugin&&this.mCurUseSDKPlugin.SDKInit()},t._parseURLParam=function(){var n=new URLSearchParams(window.location.search);if(g.isInTelegram()){var e=n.get("tgWebAppStartParam");e&&""!==e&&(this.mCurUseSDKPlugin.startParam=e)}if(g.isInLine()){var t=n.get("startapp");t&&""!==t&&(this.mCurUseSDKPlugin.startParam=t);var s=n.get("mission");s&&""!==s&&(this.mCurUseSDKPlugin.missionParam=s)}if(g.isInWeb()){var a=n.get("startapp");a&&""!==a&&(this.mCurUseSDKPlugin.startParam=a)}},e(n,[{key:"curSDKPlugin",get:function(){return this.mCurUseSDKPlugin}}],[{key:"instance",get:function(){return null==this._instance&&(this._instance=new n),this._instance}}]),n}())._instance=null,S=p))||S);t._RF.pop()}}}));

System.register("chunks:///_virtual/sdk.plugin.base.ts",["./rollupPluginModLoBabelHelpers.js","cc","./event.dispatcher.ts","./event.name.ts","./net.system.ts","./server.config.manager.ts","./game.state.manager.ts","./plugin.settings.ts","./login.client.protocol.ts","./model.mainrole.manager.ts","./http.manager.ts","./api.auth.ts","./api.me.ts","./common.tool.ts","./ui.float.text.controller.ts","./ui.message.box.controller.ts","./table.helper.ts","./wizard.wallet.sdk.ts","./enum.account.type.ts"],(function(n){"use strict";var e,t,o,r,a,i,c,s,u,l,f,h,m,p,d,C,g,T,S,w,v,k,I,P,_,D,U,L,E;return{setters:[function(n){e=n.inheritsLoose,t=n.asyncToGenerator,o=n.regeneratorRuntime},function(n){r=n.cclegacy,a=n._decorator,i=n.log,c=n.error,s=n.Component},function(n){u=n.EventDispatcher},function(n){l=n.EventName},function(n){f=n.NetSystem},function(n){h=n.ServerConfigManager},function(n){m=n.GameStateManager},function(n){p=n.PluginSettings},function(n){d=n.stLoginTerminateClientCmd,C=n.EnumLoginReturnCode,g=n.stUserLoginVerifyClientCmd,T=n.stUserVerifyVerClientCmd,S=n.stPasswdLogonClientCmd},function(n){w=n.ModelMainRoleManager},function(n){v=n.HttpManager},function(n){k=n.apiRefreshToken},function(n){I=n.apiMeInfo},function(n){P=n.CommonTool},function(n){_=n.UIFloatTextController},function(n){D=n.UIMessageBoxController},function(n){U=n.TableHelper},function(n){L=n.WizardWalletSDK},function(n){E=n.LoginAccountType}],execute:function(){var y;r._RF.push({},"6c391btCoZH86o06D9FZQok","sdk.plugin.base",void 0);var N=a.ccclass;n("SDKPluginBase",N("SDKPluginBase")(y=function(n){function r(){for(var e,t=arguments.length,o=new Array(t),r=0;r<t;r++)o[r]=arguments[r];return(e=n.call.apply(n,[this].concat(o))||this).pluginType=void 0,e.platChannelId=void 0,e.platformServerUrl=void 0,e.gateServerUrl=void 0,e.startParam="",e.missionParam="",e.loginAccount="",e.loginPassword="",e.accountMeInfo=null,e.accountType=E.NONE,e.mTwwTokenData=null,e.mPasswordCmd=new S,e.mCheckUpdateToken=0,e.mIsRefreshingToken=!1,e.mCheckPlatConnectState=!1,e.mCheckPlatConnectTime=0,e.mCheckPlatConnectSuccess=!1,e}e(r,n);var a=r.prototype;return a.SDKInit=function(){this.platChannelId=p.getChannelId(),this.loadTwwTokenData(),u.on(l.NET_GATE_CONNECT_SUCCESS,this._onGateServerConnected,this),u.on(l.NET_PLATFORM_CONNECT_SUCCESS,this._onPlatformServerConnected,this),u.on(l.NET_GATE_CONNECT_FAILED,this._onGateServerConnectFailed,this),u.on(l.NET_PLATFORM_CONNECT_FAILED,this._onPlatformServerConnectFailed,this)},a.SDKShowUI=function(){},a.SDKTelegramWebLogin=function(){var n=t(o().mark((function n(){return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),a.SDKTelegramMiniAppLogin=function(){var n=t(o().mark((function n(){return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),a.SDKLineLogin=function(){var n=t(o().mark((function n(){return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),a.SDKXLogin=function(){var n=t(o().mark((function n(){return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),a.SDKLogin=function(){var n=t(o().mark((function n(){return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),a.SDKRegister=function(){var n=t(o().mark((function n(){return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),a.SDKAutoLogin=function(){var n=t(o().mark((function n(){return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),a.SDKDealInvite=function(){var n=t(o().mark((function n(e){return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),a.SDKPay=function(){var n=t(o().mark((function n(e,t,r,a){return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:case"end":return n.stop()}}),n)})));return function(e,t,o,r){return n.apply(this,arguments)}}(),a.SDKGameExit=function(){},a.SDKReconnect=function(){var n=t(o().mark((function n(){return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),a._onSDKLoginSuccess=function(){},a._onSDKLoginFailed=function(){},a.SDKLogout=function(){this.clearTwwTokenData(),L.clearWalletConnect(),u.emit(l.GAME_LOGOUT)},a.invite=function(){var n=this.getInviteUrl();this.openUrl(n)},a.copyInviteUrl=function(){var n=this.getInviteUrl();P.copyTextNew(n).then((function(){_.AddTipI18nID_Success("u.2516")}))},a.parseQuestOutUrl=function(n){var e="[#inviteUrl]";if(-1!==n.indexOf(e)){var t=this.getInviteUrl();return n.replace(e,t)}return n},a.getInviteUrl=function(){var n=w.instance.AccountId;return"https://t.me/"+p.getCurUsePlatform().bot.username+"/app?startapp=rp_"+n},a.openUrl=function(n){n&&""!==n?window.open(n,"_blank"):i("target url is error")},a.openTelegramUrl=function(n){n&&""!==n?window.open(n,"_blank"):i("target url is error")},a._onHandlerPlatform=function(){var n=new d;f.instance.sendCmdPlatform(n)},a.getStartParamPlatName=function(){return""},a.update=function(n){this.updateTokenTime(n),this.updateCheckPlatConnectState(n)},a.getMeInfo=function(){var n=t(o().mark((function n(){var e;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,I();case 2:e=n.sent,this.accountMeInfo=e,i("me info data:",this.accountMeInfo),w.instance.UserTelegramId=this.accountMeInfo.telegramId,u.emit(l.REFRESH_NOTCOIN_LEVEL),u.emit(l.ACCOUNT_ME_INFO_INIT);case 8:case"end":return n.stop()}}),n,this)})));return function(){return n.apply(this,arguments)}}(),a.openWaitingUI=function(){u.emit(l.UI_FLOAT_TEXT_OPEN_WAITING)},a.closeWaitingUI=function(){u.emit(l.UI_FLOAT_TEXT_CLOSE_WAITING)},a.enterGame=function(){var n=t(o().mark((function n(){return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:L.onLoginInfo(),w.instance.AccountId=this.mTwwTokenData.accountId,w.instance.LoginAccount=this.loginAccount,this._connectPlatformServer();case 4:case"end":return n.stop()}}),n,this)})));return function(){return n.apply(this,arguments)}}(),a.startCheckPlatConnectState=function(){this.mCheckPlatConnectState=!0,this.mCheckPlatConnectTime=0,this.mCheckPlatConnectSuccess=!1},a.updateCheckPlatConnectState=function(n){this.mCheckPlatConnectState&&(this.mCheckPlatConnectTime+=n,this.mCheckPlatConnectTime>=10&&this.showReconnectPlat())},a.endCheckPlatConnectState=function(){this.mCheckPlatConnectState=!1,this.mCheckPlatConnectTime=0},a.showReconnectPlat=function(){this.endCheckPlatConnectState(),this.mCheckPlatConnectSuccess||(this.closeWaitingUI(),u.emit(l.GAME_CONNECT_PLATFORM_RETRY))},a.realReconnectGateServer=function(){this._connectGateServer()},a.handlePlatformLoginSuccessCmd=function(n){this.mCheckPlatConnectSuccess=!0,this.mPasswordCmd.mLoginTempID=n.mLoginTempID,this.mPasswordCmd.mdwUserID=n.mdwUserID,this.mPasswordCmd.mStrName=this.loginAccount,this.mPasswordCmd.mZone=1,this.mPasswordCmd.mSeq=0,this.mPasswordCmd.mAsOrClient=2,p.isUseWss()?this.gateServerUrl="wss://"+n.mStrIP:this.gateServerUrl="ws://"+n.mStrIP+":"+n.mPort,i("gate server url：",this.gateServerUrl),this._onHandlerPlatform(),this._connectGateServer()},a.handleLoginReturnCmd=function(n){switch(i("server return login result:",n.byReturnCode),n.byReturnCode){case C.versionError:D.AddPopMsgBox_SingleBtn(U.getI18nInnerText("i.2001"),U.getI18nInnerText("i.101")),this.closeWaitingUI(),this.endCheckPlatConnectState();break;case C.idInClose:D.AddPopMsgBox_SingleBtn(U.getI18nInnerText("i.2002"),U.getI18nInnerText("i.101")),this.closeWaitingUI(),this.endCheckPlatConnectState();break;case C.eLoginReturn_verify_err:D.AddPopMsgBox_SingleBtn(U.getI18nInnerText("i.2003"),U.getI18nInnerText("i.101")),this.closeWaitingUI(),this.endCheckPlatConnectState();break;case C.user_err:case C.name_err:break;case C.gateNotOpen:u.emit(l.NET_GATE_CONNECT_FAILED);break;default:i("login return code :",n.byReturnCode)}},a.handlePassLoginResultCmd=function(n){u.emit(l.UI_FLOAT_TEXT_CLOSE_WAITING),1===n.mRes&&(m.instance.CanPosDisconnectUI=!1,this.SDKShowUI())},a._connectPlatformServer=function(){f.instance.isPlatformServerConnecting()?this._sendLoginCmdToPlatform():(this.platformServerUrl=h.instance.getConnectPlatformUrl(this.platChannelId),f.instance.connectPlatformServer(this.platformServerUrl))},a._connectGateServer=function(){console.log("start gate connect"),f.instance.connectGateServer(this.gateServerUrl)},a._sendLoginCmdToPlatform=function(){var n=new g;n.loginTokenStr=this.mTwwTokenData.accessToken,n.clientVer=p.version,f.instance.sendCmdPlatform(n)},a._onGateServerConnected=function(){console.log("gate connect success"),f.instance.sendCmdGate(this.mPasswordCmd)},a._onGateServerConnectFailed=function(){console.log("gate connect failed"),this.closeWaitingUI()},a._onPlatformServerConnected=function(){var n=new T;f.instance.sendCmdPlatform(n),this._sendLoginCmdToPlatform(),this.startCheckPlatConnectState()},a._onPlatformServerConnectFailed=function(){console.log("plat connect failed"),this.closeWaitingUI(),this.SDKShowUI()},a.saveTwwTokenData=function(){var n=JSON.stringify(this.mTwwTokenData);localStorage.setItem("tww-token",n),v.instance.setAuthHeader(this.mTwwTokenData.accessToken)},a.clearTwwTokenData=function(){localStorage.removeItem("tww-token"),v.instance.clearAuthHeader(),this.mTwwTokenData=null},a.loadTwwTokenData=function(){try{var n=localStorage.getItem("tww-token");null!=n&&(this.mTwwTokenData=JSON.parse(n))}catch(n){c(n)}},a.updateTokenTime=function(n){null!==this.mTwwTokenData&&(this.mCheckUpdateToken+=n,this.mCheckUpdateToken>=10&&(this.mCheckUpdateToken=0,this.mTwwTokenData.expires-Date.now()/1e3<=30&&this.refreshToken()))},a.refreshToken=function(){var n=this;!0!==this.mIsRefreshingToken&&(this.mIsRefreshingToken=!0,k({refreshToken:this.mTwwTokenData.refreshToken}).then((function(e){n.onSnxRefreshTokenSuccess(e)})).catch((function(n){console.log(n)})).finally((function(){n.mIsRefreshingToken=!1})))},a.onSnxRefreshTokenSuccess=function(n){this.mTwwTokenData=n,this.saveTwwTokenData()},r}(s))||y);r._RF.pop()}}}));

System.register("chunks:///_virtual/sdk.plugin.common.ts",["./rollupPluginModLoBabelHelpers.js","cc","./sdk.plugin.base.ts","./event.dispatcher.ts","./event.name.ts","./ui.float.text.controller.ts","./api.auth.ts","./purchase.client.protocol.ts","./api.test.inner.ts","./table.helper.ts"],(function(t){"use strict";var n,e,r,a,o,c,i,s,u,p,l,h,f,m,g;return{setters:[function(t){n=t.inheritsLoose,e=t.asyncToGenerator,r=t.regeneratorRuntime},function(t){a=t.cclegacy,o=t._decorator,c=t.error,i=t.log},function(t){s=t.SDKPluginBase},function(t){u=t.EventDispatcher},function(t){p=t.EventName},function(t){l=t.UIFloatTextController},function(t){h=t.apiAuthLogin},function(t){f=t.EPayType},function(t){m=t.testFinishOrder},function(t){g=t.TableHelper}],execute:function(){var v;a._RF.push({},"51c19MXRaZNf51dJ9pbY30n","sdk.plugin.common",void 0);var d=o.ccclass;t("SDKPluginCommon",d("SDKPluginCommon")(v=function(t){function a(){return t.apply(this,arguments)||this}n(a,t);var o=a.prototype;return o.SDKShowUI=function(){u.emit(p.UI_LOGIN_SHOW_COMMON_UI)},o.getStartParamPlatName=function(){return this.accountMeInfo&&this.accountMeInfo.platName?this.accountMeInfo.platName:""},o.SDKLogin=function(){var t=e(r().mark((function t(){var n;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,this.checkAccount()){t.next=4;break}return t.abrupt("return");case 4:return this.openWaitingUI(),t.next=7,h({account:this.loginAccount,password:this.loginPassword,startParam:this.startParam});case 7:return n=t.sent,i("common plugin auth data:",n),this.mTwwTokenData=n,this.saveTwwTokenData(),t.next=13,this.getMeInfo();case 13:return t.next=15,this.enterGame();case 15:t.next=21;break;case 17:t.prev=17,t.t0=t.catch(0),c("[SDKPluginCommon.SDKLogin] error: ",t.t0),this.closeWaitingUI();case 21:case"end":return t.stop()}}),t,this,[[0,17]])})));return function(){return t.apply(this,arguments)}}(),o.SDKPay=function(){var t=e(r().mark((function t(n,e,a,o){var c;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.prev=0,null!==(c=g.getPurchase(o))&&i("pay for "+c.name),t.t0=n,t.next=t.t0===f.EPayType_TON||t.t0===f.EPayType_NOT||t.t0===f.EPayType_DOGES||t.t0===f.EPayType_Star?6:9;break;case 6:return t.next=8,m(e);case 8:return t.abrupt("break",9);case 9:t.next=14;break;case 11:t.prev=11,t.t1=t.catch(0),console.error(t.t1);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(n,e,r,a){return t.apply(this,arguments)}}(),o.SDKReconnect=function(){var t=e(r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.enterGame();case 3:t.next=9;break;case 5:t.prev=5,t.t0=t.catch(0),c("[SDKPluginCommon.SDKLogin] error: ",t.t0),this.closeWaitingUI();case 9:case"end":return t.stop()}}),t,this,[[0,5]])})));return function(){return t.apply(this,arguments)}}(),o.checkAccount=function(){return""===this.loginAccount?(l.AddPopupText("account is empty"),!1):this.loginAccount.length<6?(l.AddPopupText("account length must greater than 6"),!1):!(this.loginAccount.length>=48)||(l.AddPopupText("account length must smaller than 48"),!1)},a}(s))||v);a._RF.pop()}}}));

System.register("chunks:///_virtual/sdk.plugin.interface.ts",["cc"],(function(){"use strict";var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"d21f2E5ewBMe5XGfATG3oGj","sdk.plugin.interface",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/sdk.plugin.line.ts",["./rollupPluginModLoBabelHelpers.js","cc","./sdk.plugin.base.ts","./api.auth.ts","./purchase.client.protocol.ts","./event.dispatcher.ts","./event.name.ts","./line.sdk.ts","./model.mainrole.manager.ts","./plugin.settings.ts","./ui.float.text.controller.ts","./table.helper.ts","./data.pay.ts","./system.data.ts"],(function(e){"use strict";var t,n,r,a,i,s,o,c,u,l,p,h,f,g,I,m,d,k,w,x,v,L;return{setters:[function(e){t=e.inheritsLoose,n=e.asyncToGenerator,r=e.regeneratorRuntime},function(e){a=e.cclegacy,i=e._decorator,s=e.log,o=e.error},function(e){c=e.SDKPluginBase},function(e){u=e.apiAuthLineLogin,l=e.apiAuthKaiaLogin,p=e.apiAuthKaiaLoginPre,h=e.apiRefreshToken},function(e){f=e.EPayType},function(e){g=e.EventDispatcher},function(e){I=e.EventName},function(e){m=e.LineSDK},function(e){d=e.ModelMainRoleManager},function(e){k=e.PluginSettings},function(e){w=e.UIFloatTextController},function(e){x=e.TableHelper},function(e){v=e.EPayCurrency},function(e){L=e.SystemData}],execute:function(){var y;a._RF.push({},"508a2eA60NILIgE2aeVLxmA","sdk.plugin.line",void 0);var b=i.ccclass;e("SDKPluginLine",b("SDKPluginLine")(y=function(e){function a(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).lineUserId=void 0,t.lineUserName=void 0,t}t(a,e);var i=a.prototype;return i.SDKInit=function(){e.prototype.SDKInit.call(this),m.init()},i.SDKShowUI=function(){this.SDKAutoLogin()},i.openUrl=function(e){e&&""!==e?m.openWindow(e,!0):s("target url is error")},i.openTelegramUrl=function(e){e&&""!==e?m.openWindow(e,!0):s("target url is error")},i.getStartParamPlatName=function(){return this.accountMeInfo&&this.accountMeInfo.platName?this.accountMeInfo.platName:""},i.SDKLogin=function(){var e=n(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!m.isInClient()){e.next=5;break}return e.next=3,this.lineInClientLogin();case 3:e.next=7;break;case 5:return e.next=7,this.lineOutClientLogin();case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),i.SDKAutoLogin=function(){var e=n(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!m.isInClient()){e.next=5;break}return e.next=3,this.lineInClientLogin();case 3:e.next=6;break;case 5:g.emit(I.UI_LOGIN_SHOW_LINE_UI);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),i.lineInClientLogin=function(){var e=n(r().mark((function e(){var t,n;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,this.openWaitingUI(),m.isLoggedIn()){e.next=5;break}return e.next=5,m.login();case 5:return t=m.getAccessToken(),e.next=8,u({accessToken:t,startParam:this.startParam});case 8:return n=e.sent,s("line plugin auth result data:",n),this.mTwwTokenData=n,this.saveTwwTokenData(),e.next=14,this.getMeInfo();case 14:return e.next=16,this.enterGame();case 16:e.next=23;break;case 18:e.prev=18,e.t0=e.catch(0),o("[SDKPluginLine.SDKLogin] error: ",e.t0),this.closeWaitingUI(),g.emit(I.UI_LOGIN_SHOW_LINE_UI);case 23:case"end":return e.stop()}}),e,this,[[0,18]])})));return function(){return e.apply(this,arguments)}}(),i.lineOutClientLogin=function(){var e=n(r().mark((function e(){var t,n,a,i;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.openWaitingUI(),e.next=4,m.kaiaWalletConnect();case 4:if(!1!==e.sent){e.next=9;break}return g.emit(I.UI_LOGIN_SHOW_LINE_UI),this.closeWaitingUI(),e.abrupt("return");case 9:return e.next=11,this.refreshExistAccount();case 11:if(!e.sent){e.next=14;break}return e.abrupt("return");case 14:return e.next=16,p({wallet:m.connectedWalletAddress});case 16:return t=e.sent,n=Math.round(Date.now()/1e3),e.next=20,m.kaiaLoginSign(n,t.nonce);case 20:if(null!==(a=e.sent)){e.next=25;break}return g.emit(I.UI_LOGIN_SHOW_LINE_UI),this.closeWaitingUI(),e.abrupt("return");case 25:return e.next=27,l({timestamp:n,wallet:m.connectedWalletAddress,nonce:t.nonce,sign:a,startParam:this.startParam});case 27:return i=e.sent,s("kaia plugin auth result data:",i),this.mTwwTokenData=i,this.saveTwwTokenData(),e.next=33,this.getMeInfo();case 33:return e.next=35,this.enterGame();case 35:e.next=42;break;case 37:e.prev=37,e.t0=e.catch(0),o("[SDKPluginLine.SDKLogin] error: ",e.t0),this.closeWaitingUI(),g.emit(I.UI_LOGIN_SHOW_LINE_UI);case 42:case"end":return e.stop()}}),e,this,[[0,37]])})));return function(){return e.apply(this,arguments)}}(),i.refreshExistAccount=function(){var e=n(r().mark((function e(){var t;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,null!==this.mTwwTokenData&&this.mTwwTokenData.refreshToken){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,h({refreshToken:this.mTwwTokenData.refreshToken});case 5:return t=e.sent,this.mTwwTokenData=t,this.saveTwwTokenData(),e.next=10,this.getMeInfo();case 10:if(this.accountMeInfo.lineId.toLowerCase()===m.connectedWalletAddress.toLowerCase()){e.next=12;break}return e.abrupt("return",!1);case 12:return e.next=14,this.enterGame();case 14:return e.abrupt("return",!0);case 17:return e.prev=17,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",!1);case 21:case"end":return e.stop()}}),e,this,[[0,17]])})));return function(){return e.apply(this,arguments)}}(),i.getInviteUrl=function(){var e=d.instance.AccountId;return k.getCurUsePlatform().line.appUrl+"?startapp=rp_"+e},i.invite=function(){var e=this.getInviteUrl(),t=encodeURI(e);console.log(t),m.isInClient()&&m.isLoggedIn()?m.shareTargetPicker({type:"template",altText:"Play wizzwoods",template:{type:"buttons",thumbnailImageUrl:"https://resource.wizzwoods.com/icon/icon256.png",imageAspectRatio:"square",imageBackgroundColor:"#FFFFFF",title:"Wizzwoods",text:"🎁Step into Wizzwoods, where farming meets earning!",defaultAction:{type:"uri",label:"Play",uri:e},actions:[{type:"uri",label:"Play",uri:e}]}}):w.AddTipI18nID_Info("u.2557")},i.SDKReconnect=function(){var e=n(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.enterGame();case 3:e.next=9;break;case 5:e.prev=5,e.t0=e.catch(0),o("[SDKPluginX.SDKReconnect] error: ",e.t0),this.closeWaitingUI();case 9:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}(),i.SDKPay=function(){var e=n(r().mark((function e(t,n,a,i){var o,c;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,o="wizzwoods goods",null!==(c=x.getPurchase(i))&&(s("pay for "+c.name),o=c.name),e.t0=t,e.next=e.t0===f.ePayType_KAIA?7:e.t0===f.ePayType_Line_USD?10:13;break;case 7:return e.next=9,m.kaiaPay(v.KAIA,n,o);case 9:return e.abrupt("break",13);case 10:return e.next=12,m.kaiaPay(L.payCurrency,n,o);case 12:return e.abrupt("break",13);case 13:e.next=18;break;case 15:e.prev=15,e.t1=e.catch(0),console.error(e.t1);case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(t,n,r,a){return e.apply(this,arguments)}}(),a}(c))||y);a._RF.pop()}}}));

System.register("chunks:///_virtual/sdk.plugin.telegram.ts",["./rollupPluginModLoBabelHelpers.js","cc","./sdk.plugin.base.ts","./api.auth.ts","./telegram.web.app.sdk.ts","./ui.message.box.controller.ts","./purchase.client.protocol.ts","./ton.sdk.ts","./plugin.settings.ts","./table.helper.ts"],(function(e){"use strict";var t,n,r,a,i,s,o,u,c,l,p,g,f,h,m;return{setters:[function(e){t=e.inheritsLoose,n=e.asyncToGenerator,r=e.regeneratorRuntime},function(e){a=e.cclegacy,i=e._decorator,s=e.log,o=e.error},function(e){u=e.SDKPluginBase},function(e){c=e.apiAuthTelegramLogin},function(e){l=e.TelegramWebAppSDK},function(e){p=e.UIMessageBoxController},function(e){g=e.EPayType},function(e){f=e.TonSDK},function(e){h=e.PluginSettings},function(e){m=e.TableHelper}],execute:function(){var S;a._RF.push({},"7317838rglMioCYAD76OKnQ","sdk.plugin.telegram",void 0);var T=i.ccclass;e("SDKPluginTelegram",T("SDKPluginTelegram")(S=function(e){function a(){return e.apply(this,arguments)||this}t(a,e);var i=a.prototype;return i.SDKInit=function(){e.prototype.SDKInit.call(this)},i.SDKShowUI=function(){this.SDKLogin()},i.openUrl=function(e){e&&""!==e?l.openUrl(e):s("target url is error")},i.openTelegramUrl=function(e){e&&""!==e?l.openTelegramUrl(e):s("target url is error")},i.getStartParamPlatName=function(){return this.accountMeInfo&&this.accountMeInfo.platName?this.accountMeInfo.platName:""},i.SDKLogin=function(){var e=n(r().mark((function e(){var t,n;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,this.openWaitingUI(),""!==(t=l.initDataString)){e.next=7;break}return this.closeWaitingUI(),p.AddPopMsgBox_SingleBtn(m.getI18nUIText("u.2414"),m.getI18nUIText("u.4001")),e.abrupt("return");case 7:return e.next=9,c({queryString:t,startParam:this.startParam});case 9:return n=e.sent,s("telegram plugin auth data:",n),this.mTwwTokenData=n,this.saveTwwTokenData(),e.next=15,this.getMeInfo();case 15:return e.next=17,this.enterGame();case 17:e.next=23;break;case 19:e.prev=19,e.t0=e.catch(0),o("[SDKPluginTelegram.SDKLogin] error: ",e.t0),this.closeWaitingUI();case 23:case"end":return e.stop()}}),e,this,[[0,19]])})));return function(){return e.apply(this,arguments)}}(),i.SDKReconnect=function(){var e=n(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.enterGame();case 3:e.next=9;break;case 5:e.prev=5,e.t0=e.catch(0),o("[SDKPluginTelegram.SDKReconnect] error: ",e.t0),this.closeWaitingUI();case 9:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}(),i.invite=function(){var e=this.getInviteUrl(),t=h.getCurUsePlatform().bot.shareUrl+"?url="+encodeURI(e)+"&text=💰Step into Wizzwoods, where farming meets earning!  %0A🎁Start playing and profiting now!";this.openTelegramUrl(t)},i.SDKPay=function(){var e=n(r().mark((function e(t,n,a,i){var o;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,null!==(o=m.getPurchase(i))&&s("pay for "+o.name),e.t0=t,e.next=e.t0===g.EPayType_Star?6:e.t0===g.EPayType_TON?9:e.t0===g.EPayType_NOT?12:e.t0===g.EPayType_DOGES?15:18;break;case 6:return e.next=8,l.pay(n);case 8:return e.abrupt("break",18);case 9:return e.next=11,f.sendTon(a,n);case 11:return e.abrupt("break",18);case 12:return e.next=14,f.sendNot(a,n);case 14:return e.abrupt("break",18);case 15:return e.next=17,f.sendDogs(a,n);case 17:return e.abrupt("break",18);case 18:e.next=23;break;case 20:e.prev=20,e.t1=e.catch(0),console.error(e.t1);case 23:case"end":return e.stop()}}),e,null,[[0,20]])})));return function(t,n,r,a){return e.apply(this,arguments)}}(),a}(u))||S);a._RF.pop()}}}));

System.register("chunks:///_virtual/sdk.plugin.web.ts",["./rollupPluginModLoBabelHelpers.js","cc","./sdk.plugin.base.ts","./event.dispatcher.ts","./event.name.ts","./api.auth.ts","./purchase.client.protocol.ts","./table.helper.ts","./telegram.login.sdk.ts","./ton.sdk.ts","./model.mainrole.manager.ts","./ui.float.text.controller.ts","./auth.popup.window.ts","./enum.account.type.ts"],(function(t){"use strict";var e,n,r,a,i,o,s,u,c,p,h,l,f,g,m,w,T,v,x,d,b,k;return{setters:[function(t){e=t.inheritsLoose,n=t.asyncToGenerator,r=t.regeneratorRuntime},function(t){a=t.cclegacy,i=t._decorator,o=t.log,s=t.error},function(t){u=t.SDKPluginBase},function(t){c=t.EventDispatcher},function(t){p=t.EventName},function(t){h=t.apiAuthTelegramWebLogin,l=t.apiAuthXLoginWeb,f=t.apiAuthXLoginWebPre,g=t.apiRefreshToken},function(t){m=t.EPayType},function(t){w=t.TableHelper},function(t){T=t.TelegramLoginSDK},function(t){v=t.TonSDK},function(t){x=t.ModelMainRoleManager},function(t){d=t.UIFloatTextController},function(t){b=t.default},function(t){k=t.LoginAccountType}],execute:function(){var D;a._RF.push({},"bdd69ctKc5EGJa+gHXGI176","sdk.plugin.web",void 0);var I=i.ccclass;t("SDKPluginWeb",I("SDKPluginWeb")(D=function(t){function a(){for(var e,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))||this).curAuthPreData=null,e}e(a,t);var i=a.prototype;return i.SDKShowUI=function(){this.SDKAutoLogin()},i.getStartParamPlatName=function(){return this.accountMeInfo&&this.accountMeInfo.platName?this.accountMeInfo.platName:""},i.openUrl=function(t){t&&""!==t?window.open(t,"_blank"):o("target url is error")},i.openTelegramUrl=function(t){t&&""!==t?window.open(t,"_blank"):o("target url is error")},i.SDKTelegramWebLogin=function(){var t=n(r().mark((function t(){var e,n;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,this.openWaitingUI(),this.accountType=k.TELEGRAM,t.next=5,T.popupAuth();case 5:if(e=t.sent,o("telegram web login auth popup data:",e),e.result){t.next=10;break}return this.closeWaitingUI(),t.abrupt("return");case 10:return t.next=12,h({queryString:e.queryString,startParam:this.startParam});case 12:return n=t.sent,o("telegram web login auth data:",n),this.mTwwTokenData=n,this.saveTwwTokenData(),t.next=18,this.getMeInfo();case 18:return t.next=20,this.enterGame();case 20:t.next=26;break;case 22:t.prev=22,t.t0=t.catch(0),s("[SDKPluginWeb.SDKTelegramWebLogin] error: ",t.t0),this.closeWaitingUI();case 26:case"end":return t.stop()}}),t,this,[[0,22]])})));return function(){return t.apply(this,arguments)}}(),i.SDKXLogin=function(){var t=n(r().mark((function t(){var e,n,a,i;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,this.openWaitingUI(),this.accountType=k.X,t.next=5,f();case 5:return this.curAuthPreData=t.sent,o("x plugin pre auth data:",this.curAuthPreData),t.next=9,this.popupAuthX(this.curAuthPreData.openUrl,this.curAuthPreData.redirectUrl);case 9:if(e=t.sent,o("x plugin auth popup data:",e),e.ok){t.next=14;break}return this.closeWaitingUI(),t.abrupt("return");case 14:return n=e.result.code,a=e.result.state,t.next=18,l({code:n,state:a,codeVer:this.curAuthPreData.codeVer,startParam:this.startParam});case 18:return i=t.sent,o("x  auth result data:",i),this.mTwwTokenData=i,this.saveTwwTokenData(),t.next=24,this.getMeInfo();case 24:return t.next=26,this.enterGame();case 26:t.next=32;break;case 28:t.prev=28,t.t0=t.catch(0),s("[SDKPluginWeb.SDKXLogin] error: ",t.t0),this.closeWaitingUI();case 32:case"end":return t.stop()}}),t,this,[[0,28]])})));return function(){return t.apply(this,arguments)}}(),i.SDKAutoLogin=function(){var t=n(r().mark((function t(){var e,n;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!this.mTwwTokenData){t.next=20;break}if(this.openWaitingUI(),e=Math.floor(Date.now()/1e3),!(this.mTwwTokenData.expires-e<=30)){t.next=8;break}return this.closeWaitingUI(),c.emit(p.UI_LOGIN_SHOW_WEB_UI),t.abrupt("return");case 8:return t.next=10,g({refreshToken:this.mTwwTokenData.refreshToken});case 10:return n=t.sent,this.mTwwTokenData=n,this.saveTwwTokenData(),t.next=15,this.getMeInfo();case 15:return this.accountMeInfo&&(""!==this.accountMeInfo.telegramId?this.accountType=k.TELEGRAM:""!==this.accountMeInfo.xId&&(this.accountType=k.X)),t.next=18,this.enterGame();case 18:t.next=21;break;case 20:c.emit(p.UI_LOGIN_SHOW_WEB_UI);case 21:t.next=28;break;case 23:t.prev=23,t.t0=t.catch(0),s("[SDKPluginX.SDKAutoLogin] error: ",t.t0),this.closeWaitingUI(),c.emit(p.UI_LOGIN_SHOW_WEB_UI);case 28:case"end":return t.stop()}}),t,this,[[0,23]])})));return function(){return t.apply(this,arguments)}}(),i.SDKPay=function(){var t=n(r().mark((function t(e,n,a,i){var s;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.prev=0,null!==(s=w.getPurchase(i))&&o("pay for "+s.name),t.t0=e,t.next=t.t0===m.EPayType_TON?6:t.t0===m.EPayType_NOT?9:t.t0===m.EPayType_DOGES?12:15;break;case 6:return t.next=8,v.sendTon(a,n);case 8:return t.abrupt("break",15);case 9:return t.next=11,v.sendNot(a,n);case 11:return t.abrupt("break",15);case 12:return t.next=14,v.sendDogs(a,n);case 14:return t.abrupt("break",15);case 15:t.next=20;break;case 17:t.prev=17,t.t1=t.catch(0),console.error(t.t1);case 20:case"end":return t.stop()}}),t,null,[[0,17]])})));return function(e,n,r,a){return t.apply(this,arguments)}}(),i.SDKReconnect=function(){var t=n(r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.enterGame();case 3:t.next=9;break;case 5:t.prev=5,t.t0=t.catch(0),s("[SDKPluginCommon.SDKLogin] error: ",t.t0),this.closeWaitingUI();case 9:case"end":return t.stop()}}),t,this,[[0,5]])})));return function(){return t.apply(this,arguments)}}(),i.popupAuthX=function(){var t=n(r().mark((function t(e,n){var a,i;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=new b("xAuth",{width:540,height:740}),t.next=3,a.open(e,n);case 3:return i=t.sent,t.abrupt("return",i);case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),i.getInviteUrl=function(){return"https://game.wizzwoods.com?startapp=rp_"+x.instance.AccountId},i.invite=function(){d.AddTipText_Info("This feature is only available within the Telegram mini app.")},a}(u))||D);a._RF.pop()}}}));

System.register("chunks:///_virtual/sdk.plugin.x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./sdk.plugin.base.ts","./api.auth.ts","./purchase.client.protocol.ts","./ton.sdk.ts","./event.dispatcher.ts","./event.name.ts","./auth.popup.window.ts","./api.me.ts","./common.tool.ts","./twitter.ext.sdk.ts","./table.helper.ts"],(function(e){"use strict";var t,n,r,a,i,s,u,o,c,p,h,l,f,v,k,g,w,T,x,D;return{setters:[function(e){t=e.inheritsLoose,n=e.asyncToGenerator,r=e.regeneratorRuntime},function(e){a=e.cclegacy,i=e._decorator,s=e.log,u=e.error},function(e){o=e.SDKPluginBase},function(e){c=e.apiAuthXLogin,p=e.apiAuthXLoginPre,h=e.apiRefreshToken},function(e){l=e.EPayType},function(e){f=e.TonSDK},function(e){v=e.EventDispatcher},function(e){k=e.EventName},function(e){g=e.default},function(e){w=e.apiInvite},function(e){T=e.CommonTool},function(e){x=e.TwitterExtSDK},function(e){D=e.TableHelper}],execute:function(){var d;a._RF.push({},"29145+WbAxDl5uJlUojJqr1","sdk.plugin.x",void 0);var I=i.ccclass;e("SDKPluginX",I("SDKPluginX")(d=function(e){function a(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).curAuthPreData=null,t}t(a,e);var i=a.prototype;return i.SDKInit=function(){e.prototype.SDKInit.call(this),x.sendMsg_InitFinish()},i.SDKShowUI=function(){T.isInTwitterFrame()&&this.SDKAutoLogin()},i.openUrl=function(e){if(e&&""!==e){var t=e;t=-1!==e.indexOf("?")?e+"&selfOpen=true":e+"?selfOpen=true",window.open(t,"_blank")}else s("target url is error")},i.openTelegramUrl=function(e){if(e&&""!==e){var t=e;t=-1!==e.indexOf("?")?e+"&selfOpen=true":e+"?selfOpen=true",window.open(t,"_blank")}else s("target url is error")},i.SDKLogin=function(){var e=n(r().mark((function e(){var t,n,a,i;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.openWaitingUI(),e.next=4,p();case 4:return this.curAuthPreData=e.sent,s("x plugin pre auth data:",this.curAuthPreData),e.next=8,this.popupAuthX(this.curAuthPreData.openUrl,this.curAuthPreData.redirectUrl);case 8:if(t=e.sent,s("x plugin auth popup data:",t),t.ok){e.next=13;break}return this.closeWaitingUI(),e.abrupt("return");case 13:return n=t.result.code,a=t.result.state,e.next=17,c({code:n,state:a,codeVer:this.curAuthPreData.codeVer});case 17:return i=e.sent,s("x plugin auth result data:",i),this.mTwwTokenData=i,this.saveTwwTokenData(),e.next=23,this.checkNeedInviteCode();case 23:e.next=29;break;case 25:e.prev=25,e.t0=e.catch(0),u("[SDKPluginX.SDKLogin] error: ",e.t0),this.closeWaitingUI();case 29:case"end":return e.stop()}}),e,this,[[0,25]])})));return function(){return e.apply(this,arguments)}}(),i.SDKAutoLogin=function(){var e=n(r().mark((function e(){var t;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!this.mTwwTokenData||!this.mTwwTokenData.refreshToken){e.next=12;break}return this.openWaitingUI(),e.next=5,h({refreshToken:this.mTwwTokenData.refreshToken});case 5:return t=e.sent,this.mTwwTokenData=t,this.saveTwwTokenData(),e.next=10,this.checkNeedInviteCode();case 10:e.next=13;break;case 12:v.emit(k.UI_LOGIN_SHOW_TWITTER_UI);case 13:e.next=20;break;case 15:e.prev=15,e.t0=e.catch(0),u("[SDKPluginX.SDKAutoLogin] error: ",e.t0),this.closeWaitingUI(),v.emit(k.UI_LOGIN_SHOW_TWITTER_UI);case 20:case"end":return e.stop()}}),e,this,[[0,15]])})));return function(){return e.apply(this,arguments)}}(),i.invite=function(){var e=this.getInviteUrl();this.openTelegramUrl(e)},i.checkNeedInviteCode=function(){var e=n(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==this.mTwwTokenData.ver){e.next=4;break}return this.closeWaitingUI(),v.emit(k.UI_LOGIN_SHOW_INVITE_PANEL),e.abrupt("return");case 4:return e.next=6,this.getMeInfo();case 6:return e.next=8,this.enterGame();case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),i.SDKDealInvite=function(){var e=n(r().mark((function e(t){var n,a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s("to deal invite "+t),e.prev=1,this.openWaitingUI(),n=this._parseInviteUrl(t),e.next=6,w({code:n});case 6:if(e.sent.ok){e.next=11;break}return this.closeWaitingUI(),this.SDKShowUI(),e.abrupt("return");case 11:return e.next=13,h({refreshToken:this.mTwwTokenData.refreshToken});case 13:return a=e.sent,this.mTwwTokenData=a,this.saveTwwTokenData(),e.next=18,this.getMeInfo();case 18:return e.next=20,this.enterGame();case 20:e.next=26;break;case 22:e.prev=22,e.t0=e.catch(1),u("[SDKPluginX.SDKDealInvite] error: ",e.t0),this.closeWaitingUI();case 26:case"end":return e.stop()}}),e,this,[[1,22]])})));return function(t){return e.apply(this,arguments)}}(),i._parseInviteUrl=function(e){var t=e.indexOf("startapp");if(-1!==t){var n="",r=e.substring(t),a=r.indexOf("&");if(""!==(n=-1!==a?r.substring(0,a):r)){var i=n.split("=");if(2===i.length)return i[1]}}return"skip"},i.popupAuthX=function(){var e=n(r().mark((function e(t,n){var a,i;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new g("xAuth",{width:540,height:740}),e.next=3,a.open(t,n);case 3:return i=e.sent,e.abrupt("return",i);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),i.SDKReconnect=function(){var e=n(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.enterGame();case 3:e.next=9;break;case 5:e.prev=5,e.t0=e.catch(0),u("[SDKPluginX.SDKReconnect] error: ",e.t0),this.closeWaitingUI();case 9:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}(),i.SDKPay=function(){var e=n(r().mark((function e(t,n,a,i){var u;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,null!==(u=D.getPurchase(i))&&s("pay for "+u.name),e.t0=t,e.next=e.t0===l.EPayType_TON?6:e.t0===l.EPayType_NOT?9:e.t0===l.EPayType_DOGES?12:15;break;case 6:return e.next=8,f.sendTon(a,n);case 8:return e.abrupt("break",15);case 9:return e.next=11,f.sendNot(a,n);case 11:return e.abrupt("break",15);case 12:return e.next=14,f.sendDogs(a,n);case 14:return e.abrupt("break",15);case 15:e.next=20;break;case 17:e.prev=17,e.t1=e.catch(0),console.error(e.t1);case 20:case"end":return e.stop()}}),e,null,[[0,17]])})));return function(t,n,r,a){return e.apply(this,arguments)}}(),a}(o))||d);a._RF.pop()}}}));

System.register("chunks:///_virtual/select.client.protocol.ts",["./rollupPluginModLoBabelHelpers.js","cc","./long.mjs_cjs=&original=.js","./net.protocol.define.ts","./null.client.protocol.ts","./long.js"],(function(t){"use strict";var e,i,n,r,o;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy},null,function(t){n=t.NetProtocolDefine},function(t){r=t.stNullClientCmd},function(t){o=t.default}],execute:function(){t("EKickType",void 0),i._RF.push({},"91b1bONSk5FY6hp1i7PBBKj","select.client.protocol",void 0);var c,s=t("stSelectClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).gsCmd=n.SELECT_CLIENT_CMD,e}return e(i,t),i}(r)),E=(t("USERINFO_SELECT_CLIENT",1),t("CREATE_SELECT_CLIENT",2)),a=(t("LOGIN_SELECT_CLIENT",3),t("DELETE_SELECT_CLIENT",4),t("CHECK_NAME_SELECT_CLIENT",5)),l=(t("RETURN_DELETE_SELECT_CLIENT",6),t("UNREG_USER_SELECT_CLIENT",7),t("DELETE_ERROR_SELECT_CLIENT",8),t("FANG_CHEN_MI_SELECT_CLIENT",9));!function(t){t[t.fangChenMi=0]="fangChenMi",t[t.repeat=1]="repeat",t[t.gm=2]="gm",t[t.mergeServer=3]="mergeServer",t[t.notReady=4]="notReady"}(c||(c=t("EKickType",{})));t("stCreateSelectClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).mStrUserName="",e.mChainId="",e.gsParam=E,e}return e(i,t),i.prototype.Pack=function(){t.prototype.Pack.call(this),this.WriteStringWithFixedLength(this.mStrUserName,n.NAME_SIZE_MAX),this.mByteBuffer.writeUint64(o.fromString(this.mChainId))},i}(s)),t("stCheckNameSelectClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).mName="",e.mErr_code=0,e.gsParam=a,e}e(i,t);var r=i.prototype;return r.Pack=function(){t.prototype.Pack.call(this),this.WriteStringWithFixedLength(this.mName,n.NAME_SIZE_MAX),this.mByteBuffer.writeUint8(this.mErr_code)},r.UnPack=function(e){t.prototype.UnPack.call(this,e),this.mName=this.ReadStringWithFixedLength(n.NAME_SIZE_MAX),this.mErr_code=this.mByteBuffer.readUint8(),this.ReleaseByteBuffer()},i}(s)),t("stFangChenMiSelectClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).type=0,e.gsParam=l,e}return e(i,t),i.prototype.UnPack=function(e){t.prototype.UnPack.call(this,e),this.type=this.mByteBuffer.readUint8(),this.ReleaseByteBuffer()},i}(s));i._RF.pop()}}}));

System.register("chunks:///_virtual/server.config.data.ts",["cc"],(function(){"use strict";var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"ff3d8Qrgf9M+btgHRwhTVqr","server.config.data",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/server.config.manager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./base.manager.ts","./resource.manager.ts"],(function(e){"use strict";var n,t,r,a,s,i,o,c,u,l;return{setters:[function(e){n=e.inheritsLoose,t=e.createClass,r=e.asyncToGenerator,a=e.regeneratorRuntime},function(e){s=e.cclegacy,i=e._decorator,o=e.error,c=e.math},function(e){u=e.BaseManager},function(e){l=e.ResourceManager}],execute:function(){var g,f;s._RF.push({},"059ecnNjpdFGKy62u34LvT1","server.config.manager",void 0);var p=i.ccclass;e("ServerConfigManager",p("ServerConfigManager")(((f=function(e){function s(){for(var n,t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return(n=e.call.apply(e,[this].concat(r))||this).mPlatConfigMap=new Map,n}n(s,e);var i=s.prototype;return i.loadVersionBase=function(){var e=r(a().mark((function e(){var n,t,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.instance.loadRemoteGameConfig();case 2:if(n=e.sent,!(t=n.json).isMaintenance){e.next=6;break}return e.abrupt("return",t);case 6:return l.instance.ResourceBaseUrl=t.resPath,l.instance.QuestImageBaseUrl=t.questImagePath,this._parsePlatConfig(t.platforms),e.next=11,l.instance.loadRemoteDataVersions();case 11:return r=e.sent,l.instance.parseVersionData(r.text),e.abrupt("return",t);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),i.getConnectPlatformUrl=function(e){if(!this.mPlatConfigMap.has(e))return o("[ServerConfigManager.getConnectPlatformUrl] error: plat id not exist ",e),"";var n=this.mPlatConfigMap.get(e);return n.length>=2?n[c.randomRangeInt(1,n.length)].url:n[0].url},i._parsePlatConfig=function(e){if(this.mPlatConfigMap.clear(),!e||e.length<=0)o("[ServerConfigManager._parsePlatConfig] error: plats not define");else for(var n=0;n<e.length;n+=1){var t=e[n];if(this.mPlatConfigMap.has(t.id)){this.mPlatConfigMap.get(t.id).push(t)}else{var r=[];r.push(t),this.mPlatConfigMap.set(t.id,r)}}},t(s,null,[{key:"instance",get:function(){return null==this._instance&&(this._instance=new s),this._instance}}]),s}(u))._instance=null,g=f))||g);s._RF.pop()}}}));

System.register("chunks:///_virtual/skill.bind.obj.action.ts",["./rollupPluginModLoBabelHelpers.js","cc","./timer.tick.ts","./effect.system.ts","./enum.effect.define.ts","./effect.move.static.ts","./sound.helper.ts","./skill.bind.obj.base.ts"],(function(t){"use strict";var i,e,n,c,o,s,r,f,l;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy,n=t._decorator},function(t){c=t.TimerTick},function(t){o=t.EffectSystem},function(t){s=t.EEffectType},function(t){r=t.EffectMoveStatic},function(t){f=t.SoundHelper},function(t){l=t.SkillBindObjBase}],execute:function(){var m;e._RF.push({},"37021aPiwJE3ZiIw3Zn7Iie","skill.bind.obj.action",void 0);var h=n.ccclass;t("SkillBindObjAction",h("SkillBindObjAction")(m=function(t){function e(){var i;return(i=t.call(this)||this).ActionRecord=null,i.mActionTimerID=0,i.mEffectTimerID=0,i.mSoundTimerID=0,i.mOwnEffectList=new Array,i.mPlayedSound=0,i}i(e,t),e.CreateSelf=function(){return new e};var n=e.prototype;return n.InitBindObj=function(t,i){this.mOwnerSkillInst=t,this.mOwerChar=this.mOwnerSkillInst.OwnerChar,this.ActionRecord=i,this._OnInitFinish()},n.StartBindEffect=function(){0!==this.ActionRecord.ActionID&&(0===this.ActionRecord.ActionDelayTime?this._PlayAnim():this.mActionTimerID=c.AddTimer(this.mOwnerSkillInst.GetRealSkillTime(this.ActionRecord.ActionDelayTime),0,this._PlayAnim,this)),""!==this.ActionRecord.EffectIDStr&&(0===this.ActionRecord.EffectDelayTime?this._PlayEffect():this.mEffectTimerID=c.AddTimer(this.mOwnerSkillInst.GetRealSkillTime(this.ActionRecord.EffectDelayTime),0,this._PlayEffect,this)),0!==this.ActionRecord.SoundID&&(0===this.ActionRecord.SoundDelayTime?this._PlaySound():this.mSoundTimerID=c.AddTimer(this.mOwnerSkillInst.GetRealSkillTime(this.ActionRecord.SoundDelayTime),0,this._PlaySound,this))},n._PlayAnim=function(){this.mActionTimerID=0,this.mOwerChar.playAnim(this.ActionRecord.ActionID,this.mOwnerSkillInst.GetRealSkillSpeed())},n._PlayEffect=function(){if(this.mEffectTimerID=0,""!==this.ActionRecord.EffectIDStr)for(var t=this.ActionRecord.EffectIDStr.split(";"),i=0;i<t.length;i++){var e=Number.parseInt(t[i]);if(0!==e){var n=o.instance.CreateEffect(e);if(n.PropEffectType===s.Mount){null!=n&&n.SetMountCharacter(this.mOwerChar)}else{var c=n;null!=c&&(c.Position=this.mOwerChar.Position,null==c.PropEffectMoveMode&&(c.PropEffectMoveMode=new r))}n.PropOwnerSkillInst=this.mOwnerSkillInst}}},n._PlaySound=function(){this.mSoundTimerID=0,this.mPlayedSound=f.PlaySoundByID(this.ActionRecord.SoundID)},n.EndBindEffect=function(){this.ClearAllOwnEffect()},n.InterruptBindEffect=function(){this.ClearAllOwnEffect(),0!==this.mPlayedSound&&f.StopSoundByID(this.mPlayedSound),0!==this.mActionTimerID&&(c.DelTimer(this.mActionTimerID),this.mActionTimerID=0),0!==this.mEffectTimerID&&(c.DelTimer(this.mEffectTimerID),this.mEffectTimerID=0),0!==this.mSoundTimerID&&(c.DelTimer(this.mSoundTimerID),this.mSoundTimerID=0)},n.ClearAllOwnEffect=function(){for(var t=0;t<this.mOwnEffectList.length;t++)null!=this.mOwnEffectList[t]&&o.instance.RemoveEffect(this.mOwnEffectList[t]);this.mOwnEffectList.splice(0,this.mOwnEffectList.length)},e}(l))||m);e._RF.pop()}}}));

System.register("chunks:///_virtual/skill.bind.obj.base.ts",["cc","./enum.effect.define.ts"],(function(n){"use strict";var t,e,i;return{setters:[function(n){t=n.cclegacy,e=n._decorator},function(n){i=n.EEffectCollType}],execute:function(){var c;t._RF.push({},"16241omRWBGeIkAf6GHyh4U","skill.bind.obj.base",void 0);var f=e.ccclass;n("SkillBindObjBase",f("SkillBindObjBase")(c=function(){function n(){this.mOwnerSkillInst=null,this.mOwerChar=null}n.DestroySelf=function(n){n.ResetSelf()};var t=n.prototype;return t._OnInitFinish=function(){this.mOwnerSkillInst.AddBindObj(this),this.StartBindEffect()},t.ResetSelf=function(){},t.UpdateBindObj=function(){},t.StartBindEffect=function(){},t.EndBindEffect=function(){},t.InterruptBindEffect=function(){},t.ClearBindEffect=function(){},t._OnSkillCollider=function(n,t,e){return i.eColType_Friend},n}())||c);t._RF.pop()}}}));

System.register("chunks:///_virtual/skill.bind.obj.bullet.ts",["./rollupPluginModLoBabelHelpers.js","cc","./event.dispatcher.ts","./event.name.ts","./effect.system.ts","./effect.move.static.ts","./skill.bind.obj.base.ts"],(function(e){"use strict";var t,i,l,n,r,s,c,o;return{setters:[function(e){t=e.inheritsLoose},function(e){i=e.cclegacy,l=e._decorator},function(e){n=e.EventDispatcher},function(e){r=e.EventName},function(e){s=e.EffectSystem},function(e){c=e.EffectMoveStatic},function(e){o=e.SkillBindObjBase}],execute:function(){var f;i._RF.push({},"fce4eeWEH1Op50IDo/aKMBK","skill.bind.obj.bullet",void 0);var u=l.ccclass;e("SkillBindObjBullet",u("SkillBindObjBullet")(f=function(e){function i(){var t;return(t=e.call(this)||this).mCurMoveEffect=null,t.BulletRecord=null,t.mTargetChar=null,t}t(i,e),i.CreateSelf=function(){return new i};var l=i.prototype;return l.InitBindObj=function(e,t,i,l){this.mOwnerSkillInst=e,this.mOwerChar=this.mOwnerSkillInst.OwnerChar,this.BulletRecord=t,this.mCurMoveEffect=i,this.mTargetChar=l,i.PropEffectColFunc=this._OnSkillCollider,this._OnInitFinish()},l.OnBulletFlyTargetPos=function(){if(null!=this.BulletRecord.TriggerEffect){if(null!=this.mTargetChar)for(var e=0;e<this.BulletRecord.TriggerEffect.length;e++)n.emit(r.SKILL_EFFECT_DO_EFFECT_TO_CHARACTER,this.BulletRecord.TriggerEffect[e],this.mOwnerSkillInst,this.mTargetChar);else{this.mOwnerSkillInst.RecalculateTarget();for(var t=0;t<this.BulletRecord.TriggerEffect.length;t++)n.emit(r.SKILL_EFFECT_DO_EFFECT,this.mOwnerSkillInst,this.BulletRecord.TriggerEffect[t])}if(0!==this.BulletRecord.TargetPosEffect){var i=s.instance.CreateEffect(this.BulletRecord.TargetPosEffect);null!=i&&(i.Position=this.mCurMoveEffect.Position,null==i.PropEffectMoveMode&&(i.PropEffectMoveMode=new c))}}s.instance.RemoveEffect(this.mCurMoveEffect),this.mOwnerSkillInst.RemoveBindObj(this)},i}(o))||f);i._RF.pop()}}}));

System.register("chunks:///_virtual/skill.bind.obj.persist.ts",["./rollupPluginModLoBabelHelpers.js","cc","./event.dispatcher.ts","./event.name.ts","./timer.tick.ts","./effect.system.ts","./enum.effect.define.ts","./skill.bind.obj.base.ts"],(function(e){"use strict";var i,t,r,s,n,c,f,l,o;return{setters:[function(e){i=e.inheritsLoose},function(e){t=e.cclegacy,r=e._decorator},function(e){s=e.EventDispatcher},function(e){n=e.EventName},function(e){c=e.TimerTick},function(e){f=e.EffectSystem},function(e){l=e.EEffectType},function(e){o=e.SkillBindObjBase}],execute:function(){var h;t._RF.push({},"b0b5fDbscVNv4dgM8qzYAML","skill.bind.obj.persist",void 0);var m=r.ccclass;e("SkillBindObjPersist",m("SkillBindObjPersist")(h=function(e){function t(){var i;return(i=e.call(this)||this).PersistRecord=null,i.TriggerTimes=0,i.mPersistTimerID=0,i}i(t,e),t.CreateSelf=function(){return new t};var r=t.prototype;return r.InitBindObj=function(e,i){this.mOwnerSkillInst=e,this.mOwerChar=this.mOwnerSkillInst.OwnerChar,this.PersistRecord=i,this._OnInitFinish()},r.StartBindEffect=function(){if(0!==this.PersistRecord.HangEffectID){var e=f.instance.CreateEffect(this.PersistRecord.HangEffectID);if(e.PropEffectType===l.Mount){null!=e&&e.SetMountCharacter(this.mOwerChar)}e.PropOwnerSkillInst=this.mOwnerSkillInst}this.mPersistTimerID=c.AddTimer(0,this.PersistRecord.TriggerTimeBlank,this._TriggerEffect,this)},r.ClearBindEffect=function(){0!==this.mPersistTimerID&&(c.DelTimer(this.mPersistTimerID),this.mPersistTimerID=0)},r._TriggerEffect=function(){if(1===this.PersistRecord.NeedReCalTarget&&this.mOwnerSkillInst.RecalculateTarget(),null!=this.PersistRecord.TriggerEffectArray)for(var e=0;e<this.PersistRecord.TriggerEffectArray.length;e++)s.emit(n.SKILL_EFFECT_DO_EFFECT,this.mOwnerSkillInst,this.PersistRecord.TriggerEffectArray[e]);this.TriggerTimes+=1,this.PersistRecord.TriggerTimes<=this.TriggerTimes&&(0!==this.mPersistTimerID&&(c.DelTimer(this.mPersistTimerID),this.mPersistTimerID=0),this.mOwnerSkillInst.RemoveBindObj(this))},t}(o))||h);t._RF.pop()}}}));

System.register("chunks:///_virtual/skill.container.ts",["./rollupPluginModLoBabelHelpers.js","cc","./timer.tick.ts","./skill.data.manager.ts","./role.status.define.ts"],(function(l){"use strict";var t,i,n,e,s,r;return{setters:[function(l){t=l.createClass},function(l){i=l.cclegacy,n=l._decorator},function(l){e=l.TimerTick},function(l){s=l.SkillDataManager},function(l){r=l.ERoleStatus}],execute:function(){var o;i._RF.push({},"963ceHDbFhKXKHTMTMrDnI+","skill.container",void 0);var k=n.ccclass;l("SkillContainer",k("SkillContainer")(o=function(){function l(l){this.mSkillOwner=null,this.mNeedDelSkillInst=new Array,this.mAllSkillInstDic=new Map,this.mCurUseMaxInstID=0,this.mSkillLockTimer=0,this.mSkillOwner=l}var i=l.prototype;return i._GetNewInstID=function(){return this.mCurUseMaxInstID++,0===this.mCurUseMaxInstID&&(this.mCurUseMaxInstID=1),this.mCurUseMaxInstID},i.UpdateSkill=function(l){null!=this.mSkillOwner&&this._UpdateAllSkillInst(l)},i._UpdateAllSkillInst=function(l){var t=this;this.mAllSkillInstDic.forEach((function(i){var n=i;n.UpdateInst(l),n.IsNeedToDel&&t.mNeedDelSkillInst.push(n)}));for(var i=0;i<this.mNeedDelSkillInst.length;++i)this._RemoveInst(this.mNeedDelSkillInst[i]);this.mNeedDelSkillInst.splice(0,this.mNeedDelSkillInst.length)},i.ClearAllSkill=function(){this.mAllSkillInstDic.forEach((function(l){l.ClearAllSkillData()})),this.mAllSkillInstDic.clear(),this.mNeedDelSkillInst.splice(0,this.mNeedDelSkillInst.length),this.mCurUseMaxInstID=0,0!==this.mSkillLockTimer&&e.DelTimer(this.mSkillLockTimer)},i.InterruptAllUsingSkill=function(){this.mAllSkillInstDic.forEach((function(l){l.InterruptSkill()}))},i._AddInst=function(l){this.mAllSkillInstDic.has(l.InstID)||this.mAllSkillInstDic.set(l.InstID,l)},i._RemoveInst=function(l){this.mAllSkillInstDic.has(l.InstID)&&(this.mAllSkillInstDic.delete(l.InstID),s.instance.PutSkillInstToPool(l))},i.LockUsingSkill=function(){this.mSkillOwner.PropRoleStateContainer.SetState(r.InDoingSkill)},i.UnlockUsingSkill=function(){this.mSkillLockTimer=0,this.mSkillOwner.PropRoleStateContainer.UnsetState(r.InDoingSkill)},i.IsCanUseSkill=function(l){return!this.mSkillOwner.IsDead&&(!this.mSkillOwner.PropRoleStateContainer.IsSetState(r.InDoingSkill)&&(!this.IsSkillInCD(l)&&!!this.IsHasEnoughMp(l)))},i.IsSkillInCD=function(l){return!1},i.IsHasEnoughMp=function(l){return!0},i.UseSkill=function(l,t,i,n){if(void 0===i&&(i=1),void 0===n&&(n=!1),n&&(this.InterruptAllUsingSkill(),0!==this.mSkillLockTimer&&(e.DelTimer(this.mSkillLockTimer),this.mSkillLockTimer=0),this.mSkillOwner.PropRoleStateContainer.UnsetState(r.InDoingSkill)),!this.IsCanUseSkill(l))return!1;var o=s.instance.GetSkillInstFromPool();return o.InitInst(this._GetNewInstID(),this.mSkillOwner,l,t,i),o.StartSkill(),this._AddInst(o),o.SkillRecord.LockTime>0&&(this.LockUsingSkill(),this.mSkillLockTimer=e.AddTimer(o.SkillRecord.LockTime,0,this.UnlockUsingSkill,this)),this.mSkillOwner.OnStartUseSkill(),!0},t(l,[{key:"PropOwner",get:function(){return this.mSkillOwner}}]),l}())||o);i._RF.pop()}}}));

System.register("chunks:///_virtual/skill.data.manager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./event.dispatcher.ts","./event.name.ts","./base.manager.ts","./skill.instance.ts","./skill.effect.utility.ts"],(function(t){"use strict";var n,e,l,i,s,a,o,c,r;return{setters:[function(t){n=t.inheritsLoose,e=t.createClass},function(t){l=t.cclegacy,i=t._decorator},function(t){s=t.EventDispatcher},function(t){a=t.EventName},function(t){o=t.BaseManager},function(t){c=t.SkillInstance},function(t){r=t.SkillEffectUtility}],execute:function(){var u,f;l._RF.push({},"e810bbXwzhNca7jI9c1XA81","skill.data.manager",void 0);var h=i.ccclass;t("SkillDataManager",h("SkillDataManager")(((f=function(t){function l(){for(var n,e=arguments.length,l=new Array(e),i=0;i<e;i++)l[i]=arguments[i];return(n=t.call.apply(t,[this].concat(l))||this).mSkillInstPool=void 0,n}n(l,t);var i=l.prototype;return i.initManger=function(){t.prototype.initManger.call(this),this.mSkillInstPool=new Array},i.addAllManagerEvents=function(){t.prototype.addAllManagerEvents.call(this),s.on(a.PRELOAD_FINISH_ALL,this._EventAllTextLoadFinish,this)},i.removeAllManagerEvents=function(){t.prototype.removeAllManagerEvents.call(this),s.off(a.PRELOAD_FINISH_ALL,this._EventAllTextLoadFinish,this)},i._EventAllTextLoadFinish=function(){r.LoadAllSkillEffectData()},i._OnGetSkillInst=function(t){},i._OnReleaseSkillInst=function(t){t.ResetInst()},i.GetSkillInstFromPool=function(){var t=new c;return this.mSkillInstPool.push(t),t},i.PutSkillInstToPool=function(t){t.ResetInst();var n=this.mSkillInstPool.indexOf(t);this.mSkillInstPool.splice(n,1),t=null},e(l,null,[{key:"instance",get:function(){return null==this._instance&&(this._instance=new l),this._instance}}]),l}(o))._instance=null,u=f))||u);l._RF.pop()}}}));

System.register("chunks:///_virtual/skill.effect.data.action.ts",["cc","./table.helper.ts","./skill.bind.obj.action.ts"],(function(t){"use strict";var c,i,e,n;return{setters:[function(t){c=t.cclegacy,i=t._decorator},function(t){e=t.TableHelper},function(t){n=t.SkillBindObjAction}],execute:function(){var o;c._RF.push({},"d4deepOYUhCdILFa8SsVEw7","skill.effect.data.action",void 0);var l=i.ccclass;t("SkillEffectDataAction",l("SkillEffectDataAction")(o=function(){function t(){this.ActionRecord=null}var c=t.prototype;return c.InitData=function(t){var c=t.split("-");2===c.length&&(this.ActionRecord=e.getSkillEffectAction(c[1]))},c.DoEffectAll=function(t){n.CreateSelf().InitBindObj(t,this.ActionRecord)},t}())||o);c._RF.pop()}}}));

System.register("chunks:///_virtual/skill.effect.data.add.state.ts",["cc"],(function(t){"use strict";var a,e;return{setters:[function(t){a=t.cclegacy,e=t._decorator}],execute:function(){var r;a._RF.push({},"281c5VfoBhBQKRcLYD596Jl","skill.effect.data.add.state",void 0);var c=e.ccclass;t("SkillEffectDataAddState",c("SkillEffectDataAddState")(r=function(){function t(){this.AddStateID=0}var a=t.prototype;return a.InitData=function(t){var a=t.split("-");2===a.length&&(this.AddStateID=Number.parseInt(a[1]))},a.DoEffectAll=function(t){var a=t.GetAllAttackList();if(!(null==a||a.length<=0))for(var e=0;e<a.length;e++)if(null!=a[e]&&!a[e].IsDead){var r=a[e].PropStateContainer.AddState(this.AddStateID);null!=r&&r.SetStateSrcCharacter(t.OwnerChar)}},a.DoEffectToCharacter=function(t,a){var e=a.PropStateContainer.AddState(this.AddStateID);null!=e&&e.SetStateSrcCharacter(t.OwnerChar)},t}())||r);a._RF.pop()}}}));

System.register("chunks:///_virtual/skill.effect.data.bullet.ts",["cc","./table.helper.ts","./effect.system.ts","./effect.move.line.ts","./effect.move.parabola.ts","./effect.move.static.ts","./skill.bind.obj.bullet.ts"],(function(e){"use strict";var t,l,i,o,a,r,n,f,c,s;return{setters:[function(e){t=e.cclegacy,l=e._decorator,i=e.v3,o=e.Vec3},function(e){a=e.TableHelper},function(e){r=e.EffectSystem},function(e){n=e.EffectMoveLine},function(e){f=e.EffectMoveParabola},function(e){c=e.EffectMoveStatic},function(e){s=e.SkillBindObjBullet}],execute:function(){var u;e("ETrailShape",void 0),t._RF.push({},"9ad210IES9Kfa0sLQlctvvg","skill.effect.data.bullet",void 0);var d,v=l.ccclass;!function(e){e[e.EType_None=0]="EType_None",e[e.EType_StraightLine=1]="EType_StraightLine",e[e.EType_Parabola=2]="EType_Parabola"}(d||(d=e("ETrailShape",{})));e("SkillEffectDataBullet",v("SkillEffectDataBullet")(u=function(){function e(){this.BulletRecord=null}var t=e.prototype;return t.InitData=function(e){var t=e.split("-");2===t.length&&(this.BulletRecord=a.getSkillEffectBullet(t[1]))},t.DoEffectAll=function(e){var t=null,l=i(),a=i(),u=0;if(0===this.BulletRecord.TargetPosMode){var v=e.GetAllAttackList();if(null==v||v.length<=0)return;if(null==(t=v[0]))return;l=e.OwnerChar.Position,a=t.Position,u=e.OwnerChar.FightSimulator.FightSpeed}else if(1!==this.BulletRecord.TargetPosMode)return;var p=r.instance.CreateEffect(this.BulletRecord.FlyEffectID);if(null!=p){var E=i(l.x,l.y,0),h=i(a.x,a.y,0),S=i();if(S=o.subtract(S,h,E),p.Position=E,p.SetStartPos(E),p.SetEndPos(h),p.CalDealDir(),null==p.PropEffectMoveMode)if(this.BulletRecord.FlyMode===d.EType_Parabola){var M=0;M=E.x-h.x>=0?1.5:-1.5,h.x=h.x+M,p.SetEndPos(h);var y=new f;y.MoveSpeed=this.BulletRecord.FlySpeed*u,y.MoveDir=S.normalize(),y.MaxMoveDis=Math.abs(E.x-h.x),y.FlyHeight=.3,y.StartPos=E,y.EndPos=h,y.InitParam(),p.PropEffectMoveMode=y}else if(this.BulletRecord.FlyMode===d.EType_StraightLine){var P=new n;P.MoveSpeed=2e3*u,P.MoveDir=S.normalize(),P.FlyHeight=1,P.MaxMoveDis=this.BulletRecord.FlyRange,p.PropEffectMoveMode=P}else p.PropEffectMoveMode=new c}var b=s.CreateSelf();b.InitBindObj(e,this.BulletRecord,p,t),p.PropSkillBindObj=b},e}())||u);t._RF.pop()}}}));

System.register("chunks:///_virtual/skill.effect.data.hit.value.ts",["cc","./event.dispatcher.ts","./event.name.ts","./enum.skill.define.ts","./table.helper.ts","./enum.fight.define.ts"],(function(e){"use strict";var t,i,a,l,c,f,n;return{setters:[function(e){t=e.cclegacy,i=e._decorator},function(e){a=e.EventDispatcher},function(e){l=e.EventName},function(e){c=e.ESkillType},function(e){f=e.TableHelper},function(e){n=e.EFightEventType}],execute:function(){var r;t._RF.push({},"3c74eBVEq5NLIMHzEWHhohd","skill.effect.data.hit.value",void 0);var s=i.ccclass;e("SkillEffectDataHitValue",s("SkillEffectDataHitValue")(r=function(){function e(){this.HitValueRecord=null}var t=e.prototype;return t.InitData=function(e){var t=e.split("-");2===t.length&&(this.HitValueRecord=f.getSkillEffectHitValue(t[1]))},t.DoEffectAll=function(e){var t=e.OwnerChar,i=e.OwnerChar.FightEvent;if(null!=i){var r=e.GetAllAttackList();if(!(null==r||r.length<=0))for(var s=0;s<r.length;s++){var u=r[s];if(!u.IsDead){if(i.event===n.Attack)i.attack.isHit?(0!==i.attack.beHitUseSkill1&&u.OnSkillShow(i.attack.beHitUseSkill1),0!==i.attack.beHitUseSkill2&&u.OnSkillShow(i.attack.beHitUseSkill2),0!==this.HitValueRecord.BeHitEffectID&&u.AddBeHitEffect(this.HitValueRecord.BeHitEffectID),i.attack.isCritical?u.OnBeHit_CritDamage(i.attack.damageValue,t):u.OnBeHit_CommonDamage(i.attack.damageValue,t)):u.OnBeHit_Dodge(),i.attack.vampireValue>0&&t.OnBeHit_CommonCure(i.attack.vampireValue);else if(i.event===n.Skill){var H=f.getSimpleSkill(i.skill.skillID);null!=H&&H.skillType===c.ZhanSha&&(0!==this.HitValueRecord.BeHitEffectID&&u.AddBeHitEffect(this.HitValueRecord.BeHitEffectID),u.OnBeKill())}""!==this.HitValueRecord.TriggerKillEffect&&u.IsDead&&a.emit(l.SKILL_EFFECT_DO_EFFECT,e,this.HitValueRecord.TriggerKillEffect)}}}},t.DoEffectByState=function(e){var t=e.OwnerCharacter,i=t.FightEvent;if(null!=i&&!t.IsDead){if(i.event===n.Attack)i.attack.isHit?(0!==this.HitValueRecord.BeHitEffectID&&t.AddBeHitEffect(this.HitValueRecord.BeHitEffectID),i.attack.isCritical?t.OnBeHit_CritDamage(i.attack.damageValue,null):t.OnBeHit_CommonDamage(i.attack.damageValue,null)):t.OnBeHit_Dodge();else if(i.event===n.Skill){var r=f.getSimpleSkill(i.skill.skillID);null!=r&&r.skillType===c.ZhanSha&&(0!==this.HitValueRecord.BeHitEffectID&&t.AddBeHitEffect(this.HitValueRecord.BeHitEffectID),t.OnBeKill())}""!==this.HitValueRecord.TriggerKillEffect&&t.IsDead&&a.emit(l.SKILL_EFFECT_DO_EFFECT_BY_STATE,e,this.HitValueRecord.TriggerKillEffect)}},t.DoEffectToCharacter=function(e,t){if(null!=t&&!t.IsDead){var i=e.OwnerChar;if(null!=i){var r=e.OwnerChar.FightEvent;if(null!=r){if(r.event===n.Attack)r.attack.isHit?(0!==r.attack.beHitUseSkill1&&t.OnSkillShow(r.attack.beHitUseSkill1),0!==r.attack.beHitUseSkill2&&t.OnSkillShow(r.attack.beHitUseSkill2),0!==this.HitValueRecord.BeHitEffectID&&t.AddBeHitEffect(this.HitValueRecord.BeHitEffectID),r.attack.isCritical?t.OnBeHit_CritDamage(r.attack.damageValue,i):t.OnBeHit_CommonDamage(r.attack.damageValue,i)):t.OnBeHit_Dodge(),r.attack.vampireValue>0&&i.OnBeHit_CommonCure(r.attack.vampireValue);else if(r.event===n.Skill){var s=f.getSimpleSkill(r.skill.skillID);null!=s&&s.skillType===c.ZhanSha&&(0!==this.HitValueRecord.BeHitEffectID&&t.AddBeHitEffect(this.HitValueRecord.BeHitEffectID),t.OnBeKill())}""!==this.HitValueRecord.TriggerKillEffect&&t.IsDead&&a.emit(l.SKILL_EFFECT_DO_EFFECT,e,this.HitValueRecord.TriggerKillEffect)}}}},t.DoEffectToCharacterByState=function(e,t){var i=t,r=i.FightEvent;if(null!=r&&!i.IsDead){if(r.event===n.Attack)r.attack.isHit?(0!==this.HitValueRecord.BeHitEffectID&&i.AddBeHitEffect(this.HitValueRecord.BeHitEffectID),r.attack.isCritical?i.OnBeHit_CritDamage(r.attack.damageValue,null):i.OnBeHit_CommonDamage(r.attack.damageValue,null)):i.OnBeHit_Dodge();else if(r.event===n.Skill){var s=f.getSimpleSkill(r.skill.skillID);null!=s&&s.skillType===c.ZhanSha&&(0!==this.HitValueRecord.BeHitEffectID&&i.AddBeHitEffect(this.HitValueRecord.BeHitEffectID),i.OnBeKill())}""!==this.HitValueRecord.TriggerKillEffect&&i.IsDead&&a.emit(l.SKILL_EFFECT_DO_EFFECT_BY_STATE,e,this.HitValueRecord.TriggerKillEffect)}},e}())||r);t._RF.pop()}}}));

System.register("chunks:///_virtual/skill.effect.data.persist.ts",["cc","./table.helper.ts","./skill.bind.obj.persist.ts"],(function(t){"use strict";var e,s,i,r;return{setters:[function(t){e=t.cclegacy,s=t._decorator},function(t){i=t.TableHelper},function(t){r=t.SkillBindObjPersist}],execute:function(){var c;e._RF.push({},"f61b1oqtTRFPqIPQRIZ2VRH","skill.effect.data.persist",void 0);var l=s.ccclass;t("SkillEffectDataPersist",l("SkillEffectDataPersist")(c=function(){function t(){this.PersistRecord=null}var e=t.prototype;return e.InitData=function(t){var e=t.split("-");2===e.length&&(this.PersistRecord=i.getSkillEffectPersist(e[1]))},e.DoEffectAll=function(t){r.CreateSelf().InitBindObj(t,this.PersistRecord)},t}())||c);e._RF.pop()}}}));

System.register("chunks:///_virtual/skill.effect.interface.ts",["cc"],(function(){"use strict";var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"4570bBoRSRG0bw4kVyWTkNc","skill.effect.interface",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/skill.effect.utility.ts",["cc","./event.dispatcher.ts","./event.name.ts","./enum.skill.define.ts","./table.manager.ts","./skill.effect.data.action.ts","./skill.effect.data.add.state.ts","./skill.effect.data.bullet.ts","./skill.effect.data.hit.value.ts","./skill.effect.data.persist.ts"],(function(t){"use strict";var e,f,l,i,c,a,s,r,n,E,o;return{setters:[function(t){e=t.cclegacy,f=t._decorator},function(t){l=t.EventDispatcher},function(t){i=t.EventName},function(t){c=t.ESkillEffectType},function(t){a=t.TableManager},function(t){s=t.SkillEffectDataAction},function(t){r=t.SkillEffectDataAddState},function(t){n=t.SkillEffectDataBullet},function(t){E=t.SkillEffectDataHitValue},function(t){o=t.SkillEffectDataPersist}],execute:function(){var S,u;e._RF.push({},"7983a2H4RRPrYaHGnDtmp1c","skill.effect.utility",void 0);var k=f.ccclass;t("SkillEffectUtility",k("SkillEffectUtility")(((u=function(){function t(){}return t.InitSkillEffectMgr=function(){this.sSkillTypeDic.set("动作",c.Action),this.sSkillTypeDic.set("伤害",c.HitValue),this.sSkillTypeDic.set("子弹",c.Bullet),this.sSkillTypeDic.set("持续施法",c.Persist),this.sSkillTypeDic.set("加状态",c.AddBuff),l.on(i.SKILL_EFFECT_DO_EFFECT,this.DoEffect,this),l.on(i.SKILL_EFFECT_DO_EFFECT_BY_STATE,this.DoEffectByState,this),l.on(i.SKILL_EFFECT_DO_EFFECT_TO_CHARACTER_BY_STATE,this.DoEffectToCharacterByState,this),l.on(i.SKILL_EFFECT_DO_EFFECT_TO_CHARACTER,this.DoEffectToCharacter,this)},t.LoadAllSkillEffectData=function(){for(var t=a.instance.tableSkill.AllSkillArray,e=t.length,f=0;f<e;++f){var l=t[f];if(""!==l.SkillAction&&this.ParseEffectStrToClass(l.SkillAction),null!=l.SkillEffectArray)for(var i=0;i<l.SkillEffectArray.length;i++)this.ParseEffectStrToClass(l.SkillEffectArray[i])}for(var c=a.instance.tableSkillEffectBullet.AllSkillEffectBulletArray,s=c.length,r=0;r<s;++r){var n=c[r];if(null!=n.TriggerEffect)for(var E=0;E<n.TriggerEffect.length;E++)this.ParseEffectStrToClass(n.TriggerEffect[E])}for(var o=a.instance.tableSkillEffectPersist.AllSkillEffectPersistArray,S=o.length,u=0;u<S;++u){var k=o[u];if(null!=k.TriggerEffectArray)for(var h=0;h<k.TriggerEffectArray.length;h++)this.ParseEffectStrToClass(k.TriggerEffectArray[h])}},t.GetSkillEffectType=function(t){return this.sSkillTypeDic.has(t)?this.sSkillTypeDic.get(t):c.None},t.GetSkillEffectByString=function(t){var e=null;switch(this.GetSkillEffectType(t)){case c.Action:e=new s;break;case c.HitValue:e=new E;break;case c.Bullet:e=new n;break;case c.Persist:e=new o;break;case c.AddBuff:e=new r}return e},t.TryGetSkillEffect=function(t){return this.sSkillEffectDic.has(t)||this.ParseEffectStrToClass(t),this.sSkillEffectDic.get(t)},t.DoEffect=function(t,e){if(""!==e){var f=this.TryGetSkillEffect(e);null!=f&&f.DoEffectAll&&f.DoEffectAll(t)}},t.DoEffectByState=function(t,e){if(""!==e){var f=this.TryGetSkillEffect(e);null!=f&&f.DoEffectByState&&f.DoEffectByState(t)}},t.DoEffectToCharacterByState=function(t,e,f){if(""!==t){var l=this.TryGetSkillEffect(t);null!=l&&l.DoEffectToCharacterByState&&l.DoEffectToCharacterByState(e,f)}},t.DoEffectToCharacter=function(t,e,f){if(""!==t){var l=this.TryGetSkillEffect(t);null!=l&&l.DoEffectToCharacter&&l.DoEffectToCharacter(e,f)}},t.ParseEffectStrToClass=function(t){if(!this.sSkillEffectDic.has(t)){var e=t.split("-"),f=this.GetSkillEffectByString(e[0]);null!=f&&(f.InitData(t),this.sSkillEffectDic.set(t,f))}},t}()).sSkillTypeDic=new Map,u.sSkillEffectDic=new Map,S=u))||S);e._RF.pop()}}}));

System.register("chunks:///_virtual/skill.instance.ts",["./rollupPluginModLoBabelHelpers.js","cc","./event.dispatcher.ts","./event.name.ts","./timer.tick.ts","./table.helper.ts","./skill.bind.obj.base.ts","./skill.target.manager.ts"],(function(i){"use strict";var t,l,e,s,n,r,h,m,a;return{setters:[function(i){t=i.createClass},function(i){l=i.cclegacy,e=i._decorator},function(i){s=i.EventDispatcher},function(i){n=i.EventName},function(i){r=i.TimerTick},function(i){h=i.TableHelper},function(i){m=i.SkillBindObjBase},function(i){a=i.SkillTargetManager}],execute:function(){var c;l._RF.push({},"dbb75w4lc9O94AL3ss1GyG4","skill.instance",void 0);var S=e.ccclass;i("SkillInstance",S("SkillInstance")(c=function(){function i(){this.mSkillInstID=0,this.mSkillDataID=0,this.mSkillRecord=null,this.mIsActive=!1,this.mIsNeedToDel=!1,this.mIsGenEffect=!1,this.mOwner=null,this.mTargetChar=null,this.mTargetList=null,this.mAllSkillBindObjList=new Array,this.mIsPlaying=!1,this.mPlayedTime=0,this.mPlayedMaxTime=0,this.mStartTimer=0,this.mSkillSpeed=1}var l=i.prototype;return l.InitInst=function(i,t,l,e,s){this.mSkillInstID=i,this.mOwner=t,this.mSkillDataID=l,this.mTargetChar=e,this.mSkillSpeed=s,this.mSkillRecord=h.getSkillRecord(this.mSkillDataID),this.mPlayedMaxTime=this.GetRealSkillTime(this.mSkillRecord.SkillLastTime),this.mIsGenEffect=!1,this.mIsNeedToDel=!1,this.mIsPlaying=!1,this.mPlayedTime=0,""===this.mSkillRecord.SkillTarget&&(this.mTargetList=new Array,this.mTargetList.push(this.mTargetChar)),this.mAllSkillBindObjList.splice(0,this.mAllSkillBindObjList.length)},l.ResetInst=function(){this.mSkillInstID=0,this.mSkillDataID=0,this.mSkillRecord=null,this.mIsActive=!0,this.mIsGenEffect=!1,this.mIsPlaying=!1,this.mPlayedTime=0,this.mIsNeedToDel=!1,this.mTargetList=null},l.UpdateInst=function(i){if(this.mIsPlaying){if(this.mPlayedTime+=1e3*i,this.mPlayedTime>this.mPlayedMaxTime)return void this.EndSkill();for(var t=0;t<this.mAllSkillBindObjList.length;t++)this.mAllSkillBindObjList[t].UpdateBindObj()}},l.GetRealSkillTime=function(i){return Math.round(i/this.mSkillSpeed)},l.GetRealSkillSpeed=function(){return this.mSkillSpeed},l.StartSkill=function(){this.mIsPlaying=!0,this.mPlayedTime=0,s.emit(n.SKILL_EFFECT_DO_EFFECT,this,this.mSkillRecord.SkillAction),this.mStartTimer=r.AddTimer(this.GetRealSkillTime(this.mSkillRecord.DelayEffectTime),0,this._StartEffect,this)},l.EndSkill=function(){this.mIsNeedToDel=!0,this.mIsPlaying=!1,0!==this.mStartTimer&&(r.DelTimer(this.mStartTimer),this.mStartTimer=0);for(var i=0;i<this.mAllSkillBindObjList.length;i++)this.mAllSkillBindObjList[i].EndBindEffect();this.mAllSkillBindObjList.splice(0,this.mAllSkillBindObjList.length),this.OwnerChar.OnFinishUseSkill()},l.InterruptSkill=function(){this.mIsNeedToDel=!0,this.mIsPlaying=!1,0!==this.mStartTimer&&(r.DelTimer(this.mStartTimer),this.mStartTimer=0);for(var i=0;i<this.mAllSkillBindObjList.length;i++)this.mAllSkillBindObjList[i].InterruptBindEffect();this.OwnerChar.OnFinishUseSkill()},l.ClearAllSkillData=function(){this.mIsNeedToDel=!0,this.mIsPlaying=!1;for(var i=0;i<this.mAllSkillBindObjList.length;i++)this.mAllSkillBindObjList[i].ClearBindEffect();this.mAllSkillBindObjList.splice(0,this.mAllSkillBindObjList.length)},l.IsHasBindObj=function(i){return this.mAllSkillBindObjList.indexOf(i)>=0},l.AddBindObj=function(i){this.IsHasBindObj(i)||this.mAllSkillBindObjList.push(i)},l.RemoveBindObj=function(i){if(this.IsHasBindObj(i)){m.DestroySelf(i);var t=this.mAllSkillBindObjList.indexOf(i);t>-1&&this.mAllSkillBindObjList.splice(t,1)}},l.RecalculateTarget=function(){null!=this.mSkillRecord&&""!==this.mSkillRecord.SkillTarget&&(this.mTargetList=a.GetSkillTargetList(this,this.mSkillRecord.SkillTarget))},l.GetAllAttackList=function(){return this.mTargetList},l._StartEffect=function(){if(this.IsGenEffect=!0,this.mStartTimer=0,null!=this.mSkillRecord){null==this.mTargetList&&(this.mTargetList=a.GetSkillTargetList(this,this.mSkillRecord.SkillTarget));for(var i=0;i<this.mSkillRecord.SkillEffectArray.length;i++)s.emit(n.SKILL_EFFECT_DO_EFFECT,this,this.mSkillRecord.SkillEffectArray[i])}},t(i,[{key:"IsGenEffect",get:function(){return this.mIsGenEffect},set:function(i){this.mIsGenEffect=i}},{key:"IsNeedToDel",get:function(){return this.mIsNeedToDel},set:function(i){this.mIsNeedToDel=i}},{key:"TargetCharID",get:function(){return this.mTargetChar.RealID}},{key:"SkillRecord",get:function(){return this.mSkillRecord}},{key:"InstID",get:function(){return this.mSkillInstID}},{key:"OwnerChar",get:function(){return this.mOwner}}]),i}())||c);l._RF.pop()}}}));

System.register("chunks:///_virtual/skill.target.data.ts",["cc","./enum.skill.define.ts"],(function(t){"use strict";var e,r,i,a;return{setters:[function(t){e=t.cclegacy,r=t._decorator},function(t){i=t.ESkillTargetType,a=t.ESkillTargetCondition}],execute:function(){var n;e._RF.push({},"d9719WYvg5FKJL3EEFclez+","skill.target.data",void 0);var s=r.ccclass;t("SkillTargetData",s("SkillTargetData")(n=function(){function t(){this.mTargetString="",this.mTargetType=i.None,this.mTargetNum=0,this.mCalDis=20,this.mConditionType=a.None}var e=t.prototype;return e.InitData=function(t){if(this.mTargetString=t,""!==t){var e=t.split("-");if(1===e.length){if(this.mTargetType=Number.parseInt(e[0]),this.mTargetType!==i.Self)return}else 3===e.length?(this.mTargetType=Number.parseInt(e[0]),this.mTargetNum=Number.parseInt(e[1]),this.mCalDis=.01*Number.parseFloat(e[2])):4===e.length&&(this.mTargetType=Number.parseInt(e[0]),this.mTargetNum=Number.parseInt(e[1]),this.mCalDis=.01*Number.parseFloat(e[2]),this.mConditionType=Number.parseInt(e[3]))}},e.GetCurAttackTargetList=function(t){return new Array},t}())||n);e._RF.pop()}}}));

System.register("chunks:///_virtual/skill.target.manager.ts",["cc","./skill.target.data.ts","./skill.target.order.data.ts"],(function(t){"use strict";var a,r,e,s;return{setters:[function(t){a=t.cclegacy,r=t._decorator},function(t){e=t.SkillTargetData},function(t){s=t.SkillTargetOrderData}],execute:function(){var i,n;a._RF.push({},"3abf795XU1DjJ5Y7m0sQ8oO","skill.target.manager",void 0);var l=r.ccclass;t("SkillTargetManager",l("SkillTargetManager")(((n=function(){function t(){}return t.TryGetSkillTargetData=function(t){return this.sTargetDataDic.has(t)||this.ParseSkillTargetDataStrToClass(t),this.sTargetDataDic.get(t)},t.TryGetSkillTargetOrder=function(t){return this.sTargetOrderDic.has(t)||this.ParseAttackOrderStrToClass(t),this.sTargetOrderDic.get(t)},t.ParseAttackOrderStrToClass=function(t){if(!this.sTargetOrderDic.has(t)){var a=new s;null!=a&&(a.InitAttackOrder(t),this.sTargetOrderDic.set(t,a))}},t.ParseSkillTargetDataStrToClass=function(t){if(!this.sTargetOrderDic.has(t)){var a=new e;null!=a&&(a.InitData(t),this.sTargetDataDic.set(t,a))}},t.GetSkillTargetList=function(a,r){var e=t.TryGetSkillTargetData(r);return null!=e?e.GetCurAttackTargetList(a):null},t}()).sTargetOrderDic=new Map,n.sTargetDataDic=new Map,i=n))||i);a._RF.pop()}}}));

System.register("chunks:///_virtual/skill.target.order.data.ts",["cc"],(function(t){"use strict";var r,e;return{setters:[function(t){r=t.cclegacy,e=t._decorator}],execute:function(){var c;r._RF.push({},"bdecb+rIttF3KS+8jwKCKc8","skill.target.order.data",void 0);var a=e.ccclass;t("SkillTargetOrderData",a("SkillTargetOrderData")(c=function(){function t(){this.mAttackOrder=""}return t.prototype.InitAttackOrder=function(t){this.mAttackOrder=t},t}())||c);r._RF.pop()}}}));

System.register("chunks:///_virtual/sound.bg.data.ts",["./rollupPluginModLoBabelHelpers.js","cc","./sound.define.ts","./sound.unit.ts"],(function(t){"use strict";var i,s,a,n,e,o,h;return{setters:[function(t){i=t.inheritsLoose},function(t){s=t.cclegacy,a=t._decorator,n=t.Vec3,e=t.Component},function(t){o=t.ESoundType},function(t){h=t.SoundUnitData}],execute:function(){var r,m;s._RF.push({},"fc269ejo5VP1LZ4XrMWbaWv","sound.bg.data",void 0);var u=a.ccclass;t("SoundBgData",u("SoundBgData")(((m=function(t){function s(){for(var i,s=arguments.length,a=new Array(s),n=0;n<s;n++)a[n]=arguments[n];return(i=t.call.apply(t,[this].concat(a))||this).mBGMDataList=new Array,i.mRemoveList=new Array,i.mPlaying=!1,i}i(s,t);var a=s.prototype;return a.update=function(t){if(this.mPlaying){for(var i=0;i<this.mBGMDataList.length;++i){if(this.mBGMDataList[i].UpdateUnit(t),this.mBGMDataList[i].IsCanRemove()&&this.mRemoveList.push(this.mBGMDataList[i]),!this.mBGMDataList[i].PropIsStart&&!this.mBGMDataList[i].PropIsLoading){this.mBGMDataList[i].PlayUnit(this.node,0,s.sBgSoundMaxDis);break}if(this.mBGMDataList[i].IsCanPlayNext()&&i<this.mBGMDataList.length-1){this.mBGMDataList[i+1].PropIsStart||this.mBGMDataList[i+1].PlayUnit(this.node,this.mBGMDataList[i].GetRemainLength(),s.sBgSoundMaxDis);break}}this._UpdateRemoveList()}},a.onDestroy=function(){for(var t=0;t<this.mBGMDataList.length;++t)this.mBGMDataList[t].ClearSoundUnit(!0);this.mBGMDataList.splice(0,this.mBGMDataList.length)},a._GetSoundUnit=function(t){for(var i=0;i<this.mBGMDataList.length;++i)if(this.mBGMDataList[i].PropSoundPath===t)return this.mBGMDataList[i];return null},a._UpdateRemoveList=function(){if(this.mRemoveList.length>0){for(var t=0;t<this.mRemoveList.length;++t){this.mRemoveList[t].ClearSoundUnit(!0);for(var i=0;i<this.mBGMDataList.length;++i)if(this.mBGMDataList[i]===this.mRemoveList[t]){this.mBGMDataList.splice(i,1);break}}this.mRemoveList.splice(0,this.mRemoveList.length)}},a.PlaySound=function(t,i,s,a,n,e){this.mPlaying=!0;var r=this._GetSoundUnit(t);return null==r?(r=new h,this.mBGMDataList.push(r)):r.ClearSoundUnit(),r.InitUnitData(t,o.EST_Background,i,s,a,n,e),r.PropSoundID},a.PlayExclusive=function(t,i,s,a,e,o){return this.Stop(o),this.PlaySound(t,i,s,a,e,n.ZERO)},a.Pause=function(t){void 0===t&&(t=0);for(var i=0;i<this.mBGMDataList.length;++i)this.mBGMDataList[i].PauseUnit(t);this.mPlaying=!1},a.Stop=function(t){void 0===t&&(t=0);for(var i=0;i<this.mBGMDataList.length;++i)this.mBGMDataList[i].PropIsStart?(this.mBGMDataList[i].PropIsStopping||this.mBGMDataList[i].StopUnit(t),this.mBGMDataList[i].PropIsStopped&&(this.mBGMDataList[i].ClearSoundUnit(),this.mBGMDataList.splice(i,1))):this.mRemoveList.push(this.mBGMDataList[i]);this._UpdateRemoveList(),this.mPlaying=!1},a.SetVolume=function(t){for(var i=0;i<this.mBGMDataList.length;++i)this.mBGMDataList[i].SetVolume(t)},a.Mute=function(t){void 0===t&&(t=0);for(var i=0;i<this.mBGMDataList.length;++i)this.mBGMDataList[i].MuteUnit(t)},s}(e)).sBgSoundMaxDis=1e3,r=m))||r);s._RF.pop()}}}));

System.register("chunks:///_virtual/sound.define.ts",["cc"],(function(e){"use strict";var n;return{setters:[function(e){n=e.cclegacy}],execute:function(){var u,o;e({EFadeOutOp:void 0,ESoundType:void 0}),n._RF.push({},"e4a1eMOaUtPlaDCDAnvIYJb","sound.define",void 0),function(e){e[e.EST_None=0]="EST_None",e[e.EST_Background=1]="EST_Background",e[e.EST_SFX=2]="EST_SFX",e[e.EST_UI=3]="EST_UI"}(u||(u=e("ESoundType",{}))),function(e){e[e.None=0]="None",e[e.Stop=1]="Stop",e[e.Pause=2]="Pause",e[e.Mute=3]="Mute"}(o||(o=e("EFadeOutOp",{})));e("sErrorSoundID",0);n._RF.pop()}}}));

System.register("chunks:///_virtual/sound.helper.ts",["cc","./table.helper.ts","./sound.system.ts"],(function(n){"use strict";var o,e,t,u;return{setters:[function(n){o=n.cclegacy,e=n._decorator},function(n){t=n.TableHelper},function(n){u=n.SoundSystem}],execute:function(){var s,i;o._RF.push({},"bd19dmRGBhJ477QFIAUMykf","sound.helper",void 0);var a=e.ccclass;n("SoundHelper",a("SoundHelper")(((i=function(){function n(){}return n.InitAllUIRecord=function(){this.mMusicMainBGRecord=t.getSoundRecord(10),this.mUICommonClickRecord=t.getSoundRecord(103),this.mUICommonCloseRecord=t.getSoundRecord(104),this.mUIGetItemRecord=t.getSoundRecord(109),this.mUIRoleUpgradeRecord=t.getSoundRecord(103),this.mUIGetAirDropRecord=t.getSoundRecord(201),this.mUIGetAirDropQuickRecord=t.getSoundRecord(202),this.mUIMajorUnlockLeafBookRecord=t.getSoundRecord(301),this.mUIMajorUnlockGetSkillRecord=t.getSoundRecord(302)},n.setCanPlaySound=function(){this.sIsCanPlaySoundAmount+=1,this.PlayMusic_MainBG()},n.PlayMusic_MainBG=function(){if(!(this.sIsCanPlaySoundAmount<1))return u.instance.PlayBGMExclusive(this.mMusicMainBGRecord.soundResName,1,0,0,1===this.mMusicMainBGRecord.soundLoop,0)},n.StopMusic_BG=function(){u.instance.StopBGM()},n.PlaySound_UICommonClick=function(){if(!(this.sIsCanPlaySoundAmount<2))return u.instance.PlayUISfxSound(this.mUICommonClickRecord.soundResName);this.sIsCanPlaySoundAmount+=1},n.PlaySound_UICommonClose=function(){if(!(this.sIsCanPlaySoundAmount<2))return u.instance.PlayUISfxSound(this.mUICommonCloseRecord.soundResName);this.sIsCanPlaySoundAmount+=1},n.PlaySound_GetItem=function(){if(!(this.sIsCanPlaySoundAmount<2))return u.instance.PlayUISfxSound(this.mUIGetItemRecord.soundResName);this.sIsCanPlaySoundAmount+=1},n.PlaySound_RoleUpgrade=function(){if(!(this.sIsCanPlaySoundAmount<2))return u.instance.PlayUISfxSound(this.mUIRoleUpgradeRecord.soundResName);this.sIsCanPlaySoundAmount+=1},n.PlaySound_GetAirDrop=function(){if(!(this.sIsCanPlaySoundAmount<2))return u.instance.PlayUISfxSound(this.mUIGetAirDropRecord.soundResName);this.sIsCanPlaySoundAmount+=1},n.PlaySound_GetAirDropQuick=function(){if(!(this.sIsCanPlaySoundAmount<2))return u.instance.PlayUISfxSound(this.mUIGetAirDropQuickRecord.soundResName);this.sIsCanPlaySoundAmount+=1},n.PlaySound_MajorUnlockLeafBook=function(){if(!(this.sIsCanPlaySoundAmount<2))return u.instance.PlayUISfxSound(this.mUIMajorUnlockLeafBookRecord.soundResName);this.sIsCanPlaySoundAmount+=1},n.PlaySound_MajorUnlockGetSkill=function(){if(!(this.sIsCanPlaySoundAmount<2))return u.instance.PlayUISfxSound(this.mUIMajorUnlockGetSkillRecord.soundResName);this.sIsCanPlaySoundAmount+=1},n.PlaySoundByID=function(n){if(!(this.sIsCanPlaySoundAmount<2)){var o=t.getSoundRecord(n);return u.instance.PlayUISfxSound(o.soundResName)}this.sIsCanPlaySoundAmount+=1},n.StopSoundByID=function(n){u.instance.StopSfxByID(n)},n}()).sIsCanPlaySoundAmount=0,i.mMusicMainBGRecord=null,i.mUICommonClickRecord=null,i.mUICommonCloseRecord=null,i.mUIGetItemRecord=null,i.mUIRoleUpgradeRecord=null,i.mUIGetAirDropRecord=null,i.mUIGetAirDropQuickRecord=null,i.mUIMajorUnlockLeafBookRecord=null,i.mUIMajorUnlockGetSkillRecord=null,s=i))||s);o._RF.pop()}}}));

System.register("chunks:///_virtual/sound.pool.ts",["./rollupPluginModLoBabelHelpers.js","cc","./resource.manager.ts","./sound.define.ts"],(function(o){"use strict";var i,t,e,u,n,s;return{setters:[function(o){i=o.createClass},function(o){t=o.cclegacy,e=o._decorator,u=o.error},function(o){n=o.ResourceManager},function(o){s=o.ESoundType}],execute:function(){var c,l;t._RF.push({},"6d665RQoSdKkb1maKiqTIIK","sound.pool",void 0);var a=e.ccclass;o("SoundPool",a("SoundPool")(((l=function(){function o(){this.mDicBgmAudioPool=new Map,this.mDicSfxAudioPool=new Map}var t=o.prototype;return t.GetAudioSource=function(o,i,t){var e=null;switch(i){case s.EST_Background:this.mDicBgmAudioPool.has(o)?(t&&t(this.mDicBgmAudioPool.get(o)),e=this.mDicBgmAudioPool.get(o)):this._LoadAudioClipRes(o,i,t);break;case s.EST_SFX:case s.EST_UI:this.mDicSfxAudioPool.has(o)?(t&&t(this.mDicSfxAudioPool.get(o)),e=this.mDicSfxAudioPool.get(o)):this._LoadAudioClipRes(o,i,t)}return e},t.RemoveAudioSource=function(o,i){i===s.EST_SFX||i===s.EST_UI?this.mDicSfxAudioPool.has(o)&&this.mDicSfxAudioPool.delete(o):i===s.EST_Background&&this.mDicBgmAudioPool.has(o)&&this.mDicBgmAudioPool.delete(o)},t.ClearAllPool=function(){this.mDicSfxAudioPool.clear(),this.mDicBgmAudioPool.clear()},t._LoadAudioClipRes=function(o,i,t){var e=this;n.instance.loadAudio(o,(function(n){if(null!=n){var c=n;null!=c?(t&&t(c),i===s.EST_SFX||i===s.EST_UI?e.mDicSfxAudioPool.has(o)||e.mDicSfxAudioPool.set(o,c):i===s.EST_Background&&(e.mDicBgmAudioPool.has(o)||e.mDicBgmAudioPool.set(o,c))):u("load AudioClip failed，path: "+o)}else u("AudioClip path not exist，path: "+o)}))},i(o,null,[{key:"instance",get:function(){return null==this._instance&&(this._instance=new o),this._instance}}]),o}())._instance=null,c=l))||c);t._RF.pop()}}}));

System.register("chunks:///_virtual/sound.sfx.data.ts",["./rollupPluginModLoBabelHelpers.js","cc","./sound.define.ts","./sound.unit.ts"],(function(t){"use strict";var i,s,a,o,n,e,f,r;return{setters:[function(t){i=t.inheritsLoose},function(t){s=t.cclegacy,a=t._decorator,o=t.log,n=t.Component},function(t){e=t.sErrorSoundID,f=t.ESoundType},function(t){r=t.SoundUnitData}],execute:function(){var S,h;s._RF.push({},"91f85dSH6xBFYXbKTRYAgsg","sound.sfx.data",void 0);var m=a.ccclass;t("SoundSFXData",m("SoundSFXData")(((h=function(t){function s(){for(var i,s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];return(i=t.call.apply(t,[this].concat(a))||this).mSfxDataList=new Array,i.mRemoveList=new Array,i.mSfxPoolList=new Array,i.mPlaying=!1,i}i(s,t);var a=s.prototype;return a.update=function(t){if(this.mPlaying){for(var i=0;i<this.mSfxDataList.length;++i)this.mSfxDataList[i].PropIsStart||this.mSfxDataList[i].PropIsLoading?(this.mSfxDataList[i].IsCanRemove()&&this.mRemoveList.push(this.mSfxDataList[i]),this.mSfxDataList[i].UpdateUnit(t)):this.mSfxDataList[i].PlayUnit(this.node,this.mSfxDataList[i].PropDelayTime);for(var s=0;s<this.mRemoveList.length;++s){this.mRemoveList[s].ClearSoundUnit(),this.mSfxPoolList.push(this.mRemoveList[s]);for(var a=0;a<this.mSfxDataList.length;++a)if(this.mSfxDataList[a]===this.mRemoveList[s]){this.mSfxDataList.splice(a,1);break}}this.mRemoveList.splice(0,this.mRemoveList.length)}},a.onDestroy=function(){this.StopAllSfx()},a._GetSoundUnitFromPool=function(){return this.mSfxPoolList.length>0?this.mSfxPoolList.pop():new r},a.PlaySound=function(t,i,s,a,n,r,S){if(void 0===S&&(S=0),!this._IsCanPlaySfx())return e;try{this.mPlaying=!0;var h=this._GetSoundUnitFromPool();return h.InitUnitData(t,f.EST_SFX,i,s,a,n,r,S),this.mSfxDataList.push(h),h.PropSoundID}catch(t){return o(t),e}},a.StopAllSfx=function(t){void 0===t&&(t=0);for(var i=0;i<this.mSfxDataList.length;++i)this.mSfxDataList[i].StopUnit(t);this.mPlaying=!1},a.StopByName=function(t,i){void 0===i&&(i=0);for(var s=0;s<this.mSfxDataList.length;++s)if(t===this.mSfxDataList[s].PropSoundName){this.mSfxDataList[s].StopUnit(i),this.mSfxDataList[s].PropIsStopped&&this.mSfxDataList.splice(s,1);break}},a.StopByID=function(t,i){if(t!==e)for(var s=0;s<this.mSfxDataList.length;++s)if(t===this.mSfxDataList[s].PropSoundID){this.mSfxDataList[s].StopUnit(i),this.mSfxDataList[s].PropIsStopped&&this.mSfxDataList.splice(s,1);break}},a.Pause=function(t){void 0===t&&(t=0);for(var i=0;i<this.mSfxDataList.length;++i)this.mSfxDataList[i].PauseUnit(t);this.mPlaying=!1},a.SetVolume=function(t){for(var i=0;i<this.mSfxDataList.length;++i)this.mSfxDataList[i].SetVolume(t)},a.Mute=function(t){void 0===t&&(t=0);for(var i=0;i<this.mSfxDataList.length;++i)this.mSfxDataList[i].MuteUnit(t)},a._IsCanPlaySfx=function(){return this.mSfxDataList.length<s.sMaxHasSfxNum},s}(n)).sMaxHasSfxNum=10,S=h))||S);s._RF.pop()}}}));

System.register("chunks:///_virtual/sound.system.ts",["./rollupPluginModLoBabelHelpers.js","cc","./event.dispatcher.ts","./event.name.ts","./base.system.ts","./sound.bg.data.ts","./sound.sfx.data.ts","./sound.define.ts","./sound.pool.ts"],(function(n){"use strict";var o,t,u,e,s,i,l,S,a,r,d,c,m,h;return{setters:[function(n){o=n.inheritsLoose,t=n.createClass},function(n){u=n.cclegacy,e=n._decorator,s=n.Node,i=n.director,l=n.Vec3},function(n){S=n.EventDispatcher},function(n){a=n.EventName},function(n){r=n.BaseSystem},function(n){d=n.SoundBgData},function(n){c=n.SoundSFXData},function(n){m=n.sErrorSoundID},function(n){h=n.SoundPool}],execute:function(){var f,g;u._RF.push({},"27f97a6qd1H+6pFZp1ADiZ/","sound.system",void 0);var M=e.ccclass;n("SoundSystem",M("SoundSystem")(((g=function(n){function u(){for(var o,t=arguments.length,u=new Array(t),e=0;e<t;e++)u[e]=arguments[e];return(o=n.call.apply(n,[this].concat(u))||this).mBgSoundMgr=null,o.mSfxSoundMgr=null,o.mSoundMgrObj=null,o.mCurBgmRecordID=0,o.mSoundEnable=!0,o.mSfxSoundEnable=!0,o.mCurUseGlobalSoundVolume=1,o.mCurUseGlobalMusicVolume=1,o}o(u,n);var e=u.prototype;return e.sysInitial=function(){n.prototype.sysInitial.call(this),this.mSoundMgrObj=new s("SoundMgr"),i.addPersistRootNode(this.mSoundMgrObj),this._initPlayer(this.mSoundMgrObj)},e.clearSysData=function(){n.prototype.clearSysData.call(this),this.StopSfx(),this.StopBGM(),h.instance.ClearAllPool()},e.addAllEvents=function(){n.prototype.addAllEvents.call(this),S.on(a.OPTION_MUSIC_VOLUME_CHANGED,this._onMusicVolumeChanged,this),S.on(a.OPTION_SOUND_VOLUME_CHANGED,this._onSoundVolumeChanged,this)},e.removeAllEvents=function(){n.prototype.removeAllEvents.call(this),S.off(a.OPTION_MUSIC_VOLUME_CHANGED,this._onMusicVolumeChanged,this),S.off(a.OPTION_SOUND_VOLUME_CHANGED,this._onSoundVolumeChanged,this)},e._onMusicVolumeChanged=function(n){this.mCurUseGlobalMusicVolume=n,this.SetBGMVolume(this.mCurUseGlobalMusicVolume)},e._onSoundVolumeChanged=function(n){this.mCurUseGlobalSoundVolume=n,this.SetSfxVolume(this.mCurUseGlobalSoundVolume)},e._initPlayer=function(n){var o=new s("BgSoundObj");o.setParent(n),this.mBgSoundMgr=o.addComponent(d);var t=new s("SfxSoundObj");t.setParent(n),this.mSfxSoundMgr=t.addComponent(c)},e.PlayBGMExclusive=function(n,o,t,u,e,s){return this.mSoundEnable&&null!==n&&""!==n?(o=this.mCurUseGlobalMusicVolume,this.mBgSoundMgr.PlayExclusive(n,o,t,u,e,s)):m},e.StopBGM=function(){null!=this.mBgSoundMgr&&this.mBgSoundMgr.Stop()},e.PauseBGM=function(){null!=this.mBgSoundMgr&&this.mBgSoundMgr.Pause()},e.SetBGMVolume=function(n){null!=this.mBgSoundMgr&&this.mBgSoundMgr.SetVolume(n)},e.PlayUISfxSound=function(n,o,t,u,e){return void 0===o&&(o=1),void 0===t&&(t=0),void 0===u&&(u=0),void 0===e&&(e=!1),this.mSfxSoundEnable&&null!==n&&""!==n?(o=this.mCurUseGlobalSoundVolume,this.mSfxSoundMgr.PlaySound(n,o,t,u,e,l.ZERO)):m},e.StopSfxByID=function(n,o){void 0===o&&(o=0),this.mSfxSoundMgr.StopByID(n,o)},e.StopSfxByName=function(n,o){void 0===o&&(o=0),this.mSfxSoundMgr.StopByName(n,o)},e.StopSfx=function(n){void 0===n&&(n=0),this.mSfxSoundMgr.StopAllSfx(n)},e.StopAllSound=function(){this.StopBGM(),this.StopSfx()},e.SetSfxVolume=function(n){null!=this.mSfxSoundMgr&&this.mSfxSoundMgr.SetVolume(n)},t(u,null,[{key:"instance",get:function(){return null==this._instance&&(this._instance=new u),this._instance}}]),u}(r))._instance=null,f=g))||f);u._RF.pop()}}}));

System.register("chunks:///_virtual/sound.unit.ts",["./rollupPluginModLoBabelHelpers.js","cc","./sound.define.ts","./sound.pool.ts"],(function(t){"use strict";var i,e,u,s,n,o,m,d;return{setters:[function(t){i=t.createClass},function(t){e=t.cclegacy,u=t._decorator,s=t.AudioSource,n=t.Vec3},function(t){o=t.EFadeOutOp,m=t.ESoundType},function(t){d=t.SoundPool}],execute:function(){var h,a;e._RF.push({},"5695dmvTHhKVaRiqsfsbGdk","sound.unit",void 0);var l=u.ccclass;t("SoundUnitData",l("SoundUnitData")(((a=function(){function t(){this.mClip=null,this.mAudio=null,this.mWorldPos=n.ZERO,this.mSoundID=t.sSoundIDCounter,this.mSoundType=m.EST_None,this.mSoundPath="",this.mSoundName="",this.mVolume=1,this.mDelayTime=0,this.mFadeInTime=0,this.mFadeOutTime=0,this.mLoop=!1,this.mIsLoading=!1,this.mIsInitMute=!1,this.mIsFadeOuting=!1,this.mFadeOutOp=o.None,this.mFading=!1,this.mFadeTime=0,this.mCurFadeTime=0,this.mPlayed=!1,this.mStopped=!1}var e=t.prototype;return e.InitUnitData=function(t,i,e,u,s,n,o,m,h){var a=this;void 0===m&&(m=0),void 0===h&&(h=!1),this.mSoundPath=t,this.mSoundType=i,this.mIsLoading=!0,this.mIsInitMute=h,this.mPlayed=!1,this.mStopped=!1,null==this.mClip&&d.instance.GetAudioSource(this.mSoundPath,this.mSoundType,(function(t){a._onClipLoaded(t)})),this._setPropDataData(e,u,s,n,o,m)},e._onClipLoaded=function(t){this.mClip=t,this.mIsLoading=!1},e._setPropDataData=function(i,e,u,s,n,o){0===t.sSoundIDCounter&&(t.sSoundIDCounter=1),this.mSoundID=t.sSoundIDCounter++,this.mVolume=i,this.mDelayTime=o,this.mFadeInTime=e,this.mFadeOutTime=u,this.mLoop=s},e.ClearSoundUnit=function(t){void 0===t&&(t=!1),t&&null!=this.mClip&&this.mSoundPath.length>0&&d.instance.RemoveAudioSource(this.mSoundPath,this.mSoundType),null!=this.mAudio&&this.mAudio.destroy(),this.mAudio=null,this.mClip=null,this.mVolume=1,this.mFadeInTime=0,this.mFadeOutTime=0,this.mLoop=!1,this.mCurFadeTime=0,this.mFading=!1,this.mFadeTime=0,this.mSoundName=""},e.UpdateUnit=function(t){null!=this.mClip&&null!=this.mAudio&&(this.mFading?this._UpdateFade(t):this.mFadeOutTime>0&&this.mAudio.currentTime>=this.mAudio.duration-this.mFadeOutTime&&this._StartFade(this.mFadeOutTime,!0))},e._StartFade=function(t,i){return!(t<=0)&&(this.mIsFadeOuting=i,this.mFading=!0,this.mFadeTime=t,this.mCurFadeTime=0,!0)},e._EndFade=function(){if(this.mIsFadeOuting)switch(this.mFadeOutOp){case o.Stop:this.StopUnit(0);break;case o.Pause:this.PauseUnit(0);break;case o.Mute:this.MuteUnit(0)}this.mFadeOutOp=o.None,this.mIsFadeOuting=!1,this.mFading=!1,this.mCurFadeTime=0,this.mFadeTime=0},e._UpdateFade=function(t){this.mAudio.playing&&(this.mCurFadeTime+=t,this.mCurFadeTime>=this.mFadeTime?(this.mIsFadeOuting?this.mAudio.volume=0:this.mAudio.volume=this.mVolume,this._EndFade()):null!=this.mAudio&&this.mAudio.playing?this.mIsFadeOuting?this.mAudio.volume=(this.mFadeTime-this.mCurFadeTime)/this.mFadeTime*this.mVolume:this.mAudio.volume=this.mCurFadeTime/this.mFadeTime*this.mVolume:this._EndFade())},e.PlayUnit=function(t,i,e,u){null!=t&&(this.mPlayed=!0,this.mAudio=t.addComponent(s),null!=this.mAudio&&(this.mAudio.node.position=this.mWorldPos,this.mAudio.clip=this.mClip,this.mAudio.loop=this.mLoop,this.mAudio.playOnAwake=!1,this.mFadeInTime>0?(this.mAudio.volume=0,this._StartFade(this.mFadeInTime,!1)):this.mAudio.volume=this.mVolume,this.mAudio.play()))},e.PauseUnit=function(t){this._StartFade(t,!0)?this.mFadeOutOp=o.Pause:this._PauseSelf()},e.StopUnit=function(t){this._StartFade(t,!0)?this.mFadeOutOp=o.Stop:this._StopSelf()},e.MuteUnit=function(t){this._StartFade(t,!0)?this.mFadeOutOp=o.Mute:this._MuteSelf()},e.NotMuteUnit=function(){this._NotMuteSelf()},e._PauseSelf=function(){null!=this.mAudio&&this.mAudio.playing&&this.mAudio.pause()},e._StopSelf=function(){null!=this.mAudio&&this.mAudio.playing&&this.mAudio.stop(),this.mStopped=!0,this.ClearSoundUnit()},e._MuteSelf=function(){},e._NotMuteSelf=function(){},e.SetVolume=function(t){t!==this.mVolume&&(this.mVolume=t,null!=this.mAudio&&(this.mAudio.volume=this.mVolume))},e.GetRemainLength=function(){var t=0;return null!=this.mAudio&&(t=this.mAudio.duration-this.mAudio.currentTime),t},e.IsCanPlayNext=function(){return null!=this.mAudio&&(!this.mIsLoading&&(!!this.IsCanRemove()||this.mAudio.currentTime>=this.mAudio.duration-1))},e.IsCanRemove=function(){return!this.mIsLoading&&(!!this.mPlayed&&(!!this.mStopped||(null==this.mClip||(null===this.mAudio||!this.mAudio.loop&&(!this.mAudio.playing&&0===this.mAudio.currentTime)))))},i(t,[{key:"PropSoundID",get:function(){return this.mSoundID}},{key:"PropSoundName",get:function(){return this.mSoundName}},{key:"PropSoundPath",get:function(){return this.mSoundPath}},{key:"PropDelayTime",get:function(){return this.mDelayTime}},{key:"PropIsStart",get:function(){return this.mPlayed}},{key:"PropIsLoading",get:function(){return this.mIsLoading}},{key:"PropIsStopping",get:function(){return this.mFading}},{key:"PropIsStopped",get:function(){return this.mStopped}}]),t}()).sSoundIDCounter=1,h=a))||h);e._RF.pop()}}}));

System.register("chunks:///_virtual/state.container.ts",["cc","./table.helper.ts","./state.instance.ts","./skill.effect.utility.ts"],(function(t){"use strict";var e,i,l,a,s,n;return{setters:[function(t){e=t.cclegacy,i=t._decorator,l=t.log},function(t){a=t.TableHelper},function(t){s=t.StateInstance},function(t){n=t.SkillEffectUtility}],execute:function(){var o;e._RF.push({},"5e987cUHsVODZcvfgE55u0q","state.container",void 0);var c=i.ccclass;t("StateContainer",c("StateContainer")(o=function(){function t(t){this.mAllStateDic=new Map,this.mToDelStateList=new Array,this.mOwner=null,this.mDealConditionStateList=new Array,this.mAllPassiveSkillDic=new Map,this.mCurUseMaxInstID=0,this.mOwner=t}var e=t.prototype;return e._GetNewInstID=function(){return this.mCurUseMaxInstID++,0===this.mCurUseMaxInstID&&(this.mCurUseMaxInstID=1),this.mCurUseMaxInstID},e.InitAllBuff=function(){},e.ClearAllBuffData=function(){this.mAllPassiveSkillDic.clear(),this.mAllStateDic.forEach((function(t){t.ClearStateData()})),this.mAllStateDic.clear(),this.mDealConditionStateList.splice(0,this.mDealConditionStateList.length)},e.UpdateAllBuff=function(t){var e=this;this.mToDelStateList.splice(0,this.mToDelStateList.length),this.mAllStateDic.forEach((function(i,l){var a=i;null!=a&&a.PropNeedDelete&&e.mToDelStateList.push(l),a.UpdateState(t)}));for(var i=0;i<this.mToDelStateList.length;i++){var l=this.mToDelStateList[i];this.mAllStateDic.get(l).ClearStateData(),this.mAllStateDic.delete(l)}},e.AddState=function(t){if(this.mAllStateDic.has(t))return null;var e=new s;return e.InitStateData(this._GetNewInstID(),t,this.mOwner),this.mAllStateDic.set(t,e),e.StartState(),e},e.RemoveStateByID=function(t){this.mAllStateDic.has(t)?(this.mAllStateDic.get(t).EndState(),this.mAllStateDic.delete(t)):l("to remove state not exist，ID ："+t)},e.AddNeedConditionState=function(t){this.mDealConditionStateList.indexOf(t)<0&&this.mDealConditionStateList.push(t)},e.RemoveNeedConditionState=function(t){if(this.mDealConditionStateList.indexOf(t)>0){var e=this.mDealConditionStateList.indexOf(t);this.mDealConditionStateList.splice(e,1)}},e.DealStateConditon=function(t,e){for(var i=0;i<this.mDealConditionStateList.length;i++)this.mDealConditionStateList[i].DealCondition(t,e)},e.AddPasstiveSkill=function(t){for(var e=a.getSkillRecord(t),i=0;i<e.SkillEffectArray.length&&""!==e.SkillEffectArray[i];i++){var l=n.TryGetSkillEffect(e.SkillEffectArray[i]);if(null!=l){var s=l;null!=s&&(this.AddState(s.AddStateID),this._OnAddPasstiveSkillState(t,s.AddStateID))}}},e.RemovePasstiveSkill=function(t){if(this.mAllPassiveSkillDic.has(t)){for(var e=this.mAllPassiveSkillDic.get(t),i=0;i<e.length;i++)this.RemoveStateByID(e[i]);this._OnRemovePasstiveSkillState(t)}},e._OnAddPasstiveSkillState=function(t,e){this.mAllPassiveSkillDic.has(t)||this.mAllPassiveSkillDic.set(t,new Array),this.mAllPassiveSkillDic.get(t).push(e)},e._OnRemovePasstiveSkillState=function(t){this.mAllPassiveSkillDic.has(t)&&this.mAllPassiveSkillDic.delete(t)},t}())||o);e._RF.pop()}}}));

System.register("chunks:///_virtual/state.data.manager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./event.dispatcher.ts","./event.name.ts","./base.manager.ts","./table.manager.ts"],(function(t){"use strict";var e,a,n,r,c,i,l,s;return{setters:[function(t){e=t.inheritsLoose,a=t.createClass},function(t){n=t.cclegacy,r=t._decorator},function(t){c=t.EventDispatcher},function(t){i=t.EventName},function(t){l=t.BaseManager},function(t){s=t.TableManager}],execute:function(){var f,o;n._RF.push({},"89c9cBQfGVNepTN6+7Unm4U","state.data.manager",void 0);var h=r.ccclass;t("StateDataManager",h("StateDataManager")(((o=function(t){function n(){for(var e,a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))||this).mAllStateEffectDic=new Map,e}e(n,t);var r=n.prototype;return r.clearManager=function(){this.mAllStateEffectDic.clear()},r.addAllManagerEvents=function(){t.prototype.addAllManagerEvents.call(this),c.on(i.PRELOAD_FINISH_ALL,this._InitAllStateEffect,this)},r.removeAllManagerEvents=function(){t.prototype.removeAllManagerEvents.call(this),c.off(i.PRELOAD_FINISH_ALL,this._InitAllStateEffect,this)},r._InitAllStateEffect=function(){for(var t=s.instance.tableStateEffectControl.AllStateEffectControlArray,e=0;e<t.length;e++)this._CheckIDIsRepeat(t[e].StateControlID),this.mAllStateEffectDic.set(t[e].StateControlID,t[e]);for(var a=s.instance.tableStateEffectAttrChange.AllStateEffectAttrChangeArray,n=0;n<a.length;n++)this._CheckIDIsRepeat(a[n].StateAttrChangeID),this.mAllStateEffectDic.set(a[n].StateAttrChangeID,a[n]);for(var r=s.instance.tableStateEffectInterTrigger.AllStateEffectInterTriggerArray,c=0;c<r.length;c++)this._CheckIDIsRepeat(r[c].StateInterTriggerID),this.mAllStateEffectDic.set(r[c].StateInterTriggerID,r[c]);for(var i=s.instance.tableStateEffectConditionTrigger.AllStateEffectConditionTriggerArray,l=0;l<i.length;l++)this._CheckIDIsRepeat(i[l].StateConditionTriggerID),this.mAllStateEffectDic.set(i[l].StateConditionTriggerID,i[l])},r._CheckIDIsRepeat=function(t){this.mAllStateEffectDic.has(t)},r.GetStateEffectRecord=function(t){return this.mAllStateEffectDic.has(t)?this.mAllStateEffectDic.get(t):null},a(n,null,[{key:"instance",get:function(){return null==this._instance&&(this._instance=new n),this._instance}}]),n}(l))._instance=null,f=o))||f);n._RF.pop()}}}));

System.register("chunks:///_virtual/state.effect.attr.change.ts",["./rollupPluginModLoBabelHelpers.js","cc","./enum.state.define.ts","./state.effect.base.ts"],(function(t){"use strict";var e,n,c,a,r;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,c=t._decorator},function(t){a=t.EStateEffectType},function(t){r=t.StateEffectBase}],execute:function(){var f;n._RF.push({},"76a53Q5McRGbrWXixDiNqsv","state.effect.attr.change",void 0);var i=c.ccclass;t("StateEffectAttrChange",i("StateEffectAttrChange")(f=function(t){function n(){var e;return(e=t.call(this)||this).mAttrChangeRecord=null,e.mCurType=a.AttrChange,e}e(n,t);var c=n.prototype;return c.InitData=function(e,n){t.prototype.InitData.call(this,e,n),this.mAttrChangeRecord=n},c.StartEffect=function(){},c.EndEffect=function(){},c.DirectEndEffect=function(){},n}(r))||f);n._RF.pop()}}}));

System.register("chunks:///_virtual/state.effect.base.ts",["./rollupPluginModLoBabelHelpers.js","cc","./enum.state.define.ts"],(function(t){"use strict";var e,n,c,f;return{setters:[function(t){e=t.createClass},function(t){n=t.cclegacy,c=t._decorator},function(t){f=t.EStateEffectType}],execute:function(){var a;n._RF.push({},"acd05v5Y3dHvqgNk3z7jWDh","state.effect.base",void 0);var r=c.ccclass;t("StateEffectBase",r("StateEffectBase")(a=function(){function t(){this.mOwnerData=null,this.mCurType=f.None}var n=t.prototype;return n.InitData=function(t,e){this.mOwnerData=t},n.StartEffect=function(){},n.EndEffect=function(){},n.DirectEndEffect=function(){},n.DealCondition=function(t,e){},e(t,[{key:"PropEffectType",get:function(){return this.mCurType}}]),t}())||a);n._RF.pop()}}}));

System.register("chunks:///_virtual/state.effect.condition.trigger.ts",["./rollupPluginModLoBabelHelpers.js","cc","./event.dispatcher.ts","./event.name.ts","./time.system.ts","./enum.state.define.ts","./state.effect.base.ts"],(function(t){"use strict";var e,i,n,r,o,s,c,a,g;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy,n=t._decorator,r=t.randomRangeInt},function(t){o=t.EventDispatcher},function(t){s=t.EventName},function(t){c=t.TimeSystem},function(t){a=t.EStateEffectType},function(t){g=t.StateEffectBase}],execute:function(){var T;i._RF.push({},"cce82rTyPVGT6qdsGOoDsfG","state.effect.condition.trigger",void 0);var f=n.ccclass;t("StateEffectConditionTrigger",f("StateEffectConditionTrigger")(T=function(t){function i(){var e;return(e=t.call(this)||this).mConditionTriggerRecord=null,e.mTriggerRate=1,e.mLastTriggerTimePos=0,e.mCurType=a.ConditionTrigger,e}e(i,t);var n=i.prototype;return n.InitData=function(e,i){t.prototype.InitData.call(this,e,i),this.mConditionTriggerRecord=i,this.mTriggerRate=.01*this.mConditionTriggerRecord.TriggerRate},n.StartEffect=function(){},n.EndEffect=function(){},n.DirectEndEffect=function(){},n.DealCondition=function(t,e){this.IsConDitionOk(t)&&this.IsConRateFit()&&this.IsTimeBlankOk()&&(1===this.mConditionTriggerRecord.TriggerEffectTarget?o.emit(s.SKILL_EFFECT_DO_EFFECT_TO_CHARACTER_BY_STATE,this.mConditionTriggerRecord.TriggerFunc,this.mOwnerData,e):2===this.mConditionTriggerRecord.TriggerEffectTarget&&o.emit(s.SKILL_EFFECT_DO_EFFECT_TO_CHARACTER_BY_STATE,this.mConditionTriggerRecord.TriggerFunc,this.mOwnerData,this.mOwnerData.OwnerCharacter))},n.IsConDitionOk=function(t){return t===this.mConditionTriggerRecord.ConditionType},n.IsConRateFit=function(){return!!this._IsFitRate(this.mTriggerRate)},n._IsFitRate=function(t){return r(0,1001)<Math.round(1e3*t)},n.IsTimeBlankOk=function(){return 0===this.mConditionTriggerRecord.MinBlankTime||c.xTimeGetTime()-this.mLastTriggerTimePos>this.mConditionTriggerRecord.MinBlankTime},i}(g))||T);i._RF.pop()}}}));

System.register("chunks:///_virtual/state.effect.control.ts",["./rollupPluginModLoBabelHelpers.js","cc","./enum.anim.state.ts","./enum.state.define.ts","./state.effect.base.ts","./role.status.define.ts"],(function(t){"use strict";var e,n,o,r,a,c,s,i;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,o=t._decorator},function(t){r=t.EAnimState},function(t){a=t.EStateControlType,c=t.EStateEffectType},function(t){s=t.StateEffectBase},function(t){i=t.ERoleStatus}],execute:function(){var f;n._RF.push({},"e99380lzqBI4bEksGyY7dfA","state.effect.control",void 0);var l=o.ccclass;t("StateEffectControl",l("StateEffectControl")(f=function(t){function n(){var e;return(e=t.call(this)||this).mControlRecord=null,e.mCurType=c.Control,e}e(n,t);var o=n.prototype;return o.InitData=function(e,n){t.prototype.InitData.call(this,e,n),this.mControlRecord=n},o.StartEffect=function(){this.mControlRecord.ControlType===a.Sleep&&this.mOwnerData.OwnerCharacter.PropRoleStateContainer.SetState(i.Sleep)},o.EndEffect=function(){this.mControlRecord.ControlType===a.Sleep&&(this.mOwnerData.OwnerCharacter.IsDead||this.mOwnerData.OwnerCharacter.playAnim(r.Idle),this.mOwnerData.OwnerCharacter.PropRoleStateContainer.UnsetState(i.Sleep))},o.DirectEndEffect=function(){},n}(s))||f);n._RF.pop()}}}));

System.register("chunks:///_virtual/state.effect.inter.trigger.ts",["./rollupPluginModLoBabelHelpers.js","cc","./event.dispatcher.ts","./event.name.ts","./timer.tick.ts","./enum.state.define.ts","./state.effect.base.ts"],(function(e){"use strict";var r,t,i,n,g,c,s,T;return{setters:[function(e){r=e.inheritsLoose},function(e){t=e.cclegacy,i=e._decorator},function(e){n=e.EventDispatcher},function(e){g=e.EventName},function(e){c=e.TimerTick},function(e){s=e.EStateEffectType},function(e){T=e.StateEffectBase}],execute:function(){var m;t._RF.push({},"b1294L/K05BFb0P3yTWErH/","state.effect.inter.trigger",void 0);var f=i.ccclass;e("StateEffectInterTrigger",f("StateEffectInterTrigger")(m=function(e){function t(){var r;return(r=e.call(this)||this).mInterTriggerRecord=null,r.mInterTriggerTimerID=0,r.mHasTriggerTimes=0,r.mCurType=s.InterTrigger,r}r(t,e);var i=t.prototype;return i.InitData=function(r,t){e.prototype.InitData.call(this,r,t),this.mInterTriggerRecord=t},i.StartEffect=function(){this.mInterTriggerTimerID=c.AddTimer(this.mInterTriggerRecord.TriggerTimerBlank,this.mInterTriggerRecord.TriggerTimerBlank,this._TriggerEffect)},i._TriggerEffect=function(){""!==this.mInterTriggerRecord.TriggerFunc&&n.emit(g.SKILL_EFFECT_DO_EFFECT,this.mOwnerData,this.mInterTriggerRecord.TriggerFunc),this.mHasTriggerTimes+=1,this.mInterTriggerRecord.TriggerMaxTimers===this.mHasTriggerTimes&&0!==this.mInterTriggerTimerID&&(c.DelTimer(this.mInterTriggerTimerID),this.mInterTriggerTimerID=0)},i.EndEffect=function(){0!==this.mInterTriggerTimerID&&(c.DelTimer(this.mInterTriggerTimerID),this.mInterTriggerTimerID=0)},i.DirectEndEffect=function(){},t}(T))||m);t._RF.pop()}}}));

System.register("chunks:///_virtual/state.instance.ts",["./rollupPluginModLoBabelHelpers.js","cc","./effect.system.ts","./enum.effect.define.ts","./table.helper.ts","./enum.state.define.ts","./state.effect.attr.change.ts","./state.effect.condition.trigger.ts","./state.effect.control.ts","./state.effect.inter.trigger.ts","./state.data.manager.ts"],(function(t){"use strict";var e,i,n,a,s,f,r,c,o,h,m,S;return{setters:[function(t){e=t.createClass},function(t){i=t.cclegacy,n=t._decorator},function(t){a=t.EffectSystem},function(t){s=t.EEffectType},function(t){f=t.TableHelper},function(t){r=t.EStateEffectType},function(t){c=t.StateEffectAttrChange},function(t){o=t.StateEffectConditionTrigger},function(t){h=t.StateEffectControl},function(t){m=t.StateEffectInterTrigger},function(t){S=t.StateDataManager}],execute:function(){var l;i._RF.push({},"6462b2wocxGAp3zJG7pSfRF","state.instance",void 0);var u=n.ccclass;t("StateInstance",u("StateInstance")(l=function(){function t(){this.mStateInstID=0,this.mStateRecord=null,this.mIsNeedToDelete=!1,this.mStateOwner=null,this.mPersisitEffectList=new Array,this.mHangleEffect=null,this.mIsLoopState=!1,this.mRemainTime=0,this.SrcAttack=0,this.SrcHitValue=0,this.SrcCritValue=0,this.SrcCritRate=0,this.mCurUseMaxInstID=0,this.c=void 0,this.mIsNeedToDelete=!1}var i=t.prototype;return i.InitStateData=function(t,e,i){if(this.mStateInstID=t,this.mStateOwner=i,this.mStateRecord=f.getStateRecord(e),null!=this.mStateRecord&&null!=this.mStateRecord.StateEffectArray){0===this.mStateRecord.StateLastTime?(this.mIsLoopState=!0,this.mRemainTime=0):(this.mIsLoopState=!1,this.mRemainTime=this.mStateRecord.StateLastTime),this._AddEffect();for(var n=0;n<this.mStateRecord.StateEffectArray.length;n++){var a=this._CreateStatePersistEffect(this.mStateRecord.StateEffectArray[n]);null!=a&&(this.mPersisitEffectList.push(a),a.PropEffectType===r.ConditionTrigger&&this.mStateOwner.PropStateContainer.AddNeedConditionState(this))}}},i._AddEffect=function(){if(0!==this.mStateRecord.EffectID&&(this.mHangleEffect=a.instance.CreateEffect(this.mStateRecord.EffectID),this.mHangleEffect.PropEffectType===s.Mount)){var t=this.mHangleEffect;null!=t&&t.SetMountCharacter(this.mStateOwner)}},i._RemoveEffect=function(){null!=this.mHangleEffect&&a.instance.RemoveEffect(this.mHangleEffect)},i.SetStateSrcCharacter=function(t){},i.ClearStateData=function(){this.EndState(),this.mStateOwner=null},i.UpdateState=function(t){this.mIsLoopState||(this.mRemainTime-=1e3*t,this.mRemainTime<=0&&(this.EndState(),this.mIsNeedToDelete=!0))},i.StartState=function(){for(var t=0;t<this.mPersisitEffectList.length;t++)this.mPersisitEffectList[t].StartEffect()},i.EndState=function(){for(var t=0;t<this.mPersisitEffectList.length;t++)this.mPersisitEffectList[t].EndEffect();this._RemoveEffect()},i.ImmediatelyEndState=function(){for(var t=0;t<this.mPersisitEffectList.length;t++)this.mPersisitEffectList[t].DirectEndEffect()},i.DealCondition=function(t,e){for(var i=0;i<this.mPersisitEffectList.length;i++)this.mPersisitEffectList[i].DealCondition(t,e)},i._CreateStatePersistEffect=function(t){var e=null,i=S.instance.GetStateEffectRecord(t);if(null!=i)switch(i.GetStateEffectType()){case r.Control:var n=new h;n.InitData(this,i),e=n;break;case r.AttrChange:var a=new c;a.InitData(this,i),e=a;break;case r.InterTrigger:var s=new m;s.InitData(this,i),e=s;break;case r.ConditionTrigger:var f=new o;f.InitData(this,i),e=f}return e},e(t,[{key:"OwnerCharacter",get:function(){return this.mStateOwner}},{key:"PropNeedDelete",get:function(){return this.mIsNeedToDelete}}]),t}())||l);i._RF.pop()}}}));

System.register("chunks:///_virtual/state.interface.ts",["cc"],(function(){"use strict";var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"908c3Fjzr1Cv4OMIPM32YtD","state.interface",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/state.interface2.ts",["cc"],(function(){"use strict";var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"c0648SEpPtJdYuX+D6WKFG7","state.interface",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/state.machine.ts",["cc","./fight.state.death.ts","./fight.state.dizzness.ts","./fight.state.failed.ts","./fight.state.fighting.ts","./fight.state.fighting.back.ts","./fight.state.idle.ts","./fight.state.null.ts","./fight.state.ready.ts","./fight.state.success.ts"],(function(t){"use strict";var i,e,s,h,a,n,S,u,g,m,l;return{setters:[function(t){i=t.cclegacy,e=t._decorator},function(t){s=t.FightStateDeath},function(t){h=t.FightStateDizziness},function(t){a=t.FightStateFailed},function(t){n=t.FightStateFighting},function(t){S=t.FightStateFightingBack},function(t){u=t.FightStateIdle},function(t){g=t.FightStateNull},function(t){m=t.FightStateReady},function(t){l=t.FightStateSuccess}],execute:function(){var F;i._RF.push({},"7f9660AV0VHtZ6qEv0QXzfZ","state.machine",void 0);var c=e.ccclass;t("FightStateMachine",c("FightStateMachine")(F=function(){function t(t){this.mFightStateNull=null,this.mFightStateIdle=null,this.mFightStateReady=null,this.mFightStateFighting=null,this.mFightStateFightingBack=null,this.mFightStateDeath=null,this.mFightStateDizzness=null,this.mFightStateSuccess=null,this.mFightStateFailed=null,this.mSMOwner=null,this.mCurState=null,this.mLastState=null,this.mStateList=new Array,this.mSMOwner=t,this.InitStateMachine()}var i=t.prototype;return i.InitStateMachine=function(){this.mStateList.splice(0,this.mStateList.length),this.mFightStateNull=new g(this.mSMOwner),this.mFightStateIdle=new u(this.mSMOwner),this.mFightStateReady=new m(this.mSMOwner),this.mFightStateFighting=new n(this.mSMOwner),this.mFightStateFightingBack=new S(this.mSMOwner),this.mFightStateDeath=new s(this.mSMOwner),this.mFightStateDizzness=new h(this.mSMOwner),this.mFightStateSuccess=new l(this.mSMOwner),this.mFightStateFailed=new a(this.mSMOwner),this.mStateList.push(this.mFightStateNull),this.mStateList.push(this.mFightStateIdle),this.mStateList.push(this.mFightStateReady),this.mStateList.push(this.mFightStateFighting),this.mStateList.push(this.mFightStateFightingBack),this.mStateList.push(this.mFightStateDeath),this.mStateList.push(this.mFightStateDizzness),this.mStateList.push(this.mFightStateSuccess),this.mStateList.push(this.mFightStateFailed)},i.UpdateCurState=function(t){null!=this.mCurState&&this.mCurState.UpdateState(t)},i.ChangeState=function(t){if(!this.IsInState(t)){var i=this.mStateList[t];null!=this.mCurState&&this.mCurState.Exit(i),this.mLastState=this.mCurState,this.mCurState=i,this.mCurState.Enter(this.mLastState)}},i.IsInState=function(t){return null!=this.mCurState&&this.mCurState.StateType===t},i.OnMoveFinish=function(){null!=this.mCurState&&this.mCurState.OnMoveFinish()},i.OnUseSkillFinish=function(){null!=this.mCurState&&this.mCurState.OnUseSkillFinish()},t}())||F);i._RF.pop()}}}));

System.register("chunks:///_virtual/state.machine2.ts",["cc","./work.state.gather.ts","./work.state.hunt.ts","./work.state.idle.ts","./work.state.mine.ts","./work.state.null.ts","./work.state.wait.ts","./work.state.water.ts"],(function(t){"use strict";var e,i,a,s,n,r,h,S,u;return{setters:[function(t){e=t.cclegacy,i=t._decorator},function(t){a=t.WorkStateGather},function(t){s=t.WorkStateHunt},function(t){n=t.WorkStateIdle},function(t){r=t.WorkStateMine},function(t){h=t.WorkStateNull},function(t){S=t.WorkStateWait},function(t){u=t.WorkStateWater}],execute:function(){var m;e._RF.push({},"f54d4gCaVxIzqQVxi75jepq","state.machine",void 0);var o=i.ccclass;t("WorkStateMachine",o("WorkStateMachine")(m=function(){function t(t){this.mWorkStateNull=null,this.mWorkStateWait=null,this.mWorkStateIdle=null,this.mWorkStateWater=null,this.mWorkStateGather=null,this.mWorkStateHunt=null,this.mWorkStateMine=null,this.mSMOwner=null,this.mCurState=null,this.mLastState=null,this.mStateList=new Array,this.mSMOwner=t,this.InitStateMachine()}var e=t.prototype;return e.InitStateMachine=function(){this.mStateList.splice(0,this.mStateList.length),this.mWorkStateNull=new h(this.mSMOwner),this.mWorkStateWait=new S(this.mSMOwner),this.mWorkStateIdle=new n(this.mSMOwner),this.mWorkStateWater=new u(this.mSMOwner),this.mWorkStateGather=new a(this.mSMOwner),this.mWorkStateHunt=new s(this.mSMOwner),this.mWorkStateMine=new r(this.mSMOwner),this.mStateList.push(this.mWorkStateNull),this.mStateList.push(this.mWorkStateWait),this.mStateList.push(this.mWorkStateIdle),this.mStateList.push(this.mWorkStateWater),this.mStateList.push(this.mWorkStateGather),this.mStateList.push(this.mWorkStateHunt),this.mStateList.push(this.mWorkStateMine)},e.UpdateCurState=function(t){null!=this.mCurState&&this.mCurState.UpdateState(t)},e.ChangeState=function(t){if(!this.IsInState(t)){var e=this.mStateList[t];null!=this.mCurState&&this.mCurState.Exit(e),this.mLastState=this.mCurState,this.mCurState=e,this.mCurState.Enter(this.mLastState)}},e.IsInState=function(t){return null!=this.mCurState&&this.mCurState.StateType===t},e.OnMoveFinish=function(){null!=this.mCurState&&this.mCurState.OnMoveFinish()},e.OnFarmEditFinished=function(){null!=this.mCurState&&this.mCurState.OnFarmEditFinished()},t}())||m);e._RF.pop()}}}));

System.register("chunks:///_virtual/SwipeGestureRecognizer.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GestureRecognizer.ts","./Timer.ts","./Monitor.ts"],(function(t){"use strict";var i,e,s,h,n,o,a,c;return{setters:[function(t){i=t.inheritsLoose,e=t.createClass},function(t){s=t.cclegacy,h=t.Input,n=t.Vec2},function(t){o=t.GestureRecognizer},function(t){a=t.Timer},function(t){c=t.Monitor}],execute:function(){s._RF.push({},"91fa5uihLJHqbuUPRwR1S1S","SwipeGestureRecognizer",void 0);var u=h.EventType,r=t("SwipeGestureRecognizer",function(t){function s(){for(var i,e=arguments.length,s=new Array(e),h=0;h<e;h++)s[h]=arguments[h];return(i=t.call.apply(t,[this].concat(s))||this).touchDragSensitivity=15,i.actionDistance=0,i.snapping=!0,i.numberOfTouchesRequired=1,i.velocity=new n(0,0),i.position=new n(0,0),i.delta=new n(0,0),i._enabled=!1,i._startPoint=new n(0,0),i._lastPoint=new n(0,0),i._lastPoint2=new n(0,0),i._time=0,i._started=!1,i._touchBegan=!1,i._realTouchCount=0,i._moveRegisted=!1,i._startTime=0,i}i(s,t);var h=s.prototype;return h.setEnable=function(t){t?this._enabled||(this.on(u.TOUCH_START,this.__touchBegin,this),this._enabled=!0):(this._started=!1,this._touchBegan=!1,this._enabled&&(this.off(u.TOUCH_START,this.__touchBegin,this),this._enabled=!1))},h.dispose=function(){t.prototype.dispose.call(this),this.stopRecoginze(),this.setEnable(!1)},h.stopRecoginze=function(){this._clear()},h.__touchBegin=function(t){if(!c.ignoreEvent(t)){var i=t.getAllTouches();this._startTime=a.inst.unscaleTimer,this._touchBegan?this.__touchEnd(t):this.numberOfTouchesRequired>0?i.length===this.numberOfTouchesRequired&&this.onStart(t):this._moveRegisted||(this.host.on(u.TOUCH_MOVE,this.__touchMove,this),this._moveRegisted=!0)}},h.onStart=function(t){var i=t.getAllTouches();o.getLocation(i,_),this._lastPoint.set(_),this._startPoint.set(_),this._time=a.inst.unscaleTimer,this.velocity.set(0,0),this.position.set(0,0),this._realTouchCount=i.length,this._started=!1,this._touchBegan||(this._moveRegisted||this.host.on(u.TOUCH_MOVE,this.__touchMove,this),this.host.on(u.TOUCH_END,this.__touchEnd,this),this.host.on(u.TOUCH_CANCEL,this.__touchEnd,this)),this._touchBegan=!0},h.__touchMove=function(t){if(!(c.ignoreEvent(t)||a.inst.unscaleTimer-this._startTime<50)){var i=t.getAllTouches();if(this.numberOfTouchesRequired>0){if(!this._touchBegan||i.length!==this.numberOfTouchesRequired)return void this.__touchEnd(t)}else if(!this._touchBegan)return void this.onStart(t);if(o.getLocation(i,_),l.set(_),_.subtract(this._lastPoint),this.delta.set(_),!this.snapping||(this.delta.x=Math.round(this.delta.x),this.delta.y=Math.round(this.delta.y),0!==this.delta.x||0!==this.delta.y)){var e=.001*a.inst.unscaleDelta,h=.001*(a.inst.unscaleTimer-this._time)*60-1;if(h>1&&this.velocity.multiplyScalar(Math.pow(.833,h)),_.set(this.delta),_.divide2f(e,e),n.lerp(this.velocity,this.velocity,_,10*e),!this._started){var u;if(u=this.touchDragSensitivity,Math.abs(this.delta.x)<u&&Math.abs(this.delta.y)<u)return;this._started=!0,this.emit(s.SWIPE_BEGIN,t)}this._time=a.inst.unscaleTimer,this.position.add(this.delta),this._lastPoint2.set(this._lastPoint),this._lastPoint.set(l),this.emit(s.SWIPE_MOVE,t)}}},h._clear=function(){this.host.off(u.TOUCH_MOVE,this.__touchMove,this),this.host.off(u.TOUCH_END,this.__touchEnd,this),this.host.off(u.TOUCH_CANCEL,this.__touchEnd,this),this._started=!1,this._touchBegan=!1,this._realTouchCount=0,this._moveRegisted=!1},h.__touchEnd=function(t){if(!c.ignoreEvent(t)&&this._touchBegan){var i=t.getAllTouches(),e=this._started;if(this._clear(),e){o.getLocation(i,_),l.set(_),this.delta.set(_.subtract(this._lastPoint2)),this.snapping&&(this.delta.x=Math.round(this.delta.x),this.delta.y=Math.round(this.delta.y));var h=.001*(a.inst.unscaleTimer-this._time)*60-1;h>1&&this.velocity.multiplyScalar(Math.pow(.833,h)),this.snapping&&(this.velocity.x=Math.round(this.velocity.x),this.velocity.y=Math.round(this.velocity.y)),this.emit(s.SWIPE_END,t),l.subtract(this._startPoint),(Math.abs(l.x)>this.actionDistance||Math.abs(l.y)>this.actionDistance)&&this.emit(s.SWIPE_ACTION,t)}}},e(s,[{key:"realTouchCount",get:function(){return this._realTouchCount}}]),s}(o));r.SWIPE_BEGIN="SWIPE_BEGIN",r.SWIPE_END="SWIPE_END",r.SWIPE_MOVE="SWIPE_MOVE",r.SWIPE_ACTION="SWIPE_ACTION";var _=new n(0,0),l=new n(0,0);s._RF.pop()}}}));

System.register("chunks:///_virtual/SwipeGestureRecognizerComp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SwipeGestureRecognizer.ts","./GestureRecognizerComp.ts"],(function(e){"use strict";var i,t,r,n,o,c,u,s,a;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,r=e.initializerDefineProperty,n=e.assertThisInitialized,o=e.createClass},function(e){c=e.cclegacy,u=e._decorator},function(e){s=e.SwipeGestureRecognizer},function(e){a=e.GestureRecognizerComp}],execute:function(){var p,l,g,h,f,z,b,y,m,R,w;c._RF.push({},"9030aB5O6pDVKceUkiluEvB","SwipeGestureRecognizerComp",void 0);var D=u.ccclass,d=u.property;e("SwipeGestureRecognizerComp",(p=D("SwipeGestureRecognizerComp"),l=d({tooltip:"滑动灵敏度（像素）"}),g=d({tooltip:"派发onAction事件的最小距离。如果手指扫过的距离少于此值，onAction不会触发（但onEnd仍然会派发）"}),h=d({tooltip:"是否把变化量强制为整数。默认true。"}),f=d({tooltip:"手指的个数（默认1, 小于等于0表示不限制）"}),p((y=i((b=function(e){function i(){for(var i,t=arguments.length,o=new Array(t),c=0;c<t;c++)o[c]=arguments[c];return i=e.call.apply(e,[this].concat(o))||this,r(i,"touchDragSensitivity",y,n(i)),r(i,"actionDistance",m,n(i)),r(i,"snapping",R,n(i)),r(i,"numberOfTouchesRequired",w,n(i)),i}return t(i,e),o(i,[{key:"recognizer",get:function(){return null==this._recognizer&&(this._recognizer=new s(this.node),this._recognizer.touchDragSensitivity=this.touchDragSensitivity,this._recognizer.actionDistance=this.actionDistance,this._recognizer.snapping=this.snapping,this._recognizer.numberOfTouchesRequired=this.numberOfTouchesRequired),this._recognizer}}]),i}(a)).prototype,"touchDragSensitivity",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 15}}),m=i(b.prototype,"actionDistance",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),R=i(b.prototype,"snapping",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),w=i(b.prototype,"numberOfTouchesRequired",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),z=b))||z));c._RF.pop()}}}));

System.register("chunks:///_virtual/system.data.ts",["cc","./data.pay.ts","./common.tool.ts","./all.define.ts"],(function(t){"use strict";var a,e,s,r,n;return{setters:[function(t){a=t.cclegacy,e=t._decorator},function(t){s=t.EPayCurrency},function(t){r=t.CommonTool},function(t){n=t.ELanType}],execute:function(){var u,o;a._RF.push({},"5a122YFmclCK7M13wT2jZM1","system.data",void 0);var i=e.ccclass;t("SystemData",i("SystemData")(((o=function(){function t(){}return t.initSystemData=function(){this.browserLanguage=r.getBrowserLanguage(),console.log("language： "+this.browserLanguage),this.browserLanguage.startsWith("ja")?(this.payCurrency=s.JPY,this.defaultUseLanguage=n.JP):this.browserLanguage.startsWith("th")?this.payCurrency=s.THB:this.browserLanguage.startsWith("ko")?this.payCurrency=s.KRW:this.browserLanguage.startsWith("zh-TW")&&(this.payCurrency=s.NTD)},t}()).browserLanguage="en",o.payCurrency=s.USD,o.defaultUseLanguage=n.EN,u=o))||u);a._RF.pop()}}}));

System.register("chunks:///_virtual/tabi.chain.contract.config.ts",["cc"],(function(){"use strict";var c;return{setters:[function(t){c=t.cclegacy}],execute:function(){c._RF.push({},"0c1d2OeXdZKtKZbuM8evpUB","tabi.chain.contract.config",void 0),c._RF.pop()}}}));

System.register("chunks:///_virtual/table.achievement.ts",["./rollupPluginModLoBabelHelpers.js","cc","./table.record.base.ts","./table.base.ts","./enum.table.type.ts"],(function(e){"use strict";var t,r,n,i,a,c,s,h;return{setters:[function(e){t=e.inheritsLoose,r=e.assertThisInitialized},function(e){n=e.cclegacy,i=e._decorator,a=e.error},function(e){c=e.TableRecordBase},function(e){s=e.TableBase},function(e){h=e.EnumTableType}],execute:function(){var m,o;n._RF.push({},"b9495ebCXdEzLGGjmSjrMgf","table.achievement",void 0);var l=i.ccclass,A=e("RecordAchievement",l("RecordAchievement")(m=function(e){function n(t){var n;return(n=e.call(this)||this).desc=void 0,Object.assign(r(n),t),n}return t(n,e),n.prototype.loadI18nText=function(e){this.desc=null==e?void 0:e.getI18nTable(this.descId)},n}(c))||m);e("TableAchievement",l("TableAchievement")(o=function(e){function r(){for(var t,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(t=e.call.apply(e,[this].concat(n))||this).mAchievementArray=new Array,t.mAchievementMap=new Map,t}t(r,e);var n=r.prototype;return n._initTableData=function(){this.mTableResName="Achievement.txt",this.mTableType=h.UNIQUE_ID},n.parseJsonToClass=function(e){this.mAchievementArray=[],this.mAchievementMap.clear();for(var t=JSON.parse(e).allAchievementRecords,r=0;r<t.length;r+=1){var n=new A(t[r]);n.dealRecordData(),n.loadI18nText(this.mTableManager),n.id&&(this.mMaxId=n.id),this.mTableType===h.UNIQUE_ID&&(this.mAchievementMap.has(n.id)?a("parse table %s error, id:%d repeated",this.mTableResName,n.id):this.mAchievementMap.set(n.id,n)),this.mAchievementArray.push(n)}this.mRecordCount=this.mAchievementArray.length},n.reload=function(){var e=this;this.mAchievementArray.forEach((function(t){return t.loadI18nText(e.mTableManager)}))},n.getAchievementArray=function(){return this.mAchievementArray},n.findRecord=function(e){return this.mAchievementMap.has(e)?this.mAchievementMap.get(e):null},n.findRecordByTypeStage=function(e,t){for(var r=0;r<this.mAchievementArray.length;r++)if(this.mAchievementArray[r].type===e&&this.mAchievementArray[r].stage===t)return this.mAchievementArray[r];return null},n.findRecordFristIDByType=function(e){for(var t=0;t<this.mAchievementArray.length;t++)if(this.mAchievementArray[t].type===e)return this.mAchievementArray[t].id;return 0},n.findMaxStageByType=function(e){for(var t=0,r=0;r<this.mAchievementArray.length;r++)this.mAchievementArray[r].type===e&&t<this.mAchievementArray[r].stage&&(t=this.mAchievementArray[r].stage);return t},r}(s))||o);n._RF.pop()}}}));

System.register("chunks:///_virtual/table.activity.award.ts",["./rollupPluginModLoBabelHelpers.js","cc","./table.record.base.ts","./table.base.ts","./enum.table.type.ts"],(function(t){"use strict";var a,i,e,r,s,c,n,l;return{setters:[function(t){a=t.inheritsLoose,i=t.assertThisInitialized},function(t){e=t.cclegacy,r=t._decorator,s=t.error},function(t){c=t.TableRecordBase},function(t){n=t.TableBase},function(t){l=t.EnumTableType}],execute:function(){var d,o;e._RF.push({},"2b34eLxmKtB5qpewVjRAYel","table.activity.award",void 0);var A=r.ccclass,u=t("RecordActivityAward",A("RecordActivityAward")(d=function(t){function e(a){var e;return e=t.call(this)||this,Object.assign(i(e),a),e}return a(e,t),e}(c))||d);t("TableActivityAward",A("TableActivityAward")(o=function(t){function i(){for(var a,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(a=t.call.apply(t,[this].concat(e))||this).mActivityAwardArray=new Array,a.mActivityAwardMap=new Map,a}a(i,t);var e=i.prototype;return e._initTableData=function(){this.mTableResName="ActivityAward.txt",this.mTableType=l.UNIQUE_ID},e.parseJsonToClass=function(t){this.mActivityAwardArray=[],this.mActivityAwardMap.clear();for(var a=JSON.parse(t).allActivityAwardRecords,i=0;i<a.length;i+=1){var e=new u(a[i]);e.dealRecordData(),e.loadI18nText(this.mTableManager),e.id&&(this.mMaxId=e.id),this.mTableType===l.UNIQUE_ID&&(this.mActivityAwardMap.has(e.id)?s("parse table %s error, id:%d repeated",this.mTableResName,e.id):this.mActivityAwardMap.set(e.id,e)),this.mActivityAwardArray.push(e)}this.mRecordCount=this.mActivityAwardArray.length},e.findRecord=function(t){return this.mActivityAwardMap.has(t)?this.mActivityAwardMap.get(t):null},i}(n))||o);e._RF.pop()}}}));

System.register("chunks:///_virtual/table.activity.broadcast.ts",["./rollupPluginModLoBabelHelpers.js","cc","./table.record.base.ts","./table.base.ts","./enum.table.type.ts"],(function(t){"use strict";var a,i,e,r,s,c,o,n,l;return{setters:[function(t){a=t.inheritsLoose,i=t.createClass,e=t.assertThisInitialized},function(t){r=t.cclegacy,s=t._decorator,c=t.error},function(t){o=t.TableRecordBase},function(t){n=t.TableBase},function(t){l=t.EnumTableType}],execute:function(){var d,u;r._RF.push({},"9731c/0k0xN74TYx9hJdaKC","table.activity.broadcast",void 0);var h=s.ccclass,y=t("RecordActivityBroadcast",h("RecordActivityBroadcast")(d=function(t){function i(a){var i;return(i=t.call(this)||this).Name=void 0,i.Title=void 0,i.Content=void 0,Object.assign(e(i),a),i}return a(i,t),i.prototype.loadI18nText=function(t){this.Name=null==t?void 0:t.getI18nTable(this.NameID),this.Title=null==t?void 0:t.getI18nTable(this.TitleID),this.Content=null==t?void 0:t.getI18nTable(this.ContentID)},i}(o))||d);t("TableActivityBroadcast",h("TableActivityBroadcast")(u=function(t){function e(){for(var a,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(a=t.call.apply(t,[this].concat(e))||this).mActivityBroadcastArray=new Array,a.mActivityBroadcastMap=new Map,a}a(e,t);var r=e.prototype;return r._initTableData=function(){this.mTableResName="ActivityBroadcast.txt",this.mTableType=l.UNIQUE_ID},r.parseJsonToClass=function(t){this.mActivityBroadcastArray=[],this.mActivityBroadcastMap.clear();for(var a=JSON.parse(t).allActivityBroadcastRecords,i=0;i<a.length;i+=1){var e=new y(a[i]);e.dealRecordData(),e.loadI18nText(this.mTableManager),e.ID&&(this.mMaxId=e.ID),this.mTableType===l.UNIQUE_ID&&(this.mActivityBroadcastMap.has(e.ID)?c("parse table %s error, id:%d repeated",this.mTableResName,e.ID):this.mActivityBroadcastMap.set(e.ID,e)),this.mActivityBroadcastArray.push(e)}this.mRecordCount=this.mActivityBroadcastArray.length},r.reload=function(){var t=this;this.mActivityBroadcastArray.forEach((function(a){return a.loadI18nText(t.mTableManager)}))},r.findRecord=function(t){return this.mActivityBroadcastMap.has(t)?this.mActivityBroadcastMap.get(t):null},i(e,[{key:"AllActivityBroadcastArray",get:function(){return this.mActivityBroadcastArray}}]),e}(n))||u);r._RF.pop()}}}));

System.register("chunks:///_virtual/table.all.effect.ts",["./rollupPluginModLoBabelHelpers.js","cc","./table.record.base.ts","./table.base.ts","./enum.table.type.ts"],(function(e){"use strict";var t,a,l,r,c,f,s,n;return{setters:[function(e){t=e.inheritsLoose,a=e.assertThisInitialized},function(e){l=e.cclegacy,r=e._decorator,c=e.error},function(e){f=e.TableRecordBase},function(e){s=e.TableBase},function(e){n=e.EnumTableType}],execute:function(){var i,o;l._RF.push({},"a655c/+96JLiIilMPoF7o0R","table.all.effect",void 0);var u=r.ccclass,h=e("RecordEffect",u("RecordEffect")(i=function(e){function l(t){var l;return l=e.call(this)||this,Object.assign(a(l),t),l}return t(l,e),l}(f))||i);e("TableAllEffect",u("TableAllEffect")(o=function(e){function a(){for(var t,a=arguments.length,l=new Array(a),r=0;r<a;r++)l[r]=arguments[r];return(t=e.call.apply(e,[this].concat(l))||this).mAllEffectArray=new Array,t.mAllEffectMap=new Map,t}t(a,e);var l=a.prototype;return l._initTableData=function(){this.mTableResName="AllEffect.txt",this.mTableType=n.UNIQUE_ID},l.parseJsonToClass=function(e){this.mAllEffectMap.clear(),this.mAllEffectArray=[];for(var t=JSON.parse(e).allEffectRecords,a=0;a<t.length;a+=1){var l=new h(t[a]);l.dealRecordData(),l.loadI18nText(this.mTableManager),l.EffectID&&(this.mMaxId=l.EffectID),this.mTableType===n.UNIQUE_ID&&(this.mAllEffectMap.has(l.EffectID)?c("parse table %s error, id:%d repeated",this.mTableResName,l.EffectID):this.mAllEffectMap.set(l.EffectID,l)),this.mAllEffectArray.push(l)}this.mRecordCount=this.mAllEffectArray.length},l.findRecord=function(e){return this.mAllEffectMap.has(e)?this.mAllEffectMap.get(e):null},a}(s))||o);l._RF.pop()}}}));

System.register("chunks:///_virtual/table.all.params.ts",["./rollupPluginModLoBabelHelpers.js","cc","./table.record.base.ts","./table.base.ts","./enum.table.type.ts"],(function(a){"use strict";var e,l,r,t,s,n,o,i;return{setters:[function(a){e=a.inheritsLoose,l=a.assertThisInitialized},function(a){r=a.cclegacy,t=a._decorator,s=a.error},function(a){n=a.TableRecordBase},function(a){o=a.TableBase},function(a){i=a.EnumTableType}],execute:function(){var m,c;a("enumAllGameParamID",void 0),r._RF.push({},"a7cd8Fh6e1Ex7Kpy23rX/n/","table.all.params",void 0);var u,p=t.ccclass;!function(a){a[a.GoldAllowance_Threshold=110]="GoldAllowance_Threshold",a[a.GoldAllowance_Value=111]="GoldAllowance_Value",a[a.Pledge_SP_Max_Value=122]="Pledge_SP_Max_Value"}(u||(u=a("enumAllGameParamID",{})));var h=a("RecordAllParams",p("RecordAllParams")(m=function(a){function r(e){var r;return r=a.call(this)||this,Object.assign(l(r),e),r}return e(r,a),r.prototype.dealRecordData=function(){0!==this.paramRate&&(this.paramValue=this.paramValue/this.paramRate)},r}(n))||m);a("TableAllParams",p("TableAllParams")(c=function(a){function l(){for(var e,l=arguments.length,r=new Array(l),t=0;t<l;t++)r[t]=arguments[t];return(e=a.call.apply(a,[this].concat(r))||this).mAllParamsArray=new Array,e.mAllParamsMap=new Map,e}e(l,a);var r=l.prototype;return r._initTableData=function(){this.mTableResName="AllParams.txt",this.mTableType=i.UNIQUE_ID},r.parseJsonToClass=function(a){this.mAllParamsArray=[],this.mAllParamsMap.clear();for(var e=JSON.parse(a).allParamRecords,l=0;l<e.length;l+=1){var r=new h(e[l]);r.dealRecordData(),r.loadI18nText(this.mTableManager),r.paramId&&(this.mMaxId=r.paramId),this.mTableType===i.UNIQUE_ID&&(this.mAllParamsMap.has(r.paramId)?s("parse table %s error, id:%d repeated",this.mTableResName,r.paramId):this.mAllParamsMap.set(r.paramId,r)),this.mAllParamsArray.push(r)}this.mRecordCount=this.mAllParamsArray.length},r.findRecord=function(a){return this.mAllParamsMap.has(a)?this.mAllParamsMap.get(a):null},l}(o))||c);r._RF.pop()}}}));

System.register("chunks:///_virtual/table.all.sound.ts",["./rollupPluginModLoBabelHelpers.js","cc","./table.record.base.ts","./table.base.ts","./enum.table.type.ts"],(function(e){"use strict";var n,t,a,l,s,r,o,u;return{setters:[function(e){n=e.inheritsLoose,t=e.assertThisInitialized},function(e){a=e.cclegacy,l=e._decorator,s=e.error},function(e){r=e.TableRecordBase},function(e){o=e.TableBase},function(e){u=e.EnumTableType}],execute:function(){var i,d;a._RF.push({},"9a697ZPXyREmYYWsc9kqNPu","table.all.sound",void 0);var c=l.ccclass,h=e("RecordAllSound",c("RecordAllSound")(i=function(e){function a(n){var a;return a=e.call(this)||this,Object.assign(t(a),n),a}return n(a,e),a}(r))||i);e("TableAllSound",c("TableAllSound")(d=function(e){function t(){for(var n,t=arguments.length,a=new Array(t),l=0;l<t;l++)a[l]=arguments[l];return(n=e.call.apply(e,[this].concat(a))||this).mAllSoundArray=new Array,n.mAllSoundMap=new Map,n}n(t,e);var a=t.prototype;return a._initTableData=function(){this.mTableResName="AllSound.txt",this.mTableType=u.UNIQUE_ID},a.parseJsonToClass=function(e){this.mAllSoundArray=[],this.mAllSoundMap.clear();for(var n=JSON.parse(e).allSoundRecords,t=0;t<n.length;t+=1){var a=new h(n[t]);a.dealRecordData(),a.loadI18nText(this.mTableManager),a.soundId&&(this.mMaxId=a.soundId),this.mTableType===u.UNIQUE_ID&&(this.mAllSoundMap.has(a.soundId)?s("parse table %s error, id:%d repeated",this.mTableResName,a.soundId):this.mAllSoundMap.set(a.soundId,a)),this.mAllSoundArray.push(a)}this.mRecordCount=this.mAllSoundArray.length},a.findRecord=function(e){return this.mAllSoundMap.has(e)?this.mAllSoundMap.get(e):null},t}(o))||d);a._RF.pop()}}}));

System.register("chunks:///_virtual/table.base.ts",["./rollupPluginModLoBabelHelpers.js","cc","./enum.table.type.ts"],(function(e){"use strict";var t,n,a,s;return{setters:[function(e){t=e.createClass},function(e){n=e.cclegacy,a=e._decorator},function(e){s=e.EnumTableType}],execute:function(){var i;n._RF.push({},"4dcbcedkclG+JLuRB/UxzPc","table.base",void 0);var r=a.ccclass;e("TableBase",r("TableBase")(i=function(){function e(e){this.mTableResName="",this.mTableType=s.NONE,this.mMaxId=0,this.mRecordCount=0,this.mTableManager=null,this.mTableManager=e,this._initTableData()}var n=e.prototype;return n.parseJsonToClass=function(e){},n.reload=function(){},n._initTableData=function(){},n._onParseFinish=function(){},t(e,[{key:"resName",get:function(){return this.mTableResName}},{key:"maxId",get:function(){return this.mMaxId}},{key:"recordNum",get:function(){return this.mRecordCount}}]),e}())||i);n._RF.pop()}}}));

System.register("chunks:///_virtual/table.building.ts",["./rollupPluginModLoBabelHelpers.js","cc","./table.record.base.ts","./table.base.ts","./enum.table.type.ts"],(function(i){"use strict";var e,n,t,a,l,r,s,u;return{setters:[function(i){e=i.inheritsLoose,n=i.assertThisInitialized},function(i){t=i.cclegacy,a=i._decorator,l=i.error},function(i){r=i.TableRecordBase},function(i){s=i.TableBase},function(i){u=i.EnumTableType}],execute:function(){var d,o;t._RF.push({},"9acfdBl0plN0LKZzdfJICsQ","table.building",void 0);var c=a.ccclass,g=i("RecordBuilding",c("RecordBuilding")(d=function(i){function t(e){var t;return(t=i.call(this)||this).buildingName=void 0,t.buildingDesc=void 0,Object.assign(n(t),e),t}return e(t,i),t.prototype.loadI18nText=function(i){this.buildingName=null==i?void 0:i.getI18nTable(this.buildingNameId)},t}(r))||d);i("TableBuilding",c("TableBuilding")(o=function(i){function n(){for(var e,n=arguments.length,t=new Array(n),a=0;a<n;a++)t[a]=arguments[a];return(e=i.call.apply(i,[this].concat(t))||this).mBuildingArray=new Array,e.mBuildingMap=new Map,e}e(n,i);var t=n.prototype;return t._initTableData=function(){this.mTableResName="Building.txt",this.mTableType=u.UNIQUE_ID},t.parseJsonToClass=function(i){this.mBuildingArray=[],this.mBuildingMap.clear();for(var e=JSON.parse(i).allBuildingRecords,n=0;n<e.length;n+=1){var t=new g(e[n]);t.dealRecordData(),t.loadI18nText(this.mTableManager),t.buildingId&&(this.mMaxId=t.buildingId),this.mTableType===u.UNIQUE_ID&&(this.mBuildingMap.has(t.buildingId)?l("parse table %s error, id:%d repeated",this.mTableResName,t.buildingId):this.mBuildingMap.set(t.buildingId,t)),this.mBuildingArray.push(t)}this.mRecordCount=this.mBuildingArray.length},t.reload=function(){var i=this;this.mBuildingArray.forEach((function(e){return e.loadI18nText(i.mTableManager)}))},t.findRecord=function(i){return this.mBuildingMap.has(i)?this.mBuildingMap.get(i):null},n}(s))||o);t._RF.pop()}}}));

System.register("chunks:///_virtual/table.coin.res.ts",["./rollupPluginModLoBabelHelpers.js","cc","./table.record.base.ts","./table.base.ts","./enum.table.type.ts"],(function(e){"use strict";var n,t,i,a,s,o,r,c;return{setters:[function(e){n=e.inheritsLoose,t=e.assertThisInitialized},function(e){i=e.cclegacy,a=e._decorator,s=e.error},function(e){o=e.TableRecordBase},function(e){r=e.TableBase},function(e){c=e.EnumTableType}],execute:function(){var l,u;i._RF.push({},"ba93bR5avVD4oVnCv7/0CkV","table.coin.res",void 0);var h=a.ccclass,d=e("RecordCoinRes",h("RecordCoinRes")(l=function(e){function i(n){var i;return(i=e.call(this)||this).coinName=void 0,i.coinDesc=void 0,Object.assign(t(i),n),i}return n(i,e),i.prototype.loadI18nText=function(e){this.coinName=null==e?void 0:e.getI18nTable(this.coinNameId),this.coinDesc=null==e?void 0:e.getI18nTable(this.coinDescId)},i}(o))||l);e("TableCoinRes",h("TableCoinRes")(u=function(e){function t(){for(var n,t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];return(n=e.call.apply(e,[this].concat(i))||this).mCoinResArray=new Array,n.mCoinResMap=new Map,n}n(t,e);var i=t.prototype;return i._initTableData=function(){this.mTableResName="CoinRes.txt",this.mTableType=c.UNIQUE_ID},i.parseJsonToClass=function(e){this.mCoinResArray=[],this.mCoinResMap.clear();for(var n=JSON.parse(e).allCoinResRecords,t=0;t<n.length;t+=1){var i=new d(n[t]);i.dealRecordData(),i.loadI18nText(this.mTableManager),i.coinId&&(this.mMaxId=i.coinId),this.mTableType===c.UNIQUE_ID&&(this.mCoinResMap.has(i.coinId)?s("parse table %s error, id:%d repeated",this.mTableResName,i.coinId):this.mCoinResMap.set(i.coinId,i)),this.mCoinResArray.push(i)}this.mRecordCount=this.mCoinResArray.length},i.reload=function(){var e=this;this.mCoinResArray.forEach((function(n){return n.loadI18nText(e.mTableManager)}))},i.findRecord=function(e){return this.mCoinResMap.has(e)?this.mCoinResMap.get(e):null},t}(r))||u);i._RF.pop()}}}));

System.register("chunks:///_virtual/table.combination.ts",["./rollupPluginModLoBabelHelpers.js","cc","./table.record.base.ts","./table.base.ts","./enum.table.type.ts"],(function(t){"use strict";var a,n,i,e,o,r,s,c;return{setters:[function(t){a=t.inheritsLoose,n=t.assertThisInitialized},function(t){i=t.cclegacy,e=t._decorator,o=t.error},function(t){r=t.TableRecordBase},function(t){s=t.TableBase},function(t){c=t.EnumTableType}],execute:function(){var l,b;i._RF.push({},"9ec4f4V0GNIgoTsXZU4zIeb","table.combination",void 0);var m=e.ccclass,u=t("RecordCombination",m("RecordCombination")(l=function(t){function i(a){var i;return i=t.call(this)||this,Object.assign(n(i),a),i}return a(i,t),i}(r))||l);t("TableCombination",m("TableCombination")(b=function(t){function n(){for(var a,n=arguments.length,i=new Array(n),e=0;e<n;e++)i[e]=arguments[e];return(a=t.call.apply(t,[this].concat(i))||this).mCombinationArray=new Array,a.mCombinationMap=new Map,a}a(n,t);var i=n.prototype;return i._initTableData=function(){this.mTableResName="Combination.txt",this.mTableType=c.UNIQUE_ID},i.parseJsonToClass=function(t){this.mCombinationArray=[],this.mCombinationMap.clear();for(var a=JSON.parse(t).allCombinationRecords,n=0;n<a.length;n+=1){var i=new u(a[n]);i.dealRecordData(),i.loadI18nText(this.mTableManager),i.id&&(this.mMaxId=i.id),this.mTableType===c.UNIQUE_ID&&(this.mCombinationMap.has(i.id)?o("parse table %s error, id:%d repeated",this.mTableResName,i.id):this.mCombinationMap.set(i.id,i)),this.mCombinationArray.push(i)}this.mRecordCount=this.mCombinationArray.length},i.findRecord=function(t){return this.mCombinationMap.has(t)?this.mCombinationMap.get(t):null},n}(s))||b);i._RF.pop()}}}));

System.register("chunks:///_virtual/table.farm.exploration.ts",["./rollupPluginModLoBabelHelpers.js","cc","./table.record.base.ts","./table.base.ts","./enum.table.type.ts"],(function(a){"use strict";var r,t,e,o,n,l,i,s;return{setters:[function(a){r=a.inheritsLoose,t=a.assertThisInitialized},function(a){e=a.cclegacy,o=a._decorator,n=a.error},function(a){l=a.TableRecordBase},function(a){i=a.TableBase},function(a){s=a.EnumTableType}],execute:function(){var p,m;e._RF.push({},"cef39xeOaNDpYpEamWCaurw","table.farm.exploration",void 0);var c=o.ccclass,u=a("RecordFarmExploration",c("RecordFarmExploration")(p=function(a){function e(r){var e;return(e=a.call(this)||this).sceneName=void 0,Object.assign(t(e),r),e}return r(e,a),e.prototype.loadI18nText=function(a){this.sceneName=null==a?void 0:a.getI18nTable(this.sceneNameID)},e}(l))||p);a("TableFarmExploration",c("TableFarmExploration")(m=function(a){function t(){for(var r,t=arguments.length,e=new Array(t),o=0;o<t;o++)e[o]=arguments[o];return(r=a.call.apply(a,[this].concat(e))||this).mAllFarmExplorationArray=new Array,r.mAllFarmExplorationMap=new Map,r}r(t,a);var e=t.prototype;return e._initTableData=function(){this.mTableResName="FarmExploration.txt",this.mTableType=s.UNIQUE_ID},e.parseJsonToClass=function(a){this.mAllFarmExplorationArray=[],this.mAllFarmExplorationMap.clear();for(var r=JSON.parse(a).allFarmExplorationRecords,t=0;t<r.length;t+=1){var e=new u(r[t]);e.dealRecordData(),e.loadI18nText(this.mTableManager),e.explorationID&&(this.mMaxId=e.explorationID),this.mTableType===s.UNIQUE_ID&&(this.mAllFarmExplorationMap.has(e.explorationID)?n("parse table %s error, id:%d repeated",this.mTableResName,e.explorationID):this.mAllFarmExplorationMap.set(e.explorationID,e)),this.mAllFarmExplorationArray.push(e)}this.mRecordCount=this.mAllFarmExplorationArray.length},e.reload=function(){var a=this;this.mAllFarmExplorationArray.forEach((function(r){return r.loadI18nText(a.mTableManager)}))},e.getFarmExplorationArray=function(){return this.mAllFarmExplorationArray},e.findRecord=function(a){return this.mAllFarmExplorationMap.has(a)?this.mAllFarmExplorationMap.get(a):null},t}(i))||m);e._RF.pop()}}}));

System.register("chunks:///_virtual/table.farm.level.ts",["./rollupPluginModLoBabelHelpers.js","cc","./table.record.base.ts","./table.base.ts","./enum.table.type.ts"],(function(e){"use strict";var a,r,l,t,s,n,i,m;return{setters:[function(e){a=e.inheritsLoose,r=e.assertThisInitialized},function(e){l=e.cclegacy,t=e._decorator,s=e.error},function(e){n=e.TableRecordBase},function(e){i=e.TableBase},function(e){m=e.EnumTableType}],execute:function(){var o,c;l._RF.push({},"ed011LZ4l1KhrMp5HQoafl5","table.farm.level",void 0);var v=t.ccclass,u=e("RecordFarmLevel",v("RecordFarmLevel")(o=function(e){function l(a){var l;return l=e.call(this)||this,Object.assign(r(l),a),l}return a(l,e),l}(n))||o);e("TableFarmLevel",v("TableFarmLevel")(c=function(e){function r(){for(var a,r=arguments.length,l=new Array(r),t=0;t<r;t++)l[t]=arguments[t];return(a=e.call.apply(e,[this].concat(l))||this).mAllFarmLevelArray=new Array,a.mAllFarmLevelMap=new Map,a}a(r,e);var l=r.prototype;return l._initTableData=function(){this.mTableResName="FarmLevel.txt",this.mTableType=m.UNIQUE_ID},l.parseJsonToClass=function(e){this.mAllFarmLevelArray=[],this.mAllFarmLevelMap.clear();for(var a=JSON.parse(e).allFarmLevelRecords,r=0;r<a.length;r+=1){var l=new u(a[r]);l.dealRecordData(),l.loadI18nText(this.mTableManager),l.farmLevel&&(this.mMaxId=l.farmLevel),this.mTableType===m.UNIQUE_ID&&(this.mAllFarmLevelMap.has(l.farmLevel)?s("parse table %s error, id:%d repeated",this.mTableResName,l.farmLevel):this.mAllFarmLevelMap.set(l.farmLevel,l)),this.mAllFarmLevelArray.push(l)}this.mRecordCount=this.mAllFarmLevelArray.length},l.findRecord=function(e){return this.mAllFarmLevelMap.has(e)?this.mAllFarmLevelMap.get(e):null},r}(i))||c);l._RF.pop()}}}));

System.register("chunks:///_virtual/table.farm.res.ts",["./rollupPluginModLoBabelHelpers.js","cc","./table.record.base.ts","./table.base.ts","./enum.table.type.ts"],(function(e){"use strict";var a,r,t,s,l,n,i,o;return{setters:[function(e){a=e.inheritsLoose,r=e.assertThisInitialized},function(e){t=e.cclegacy,s=e._decorator,l=e.error},function(e){n=e.TableRecordBase},function(e){i=e.TableBase},function(e){o=e.EnumTableType}],execute:function(){var c,m;t._RF.push({},"26bc1M+grJHxoDLH7Oce/zG","table.farm.res",void 0);var u=s.ccclass,h=e("RecordFarmRes",u("RecordFarmRes")(c=function(e){function t(a){var t;return(t=e.call(this)||this).name=void 0,t.desc=void 0,Object.assign(r(t),a),t}return a(t,e),t.prototype.loadI18nText=function(e){this.name=null==e?void 0:e.getI18nTable(this.nameId),this.desc=null==e?void 0:e.getI18nTable(this.descId)},t}(n))||c);e("TableFarmRes",u("TableFarmRes")(m=function(e){function r(){for(var a,r=arguments.length,t=new Array(r),s=0;s<r;s++)t[s]=arguments[s];return(a=e.call.apply(e,[this].concat(t))||this).mAllFarmResArray=new Array,a.mAllFarmResMap=new Map,a}a(r,e);var t=r.prototype;return t._initTableData=function(){this.mTableResName="FarmRes.txt",this.mTableType=o.UNIQUE_ID},t.parseJsonToClass=function(e){this.mAllFarmResArray=[],this.mAllFarmResMap.clear();for(var a=JSON.parse(e).allFarmResRecords,r=0;r<a.length;r+=1){var t=new h(a[r]);t.dealRecordData(),t.loadI18nText(this.mTableManager),this.mTableType===o.UNIQUE_ID&&(this.mAllFarmResMap.has(t.dataId)?l("parse table %s error, id:%d repeated",this.mTableResName,t.dataId):this.mAllFarmResMap.set(t.dataId,t)),this.mAllFarmResArray.push(t)}this.mRecordCount=this.mAllFarmResArray.length},t.reload=function(){var e=this;this.mAllFarmResArray.forEach((function(a){return a.loadI18nText(e.mTableManager)}))},t.findRecord=function(e){return this.mAllFarmResMap.has(e)?this.mAllFarmResMap.get(e):null},t.getByIndex=function(e){return e>=0&&e<this.mAllFarmResArray.length?this.mAllFarmResArray[e]:null},t.getAllResList=function(){return this.mAllFarmResArray},t.getAllResByType=function(e){var a=[];return this.mAllFarmResMap.forEach((function(r){r.type===e&&a.push(r)})),a},r}(i))||m);t._RF.pop()}}}));

System.register("chunks:///_virtual/table.farm.skin.ts",["./rollupPluginModLoBabelHelpers.js","cc","./table.record.base.ts","./table.base.ts","./enum.table.type.ts"],(function(a){"use strict";var r,e,t,n,i,s,o,m;return{setters:[function(a){r=a.inheritsLoose,e=a.assertThisInitialized},function(a){t=a.cclegacy,n=a._decorator,i=a.error},function(a){s=a.TableRecordBase},function(a){o=a.TableBase},function(a){m=a.EnumTableType}],execute:function(){var l,c;t._RF.push({},"aa81bxbT4BB0YChZBQWU0Rm","table.farm.skin",void 0);var u=n.ccclass,h=a("RecordFarmSkin",u("RecordFarmSkin")(l=function(a){function t(r){var t;return(t=a.call(this)||this).name=void 0,Object.assign(e(t),r),t}return r(t,a),t.prototype.loadI18nText=function(a){this.name=null==a?void 0:a.getI18nTable(this.nameId)},t}(s))||l);a("TableFarmSkin",u("TableFarmSkin")(c=function(a){function e(){for(var r,e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(r=a.call.apply(a,[this].concat(t))||this).mFarmSkinArray=new Array,r.mFarmSkinMap=new Map,r}r(e,a);var t=e.prototype;return t._initTableData=function(){this.mTableResName="FarmSkin.txt",this.mTableType=m.UNIQUE_ID},t.parseJsonToClass=function(a){this.mFarmSkinArray=[],this.mFarmSkinMap.clear();for(var r=JSON.parse(a).allFarmSkinRecords,e=0;e<r.length;e+=1){var t=new h(r[e]);t.dealRecordData(),t.loadI18nText(this.mTableManager),t.id&&(this.mMaxId=t.id),this.mTableType===m.UNIQUE_ID&&(this.mFarmSkinMap.has(t.id)?i("parse table %s error, id:%d repeated",this.mTableResName,t.id):this.mFarmSkinMap.set(t.id,t)),this.mFarmSkinArray.push(t)}this.mRecordCount=this.mFarmSkinArray.length},t.reload=function(){var a=this;this.mFarmSkinArray.forEach((function(r){return r.loadI18nText(a.mTableManager)}))},t.getFarmSkinArray=function(){return this.mFarmSkinArray},t.findRecord=function(a){return this.mFarmSkinMap.has(a)?this.mFarmSkinMap.get(a):null},e}(o))||c);t._RF.pop()}}}));

System.register("chunks:///_virtual/table.gift.ts",["./rollupPluginModLoBabelHelpers.js","cc","./table.record.base.ts","./table.base.ts","./enum.table.type.ts"],(function(t){"use strict";var e,a,i,r,n,s,o,l;return{setters:[function(t){e=t.inheritsLoose,a=t.assertThisInitialized},function(t){i=t.cclegacy,r=t._decorator,n=t.error},function(t){s=t.TableRecordBase},function(t){o=t.TableBase},function(t){l=t.EnumTableType}],execute:function(){var c,f;i._RF.push({},"b1c92jzbIZIaq7NHG/g7Vwq","table.gift",void 0);var u=r.ccclass,d=t("RecordGift",u("RecordGift")(c=function(t){function i(e){var i;return(i=t.call(this)||this).name=void 0,i.desc=void 0,Object.assign(a(i),e),i}return e(i,t),i.prototype.loadI18nText=function(t){this.name=null==t?void 0:t.getI18nTable(this.nameId),this.desc=null==t?void 0:t.getI18nTable(this.descId)},i}(s))||c);t("TableGift",u("TableGift")(f=function(t){function a(){for(var e,a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))||this).mGiftArray=new Array,e.mGiftMap=new Map,e}e(a,t);var i=a.prototype;return i._initTableData=function(){this.mTableResName="Gift.txt",this.mTableType=l.UNIQUE_ID},i.parseJsonToClass=function(t){this.mGiftArray=[],this.mGiftMap.clear();for(var e=JSON.parse(t).allGiftRecords,a=0;a<e.length;a+=1){var i=new d(e[a]);i.dealRecordData(),i.loadI18nText(this.mTableManager),i.id&&(this.mMaxId=i.id),this.mTableType===l.UNIQUE_ID&&(this.mGiftMap.has(i.id)?n("parse table %s error, id:%d repeated",this.mTableResName,i.id):this.mGiftMap.set(i.id,i)),this.mGiftArray.push(i)}this.mRecordCount=this.mGiftArray.length},i.reload=function(){var t=this;this.mGiftArray.forEach((function(e){return e.loadI18nText(t.mTableManager)}))},i.findRecord=function(t){return this.mGiftMap.has(t)?this.mGiftMap.get(t):null},a}(o))||f);i._RF.pop()}}}));

System.register("chunks:///_virtual/table.helper.ts",["cc","./table.manager.ts"],(function(e){"use strict";var t,n;return{setters:[function(e){t=e.cclegacy},function(e){n=e.TableManager}],execute:function(){t._RF.push({},"eea46S43i5LyaWAzodIabTs","table.helper",void 0);e("TableHelper",function(){function e(){}return e.getI18nInnerText=function(e){return n.instance.getI18nInner(e)},e.getI18nUIText=function(e){return n.instance.getI18nUIText(e)},e.getI18nTable=function(e){return n.instance.getI18nTable(e)},e.getAllParamRecord=function(e){return n.instance.tableAllParams.findRecord(e)},e.getEffectRecord=function(e){return n.instance.tableAllEffect.findRecord(e)},e.getSoundRecord=function(e){return n.instance.tableAllSound.findRecord(e)},e.getFarmResRecord=function(e){return n.instance.tableFarmRes.findRecord(e)},e.getFarmLevelRecord=function(e){return n.instance.tableFarmLevel.findRecord(e)},e.getFarmMaxLevel=function(){return n.instance.tableFarmLevel.maxId},e.getItemRecord=function(e){return 0===e?null:n.instance.tableItem.findRecord(e)},e.getMapRecord=function(e){return n.instance.tableMap.findRecord(e)},e.getGuideRecord=function(e){return n.instance.tableUserGuide.findRecord(e)},e.getSkillRecord=function(e){return n.instance.tableSkill.findRecord(e)},e.getSkillEffectAction=function(e){return n.instance.tableSkillEffectAction.findRecord(e)},e.getSkillEffectBullet=function(e){return n.instance.tableSkillEffectBullet.findRecord(e)},e.getSkillEffectHitValue=function(e){return n.instance.tableSkillEffectHitValue.findRecord(e)},e.getSkillEffectPersist=function(e){return n.instance.tableSkillEffectPersist.findRecord(e)},e.getStateRecord=function(e){return n.instance.tableState.findRecord(e)},e.getStateEffectControl=function(e){return n.instance.tableStateEffectControl.findRecord(e)},e.getStateEffectAttrChange=function(e){return n.instance.tableStateEffectAttrChange.findRecord(e)},e.getStateEffectInterTrigger=function(e){return n.instance.tableStateEffectInterTrigger.findRecord(e)},e.getStateEffectConditionTrigger=function(e){return n.instance.tableStateEffectConditionTrigger.findRecord(e)},e.getActivityBroadcast=function(e){return n.instance.tableActivityBroadcast.findRecord(e)},e.getSimpleSkill=function(e){return n.instance.tableSimpleSkill.findRecord(e)},e.getWorkerData=function(e){return n.instance.tableWorkerData.findRecord(e)},e.getWorkerLevel=function(e){return n.instance.tableWorkerLevel.findRecord(e)},e.getWorkerBearLevel=function(e){return n.instance.tableWorkerBearLevel.findRecord(e)},e.getWorkerMaxLevel=function(){return n.instance.tableWorkerLevel.maxId},e.getWorkerBearMaxLevel=function(){return n.instance.tableWorkerBearLevel.maxId},e.getCoinRes=function(e){return n.instance.tableCoinRes.findRecord(e)},e.getBuilding=function(e){return n.instance.tableBuilding.findRecord(e)},e.getNftCard=function(e){return n.instance.tableNftCard.findRecord(e)},e.getInvitation=function(e){return n.instance.tableInvitation.findRecord(e)},e.getInvitationMaxLevel=function(){return n.instance.tableInvitation.maxId},e.getPurchase=function(e){return n.instance.tablePurchase.findRecord(e)},e.getAchievementByTypeStage=function(e,t){return n.instance.tableAchievement.findRecordByTypeStage(e,t)},e.getAchievementFristIDByType=function(e){return n.instance.tableAchievement.findRecordFristIDByType(e)},e.getAchievementMaxStageByType=function(e){return n.instance.tableAchievement.findMaxStageByType(e)},e.getMonthlyCard=function(e){return n.instance.tableMonthlyCard.findRecord(e)},e.getFarmSkin=function(e){return n.instance.tableFarmSkin.findRecord(e)},e.getQuidditchConfig=function(e){return n.instance.tableQuidditchConfig.findRecord(e)},e.getQuidditchState=function(e){return n.instance.tableQuidditchState.findRecord(e)},e.getGiftRecord=function(e){return n.instance.tableGift.findRecord(e)},e.getNotcoinAwardRecord=function(e){return n.instance.tableNotcoinAward.findRecord(e)},e.getActivityAwardRecord=function(e){return n.instance.tableActivityAward.findRecord(e)},e.getFarmExploration=function(e){return n.instance.tableFarmExploration.findRecord(e)},e.getWorkerProfessionSkill=function(e){return n.instance.tableWorkerProfessionSkill.findRecord(e)},e.getCombinationRecord=function(e){return n.instance.tableCombination.findRecord(e)},e}());t._RF.pop()}}}));

System.register("chunks:///_virtual/table.i18n.inner.ts",["./rollupPluginModLoBabelHelpers.js","cc","./table.record.base.ts","./table.base.ts","./enum.table.type.ts","./data.i18n.inner.ts"],(function(n){"use strict";var e,t,r,a,l,i,s,o,c;return{setters:[function(n){e=n.inheritsLoose,t=n.assertThisInitialized},function(n){r=n.cclegacy,a=n._decorator,l=n.error},function(n){i=n.TableRecordBase},function(n){s=n.TableBase},function(n){o=n.EnumTableType},function(n){c=n.DefineI18nInner}],execute:function(){var I,u;r._RF.push({},"48eb7zMl0NPL7sOttqH8KOm","table.i18n.inner",void 0);var h=a.ccclass,p=n("RecordI18nInner",h("RecordI18nInner")(I=function(n){function r(e){var r;return r=n.call(this)||this,Object.assign(t(r),e),r}return e(r,n),r}(i))||I);n("TableI18nInner",h("TableI18nInner")(u=function(n){function t(){for(var e,t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return(e=n.call.apply(n,[this].concat(r))||this).mAllI18nUIArray=new Array,e.mAllI18nUIMap=new Map,e}e(t,n);var r=t.prototype;return r._initTableData=function(){this.mTableType=o.UNIQUE_ID},r.loadDataToClass=function(){this.mAllI18nUIArray=[],this.mAllI18nUIMap.clear();for(var n=0;n<c.length;n+=1){var e=new p(c[n]);this.mTableType===o.UNIQUE_ID&&(this.mAllI18nUIMap.has(e.yybName)?l("load i18n inner data error, id:"+e.yybName+" repeated"):this.mAllI18nUIMap.set(e.yybName,e)),this.mAllI18nUIArray.push(e)}this.mRecordCount=this.mAllI18nUIArray.length},r.findRecord=function(n){return this.mAllI18nUIMap.has(n)?this.mAllI18nUIMap.get(n):null},t}(s))||u);r._RF.pop()}}}));

System.register("chunks:///_virtual/table.i18n.interface.ts",["cc"],(function(){"use strict";var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"1e6cd8ZszREXa+leHv9LX79","table.i18n.interface",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/table.i18n.table.ts",["./rollupPluginModLoBabelHelpers.js","cc","./table.record.base.ts","./table.base.ts","./enum.table.type.ts"],(function(e){"use strict";var a,l,t,n,r,s,i,b;return{setters:[function(e){a=e.inheritsLoose,l=e.assertThisInitialized},function(e){t=e.cclegacy,n=e._decorator,r=e.error},function(e){s=e.TableRecordBase},function(e){i=e.TableBase},function(e){b=e.EnumTableType}],execute:function(){var o,c;t._RF.push({},"af0f618TdZEwr5kA8V2gay7","table.i18n.table",void 0);var T=n.ccclass,u=e("RecordI18nTable",T("RecordI18nTable")(o=function(e){function t(a){var t;return t=e.call(this)||this,Object.assign(l(t),a),t}return a(t,e),t}(s))||o);e("TableI18nTable",T("TableI18nTable")(c=function(e){function l(){for(var a,l=arguments.length,t=new Array(l),n=0;n<l;n++)t[n]=arguments[n];return(a=e.call.apply(e,[this].concat(t))||this).mAllI18nTableArray=new Array,a.mAllI18nTableMap=new Map,a}a(l,e);var t=l.prototype;return t._initTableData=function(){this.mTableResName="Zi18nTable.txt",this.mTableType=b.UNIQUE_ID},t.parseJsonToClass=function(e){this.mAllI18nTableArray=[],this.mAllI18nTableMap.clear();for(var a=JSON.parse(e).allI8nTableRecords,l=0;l<a.length;l+=1){var t=new u(a[l]);t.dealRecordData(),t.loadI18nText(this.mTableManager),this.mTableType===b.UNIQUE_ID&&(this.mAllI18nTableMap.has(t.yybName)?r("parse table %s error, id:%d repeated",this.mTableResName,t.yybName):this.mAllI18nTableMap.set(t.yybName,t)),this.mAllI18nTableArray.push(t)}this.mRecordCount=this.mAllI18nTableArray.length},t.findRecord=function(e){return this.mAllI18nTableMap.has(e)?this.mAllI18nTableMap.get(e):null},l}(i))||c);t._RF.pop()}}}));

System.register("chunks:///_virtual/table.i18n.ui.ts",["./rollupPluginModLoBabelHelpers.js","cc","./table.record.base.ts","./table.base.ts","./enum.table.type.ts"],(function(e){"use strict";var a,t,n,r,l,s,i,o;return{setters:[function(e){a=e.inheritsLoose,t=e.assertThisInitialized},function(e){n=e.cclegacy,r=e._decorator,l=e.error},function(e){s=e.TableRecordBase},function(e){i=e.TableBase},function(e){o=e.EnumTableType}],execute:function(){var c,I;n._RF.push({},"366a7heP2lKW6YhMy/8aog8","table.i18n.ui",void 0);var u=r.ccclass,h=e("RecordI18nUI",u("RecordI18nUI")(c=function(e){function n(a){var n;return n=e.call(this)||this,Object.assign(t(n),a),n}return a(n,e),n}(s))||c);e("TableI18nUI",u("TableI18nUI")(I=function(e){function t(){for(var a,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(a=e.call.apply(e,[this].concat(n))||this).mAllI18nUIArray=new Array,a.mAllI18nUIMap=new Map,a}a(t,e);var n=t.prototype;return n._initTableData=function(){this.mTableResName="Zi18nUI.txt",this.mTableType=o.UNIQUE_ID},n.parseJsonToClass=function(e){this.mAllI18nUIArray=[],this.mAllI18nUIMap.clear();for(var a=JSON.parse(e).allI8nUIRecords,t=0;t<a.length;t+=1){var n=new h(a[t]);n.dealRecordData(),n.loadI18nText(this.mTableManager),this.mTableType===o.UNIQUE_ID&&(this.mAllI18nUIMap.has(n.yybName)?l("parse table "+this.mTableResName+" error, id:"+n.yybName+" repeated"):this.mAllI18nUIMap.set(n.yybName,n)),this.mAllI18nUIArray.push(n)}this.mRecordCount=this.mAllI18nUIArray.length},n.findRecord=function(e){return this.mAllI18nUIMap.has(e)?this.mAllI18nUIMap.get(e):null},t}(i))||I);n._RF.pop()}}}));

System.register("chunks:///_virtual/table.invitation.ts",["./rollupPluginModLoBabelHelpers.js","cc","./table.record.base.ts","./table.base.ts","./enum.table.type.ts"],(function(t){"use strict";var e,n,a,i,r,o,s,l;return{setters:[function(t){e=t.inheritsLoose,n=t.assertThisInitialized},function(t){a=t.cclegacy,i=t._decorator,r=t.error},function(t){o=t.TableRecordBase},function(t){s=t.TableBase},function(t){l=t.EnumTableType}],execute:function(){var c,u;a._RF.push({},"66faefMapNA2KpAfEEZMDc1","table.invitation",void 0);var v=i.ccclass,h=t("RecordInvitation",v("RecordInvitation")(c=function(t){function a(e){var a;return(a=t.call(this)||this).desc=void 0,Object.assign(n(a),e),a}return e(a,t),a.prototype.loadI18nText=function(t){this.desc=null==t?void 0:t.getI18nTable(this.descId)},a}(o))||c);t("TableInvitation",v("TableInvitation")(u=function(t){function n(){for(var e,n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))||this).mInvitationArray=new Array,e.mInvitationMap=new Map,e}e(n,t);var a=n.prototype;return a._initTableData=function(){this.mTableResName="Invitation.txt",this.mTableType=l.UNIQUE_ID},a.parseJsonToClass=function(t){this.mInvitationArray=[],this.mInvitationMap.clear();for(var e=JSON.parse(t).allInvitationRecords,n=0;n<e.length;n+=1){var a=new h(e[n]);a.dealRecordData(),a.loadI18nText(this.mTableManager),a.level&&(this.mMaxId=a.level),this.mTableType===l.UNIQUE_ID&&(this.mInvitationMap.has(a.level)?r("parse table %s error, id:%d repeated",this.mTableResName,a.level):this.mInvitationMap.set(a.level,a)),this.mInvitationArray.push(a)}this.mRecordCount=this.mInvitationArray.length},a.reload=function(){var t=this;this.mInvitationArray.forEach((function(e){return e.loadI18nText(t.mTableManager)}))},a.findRecord=function(t){return this.mInvitationMap.has(t)?this.mInvitationMap.get(t):null},n}(s))||u);a._RF.pop()}}}));

System.register("chunks:///_virtual/table.item.ts",["./rollupPluginModLoBabelHelpers.js","cc","./table.record.base.ts","./table.base.ts","./enum.table.type.ts"],(function(e){"use strict";var t,a,r,i,n,s,m,o;return{setters:[function(e){t=e.inheritsLoose,a=e.assertThisInitialized},function(e){r=e.cclegacy,i=e._decorator,n=e.error},function(e){s=e.TableRecordBase},function(e){m=e.TableBase},function(e){o=e.EnumTableType}],execute:function(){var l,c;r._RF.push({},"7092dlT5zBLlI7h8S94Kec/","table.item",void 0);var u=i.ccclass,h=e("RecordItem",u("RecordItem")(l=function(e){function r(t){var r;return(r=e.call(this)||this).itemName=void 0,r.itemDesc=void 0,Object.assign(a(r),t),r}return t(r,e),r.prototype.loadI18nText=function(e){this.itemName=null==e?void 0:e.getI18nTable(this.itemNameId),this.itemDesc=null==e?void 0:e.getI18nTable(this.itemDescId)},r}(s))||l);e("TableItem",u("TableItem")(c=function(e){function a(){for(var t,a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).mItemArray=new Array,t.mItemMap=new Map,t}t(a,e);var r=a.prototype;return r._initTableData=function(){this.mTableResName="Item.txt",this.mTableType=o.UNIQUE_ID},r.parseJsonToClass=function(e){this.mItemArray=[],this.mItemMap.clear();for(var t=JSON.parse(e).allItemRecords,a=0;a<t.length;a+=1){var r=new h(t[a]);r.dealRecordData(),r.loadI18nText(this.mTableManager),r.itemId&&(this.mMaxId=r.itemId),this.mTableType===o.UNIQUE_ID&&(this.mItemMap.has(r.itemId)?n("parse table %s error, id:%d repeated",this.mTableResName,r.itemId):this.mItemMap.set(r.itemId,r)),this.mItemArray.push(r)}this.mRecordCount=this.mItemArray.length},r.reload=function(){var e=this;this.mItemArray.forEach((function(t){return t.loadI18nText(e.mTableManager)}))},r.getItemArray=function(){return this.mItemArray},r.findRecord=function(e){return this.mItemMap.has(e)?this.mItemMap.get(e):null},a}(m))||c);r._RF.pop()}}}));

System.register("chunks:///_virtual/table.manager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./lz-string.min.mjs_cjs=&original=.js","./base.manager.ts","./resource.manager.ts","./table.all.params.ts","./table.all.sound.ts","./table.item.ts","./table.map.ts","./table.skill.ts","./table.skill.effect.action.ts","./table.skill.effect.bullet.ts","./table.skill.effect.hit.value.ts","./table.skill.effect.persist.ts","./table.state.ts","./table.state.effect.control.ts","./table.state.effect.attr.change.ts","./table.state.effect.inter.trigger.ts","./table.state.effect.condition.trigger.ts","./table.all.effect.ts","./table.i18n.ui.ts","./table.i18n.table.ts","./all.define.ts","./table.user.guide.ts","./table.activity.broadcast.ts","./table.simple.skill.ts","./table.worker.data.ts","./table.worker.level.ts","./table.farm.res.ts","./table.farm.level.ts","./table.coin.res.ts","./table.building.ts","./table.nft.card.ts","./table.worker.bear.level.ts","./table.invitation.ts","./table.purchase.ts","./table.achievement.ts","./table.monthly.card.ts","./table.farm.skin.ts","./table.quidditch.state.ts","./table.quidditch.config.ts","./table.gift.ts","./table.notcoin.award.ts","./table.activity.award.ts","./table.farm.exploration.ts","./table.worker.profession.skill.ts","./table.i18n.inner.ts","./table.combination.ts","./lz-string.min.js"],(function(e){"use strict";var t,a,l,i,n,s,r,o,b,c,f,h,u,d,T,k,w,m,p,S,g,_,v,I,A,C,E,y,P,R,B,F,L,x,W,M,N,H,U,G,j,z,J,K,Q,D,O,Z,V,q,X,Y,$,ee;return{setters:[function(e){t=e.inheritsLoose,a=e.assertThisInitialized,l=e.createClass,i=e.asyncToGenerator,n=e.regeneratorRuntime},function(e){s=e.cclegacy,r=e._decorator,o=e.error},null,function(e){b=e.BaseManager},function(e){c=e.ResourceManager},function(e){f=e.TableAllParams},function(e){h=e.TableAllSound},function(e){u=e.TableItem},function(e){d=e.TableMap},function(e){T=e.TableSkill},function(e){k=e.TableSkillEffectAction},function(e){w=e.TableSkillEffectBullet},function(e){m=e.TableSkillEffectHitValue},function(e){p=e.TableSkillEffectPersist},function(e){S=e.TableState},function(e){g=e.TableStateEffectControl},function(e){_=e.TableStateEffectAttrChange},function(e){v=e.TableStateEffectInterTrigger},function(e){I=e.TableStateEffectConditionTrigger},function(e){A=e.TableAllEffect},function(e){C=e.TableI18nUI},function(e){E=e.TableI18nTable},function(e){y=e.ELanType},function(e){P=e.TableUserGuide},function(e){R=e.TableActivityBroadcast},function(e){B=e.TableSimpleSkill},function(e){F=e.TableWorkerData},function(e){L=e.TableWorkerLevel},function(e){x=e.TableFarmRes},function(e){W=e.TableFarmLevel},function(e){M=e.TableCoinRes},function(e){N=e.TableBuilding},function(e){H=e.TableNftCard},function(e){U=e.TableWorkerBearLevel},function(e){G=e.TableInvitation},function(e){j=e.TablePurchase},function(e){z=e.TableAchievement},function(e){J=e.TableMonthlyCard},function(e){K=e.TableFarmSkin},function(e){Q=e.TableQuidditchState},function(e){D=e.TableQuidditchConfig},function(e){O=e.TableGift},function(e){Z=e.TableNotcoinAward},function(e){V=e.TableActivityAward},function(e){q=e.TableFarmExploration},function(e){X=e.TableWorkerProfessionSkill},function(e){Y=e.TableI18nInner},function(e){$=e.TableCombination},function(e){ee=e.default}],execute:function(){var te,ae;s._RF.push({},"5de02MOGxhCbIwCJmgIJIzb","table.manager",void 0);var le=r.ccclass;e("TableManager",le("TableManager")(((ae=function(e){function s(){for(var t,l=arguments.length,i=new Array(l),n=0;n<l;n++)i[n]=arguments[n];return(t=e.call.apply(e,[this].concat(i))||this).CurLanType=y.ZH,t.tableI18nInner=new Y(a(t)),t.tableI18nUI=new C(a(t)),t.tableI18nTable=new E(a(t)),t.tableAllParams=new f(a(t)),t.tableAllEffect=new A(a(t)),t.tableAllSound=new h(a(t)),t.tableMap=new d(a(t)),t.tableItem=new u(a(t)),t.tableFarmRes=new x(a(t)),t.tableFarmLevel=new W(a(t)),t.tableCoinRes=new M(a(t)),t.tableBuilding=new N(a(t)),t.tableWorkerData=new F(a(t)),t.tableWorkerLevel=new L(a(t)),t.tableWorkerBearLevel=new U(a(t)),t.tableUserGuide=new P(a(t)),t.tableSimpleSkill=new B(a(t)),t.tableSkill=new T(a(t)),t.tableSkillEffectAction=new k(a(t)),t.tableSkillEffectBullet=new w(a(t)),t.tableSkillEffectHitValue=new m(a(t)),t.tableSkillEffectPersist=new p(a(t)),t.tableState=new S(a(t)),t.tableStateEffectControl=new g(a(t)),t.tableStateEffectAttrChange=new _(a(t)),t.tableStateEffectInterTrigger=new v(a(t)),t.tableStateEffectConditionTrigger=new I(a(t)),t.tableActivityBroadcast=new R(a(t)),t.tableNftCard=new H(a(t)),t.tableInvitation=new G(a(t)),t.tablePurchase=new j(a(t)),t.tableAchievement=new z(a(t)),t.tableMonthlyCard=new J(a(t)),t.tableFarmSkin=new K(a(t)),t.tableQuidditchConfig=new D(a(t)),t.tableQuidditchState=new Q(a(t)),t.tableGift=new O(a(t)),t.tableNotcoinAward=new Z(a(t)),t.tableActivityAward=new V(a(t)),t.tableFarmExploration=new q(a(t)),t.tableWorkerProfessionSkill=new X(a(t)),t.tableCombination=new $(a(t)),t}t(s,e);var r=s.prototype;return r.loadInnerI18n=function(){this.tableI18nInner.loadDataToClass()},r.loadI18nTables=function(){var e=i(n().mark((function e(){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all([this._loadTable(this.tableI18nUI),this._loadTable(this.tableI18nTable)]));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),r.loadAllTables=function(){var e=i(n().mark((function e(){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all([this._loadTable(this.tableAllParams),this._loadTable(this.tableAllEffect),this._loadTable(this.tableAllSound),this._loadTable(this.tableWorkerData),this._loadTable(this.tableWorkerLevel),this._loadTable(this.tableWorkerBearLevel),this._loadTable(this.tableItem),this._loadTable(this.tableMap),this._loadTable(this.tableFarmRes),this._loadTable(this.tableFarmLevel),this._loadTable(this.tableCoinRes),this._loadTable(this.tableBuilding),this._loadTable(this.tableUserGuide),this._loadTable(this.tableSkill),this._loadTable(this.tableSkillEffectAction),this._loadTable(this.tableSkillEffectBullet),this._loadTable(this.tableSkillEffectHitValue),this._loadTable(this.tableSkillEffectPersist),this._loadTable(this.tableState),this._loadTable(this.tableStateEffectControl),this._loadTable(this.tableStateEffectAttrChange),this._loadTable(this.tableStateEffectInterTrigger),this._loadTable(this.tableStateEffectConditionTrigger),this._loadTable(this.tableActivityBroadcast),this._loadTable(this.tableSimpleSkill),this._loadTable(this.tableNftCard),this._loadTable(this.tableInvitation),this._loadTable(this.tablePurchase),this._loadTable(this.tableAchievement),this._loadTable(this.tableMonthlyCard),this._loadTable(this.tableFarmSkin),this._loadTable(this.tableQuidditchConfig),this._loadTable(this.tableQuidditchState),this._loadTable(this.tableGift),this._loadTable(this.tableNotcoinAward),this._loadTable(this.tableActivityAward),this._loadTable(this.tableFarmExploration),this._loadTable(this.tableWorkerProfessionSkill),this._loadTable(this.tableCombination)]));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),r.reloadAllTables=function(){this.tableWorkerData.reload(),this.tableItem.reload(),this.tableMap.reload(),this.tableFarmRes.reload(),this.tableCoinRes.reload(),this.tableBuilding.reload(),this.tableSkill.reload(),this.tableState.reload(),this.tableActivityBroadcast.reload(),this.tableSimpleSkill.reload(),this.tableNftCard.reload(),this.tableInvitation.reload(),this.tablePurchase.reload(),this.tableAchievement.reload(),this.tableGift.reload(),this.tableNotcoinAward.reload(),this.tableWorkerProfessionSkill.reload(),this.tableFarmExploration.reload()},r._loadTable=function(){var e=i(n().mark((function e(t){var a,l;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.instance.loadRemoteTable(t.resName);case 2:a=e.sent,l=ee.decompressFromBase64(a.text),t.parseJsonToClass(l);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.getI18nInner=function(e){var t="",a=this.tableI18nInner.findRecord(e);if(null==a)return"";switch(this.CurLanType){case y.ZH:t=a.zh;break;case y.EN:t=a.en;break;case y.JP:t=a.jp;break;case y.HK:t=a.hk;break;case y.KO:t=a.ko;break;case y.RU:t=a.ru}return""===t&&(t=a.en),t},r.getI18nUIText=function(e){var t="",a=this.tableI18nUI.findRecord(e);if(null==a)return o("get ui i18n text failed:"+e),"";switch(this.CurLanType){case y.ZH:t=a.zh;break;case y.EN:t=a.en;break;case y.JP:t=a.jp;break;case y.HK:t=a.hk;break;case y.KO:t=a.ko;break;case y.RU:t=a.ru}return""===t&&(t=a.en),t},r.getI18nTable=function(e){var t="",a=this.tableI18nTable.findRecord(e);if(null==a)return"";switch(this.CurLanType){case y.ZH:t=a.zh;break;case y.EN:t=a.en;break;case y.JP:t=a.jp;break;case y.HK:t=a.hk;break;case y.KO:t=a.ko;break;case y.RU:t=a.ru}return""===t&&(t=a.en),t},l(s,null,[{key:"instance",get:function(){return null==this._instance&&(this._instance=new s),this._instance}}]),s}(b))._instance=null,te=ae))||te);s._RF.pop()}}}));

System.register("chunks:///_virtual/table.map.ts",["./rollupPluginModLoBabelHelpers.js","cc","./table.record.base.ts","./table.base.ts","./enum.table.type.ts","./scene.define.ts"],(function(a){"use strict";var e,t,r,n,i,s,p,o,l;return{setters:[function(a){e=a.inheritsLoose,t=a.assertThisInitialized},function(a){r=a.cclegacy,n=a._decorator,i=a.error},function(a){s=a.TableRecordBase},function(a){p=a.TableBase},function(a){o=a.EnumTableType},function(a){l=a.ESceneType}],execute:function(){var c,m;r._RF.push({},"7df8eFIJ0NFhKFnPxeZMlCq","table.map",void 0);var u=n.ccclass,M=a("RecordMap",u("RecordMap")(c=function(a){function r(e){var r;return(r=a.call(this)||this).openCondition=void 0,r.mapName=void 0,Object.assign(t(r),e),r}return e(r,a),r.prototype.loadI18nText=function(a){this.mapName=null==a?void 0:a.getI18nTable(this.mapNameId)},r}(s))||c);a("TableMap",u("TableMap")(m=function(a){function t(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=a.call.apply(a,[this].concat(r))||this).mMazeMapArray=new Array,e.mMapArray=new Array,e.mMapMap=new Map,e}e(t,a);var r=t.prototype;return r._initTableData=function(){this.mTableResName="Map.txt",this.mTableType=o.UNIQUE_ID},r.parseJsonToClass=function(a){this.mMapArray=[],this.mMapMap.clear(),this.mMazeMapArray=[];for(var e=JSON.parse(a).allMapRecords,t=0;t<e.length;t+=1){var r=new M(e[t]);r.dealRecordData(),r.loadI18nText(this.mTableManager),r.mapId&&(this.mMaxId=r.mapId),this.mTableType===o.UNIQUE_ID&&(this.mMapMap.has(r.mapId)?i("parse table %s error, id:%d repeated",this.mTableResName,r.mapId):this.mMapMap.set(r.mapId,r)),this.mMapArray.push(r),r.mapType===l.Maze&&r.mapId>1e3&&this.mMazeMapArray.push(r)}this.mRecordCount=this.mMapArray.length},r.reload=function(){var a=this;this.mMazeMapArray.forEach((function(e){return e.loadI18nText(a.mTableManager)}))},r.findRecord=function(a){return this.mMapMap.has(a)?this.mMapMap.get(a):null},r.getAllMazeList=function(){return this.mMazeMapArray},r.findMazeRecord=function(a){for(var e=0;e<this.mMapArray.length;e++)if(this.mMapArray[e].mapId===a)return this.mMapArray[e];return null},t}(p))||m);r._RF.pop()}}}));

System.register("chunks:///_virtual/table.monthly.card.ts",["./rollupPluginModLoBabelHelpers.js","cc","./table.record.base.ts","./table.base.ts","./enum.table.type.ts"],(function(t){"use strict";var a,e,r,n,l,o,s,i;return{setters:[function(t){a=t.inheritsLoose,e=t.assertThisInitialized},function(t){r=t.cclegacy,n=t._decorator,l=t.error},function(t){o=t.TableRecordBase},function(t){s=t.TableBase},function(t){i=t.EnumTableType}],execute:function(){var h,c;r._RF.push({},"aa0cavl6fRGvoGiiqmVxz20","table.monthly.card",void 0);var d=n.ccclass,u=t("RecordMonthlyCard",d("RecordMonthlyCard")(h=function(t){function r(a){var r;return r=t.call(this)||this,Object.assign(e(r),a),r}return a(r,t),r}(o))||h);t("TableMonthlyCard",d("TableMonthlyCard")(c=function(t){function e(){for(var a,e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return(a=t.call.apply(t,[this].concat(r))||this).mMonthlyCardArray=new Array,a.mMonthlyCardMap=new Map,a}a(e,t);var r=e.prototype;return r._initTableData=function(){this.mTableResName="MonthlyCard.txt",this.mTableType=i.UNIQUE_ID},r.parseJsonToClass=function(t){this.mMonthlyCardArray=[],this.mMonthlyCardMap.clear();for(var a=JSON.parse(t).allMonthlyCardRecords,e=0;e<a.length;e+=1){var r=new u(a[e]);r.dealRecordData(),r.loadI18nText(this.mTableManager),r.id&&(this.mMaxId=r.id),this.mTableType===i.UNIQUE_ID&&(this.mMonthlyCardMap.has(r.id)?l("parse table %s error, id:%d repeated",this.mTableResName,r.id):this.mMonthlyCardMap.set(r.id,r)),this.mMonthlyCardArray.push(r)}this.mRecordCount=this.mMonthlyCardArray.length},r.findRecord=function(t){return this.mMonthlyCardMap.has(t)?this.mMonthlyCardMap.get(t):null},e}(s))||c);r._RF.pop()}}}));

System.register("chunks:///_virtual/table.nft.card.ts",["./rollupPluginModLoBabelHelpers.js","cc","./table.record.base.ts","./table.base.ts","./enum.table.type.ts"],(function(a){"use strict";var t,r,e,n,s,d,c,i;return{setters:[function(a){t=a.inheritsLoose,r=a.assertThisInitialized},function(a){e=a.cclegacy,n=a._decorator,s=a.error},function(a){d=a.TableRecordBase},function(a){c=a.TableBase},function(a){i=a.EnumTableType}],execute:function(){var o,l;e._RF.push({},"75cc5aESUtLAZIRNq2sQhW7","table.nft.card",void 0);var f=n.ccclass,u=a("RecordNftCard",f("RecordNftCard")(o=function(a){function e(t){var e;return(e=a.call(this)||this).cardName=void 0,e.cardDesc=void 0,Object.assign(r(e),t),e}return t(e,a),e.prototype.loadI18nText=function(a){this.cardName=null==a?void 0:a.getI18nTable(this.cardNameId),this.cardDesc=null==a?void 0:a.getI18nTable(this.cardDescId)},e}(d))||o);a("TableNftCard",f("TableNftCard")(l=function(a){function r(){for(var t,r=arguments.length,e=new Array(r),n=0;n<r;n++)e[n]=arguments[n];return(t=a.call.apply(a,[this].concat(e))||this).mNftCardArray=new Array,t.mNftCardMap=new Map,t}t(r,a);var e=r.prototype;return e._initTableData=function(){this.mTableResName="NftCard.txt",this.mTableType=i.UNIQUE_ID},e.parseJsonToClass=function(a){this.mNftCardArray=[],this.mNftCardMap.clear();for(var t=JSON.parse(a).allNftCardRecords,r=0;r<t.length;r+=1){var e=new u(t[r]);e.dealRecordData(),e.loadI18nText(this.mTableManager),e.cardId&&(this.mMaxId=e.cardId),this.mTableType===i.UNIQUE_ID&&(this.mNftCardMap.has(e.cardId)?s("parse table %s error, id:%d repeated",this.mTableResName,e.cardId):this.mNftCardMap.set(e.cardId,e)),this.mNftCardArray.push(e)}this.mRecordCount=this.mNftCardArray.length},e.reload=function(){var a=this;this.mNftCardArray.forEach((function(t){return t.loadI18nText(a.mTableManager)}))},e.findRecord=function(a){return this.mNftCardMap.has(a)?this.mNftCardMap.get(a):null},r}(c))||l);e._RF.pop()}}}));

System.register("chunks:///_virtual/table.notcoin.award.ts",["./rollupPluginModLoBabelHelpers.js","cc","./table.record.base.ts","./table.base.ts","./enum.table.type.ts"],(function(t){"use strict";var a,e,r,n,o,i,s,c;return{setters:[function(t){a=t.inheritsLoose,e=t.assertThisInitialized},function(t){r=t.cclegacy,n=t._decorator,o=t.error},function(t){i=t.TableRecordBase},function(t){s=t.TableBase},function(t){c=t.EnumTableType}],execute:function(){var d,l;r._RF.push({},"b817eOrWpBMerdosGR4Uznm","table.notcoin.award",void 0);var u=n.ccclass,h=t("RecordNotcoinAward",u("RecordNotcoinAward")(d=function(t){function r(a){var r;return(r=t.call(this)||this).name=void 0,r.desc=void 0,Object.assign(e(r),a),r}return a(r,t),r.prototype.loadI18nText=function(t){this.name=null==t?void 0:t.getI18nTable(this.nameId),this.desc=null==t?void 0:t.getI18nTable(this.descId)},r}(i))||d);t("TableNotcoinAward",u("TableNotcoinAward")(l=function(t){function e(){for(var a,e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return(a=t.call.apply(t,[this].concat(r))||this).mNotcoinAwardArray=new Array,a.mNotcoinAwardMap=new Map,a}a(e,t);var r=e.prototype;return r._initTableData=function(){this.mTableResName="NotcoinAward.txt",this.mTableType=c.UNIQUE_ID},r.parseJsonToClass=function(t){this.mNotcoinAwardArray=[],this.mNotcoinAwardMap.clear();for(var a=JSON.parse(t).allNotcoinAwardRecords,e=0;e<a.length;e+=1){var r=new h(a[e]);r.dealRecordData(),r.loadI18nText(this.mTableManager),r.id&&(this.mMaxId=r.id),this.mTableType===c.UNIQUE_ID&&(this.mNotcoinAwardMap.has(r.id)?o("parse table %s error, id:%d repeated",this.mTableResName,r.id):this.mNotcoinAwardMap.set(r.id,r)),this.mNotcoinAwardArray.push(r)}this.mRecordCount=this.mNotcoinAwardArray.length},r.reload=function(){var t=this;this.mNotcoinAwardArray.forEach((function(a){return a.loadI18nText(t.mTableManager)}))},r.getNotcoinAwardArray=function(){return this.mNotcoinAwardArray},r.findRecord=function(t){return this.mNotcoinAwardMap.has(t)?this.mNotcoinAwardMap.get(t):null},e}(s))||l);r._RF.pop()}}}));

System.register("chunks:///_virtual/table.purchase.ts",["./rollupPluginModLoBabelHelpers.js","cc","./table.record.base.ts","./table.base.ts","./enum.table.type.ts"],(function(e){"use strict";var a,r,t,s,n,i,c,u;return{setters:[function(e){a=e.inheritsLoose,r=e.assertThisInitialized},function(e){t=e.cclegacy,s=e._decorator,n=e.error},function(e){i=e.TableRecordBase},function(e){c=e.TableBase},function(e){u=e.EnumTableType}],execute:function(){var h,o;t._RF.push({},"2a5eax/H1xB7YCfnwizlGnH","table.purchase",void 0);var l=s.ccclass,d=e("RecordPurchase",l("RecordPurchase")(h=function(e){function t(a){var t;return(t=e.call(this)||this).name=void 0,t.desc=void 0,Object.assign(r(t),a),t}return a(t,e),t.prototype.loadI18nText=function(e){this.name=null==e?void 0:e.getI18nTable(this.nameId),this.desc=null==e?void 0:e.getI18nTable(this.descId)},t}(i))||h);e("TablePurchase",l("TablePurchase")(o=function(e){function r(){for(var a,r=arguments.length,t=new Array(r),s=0;s<r;s++)t[s]=arguments[s];return(a=e.call.apply(e,[this].concat(t))||this).mPurchaseArray=new Array,a.mPurchaseMap=new Map,a}a(r,e);var t=r.prototype;return t._initTableData=function(){this.mTableResName="Purchase.txt",this.mTableType=u.UNIQUE_ID},t.parseJsonToClass=function(e){this.mPurchaseArray=[],this.mPurchaseMap.clear();for(var a=JSON.parse(e).allPurchaseRecords,r=0;r<a.length;r+=1){var t=new d(a[r]);t.dealRecordData(),t.loadI18nText(this.mTableManager),t.id&&(this.mMaxId=t.id),this.mTableType===u.UNIQUE_ID&&(this.mPurchaseMap.has(t.id)?n("parse table %s error, id:%d repeated",this.mTableResName,t.id):this.mPurchaseMap.set(t.id,t)),this.mPurchaseArray.push(t)}this.mRecordCount=this.mPurchaseArray.length},t.reload=function(){var e=this;this.mPurchaseArray.forEach((function(a){return a.loadI18nText(e.mTableManager)}))},t.getPurchaseArray=function(){return this.mPurchaseArray},t.findRecord=function(e){return this.mPurchaseMap.has(e)?this.mPurchaseMap.get(e):null},r}(c))||o);t._RF.pop()}}}));

System.register("chunks:///_virtual/table.quidditch.config.ts",["./rollupPluginModLoBabelHelpers.js","cc","./table.record.base.ts","./table.base.ts","./enum.table.type.ts"],(function(i){"use strict";var t,e,n,a,r,c,d,o,s;return{setters:[function(i){t=i.inheritsLoose,e=i.createClass,n=i.assertThisInitialized},function(i){a=i.cclegacy,r=i._decorator,c=i.error},function(i){d=i.TableRecordBase},function(i){o=i.TableBase},function(i){s=i.EnumTableType}],execute:function(){var u,h;a._RF.push({},"bf6cbujbNhISp/IQyMvTu3U","table.quidditch.config",void 0);var l=r.ccclass,f=i("RecordQuidditchConfig",l("RecordQuidditchConfig")(u=function(i){function e(t){var e;return e=i.call(this)||this,Object.assign(n(e),t),e}return t(e,i),e}(d))||u);i("TableQuidditchConfig",l("TableQuidditchConfig")(h=function(i){function n(){for(var t,e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];return(t=i.call.apply(i,[this].concat(n))||this).mQuidditchConfigArray=new Array,t.mQuidditchConfigMap=new Map,t}t(n,i);var a=n.prototype;return a._initTableData=function(){this.mTableResName="QuidditchConfig.txt",this.mTableType=s.UNIQUE_ID},a.parseJsonToClass=function(i){this.mQuidditchConfigArray=[],this.mQuidditchConfigMap.clear();for(var t=JSON.parse(i).allQuidditchConfigRecords,e=0;e<t.length;e+=1){var n=new f(t[e]);n.dealRecordData(),n.loadI18nText(this.mTableManager),n.id&&(this.mMaxId=n.id),this.mTableType===s.UNIQUE_ID&&(this.mQuidditchConfigMap.has(n.id)?c("parse table %s error, id:%d repeated",this.mTableResName,n.id):this.mQuidditchConfigMap.set(n.id,n)),this.mQuidditchConfigArray.push(n)}this.mRecordCount=this.mQuidditchConfigArray.length},a.findRecord=function(i){return this.mQuidditchConfigMap.has(i)?this.mQuidditchConfigMap.get(i):null},e(n,[{key:"QuidditchConfigArray",get:function(){return this.mQuidditchConfigArray}}]),n}(o))||h);a._RF.pop()}}}));

System.register("chunks:///_virtual/table.quidditch.state.ts",["./rollupPluginModLoBabelHelpers.js","cc","./table.record.base.ts","./table.base.ts","./enum.table.type.ts"],(function(t){"use strict";var e,a,i,r,s,d,c,n;return{setters:[function(t){e=t.inheritsLoose,a=t.assertThisInitialized},function(t){i=t.cclegacy,r=t._decorator,s=t.error},function(t){d=t.TableRecordBase},function(t){c=t.TableBase},function(t){n=t.EnumTableType}],execute:function(){var u,h;i._RF.push({},"ed8d7P2PstDSK8YgRBrwj98","table.quidditch.state",void 0);var l=r.ccclass,o=t("RecordQuidditchState",l("RecordQuidditchState")(u=function(t){function i(e){var i;return i=t.call(this)||this,Object.assign(a(i),e),i}return e(i,t),i}(d))||u);t("TableQuidditchState",l("TableQuidditchState")(h=function(t){function a(){for(var e,a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))||this).mQuidditchStateArray=new Array,e.mQuidditchStateMap=new Map,e}e(a,t);var i=a.prototype;return i._initTableData=function(){this.mTableResName="QuidditchState.txt",this.mTableType=n.UNIQUE_ID},i.parseJsonToClass=function(t){this.mQuidditchStateArray=[],this.mQuidditchStateMap.clear();for(var e=JSON.parse(t).allQuidditchStateRecords,a=0;a<e.length;a+=1){var i=new o(e[a]);i.dealRecordData(),i.loadI18nText(this.mTableManager),i.id&&(this.mMaxId=i.id),this.mTableType===n.UNIQUE_ID&&(this.mQuidditchStateMap.has(i.id)?s("parse table %s error, id:%d repeated",this.mTableResName,i.id):this.mQuidditchStateMap.set(i.id,i)),this.mQuidditchStateArray.push(i)}this.mRecordCount=this.mQuidditchStateArray.length},i.findRecord=function(t){return this.mQuidditchStateMap.has(t)?this.mQuidditchStateMap.get(t):null},a}(c))||h);i._RF.pop()}}}));

System.register("chunks:///_virtual/table.record.base.ts",["cc"],(function(e){"use strict";var c,t;return{setters:[function(e){c=e.cclegacy,t=e._decorator}],execute:function(){var r;c._RF.push({},"9d2c3bwGpFPT5Zkue2QQAYy","table.record.base",void 0);var a=t.ccclass;e("TableRecordBase",a("TableRecordBase")(r=function(){function e(){}var c=e.prototype;return c.dealRecordData=function(){},c.loadI18nText=function(e){},e}())||r);c._RF.pop()}}}));

System.register("chunks:///_virtual/table.simple.skill.ts",["./rollupPluginModLoBabelHelpers.js","cc","./table.record.base.ts","./table.base.ts","./enum.table.type.ts"],(function(l){"use strict";var e,i,t,a,s,r,n,o;return{setters:[function(l){e=l.inheritsLoose,i=l.assertThisInitialized},function(l){t=l.cclegacy,a=l._decorator,s=l.error},function(l){r=l.TableRecordBase},function(l){n=l.TableBase},function(l){o=l.EnumTableType}],execute:function(){var m,p;t._RF.push({},"6746d4wBp5ACZVymjkMWqpX","table.simple.skill",void 0);var c=a.ccclass,u=l("RecordSimpleSkill",c("RecordSimpleSkill")(m=function(l){function t(e){var t;return(t=l.call(this)||this).skillName=void 0,t.skillDesc=void 0,Object.assign(i(t),e),t}return e(t,l),t.prototype.loadI18nText=function(l){this.skillName=null==l?void 0:l.getI18nTable(this.skillNameId),this.skillDesc=null==l?void 0:l.getI18nTable(this.skillDescId)},t}(r))||m);l("TableSimpleSkill",c("TableSimpleSkill")(p=function(l){function i(){for(var e,i=arguments.length,t=new Array(i),a=0;a<i;a++)t[a]=arguments[a];return(e=l.call.apply(l,[this].concat(t))||this).mSimpleSkillArray=new Array,e.mSimpleSkillMap=new Map,e}e(i,l);var t=i.prototype;return t._initTableData=function(){this.mTableResName="SimulatedFight_SimpleSkill.txt",this.mTableType=o.UNIQUE_ID},t.parseJsonToClass=function(l){this.mSimpleSkillArray=[],this.mSimpleSkillMap.clear();for(var e=JSON.parse(l).allSimpleSkillRecords,i=0;i<e.length;i+=1){var t=new u(e[i]);t.dealRecordData(),t.loadI18nText(this.mTableManager),t.skillId&&(this.mMaxId=t.skillId),this.mTableType===o.UNIQUE_ID&&(this.mSimpleSkillMap.has(t.skillId)?s("parse table %s error, id:%d repeated",this.mTableResName,t.skillId):this.mSimpleSkillMap.set(t.skillId,t)),this.mSimpleSkillArray.push(t)}this.mRecordCount=this.mSimpleSkillArray.length},t.reload=function(){var l=this;this.mSimpleSkillArray.forEach((function(e){return e.loadI18nText(l.mTableManager)}))},t.findRecord=function(l){return this.mSimpleSkillMap.has(l)?this.mSimpleSkillMap.get(l):null},i}(n))||p);t._RF.pop()}}}));

System.register("chunks:///_virtual/table.skill.effect.action.ts",["./rollupPluginModLoBabelHelpers.js","cc","./enum.table.type.ts","./table.base.ts","./table.record.base.ts"],(function(t){"use strict";var e,i,l,c,a,n,r,f,s;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass,l=t.assertThisInitialized},function(t){c=t.cclegacy,a=t._decorator,n=t.error},function(t){r=t.EnumTableType},function(t){f=t.TableBase},function(t){s=t.TableRecordBase}],execute:function(){var o,u;c._RF.push({},"5f04cArFuBEgZLDapC7+E2P","table.skill.effect.action",void 0);var h=a.ccclass,A=t("RecordSkillEffectAction",h("RecordSkillEffectAction")(o=function(t){function i(e){var i;return i=t.call(this)||this,Object.assign(l(i),e),i}return e(i,t),i}(s))||o);t("TableSkillEffectAction",h("TableSkillEffectAction")(u=function(t){function l(){for(var e,i=arguments.length,l=new Array(i),c=0;c<i;c++)l[c]=arguments[c];return(e=t.call.apply(t,[this].concat(l))||this).mSkillEffectActionArray=new Array,e.mSkillEffectActionMap=new Map,e}e(l,t);var c=l.prototype;return c._initTableData=function(){this.mTableResName="SkillEffectAction.txt",this.mTableType=r.UNIQUE_ID},c.parseJsonToClass=function(t){this.mSkillEffectActionArray=[],this.mSkillEffectActionMap.clear();for(var e=JSON.parse(t).allSkillEffectActionRecords,i=0;i<e.length;i+=1){var l=new A(e[i]);l.dealRecordData(),l.loadI18nText(this.mTableManager),this.mTableType===r.UNIQUE_ID&&(this.mSkillEffectActionMap.has(l.SkillEffectName)?n("parse table %s error, id:%d repeated",this.mTableResName,l.SkillEffectName):this.mSkillEffectActionMap.set(l.SkillEffectName,l)),this.mSkillEffectActionArray.push(l)}this.mRecordCount=this.mSkillEffectActionArray.length},c.findRecord=function(t){return this.mSkillEffectActionMap.has(t)?this.mSkillEffectActionMap.get(t):null},i(l,[{key:"AllSkillEffectActionArray",get:function(){return this.mSkillEffectActionArray}}]),l}(f))||u);c._RF.pop()}}}));

System.register("chunks:///_virtual/table.skill.effect.bullet.ts",["./rollupPluginModLoBabelHelpers.js","cc","./enum.table.type.ts","./table.base.ts","./table.record.base.ts"],(function(e){"use strict";var l,t,a,r,i,c,f,s,n;return{setters:[function(e){l=e.inheritsLoose,t=e.createClass,a=e.assertThisInitialized},function(e){r=e.cclegacy,i=e._decorator,c=e.error},function(e){f=e.EnumTableType},function(e){s=e.TableBase},function(e){n=e.TableRecordBase}],execute:function(){var u,o;r._RF.push({},"dee78OXdbtL/o4SxpYyHUlg","table.skill.effect.bullet",void 0);var h=i.ccclass,p=e("RecordSkillEffectBullet",h("RecordSkillEffectBullet")(u=function(e){function t(l){var t;return t=e.call(this)||this,Object.assign(a(t),l),t}return l(t,e),t}(n))||u);e("TableSkillEffectBullet",h("TableSkillEffectBullet")(o=function(e){function a(){for(var l,t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];return(l=e.call.apply(e,[this].concat(a))||this).mSkillEffectBulletArray=new Array,l.mSkillEffectBulletMap=new Map,l}l(a,e);var r=a.prototype;return r._initTableData=function(){this.mTableResName="SkillEffectBullet.txt",this.mTableType=f.UNIQUE_ID},r.parseJsonToClass=function(e){this.mSkillEffectBulletArray=[],this.mSkillEffectBulletMap.clear();for(var l=JSON.parse(e).allSkillEffectBulletRecords,t=0;t<l.length;t+=1){var a=new p(l[t]);a.dealRecordData(),a.loadI18nText(this.mTableManager),this.mTableType===f.UNIQUE_ID&&(this.mSkillEffectBulletMap.has(a.SkillEffectName)?c("parse table %s error, id:%d repeated",this.mTableResName,a.SkillEffectName):this.mSkillEffectBulletMap.set(a.SkillEffectName,a)),this.mSkillEffectBulletArray.push(a)}this.mRecordCount=this.mSkillEffectBulletArray.length},r.findRecord=function(e){return this.mSkillEffectBulletMap.has(e)?this.mSkillEffectBulletMap.get(e):null},t(a,[{key:"AllSkillEffectBulletArray",get:function(){return this.mSkillEffectBulletArray}}]),a}(s))||o);r._RF.pop()}}}));

System.register("chunks:///_virtual/table.skill.effect.hit.value.ts",["./rollupPluginModLoBabelHelpers.js","cc","./enum.table.type.ts","./table.base.ts","./table.record.base.ts"],(function(e){"use strict";var t,l,a,i,r,c,f,s,n;return{setters:[function(e){t=e.inheritsLoose,l=e.createClass,a=e.assertThisInitialized},function(e){i=e.cclegacy,r=e._decorator,c=e.error},function(e){f=e.EnumTableType},function(e){s=e.TableBase},function(e){n=e.TableRecordBase}],execute:function(){var u,o;i._RF.push({},"2f434yP17JJp6QSgHi8o0ko","table.skill.effect.hit.value",void 0);var h=r.ccclass,k=e("RecordSkillEffectHitValue",h("RecordSkillEffectHitValue")(u=function(e){function l(t){var l;return l=e.call(this)||this,Object.assign(a(l),t),l}return t(l,e),l}(n))||u);e("TableSkillEffectHitValue",h("TableSkillEffectHitValue")(o=function(e){function a(){for(var t,l=arguments.length,a=new Array(l),i=0;i<l;i++)a[i]=arguments[i];return(t=e.call.apply(e,[this].concat(a))||this).mSkillEffectHitValueArray=new Array,t.mSkillEffectHitValueMap=new Map,t}t(a,e);var i=a.prototype;return i._initTableData=function(){this.mTableResName="SkillEffectHitValue.txt",this.mTableType=f.UNIQUE_ID},i.parseJsonToClass=function(e){this.mSkillEffectHitValueArray=[],this.mSkillEffectHitValueMap.clear();for(var t=JSON.parse(e).allSkillEffectHitValueRecords,l=0;l<t.length;l+=1){var a=new k(t[l]);a.dealRecordData(),a.loadI18nText(this.mTableManager),this.mTableType===f.UNIQUE_ID&&(this.mSkillEffectHitValueMap.has(a.SkillEffectName)?c("parse table %s error, id:%d repeated",this.mTableResName,a.SkillEffectName):this.mSkillEffectHitValueMap.set(a.SkillEffectName,a)),this.mSkillEffectHitValueArray.push(a)}this.mRecordCount=this.mSkillEffectHitValueArray.length},i.findRecord=function(e){return this.mSkillEffectHitValueMap.has(e)?this.mSkillEffectHitValueMap.get(e):null},l(a,[{key:"AllSkillEffectHitValueArray",get:function(){return this.mSkillEffectHitValueArray}}]),a}(s))||o);i._RF.pop()}}}));

System.register("chunks:///_virtual/table.skill.effect.persist.ts",["./rollupPluginModLoBabelHelpers.js","cc","./enum.table.type.ts","./table.base.ts","./table.record.base.ts"],(function(e){"use strict";var t,s,i,r,l,a,c,f,n;return{setters:[function(e){t=e.inheritsLoose,s=e.createClass,i=e.assertThisInitialized},function(e){r=e.cclegacy,l=e._decorator,a=e.error},function(e){c=e.EnumTableType},function(e){f=e.TableBase},function(e){n=e.TableRecordBase}],execute:function(){var o,u;r._RF.push({},"53d9bISKGpDw4IQF+55RicR","table.skill.effect.persist",void 0);var h=l.ccclass,p=e("RecordSkillEffectPersist",h("RecordSkillEffectPersist")(o=function(e){function s(t){var s;return s=e.call(this)||this,Object.assign(i(s),t),s}return t(s,e),s}(n))||o);e("TableSkillEffectPersist",h("TableSkillEffectPersist")(u=function(e){function i(){for(var t,s=arguments.length,i=new Array(s),r=0;r<s;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))||this).mSkillEffectPersistArray=new Array,t.mSkillEffectPersistMap=new Map,t}t(i,e);var r=i.prototype;return r._initTableData=function(){this.mTableResName="SkillEffectPersist.txt",this.mTableType=c.UNIQUE_ID},r.parseJsonToClass=function(e){this.mSkillEffectPersistArray=[],this.mSkillEffectPersistMap.clear();for(var t=JSON.parse(e).allSkillEffectPersistRecords,s=0;s<t.length;s+=1){var i=new p(t[s]);i.dealRecordData(),i.loadI18nText(this.mTableManager),this.mTableType===c.UNIQUE_ID&&(this.mSkillEffectPersistMap.has(i.SkillEffectName)?a("parse table %s error, id:%d repeated",this.mTableResName,i.SkillEffectName):this.mSkillEffectPersistMap.set(i.SkillEffectName,i)),this.mSkillEffectPersistArray.push(i)}this.mRecordCount=this.mSkillEffectPersistArray.length},r.findRecord=function(e){return this.mSkillEffectPersistMap.has(e)?this.mSkillEffectPersistMap.get(e):null},s(i,[{key:"AllSkillEffectPersistArray",get:function(){return this.mSkillEffectPersistArray}}]),i}(f))||u);r._RF.pop()}}}));

System.register("chunks:///_virtual/table.skill.ts",["./rollupPluginModLoBabelHelpers.js","cc","./enum.table.type.ts","./table.base.ts","./table.record.base.ts"],(function(l){"use strict";var t,e,a,i,r,s,n,c,o;return{setters:[function(l){t=l.inheritsLoose,e=l.createClass,a=l.assertThisInitialized},function(l){i=l.cclegacy,r=l._decorator,s=l.error},function(l){n=l.EnumTableType},function(l){c=l.TableBase},function(l){o=l.TableRecordBase}],execute:function(){var u,k;i._RF.push({},"fa9bczm8MJGHIt6uUi1Lpnc","table.skill",void 0);var h=r.ccclass,p=l("RecordSkill",h("RecordSkill")(u=function(l){function e(t){var e;return(e=l.call(this)||this).RealSkillAttackDis=0,Object.assign(a(e),t),e}return t(e,l),e.prototype.dealRecordData=function(){this.RealSkillAttackDis=.01*this.SkillAttackDis},e}(o))||u);l("TableSkill",h("TableSkill")(k=function(l){function a(){for(var t,e=arguments.length,a=new Array(e),i=0;i<e;i++)a[i]=arguments[i];return(t=l.call.apply(l,[this].concat(a))||this).mSkillArray=new Array,t.mSkillMap=new Map,t}t(a,l);var i=a.prototype;return i._initTableData=function(){this.mTableResName="Skill.txt",this.mTableType=n.UNIQUE_ID},i.parseJsonToClass=function(l){this.mSkillArray=[],this.mSkillMap.clear();for(var t=JSON.parse(l).allSkillRecords,e=0;e<t.length;e+=1){var a=new p(t[e]);a.dealRecordData(),a.loadI18nText(this.mTableManager),a.SkillID&&(this.mMaxId=a.SkillID),this.mTableType===n.UNIQUE_ID&&(this.mSkillMap.has(a.SkillID)?s("parse table %s error, id:%d repeated",this.mTableResName,a.SkillID):this.mSkillMap.set(a.SkillID,a)),this.mSkillArray.push(a)}this.mRecordCount=this.mSkillArray.length},i.findRecord=function(l){return this.mSkillMap.has(l)?this.mSkillMap.get(l):null},e(a,[{key:"AllSkillArray",get:function(){return this.mSkillArray}}]),a}(c))||k);i._RF.pop()}}}));

System.register("chunks:///_virtual/table.state.effect.attr.change.ts",["./rollupPluginModLoBabelHelpers.js","cc","./enum.state.define.ts","./enum.table.type.ts","./table.base.ts","./record.state.effect.base.ts"],(function(t){"use strict";var e,a,r,n,c,f,s,h,i,o;return{setters:[function(t){e=t.inheritsLoose,a=t.createClass,r=t.assertThisInitialized},function(t){n=t.cclegacy,c=t._decorator,f=t.error},function(t){s=t.EStateEffectType},function(t){h=t.EnumTableType},function(t){i=t.TableBase},function(t){o=t.RecordStateEffectBase}],execute:function(){var l,u;n._RF.push({},"4da0faFeyZAc7IRS/G35xHJ","table.state.effect.attr.change",void 0);var g=c.ccclass,A=t("RecordStateEffectAttrChange",g("RecordStateEffectAttrChange")(l=function(t){function a(e){var a;return a=t.call(this)||this,Object.assign(r(a),e),a}return e(a,t),a.prototype.GetStateEffectType=function(){return s.AttrChange},a}(o))||l);t("TableStateEffectAttrChange",g("TableStateEffectAttrChange")(u=function(t){function r(){for(var e,a=arguments.length,r=new Array(a),n=0;n<a;n++)r[n]=arguments[n];return(e=t.call.apply(t,[this].concat(r))||this).mStateEffectAttrChangeArray=new Array,e.mStateEffectAttrChangeMap=new Map,e}e(r,t);var n=r.prototype;return n._initTableData=function(){this.mTableResName="StateEffectAttributeChange.txt",this.mTableType=h.UNIQUE_ID},n.parseJsonToClass=function(t){this.mStateEffectAttrChangeArray=[],this.mStateEffectAttrChangeMap.clear();for(var e=JSON.parse(t).allStateEffectAttrChangeRecords,a=0;a<e.length;a+=1){var r=new A(e[a]);r.dealRecordData(),r.loadI18nText(this.mTableManager),r.StateAttrChangeID&&(this.mMaxId=r.StateAttrChangeID),this.mTableType===h.UNIQUE_ID&&(this.mStateEffectAttrChangeMap.has(r.StateAttrChangeID)?f("parse table %s error, id:%d repeated",this.mTableResName,r.StateAttrChangeID):this.mStateEffectAttrChangeMap.set(r.StateAttrChangeID,r)),this.mStateEffectAttrChangeArray.push(r)}this.mRecordCount=this.mStateEffectAttrChangeArray.length},n.findRecord=function(t){return this.mStateEffectAttrChangeMap.has(t)?this.mStateEffectAttrChangeMap.get(t):null},a(r,[{key:"AllStateEffectAttrChangeArray",get:function(){return this.mStateEffectAttrChangeArray}}]),r}(i))||u);n._RF.pop()}}}));

System.register("chunks:///_virtual/table.state.effect.condition.trigger.ts",["./rollupPluginModLoBabelHelpers.js","cc","./enum.state.define.ts","./enum.table.type.ts","./table.base.ts","./record.state.effect.base.ts"],(function(t){"use strict";var e,i,r,n,a,o,c,f,s,g;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass,r=t.assertThisInitialized},function(t){n=t.cclegacy,a=t._decorator,o=t.error},function(t){c=t.EStateEffectType},function(t){f=t.EnumTableType},function(t){s=t.TableBase},function(t){g=t.RecordStateEffectBase}],execute:function(){var d,l;n._RF.push({},"b4fde1OEmtETY1ezIbVYr8b","table.state.effect.condition.trigger",void 0);var T=a.ccclass,u=t("RecordStateEffectConditionTrigger",T("RecordStateEffectConditionTrigger")(d=function(t){function i(e){var i;return i=t.call(this)||this,Object.assign(r(i),e),i}return e(i,t),i.prototype.GetStateEffectType=function(){return c.ConditionTrigger},i}(g))||d);t("TableStateEffectConditionTrigger",T("TableStateEffectConditionTrigger")(l=function(t){function r(){for(var e,i=arguments.length,r=new Array(i),n=0;n<i;n++)r[n]=arguments[n];return(e=t.call.apply(t,[this].concat(r))||this).mStateEffectConditionTriggerArray=new Array,e.mStateEffectConditionTriggerMap=new Map,e}e(r,t);var n=r.prototype;return n._initTableData=function(){this.mTableResName="StateEffectConditionTrigger.txt",this.mTableType=f.UNIQUE_ID},n.parseJsonToClass=function(t){this.mStateEffectConditionTriggerArray=[],this.mStateEffectConditionTriggerMap.clear();for(var e=JSON.parse(t).allStateEffectConditionTriggerRecords,i=0;i<e.length;i+=1){var r=new u(e[i]);r.dealRecordData(),r.loadI18nText(this.mTableManager),r.StateConditionTriggerID&&(this.mMaxId=r.StateConditionTriggerID),this.mTableType===f.UNIQUE_ID&&(this.mStateEffectConditionTriggerMap.has(r.StateConditionTriggerID)?o("parse table %s error, id:%d repeated",this.mTableResName,r.StateConditionTriggerID):this.mStateEffectConditionTriggerMap.set(r.StateConditionTriggerID,r)),this.mStateEffectConditionTriggerArray.push(r)}this.mRecordCount=this.mStateEffectConditionTriggerArray.length},n.findRecord=function(t){return this.mStateEffectConditionTriggerMap.has(t)?this.mStateEffectConditionTriggerMap.get(t):null},i(r,[{key:"AllStateEffectConditionTriggerArray",get:function(){return this.mStateEffectConditionTriggerArray}}]),r}(s))||l);n._RF.pop()}}}));

System.register("chunks:///_virtual/table.state.effect.control.ts",["./rollupPluginModLoBabelHelpers.js","cc","./enum.state.define.ts","./enum.table.type.ts","./table.base.ts","./record.state.effect.base.ts"],(function(t){"use strict";var e,a,r,o,n,c,l,f,s,i;return{setters:[function(t){e=t.inheritsLoose,a=t.createClass,r=t.assertThisInitialized},function(t){o=t.cclegacy,n=t._decorator,c=t.error},function(t){l=t.EStateEffectType},function(t){f=t.EnumTableType},function(t){s=t.TableBase},function(t){i=t.RecordStateEffectBase}],execute:function(){var u,h;o._RF.push({},"d961bPflltACK5cTvFmUZjX","table.state.effect.control",void 0);var p=n.ccclass,C=t("RecordStateEffectControl",p("RecordStateEffectControl")(u=function(t){function a(e){var a;return a=t.call(this)||this,Object.assign(r(a),e),a}return e(a,t),a.prototype.GetStateEffectType=function(){return l.Control},a}(i))||u);t("TableStateEffectControl",p("TableStateEffectControl")(h=function(t){function r(){for(var e,a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))||this).mStateEffectControlArray=new Array,e.mStateEffectControlMap=new Map,e}e(r,t);var o=r.prototype;return o._initTableData=function(){this.mTableResName="StateEffectControl.txt",this.mTableType=f.UNIQUE_ID},o.parseJsonToClass=function(t){this.mStateEffectControlArray=[],this.mStateEffectControlMap.clear();for(var e=JSON.parse(t).allStateEffectControlRecords,a=0;a<e.length;a+=1){var r=new C(e[a]);r.dealRecordData(),r.loadI18nText(this.mTableManager),r.StateControlID&&(this.mMaxId=r.StateControlID),this.mTableType===f.UNIQUE_ID&&(this.mStateEffectControlMap.has(r.StateControlID)?c("parse table %s error, id:%d repeated",this.mTableResName,r.StateControlID):this.mStateEffectControlMap.set(r.StateControlID,r)),this.mStateEffectControlArray.push(r)}this.mRecordCount=this.mStateEffectControlArray.length},o.findRecord=function(t){return this.mStateEffectControlMap.has(t)?this.mStateEffectControlMap.get(t):null},a(r,[{key:"AllStateEffectControlArray",get:function(){return this.mStateEffectControlArray}}]),r}(s))||h);o._RF.pop()}}}));

System.register("chunks:///_virtual/table.state.effect.inter.trigger.ts",["./rollupPluginModLoBabelHelpers.js","cc","./enum.state.define.ts","./enum.table.type.ts","./table.base.ts","./record.state.effect.base.ts"],(function(e){"use strict";var t,r,a,n,i,c,f,s,g,o;return{setters:[function(e){t=e.inheritsLoose,r=e.createClass,a=e.assertThisInitialized},function(e){n=e.cclegacy,i=e._decorator,c=e.error},function(e){f=e.EStateEffectType},function(e){s=e.EnumTableType},function(e){g=e.TableBase},function(e){o=e.RecordStateEffectBase}],execute:function(){var l,T;n._RF.push({},"05693t0559Gc5pyRwluOLVZ","table.state.effect.inter.trigger",void 0);var u=i.ccclass,I=e("RecordStateEffectInterTrigger",u("RecordStateEffectInterTrigger")(l=function(e){function r(t){var r;return r=e.call(this)||this,Object.assign(a(r),t),r}return t(r,e),r.prototype.GetStateEffectType=function(){return f.InterTrigger},r}(o))||l);e("TableStateEffectInterTrigger",u("TableStateEffectInterTrigger")(T=function(e){function a(){for(var t,r=arguments.length,a=new Array(r),n=0;n<r;n++)a[n]=arguments[n];return(t=e.call.apply(e,[this].concat(a))||this).mStateEffectInterTriggerArray=new Array,t.mStateEffectInterTriggerMap=new Map,t}t(a,e);var n=a.prototype;return n._initTableData=function(){this.mTableResName="StateEffectInterTrigger.txt",this.mTableType=s.UNIQUE_ID},n.parseJsonToClass=function(e){this.mStateEffectInterTriggerArray=[],this.mStateEffectInterTriggerMap.clear();for(var t=JSON.parse(e).allStateEffectInterTriggerRecords,r=0;r<t.length;r+=1){var a=new I(t[r]);a.dealRecordData(),a.loadI18nText(this.mTableManager),a.StateInterTriggerID&&(this.mMaxId=a.StateInterTriggerID),this.mTableType===s.UNIQUE_ID&&(this.mStateEffectInterTriggerMap.has(a.StateInterTriggerID)?c("parse table %s error, id:%d repeated",this.mTableResName,a.StateInterTriggerID):this.mStateEffectInterTriggerMap.set(a.StateInterTriggerID,a)),this.mStateEffectInterTriggerArray.push(a)}this.mRecordCount=this.mStateEffectInterTriggerArray.length},n.findRecord=function(e){return this.mStateEffectInterTriggerMap.has(e)?this.mStateEffectInterTriggerMap.get(e):null},r(a,[{key:"AllStateEffectInterTriggerArray",get:function(){return this.mStateEffectInterTriggerArray}}]),a}(g))||T);n._RF.pop()}}}));

System.register("chunks:///_virtual/table.state.ts",["./rollupPluginModLoBabelHelpers.js","cc","./enum.table.type.ts","./table.base.ts","./table.record.base.ts"],(function(t){"use strict";var e,a,r,s,n,i,o,l;return{setters:[function(t){e=t.inheritsLoose,a=t.assertThisInitialized},function(t){r=t.cclegacy,s=t._decorator,n=t.error},function(t){i=t.EnumTableType},function(t){o=t.TableBase},function(t){l=t.TableRecordBase}],execute:function(){var c,u;r._RF.push({},"bc824NxoBhEGYAJ8xtsPidG","table.state",void 0);var h=s.ccclass,p=t("RecordState",h("RecordState")(c=function(t){function r(e){var r;return r=t.call(this)||this,Object.assign(a(r),e),r}return e(r,t),r}(l))||c);t("TableState",h("TableState")(u=function(t){function a(){for(var e,a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))||this).mStateArray=new Array,e.mStateMap=new Map,e}e(a,t);var r=a.prototype;return r._initTableData=function(){this.mTableResName="State.txt",this.mTableType=i.UNIQUE_ID},r.parseJsonToClass=function(t){this.mStateArray=[],this.mStateMap.clear();for(var e=JSON.parse(t).allStateRecords,a=0;a<e.length;a+=1){var r=new p(e[a]);r.dealRecordData(),r.loadI18nText(this.mTableManager),r.StateID&&(this.mMaxId=r.StateID),this.mTableType===i.UNIQUE_ID&&(this.mStateMap.has(r.StateID)?n("parse table %s error, id:%d repeated",this.mTableResName,r.StateID):this.mStateMap.set(r.StateID,r)),this.mStateArray.push(r)}this.mRecordCount=this.mStateArray.length},r.findRecord=function(t){return this.mStateMap.has(t)?this.mStateMap.get(t):null},a}(o))||u);r._RF.pop()}}}));

System.register("chunks:///_virtual/table.user.guide.ts",["./rollupPluginModLoBabelHelpers.js","cc","./table.record.base.ts","./table.base.ts","./enum.table.type.ts"],(function(e){"use strict";var r,t,i,s,a,n,u,d;return{setters:[function(e){r=e.inheritsLoose,t=e.assertThisInitialized},function(e){i=e.cclegacy,s=e._decorator,a=e.error},function(e){n=e.TableRecordBase},function(e){u=e.TableBase},function(e){d=e.EnumTableType}],execute:function(){var o,c;i._RF.push({},"1dcb5nTM1lIO5CS4JwPdy2d","table.user.guide",void 0);var l=s.ccclass,h=e("RecordUserGuide",l("RecordUserGuide")(o=function(e){function i(r){var i;return(i=e.call(this)||this).guideDesc=void 0,Object.assign(t(i),r),i}return r(i,e),i.prototype.loadI18nText=function(e){this.guideDesc=null==e?void 0:e.getI18nTable(this.descId)},i}(n))||o);e("TableUserGuide",l("TableUserGuide")(c=function(e){function t(){for(var r,t=arguments.length,i=new Array(t),s=0;s<t;s++)i[s]=arguments[s];return(r=e.call.apply(e,[this].concat(i))||this).mUserGuideArray=new Array,r.mUserGuideMap=new Map,r}r(t,e);var i=t.prototype;return i._initTableData=function(){this.mTableResName="UserGuide.txt",this.mTableType=d.UNIQUE_ID},i.parseJsonToClass=function(e){this.mUserGuideArray=[],this.mUserGuideMap.clear();for(var r=JSON.parse(e).allUserGuideRecords,t=0;t<r.length;t+=1){var i=new h(r[t]);i.dealRecordData(),i.loadI18nText(this.mTableManager),i.guideID&&(this.mMaxId=i.guideID),this.mTableType===d.UNIQUE_ID&&(this.mUserGuideMap.has(i.guideID)?a("parse table %s error, id:%d repeated",this.mTableResName,i.guideID):this.mUserGuideMap.set(i.guideID,i)),this.mUserGuideArray.push(i)}this.mRecordCount=this.mUserGuideArray.length},i.reload=function(){var e=this;this.mUserGuideArray.forEach((function(r){return r.loadI18nText(e.mTableManager)}))},i.getUserGuideArray=function(){return this.mUserGuideArray},i.findRecord=function(e){return this.mUserGuideMap.has(e)?this.mUserGuideMap.get(e):null},i.findRecordBy=function(e,r){for(var t=0;t<this.mRecordCount;t++)if(this.mUserGuideArray[t].guideID===e&&this.mUserGuideArray[t].stepID===r)return this.mUserGuideArray[t];return null},t}(u))||c);i._RF.pop()}}}));

System.register("chunks:///_virtual/table.worker.bear.level.ts",["./rollupPluginModLoBabelHelpers.js","cc","./table.record.base.ts","./table.base.ts","./enum.table.type.ts"],(function(e){"use strict";var r,a,t,l,o,s,n,i;return{setters:[function(e){r=e.inheritsLoose,a=e.assertThisInitialized},function(e){t=e.cclegacy,l=e._decorator,o=e.error},function(e){s=e.TableRecordBase},function(e){n=e.TableBase},function(e){i=e.EnumTableType}],execute:function(){var c,v;t._RF.push({},"6abe2X6rd5K6qxxOqtbBOp5","table.worker.bear.level",void 0);var u=l.ccclass,h=e("RecordWorkerBearLevel",u("RecordWorkerBearLevel")(c=function(e){function t(r){var t;return t=e.call(this)||this,Object.assign(a(t),r),t}return r(t,e),t}(s))||c);e("TableWorkerBearLevel",u("TableWorkerBearLevel")(v=function(e){function a(){for(var r,a=arguments.length,t=new Array(a),l=0;l<a;l++)t[l]=arguments[l];return(r=e.call.apply(e,[this].concat(t))||this).mWorkerBearLevelArray=new Array,r.mWorkerBearLevelMap=new Map,r}r(a,e);var t=a.prototype;return t._initTableData=function(){this.mTableResName="WorkerBearLevel.txt",this.mTableType=i.UNIQUE_ID},t.parseJsonToClass=function(e){this.mWorkerBearLevelArray=[],this.mWorkerBearLevelMap.clear();for(var r=JSON.parse(e).allWorkerBearLevelRecords,a=0;a<r.length;a+=1){var t=new h(r[a]);t.dealRecordData(),t.loadI18nText(this.mTableManager),t.level&&(this.mMaxId=t.level),this.mTableType===i.UNIQUE_ID&&(this.mWorkerBearLevelMap.has(t.level)?o("parse table %s error, id:%d repeated",this.mTableResName,t.level):this.mWorkerBearLevelMap.set(t.level,t)),this.mWorkerBearLevelArray.push(t)}this.mRecordCount=this.mWorkerBearLevelArray.length},t.findRecord=function(e){return this.mWorkerBearLevelMap.has(e)?this.mWorkerBearLevelMap.get(e):null},t.getAllLevelCost=function(){var e=[];e.push(0);for(var r=this.mWorkerBearLevelArray,a=0;a<r.length;++a){var t=r[a];e.push(t.levelupCost)}return e},a}(n))||v);t._RF.pop()}}}));

System.register("chunks:///_virtual/table.worker.data.ts",["./rollupPluginModLoBabelHelpers.js","cc","./table.record.base.ts","./table.base.ts","./enum.table.type.ts"],(function(r){"use strict";var e,a,t,o,n,s,i,l;return{setters:[function(r){e=r.inheritsLoose,a=r.assertThisInitialized},function(r){t=r.cclegacy,o=r._decorator,n=r.error},function(r){s=r.TableRecordBase},function(r){i=r.TableBase},function(r){l=r.EnumTableType}],execute:function(){var c,u;t._RF.push({},"95254P0mLRHSYgRhWwAMlrV","table.worker.data",void 0);var h=o.ccclass,D=r("RecordWorkerData",h("RecordWorkerData")(c=function(r){function t(e){var t;return(t=r.call(this)||this).workerName=void 0,t.workerDesc=void 0,Object.assign(a(t),e),t}e(t,r);var o=t.prototype;return o.dealRecordData=function(){},o.loadI18nText=function(r){this.workerName=null==r?void 0:r.getI18nTable(this.workerNameID),this.workerDesc=null==r?void 0:r.getI18nTable(this.workerDescID)},t}(s))||c);r("TableWorkerData",h("TableWorkerData")(u=function(r){function a(){for(var e,a=arguments.length,t=new Array(a),o=0;o<a;o++)t[o]=arguments[o];return(e=r.call.apply(r,[this].concat(t))||this).mWorkerDataArray=new Array,e.mWorkerDataMap=new Map,e}e(a,r);var t=a.prototype;return t._initTableData=function(){this.mTableResName="WorkerData.txt",this.mTableType=l.UNIQUE_ID},t.parseJsonToClass=function(r){this.mWorkerDataArray=[],this.mWorkerDataMap.clear();for(var e=JSON.parse(r).allWorkerDataRecords,a=0;a<e.length;a+=1){var t=new D(e[a]);t.dealRecordData(),t.loadI18nText(this.mTableManager),t.workerID&&(this.mMaxId=t.workerID),this.mTableType===l.UNIQUE_ID&&(this.mWorkerDataMap.has(t.workerID)?n("parse table %s error, id:%d repeated",this.mTableResName,t.workerID):this.mWorkerDataMap.set(t.workerID,t)),this.mWorkerDataArray.push(t)}this.mRecordCount=this.mWorkerDataArray.length},t.reload=function(){var r=this;this.mWorkerDataArray.forEach((function(e){return e.loadI18nText(r.mTableManager)}))},t.findRecord=function(r){return this.mWorkerDataMap.has(r)?this.mWorkerDataMap.get(r):null},a}(i))||u);t._RF.pop()}}}));

System.register("chunks:///_virtual/table.worker.level.ts",["./rollupPluginModLoBabelHelpers.js","cc","./table.record.base.ts","./table.base.ts","./enum.table.type.ts"],(function(e){"use strict";var r,t,a,l,o,s,n,i;return{setters:[function(e){r=e.inheritsLoose,t=e.assertThisInitialized},function(e){a=e.cclegacy,l=e._decorator,o=e.error},function(e){s=e.TableRecordBase},function(e){n=e.TableBase},function(e){i=e.EnumTableType}],execute:function(){var c,v;a._RF.push({},"924f4EwDn5BxbRaB0j1kE0w","table.worker.level",void 0);var u=l.ccclass,h=e("RecordWorkerLevel",u("RecordWorkerLevel")(c=function(e){function a(r){var a;return a=e.call(this)||this,Object.assign(t(a),r),a}return r(a,e),a}(s))||c);e("TableWorkerLevel",u("TableWorkerLevel")(v=function(e){function t(){for(var r,t=arguments.length,a=new Array(t),l=0;l<t;l++)a[l]=arguments[l];return(r=e.call.apply(e,[this].concat(a))||this).mWorkerLevelArray=new Array,r.mWorkerLevelMap=new Map,r}r(t,e);var a=t.prototype;return a._initTableData=function(){this.mTableResName="WorkerLevel.txt",this.mTableType=i.UNIQUE_ID},a.parseJsonToClass=function(e){this.mWorkerLevelArray=[],this.mWorkerLevelMap.clear();for(var r=JSON.parse(e).allWorkerLevelRecords,t=0;t<r.length;t+=1){var a=new h(r[t]);a.dealRecordData(),a.loadI18nText(this.mTableManager),a.level&&(this.mMaxId=a.level),this.mTableType===i.UNIQUE_ID&&(this.mWorkerLevelMap.has(a.level)?o("parse table %s error, id:%d repeated",this.mTableResName,a.level):this.mWorkerLevelMap.set(a.level,a)),this.mWorkerLevelArray.push(a)}this.mRecordCount=this.mWorkerLevelArray.length},a.findRecord=function(e){return this.mWorkerLevelMap.has(e)?this.mWorkerLevelMap.get(e):null},t}(n))||v);a._RF.pop()}}}));

System.register("chunks:///_virtual/table.worker.profession.skill.ts",["./rollupPluginModLoBabelHelpers.js","cc","./table.record.base.ts","./table.base.ts","./enum.table.type.ts"],(function(e){"use strict";var r,s,l,o,i,t,a,n;return{setters:[function(e){r=e.inheritsLoose,s=e.assertThisInitialized},function(e){l=e.cclegacy,o=e._decorator,i=e.error},function(e){t=e.TableRecordBase},function(e){a=e.TableBase},function(e){n=e.EnumTableType}],execute:function(){var k,c;l._RF.push({},"ed52eELWh5L7LAp5wlcQca/","table.worker.profession.skill",void 0);var f=o.ccclass,u=e("RecordWorkerProfessionSkill",f("RecordWorkerProfessionSkill")(k=function(e){function l(r){var l;return(l=e.call(this)||this).skillName=void 0,l.skillDesc=void 0,Object.assign(s(l),r),l}return r(l,e),l.prototype.loadI18nText=function(e){this.skillName=null==e?void 0:e.getI18nTable(this.skillNameId),this.skillDesc=null==e?void 0:e.getI18nTable(this.skillDescId)},l}(t))||k);e("TableWorkerProfessionSkill",f("TableWorkerProfessionSkill")(c=function(e){function s(){for(var r,s=arguments.length,l=new Array(s),o=0;o<s;o++)l[o]=arguments[o];return(r=e.call.apply(e,[this].concat(l))||this).mWorkerProfessionSkillArray=new Array,r.mWorkerProfessionSkillMap=new Map,r}r(s,e);var l=s.prototype;return l._initTableData=function(){this.mTableResName="WorkerProfessionSkill.txt",this.mTableType=n.UNIQUE_ID},l.parseJsonToClass=function(e){this.mWorkerProfessionSkillArray=[],this.mWorkerProfessionSkillMap.clear();for(var r=JSON.parse(e).allWorkerProfessionSkillRecords,s=0;s<r.length;s+=1){var l=new u(r[s]);l.dealRecordData(),l.loadI18nText(this.mTableManager),l.skillId&&(this.mMaxId=l.skillId),this.mTableType===n.UNIQUE_ID&&(this.mWorkerProfessionSkillMap.has(l.skillId)?i("parse table %s error, id:%d repeated",this.mTableResName,l.skillId):this.mWorkerProfessionSkillMap.set(l.skillId,l)),this.mWorkerProfessionSkillArray.push(l)}this.mRecordCount=this.mWorkerProfessionSkillArray.length},l.reload=function(){var e=this;this.mWorkerProfessionSkillArray.forEach((function(r){return r.loadI18nText(e.mTableManager)}))},l.findRecord=function(e){return this.mWorkerProfessionSkillMap.has(e)?this.mWorkerProfessionSkillMap.get(e):null},s}(a))||c);l._RF.pop()}}}));

System.register("chunks:///_virtual/TapGestureRecognizer.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GestureRecognizer.ts","./Timer.ts","./Monitor.ts"],(function(t){"use strict";var e,i,s,n,h,o,u;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass},function(t){s=t.cclegacy,n=t.Input},function(t){h=t.GestureRecognizer},function(t){o=t.Timer},function(t){u=t.Monitor}],execute:function(){s._RF.push({},"2fd602KTwNPH7hyipbmbhZJ","TapGestureRecognizer",void 0);var r=n.EventType,c=t("TapGestureRecognizer",function(t){function s(){for(var e,i=arguments.length,s=new Array(i),n=0;n<i;n++)s[n]=arguments[n];return(e=t.call.apply(t,[this].concat(s))||this).numberOfTapsRequired=1,e.numberOfTouchesRequired=1,e.maxTouchInterval=.25,e.maxTapInterval=.3,e._tapNum=0,e._touchsNum=0,e._timer=0,e._enabled=!1,e._started=!1,e}e(s,t);var n=s.prototype;return n.setEnable=function(t){t?this._enabled||(this.on(r.TOUCH_START,this.__touchBegin,this),this._enabled=!0):this._enabled&&(this.off(r.TOUCH_START,this.__touchBegin,this),this._enabled=!1)},n.dispose=function(){t.prototype.dispose.call(this),this.stopRecoginze(),this.setEnable(!1)},n.stopRecoginze=function(){this.onEnd(null)},n.checkTouches=function(t){var e=t.getAllTouches();return 0===this._touchsNum&&e.length===this.numberOfTouchesRequired||this._touchsNum>0&&e.length===this._touchsNum},n.__touchBegin=function(t){var e=this;if(!u.ignoreEvent(t))if(this.checkTouches(t)){this._started=!0;var i=t.getAllTouches();this._touchsNum=i.length,this._timer=0,o.inst.clearAll(this),o.inst.frameLoop(1,(function(){e._timer+=o.inst.delta,e._timer>=1e3*e.maxTouchInterval&&e.onEnd(t)}),this),this.host.on(r.TOUCH_END,this.__touchEnd,this),this.host.on(r.TOUCH_CANCEL,this.__touchCancel,this)}else this._started&&0===this._tapNum&&this.onEnd(t)},n.onEnd=function(t){o.inst.clearAll(this),this.host.off(r.TOUCH_END,this.__touchEnd,this),this.host.off(r.TOUCH_CANCEL,this.__touchCancel,this),this._timer=0,this._touchsNum=0,this._tapNum=0,this._started=!1},n.__touchCancel=function(t){this.onEnd(t)},n.__touchEnd=function(t){var e=this;u.ignoreEvent(t)||this._started&&0===t.getAllTouches().length&&(this._tapNum++,this.emit(s.ONE_TAP,t),this._timer=0,this._tapNum===this.numberOfTapsRequired?(this.emit(s.TAP_ACTION,t),this.onEnd(t)):(o.inst.clearAll(this),o.inst.frameLoop(1,(function(){e._timer+=o.inst.delta,e._timer>=1e3*e.maxTapInterval&&e.onEnd(t)}),this)))},i(s,[{key:"tapNum",get:function(){return this._tapNum}}]),s}(h));c.ONE_TAP="ONE_TAP",c.TAP_ACTION="TAP_ACTION",s._RF.pop()}}}));

System.register("chunks:///_virtual/TapGestureRecognizerComp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TapGestureRecognizer.ts","./GestureRecognizerComp.ts"],(function(e){"use strict";var r,t,i,n,o,u,a,s,c;return{setters:[function(e){r=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized,o=e.createClass},function(e){u=e.cclegacy,a=e._decorator},function(e){s=e.TapGestureRecognizer},function(e){c=e.GestureRecognizerComp}],execute:function(){var p,l,h,m,f,T,g,z,b,R,d;u._RF.push({},"8733aTQrh9Ffrtk5y4ibJ5Q","TapGestureRecognizerComp",void 0);var v=a.ccclass,_=a.property;e("TapGestureRecognizerComp",(p=v("TapGestureRecognizerComp"),l=_({tooltip:"点击次数（默认1）"}),h=_({tooltip:"手指的个数（默认1）"}),m=_({tooltip:"点击最长间隔（默认0.25s）"}),f=_({tooltip:"点击间隔时间（默认0.3s）"}),p((z=r((g=function(e){function r(){for(var r,t=arguments.length,o=new Array(t),u=0;u<t;u++)o[u]=arguments[u];return r=e.call.apply(e,[this].concat(o))||this,i(r,"numberOfTapsRequired",z,n(r)),i(r,"numberOfTouchesRequired",b,n(r)),i(r,"maxTouchInterval",R,n(r)),i(r,"maxTapInterval",d,n(r)),r}return t(r,e),r.prototype.start=function(){this._recognizer=new s(this.node),this._recognizer.numberOfTapsRequired=this.numberOfTapsRequired,this._recognizer.numberOfTouchesRequired=this.numberOfTouchesRequired,this._recognizer.maxTouchInterval=this.maxTouchInterval,this._recognizer.maxTapInterval=this.maxTapInterval},o(r,[{key:"recognizer",get:function(){return null==this._recognizer&&(this._recognizer=new s(this.node),this._recognizer.numberOfTapsRequired=this.numberOfTapsRequired,this._recognizer.numberOfTouchesRequired=this.numberOfTouchesRequired,this._recognizer.maxTouchInterval=this.maxTouchInterval,this._recognizer.maxTapInterval=this.maxTapInterval),this._recognizer}}]),r}(c)).prototype,"numberOfTapsRequired",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),b=r(g.prototype,"numberOfTouchesRequired",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),R=r(g.prototype,"maxTouchInterval",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.25}}),d=r(g.prototype,"maxTapInterval",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.3}}),T=g))||T));u._RF.pop()}}}));

System.register("chunks:///_virtual/telegram.login.sdk.ts",["cc","./plugin.settings.ts"],(function(e){"use strict";var n,t,r,i;return{setters:[function(e){n=e.cclegacy,t=e._decorator,r=e.log},function(e){i=e.PluginSettings}],execute:function(){var o,u;n._RF.push({},"73af0nwrDJO1ae9Gu+SC9RC","telegram.login.sdk",void 0);var s=t.ccclass;e("TelegramLoginSDK",s("TelegramLoginSDK")(((u=function(){function e(){}return e.initLoginData=function(){window.Telegram&&(r(window.Telegram),this.sTelegramLogin=window.Telegram)},e.popupAuth=function(){var e=this;return new Promise((function(n){null===e.sTelegramLogin&&n({result:!1});var t=i.getCurUsePlatform().bot.id;e.sTelegramLogin.Login.auth({bot_id:t,request_access:!0},(function(e){if(e){var t=Object.keys(e).map((function(n){return n+"="+e[n]})).join("&");r(t),n({result:!0,queryString:t})}else r("telegram login error"),n({result:!1})}))}))},e}()).sTelegramLogin=null,o=u))||o);n._RF.pop()}}}));

System.register("chunks:///_virtual/telegram.web.app.sdk.ts",["./rollupPluginModLoBabelHelpers.js","cc","./api.tg.bot.ts","./ui.float.text.controller.ts"],(function(e){"use strict";var n,t,r,a,i,s;return{setters:[function(e){n=e.asyncToGenerator,t=e.regeneratorRuntime},function(e){r=e.cclegacy,a=e._decorator},function(e){i=e.createInvoiceUrl},function(e){s=e.UIFloatTextController}],execute:function(){var p,l;r._RF.push({},"80387zI/8hHyrOU7LWA8YXw","telegram.web.app.sdk",void 0);var o=a.ccclass;e("TelegramWebAppSDK",o("TelegramWebAppSDK")(((l=function(){function e(){}return e.initWebApp=function(){window.Telegram&&window.Telegram.WebApp&&(""!==window.Telegram.WebApp.initData?(this.sTelegram=window.Telegram,this.initDataString=this.sTelegram.WebApp.initData,this.ready(),this.sTelegram.WebApp.disableVerticalSwipes()):console.log("not in telegram environment"))},e.isCanUseTelegramWebApp=function(){return null!==this.sTelegram},e.getInitData=function(){return this.isCanUseTelegramWebApp()?this.initDataString:""},e.ready=function(){this.isCanUseTelegramWebApp()&&this.sTelegram.WebApp.ready()},e.expand=function(){this.isCanUseTelegramWebApp()&&this.sTelegram.WebApp.expand()},e.openTelegramUrl=function(e){this.isCanUseTelegramWebApp()&&e&&""!==e&&false},e.openUrl=function(e){this.isCanUseTelegramWebApp()?e&&""!==e&&this.sTelegram.WebApp.openLink(e):false},e.pay=function(){var e=n(t().mark((function e(n){var r,a;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isCanUseTelegramWebApp()){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,s.OpenWaiting(),e.next=6,i(n);case 6:r=e.sent,(a=null==r?void 0:r.url)&&this.sTelegram.WebApp.openInvoice(a),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),console.error("telegram pay failed:",e.t0);case 14:return e.prev=14,s.CloseWaiting(),e.finish(14);case 17:case"end":return e.stop()}}),e,this,[[2,11,14,17]])})));return function(n){return e.apply(this,arguments)}}(),e}()).sTelegram=null,l.initDataString="",p=l))||p);r._RF.pop()}}}));

System.register("chunks:///_virtual/test-gesture.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PinchGestureRecognizerComp.ts","./PinchGestureRecognizer.ts"],(function(e){"use strict";var t,n,r,i,o,c,s,u,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){o=e.cclegacy,c=e._decorator,s=e.Component},function(e){u=e.PinchGestureRecognizerComp},function(e){p=e.PinchGestureRecognizer}],execute:function(){var a,l,h,f,g;o._RF.push({},"f1d664iLEVOtpsqBa1OCt7f","test-gesture",void 0);var z=c.ccclass,y=c.property;e("test_gesture",(a=z("test_gesture"),l=y(u),a((g=t((f=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return t=e.call.apply(e,[this].concat(o))||this,r(t,"pinchGestureRecognizerComp",g,i(t)),t}n(t,e);var o=t.prototype;return o.start=function(){this.pinchGestureRecognizerComp.recognizer.on(p.PINCH_ACTION,this.onPinch,this)},o.update=function(e){},o.onDisable=function(){},o.onPinch=function(e,t){console.log(e)},t}(s)).prototype,"pinchGestureRecognizerComp",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=f))||h));o._RF.pop()}}}));

System.register("chunks:///_virtual/test.code.component.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var o,n,e,c;return{setters:[function(t){o=t.inheritsLoose},function(t){n=t.cclegacy,e=t._decorator,c=t.Component}],execute:function(){var r;n._RF.push({},"91813NQPCxLNrKCS1DjDnzP","test.code.component",void 0);var s=e.ccclass;t("TestCodeComponent",s("TestCodeComponent")(r=function(t){function n(){return t.apply(this,arguments)||this}o(n,t);var e=n.prototype;return e.onLoad=function(){},e.start=function(){},n}(c))||r);n._RF.pop()}}}));

System.register("chunks:///_virtual/third.http.manager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./axios.min.mjs_cjs=&original=.js","./axios.min.js"],(function(t){"use strict";var n,e,r,i,u,a;return{setters:[function(t){n=t.createClass,e=t.asyncToGenerator,r=t.regeneratorRuntime},function(t){i=t.cclegacy,u=t.log},null,function(t){a=t.default}],execute:function(){i._RF.push({},"2bd76M9V+lL6pki9/gMte3I","third.http.manager",void 0),t("ThirdHttpManager",function(){function t(){}return t.prototype.notcoinGetUserTier=function(){var t=e(r().mark((function t(n){var e,i,c,s,o;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e="https://clicker-api.joincommunity.xyz/tier/user/"+n,t.next=4,a.get(e);case 4:return i=t.sent,c=0,(s=null==i?void 0:i.data)&&s.ok&&!0===s.ok&&(1===(o=Number(s.data))?c=1:3===o?c=2:4===o&&(c=3)),t.abrupt("return",c);case 11:return t.prev=11,t.t0=t.catch(0),u(t.t0),t.abrupt("return",0);case 15:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(n){return t.apply(this,arguments)}}(),n(t,null,[{key:"instance",get:function(){return null==this._instance&&(this._instance=new t),this._instance}}]),t}())._instance=null,i._RF.pop()}}}));

System.register("chunks:///_virtual/time.system.ts",["./rollupPluginModLoBabelHelpers.js","cc","./game.state.manager.ts","./base.system.ts","./net.system.ts","./timer.client.protocol.ts","./table.helper.ts"],(function(t){"use strict";var e,n,i,r,o,s,a,m,c,u;return{setters:[function(t){e=t.inheritsLoose,n=t.createClass},function(t){i=t.cclegacy,r=t._decorator,o=t.game},function(t){s=t.GameStateManager},function(t){a=t.BaseSystem},function(t){m=t.NetSystem},function(t){c=t.stUserGameTimeTimerClientCmd},function(t){u=t.TableHelper}],execute:function(){var l,g;i._RF.push({},"1e891YLUVZJcLcRB+MbSM5Z","time.system",void 0);var f=r.ccclass;t("TimeSystem",f("TimeSystem")(((g=function(t){function i(){for(var e,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))||this).mHeartBeatTimePos=0,e.mServerSyncTimePos=0,e.mLastServerTime=0,e}e(i,t);var r=i.prototype;return r.sysInitial=function(){t.prototype.sysInitial.call(this)},r.sysFinalize=function(){t.prototype.sysFinalize.call(this)},r.sysUpdate=function(e){t.prototype.sysUpdate.call(this,e),i.xTimeGetTime()-this.mHeartBeatTimePos>1e4&&s.instance.isInGameRun()&&this.confirmGameTimeToServer()},r.confirmGameTimeToServer=function(){if(m.instance.isGateServerConnecting()){this.mHeartBeatTimePos=i.xTimeGetTime();var t=new c;t.userTempID=10,t.gameSecTime=this.getTimestamp(),m.instance.sendCmdGate(t)}},r.setServerGameTime=function(t){this.mLastServerTime=t,this.mServerSyncTimePos=o.totalTime},r.getTimestamp=function(){return Math.round(.001*(o.totalTime-this.mServerSyncTimePos))+this.mLastServerTime},i.xTimeGetTime=function(){return o.totalTime},i.formatDateString=function(t,e){if(void 0===e&&(e=!0),t<=0)return"";var n=new Date(1e3*t),i="";return i+=n.getFullYear()+"/",i+=(n.getMonth()+1<10?"0"+(n.getMonth()+1):n.getMonth()+1)+"/",i+=n.getDate()<10?"0"+n.getDate():n.getDate(),e&&(i+=" ",i+=(n.getHours()<10?"0"+n.getHours():n.getHours())+":",i+=(n.getMinutes()<10?"0"+n.getMinutes():n.getMinutes())+":",i+=n.getSeconds()<10?"0"+n.getSeconds():n.getSeconds()),i},i.formatTimeString=function(t,e,n){void 0===e&&(e=!0),void 0===n&&(n=!0),t<0&&(t=0);var i="",r=Math.floor(t/3600),o=Math.floor(t%3600/60),s=Math.floor(t%60);return e&&(i+=r<10?"0"+r.toString():r.toString(),i+=":"),n&&(i+=o<10?"0"+o.toString():o.toString(),i+=":"),i+=s<10?"0"+s.toString():s.toString()},i.formatTimeString_Mining=function(t){var e="",n=Math.floor(t/86400),i=Math.floor(t%86400/3600);return n>0&&(e=n.toString()+" "+u.getI18nUIText("u.11309")),i>0?(n>0&&(e+=" "),e+=(i+1).toString()+" "+u.getI18nUIText("u.11310")):0===n&&(e="< 1 "+u.getI18nUIText("u.11310")),e},i.formatTimeString_Mail=function(t){var e="",n=Math.floor(t/86400),i=Math.floor(t%86400/3600);return n>0&&(e=n.toString()+u.getI18nUIText("u.11309")),i>0?(n>0&&(e+=" "),e+=(i+1).toString()+u.getI18nUIText("u.11310")):0===n&&(e=u.getI18nUIText("u.11311")),e},i.formatTimeString_BGT=function(t,e){void 0===e&&(e=!1);var n=Math.floor(t%86400/3600),i=Math.floor(t%3600/60);return e?n+"H "+i+"M  "+Math.floor(t%60)+"S":n+"H "+i+"M "},n(i,null,[{key:"instance",get:function(){return null==this._instance&&(this._instance=new i),this._instance}}]),i}(a))._instance=null,l=g))||l);i._RF.pop()}}}));

System.register("chunks:///_virtual/timer.client.protocol.ts",["./rollupPluginModLoBabelHelpers.js","cc","./net.protocol.define.ts","./null.client.protocol.ts"],(function(t){"use strict";var e,i,n,r;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy},function(t){n=t.NetProtocolDefine},function(t){r=t.stNullClientCmd}],execute:function(){i._RF.push({},"cefc7g9dsxG7ID8MVfyMJ+G","timer.client.protocol",void 0);var s=t("GAME_TIMER_CLIENT",1),c=t("REQUEST_USER_GAME_TIME_TIMER_CLIENT",2),o=t("USER_GAME_TIME_TIMER_CLIENT",3),a=t("PING_TIMER_CLIENT",4),u=t("ZERO_TIMER_CLIENT",5),l=t("UPDATE_T_CLIENT",6),m=t("stTimerClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).gsCmd=n.TIME_CLIENT_CMD,e}return e(i,t),i}(r));t("stGameTimeTimerClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).gameSecTime=0,e.gsParam=s,e}return e(i,t),i.prototype.UnPack=function(e){t.prototype.UnPack.call(this,e),this.gameSecTime=this.mByteBuffer.readUint32(),this.ReleaseByteBuffer()},i}(m)),t("stRequestUserGameTimeTimerClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).gsParam=c,e}return e(i,t),i}(m)),t("stUserGameTimeTimerClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).userTempID=0,e.gameSecTime=0,e.gsParam=o,e}e(i,t);var n=i.prototype;return n.Pack=function(){t.prototype.Pack.call(this),this.mByteBuffer.writeUint32(this.userTempID),this.mByteBuffer.writeInt32(this.gameSecTime)},n.UnPack=function(e){t.prototype.UnPack.call(this,e),this.userTempID=this.mByteBuffer.readUint32(),this.gameSecTime=this.mByteBuffer.readUint32(),this.ReleaseByteBuffer()},i}(m)),t("stPingTimeTimerClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).gsParam=a,e}return e(i,t),i.prototype.Pack=function(){t.prototype.Pack.call(this)},i}(m)),t("stZeroTimerClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).onlineTime=0,e.gsParam=u,e}return e(i,t),i.prototype.UnPack=function(e){t.prototype.UnPack.call(this,e),this.onlineTime=this.mByteBuffer.readUint32(),this.ReleaseByteBuffer()},i}(m)),t("stUpdateTClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).gsParam=l,e}return e(i,t),i}(m));i._RF.pop()}}}));

System.register("chunks:///_virtual/timer.tick.data.ts",["cc"],(function(t){"use strict";var a,i;return{setters:[function(t){a=t.cclegacy,i=t._decorator}],execute:function(){var c;a._RF.push({},"0a96fZa9tNBNbqkwtYLj92u","timer.tick.data",void 0);var r=i.ccclass;t("TimerTickData",r("TimerTickData")(c=function(){function t(){this.timerId=0,this.nextTick=0,this.interval=0,this.repeat=0,this.callback=null,this.target=null,this.params=null}return t.prototype.exeAction=function(){var t;null!=this.callback&&(null!=this.target?(t=this.callback).call.apply(t,[this.target].concat(this.params)):this.callback.apply(this,this.params))},t}())||c);a._RF.pop()}}}));

System.register("chunks:///_virtual/timer.tick.ts",["cc","./keyed.priority.queue.ts","./timer.tick.data.ts"],(function(e){"use strict";var i,t,r,u;return{setters:[function(e){i=e.cclegacy,t=e._decorator},function(e){r=e.KeyedPriorityQueue},function(e){u=e.TimerTickData}],execute:function(){var s,c;i._RF.push({},"a3bc4SdzxFKKIbHtriVhLId","timer.tick",void 0);var n=t.ccclass;e("TimerTick",n("TimerTick")(((c=function(){function e(){}return e.AddTimer=function(e,i,t,r,s,c,n){var o=new u;return o.timerId=++this._sNextTimerId,o.interval=i,o.nextTick=this._sTickPos+e+1,o.callback=t,o.target=r,o.params=[s,c,n],this.sTimerQueue.enqueue(o.timerId,o,o.nextTick),o.timerId},e.DelTimer=function(e){this.sTimerQueue.remove(e)},e.reset=function(){for(this._sTickPos=0,this._sNextTimerId=0;0!==this.sTimerQueue.count;)this.sTimerQueue.dequeue()},e.tickUpdate=function(e){for(this._sTickPos+=Math.round(1e3*e);0!==this.sTimerQueue.count;){var i=this.sTimerQueue.peek();if(this._sTickPos<i.nextTick)break;this.sTimerQueue.dequeue(),i.repeat=i.repeat-1,i.interval>0&&i.repeat>0?(i.nextTick+=i.interval,this.sTimerQueue.enqueue(i.timerId,i,i.nextTick),i.exeAction()):i.exeAction()}},e}())._sNextTimerId=0,c._sTickPos=0,c.sTimerQueue=new r,s=c))||s);i._RF.pop()}}}));

System.register("chunks:///_virtual/Timer.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,r,i,n,l,a,s;return{setters:[function(e){t=e.inheritsLoose,r=e.createClass},function(e){i=e.cclegacy,n=e._decorator,l=e.director,a=e.Node,s=e.Component}],execute:function(){var u,h;i._RF.push({},"abd0abhvwxFBZhaxjnq/+WH","Timer",void 0);var o=n.ccclass,c=e("Timer",o("Timer")(((h=function(e){t(n,e);var i=n.prototype;function n(){var t;return(t=e.call(this)||this).scale=1,t.currTimer=Date.now(),t.unscaleTimer=Date.now(),t.currFrame=0,t._delta=0,t._unscaleDelta=0,t._lastTimer=Date.now(),t._map=[],t._handlers=[],t._temp=[],t._count=0,t.scale=1,t.currTimer=Date.now(),t.unscaleTimer=Date.now(),t.currFrame=0,t._delta=0,t._unscaleDelta=0,t._lastTimer=Date.now(),t._map=[],t._handlers=[],t._temp=[],t._count=0,t}return i.start=function(){var e=this,t=l.tick;l.tick=function(r){t.call(l,r*e.scale)}},i.update=function(e){if(this.scale<=0)return this._lastTimer=Date.now(),this._delta=0,void(this._unscaleDelta=0);var t=this.currFrame=this.currFrame+this.scale,r=Date.now();this._unscaleDelta=r-this._lastTimer,this.unscaleTimer+=this._unscaleDelta;var i=this._unscaleDelta>3e4;this._delta=this._unscaleDelta*this.scale,this.currTimer=this.currTimer+this._delta;var n=this.currTimer;this._lastTimer=r;var l=this._handlers;this._count=0;for(var a=0,s=l.length;a<s;a++){var u=l[a];if(null!==u.method){var h=u.useFrame?t:n;if(h>=u.exeTime)if(u.repeat)if(!u.jumpFrame||i)u.exeTime+=u.delay,u.run(!1),h>u.exeTime&&(u.exeTime+=Math.ceil((h-u.exeTime)/u.delay)*u.delay);else for(;h>=u.exeTime;)u.exeTime+=u.delay,u.run(!1);else u.run(!0)}else this._count++}(this._count>30||t%200==0)&&this._clearHandlers(),p.inst._update()},i._clearHandlers=function(){for(var e=this._handlers,t=0,r=e.length;t<r;t++){var i=e[t];null!==i.method?this._temp.push(i):this._recoverHandler(i)}this._handlers=this._temp,e.length=0,this._temp=e},i._recoverHandler=function(e){this._map[e.key]===e&&(this._map[e.key]=null),e.clear(),n._pool.push(e)},i._create=function(e,t,r,i,l,a,s){if(!r)return i.apply(l,a),null;var u=null;if(s){var h=this._getHandler(i,l);if(h)return h.repeat=t,h.useFrame=e,h.delay=r,h.caller=l,h.method=i,h.args=a,h.exeTime=r+(e?this.currFrame:this.currTimer+Date.now()-this._lastTimer),h}return(u=n._pool.length>0?n._pool.pop():new d).repeat=t,u.useFrame=e,u.delay=r,u.caller=l,u.method=i,u.args=a,u.exeTime=r+(e?this.currFrame:this.currTimer+Date.now()-this._lastTimer),this._indexHandler(u),this._handlers.push(u),u},i._indexHandler=function(e){var t=e.caller,r=e.method,i=t?t.$_GID||(t.$_GID=n._gid++):0,l=r.$_TID||(r.$_TID=1e5*n._mid++);e.key=i+l,this._map[e.key]=e},i.once=function(e,t,r,i,n){void 0===i&&(i=null),void 0===n&&(n=!0),this._create(!1,!1,e,t,r,i,n)},i.loop=function(e,t,r,i,n,l){void 0===i&&(i=null),void 0===n&&(n=!0),void 0===l&&(l=!1);var a=this._create(!1,!0,e,t,r,i,n);a&&(a.jumpFrame=l)},i.frameOnce=function(e,t,r,i,n){void 0===i&&(i=null),void 0===n&&(n=!0),this._create(!0,!1,e,t,r,i,n)},i.frameLoop=function(e,t,r,i,n){void 0===i&&(i=null),void 0===n&&(n=!0),this._create(!0,!0,e,t,r,i,n)},i.toString=function(){return" handlers:"+this._handlers.length+" pool:"+n._pool.length},i.clear=function(e,t){var r=this._getHandler(e,t);r&&(this._map[r.key]=null,r.key=0,r.clear())},i.clearAll=function(e){if(e)for(var t=0,r=this._handlers.length;t<r;t++){var i=this._handlers[t];i.caller===e&&(this._map[i.key]=null,i.key=0,i.clear())}},i._getHandler=function(e,t){var r=t?t.$_GID||(t.$_GID=n._gid++):0,i=e.$_TID||(e.$_TID=1e5*n._mid++);return this._map[r+i]},i.callLater=function(e,t,r){void 0===r&&(r=null),p.inst.callLater(e,t,r)},i.runCallLater=function(e,t){p.inst.runCallLater(e,t)},i.runTimer=function(e,t){var r=this._getHandler(e,t);r&&null!=r.method&&(this._map[r.key]=null,r.run(!0))},i.pause=function(){this.scale=0},i.resume=function(){this.scale=1},r(n,[{key:"delta",get:function(){return this._delta}},{key:"unscaleDelta",get:function(){return this._unscaleDelta}}],[{key:"inst",get:function(){if(null==this._inst){var e=new a("Timer");l.getScene().addChild(e),l.addPersistRootNode(e),this._inst=e.addComponent(n)}return this._inst}}]),n}(s))._inst=void 0,h.gSysTimer=null,h._pool=[],h._mid=1,h._gid=1,u=h))||u),_=function(){function e(){this.repeat=0,this.useFrame=!1,this.delay=0,this.exeTime=0,this.jumpFrame=!1,this.key=0,this.caller=null,this.method=null,this.args=null}var t=e.prototype;return t.clear=function(){},t.run=function(e){},e}(),d=e("TimerHandler",function(e){function r(){return e.apply(this,arguments)||this}t(r,e);var i=r.prototype;return i.clear=function(){this.caller=null,this.method=null,this.args=null},i.run=function(e){var t=this.caller;if(t&&t.destroyed)return this.clear();var r=this.method,i=this.args;e&&this.clear(),null!=r&&(i?r.apply(t,i):r.call(t))},r}(_)),m=e("LaterHandler",function(e){function r(){return e.apply(this,arguments)||this}t(r,e);var i=r.prototype;return i.clear=function(){this.caller=null,this.method=null,this.args=null},i.run=function(){var e=this.caller;if(e&&e.destroyed)return this.clear();var t=this.method,r=this.args;null!=t&&(r?t.apply(e,r):t.call(e))},r}(_)),p=function(){function e(){this._pool=[],this._map={},this._laters=[],this._pool=[],this._map={},this._laters=[]}var t=e.prototype;return t._update=function(){var e=this._laters,t=e.length;if(t>0){for(var r=0,i=t-1;r<=i;r++){var n=e[r];this._map[n.key]=null,null!==n.method&&(n.run(),n.clear()),this._pool.push(n),r===i&&(i=e.length-1)}e.length=0}},t._getHandler=function(e,t){var r=t?t.$_GID||(t.$_GID=c._gid++):0,i=e.$_TID||(e.$_TID=c._mid++);return this._map[r+"."+i]},t.callLater=function(e,t,r){if(void 0===r&&(r=null),null==this._getHandler(e,t)){var i;(i=this._pool.length?this._pool.pop():new m).caller=t,i.method=e,i.args=r;var n=t?t.$_GID:0,l=e.$_TID;i.key=n+"."+l,this._map[i.key]=i,this._laters.push(i)}},t.runCallLater=function(e,t){var r=this._getHandler(e,t);r&&null!=r.method&&(this._map[r.key]=null,r.run(),r.clear())},e}();p.inst=new p,i._RF.pop()}}}));

System.register("chunks:///_virtual/ton.sdk.ts",["./rollupPluginModLoBabelHelpers.js","cc","./tonweb.mjs_cjs=&original=.js","./event.dispatcher.ts","./event.name.ts","./plugin.settings.ts","./ui.float.text.controller.ts","./tonweb.js"],(function(t){"use strict";var e,n,r,s,o,i,a,c,d;return{setters:[function(t){e=t.asyncToGenerator,n=t.regeneratorRuntime},function(t){r=t.cclegacy,s=t._decorator},null,function(t){o=t.EventDispatcher},function(t){i=t.EventName},function(t){a=t.PluginSettings},function(t){c=t.UIFloatTextController},function(t){d=t.default}],execute:function(){var u,l;r._RF.push({},"4f47f3OdiVP8qRgf3y5DuV+","ton.sdk",void 0);var h=s.ccclass;t("TonSDK",h("TonSDK")(((l=function(){function t(){}return t.initTonSDK=function(){var t=this,e=a.getCurUsePlatform();this.tonWeb=new d(new d.HttpProvider(e.ton.apiUrl)),this.window_TON_CONNECT_UI=window.TON_CONNECT_UI,this.window_TON_CONNECT_UI?(this.tonConnectUI=new this.window_TON_CONNECT_UI.TonConnectUI({manifestUrl:e.ton.manifestUrl}),this.tonConnectUI.onStatusChange((function(e){t.onTonConnectStatusChanged(e)})),this.initFinish=!0):console.error("ton_connect_ui not exist")},t.isConnected=function(){return!(!this.initFinish||!this.tonConnectUI.connected)},t.connect=function(){var t=e(n().mark((function t(){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.initFinish){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,this.tonConnectUI.openModal();case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),t.disConnect=function(){var t=e(n().mark((function t(){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.initFinish){t.next=2;break}return t.abrupt("return");case 2:if(this.tonConnectUI.connected){t.next=4;break}return t.abrupt("return");case 4:return t.next=6,this.tonConnectUI.disconnect();case 6:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),t.connectTargetWallet=function(){var t=e(n().mark((function t(e){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e&&""!==e){t.next=2;break}return t.abrupt("return",!1);case 2:return t.next=4,this.disConnect();case 4:return t.next=6,this.tonConnectUI.openSingleWalletModal(e);case 6:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),t.isConnectedTargetWallet=function(t){return this.connectedWalletName===t},t.onTonConnectStatusChanged=function(){var t=e(n().mark((function t(e){var r;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e?(this.connectedWalletName=e.appName,console.log(this.connectedWalletName),r=new d.Address(e.account.address),this.connectedAddress=r.toString(!0,!0,!1),this.refreshNotcoinAddress()):(this.connectedWalletName="",this.connectedAddress="",this.connectedNotcoinAddress,this.connectedDogsAddress),o.emit(i.UI_TON_WALLET_STATUS_CHANGED);case 2:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),t.refreshNotcoinAddress=function(){var t=e(n().mark((function t(){var e,r,s,o;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(""!==(e=a.getCurUsePlatform()).ton.notMasterAddress){t.next=3;break}return t.abrupt("return");case 3:return t.prev=3,r=new d.token.jetton.JettonMinter(this.tonWeb.provider,{address:e.ton.notMasterAddress,adminAddress:null,jettonContentUri:"",jettonWalletCodeHex:""}),t.next=7,r.getJettonWalletAddress(new d.utils.Address(this.connectedAddress));case 7:return s=t.sent,o=new d.token.jetton.JettonWallet(this.tonWeb.provider,{address:s}),t.next=11,o.getData();case 11:if(t.sent.jettonMinterAddress.toString(!1)===new d.utils.Address(e.ton.notMasterAddress).toString(!1)){t.next=14;break}throw new Error("jetton minter address from jetton wallet dose not match config");case 14:this.connectedNotcoinAddress=s.toString(!0,!0,!0),t.next=20;break;case 17:t.prev=17,t.t0=t.catch(3),console.log(t.t0);case 20:case"end":return t.stop()}}),t,this,[[3,17]])})));return function(){return t.apply(this,arguments)}}(),t.refreshDogsAddress=function(){var t=e(n().mark((function t(){var e,r,s,o;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(""!==(e=a.getCurUsePlatform()).ton.dogsMasterAddress){t.next=3;break}return t.abrupt("return");case 3:return t.prev=3,r=new d.token.jetton.JettonMinter(this.tonWeb.provider,{address:e.ton.dogsMasterAddress,adminAddress:null,jettonContentUri:"",jettonWalletCodeHex:""}),t.next=7,r.getJettonWalletAddress(new d.utils.Address(this.connectedAddress));case 7:return s=t.sent,o=new d.token.jetton.JettonWallet(this.tonWeb.provider,{address:s}),t.next=11,o.getData();case 11:if(t.sent.jettonMinterAddress.toString(!1)===new d.utils.Address(e.ton.dogsMasterAddress).toString(!1)){t.next=14;break}throw new Error("jetton minter address from jetton wallet dose not match config");case 14:this.connectedDogsAddress=s.toString(!0,!0,!0),t.next=20;break;case 17:t.prev=17,t.t0=t.catch(3),console.log(t.t0);case 20:case"end":return t.stop()}}),t,this,[[3,17]])})));return function(){return t.apply(this,arguments)}}(),t.sendTon=function(){var t=e(n().mark((function t(e,r){var s,o,i,u,l,h,f;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.isConnected()){t.next=3;break}return this.connect(),t.abrupt("return");case 3:return t.prev=3,c.OpenWaiting(),s=a.getCurUsePlatform(),(o=new d.boc.Cell).bits.writeUint(0,32),o.bits.writeString(r),t.t0=d.utils,t.next=12,o.toBoc();case 12:return t.t1=t.sent,i=t.t0.bytesToBase64.call(t.t0,t.t1),u=d.utils.toNano(e),l="mainnet"===s.ton.chain?this.window_TON_CONNECT_UI.CHAIN.MAINNET:this.window_TON_CONNECT_UI.CHAIN.TESTNET,h={validUntil:Math.floor(Date.now()/1e3)+120,network:l,messages:[{address:s.ton.rechargeAddress,amount:u.toNumber(),payload:i}]},t.next=19,this.tonConnectUI.sendTransaction(h);case 19:f=t.sent,console.log(f),t.next=26;break;case 23:t.prev=23,t.t2=t.catch(3),console.error(t.t2);case 26:return t.prev=26,c.CloseWaiting(),t.finish(26);case 29:case"end":return t.stop()}}),t,this,[[3,23,26,29]])})));return function(e,n){return t.apply(this,arguments)}}(),t.sendNot=function(){var t=e(n().mark((function t(e,r){var s,o,i,u,l,h,f,w;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.isConnected()){t.next=3;break}return this.connect(),t.abrupt("return");case 3:if(t.prev=3,c.OpenWaiting(),""!==this.connectedNotcoinAddress){t.next=8;break}return t.next=8,this.refreshNotcoinAddress();case 8:return s=a.getCurUsePlatform(),o=new d.Address(this.connectedAddress),i=new d.Address(s.ton.rechargeAddress),(u=new d.boc.Cell).bits.writeUint(0,32),u.bits.writeString(r),(l=new d.boc.Cell).bits.writeUint(260734629,32),l.bits.writeUint(0,64),l.bits.writeCoins(d.utils.toNano(e)),l.bits.writeAddress(i),l.bits.writeAddress(o),l.bits.writeBit(!1),l.bits.writeCoins(new d.utils.BN(1)),l.bits.writeBit(!0),l.refs.push(u),t.t0=d.utils,t.next=27,l.toBoc();case 27:return t.t1=t.sent,h=t.t0.bytesToBase64.call(t.t0,t.t1),f=this.window_TON_CONNECT_UI.CHAIN.MAINNET,w={validUntil:Math.floor(Date.now()/1e3)+120,network:f,messages:[{address:this.connectedNotcoinAddress,amount:d.utils.toNano("0.1").toNumber(),payload:h}]},t.next=33,this.tonConnectUI.sendTransaction(w);case 33:t.next=38;break;case 35:t.prev=35,t.t2=t.catch(3),console.error(t.t2);case 38:return t.prev=38,c.CloseWaiting(),t.finish(38);case 41:case"end":return t.stop()}}),t,this,[[3,35,38,41]])})));return function(e,n){return t.apply(this,arguments)}}(),t.sendDogs=function(){var t=e(n().mark((function t(e,r){var s,o,i,u,l,h,f,w;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.isConnected()){t.next=3;break}return this.connect(),t.abrupt("return");case 3:if(t.prev=3,c.OpenWaiting(),""!==this.connectedDogsAddress){t.next=8;break}return t.next=8,this.refreshDogsAddress();case 8:return s=a.getCurUsePlatform(),o=new d.Address(this.connectedAddress),i=new d.Address(s.ton.rechargeAddress),(u=new d.boc.Cell).bits.writeUint(0,32),u.bits.writeString(r),(l=new d.boc.Cell).bits.writeUint(260734629,32),l.bits.writeUint(0,64),l.bits.writeCoins(d.utils.toNano(e)),l.bits.writeAddress(i),l.bits.writeAddress(o),l.bits.writeBit(!1),l.bits.writeCoins(new d.utils.BN(1)),l.bits.writeBit(!0),l.refs.push(u),t.t0=d.utils,t.next=27,l.toBoc();case 27:return t.t1=t.sent,h=t.t0.bytesToBase64.call(t.t0,t.t1),f=this.window_TON_CONNECT_UI.CHAIN.MAINNET,w={validUntil:Math.floor(Date.now()/1e3)+120,network:f,messages:[{address:this.connectedDogsAddress,amount:d.utils.toNano("0.1").toNumber(),payload:h}]},t.next=33,this.tonConnectUI.sendTransaction(w);case 33:t.next=38;break;case 35:t.prev=35,t.t2=t.catch(3),console.error(t.t2);case 38:return t.prev=38,c.CloseWaiting(),t.finish(38);case 41:case"end":return t.stop()}}),t,this,[[3,35,38,41]])})));return function(e,n){return t.apply(this,arguments)}}(),t}()).window_TON_CONNECT_UI=null,l.tonConnectUI=null,l.tonWeb=null,l.initFinish=!1,l.connectedWalletName="",l.connectedAddress="",l.connectedNotcoinAddress="",l.connectedDogsAddress="",u=l))||u);r._RF.pop()}}}));

System.register("chunks:///_virtual/touch-manager.ts",["cc"],(function(t){"use strict";var e,o,c,h;return{setters:[function(t){e=t.cclegacy,o=t.Vec2,c=t.Touch,h=t.macro}],execute:function(){e._RF.push({},"fd48f3FZAlDz7CB9eT4zXi0","touch-manager",void 0);var u=new o,a=t("TouchManager",function(){function t(){this._touchMap=void 0,this._maxTouches=8,this._touchMap=new Map}var e=t.prototype;return e._cloneTouch=function(t){var e=t.getID();t.getStartLocation(u);var o=new c(u.x,u.y,e);return t.getLocation(u),o.setPoint(u.x,u.y),t.getPreviousLocation(u),o.setPrevPoint(u),o},e._createTouch=function(t,e,o){if(this._touchMap.has(t))console.log("Cannot create the same touch object.");else{if(!this._checkTouchMapSizeMoreThanMax(t)){var h=new c(e,o,t);return this._touchMap.set(t,h),this._updateTouch(h,e,o),this._cloneTouch(h)}console.log("The touches is more than MAX_TOUCHES.")}},e.releaseAllTouches=function(){this._touchMap.clear()},e.releaseTouch=function(t){this._touchMap.has(t)&&this._touchMap.delete(t)},e.getTouch=function(t,e,o){var c=this._touchMap.get(t);return c?this._updateTouch(c,e,o):c=this._createTouch(t,e,o),c?this._cloneTouch(c):void 0},e.getAllTouches=function(){var t=this,e=[];return this._touchMap.forEach((function(o){if(o){var c=t._cloneTouch(o);e.push(c)}})),e},e._updateTouch=function(t,e,o){t.getLocation(u),t.setPrevPoint(u),t.setPoint(e,o)},e._checkTouchMapSizeMoreThanMax=function(t){var e=this;if(this._touchMap.has(t))return!1;var o=h.ENABLE_MULTI_TOUCH?this._maxTouches:1;if(this._touchMap.size<o)return!1;var c=performance.now();return this._touchMap.forEach((function(t){c-t.lastModified>h.TOUCH_TIMEOUT&&(console.log("The touches is more than MAX_TOUCHES, release touch id "+t.getID()+"."),e.releaseTouch(t.getID()))})),o>=this._touchMap.size},t}());t("touchManager",new a);e._RF.pop()}}}));

System.register("chunks:///_virtual/trade.client.protocol.ts",["./rollupPluginModLoBabelHelpers.js","cc","./long.mjs_cjs=&original=.js","./net.protocol.define.ts","./null.client.protocol.ts","./long.js"],(function(t){"use strict";var i,e,n,r,s;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy},null,function(t){n=t.NetProtocolDefine},function(t){r=t.stNullClientCmd},function(t){s=t.default}],execute:function(){t("enumBuyObjectRet",void 0),e._RF.push({},"e785cBHV3FDMKyYuSTAcxNl","trade.client.protocol",void 0);var _,u=t("stTradeClientCmd",function(t){function e(){var i;return(i=t.call(this)||this).gsCmd=n.TRADE_CLIENT_CMD,i}return i(e,t),e}(r)),o=(t("REQUEST_TRADE_CLIENT",0),t("ANSWER_TRADE_CLIENT",1),t("BEGIN_TRADE_CLIENT",2),t("COMMIT_TRADE_CLIENT",5),t("CANCEL_TRADE_CLIENT",6),t("FINISH_TRADE_CLIENT",7),t("ADD_OBJECT_TRADE_CLIENT",8),t("REMOVE_OBJECT_TRADE_CLIENT",9),t("VISIT_NPC_TRADE_CLIENT",10),t("BUY_OBJECT_NPC_TRADE_CLIENT",11)),E=t("SELL_OBJECT_NPC_TRADE_CLIENT",12),h=t("SHOP_NPC_TRADE_CLIENT",13),c=t("BATCH_SELL_OBJECT_NPC_TRADE_CLIENT",14);t("STORE_INFO_NPC_TRADE_CLIENT",15),t("START_SELL_CLIENT",16),t("FINISH_SELL_CLIENT",17),t("ADD_OBJECT_SELL_CLIENT",18),t("REMOVE_OBJECT_SELL_CLIENT",19),t("REQUEST_SELL_INFO_CLIENT",20),t("REQUEST_SELL_BUY_CLIENT",21),t("UPDATE_STORE_PASS_CLIENT",22),t("CAN_SELL_CLIENT",23),t("GOLD_GIVE_CLIENT",24),t("FRESH_SHOP_CLIENT",25),t("ADD_OBJECT_SELL_LIST_CLIENT",28),t("REQUEST_ADD_OBJECT_SELL_CLIENT",29),t("GIVE_AWARD_CLIENT",30),t("AWARD_LIST_CLIENT",31),t("BOX_LIST_CLIENT",32),t("HIS_BOX_LIST_CLIENT",33),t("BOX_OPEN_CLIENT",34),t("ACTIVE_CODE_CLIENT",35),t("EXP_CARD_CAN_OPEN_LIST_CLIENT",36),t("GET_QUEST_AWARD_CLIENT",37),t("QUEST_AWARD_LIST_CLIENT",38),t("MOBILE_VISIT_NPC_TRADE_CLIENT",39),t("RET_BOX_OPEN_MOBILE_CLIENT",40),t("LOGIN_AWARD_LIST_CLIENT",41),t("RET_BUY_OBJECT_CLIENT",42),t("BOX_OPEN_NUM_CLIENT",44),t("LIMIT_BUY_SHOP_CLIENT",45),t("EQUIP_BOX_NUM",56);!function(t){t[t.eBuyObjectRet_none=0]="eBuyObjectRet_none",t[t.eBuyObjectRet_ok=1]="eBuyObjectRet_ok",t[t.eBuyObjectRet_invalid=2]="eBuyObjectRet_invalid",t[t.eBuyObjectRet_noItem=3]="eBuyObjectRet_noItem",t[t.eBuyObjectRet_itemErr=4]="eBuyObjectRet_itemErr",t[t.eBuyObjectRet_buyLimit=5]="eBuyObjectRet_buyLimit",t[t.eBuyObjectRet_noMoney=6]="eBuyObjectRet_noMoney"}(_||(_=t("enumBuyObjectRet",{})));var T=t("stShopItem",function(){function t(){this.id=0,this.itemId=0,this.itemNum=0,this.goldNum="0",this.silverNum="0",this.tag=0,this.prosperity=0,this.efficiency=0}var i=t.prototype;return i.PackData=function(t){t.writeUint32(this.id),t.writeUint32(this.itemId),t.writeUint32(this.itemNum),t.writeUint64(s.fromString(this.goldNum)),t.writeUint64(s.fromString(this.silverNum)),t.writeUint32(this.tag),t.writeUint32(this.prosperity),t.writeUint32(this.efficiency)},i.UnPackData=function(t){this.id=t.readUint32(),this.itemId=t.readUint32(),this.itemNum=t.readUint32(),this.goldNum=t.readUint64().toString(),this.silverNum=t.readUint64().toString(),this.tag=t.readUint32(),this.prosperity=t.readUint32(),this.efficiency=t.readUint32()},t}());t("stBuyItem",function(){function t(){this.itemId=0,this.num=0}var i=t.prototype;return i.PackData=function(t){t.writeUint32(this.itemId),t.writeUint32(this.num)},i.UnPackData=function(t){this.itemId=t.readUint32(),this.num=t.readUint32()},t}()),t("stShopNpcTradeClientCmd",function(t){function e(){var i;return(i=t.call(this)||this).shopId=0,i.num=0,i.info=null,i.gsParam=h,i}i(e,t);var n=e.prototype;return n.Pack=function(){if(t.prototype.Pack.call(this),this.mByteBuffer.writeUint32(this.shopId),this.mByteBuffer.writeUint16(this.num),null!=this.info)for(var i=0;i<this.info.length;++i)this.info[i].PackData(this.mByteBuffer)},n.UnPack=function(i){t.prototype.UnPack.call(this,i),this.shopId=this.mByteBuffer.readUint32(),this.num=this.mByteBuffer.readUint16(),this.info=[];for(var e=0;e<this.num;e+=1)this.info[e]=new T,this.info[e].UnPackData(this.mByteBuffer);this.ReleaseByteBuffer()},e}(u)),t("stBuyObjectNpcTradeUserCmd",function(t){function e(){var i;return(i=t.call(this)||this).shopId=0,i.result=0,i.shopitemID=0,i.buyNum=0,i.payType=0,i.gsParam=o,i}i(e,t);var n=e.prototype;return n.Pack=function(){t.prototype.Pack.call(this),this.mByteBuffer.writeUint32(this.shopId),this.mByteBuffer.writeUint8(this.result),this.mByteBuffer.writeUint32(this.shopitemID),this.mByteBuffer.writeUint32(this.buyNum),this.mByteBuffer.writeUint8(this.payType)},n.UnPack=function(i){t.prototype.UnPack.call(this,i),this.shopId=this.mByteBuffer.readUint32(),this.result=this.mByteBuffer.readUint8(),this.shopitemID=this.mByteBuffer.readUint32(),this.buyNum=this.mByteBuffer.readUint32(),this.payType=this.mByteBuffer.readUint8(),this.ReleaseByteBuffer()},e}(u)),t("stSellObjectNpcTradeClientCmd",function(t){function e(){var i;return(i=t.call(this)||this).qwThisID="0",i.num=0,i.gsParam=E,i}return i(e,t),e.prototype.Pack=function(){t.prototype.Pack.call(this),this.mByteBuffer.writeUint64(s.fromString(this.qwThisID)),this.mByteBuffer.writeUint16(this.num)},e}(u)),t("stBatchSellObjectNpcTradeClientCmd",function(t){function e(){var i;return(i=t.call(this)||this).num=0,i.list=null,i.gsParam=c,i}return i(e,t),e.prototype.Pack=function(){if(t.prototype.Pack.call(this),this.mByteBuffer.writeUint16(this.num),null!=this.list)for(var i=0;i<this.list.length;i++)this.mByteBuffer.writeUint64(s.fromString(this.list[i]))},e}(u));e._RF.pop()}}}));

System.register("chunks:///_virtual/transition.mask.component.ts",["./rollupPluginModLoBabelHelpers.js","cc","./camera.system.ts","./ui.manager.ts"],(function(t){"use strict";var e,i,n,r,a,s,o,u,c,h,l,p,m,f,d,_,w,g,x;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized,a=t.createClass},function(t){s=t.cclegacy,o=t._decorator,u=t.Sprite,c=t.Camera,h=t.Material,l=t.CCFloat,p=t.director,m=t.SpriteFrame,f=t.RenderTexture,d=t.screen,_=t.warn,w=t.Component},function(t){g=t.CameraSystem},function(t){x=t.UIManager}],execute:function(){var C,v,T,y,M,S,b,z,F,k,P,L;s._RF.push({},"fd979JaIiJA9oQ4zmKJ+c3r","transition.mask.component",void 0);var E=o.ccclass,R=o.property;t("TransitionMaskComponent",(C=E("TransitionMaskComponent"),v=R(u),T=R(c),y=R(h),M=R(l),C(((L=function(t){function e(){for(var e,i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a))||this,n(e,"showSprite",z,r(e)),n(e,"showCamera",F,r(e)),n(e,"toUseMat",k,r(e)),n(e,"transitionTime",P,r(e)),e._init=!1,e.time=0,e._texture1=null,e._texture2=null,e._spriteMaterial=null,e.loading=!1,e}i(e,t);var s=e.prototype;return s.onLoad=function(){p.addPersistRootNode(this.node)},s.start=function(){this.init()},s._event_closeChange=function(){this._startTransitionEffect()},s._event_openChange=function(){this._beginEffect()},s.update=function(t){this.loading&&(this.time+=t,this.time>=this.transitionTime&&(this.time=this.transitionTime,this.loading=!1,this._onLoadFinished()),this._spriteMaterial.setProperty("time",this.time/this.transitionTime))},s.init=function(){if(!this._init){this._init=!0,this.time=0,this._texture1=this.createTexture(),this._texture2=this.createTexture();var t=new m;t.texture=this._texture1,this.showSprite.spriteFrame=t,this.showSprite.node.active=!1,this.showCamera.node.active=!1,this.updateSpriteMaterial()}},s.updateSpriteMaterial=function(){if(this.showSprite){var t=new h;t.copy(this.toUseMat),t.setProperty("tex",this._texture1),t.setProperty("tex2",this._texture2),this.showSprite.customMaterial=t,this._spriteMaterial=t}},s.createTexture=function(){var t=new f;return t.initialize({width:d.windowSize.x,height:d.windowSize.y}),t},s._beginEffect=function(){this.init(),this.showSprite.node.active=!0,this.showCamera.node.active=!0;var t=g.instance.MainCamera;if(t){t.targetTexture=this._texture1,p.root.frameMove(.1),t.targetTexture=null;var e=x.instance.uiCamera;e.targetTexture=this._texture1,p.root.frameMove(.1),e.targetTexture=null}else _("Can not find fromCamera with path ")},s._startTransitionEffect=function(){var t=g.instance.MainCamera;t?(x.instance.uiCamera.targetTexture=this._texture2,t.targetTexture=this._texture2,this.time=0,this.loading=!0):_("Can not find toCamera with path ")},s._onLoadFinished=function(){this.showSprite.node.active=!1,this.showCamera.node.active=!1,g.instance.MainCamera.targetTexture=null,x.instance.uiCamera.targetTexture=null},a(e,null,[{key:"instance",get:function(){return null==this._instance&&(this._instance=new e),this._instance}}]),e}(w))._instance=null,z=e((b=L).prototype,"showSprite",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=e(b.prototype,"showCamera",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=e(b.prototype,"toUseMat",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=e(b.prototype,"transitionTime",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),S=b))||S));s._RF.pop()}}}));

System.register("chunks:///_virtual/twitter.box.system.ts",["./rollupPluginModLoBabelHelpers.js","cc","./base.system.ts","./event.dispatcher.ts","./event.name.ts","./model.mainrole.manager.ts","./api.x.box.ts","./twitter.ext.sdk.ts","./ui.float.text.controller.ts","./plugin.settings.ts","./scene.system.ts"],(function(t){"use strict";var e,n,s,o,i,r,a,c,u,h,l,f,p,x,m,g,d,_;return{setters:[function(t){e=t.inheritsLoose,n=t.createClass,s=t.asyncToGenerator,o=t.regeneratorRuntime},function(t){i=t.cclegacy,r=t._decorator,a=t.error},function(t){c=t.BaseSystem},function(t){u=t.EventDispatcher},function(t){h=t.EventName},function(t){l=t.ModelMainRoleManager},function(t){f=t.getXShowBoxList,p=t.getXBoxReplyMsgList,x=t.finishXBox},function(t){m=t.TwitterExtSDK},function(t){g=t.UIFloatTextController},function(t){d=t.PluginSettings},function(t){_=t.SceneSystem}],execute:function(){var v,y;i._RF.push({},"0ebb15CcW5K6JqJO/CHJ3ov","twitter.box.system",void 0);var B=r.ccclass;t("TwitterBoxSystem",B("TwitterBoxSystem")(((y=function(t){function i(){for(var e,n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(e=t.call.apply(t,[this].concat(s))||this).mToShowBoxList=[],e.mAllMaxAmount=0,e.mTodayGetAmount=0,e.mWaitUpdateTimePos=0,e}e(i,t);var r=i.prototype;return r.addAllEvents=function(){t.prototype.addAllEvents.call(this),u.on(h.PLAYERSELF_TWITTER_BOX_CHANGED,this._onWebBoxDataChanged,this),u.on(h.SDK_X_TO_GAME_CLAIM_BOX,this._onClaimBox,this)},r.removeAllEvents=function(){t.prototype.removeAllEvents.call(this),u.off(h.PLAYERSELF_TWITTER_BOX_CHANGED,this._onWebBoxDataChanged,this),u.off(h.SDK_X_TO_GAME_CLAIM_BOX,this._onClaimBox,this)},r._onClaimBox=function(t){d.isInX()&&this.getBoxAward(t)},r._onWebBoxDataChanged=function(){d.isInX()&&(this.refreshBoxConfig(),this.refreshBoxReplyMessage())},r.sysUpdate=function(e){t.prototype.sysUpdate.call(this,e),_.instance.IsInLoginScene||d.isInX()&&(this.mWaitUpdateTimePos>=300&&(this.mWaitUpdateTimePos=0,this.refreshBoxConfig(),this.refreshBoxReplyMessage()),this.mWaitUpdateTimePos+=e)},r.getTodayGetBoxAmount=function(){return this.mTodayGetAmount},r._parseToShowList=function(t){var e=l.instance.WebBoxData;this.mToShowBoxList=[],this.mAllMaxAmount=t.max;var n=0;if(e.forEach((function(t){n+=t})),this.mTodayGetAmount=n,this.mTodayGetAmount>=this.mAllMaxAmount)m.sendMsg_BoxConfig([]);else{for(var s=t.box,o=0;o<s.length;o+=1){var i=s[o];if(e.has(i.id)){var r=e.get(i.id);r&&r<i.dailyMax&&this.mToShowBoxList.push(i)}else this.mToShowBoxList.push(i)}m.sendMsg_BoxConfig(this.mToShowBoxList)}},r._parseToReplyMsgList=function(t){t.length>0&&m.sendMsg_BoxReplyMsg(t)},r.refreshBoxConfig=function(){var t=s(o().mark((function t(){var e;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,f();case 3:e=t.sent,this._parseToShowList(e),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),a(t.t0);case 10:case"end":return t.stop()}}),t,this,[[0,7]])})));return function(){return t.apply(this,arguments)}}(),r.refreshBoxReplyMessage=function(){var t=s(o().mark((function t(){var e;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,p();case 3:e=t.sent,this._parseToReplyMsgList(e),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),a(t.t0);case 10:case"end":return t.stop()}}),t,this,[[0,7]])})));return function(){return t.apply(this,arguments)}}(),r.getBoxAward=function(){var t=s(o().mark((function t(e){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,x(e);case 3:t.sent||(g.AddTipI18nID_Failed("u.2551"),m.sendMsg_BoxConfig([])),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),a(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}(),n(i,null,[{key:"instance",get:function(){return null==this._instance&&(this._instance=new i),this._instance}}]),i}(c))._instance=null,v=y))||v);i._RF.pop()}}}));

System.register("chunks:///_virtual/twitter.ext.sdk.ts",["./rollupPluginModLoBabelHelpers.js","cc","./event.dispatcher.ts","./event.name.ts"],(function(e){"use strict";var t,n,a,r,s,o;return{setters:[function(e){t=e.asyncToGenerator,n=e.regeneratorRuntime},function(e){a=e.cclegacy,r=e._decorator},function(e){s=e.EventDispatcher},function(e){o=e.EventName}],execute:function(){var c;a._RF.push({},"e67dc4O1UxGA7fpIfx3TH/4","twitter.ext.sdk",void 0);var i=r.ccclass;e("TwitterExtSDK",i("TwitterExtSDK")(c=function(){function e(){}return e.initApp=function(){},e.openUrl=function(e){e&&""!==e&&window.open(e,"_blank")},e.sendMsg_InitFinish=function(){var e;null==(e=top)||e.postMessage({type:"g2e-game-loaded"},"*")},e.sendMsg_BoxConfig=function(e){var t;null==(t=top)||t.postMessage({type:"g2e-box-config",data:e},"*")},e.sendMsg_BoxReplyMsg=function(e){var t;null==(t=top)||t.postMessage({type:"g2e-reply-config",data:e},"*")},e.sendMsg_OpenInSelf=function(e){var t;null==(t=top)||t.postMessage({type:"g2e-open-in-self",data:e},"*")},e.handlerAllWindowMessage=function(){var e=t(n().mark((function e(t){var a,r;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t.data&&t.data.type){e.next=3;break}return e.abrupt("return");case 3:a=t.data.type,e.t0=a,e.next="e2g-box-claim"===e.t0?7:10;break;case 7:return(r=t.data.configId)&&s.emit(o.SDK_X_TO_GAME_CLAIM_BOX,r),e.abrupt("break",10);case 10:e.next=15;break;case 12:e.prev=12,e.t1=e.catch(0),console.log(e.t1);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}(),e}())||c);a._RF.pop()}}}));

System.register("chunks:///_virtual/twitter.quest.interface.ts",["cc"],(function(){"use strict";var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"df46czERLFEiLiFgOctE90l","twitter.quest.interface",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/ui-eventlistener.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var n,t,r,i,c,s,l;return{setters:[function(e){n=e.inheritsLoose,t=e.createClass},function(e){r=e.cclegacy,i=e._decorator,c=e.EventHandler,s=e.Button,l=e.Component}],execute:function(){var o;r._RF.push({},"33d47OcPZRFzKa3Mh9tHJd/","ui-eventlistener",void 0);var a=i.ccclass;e("UIEventListener",a("UIEventListener")(o=function(e){function r(){for(var n,t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return(n=e.call.apply(e,[this].concat(r))||this).params=null,n.mOnClickCB=null,n}n(r,e);var i=r.prototype;return i._onClick=function(e){null!=this.mOnClickCB&&this.mOnClickCB(e)},i._createNewEventHandler=function(){var e=new c;return e.target=this.node,e.component="UIEventListener",e},t(r,[{key:"OnClickCB",set:function(e){this.mOnClickCB=e;var n=this._createNewEventHandler();n.handler="_onClick",this.node.getComponent(s).clickEvents.push(n)}}]),r}(l))||o);r._RF.pop()}}}));

System.register("chunks:///_virtual/ui.achievement.controller.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./event.dispatcher.ts","./event.name.ts","./new.guide.manager.ts","./model.achievement.manager.ts","./sound.helper.ts","./ui.base.controller.ts"],(function(e){"use strict";var t,n,i,s,o,c,h,a,r,l,u,v,m,_,f,d;return{setters:[function(e){t=e.inheritsLoose,n=e.createClass,i=e.asyncToGenerator,s=e.regeneratorRuntime},function(e){o=e.cclegacy,c=e._decorator,h=e.input,a=e.Input,r=e.KeyCode},function(e){l=e.UIPackage},function(e){u=e.EventDispatcher},function(e){v=e.EventName},function(e){m=e.NewGuideManager},function(e){_=e.ModelAchievementManager},function(e){f=e.SoundHelper},function(e){d=e.UIBaseController}],execute:function(){var p,I;o._RF.push({},"738bd/hN3FGRon0Nqm+BOLA","ui.achievement.controller",void 0);var A=c.ccclass;e("UIAchievementController",A("UIAchievementController")(((I=function(e){function o(){for(var t,n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(t=e.call.apply(e,[this].concat(i))||this).mFguiPkgName="Achievement",t.mFguiMainViewName="Main",t._view=null,t.mAchievementData=null,t}t(o,e);var c=o.prototype;return c._addEvents=function(){e.prototype._addEvents.call(this),h.on(a.EventType.KEY_DOWN,this._onKeyDown,this),u.on(v.ACHIEVEMENT_LIST_INIT,this._onAchievementListInit,this),u.on(v.ACHIEVEMENT_LIST_UPDATE,this._onAchievementListUpdate,this)},c._removeEvents=function(){e.prototype._removeEvents.call(this),h.off(a.EventType.KEY_DOWN,this._onKeyDown,this),u.off(v.ACHIEVEMENT_LIST_INIT,this._onAchievementListInit,this),u.off(v.ACHIEVEMENT_LIST_UPDATE,this._onAchievementListUpdate,this)},c._onKeyDown=function(e){switch(e.keyCode){case r.ESCAPE:if(m.instance.IsInGuideScene)return;this._onCloseClick()}},c._onAchievementListInit=function(){null!=this._view&&this._refreshAchievemetnList()},c._onAchievementListUpdate=function(){null!=this._view&&this._refreshAchievemetnList()},c.onLoad=function(){o._instance=this,this._startLoadPkg(this.mFguiPkgName)},c.onDestroy=function(){e.prototype.onDestroy.call(this),o._instance=null},c.closeUI=function(){e.prototype.closeUI.call(this)},c.update=function(){this._view},c._onLoadUIFinish=function(){e.prototype._onLoadUIFinish.call(this),this._view=l.createObject(this.mFguiPkgName,this.mFguiMainViewName).asCom,this._addUIToRoot(this._view),this._view.makeFullScreen(),this._view.closeBtn.onClick(this._onCloseClick,this),this._view.achievementList.itemRenderer=this.renderAchievementItem.bind(this),this._view.achievementList.setVirtual(),this._initData()},c._initData=function(){this._view.isNoneCtrl.selectedIndex=2,this._refreshAchievemetnList()},c._onCloseClick=function(){var e=i(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:f.PlaySound_UICommonClose(),u.emit(v.UI_ACHIEVEMENT_CLOSE),m.instance.IsInGuideScene&&m.instance.NextStep();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),c._refreshAchievemetnList=function(){var e;this.mAchievementData=[];var t=_.instance.getAchievementList();(e=this.mAchievementData).push.apply(e,t);var n=this.mAchievementData.length;this._view.isNoneCtrl.selectedIndex=n<=0?1:0,this._view.achievementList.numItems!==n?this._view.achievementList.numItems=n:this._view.achievementList.refreshVirtualList(),this._view.achievementList.scrollToView(0)},c.renderAchievementItem=function(e,t){e>=this.mAchievementData.length||t.setAchievementData(this.mAchievementData[e])},c.getAchievementItem=function(e){return this._view?this._view.achievementList.getChildAt(e):null},c.getCloseBtn=function(){return this._view?this._view.closeBtn:null},n(o,null,[{key:"instance",get:function(){return this._instance}}]),o}(d)).CTRL_NAME="UIAchievementController",I._instance=null,p=I))||p);o._RF.pop()}}}));

System.register("chunks:///_virtual/ui.achievement.item.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./tonweb.mjs_cjs=&original=.js","./timer.tick.ts","./new.guide.manager.ts","./table.helper.ts","./net.helper.ts","./userdata.client.protocol.ts","./sound.helper.ts","./ui.common.reward.item.view.ts","./tonweb.js"],(function(e){"use strict";var t,i,n,a,s,r,h,c,o,l,u,m,v,d;return{setters:[function(e){t=e.inheritsLoose,i=e.asyncToGenerator,n=e.regeneratorRuntime},function(e){a=e.cclegacy,s=e._decorator},function(e){r=e.GButton},null,function(e){h=e.TimerTick},function(e){c=e.NewGuideManager},function(e){o=e.TableHelper},function(e){l=e.NetHelper},function(e){u=e.EAchievementType},function(e){m=e.SoundHelper},function(e){v=e.default},function(e){d=e.default}],execute:function(){var p,f;a._RF.push({},"a8189K4PLBLq4qLdOnf6W8U","ui.achievement.item.view",void 0);var D=s.ccclass;e("default",D("UIAchievementItemView")(((f=function(e){function a(){var t;return(t=e.call(this)||this).achievementDesc=void 0,t.rewardList=void 0,t.progressValue=void 0,t.detailBtn=void 0,t.mAchievementData=null,t}t(a,e);var s=a.prototype;return s.onConstruct=function(){this.rewardList=this.getChild("n27"),this.achievementDesc=this.getChild("ui_Label1"),this.progressValue=this.getChild("ui_ProgressValue"),this.detailBtn=this.getChild("ui_BtnDetails"),this.detailBtn.onClick(this._onDetailClick,this)},s._onDetailClick=function(){var e=i(n().mark((function e(){var t,i,a=this;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(m.PlaySound_UICommonClick(),null!=this.mAchievementData){e.next=3;break}return e.abrupt("return");case 3:if(t=o.getAchievementByTypeStage(this.mAchievementData.type,this.mAchievementData.step)){e.next=6;break}return e.abrupt("return");case 6:i=this.mAchievementData.value,this.mAchievementData.type===u.eAchievementType_PurchaseGold&&(i=d.utils.fromNano(i)),Number.parseInt(i)>=t.param&&l.getAchievementReward(this.mAchievementData.type),c.instance.IsInGuideScene&&(this.touchable=!1,h.AddTimer(500,0,(function(){a.touchable=!0})),c.instance.NextStep());case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),s.setAchievementData=function(e){if(null!=e){this.mAchievementData=e;var t=o.getAchievementMaxStageByType(this.mAchievementData.type);if(this.mAchievementData.step>t){var i=o.getAchievementByTypeStage(this.mAchievementData.type,t);if(!i)return;this.achievementDesc.text=i.desc,this._refreshRewardItemList(i.award),this.progressValue.text="",this.detailBtn.enabled=!0,this._setDetailBtnDone(1),this._setDetailBtnRedPoint(!1)}else{var n=o.getAchievementByTypeStage(this.mAchievementData.type,this.mAchievementData.step);if(!n)return;this.achievementDesc.text=n.desc,this._refreshRewardItemList(n.award);var a=0;a=this.mAchievementData.type===u.eAchievementType_PurchaseGold?Number.parseInt(d.utils.fromNano(this.mAchievementData.value)):Number.parseInt(this.mAchievementData.value);var s=n.param;a>s&&(a=s);var r=a,h=s;this.mAchievementData.type===u.eAchievementType_WorkerLevel&&(r=o.getWorkerLevel(r).showLevel,h=o.getWorkerLevel(h).showLevel,a<s&&r%30==0&&(r=0)),this.progressValue.text=r+"/"+h,this._setDetailBtnDone(0),a>=s?(this.detailBtn.enabled=!0,this._setDetailBtnRedPoint(!0)):(this.detailBtn.enabled=!1,this._setDetailBtnRedPoint(!1))}}},s._refreshRewardItemList=function(e){this.rewardList.removeChildrenToPool();for(var t=e.split(";"),i=0;i<t.length;i++){var n=t[i].split("-");if(n.length<2)return;var a=Number.parseInt(n[0]),s=Number.parseInt(n[1]);this.rewardList.addItemFromPool(v.URL).setRewardData(a,s)}},s._setDetailBtnDone=function(e){var t=this.detailBtn.getController("IsDone");t&&(t.selectedIndex=e,this.detailBtn.touchable=0===e)},s._setDetailBtnRedPoint=function(e){var t=this.detailBtn.getChild("UI_TipSp");t&&(t.visible=e)},a}(r)).URL="ui://Achievement/achievement_listbar",p=f))||p);a._RF.pop()}}}));

System.register("chunks:///_virtual/ui.achievement.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(e){"use strict";var t,i,n,o;return{setters:[function(e){t=e.inheritsLoose},function(e){i=e.cclegacy,n=e._decorator},function(e){o=e.GComponent}],execute:function(){var s,c;i._RF.push({},"cf3102qG7lP9YtpknAvfPh+","ui.achievement.view",void 0);var r=n.ccclass;e("default",r("UIAchievementView")(((c=function(e){function i(){var t;return(t=e.call(this)||this).isNoneCtrl=void 0,t.closeBtn=void 0,t.achievementList=void 0,t}return t(i,e),i.prototype.onConstruct=function(){this.isNoneCtrl=this.getController("IsNone"),this.closeBtn=this.getChild("ui_WindClose"),this.achievementList=this.getChild("ui_AchievementList")},i}(o)).URL="ui://Achievement/Main",s=c))||s);i._RF.pop()}}}));

System.register("chunks:///_virtual/ui.asset.controller.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./event.dispatcher.ts","./event.name.ts","./enum.farm.building.type.ts","./enum.farm.coin.res.ts","./new.guide.manager.ts","./table.helper.ts","./model.farm.manager.ts","./model.item.manager.ts","./model.worker.manager.ts","./farm.client.protocol.ts","./sound.helper.ts","./ui.base.controller.ts"],(function(e){"use strict";var t,i,n,s,r,a,o,h,c,_,u,l,f,w,d,k,C,v,E,m,I,g;return{setters:[function(e){t=e.inheritsLoose,i=e.createClass,n=e.asyncToGenerator,s=e.regeneratorRuntime},function(e){r=e.cclegacy,a=e._decorator,o=e.input,h=e.Input,c=e.KeyCode},function(e){_=e.UIPackage},function(e){u=e.EventDispatcher},function(e){l=e.EventName},function(e){f=e.EFarmBuildingType},function(e){w=e.EFarmCoinRes},function(e){d=e.NewGuideManager},function(e){k=e.TableHelper},function(e){C=e.ModelFarmManager},function(e){v=e.ModelItemManager},function(e){E=e.ModelWorkerManager},function(e){m=e.enumWorkerState},function(e){I=e.SoundHelper},function(e){g=e.UIBaseController}],execute:function(){var p,T;r._RF.push({},"b4167pyfc9Cz4PE/INHsCa4","ui.asset.controller",void 0);var D,R=a.ccclass;!function(e){e[e.Worker=0]="Worker",e[e.Package=1]="Package",e[e.Resource=2]="Resource"}(D||(D={}));e("UIAssetController",R("UIAssetController")(((T=function(e){function r(){for(var t,i=arguments.length,n=new Array(i),s=0;s<i;s++)n[s]=arguments[s];return(t=e.call.apply(e,[this].concat(n))||this).mFguiPkgName="Assets",t.mFguiMainViewName="Main",t._view=null,t._curTabType=D.Worker,t.mWorkerData=[],t.mPackageData=[],t}t(r,e);var a=r.prototype;return a._addEvents=function(){e.prototype._addEvents.call(this),o.on(h.EventType.KEY_DOWN,this._onKeyDown,this),u.on(l.WORKER_LIST_ADD_ITEM,this._onWorkerDataChanged,this),u.on(l.WORKER_LIST_REMOVE_ITEM,this._onWorkerDataChanged,this),u.on(l.WORKER_LIST_UPDATE_ITEM,this._onWorkerDataChanged,this),u.on(l.WORKER_LIST_LEVELUP_ITEM,this._onWorkerDataChanged,this),u.on(l.WORKER_LIST_REFRESH_STATE_ITEM,this._onWorkerDataChanged,this),u.on(l.ITEM_ADD,this._onPackageDataChanged,this),u.on(l.ITEM_REMOVE,this._onPackageDataChanged,this),u.on(l.ITEM_CHANGE,this._onPackageDataChanged,this),u.on(l.PLAYERSELF_MONEY_GOLD_CHANGED,this._onGoldCoinChanged,this),u.on(l.PLAYERSELF_MONEY_SILVER_CHANGED,this._onSilverCoinChanged,this),u.on(l.PLAYERSELF_MONEY_WIZZ_CHANGED,this._onWizzCoinChanged,this),u.on(l.FARM_RESOURCE_CHANGE,this._onFarmResChanged,this)},a._removeEvents=function(){e.prototype._removeEvents.call(this),o.off(h.EventType.KEY_DOWN,this._onKeyDown,this),u.off(l.WORKER_LIST_ADD_ITEM,this._onWorkerDataChanged,this),u.off(l.WORKER_LIST_REMOVE_ITEM,this._onWorkerDataChanged,this),u.off(l.WORKER_LIST_UPDATE_ITEM,this._onWorkerDataChanged,this),u.off(l.WORKER_LIST_LEVELUP_ITEM,this._onWorkerDataChanged,this),u.off(l.WORKER_LIST_REFRESH_STATE_ITEM,this._onWorkerDataChanged,this),u.off(l.ITEM_ADD,this._onPackageDataChanged,this),u.off(l.ITEM_REMOVE,this._onPackageDataChanged,this),u.off(l.ITEM_CHANGE,this._onPackageDataChanged,this),u.off(l.PLAYERSELF_MONEY_GOLD_CHANGED,this._onGoldCoinChanged,this),u.off(l.PLAYERSELF_MONEY_SILVER_CHANGED,this._onSilverCoinChanged,this),u.off(l.PLAYERSELF_MONEY_WIZZ_CHANGED,this._onWizzCoinChanged,this),u.off(l.FARM_RESOURCE_CHANGE,this._onFarmResChanged,this)},a._onKeyDown=function(e){switch(e.keyCode){case c.ESCAPE:this._onCloseClick()}},a._onWorkerDataChanged=function(){null!=this._view&&this._curTabType===D.Worker&&(this._refreshWorkerList(!1),this._refreshTabRedPoint())},a._onPackageDataChanged=function(){null!=this._view&&this._curTabType===D.Package&&(this._refreshPackageList(!1),this._refreshTabRedPoint())},a._onGoldCoinChanged=function(){this._view&&this._curTabType===D.Resource&&this._view.resourceView.refreshGoldData()},a._onSilverCoinChanged=function(){this._view&&this._curTabType===D.Resource&&this._view.resourceView.refreshSilverData()},a._onWizzCoinChanged=function(){this._view&&this._curTabType===D.Resource&&this._view.resourceView.refreshWizzData()},a._onFarmResChanged=function(e){if(this._view)if(e)switch(e){case w.Res_Mushroom:this._view.resourceView.refreshMushroomData();break;case w.Res_ManaGel:this._view.resourceView.refreshManaGelData();break;case w.Res_Ethereal:this._view.resourceView.refreshEtherealData()}else this._initData()},a.setTab=function(e){this._curTabType=e||D.Worker,null!=this._view&&this.IsLoadFinish&&(this._view.tabCtrl.setSelectedIndex(this._curTabType),this._showData())},a.onLoad=function(){r._instance=this,this._startLoadPkg(this.mFguiPkgName)},a.onDestroy=function(){e.prototype.onDestroy.call(this),r._instance=null},a.closeUI=function(){e.prototype.closeUI.call(this)},a.update=function(){this._view},a._onLoadUIFinish=function(){e.prototype._onLoadUIFinish.call(this),this._view=_.createObject(this.mFguiPkgName,this.mFguiMainViewName).asCom,this._addUIToRoot(this._view),this._view.makeFullScreen(),this._view.tabCtrl.onChanged(this._onTabChanged,this),this._view.closeBtn.onClick(this._onCloseClick,this),this._view.resourceView.coinSilverView.onClick(this._onSilverClick,this),this._view.resourceView.coinGoldView.onClick(this._onGoldClick,this),this._view.resourceView.coinWizzView.onClick(this._onWizzClick,this),this._view.resourceView.resMushroomView.onClick(this._onMushroomClick,this),this._view.resourceView.resManaGelView.onClick(this._onManaGelClick,this),this._view.resourceView.resEtherealView.onClick(this._onEtherealClick,this),this._view.workerList.itemRenderer=this.renderWorkerItem.bind(this),this._view.workerList.setVirtual(),this._view.itemList.itemRenderer=this.renderPackageItem.bind(this),this._view.itemList.setVirtual(),this._initData()},a._onTabChanged=function(){0===this._view.tabCtrl.selectedIndex?this._curTabType=D.Worker:1===this._view.tabCtrl.selectedIndex?this._curTabType=D.Package:2===this._view.tabCtrl.selectedIndex&&(this._curTabType=D.Resource),this._showData(),I.PlaySound_UICommonClick(),d.instance.IsInGuideScene&&d.instance.NextStep()},a._onCloseClick=function(){var e=n(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:I.PlaySound_UICommonClose(),u.emit(l.UI_ASSET_CLOSE),d.instance.IsInGuideScene&&d.instance.NextStep();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),a._onSilverClick=function(){var e=n(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:I.PlaySound_UICommonClick(),u.emit(l.UI_ASSET_DETAIL_OPEN,w.Token_Silver);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),a._onGoldClick=function(){var e=n(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:I.PlaySound_UICommonClick(),u.emit(l.UI_ASSET_DETAIL_OPEN,w.Token_Gold);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),a._onWizzClick=function(){var e=n(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:I.PlaySound_UICommonClick(),u.emit(l.UI_ASSET_DETAIL_OPEN,w.Token_Wizz);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),a._onMushroomClick=function(){var e=n(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:I.PlaySound_UICommonClick(),u.emit(l.UI_BUILDING_WORKER_OPEN,f.Mushroom);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),a._onManaGelClick=function(){var e=n(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:I.PlaySound_UICommonClick(),u.emit(l.UI_BUILDING_WORKER_OPEN,f.ManaGel);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),a._onEtherealClick=function(){var e=n(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:I.PlaySound_UICommonClick(),u.emit(l.UI_BUILDING_WORKER_OPEN,f.Ethereal);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),a._initData=function(){var e=n(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._view.tabCtrl.setSelectedIndex(this._curTabType),this._showData();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),a._showData=function(){switch(this._curTabType){case D.Worker:this._refreshWorkerList(),E.instance.IsNewInGame=!1,u.emit(l.WORKER_NEW_RED_POINT);break;case D.Package:this._refreshPackageList(),v.instance.IsNewInGame=!1,u.emit(l.ITEM_NEW_RED_POINT);break;case D.Resource:this._refreshResourceData()}this._refreshTabRedPoint()},a._refreshTabRedPoint=function(){var e=E.instance.IsNewInGame;if(!e){var t=E.instance.getWorkerCount()-E.instance.getInWorkingCount();e=E.instance.getInWorkingCount()<C.instance.MaxWorkerNum&&t>0}this._view.setTabBtnRedPoint(this._view.tab1Btn,e);var i=v.instance.IsNewInGame;this._view.setTabBtnRedPoint(this._view.tab2Btn,i)},a._refreshWorkerList=function(e){void 0===e&&(e=!0),this._view.isNoneCtrl.selectedIndex=2;var t=E.instance.getWorkerList();this.mWorkerData=[];for(var i=0;i<t.length;i++)t[i].WorkerData.roleState!==m.eWorkerState_1&&this.mWorkerData.push(t[i]);var n=this.mWorkerData.length;n<=0?(this._view.isNoneCtrl.selectedIndex=1,this._view.noneTip.text=k.getI18nUIText("u.10109")):this._view.isNoneCtrl.selectedIndex=0,this._view.workerList.numItems!==n?this._view.workerList.numItems=n:this._view.workerList.refreshVirtualList(),n>0&&e&&this._view.workerList.scrollToView(0)},a.renderWorkerItem=function(e,t){e>=this.mWorkerData.length||t.setInGameWorkerData(this.mWorkerData[e])},a._refreshPackageList=function(e){var t;void 0===e&&(e=!0),this._view.isNoneCtrl.selectedIndex=2,this.mPackageData=[];var i=v.instance.GetBagItemList();(t=this.mPackageData).push.apply(t,i);var n=this.mPackageData.length;n<=0?(this._view.isNoneCtrl.selectedIndex=1,this._view.noneTip.text=k.getI18nUIText("u.10118")):this._view.isNoneCtrl.selectedIndex=0,this._view.itemList.numItems!==n?this._view.itemList.numItems=n:this._view.itemList.refreshVirtualList(),n>0&&e&&this._view.itemList.scrollToView(0)},a.renderPackageItem=function(e,t){e>=this.mPackageData.length||t.setInGamePackageData(this.mPackageData[e])},a._refreshResourceData=function(){var e=n(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._view.isNoneCtrl.selectedIndex=0,this._view.resourceView.refreshSilverData(),this._view.resourceView.refreshGoldData(),this._view.resourceView.refreshWizzData(),this._view.resourceView.refreshMushroomData(),this._view.resourceView.refreshManaGelData(),this._view.resourceView.refreshEtherealData();case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),a.getPackageTab=function(){return this._view?this._view.tab2Btn:null},a.getWorkerItem=function(){return this._view?this._view.workerList.getChildAt(0):null},a.getPackageItem=function(){return this._view?this._view.itemList.getChildAt(0):null},a.getCloseBtn=function(){return this._view?this._view.closeBtn:null},i(r,null,[{key:"instance",get:function(){return this._instance}}]),r}(g)).CTRL_NAME="UIAssetController",T._instance=null,p=T))||p);r._RF.pop()}}}));

System.register("chunks:///_virtual/ui.asset.detail.controller.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./tonweb.mjs_cjs=&original=.js","./chain.system.ts","./chain.operate.interface.ts","./chain.operate.deposit.wizz.ts","./event.dispatcher.ts","./event.name.ts","./enum.farm.coin.res.ts","./table.helper.ts","./model.mainrole.manager.ts","./net.helper.ts","./sound.helper.ts","./logic.tool.ts","./resource.path.tool.ts","./ui.float.text.controller.ts","./ui.base.controller.ts","./tonweb.js"],(function(t){"use strict";var e,i,n,s,o,a,r,l,h,c,_,u,C,w,d,v,m,f,k,p,I,S,E,D,g,N,A;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass,n=t.asyncToGenerator,s=t.regeneratorRuntime},function(t){o=t.cclegacy,a=t._decorator,r=t.input,l=t.Input,h=t.KeyCode,c=t.EditBox},function(t){_=t.UIPackage,u=t.Event},null,function(t){C=t.ChainSystem},function(t){w=t.ChainOperateStatus},function(t){d=t.ChainOperateDepositWizz},function(t){v=t.EventDispatcher},function(t){m=t.EventName},function(t){f=t.EFarmCoinRes},function(t){k=t.TableHelper},function(t){p=t.ModelMainRoleManager},function(t){I=t.NetHelper},function(t){S=t.SoundHelper},function(t){E=t.LogicTool},function(t){D=t.ResourcePathTool},function(t){g=t.UIFloatTextController},function(t){N=t.UIBaseController},function(t){A=t.default}],execute:function(){var W,b;o._RF.push({},"fb7c8VcoINFMLL/mFVQ1Q6I","ui.asset.detail.controller",void 0);var T=a.ccclass;t("UIAssetDetailController",T("UIAssetDetailController")(((b=function(t){function o(){for(var e,i=arguments.length,n=new Array(i),s=0;s<i;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))||this).mFguiPkgName="Assets",e.mFguiMainViewName="wind_CoinDetails",e._view=null,e.mCurCoinID=0,e.mCurCoinName="",e}e(o,t);var a=o.prototype;return a._addEvents=function(){t.prototype._addEvents.call(this),r.on(l.EventType.KEY_DOWN,this._onKeyDown,this),v.on(m.PLAYERSELF_MONEY_GOLD_CHANGED,this._onGoldCoinChanged,this),v.on(m.PLAYERSELF_MONEY_SILVER_CHANGED,this._onSilverCoinChanged,this),v.on(m.PLAYERSELF_MONEY_WIZZ_CHANGED,this._onWizzCoinChanged,this),v.on(m.WIZARD_WALLET_COIN_DATA_CHANGED,this._refreshWalletCoinDataChanged,this),v.on(m.UI_ASSET_DETAIL_STAKE_CLOSE,this._onStakeViewClose,this)},a._removeEvents=function(){t.prototype._removeEvents.call(this),r.off(l.EventType.KEY_DOWN,this._onKeyDown,this),v.off(m.PLAYERSELF_MONEY_GOLD_CHANGED,this._onGoldCoinChanged,this),v.off(m.PLAYERSELF_MONEY_SILVER_CHANGED,this._onSilverCoinChanged,this),v.off(m.PLAYERSELF_MONEY_WIZZ_CHANGED,this._onWizzCoinChanged,this),v.off(m.WIZARD_WALLET_COIN_DATA_CHANGED,this._refreshWalletCoinDataChanged,this),v.off(m.UI_ASSET_DETAIL_STAKE_CLOSE,this._onStakeViewClose,this)},a._onKeyDown=function(t){switch(t.keyCode){case h.ESCAPE:this._onCloseClick()}},a._onGoldCoinChanged=function(){this._view&&this._refreshAssetBalance()},a._onSilverCoinChanged=function(){this._view&&this._refreshAssetBalance()},a._onWizzCoinChanged=function(){this._view&&(this._refreshAssetBalance(),this._view.stakeWind.visible&&"Withdraw"===this._view.stakeStateCtrl.selectedPage&&this._refreshWithdrawBalanceView())},a._refreshWalletCoinDataChanged=function(t){this._view&&t&&t===C.instance.beraWizzCoin.key&&this._view.stakeWind.visible&&"Deposit"===this._view.stakeStateCtrl.selectedPage&&this._refreshDepositBalanceView()},a._onStakeViewClose=function(){this._view&&(this._view.stakeWind.visible=!1)},a.setData=function(t){this.mCurCoinID=t},a.onLoad=function(){o._instance=this,this._startLoadPkg(this.mFguiPkgName)},a.onDestroy=function(){t.prototype.onDestroy.call(this),o._instance=null},a.closeUI=function(){t.prototype.closeUI.call(this)},a.update=function(){this._view},a._onLoadUIFinish=function(){t.prototype._onLoadUIFinish.call(this),this._view=_.createObject(this.mFguiPkgName,this.mFguiMainViewName).asCom,this._addUIToRoot(this._view),this._view.makeFullScreen(),this._view.stakeValue._editBox.inputMode=c.InputMode.NUMERIC,this._view.stakeValue.on(u.TEXT_CHANGE,this._onStakeCountTextChanged,this),this._view.closeBtn.onClick(this._onCloseClick,this),this._view.withdrawBtn.onClick(this._onWithdrawClick,this),this._view.depositBtn.onClick(this._onDepositClick,this),this._view.shopBtn.onClick(this._onShopClick,this),this._view.stakeCloseBtn.onClick(this._onWithdrawCloseClick,this),this._view.stakeMaxBtn.onClick(this._onWithdrawMaxClick,this),this._view.withdrawClaimBtn.onClick(this._onWithdrawClaimClick,this),this._view.depositClaimBtn.onClick(this._onDepositClaimClick,this),this._initData()},a._onStakeCountTextChanged=function(){if("Deposit"===this._view.stakeStateCtrl.selectedPage){var t=Number.parseInt(this._view.stakeValue.text);isNaN(t)&&(t=0);var e=Math.floor(C.instance.beraWizzCoin.balance);t<0&&(t=0),t>e&&(t=e),this._view.stakeValue.text=E.NumberOmit(t.toString())}else{var i=Number.parseFloat(this._view.stakeValue.text);isNaN(i)&&(i=0);var n=Number.parseFloat(p.instance.WizzCoin);i<0&&(i=0),i>n&&(i=n),this._view.stakeValue.text=E.NumberOmit(i.toString())}},a._onCloseClick=function(){S.PlaySound_UICommonClose(),v.emit(m.UI_ASSET_DETAIL_CLOSE)},a._onShopClick=function(){S.PlaySound_UICommonClick(),v.emit(m.UI_SHOP_OPEN),v.emit(m.UI_ASSET_DETAIL_CLOSE),v.emit(m.UI_ASSET_CLOSE)},a._onDepositClick=function(){S.PlaySound_UICommonClick(),g.AddTipI18nID_Info("u.2501")},a._onWithdrawClick=function(){S.PlaySound_UICommonClick(),g.AddTipI18nID_Info("u.2501")},a._onWithdrawCloseClick=function(){S.PlaySound_UICommonClick(),this._view.stakeWind.visible=!1},a._onWithdrawMaxClick=function(){S.PlaySound_UICommonClick();var t="0";t="Deposit"===this._view.stakeStateCtrl.selectedPage?Math.floor(C.instance.beraWizzCoin.balance).toString():p.instance.WizzCoin,this._view.stakeValue.text=E.NumberOmit(t)},a._onDepositClaimClick=function(){var t=n(s().mark((function t(){var e;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(S.PlaySound_UICommonClick(),e=this._view.stakeValue.text,!(Number(e)<=0)){t.next=5;break}return g.AddTipI18nID_Failed("u.2545"),t.abrupt("return");case 5:return t.next=7,d.popConfirm(e);case 7:t.sent===w.Success&&(this._view.stakeWind.visible=!1);case 9:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),a._onWithdrawClaimClick=function(){S.PlaySound_UICommonClick();var t=this._view.stakeValue.text;if(Number(t)<=0)g.AddTipI18nID_Failed("u.2545");else{var e=A.utils.toNano(t).toString();I.withdrawWizz(e)}},a._initData=function(){var t=k.getItemRecord(this.mCurCoinID);t&&(this.mCurCoinName=t.itemName,this._view.assetIcon.url=D.getUIFarmItemPath(t.itemIcon),this._view.assetName.text=E.i18nFormat(k.getI18nUIText("u.13438"),[this.mCurCoinName]),this._view.assetDesc.text=t.itemDesc,this._refreshAssetBalance(),this._view.withdrawBtn.visible=!1,this._view.depositBtn.visible=!1,this._view.shopBtn.visible=!1,this.mCurCoinID===f.Token_Wizz?(this._view.withdrawBtn.visible=!0,this._view.depositBtn.visible=!0):this.mCurCoinID===f.Token_Gold&&(this._view.shopBtn.visible=!0))},a._refreshAssetBalance=function(){switch(this.mCurCoinID){case f.Token_Silver:this._view.assetBalance.text=p.instance.SilverCoin+" "+this.mCurCoinName;break;case f.Token_Gold:this._view.assetBalance.text=p.instance.GoldCoin+" "+this.mCurCoinName;break;case f.Token_Wizz:var t=E.NumberOmit(p.instance.WizzCoin.toString(),8,!1);this._view.assetBalance.text=t+" "+this.mCurCoinName}},a._showDepositView=function(){this._view.stakeStateCtrl.selectedPage="Deposit",this._view.stakeValue.text="0",this._refreshDepositBalanceView()},a._refreshDepositBalanceView=function(){var t=E.NumberOmit(C.instance.beraWizzCoin.balance.toString());this._view.balanceValue.text=E.i18nFormat(k.getI18nUIText("u.14009"),[t.toString(),"WIZZ"])},a._showWithdrawView=function(){this._view.stakeStateCtrl.selectedPage="Withdraw",this._view.stakeValue.text="0",this._refreshWithdrawBalanceView()},a._refreshWithdrawBalanceView=function(){var t=Math.floor(100*Number.parseFloat(p.instance.WizzCoin))/100;this._view.balanceValue.text=E.i18nFormat(k.getI18nUIText("u.10156"),[t.toString()])},i(o,null,[{key:"instance",get:function(){return this._instance}}]),o}(N)).CTRL_NAME="UIAssetDetailController",b._instance=null,W=b))||W);o._RF.pop()}}}));

System.register("chunks:///_virtual/ui.asset.detail.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){"use strict";var i,e,s,a;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy,s=t._decorator},function(t){a=t.GComponent}],execute:function(){var n,o;e._RF.push({},"a88c7QZFudFC6zK190XEK8l","ui.asset.detail.view",void 0);var h=s.ccclass;t("default",h("UIAssetDetailView")(((o=function(t){function e(){var i;return(i=t.call(this)||this).closeBtn=void 0,i.assetIcon=void 0,i.assetName=void 0,i.assetBalance=void 0,i.assetDesc=void 0,i.withdrawBtn=void 0,i.depositBtn=void 0,i.shopBtn=void 0,i.stakeWind=void 0,i.stakeView=void 0,i.stakeStateCtrl=void 0,i.stakeCloseBtn=void 0,i.stakeValue=void 0,i.stakeMaxBtn=void 0,i.withdrawClaimBtn=void 0,i.depositClaimBtn=void 0,i.balanceValue=void 0,i}return i(e,t),e.prototype.onConstruct=function(){this.closeBtn=this.getChild("ui_WindClose"),this.assetIcon=this.getChild("ui_TokenIcon1"),this.assetName=this.getChild("ui_TokenName"),this.assetBalance=this.getChild("ui_BalanceValue1"),this.assetDesc=this.getChild("ui_Des"),this.withdrawBtn=this.getChild("ui_BtnWithdraw"),this.depositBtn=this.getChild("ui_BtnDeposit"),this.shopBtn=this.getChild("ui_BtnTopUp"),this.stakeWind=this.getChild("ui_Gp_Stake"),this.stakeView=this.getChild("ui_Wind_Stake"),this.stakeStateCtrl=this.stakeView.getController("State"),this.stakeCloseBtn=this.stakeView.getChild("ui_WindClose"),this.stakeValue=this.stakeView.getChild("ui_InputAmount"),this.stakeMaxBtn=this.stakeView.getChild("ui_BtnMax"),this.withdrawClaimBtn=this.stakeView.getChild("ui_BtnWithdraw"),this.depositClaimBtn=this.stakeView.getChild("ui_BtnDeposit"),this.balanceValue=this.stakeView.getChild("ui_Balance")},e}(a)).URL="ui://Assets/wind_CoinDetails",n=o))||n);e._RF.pop()}}}));

System.register("chunks:///_virtual/ui.asset.onchain.controller.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./chain.system.ts","./event.dispatcher.ts","./event.name.ts","./table.helper.ts","./model.item.manager.ts","./model.worker.manager.ts","./sound.helper.ts","./time.system.ts","./ui.common.item.title.view.ts","./ui.base.controller.ts","./ui.asset.onchain.package.insale.list.bar.view.ts","./ui.asset.onchain.package.list.bar.view.ts","./ui.asset.onchain.worker.insale.list.bar.view.ts","./ui.asset.onchain.worker.list.bar.view.ts"],(function(e){"use strict";var t,a,i,r,s,n,o,l,c,h,m,u,k,f,_,v,p,I,D,g,d,C,P,T,w;return{setters:[function(e){t=e.inheritsLoose,a=e.createClass,i=e.asyncToGenerator,r=e.regeneratorRuntime},function(e){s=e.cclegacy,n=e._decorator,o=e.input,l=e.Input,c=e.KeyCode,h=e.isValid},function(e){m=e.UIPackage},function(e){u=e.ChainSystem},function(e){k=e.EventDispatcher},function(e){f=e.EventName},function(e){_=e.TableHelper},function(e){v=e.ModelItemManager},function(e){p=e.ModelWorkerManager},function(e){I=e.SoundHelper},function(e){D=e.TimeSystem},function(e){g=e.default},function(e){d=e.UIBaseController},function(e){C=e.default},function(e){P=e.default},function(e){T=e.default},function(e){w=e.default}],execute:function(){var W,b;s._RF.push({},"4f944TQiHBDJ6krNQBIlxIV","ui.asset.onchain.controller",void 0);var A,x=n.ccclass;!function(e){e[e.Worker=0]="Worker",e[e.Package=1]="Package"}(A||(A={}));e("UIAssetOnChainController",x("UIAssetOnChainController")(((b=function(e){function s(){for(var t,a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))||this).mFguiPkgName="Assets_OnChain",t.mFguiMainViewName="Main",t._view=null,t._curTabType=A.Worker,t.mAllWorkerData=[],t.mWorkerCommonData=[],t.mWorkerInSaleData=[],t.mAllPackageData=[],t.mPackageCommonData=[],t.mPackageInSaleData=[],t.mWorkerCtrlMap=new Map,t.mWorkerInSaleCtrlMap=new Map,t.mPackageCtrlMap=new Map,t.mPackageInSaleCtrlMap=new Map,t.lastAutoRefreshTimePos=0,t.AutoRefreshTimeInterval=30,t}t(s,e);var n=s.prototype;return n._addEvents=function(){e.prototype._addEvents.call(this),o.on(l.EventType.KEY_DOWN,this._onKeyDown,this),k.on(f.CHAIN_NFT_REFRESH_WIZWARD_DATA,this._onRefreshNFTWizardData,this),k.on(f.CHAIN_MARKETPLACE_REFRESH_WIZWARD_DATA,this._onRefreshMarketWizardData,this),k.on(f.CHAIN_NFT_REFRESH_ITEM_DATA,this._onRefreshNFTItemData,this),k.on(f.CHAIN_MARKETPLACE_REFRESH_ITEM_DATA,this._onRefreshMarketItemData,this)},n._removeEvents=function(){e.prototype._removeEvents.call(this),o.off(l.EventType.KEY_DOWN,this._onKeyDown,this),k.off(f.CHAIN_NFT_REFRESH_WIZWARD_DATA,this._onRefreshNFTWizardData,this),k.off(f.CHAIN_MARKETPLACE_REFRESH_WIZWARD_DATA,this._onRefreshMarketWizardData,this),k.off(f.CHAIN_NFT_REFRESH_ITEM_DATA,this._onRefreshNFTItemData,this),k.off(f.CHAIN_MARKETPLACE_REFRESH_ITEM_DATA,this._onRefreshMarketItemData,this)},n._onKeyDown=function(e){switch(e.keyCode){case c.ESCAPE:this._onCloseClick()}},n._onRefreshNFTWizardData=function(){this._view&&this._curTabType===A.Worker&&this._refreshWorkerList(!1)},n._onRefreshMarketWizardData=function(){this._view&&this._curTabType===A.Worker&&this._refreshWorkerInSaleList(!1)},n._onRefreshNFTItemData=function(){this._view&&this._curTabType===A.Package&&this._refreshPackageList(!1)},n._onRefreshMarketItemData=function(){this._view&&this._curTabType===A.Package&&this._refreshPackageInSaleList(!1)},n.setTab=function(e){this._curTabType=e||A.Worker,null!=this._view&&this.IsLoadFinish&&(this._view.tabCtrl.setSelectedIndex(this._curTabType),this._showData())},n.onLoad=function(){s._instance=this,this._startLoadPkg(this.mFguiPkgName)},n.onDestroy=function(){e.prototype.onDestroy.call(this),s._instance=null},n.closeUI=function(){e.prototype.closeUI.call(this)},n.update=function(){null!==this._view&&(this.lastAutoRefreshTimePos<=0||.001*(D.xTimeGetTime()-this.lastAutoRefreshTimePos)>this.AutoRefreshTimeInterval&&(this._curTabType===A.Worker?this._refreshWorkerList(!1,!1):this._refreshPackageList(!1,!1)))},n._onLoadUIFinish=function(){e.prototype._onLoadUIFinish.call(this),this._view=m.createObject(this.mFguiPkgName,this.mFguiMainViewName).asCom,this._addUIToRoot(this._view),this._view.makeFullScreen(),this._view.tabCtrl.onChanged(this._onTabChanged,this),this._view.closeBtn.onClick(this._onCloseClick,this),this._view.retryBtn.onClick(this._onRetryClick,this),this._initData()},n._onTabChanged=function(){0===this._view.tabCtrl.selectedIndex?this._curTabType=A.Worker:1===this._view.tabCtrl.selectedIndex&&(this._curTabType=A.Package),this._showData(),I.PlaySound_UICommonClick()},n._onCloseClick=function(){var e=i(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:I.PlaySound_UICommonClose(),k.emit(f.UI_ASSET_ONCHAIN_CLOSE);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),n._onRetryClick=function(){var e=i(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:I.PlaySound_UICommonClick(),this._curTabType===A.Worker?this._refreshWorkerList():this._refreshPackageList();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n._initData=function(){var e=i(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._view.tabCtrl.setSelectedIndex(this._curTabType),this._showData();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n._showData=function(){switch(this._curTabType){case A.Worker:this._refreshWorkerList(),p.instance.IsNewOnChain=!1,k.emit(f.WORKER_NEW_RED_POINT);break;case A.Package:this._refreshPackageList(),v.instance.IsNewOnChain=!1,k.emit(f.ITEM_NEW_RED_POINT)}this._refreshTabRedPoint()},n._refreshTabRedPoint=function(){var e=p.instance.IsNewOnChain;this._view.setTabBtnRedPoint(this._view.tab1Btn,e);var t=v.instance.IsNewOnChain;this._view.setTabBtnRedPoint(this._view.tab2Btn,t)},n._refreshWorkerList=function(){var e=i(r().mark((function e(t,a){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===t&&(t=!0),void 0===a&&(a=!0),a&&(this._view.isNoneCtrl.selectedIndex=2),e.prev=3,e.next=6,this._requestWorkerOnChainData();case 6:return e.next=8,this._requestWorkerInSaleData();case 8:if(h(this.node)){e.next=10;break}return e.abrupt("return");case 10:this._setWorkerList(t),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(3),this._view&&(this._view.isNoneCtrl.selectedIndex=3);case 16:case"end":return e.stop()}}),e,this,[[3,13]])})));return function(t,a){return e.apply(this,arguments)}}(),n._refreshWorkerInSaleList=function(){var e=i(r().mark((function e(t){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===t&&(t=!0),this._view.isNoneCtrl.selectedIndex=2,e.prev=2,e.next=5,this._requestWorkerInSaleData();case 5:if(h(this.node)){e.next=7;break}return e.abrupt("return");case 7:this._setWorkerList(t),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),this._view&&(this._view.isNoneCtrl.selectedIndex=3);case 13:case"end":return e.stop()}}),e,this,[[2,10]])})));return function(t){return e.apply(this,arguments)}}(),n._requestWorkerOnChainData=function(){var e=i(r().mark((function e(){var t,a,i=this;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.lastAutoRefreshTimePos=0,e.prev=1,e.next=4,u.instance.beraContractWizard.getAllWizardList();case 4:t=e.sent,this.mAllWorkerData=[],null!=t&&(a=this.mAllWorkerData).push.apply(a,t),this.mAllWorkerData.sort((function(e,t){return i._compareWorkerList(e,t)})),e.next=14;break;case 10:throw e.prev=10,e.t0=e.catch(1),console.error(e.t0),e.t0;case 14:return e.prev=14,this.lastAutoRefreshTimePos=D.xTimeGetTime(),e.finish(14);case 17:case"end":return e.stop()}}),e,this,[[1,10,14,17]])})));return function(){return e.apply(this,arguments)}}(),n._compareWorkerList=function(e,t){return e.WorkerLevel!==t.WorkerLevel?t.WorkerLevel-e.WorkerLevel:Number(e.TokenID)-Number(t.TokenID)},n._requestWorkerInSaleData=function(){var e=i(r().mark((function e(){var t,a,i,s;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.lastAutoRefreshTimePos=0,e.prev=1,e.next=4,u.instance.beraContractMarketplace.getSelfWizardChainOrder();case 4:if(null==(t=e.sent)){e.next=24;break}a=0;case 7:if(!(a<this.mAllWorkerData.length)){e.next=24;break}this.mAllWorkerData[a].isIsSale=!1,this.mAllWorkerData[a].saleOrderID="",this.mAllWorkerData[a].salePrice="",i=0;case 12:if(!(i<t.length)){e.next=21;break}if(this.mAllWorkerData[a].TokenID!==t[i].TokenID){e.next=18;break}return this.mAllWorkerData[a].isIsSale=!0,this.mAllWorkerData[a].saleOrderID=t[i].OrderID,this.mAllWorkerData[a].salePrice=t[i].Price,e.abrupt("continue",18);case 18:i++,e.next=12;break;case 21:a++,e.next=7;break;case 24:for(this.mWorkerCommonData=[],this.mWorkerInSaleData=[],s=0;s<this.mAllWorkerData.length;s++)this.mAllWorkerData[s].isIsSale?this.mWorkerInSaleData.push(this.mAllWorkerData[s]):this.mWorkerCommonData.push(this.mAllWorkerData[s]);e.next=33;break;case 29:throw e.prev=29,e.t0=e.catch(1),console.error(e.t0),e.t0;case 33:return e.prev=33,this.lastAutoRefreshTimePos=D.xTimeGetTime(),e.finish(33);case 36:case"end":return e.stop()}}),e,this,[[1,29,33,36]])})));return function(){return e.apply(this,arguments)}}(),n._setWorkerList=function(e){void 0===e&&(e=!0);var t=!0;if(this._view.workerList.removeChildrenToPool(),this.mWorkerCtrlMap.clear(),this.mWorkerInSaleCtrlMap.clear(),this.mWorkerCommonData.length>0){this._view.workerList.addItemFromPool(g.URL).setTitle(_.getI18nUIText("u.13911"));for(var a=Math.ceil(this.mWorkerCommonData.length/3),i=0;i<a;i++){var r=this._view.workerList.addItemFromPool(w.URL);this.renderWorkerItem(i,r)}t=!1}if(this.mWorkerInSaleData.length>0){this._view.workerList.addItemFromPool(g.URL).setTitle(_.getI18nUIText("u.13912"));for(var s=Math.ceil(this.mWorkerInSaleData.length/3),n=0;n<s;n++){var o=this._view.workerList.addItemFromPool(T.URL);this.renderWorkerInSaleItem(n,o)}t=!1}t?(this._view.isNoneCtrl.selectedIndex=1,this._view.noneTip.text=_.getI18nUIText("u.10109")):this._view.isNoneCtrl.selectedIndex=0,!t&&e&&this._view.workerList.scrollToView(0)},n.renderWorkerItem=function(e,t){var a=this.mWorkerCommonData.length;if(3*e<a){var i=this.mWorkerCommonData[3*e];t.item01.visible=!0,t.item01.setOnChainWorkerData(i),this.mWorkerCtrlMap.set(i.TokenID,t.item01)}else t.item01.visible=!1;if(3*e+1<a){var r=this.mWorkerCommonData[3*e+1];t.item02.visible=!0,t.item02.setOnChainWorkerData(r),this.mWorkerCtrlMap.set(r.TokenID,t.item02)}else t.item02.visible=!1;if(3*e+2<a){var s=this.mWorkerCommonData[3*e+2];t.item03.visible=!0,t.item03.setOnChainWorkerData(s),this.mWorkerCtrlMap.set(s.TokenID,t.item03)}else t.item03.visible=!1},n.renderWorkerInSaleItem=function(e,t){var a=this.mWorkerInSaleData.length;if(3*e<a){var i=this.mWorkerInSaleData[3*e];t.item01.visible=!0,t.item01.setOnChainWorkerData(i),this.mWorkerInSaleCtrlMap.set(i.TokenID,t.item01)}else t.item01.visible=!1;if(3*e+1<a){var r=this.mWorkerInSaleData[3*e+1];t.item02.visible=!0,t.item02.setOnChainWorkerData(r),this.mWorkerInSaleCtrlMap.set(r.TokenID,t.item02)}else t.item02.visible=!1;if(3*e+2<a){var s=this.mWorkerInSaleData[3*e+2];t.item03.visible=!0,t.item03.setOnChainWorkerData(s),this.mWorkerInSaleCtrlMap.set(s.TokenID,t.item03)}else t.item03.visible=!1},n._refreshPackageList=function(){var e=i(r().mark((function e(t,a){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===t&&(t=!0),void 0===a&&(a=!0),a&&(this._view.isNoneCtrl.selectedIndex=2),e.prev=3,e.next=6,this._requestPackageOnChainData();case 6:return e.next=8,this._requestPackageInSaleData();case 8:if(h(this.node)){e.next=10;break}return e.abrupt("return");case 10:this._setPackageList(t),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(3),this._view&&(this._view.isNoneCtrl.selectedIndex=3);case 16:case"end":return e.stop()}}),e,this,[[3,13]])})));return function(t,a){return e.apply(this,arguments)}}(),n._refreshPackageInSaleList=function(){var e=i(r().mark((function e(t){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===t&&(t=!0),this._view.isNoneCtrl.selectedIndex=2,e.prev=2,e.next=5,this._requestPackageInSaleData();case 5:if(h(this.node)){e.next=7;break}return e.abrupt("return");case 7:this._setPackageList(t),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),this._view&&(this._view.isNoneCtrl.selectedIndex=3);case 13:case"end":return e.stop()}}),e,this,[[2,10]])})));return function(t){return e.apply(this,arguments)}}(),n._requestPackageOnChainData=function(){var e=i(r().mark((function e(){var t,a,i=this;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.lastAutoRefreshTimePos=0,e.prev=1,e.next=4,u.instance.beraContractItemV2.getAllItemList();case 4:if(t=e.sent,this.mAllPackageData=[],null!=t)for(t.sort((function(e,t){return i._comparePackageList(e,t)})),a=0;a<t.length;a++)t[a].isOldContract=!1,this.mAllPackageData.push(t[a]);e.next=13;break;case 9:throw e.prev=9,e.t0=e.catch(1),console.error(e.t0),e.t0;case 13:return e.prev=13,this.lastAutoRefreshTimePos=D.xTimeGetTime(),e.finish(13);case 16:case"end":return e.stop()}}),e,this,[[1,9,13,16]])})));return function(){return e.apply(this,arguments)}}(),n._comparePackageList=function(e,t){return Number(e.tokenID)-Number(t.tokenID)},n._requestPackageInSaleData=function(){var e=i(r().mark((function e(){var t,a,i,s;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.lastAutoRefreshTimePos=0,e.prev=1,e.next=4,u.instance.beraContractMarketplace.getSelfItemChainOrder();case 4:if(null==(t=e.sent)){e.next=26;break}a=0;case 7:if(!(a<this.mAllPackageData.length)){e.next=26;break}this.mAllPackageData[a].isIsSale=!1,this.mAllPackageData[a].saleCount=0,this.mAllPackageData[a].saleOrderID="",this.mAllPackageData[a].salePrice="",i=0;case 13:if(!(i<t.length)){e.next=23;break}if(this.mAllPackageData[a].tokenID!==t[i].TokenID){e.next=20;break}return this.mAllPackageData[a].isIsSale=!0,this.mAllPackageData[a].saleOrderID=t[i].OrderID,this.mAllPackageData[a].saleCount=Number.parseInt(t[i].Amount),this.mAllPackageData[a].salePrice=t[i].Price,e.abrupt("continue",20);case 20:i++,e.next=13;break;case 23:a++,e.next=7;break;case 26:for(this.mPackageCommonData=[],this.mPackageInSaleData=[],s=0;s<this.mAllPackageData.length;s++)this.mAllPackageData[s].isIsSale?this.mAllPackageData[s].curCount>this.mAllPackageData[s].saleCount?(this.mPackageInSaleData.push(this.mAllPackageData[s]),this.mPackageCommonData.push(this.mAllPackageData[s])):this.mPackageInSaleData.push(this.mAllPackageData[s]):this.mPackageCommonData.push(this.mAllPackageData[s]);e.next=35;break;case 31:throw e.prev=31,e.t0=e.catch(1),console.error(e.t0),e.t0;case 35:return e.prev=35,this.lastAutoRefreshTimePos=D.xTimeGetTime(),e.finish(35);case 38:case"end":return e.stop()}}),e,this,[[1,31,35,38]])})));return function(){return e.apply(this,arguments)}}(),n._setPackageList=function(e){void 0===e&&(e=!0);var t=!0;if(this._view.packageList.removeChildrenToPool(),this.mPackageCtrlMap.clear(),this.mPackageInSaleCtrlMap.clear(),this.mPackageCommonData.length>0){this._view.packageList.addItemFromPool(g.URL).setTitle(_.getI18nUIText("u.13911"));for(var a=Math.ceil(this.mPackageCommonData.length/3),i=0;i<a;i++){var r=this._view.packageList.addItemFromPool(P.URL);this.renderPackageItem(i,r)}t=!1}if(this.mPackageInSaleData.length>0){this._view.packageList.addItemFromPool(g.URL).setTitle(_.getI18nUIText("u.13912"));for(var s=Math.ceil(this.mPackageInSaleData.length/3),n=0;n<s;n++){var o=this._view.packageList.addItemFromPool(C.URL);this.renderPackageInSaleItem(n,o)}t=!1}t?(this._view.isNoneCtrl.selectedIndex=1,this._view.noneTip.text=_.getI18nUIText("u.10118")):this._view.isNoneCtrl.selectedIndex=0,!t&&e&&this._view.packageList.scrollToView(0)},n.renderPackageItem=function(e,t){var a=this.mPackageCommonData.length;if(3*e<a){var i=this.mPackageCommonData[3*e];t.item01.visible=!0,t.item01.setOnChainPackageData(i),this.mPackageCtrlMap.set(i.tokenID,t.item01)}else t.item01.visible=!1;if(3*e+1<a){var r=this.mPackageCommonData[3*e+1];t.item02.visible=!0,t.item02.setOnChainPackageData(r),this.mPackageCtrlMap.set(r.tokenID,t.item02)}else t.item02.visible=!1;if(3*e+2<a){var s=this.mPackageCommonData[3*e+2];t.item03.visible=!0,t.item03.setOnChainPackageData(s),this.mPackageCtrlMap.set(s.tokenID,t.item03)}else t.item03.visible=!1},n.renderPackageInSaleItem=function(e,t){var a=this.mPackageInSaleData.length;if(3*e<a){var i=this.mPackageInSaleData[3*e];t.item01.visible=!0,t.item01.setOnChainPackageData(i),this.mPackageInSaleCtrlMap.set(i.tokenID,t.item01)}else t.item01.visible=!1;if(3*e+1<a){var r=this.mPackageInSaleData[3*e+1];t.item02.visible=!0,t.item02.setOnChainPackageData(r),this.mPackageInSaleCtrlMap.set(r.tokenID,t.item02)}else t.item02.visible=!1;if(3*e+2<a){var s=this.mPackageInSaleData[3*e+2];t.item03.visible=!0,t.item03.setOnChainPackageData(s),this.mPackageInSaleCtrlMap.set(s.tokenID,t.item03)}else t.item03.visible=!1},a(s,null,[{key:"instance",get:function(){return this._instance}}]),s}(d)).CTRL_NAME="UIAssetOnChainController",b._instance=null,W=b))||W);s._RF.pop()}}}));

System.register("chunks:///_virtual/ui.asset.onchain.package.insale.list.bar.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){"use strict";var e,i,n,a;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy,n=t._decorator},function(t){a=t.GComponent}],execute:function(){var s,r;i._RF.push({},"5d0e90aiHdAbI7maArfkLWR","ui.asset.onchain.package.insale.list.bar.view",void 0);var c=n.ccclass;t("default",c("UIAssetOnChainPackageInSaleListBarView")(((r=function(t){function i(){for(var e,i=arguments.length,n=new Array(i),a=0;a<i;a++)n[a]=arguments[a];return(e=t.call.apply(t,[this].concat(n))||this).item01=void 0,e.item02=void 0,e.item03=void 0,e}return e(i,t),i.prototype.onConstruct=function(){this.item01=this.getChild("ui_OnMarketplace_Item1"),this.item02=this.getChild("ui_OnMarketplace_Item2"),this.item03=this.getChild("ui_OnMarketplace_Item3")},i}(a)).URL="ui://Assets_OnChain/OnMarketplace_Item_Gp",s=r))||s);i._RF.pop()}}}));

System.register("chunks:///_virtual/ui.asset.onchain.package.list.bar.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){"use strict";var i,e,n,s;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy,n=t._decorator},function(t){s=t.GComponent}],execute:function(){var a,o;e._RF.push({},"75231AoLvhBLqSNNPwejcJ4","ui.asset.onchain.package.list.bar.view",void 0);var c=n.ccclass;t("default",c("UIAssetOnChainPackageListBarView")(((o=function(t){function e(){for(var i,e=arguments.length,n=new Array(e),s=0;s<e;s++)n[s]=arguments[s];return(i=t.call.apply(t,[this].concat(n))||this).item01=void 0,i.item02=void 0,i.item03=void 0,i}return i(e,t),e.prototype.onConstruct=function(){this.item01=this.getChild("ui_InWallet_Item1"),this.item02=this.getChild("ui_InWallet_Item2"),this.item03=this.getChild("ui_InWallet_Item3")},e}(s)).URL="ui://Assets_OnChain/InWallet_Item_Gp",a=o))||a);e._RF.pop()}}}));

System.register("chunks:///_virtual/ui.asset.onchain.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){"use strict";var i,e,s,n;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy,s=t._decorator},function(t){n=t.GComponent}],execute:function(){var o,r;e._RF.push({},"a0c88cL7UpNZq3T4Zs5x6+O","ui.asset.onchain.view",void 0);var a=s.ccclass;t("default",a("UIAssetOnChainView")(((r=function(t){function e(){var i;return(i=t.call(this)||this).isNoneCtrl=void 0,i.tabCtrl=void 0,i.closeBtn=void 0,i.retryBtn=void 0,i.tab1Btn=void 0,i.tab2Btn=void 0,i.workerList=void 0,i.packageList=void 0,i.noneTip=void 0,i}i(e,t);var s=e.prototype;return s.onConstruct=function(){this.isNoneCtrl=this.getController("IsNone"),this.tabCtrl=this.getController("TabState"),this.closeBtn=this.getChild("ui_WindClose"),this.retryBtn=this.getChild("ui_BtnRetry"),this.tab1Btn=this.getChild("ui_TabWizard"),this.tab2Btn=this.getChild("ui_TabItem"),this.workerList=this.getChild("ui_List_Wizard"),this.packageList=this.getChild("ui_List_Item"),this.noneTip=this.getChild("ui_NoneLabel")},s.setTabBtnRedPoint=function(t,i){var e=t.getChild("UI_TipSp");e&&(e.visible=i)},e}(n)).URL="ui://Assets_OnChain/Main",o=r))||o);e._RF.pop()}}}));

System.register("chunks:///_virtual/ui.asset.onchain.worker.insale.list.bar.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(i){"use strict";var t,e,n,r;return{setters:[function(i){t=i.inheritsLoose},function(i){e=i.cclegacy,n=i._decorator},function(i){r=i.GComponent}],execute:function(){var a,s;e._RF.push({},"3e840F/JfRCYIQjP8DqJUMi","ui.asset.onchain.worker.insale.list.bar.view",void 0);var o=n.ccclass;i("default",o("UIAssetOnChainWorkerInSaleListBarView")(((s=function(i){function e(){for(var t,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(t=i.call.apply(i,[this].concat(n))||this).item01=void 0,t.item02=void 0,t.item03=void 0,t}return t(e,i),e.prototype.onConstruct=function(){this.item01=this.getChild("ui_OnMarketplace_Wizard1"),this.item02=this.getChild("ui_OnMarketplace_Wizard2"),this.item03=this.getChild("ui_OnMarketplace_Wizard3")},e}(r)).URL="ui://Assets_OnChain/OnMarketplace_Wizard_Gp",a=s))||a);e._RF.pop()}}}));

System.register("chunks:///_virtual/ui.asset.onchain.worker.list.bar.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(i){"use strict";var t,e,n,r;return{setters:[function(i){t=i.inheritsLoose},function(i){e=i.cclegacy,n=i._decorator},function(i){r=i.GComponent}],execute:function(){var s,o;e._RF.push({},"97faeU4x4JEoLZbv0FAdjir","ui.asset.onchain.worker.list.bar.view",void 0);var a=n.ccclass;i("default",a("UIAssetOnChainWorkerListBarView")(((o=function(i){function e(){for(var t,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(t=i.call.apply(i,[this].concat(n))||this).item01=void 0,t.item02=void 0,t.item03=void 0,t}return t(e,i),e.prototype.onConstruct=function(){this.item01=this.getChild("ui_InWallet_Wizard1"),this.item02=this.getChild("ui_InWallet_Wizard2"),this.item03=this.getChild("ui_InWallet_Wizard3")},e}(r)).URL="ui://Assets_OnChain/InWallet_Wizard_Gp",s=o))||s);e._RF.pop()}}}));

System.register("chunks:///_virtual/ui.asset.package.item.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./enum.chain.type.ts","./event.dispatcher.ts","./event.name.ts","./enum.item.type.ts","./new.guide.manager.ts","./table.helper.ts","./model.item.data.ts","./sound.helper.ts","./resource.path.tool.ts"],(function(t){"use strict";var e,i,s,a,n,o,h,c,r,m,u,l,C,I;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy,s=t._decorator,a=t.isValid},function(t){n=t.GButton},function(t){o=t.EChainType},function(t){h=t.EventDispatcher},function(t){c=t.EventName},function(t){r=t.EItemType},function(t){m=t.NewGuideManager},function(t){u=t.TableHelper},function(t){l=t.ModelItemData},function(t){C=t.SoundHelper},function(t){I=t.ResourcePathTool}],execute:function(){var d,S;i._RF.push({},"c7a48zKNyRGnZ5XosN1c/iL","ui.asset.package.item.view",void 0);var _=s.ccclass;t("default",_("UIAssetPackageItemView")(((S=function(t){function i(){var e;return(e=t.call(this)||this).btnCtrl=void 0,e.isRecipeCtrl=void 0,e.isNewCtrl=void 0,e.isOldContractCtrl=void 0,e.itemIcon=void 0,e.itemCount=void 0,e.itemChainType=void 0,e.mCurShowData=void 0,e.mSelectedItemId="0",e}e(i,t);var s=i.prototype;return s.onConstruct=function(){this.btnCtrl=this.getController("button"),this.isRecipeCtrl=this.getController("IsRecipe"),this.isNewCtrl=this.getController("IsNew"),this.isOldContractCtrl=this.getController("IsOldContract"),this.itemIcon=this.getChild("ui_ItemIcon"),this.itemCount=this.getChild("ui_ItemAmount"),this.itemChainType=this.getChild("ui_ChainType"),this.onClick(this._onPackageItemClick,this),h.on(c.UI_BAG_ITEM_SELECTED,this._onPackageItemSelected,this)},s.onDestroy=function(){h.off(c.UI_BAG_ITEM_SELECTED,this._onPackageItemSelected,this)},s._onPackageItemSelected=function(t){a(this.node)&&this.mSelectedItemId!==t&&(this.mSelectedItemId=t,this._setPackageItemSelected())},s._onPackageItemClick=function(){C.PlaySound_UICommonClick(),null!=this.mCurShowData&&(this.mCurShowData instanceof l?(this.mCurShowData.isNew&&(this.mCurShowData.isNew=!1,this.isNewCtrl.selectedIndex=0),h.emit(c.UI_BAG_ITEM_SELECTED,this.mCurShowData.tempId),this.mCurShowData.itemObject.itemType===r.Farm_Recipe?h.emit(c.UI_DETAILS_SHOW_ITEM_RECIPE,this.mCurShowData):this.mCurShowData.itemObject.itemType===r.Box_Use||this.mCurShowData.itemObject.itemType===r.Exploration_Pass||this.mCurShowData.itemObject.itemType===r.Combination?h.emit(c.UI_DETAILS_SHOW_ITEM_USE,this.mCurShowData):h.emit(c.UI_DETAILS_SHOW_ITEM,this.mCurShowData),m.instance.IsInGuideScene&&m.instance.NextStep()):(h.emit(c.UI_BAG_ITEM_SELECTED,this.mCurShowData.tokenID),h.emit(c.UI_DETAILS_SHOW_ITEM,this.mCurShowData)))},s.setInGamePackageData=function(t){this.mCurShowData=t;var e=u.getItemRecord(t.tableId);e&&(this.itemIcon.url=I.getUIFarmItemPath(e.itemIcon),this.itemCount.text=t.curCount.toString(),this.itemChainType.setChainType(o.None),t.itemObject.itemType===r.Farm_Recipe?this.isRecipeCtrl.selectedIndex=1:this.isRecipeCtrl.selectedIndex=0,t.isNew?this.isNewCtrl.selectedIndex=1:this.isNewCtrl.selectedIndex=0,this.isOldContractCtrl.selectedIndex=0)},s.setOnChainPackageData=function(t){this.mCurShowData=t;var e=u.getItemRecord(Number(this.mCurShowData.tokenID));if(e){if(this.itemIcon.url=I.getUIFarmItemPath(e.itemIcon),this.mCurShowData.isIsSale){var i=this.mCurShowData.curCount-this.mCurShowData.saleCount;this.itemCount.text=i.toString()}else this.itemCount.text=this.mCurShowData.curCount.toString();this.itemChainType.setChainType(this.mCurShowData.chainType),this.isRecipeCtrl.selectedIndex=0,this.isNewCtrl.selectedIndex=0,t.isOldContract?this.isOldContractCtrl.selectedIndex=1:this.isOldContractCtrl.selectedIndex=0}},s._setPackageItemSelected=function(){if(null!=this.mCurShowData){var t="0";t=this.mCurShowData instanceof l?this.mCurShowData.tempId:this.mCurShowData.tokenID,this.mSelectedItemId===t?this.selected=!0:this.selected=!1}},i}(n)).URL="ui://Common/listbar_item",d=S))||d);i._RF.pop()}}}));

System.register("chunks:///_virtual/ui.asset.resource.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./enum.farm.coin.res.ts","./model.farm.manager.ts","./model.mainrole.manager.ts"],(function(e){"use strict";var i,t,s,a,o,r,n;return{setters:[function(e){i=e.inheritsLoose},function(e){t=e.cclegacy,s=e._decorator},function(e){a=e.GComponent},function(e){o=e.EFarmCoinRes},function(e){r=e.ModelFarmManager},function(e){n=e.ModelMainRoleManager}],execute:function(){var l,u;t._RF.push({},"3eafeHEyXVGl6by3Po+1Vqe","ui.asset.resource.view",void 0);var h=s.ccclass;e("default",h("UIAssetResourceView")(((u=function(e){function t(){var i;return(i=e.call(this)||this).coinSilverView=void 0,i.coinSilverValue=void 0,i.coinGoldView=void 0,i.coinGoldValue=void 0,i.coinWizzView=void 0,i.coinWizzValue=void 0,i.resMushroomView=void 0,i.resMushroomValue=void 0,i.resManaGelView=void 0,i.resManaGelValue=void 0,i.resEtherealView=void 0,i.resEtherealValue=void 0,i}i(t,e);var s=t.prototype;return s.onConstruct=function(){this.coinSilverView=this.getChild("ui_Silver"),this.coinSilverValue=this._getBarValue(this.coinSilverView),this.coinGoldView=this.getChild("ui_Gold"),this.coinGoldValue=this._getBarValue(this.coinGoldView),this.coinWizzView=this.getChild("ui_Wizz"),this.coinWizzValue=this._getBarValue(this.coinWizzView),this.resMushroomView=this.getChild("ui_Mushroom"),this.resMushroomValue=this._getBarValue(this.resMushroomView),this.resManaGelView=this.getChild("ui_ManaGel"),this.resManaGelValue=this._getBarValue(this.resManaGelView),this.resEtherealView=this.getChild("ui_Ethereal"),this.resEtherealValue=this._getBarValue(this.resEtherealView)},s._getBarValue=function(e){return e.getChild("ui_CoinAmount")},s.refreshSilverData=function(){this.coinSilverValue.text=n.instance.SilverCoin},s.refreshGoldData=function(){this.coinGoldValue.text=n.instance.GoldCoin},s.refreshWizzData=function(){this.coinWizzValue.text=n.instance.WizzCoin},s.refreshMushroomData=function(){this.resMushroomValue.text=r.instance.getResValueByType(o.Res_Mushroom).toString()},s.refreshManaGelData=function(){this.resManaGelValue.text=r.instance.getResValueByType(o.Res_ManaGel).toString()},s.refreshEtherealData=function(){this.resEtherealValue.text=r.instance.getResValueByType(o.Res_Ethereal).toString()},t}(a)).URL="ui://Assets/wallet_wind",l=u))||l);t._RF.pop()}}}));

System.register("chunks:///_virtual/ui.asset.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){"use strict";var i,e,s,o;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy,s=t._decorator},function(t){o=t.GComponent}],execute:function(){var n,r;e._RF.push({},"3f66dMbdxpMPqzed58Xe9uL","ui.asset.view",void 0);var u=s.ccclass;t("default",u("UIAssetView")(((r=function(t){function e(){var i;return(i=t.call(this)||this).isNoneCtrl=void 0,i.tabCtrl=void 0,i.closeBtn=void 0,i.tab1Btn=void 0,i.tab2Btn=void 0,i.tab3Btn=void 0,i.workerList=void 0,i.itemList=void 0,i.resourceView=void 0,i.noneTip=void 0,i}i(e,t);var s=e.prototype;return s.onConstruct=function(){this.isNoneCtrl=this.getController("IsNone"),this.tabCtrl=this.getController("TabState"),this.closeBtn=this.getChild("ui_WindClose"),this.tab1Btn=this.getChild("ui_TabWizard"),this.tab2Btn=this.getChild("ui_TabItem"),this.tab3Btn=this.getChild("ui_TabCoin"),this.workerList=this.getChild("ui_List_Wizard"),this.itemList=this.getChild("ui_List_Item"),this.resourceView=this.getChild("ui_List_Coin"),this.noneTip=this.getChild("ui_NoneLabel")},s.setTabBtnRedPoint=function(t,i){var e=t.getChild("UI_TipSp");e&&(e.visible=i)},e}(o)).URL="ui://Assets/Main",n=r))||n);e._RF.pop()}}}));

System.register("chunks:///_virtual/ui.asset.worker.item.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./enum.chain.type.ts","./chain.utils.ts","./event.dispatcher.ts","./event.name.ts","./enum.farm.building.type.ts","./new.guide.manager.ts","./resource.manager.ts","./table.helper.ts","./role.data.worker.ts","./model.chain.order.manager.ts","./farm.client.protocol.ts","./sound.helper.ts","./time.system.ts","./logic.tool.ts"],(function(e){"use strict";var t,r,o,i,a,s,n,l,h,k,u,c,m,w,d,S,C,I,D,W,v;return{setters:[function(e){t=e.inheritsLoose,r=e.createClass},function(e){o=e.cclegacy,i=e._decorator,a=e.isValid,s=e.v2},function(e){n=e.GButton},function(e){l=e.EChainType},function(e){h=e.getChainSymbol},function(e){k=e.EventDispatcher},function(e){u=e.EventName},function(e){c=e.EFarmBuildingType},function(e){m=e.NewGuideManager},function(e){w=e.ResourceManager},function(e){d=e.TableHelper},function(e){S=e.RoleDataWorker},function(e){C=e.ModelChainOrderManager},function(e){I=e.enumWorkerState},function(e){D=e.SoundHelper},function(e){W=e.TimeSystem},function(e){v=e.LogicTool}],execute:function(){var f,_;o._RF.push({},"a5945NYgQNGNqLp1CbyiDEv","ui.asset.worker.item.view",void 0);var g=i.ccclass;e("default",g("UIAssetWorkerItemView")(((_=function(e){function o(){var t;return(t=e.call(this)||this).btnCtrl=void 0,t.isNewCtrl=void 0,t.isLockedCtrl=void 0,t.workerIcon=void 0,t.workerTokenID=void 0,t.workerStar=void 0,t.workerLevel=void 0,t.workerType=void 0,t.workerExploration=void 0,t.workerMajor=void 0,t.workerChainType=void 0,t.workerLuck=void 0,t.workerSkill=void 0,t.lockTime=void 0,t.mCurShowData=void 0,t.mIsClickEnable=!1,t.mSelectedItemId="0",t}t(o,e);var i=o.prototype;return i.onUpdate=function(){if(e.prototype.onUpdate.call(this),null!==this.mCurShowData&&this.mCurShowData instanceof S&&this.mCurShowData.WorkerData.roleState===I.eWorkerState_1){var t=C.instance.getWorkerChainOrder(this.mCurShowData.WorkerData.workerID);if(t){var r=Number(t.orderTimeout)-W.instance.getTimestamp();this.lockTime.text=r>0?W.formatTimeString(r,!1):W.formatTimeString(0,!1)}}},i.onConstruct=function(){this.btnCtrl=this.getController("button"),this.isNewCtrl=this.getController("IsNew"),this.isLockedCtrl=this.getController("IsLocked"),this.workerIcon=this.getChild("ui_WorkerIcon"),this.workerTokenID=this.getChild("ui_WorkerID"),this.workerStar=this.getChild("ui_AwakenStar"),this.workerLevel=this.getChild("ui_WorkerLevel"),this.workerType=this.getChild("ui_WorkerSkill"),this.workerExploration=this.getChild("ui_WorkerExploration"),this.workerMajor=this.getChild("ui_PatternBg"),this.workerChainType=this.getChild("ui_ChainType"),this.workerLuck=this.getChild("ui_TagLuckPoints"),this.workerSkill=this.getChild("ui_MajorSkillList"),this.lockTime=this.getChild("ui_LabelLocked"),this.onClick(this._onWorkerItemClick,this),k.on(u.UI_WORKER_ITEM_SELECTED,this._onWorkerItemSelected,this),this.mIsClickEnable=!0},i.onDestroy=function(){k.off(u.UI_WORKER_ITEM_SELECTED,this._onWorkerItemSelected,this)},i._onWorkerItemSelected=function(e){a(this.node)&&this.mIsClickEnable&&this.mSelectedItemId!==e&&(this.mSelectedItemId=e,this._setWorkerItemSelected())},i._onWorkerItemClick=function(){this.mIsClickEnable&&(D.PlaySound_UICommonClick(),null!=this.mCurShowData&&(this.mCurShowData instanceof S?(k.emit(u.UI_WORKER_ITEM_SELECTED,this.mCurShowData.WorkerData.workerID),k.emit(u.UI_WORKER_DETAIL_OPEN,this.mCurShowData),m.instance.IsInGuideScene&&m.instance.NextStep()):(k.emit(u.UI_WORKER_ITEM_SELECTED,this.mCurShowData.TokenID),k.emit(u.UI_WORKER_DETAIL_ONCHAIN_OPEN,this.mCurShowData))))},i.setInGameWorkerData=function(e,t){if(void 0===t&&(t=!0),null!=e){this.mCurShowData=e,this.mIsClickEnable=t;var r=d.getWorkerData(this.mCurShowData.WorkerData.roleID);if(null!=r){var o=d.getWorkerLevel(this.mCurShowData.WorkerData.roleLevel);if(null!=o)this._loadModelShow(r.resModelPath),this._setWorkerStar(o.star),this._setWorkerSkill(this.mCurShowData.getSkillList()),this.workerMajor.setMajorType(this.mCurShowData.skillHighestLevel),this.workerType.setWorkType(this.mCurShowData.WorkerData.roleWorkBuilding),this.workerExploration.setExplorationType(this.mCurShowData.WorkerData.roleState),"BERA"===h(Number(this.mCurShowData.WorkerData.chainID))?this.workerChainType.setChainType(l.Bera):this.workerChainType.setChainType(l.None),this.workerTokenID.text=r.workerName,this.workerLevel.text=v.i18nFormat(d.getI18nUIText("u.10102"),[o.showLevel.toString()]),this.workerLuck.visible=!1,this.mCurShowData.WorkerData.roleState===I.eWorkerState_1?(this.isLockedCtrl.selectedIndex=1,this._setWorkerSkillLock(!0)):(this.isLockedCtrl.selectedIndex=0,this._setWorkerSkillLock(!1)),this._setWorkerItemSelected()}}},i.setOnChainWorkerData=function(e,t){if(void 0===t&&(t=!0),null!=e){this.mCurShowData=e,this.mIsClickEnable=t;var r=d.getWorkerData(this.mCurShowData.WorkerID);if(null!=r){var o=d.getWorkerLevel(this.mCurShowData.WorkerLevel);null!=o&&(this._loadModelShow(r.resModelPath),this._setWorkerStar(o.star),this._setWorkerSkill(this.mCurShowData.getSkillList()),this.workerMajor.setMajorType(this.mCurShowData.skillHighestLevel),this.workerType.setWorkType(c.None),this.workerExploration.setExplorationType(0),this.workerChainType.setChainType(this.mCurShowData.ChainType),this.workerTokenID.text="W# "+this.mCurShowData.TokenID,this.workerLevel.text=v.i18nFormat(d.getI18nUIText("u.10102"),[o.showLevel.toString()]),this.workerLuck.visible=!1,this.isLockedCtrl.selectedIndex=0,this._setWorkerSkillLock(!1),this._setWorkerItemSelected())}}},i._setWorkerStar=function(e){this.workerStar.removeChildren();for(var t=0;t<e;t++)this.workerStar.addItem()},i._setWorkerSkill=function(e){this.workerSkill.removeChildren();for(var t=0;t<e.length;t++){this.workerSkill.addItem().setSkillData(e[t])}},i._setWorkerSkillLock=function(e){for(var t=this.workerSkill.numChildren,r=0;r<t;r++){this.workerSkill.getChildAt(r).setSkillLock(e)}},i._loadModelShow=function(e){var t=this;w.instance.loadAvatarSkeletonData(e).then((function(e){a(t.node)&&(t.workerIcon&&t.workerIcon.node&&t.workerIcon.node.scale&&t.workerIcon.setScale(2.2,2.2),t.workerIcon.clearContent(),t.workerIcon.skinName=e.defaultSkin,t.mCurShowData instanceof S?0===t.mCurShowData.WorkerData.roleWorkBuilding?t.workerIcon.animationName="idle":t.workerIcon.animationName="doing":t.workerIcon.animationName="idle",t.workerIcon.setSpine(e.skeletonData,s(30,50)))}))},i._setWorkerItemSelected=function(){if(null!=this.mCurShowData&&this.mIsClickEnable){var e="0";e=this.mCurShowData instanceof S?this.mCurShowData.WorkerData.workerID:this.mCurShowData.TokenID,this.mSelectedItemId===e?this.selected=!0:this.selected=!1}},r(o,[{key:"WorkerID",get:function(){return null==this.mCurShowData?"0":this.mCurShowData instanceof S?this.mCurShowData.WorkerData.workerID:this.mCurShowData.TokenID}}]),o}(n)).URL="ui://Common/listbar_worker",f=_))||f);o._RF.pop()}}}));

System.register("chunks:///_virtual/ui.bag.controller.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./event.dispatcher.ts","./event.name.ts","./sound.helper.ts","./ui.base.controller.ts","./model.item.manager.ts","./new.guide.manager.ts","./enum.item.type.ts"],(function(t){"use strict";var e,i,n,s,a,o,r,c,h,l,u,_,m,g,I,f,d,v;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass,n=t.asyncToGenerator,s=t.regeneratorRuntime},function(t){a=t.cclegacy,o=t._decorator,r=t.input,c=t.Input,h=t.KeyCode},function(t){l=t.UIPackage,u=t.Event},function(t){_=t.EventDispatcher},function(t){m=t.EventName},function(t){g=t.SoundHelper},function(t){I=t.UIBaseController},function(t){f=t.ModelItemManager},function(t){d=t.NewGuideManager},function(t){v=t.EItemType}],execute:function(){var p,E;a._RF.push({},"946fctwJ05AeZd8qPPLPzE2","ui.bag.controller",void 0);var w=o.ccclass;t("UIBagController",w("UIBagController")(((E=function(t){function a(){for(var e,i=arguments.length,n=new Array(i),s=0;s<i;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))||this).mFguiPkgName="BagRes",e.mFguiMainViewName="Main",e._view=null,e.mBagData=null,e.mBagDetailID="",e}e(a,t);var o=a.prototype;return o._addEvents=function(){t.prototype._addEvents.call(this),r.on(c.EventType.KEY_DOWN,this._onKeyDown,this),_.on(m.ITEM_ADD,this._onPackageDataChanged,this),_.on(m.ITEM_REMOVE,this._onPackageDataChanged,this),_.on(m.ITEM_CHANGE,this._onPackageDataChanged,this),_.on(m.UI_BAG_ITEM_SELECTED,this._onPackageItemSelected,this)},o._removeEvents=function(){t.prototype._removeEvents.call(this),r.off(c.EventType.KEY_DOWN,this._onKeyDown,this),_.off(m.ITEM_ADD,this._onPackageDataChanged,this),_.off(m.ITEM_REMOVE,this._onPackageDataChanged,this),_.off(m.ITEM_CHANGE,this._onPackageDataChanged,this),_.off(m.UI_BAG_ITEM_SELECTED,this._onPackageItemSelected,this)},o._onKeyDown=function(t){switch(t.keyCode){case h.ESCAPE:if(d.instance.IsInGuideScene)return;this._onCloseClick()}},o._onPackageDataChanged=function(){null!=this._view&&this._refreshBagList(!1)},o._onPackageItemSelected=function(t){null!=this._view&&"0"===t&&this._view.itemList.clearSelection()},o.onLoad=function(){a._instance=this,this._startLoadPkg(this.mFguiPkgName)},o.onDestroy=function(){t.prototype.onDestroy.call(this),a._instance=null},o.closeUI=function(){t.prototype.closeUI.call(this)},o.update=function(){this._view},o._onLoadUIFinish=function(){t.prototype._onLoadUIFinish.call(this),this._view=l.createObject(this.mFguiPkgName,this.mFguiMainViewName).asCom,this._addUIToRoot(this._view),this._view.makeFullScreen(),this._view.closeBtn.onClick(this._onCloseClick,this),this._view.itemList.itemRenderer=this.renderBagItem.bind(this),this._view.itemList.setVirtual(),this._view.itemList.on(u.CLICK_ITEM,this._onInGameItemClick,this),this._initData()},o._initData=function(){var t=n(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.mBagDetailID="",this._refreshBagList(),f.instance.IsNewInGame=!1,_.emit(m.ITEM_NEW_RED_POINT);case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),o._onCloseClick=function(){var t=n(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:g.PlaySound_UICommonClose(),_.emit(m.UI_BAG_CLOSE),d.instance.IsInGuideScene&&d.instance.NextStep();case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),o._onInGameItemClick=function(){g.PlaySound_UICommonClick();var t=this._view.itemList.selectedIndex,e=this.mBagData[t];e.isNew&&(e.isNew=!1,this._view.itemList.refreshVirtualList()),e.itemObject.itemType===v.Farm_Recipe?_.emit(m.UI_DETAILS_SHOW_ITEM_RECIPE,e):_.emit(m.UI_DETAILS_SHOW_ITEM,e),d.instance.IsInGuideScene&&d.instance.NextStep()},o._refreshBagList=function(t){var e;void 0===t&&(t=!0),this._view.isNoneCtrl.selectedIndex=2;var i=f.instance.GetBagItemList();this.mBagData=[],(e=this.mBagData).push.apply(e,i);var n=this.mBagData.length;this._view.isNoneCtrl.selectedIndex=n<=0?1:0,this._view.itemList.numItems!==n?this._view.itemList.numItems=n:this._view.itemList.refreshVirtualList(),t&&this._view.itemList.scrollToView(0)},o.renderBagItem=function(t,e){t>=this.mBagData.length||e.setBagItemData(this.mBagData[t])},o.getBagItem=function(){return this._view?this._view.itemList.getChildAt(0):null},o.getCloseBtn=function(){return this._view?this._view.closeBtn:null},i(a,null,[{key:"instance",get:function(){return this._instance}}]),a}(I)).CTRL_NAME="UIBagController",E.SHOP_ID=1,E._instance=null,p=E))||p);a._RF.pop()}}}));

System.register("chunks:///_virtual/ui.bag.list.item.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./enum.item.type.ts","./table.helper.ts","./resource.path.tool.ts"],(function(t){"use strict";var e,i,s,n,o,r,c;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy,s=t._decorator},function(t){n=t.GButton},function(t){o=t.EItemType},function(t){r=t.TableHelper},function(t){c=t.ResourcePathTool}],execute:function(){var l,u;i._RF.push({},"7a00fMWQr1H8Jw9nulX0u5B","ui.bag.list.item.view",void 0);var a=s.ccclass;t("default",a("UIBagListItemView")(((u=function(t){function i(){var e;return(e=t.call(this)||this).btnCtrl=void 0,e.isRecipeCtrl=void 0,e.isNewCtrl=void 0,e.itemIcon=void 0,e.itemCount=void 0,e.mCurShowData=null,e}e(i,t);var s=i.prototype;return s.onConstruct=function(){this.btnCtrl=this.getController("button"),this.isRecipeCtrl=this.getController("IsRecipe"),this.isNewCtrl=this.getController("IsNew"),this.itemIcon=this.getChild("ui_CoinIcon"),this.itemCount=this.getChild("ui_CoinAmount")},s.setBagItemData=function(t){this.mCurShowData=t;var e=r.getItemRecord(t.tableId);e&&(this.itemIcon.url=c.getUIFarmItemPath(e.itemIcon),this.itemCount.text=t.curCount.toString(),t.itemObject.itemType===o.Farm_Recipe?this.isRecipeCtrl.selectedIndex=1:this.isRecipeCtrl.selectedIndex=0,t.isNew?this.isNewCtrl.selectedIndex=1:this.isNewCtrl.selectedIndex=0)},s.setGmAssetData=function(t){var e=r.getItemRecord(t.itemId);e&&(this.itemIcon.url=c.getUIFarmItemPath(e.itemIcon),this.itemCount.text="1000",e.itemType===o.Farm_Recipe?this.isRecipeCtrl.selectedIndex=1:this.isRecipeCtrl.selectedIndex=0)},i}(n)).URL="ui://BagRes/bagres_item",l=u))||l);i._RF.pop()}}}));

System.register("chunks:///_virtual/ui.bag.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){"use strict";var i,e,n,o;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy,n=t._decorator},function(t){o=t.GComponent}],execute:function(){var s,r;e._RF.push({},"d887fEvEOBIgZ33GA6rvwoG","ui.bag.view",void 0);var u=n.ccclass;t("default",u("UIBagView")(((r=function(t){function e(){var i;return(i=t.call(this)||this).isNoneCtrl=void 0,i.closeBtn=void 0,i.itemList=void 0,i}return i(e,t),e.prototype.onConstruct=function(){this.isNoneCtrl=this.getController("IsNone"),this.closeBtn=this.getChild("ui_WindClose"),this.itemList=this.getChild("ui_List_InGame")},e}(o)).URL="ui://BagRes/Main",s=r))||s);e._RF.pop()}}}));

System.register("chunks:///_virtual/ui.base.controller.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./resource.path.tool.ts"],(function(i){"use strict";var t,e,s,n,o,a,c,r,h,l;return{setters:[function(i){t=i.inheritsLoose,e=i.createClass},function(i){s=i.cclegacy,n=i._decorator,o=i.isValid,a=i.error,c=i.Component},function(i){r=i.GRoot,h=i.UIPackage},function(i){l=i.ResourcePathTool}],execute:function(){var u;s._RF.push({},"3d71aCZDSJDzr1KUrkJCIpt","ui.base.controller",void 0);var m=n.ccclass;i("UIBaseController",m("UIBaseController")(u=function(i){function s(){for(var t,e=arguments.length,s=new Array(e),n=0;n<e;n++)s[n]=arguments[n];return(t=i.call.apply(i,[this].concat(s))||this).mIsLoadPkgFinish=!1,t.mViewObject=null,t.mLoadedPkgName=null,t.mIsShowing=!0,t.mIsCanClose=!1,t.mCanCloseTime=.1,t}t(s,i);var n=s.prototype;return n.onDestroy=function(){this._removeEvents(),null!==this.mViewObject&&(this.mViewObject.isDisposed||this.mViewObject.dispose(),this.mViewObject=null)},n.closeUI=function(){this.mIsCanClose&&o(this,!0)&&this.destroy()},n.showUI=function(){!0!==this.mIsShowing&&(this.mIsShowing=!0,null!==this.mViewObject&&r.inst.addChild(this.mViewObject))},n.hideUI=function(){!1!==this.mIsShowing&&(this.mIsShowing=!1,null!==this.mViewObject&&this.mViewObject.removeFromParent())},n.makeToFullScreen=function(){null!==this.mViewObject&&this.mViewObject.makeFullScreen()},n._addEvents=function(){},n._removeEvents=function(){},n._startLoadPkg=function(i){var t=this;this.mIsCanClose=!1,this.mIsLoadPkgFinish=!1,this.mLoadedPkgName=i;var e=l.getUIPkgPath(i);h.loadPackage(e,(function(i,s){i?a("load uiPackage ["+e+"] error:",i):t.IsUIValid&&t._onLoadUIFinish()})),this.scheduleOnce((function(){t.mIsCanClose=!0}),this.mCanCloseTime)},n._onLoadUIFinish=function(){this.mIsLoadPkgFinish=!0,this.mIsShowing=!0,this._addEvents()},n._addUIToRoot=function(i){this.mViewObject=i,r.inst.addChild(this.mViewObject)},e(s,[{key:"IsLoadFinish",get:function(){return this.mIsLoadPkgFinish}},{key:"IsUIValid",get:function(){return this.isValid}}]),s}(c))||u);s._RF.pop()}}}));

System.register("chunks:///_virtual/ui.building.appearance.item.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./event.dispatcher.ts","./event.name.ts","./model.farm.manager.ts","./sound.helper.ts","./resource.path.tool.ts"],(function(e){"use strict";var t,i,n,a,s,r,o,c,l,h;return{setters:[function(e){t=e.inheritsLoose},function(e){i=e.cclegacy,n=e._decorator,a=e.isValid},function(e){s=e.GButton},function(e){r=e.EventDispatcher},function(e){o=e.EventName},function(e){c=e.ModelFarmManager},function(e){l=e.SoundHelper},function(e){h=e.ResourcePathTool}],execute:function(){var d,u;i._RF.push({},"ac61cTsQr9KvrSolE0j7LI/","ui.building.appearance.item.view",void 0);var p=n.ccclass;e("default",p("UIBuildingAppearanceItemView")(((u=function(e){function i(){var t;return(t=e.call(this)||this).btnCtrl=void 0,t.resIconCtrl=void 0,t.isEquipCtrl=void 0,t.isNewCtrl=void 0,t.appearanceID=void 0,t.appearanceIcon=void 0,t.additionIcon=void 0,t.additionValue=void 0,t.mCurShowData=null,t.mSelectedItemId="0",t}t(i,e);var n=i.prototype;return n.onConstruct=function(){this.btnCtrl=this.getController("button"),this.resIconCtrl=this.getController("ResIcon"),this.isEquipCtrl=this.getController("IsEquiped"),this.isNewCtrl=this.getController("IsNew"),this.appearanceID=this.getChild("ui_WorkerID"),this.appearanceIcon=this.getChild("ui_Icon"),this.additionIcon=this.getChild("ui_ResIcon"),this.additionValue=this.getChild("ui_Value"),this.onClick(this._onAppearanceItemClick,this),r.on(o.UI_BUILDING_APPEARANCE_ITEM_SELECTED,this.onAppearanceItemSelected,this),r.on(o.FARM_SKIN_REFRESH_RED_TIP,this._onFarmSkinRefreshRedTip,this)},n.onDestroy=function(){r.off(o.UI_BUILDING_APPEARANCE_ITEM_SELECTED,this.onAppearanceItemSelected,this),r.off(o.FARM_SKIN_REFRESH_RED_TIP,this._onFarmSkinRefreshRedTip,this)},n.onAppearanceItemSelected=function(e){a(this.node)&&this.mSelectedItemId!==e&&(this.mSelectedItemId=e,this._setAppearanceItemSelected())},n._onFarmSkinRefreshRedTip=function(){a(this.node)&&this._refreshAppearanceNew()},n._onAppearanceItemClick=function(){l.PlaySound_UICommonClick(),null!==this.mCurShowData&&(c.instance.IsSkinNew(this.mCurShowData.id)&&c.instance.SetSkinNotNew(this.mCurShowData.id),r.emit(o.UI_BUILDING_APPEARANCE_ITEM_SELECTED,this.mCurShowData.id.toString()))},n.setAppearanceData=function(e){if(null!=e){this.mCurShowData=e,this.appearanceIcon.url=h.getUIFarmItemPath(this.mCurShowData.statueIcon),this.appearanceID.text=this.mCurShowData.name,this._setAppearancePrivilege(this.mCurShowData.privilege);var t=c.instance.CurBuildingSkinID;0===t&&(t=c.FarmSkinDefaultID),t===e.id?this.isEquipCtrl.selectedIndex=1:this.isEquipCtrl.selectedIndex=0,this._refreshAppearanceNew(),this._setAppearanceItemSelected()}},n._refreshAppearanceNew=function(){c.instance.IsSkinNew(this.mCurShowData.id)?this.isNewCtrl.selectedIndex=1:this.isNewCtrl.selectedIndex=0},n._setAppearancePrivilege=function(e){var t=e.split("-");if(2===t.length){this.additionIcon.visible=!0,this.additionValue.visible=!0;var i=Number.parseInt(t[0]),n=Number.parseInt(t[1]);switch(i){case 1:this.resIconCtrl.selectedPage="Mushroom",this.additionValue.text="+"+n+"%";break;case 2:this.resIconCtrl.selectedPage="ManaGel",this.additionValue.text="+"+n+"%";break;case 3:this.resIconCtrl.selectedPage="Ethereal",this.additionValue.text="+"+n+"%";break;case 4:this.resIconCtrl.selectedPage="Worker",this.additionValue.text="+"+n;break;case 5:this.resIconCtrl.selectedPage="Prosperity",this.additionValue.text="+"+n+"%"}}else this.additionIcon.visible=!1,this.additionValue.visible=!1},n._setAppearanceItemSelected=function(){null!=this.mCurShowData&&(this.mSelectedItemId===this.mCurShowData.id.toString()?this.selected=!0:this.selected=!1)},i}(s)).URL="ui://Details_Building/bdapperancelistitem",d=u))||d);i._RF.pop()}}}));

System.register("chunks:///_virtual/ui.building.appearance.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./event.dispatcher.ts","./event.name.ts","./table.helper.ts","./table.manager.ts","./model.farm.manager.ts","./model.mainrole.manager.ts","./net.helper.ts","./sound.helper.ts","./ui.float.text.controller.ts"],(function(e){"use strict";var t,a,n,i,s,r,c,p,h,o,l,u,d,_;return{setters:[function(e){t=e.inheritsLoose},function(e){a=e.cclegacy,n=e._decorator,i=e.isValid},function(e){s=e.GComponent},function(e){r=e.EventDispatcher},function(e){c=e.EventName},function(e){p=e.TableHelper},function(e){h=e.TableManager},function(e){o=e.ModelFarmManager},function(e){l=e.ModelMainRoleManager},function(e){u=e.NetHelper},function(e){d=e.SoundHelper},function(e){_=e.UIFloatTextController}],execute:function(){var I,m;a._RF.push({},"72db4BbRRFOqIa6pOJzuMnw","ui.building.appearance.view",void 0);var A=n.ccclass;e("default",A("UIBuildingAppearanceView")(((m=function(e){function a(){var t;return(t=e.call(this)||this).isNoneCtrl=void 0,t.isBuyCtrl=void 0,t.appearanceList=void 0,t.selectBtn=void 0,t.buyBtn=void 0,t.mAppearanceData=[],t.mCurChargeSkinID=0,t}t(a,e);var n=a.prototype;return n.onConstruct=function(){this.isNoneCtrl=this.getController("IsNone"),this.isBuyCtrl=this.getController("IsBuy"),this.appearanceList=this.getChild("ui_AppearanceList"),this.selectBtn=this.getChild("ui_BtnChangeAppearance"),this.buyBtn=this.getChild("ui_BtnBuy"),this.appearanceList.itemRenderer=this._renderAppearanceListItem.bind(this),this.appearanceList.setVirtual(),this.selectBtn.onClick(this._onAppearanceSelectClick,this),this.buyBtn.onClick(this._onAppearanceBuyClick,this),r.on(c.UI_BUILDING_APPEARANCE_ITEM_SELECTED,this.onAppearanceItemSelected,this),r.on(c.CHARGE_GET_LIST,this._onGetChargeList,this),r.on(c.FARM_SKIN_LIST_ADD,this._onFarmSkinAdd,this),r.on(c.FARM_SKIN_BUILDING_USE_CHANGED,this._onAppearanceUseChanged,this)},n.onDestroy=function(){r.off(c.UI_BUILDING_APPEARANCE_ITEM_SELECTED,this.onAppearanceItemSelected,this),r.off(c.CHARGE_GET_LIST,this._onGetChargeList,this),r.off(c.FARM_SKIN_LIST_ADD,this._onFarmSkinAdd,this),r.off(c.FARM_SKIN_BUILDING_USE_CHANGED,this._onAppearanceUseChanged,this)},n.onAppearanceItemSelected=function(e){i(this.node)&&this._refreshAppearanceBtn(e)},n._onGetChargeList=function(e){if(i(this.node)){this.buyBtn.enabled=!0;for(var t=e.purchaseVer,a=null,n=0;n<e.info.length;n++){var s=p.getPurchase(e.info[n].id);if(s&&this.mCurChargeSkinID===Number.parseInt(s.param2)){a=e.info[n];break}}a&&r.emit(c.UI_CHARGE_ACTIVITY_DETAILS_SHOW_SKIN,a,t)}},n._onFarmSkinAdd=function(){i(this.node)&&(this._refreshFarmAppearanceList(!1),this.appearanceList.selectedIndex>=0&&this.appearanceList.selectedIndex<this.mAppearanceData.length&&this._refreshAppearanceBtn(this.mAppearanceData[this.appearanceList.selectedIndex].id.toString()))},n._onAppearanceUseChanged=function(){i(this.node)&&this._refreshFarmAppearanceList(!1)},n._onAppearanceSelectClick=function(){if(d.PlaySound_UICommonClick(),-1!==this.appearanceList.selectedIndex&&!(this.mAppearanceData.length<=this.appearanceList.selectedIndex)){var e=this.mAppearanceData[this.appearanceList.selectedIndex].id,t=o.instance.CurBuildingSkinID;0===t&&(t=o.FarmSkinDefaultID),e!==t?(u.changeFarmSkin(e),o.instance.SetSkinNotNew(e)):_.AddTipI18nID_Info("u.2529")}},n._onAppearanceBuyClick=function(){d.PlaySound_UICommonClick(),-1!==this.appearanceList.selectedIndex&&(this.mAppearanceData.length<=this.appearanceList.selectedIndex||(this.mCurChargeSkinID=this.mAppearanceData[this.appearanceList.selectedIndex].id,102!==this.mCurChargeSkinID||3!==l.instance.NotCoinLevel?(this.buyBtn.enabled=!1,u.getPurchaseProductList()):r.emit(c.UI_GIFT_NOTCOIN_OPEN)))},n.initFarmAppearanceView=function(){this._refreshFarmAppearanceList(),this.mAppearanceData.length>0&&r.emit(c.UI_BUILDING_APPEARANCE_ITEM_SELECTED,this.mAppearanceData[0].id.toString())},n._refreshFarmAppearanceList=function(e){var t;void 0===e&&(e=!0);var a=h.instance.tableFarmSkin.getFarmSkinArray();this.mAppearanceData=[],(t=this.mAppearanceData).push.apply(t,a);var n=this.mAppearanceData.length;this.isNoneCtrl.selectedIndex=n>0?0:1,this.appearanceList.numItems!==n?this.appearanceList.numItems=n:this.appearanceList.refreshVirtualList(),e&&this.appearanceList.scrollToView(0)},n._renderAppearanceListItem=function(e,t){e>=this.mAppearanceData.length||t.setAppearanceData(this.mAppearanceData[e])},n._refreshAppearanceBtn=function(e){var t=Number.parseInt(e);t===o.FarmSkinDefaultID||o.instance.IsHasFarmSkin(t)?this.isBuyCtrl.selectedIndex=0:this.isBuyCtrl.selectedIndex=1},a}(s)).URL="ui://Details_Building/state_appearance",I=m))||I);a._RF.pop()}}}));

System.register("chunks:///_virtual/ui.building.edit.controller.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./ui.base.controller.ts","./enum.farm.object.type.ts","./farm.system.ts","./camera.system.ts","./sound.helper.ts","./object.farm.item.add.ts"],(function(e){"use strict";var t,i,n,o,s,r,a,c,u,l,h,d,m,_,f,v,g;return{setters:[function(e){t=e.inheritsLoose,i=e.createClass,n=e.asyncToGenerator,o=e.regeneratorRuntime},function(e){s=e.cclegacy,r=e._decorator,a=e.v3,c=e.screen},function(e){u=e.UIPackage,l=e.Event,h=e.GRoot},function(e){d=e.UIBaseController},function(e){m=e.EFarmObjectType},function(e){_=e.FarmSystem},function(e){f=e.CameraSystem},function(e){v=e.SoundHelper},function(e){g=e.ObjectFarmItemAdd}],execute:function(){var w,p;s._RF.push({},"afd79x2k39CWJ0NFICI5rC6","ui.building.edit.controller",void 0);var C=r.ccclass;e("UIBuildingEditController",C("UIBuildingEditController")(((p=function(e){function s(){for(var t,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))||this).mFguiPkgName="BuildingEdit",t.mFguiMainViewName="Main",t._view=null,t.mCurFarmObjectBase=null,t.mStartTouchScreenPos=a(),t}t(s,e);var r=s.prototype;return r.setEditObject=function(e){this.mCurFarmObjectBase=e,this._refreshDeleteShow()},r.onLoad=function(){s._instance=this,this._startLoadPkg(this.mFguiPkgName)},r.onDestroy=function(){e.prototype.onDestroy.call(this),s._instance=null},r.closeUI=function(){e.prototype.closeUI.call(this)},r.update=function(e){null!==this._view&&this._updateBtnPos()},r._onLoadUIFinish=function(){e.prototype._onLoadUIFinish.call(this),this._view=u.createObject(this.mFguiPkgName,this.mFguiMainViewName).asCom,this._addUIToRoot(this._view),this._view.makeFullScreen(),this._view.deleteBtn.onClick(this._onDeleteClick,this),this._view.moveBtn.on(l.TOUCH_BEGIN,this._onDragTouchBegin,this),this._view.moveBtn.on(l.TOUCH_MOVE,this._onDragTouchMove,this),this._refreshDeleteShow()},r._updateBtnPos=function(){if(null!=this.mCurFarmObjectBase){var e=f.instance.MainCamera.worldToScreen(this.mCurFarmObjectBase.RightTopWorldPos),t=e.x/c.windowSize.width*h.inst.width,i=(c.windowSize.height-e.y)/c.windowSize.height*h.inst.height,n=this._view.globalToLocal(t,i);this._view.btnGroup.x=n.x,this._view.btnGroup.y=n.y-40}},r._refreshDeleteShow=function(){null!=this._view&&(this.mCurFarmObjectBase instanceof g?this._view.deleteBtn.node.active=!1:_.instance.IsInSelfEditMode||this.mCurFarmObjectBase.IsSelfCanDelete?this._view.deleteBtn.node.active=!0:this._view.deleteBtn.node.active=!1)},r._onDeleteClick=function(){var e=n(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=this.mCurFarmObjectBase){e.next=2;break}return e.abrupt("return");case 2:v.PlaySound_UICommonClick(),this.mCurFarmObjectBase.FarmObjectType===m.CommonTerrain?_.instance.deleteEditingTerrain():_.instance.deleteEditingObj(),this.mCurFarmObjectBase=null,this.closeUI();case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),r._onDragTouchBegin=function(e){var t=this._MoveBtnPosToWorldPos(e.pos);_.instance.dealUIMoveObjStart(t)},r._onDragTouchMove=function(e){var t=this._MoveBtnPosToWorldPos(e.pos);_.instance.dealUIMoveObjMoving(t)},r._MoveBtnPosToWorldPos=function(e){var t=e.x/h.inst.width*c.windowSize.width,i=c.windowSize.height-e.y/h.inst.height*c.windowSize.height;return this.mStartTouchScreenPos.x=t,this.mStartTouchScreenPos.y=i,f.instance.MainCamera.screenToWorld(this.mStartTouchScreenPos)},i(s,null,[{key:"instance",get:function(){return this._instance}}]),s}(d)).CTRL_NAME="UIBuildingEditController",p._instance=null,w=p))||w);s._RF.pop()}}}));

System.register("chunks:///_virtual/ui.building.edit.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){"use strict";var i,e,n,u;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy,n=t._decorator},function(t){u=t.GComponent}],execute:function(){var o,r;e._RF.push({},"59e64ujZBhDa6kVVMzrvwgq","ui.building.edit.view",void 0);var s=n.ccclass;t("default",s("UIBuildingEditView")(((r=function(t){function e(){var i;return(i=t.call(this)||this).btnGroup=void 0,i.deleteBtn=void 0,i.moveBtn=void 0,i}return i(e,t),e.prototype.onConstruct=function(){this.btnGroup=this.getChild("ui_Btns"),this.deleteBtn=this.getChild("ui_BtnDelete"),this.moveBtn=this.getChild("ui_BtnMove")},e}(u)).URL="ui://BuildingEdit/Main",o=r))||o);e._RF.pop()}}}));

System.register("chunks:///_virtual/ui.building.place.controller.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./ui.base.controller.ts","./event.dispatcher.ts","./event.name.ts","./table.helper.ts","./resource.path.tool.ts","./logic.tool.ts","./farm.system.ts","./model.item.manager.ts","./scene.system.ts","./ui.float.text.controller.ts","./sound.helper.ts"],(function(t){"use strict";var e,n,i,o,s,a,r,u,c,l,h,m,C,_,d,f,I,p;return{setters:[function(t){e=t.inheritsLoose,n=t.createClass,i=t.asyncToGenerator,o=t.regeneratorRuntime},function(t){s=t.cclegacy,a=t._decorator},function(t){r=t.UIPackage},function(t){u=t.UIBaseController},function(t){c=t.EventDispatcher},function(t){l=t.EventName},function(t){h=t.TableHelper},function(t){m=t.ResourcePathTool},function(t){C=t.LogicTool},function(t){_=t.FarmSystem},function(t){d=t.ModelItemManager},function(t){f=t.SceneSystem},function(t){I=t.UIFloatTextController},function(t){p=t.SoundHelper}],execute:function(){var g,v;s._RF.push({},"d39f84H+CtN2L3UAuzJQ1+g","ui.building.place.controller",void 0);var R=a.ccclass;t("UIBuildingPlaceController",R("UIBuildingPlaceController")(((v=function(t){function s(){for(var e,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))||this).mFguiPkgName="BuildingPlace",e.mFguiMainViewName="Main",e._view=null,e.mCurBuildId=0,e.mCurFarmResRecord=null,e.mCurRemainCount=0,e.mCurCanPut=!1,e.mIsLockBtn=!1,e}e(s,t);var a=s.prototype;return a._addEvents=function(){t.prototype._addEvents.call(this),c.on(l.ITEM_CHANGE,this._onItemChange,this),c.on(l.ITEM_REMOVE,this._onItemChange,this)},a._removeEvents=function(){t.prototype._removeEvents.call(this),c.off(l.ITEM_CHANGE,this._onItemChange,this),c.off(l.ITEM_REMOVE,this._onItemChange,this)},a._onItemChange=function(){null!=this._view&&this._refreshDataCount()},a.setShowBuildId=function(t){this.mCurBuildId=t},a.onLoad=function(){s._instance=this,this._startLoadPkg(this.mFguiPkgName)},a.onDestroy=function(){t.prototype.onDestroy.call(this),s._instance=null},a.closeUI=function(){t.prototype.closeUI.call(this)},a.update=function(){null!==this._view&&this._updateBtnState()},a._onLoadUIFinish=function(){t.prototype._onLoadUIFinish.call(this),this._view=r.createObject(this.mFguiPkgName,this.mFguiMainViewName).asCom,this._addUIToRoot(this._view),this._view.makeFullScreen(),this._view.placeBtn.onClick(this._onPlaceClick,this),this._view.cancelBtn.onClick(this._onCancelClick,this),this.mCurCanPut=!1,this.mIsLockBtn=!1,this._view.placeBtn.enabled=!1,this._refreshShowData(),this._refreshDataCount()},a._refreshShowData=function(){this.mCurFarmResRecord=h.getFarmResRecord(this.mCurBuildId),this._view.resName.text=this.mCurFarmResRecord.name,this._view.resIcon.url=m.getUIFarmItemPath(this.mCurFarmResRecord.icon)},a._refreshDataCount=function(){if(f.instance.IsInFarmEditScene)this.mCurRemainCount=1e3;else{var t=this.mCurFarmResRecord.itemId;this.mCurRemainCount=d.instance.GetItemCountById(t)}this._view.remainLabel.text=C.i18nFormat(h.getI18nUIText("u.10800"),[this.mCurRemainCount.toString()])},a._onPlaceClick=function(){var t=i(o().mark((function t(){var e=this;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(p.PlaySound_UICommonClick(),!(_.instance.getFarmObjectCount()>=_.MAX_FARM_OBJECT_COUNT)){t.next=4;break}return I.AddTipI18nID_Info("u.2523"),t.abrupt("return");case 4:this.mCurRemainCount-=1,this._view.remainLabel.text=C.i18nFormat(h.getI18nUIText("u.10800"),[this.mCurRemainCount.toString()]),this.mCurRemainCount<=0?(_.instance.placeAddObjToFarm(!1),c.emit(l.FARM_CHANGE_STATE_TO_ITEM_EDITING),this.closeUI()):(_.instance.placeAddObjToFarm(!0),this.mIsLockBtn=!0,this.mCurCanPut=!1,this._view.placeBtn.enabled=!1,this.scheduleOnce((function(){e.mIsLockBtn=!1}),.2));case 7:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),a._onCancelClick=function(){var t=i(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:p.PlaySound_UICommonClick(),c.emit(l.FARM_CHANGE_STATE_TO_ITEM_EDITING),this.closeUI();case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),a._updateBtnState=function(){if(!this.mIsLockBtn){var t=_.instance.isAddObjCanPut();this.mCurCanPut!==t&&(this.mCurCanPut=t,this._view.placeBtn.enabled=this.mCurCanPut)}},n(s,null,[{key:"instance",get:function(){return this._instance}}]),s}(u)).CTRL_NAME="UIBuildingPlaceController",v._instance=null,g=v))||g);s._RF.pop()}}}));

System.register("chunks:///_virtual/ui.building.place.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(i){"use strict";var t,e,n,c;return{setters:[function(i){t=i.inheritsLoose},function(i){e=i.cclegacy,n=i._decorator},function(i){c=i.GComponent}],execute:function(){var l,s;e._RF.push({},"a0af8rJvG9Hzbc3OMzcWEem","ui.building.place.view",void 0);var u=n.ccclass;i("default",u("UIBuildingPlaceView")(((s=function(i){function e(){var t;return(t=i.call(this)||this).wind=void 0,t.resName=void 0,t.resIcon=void 0,t.remainLabel=void 0,t.placeBtn=void 0,t.cancelBtn=void 0,t}return t(e,i),e.prototype.onConstruct=function(){this.wind=this.getChild("ui_PlaceWind"),this.resName=this.wind.getChild("title"),this.resIcon=this.wind.getChild("ui_Icon"),this.remainLabel=this.wind.getChild("ui_Amount"),this.placeBtn=this.wind.getChild("ui_BtnPlace"),this.cancelBtn=this.wind.getChild("ui_BtnCancel")},e}(c)).URL="ui://BuildingPlace/Main",l=s))||l);e._RF.pop()}}}));

System.register("chunks:///_virtual/ui.building.platform.controller.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./event.dispatcher.ts","./event.name.ts","./table.helper.ts","./sound.helper.ts","./logic.tool.ts","./resource.path.tool.ts","./ui.base.controller.ts","./sdk.manager.ts"],(function(t){"use strict";var n,e,i,o,s,r,a,l,c,u,h,_,m,p,f,d,g,v;return{setters:[function(t){n=t.inheritsLoose,e=t.createClass,i=t.asyncToGenerator,o=t.regeneratorRuntime},function(t){s=t.cclegacy,r=t._decorator,a=t.input,l=t.Input,c=t.KeyCode},function(t){u=t.UIPackage},function(t){h=t.EventDispatcher},function(t){_=t.EventName},function(t){m=t.TableHelper},function(t){p=t.SoundHelper},function(t){f=t.LogicTool},function(t){d=t.ResourcePathTool},function(t){g=t.UIBaseController},function(t){v=t.SDKManager}],execute:function(){var C,y;s._RF.push({},"3819ceV8PpE978Z/LlOgGGu","ui.building.platform.controller",void 0);var I=r.ccclass;t("UIBuildingPlatformController",I("UIBuildingPlatformController")(((y=function(t){function s(){for(var n,e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];return(n=t.call.apply(t,[this].concat(i))||this).mFguiPkgName="Details_Building",n.mFguiMainViewName="Main_BdPlatform",n._view=null,n.mBuildingResID=0,n}n(s,t);var r=s.prototype;return r._addEvents=function(){t.prototype._addEvents.call(this),a.on(l.EventType.KEY_DOWN,this._onKeyDown,this)},r._removeEvents=function(){t.prototype._removeEvents.call(this),a.off(l.EventType.KEY_DOWN,this._onKeyDown,this)},r._onKeyDown=function(t){switch(t.keyCode){case c.ESCAPE:this._onCloseClick()}},r.setBuildingID=function(t){this.mBuildingResID=t,null!=this._view&&this.IsLoadFinish&&this._showData()},r.onLoad=function(){s._instance=this,this.mCanCloseTime=.5,this._startLoadPkg(this.mFguiPkgName)},r.onDestroy=function(){t.prototype.onDestroy.call(this),s._instance=null},r.closeUI=function(){t.prototype.closeUI.call(this)},r.update=function(){this._view},r._onLoadUIFinish=function(){t.prototype._onLoadUIFinish.call(this),this._view=u.createObject(this.mFguiPkgName,this.mFguiMainViewName).asCom,this._addUIToRoot(this._view),this._view.makeFullScreen(),this._view.closeBtn.onClick(this._onCloseClick,this),this._view.gotoBtn.onClick(this._onGotoClick,this),this._showData()},r._onCloseClick=function(){this.mIsCanClose&&(p.PlaySound_UICommonClose(),h.emit(_.UI_BUILDING_PLATFORM_CLOSE),h.emit(_.FARM_OBJECT_CANCEL_SELECTED))},r._onGotoClick=function(){p.PlaySound_UICommonClick();var t=m.getFarmResRecord(this.mBuildingResID);t&&""!==t.param&&v.instance.curSDKPlugin.openUrl(t.param)},r._showData=function(){var t=i(o().mark((function t(){var n;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=m.getFarmResRecord(this.mBuildingResID)){t.next=3;break}return t.abrupt("return");case 3:this._view.buildingIcon.url=d.getUIFarmItemPath(n.icon),this._view.buildingName.text=n.name,this._view.buildingDesc.text=n.desc,this._view.buildingProsperity.text=f.NumberTransform(n.capacity);case 7:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),e(s,null,[{key:"instance",get:function(){return this._instance}}]),s}(g)).CTRL_NAME="UIBuildingPlatformController",y._instance=null,C=y))||C);s._RF.pop()}}}));

System.register("chunks:///_virtual/ui.building.platform.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(i){"use strict";var t,n,o,u;return{setters:[function(i){t=i.inheritsLoose},function(i){n=i.cclegacy,o=i._decorator},function(i){u=i.GComponent}],execute:function(){var e,d;n._RF.push({},"db70cNTLRVBQ788gMtBOhzi","ui.building.platform.view",void 0);var s=o.ccclass;i("default",s("UIBuildingPlatformView")(((d=function(i){function n(){var t;return(t=i.call(this)||this).closeBtn=void 0,t.wind=void 0,t.buildingIcon=void 0,t.buildingName=void 0,t.buildingDesc=void 0,t.buildingProsperity=void 0,t.gotoBtn=void 0,t}return t(n,i),n.prototype.onConstruct=function(){this.closeBtn=this.getChild("ui_WindClose"),this.wind=this.getChild("ui_PlatformWind"),this.buildingIcon=this.wind.getChild("ui_Icon"),this.buildingName=this.wind.getChild("ui_BuildingName"),this.buildingDesc=this.wind.getChild("ui_Description"),this.buildingProsperity=this.wind.getChild("ui_Value1"),this.gotoBtn=this.wind.getChild("ui_BtnPut")},n}(u)).URL="ui://Details_Building/Main_BdPlatform",e=d))||e);n._RF.pop()}}}));

System.register("chunks:///_virtual/ui.building.upgrade.controller.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./event.dispatcher.ts","./event.name.ts","./enum.farm.building.type.ts","./new.guide.manager.ts","./table.helper.ts","./model.farm.manager.ts","./net.helper.ts","./sound.helper.ts","./logic.tool.ts","./resource.path.tool.ts","./ui.float.text.controller.ts","./ui.base.controller.ts","./openad.sdk.ts","./enum.open.function.type.ts"],(function(e){"use strict";var t,i,n,r,a,s,o,u,l,c,h,_,v,p,d,m,g,f,C,w,I,F,x,y;return{setters:[function(e){t=e.inheritsLoose,i=e.createClass,n=e.asyncToGenerator,r=e.regeneratorRuntime},function(e){a=e.cclegacy,s=e._decorator,o=e.input,u=e.Input,l=e.KeyCode},function(e){c=e.UIPackage},function(e){h=e.EventDispatcher},function(e){_=e.EventName},function(e){v=e.EFarmBuildingType},function(e){p=e.NewGuideManager},function(e){d=e.TableHelper},function(e){m=e.ModelFarmManager},function(e){g=e.NetHelper},function(e){f=e.SoundHelper},function(e){C=e.LogicTool},function(e){w=e.ResourcePathTool},function(e){I=e.UIFloatTextController},function(e){F=e.UIBaseController},function(e){x=e.OpenAdSDK},function(e){y=e.EOpenFunctionType}],execute:function(){var U,b;a._RF.push({},"5dfb4hnphBB9Jzy8uuMCbCM","ui.building.upgrade.controller",void 0);var S=s.ccclass;e("UIBuildingUpgradeController",S("UIBuildingUpgradeController")(((b=function(e){function a(){for(var t,i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return(t=e.call.apply(e,[this].concat(n))||this).mFguiPkgName="Details_Building",t.mFguiMainViewName="Main_FarmUpgrade",t._view=null,t}t(a,e);var s=a.prototype;return s._addEvents=function(){e.prototype._addEvents.call(this),o.on(u.EventType.KEY_DOWN,this._onKeyDown,this),h.on(_.FARM_DATA_CHANGE,this._onFarmDataChanged,this),h.on(_.FARM_LEVEL_CHANGE,this._onFarmLevelChanged,this),h.on(_.FARM_RESOURCE_CHANGE,this._onFarmCoinResChanged,this),h.on(_.FARM_SKIN_BUILDING_USE_CHANGED,this._onAppearanceUseChanged,this),h.on(_.FARM_SKIN_REFRESH_RED_TIP,this._onFarmSkinRefreshRedTip,this)},s._removeEvents=function(){e.prototype._removeEvents.call(this),o.off(u.EventType.KEY_DOWN,this._onKeyDown,this),h.off(_.FARM_DATA_CHANGE,this._onFarmDataChanged,this),h.off(_.FARM_LEVEL_CHANGE,this._onFarmLevelChanged,this),h.off(_.FARM_RESOURCE_CHANGE,this._onFarmCoinResChanged,this),h.off(_.FARM_SKIN_BUILDING_USE_CHANGED,this._onAppearanceUseChanged,this),h.off(_.FARM_SKIN_REFRESH_RED_TIP,this._onFarmSkinRefreshRedTip,this)},s._onKeyDown=function(e){switch(e.keyCode){case l.ESCAPE:if(p.instance.IsInGuideScene)return;this._onCloseClick()}},s._onFarmDataChanged=function(){this._view&&this._initData()},s._onFarmLevelChanged=function(e){this._view&&(this._initData(),this._showOpenFunction(e),p.instance.IsInGuideScene&&2===e&&p.instance.NextStep())},s._onFarmCoinResChanged=function(){this._view&&this._refreshCostInfo()},s._onAppearanceUseChanged=function(){if(this._view){var e=d.getFarmSkin(m.instance.CurBuildingSkinID);if(e){this._view.buildingIcon.url=w.getUIFarmItemPath(e.statueIcon),this._view.buildingIcon2.url=w.getUIFarmItemPath(e.statueIcon);var t=m.instance.FarmLevel;this._view.buildingName.text=C.i18nFormat(d.getI18nUIText("u.12500"),[t.toString(),e.name])}}},s._onFarmSkinRefreshRedTip=function(){this._view&&this._refreshAppearanceBtnRedTip()},s.onLoad=function(){a._instance=this,this.mCanCloseTime=.5,this._startLoadPkg(this.mFguiPkgName)},s.onDestroy=function(){e.prototype.onDestroy.call(this),a._instance=null},s.closeUI=function(){e.prototype.closeUI.call(this),x.hideBannerAD()},s._onLoadUIFinish=function(){e.prototype._onLoadUIFinish.call(this),this._view=c.createObject(this.mFguiPkgName,this.mFguiMainViewName).asCom,this._addUIToRoot(this._view),this._view.makeFullScreen(),this._view.closeBtn.onClick(this._onUICloseClick,this),this._view.goUpgradeBtn.onClick(this._onGoUpgradeClick,this),this._view.goAppearanceBtn.onClick(this._onGoAppearanceClick,this),this._view.dailyAwardBtn.onClick(this._onDailyAwardClick,this),this._view.upgradeBtn.onClick(this._onUpgradeClick,this),this._view.closeStateCtrl.selectedIndex=1,this._view.stateCtrl.selectedPage="Default",this._initData(),this._refreshAppearanceBtnRedTip(),this._refreshUpgradeBtnRedTip(),x.showBannerAD()},s._initData=function(){var e=d.getFarmResRecord(3001);if(e){var t=m.instance.FarmLevel,i=m.instance.CurBuildingSkinID;0===i&&(i=m.FarmSkinDefaultID);var n=d.getFarmSkin(i);n?(this._view.buildingIcon.url=w.getUIFarmItemPath(n.statueIcon),this._view.buildingIcon2.url=w.getUIFarmItemPath(n.statueIcon),this._view.buildingName.text=C.i18nFormat(d.getI18nUIText("u.12500"),[t.toString(),n.name])):(this._view.buildingIcon.url=w.getUIFarmItemPath(e.icon),this._view.buildingIcon2.url=w.getUIFarmItemPath(n.statueIcon),this._view.buildingName.text=C.i18nFormat(d.getI18nUIText("u.12500"),[t.toString(),e.name])),this._view.buildingDesc.text=e.desc;var r=d.getFarmLevelRecord(t);r&&(this._view.setItemText(this._view.buildingProsperity,r.farmProsperity+"%"),this._view.setItemText(this._view.buildingLandCount,""+r.farmScale),this._view.setItemText(this._view.buildingFarmerCount,""+r.farmerCount),this._initDailyAward(),this._initUpgradeData())}},s._initDailyAward=function(){m.instance.IsHasDailyAward()?this._view.dailyAwardCtrl.selectedIndex=1:this._view.dailyAwardCtrl.selectedIndex=0},s._initUpgradeData=function(){var e=m.instance.FarmLevel;this._view.curLevel.text=C.i18nFormat(d.getI18nUIText("u.10102"),[e.toString()]);var t=d.getFarmLevelRecord(e);if(t)if(e>=d.getFarmMaxLevel())this._view.nextLevel.text=C.i18nFormat(d.getI18nUIText("u.10102"),["Max"]),this._view.nextFarmerCount.visible=!1,this._view.nextLandCount.visible=!1,this._view.nextProsperity.visible=!1,this._view.upgradeBtn.visible=!1,this._view.curFarmerCount.visible=!0,this._view.setItemText(this._view.curFarmerCount,""+t.farmerCount),this._view.curLandCount.visible=!0,this._view.setItemText(this._view.curLandCount,""+t.farmScale),this._view.curProsperity.visible=!0,this._view.setItemText(this._view.curProsperity,t.farmProsperity+"%");else{var i=m.instance.FarmLevel+1;this._view.nextLevel.text=C.i18nFormat(d.getI18nUIText("u.10102"),[i.toString()]);var n=d.getFarmLevelRecord(i);if(!n)return;var r=n.farmerCount-t.farmerCount;this._view.curFarmerCount.visible=!0,this._view.nextFarmerCount.visible=!0,this._view.setItemText(this._view.curFarmerCount,""+t.farmerCount),this._view.setItemText(this._view.nextFarmerCount,""+n.farmerCount,r>0);var a=n.farmScale-t.farmScale;this._view.curLandCount.visible=!0,this._view.nextLandCount.visible=!0,this._view.setItemText(this._view.curLandCount,""+t.farmScale),this._view.setItemText(this._view.nextLandCount,""+n.farmScale,a>0);var s=n.farmProsperity-t.farmProsperity;this._view.curProsperity.visible=!0,this._view.nextProsperity.visible=!0,this._view.setItemText(this._view.curProsperity,t.farmProsperity+"%"),this._view.setItemText(this._view.nextProsperity,n.farmProsperity+"%",s>0),this._view.upgradeBtn.visible=!0,this._refreshCostInfo()}},s._refreshCostInfo=function(){var e=m.instance.FarmLevel,t=d.getFarmLevelRecord(e);if(t){for(var i=[],n=t.levelupCost.split(";"),r=0;r<n.length;r++){var a=n[r].split("-");if(a.length<2)return;var s=Number.parseInt(a[0]),o=Number.parseInt(a[1]),u=m.instance.getResTypeByEnum(s);i.push([u,o])}1===i.length?this._view.upgradeBtn.setBtnData(i[0]):2===i.length?this._view.upgradeBtn.setBtnData(i[0],i[1]):3===i.length&&this._view.upgradeBtn.setBtnData(i[0],i[1],i[2]),this._refreshUpgradeBtnRedTip()}},s._refreshAppearanceBtnRedTip=function(){var e=this._view.goAppearanceBtn.getController("IsNew");if(e){var t=m.instance.FarmNewSkinList.length>0;e.selectedIndex=t?1:0}},s._refreshUpgradeBtnRedTip=function(){var e=this._view.goUpgradeBtn.getChild("UI_TipSp");e&&(m.instance.FarmLevel>=d.getFarmMaxLevel()?e.visible=!1:this._view.upgradeBtn.IsEnough()?e.visible=!0:e.visible=!1)},s._onCloseClick=function(){var e=n(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.mIsCanClose){e.next=2;break}return e.abrupt("return");case 2:f.PlaySound_UICommonClose(),h.emit(_.UI_BUILDING_UPGRADE_CLOSE),h.emit(_.FARM_OBJECT_CANCEL_SELECTED),p.instance.IsInGuideScene&&p.instance.NextStep();case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),s._onUICloseClick=function(){var e=n(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"Default"!==this._view.stateCtrl.selectedPage?(f.PlaySound_UICommonClose(),this._view.closeStateCtrl.selectedIndex=1,this._view.stateCtrl.selectedPage="Default",p.instance.IsInGuideScene&&p.instance.NextStep()):this._onCloseClick();case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),s._onGoUpgradeClick=function(){var e=n(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:f.PlaySound_UICommonClick(),this._view.closeStateCtrl.selectedIndex=2,this._view.stateCtrl.selectedPage="LvUp",p.instance.IsInGuideScene&&p.instance.NextStep();case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),s._onGoAppearanceClick=function(){var e=n(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:f.PlaySound_UICommonClick(),this._view.closeStateCtrl.selectedIndex=2,this._view.stateCtrl.selectedPage="Appearance",this._view.appearanceView.initFarmAppearanceView();case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),s._onDailyAwardClick=function(){f.PlaySound_UICommonClick(),g.getFarmDailyAward()},s._onUpgradeClick=function(){var e=n(r().mark((function e(){var t,i,n,a,s,o,u,l,c;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(f.PlaySound_UICommonClick(),!((t=m.instance.FarmLevel)>=d.getFarmMaxLevel())){e.next=5;break}return I.AddTipI18nID_Info("u.2505"),e.abrupt("return");case 5:if(i=d.getFarmLevelRecord(t)){e.next=8;break}return e.abrupt("return");case 8:n=!0,a=i.levelupCost.split(";"),s=0;case 11:if(!(s<a.length)){e.next=24;break}if(!((o=a[s].split("-")).length<2)){e.next=15;break}return e.abrupt("return");case 15:if(u=Number.parseInt(o[0]),l=Number.parseInt(o[1]),c=m.instance.getResTypeByEnum(u),!(m.instance.getResValueByType(c)<l)){e.next=21;break}return n=!1,e.abrupt("break",24);case 21:s++,e.next=11;break;case 24:if(n){e.next=27;break}return I.AddTipI18nID_Info("u.2506"),e.abrupt("return");case 27:g.upgradeFarm(m.instance.FarmLevel);case 28:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),s._showOpenFunction=function(e){var t=[];5===e&&t.push([y.ScreamingChicken,901]),e===d.getAllParamRecord(121).paramValue&&t.push([y.Exploration,0]);var i=d.getBuilding(v.ManaGel);i&&i.farmLevelLimit===e&&t.push([y.Lvl2Room,1002]);var n=d.getBuilding(v.Ethereal);n&&n.farmLevelLimit===e&&t.push([y.Lvl3Room,1003]),t.length>0&&h.emit(_.UI_OPEN_FUNCTION_OPEN,t)},s.getGoUpgradeBtn=function(){return this._view?this._view.goUpgradeBtn:null},s.getUpgradeBtn=function(){return this._view?this._view.upgradeBtn:null},s.getCloseBtn=function(){return this._view?this._view.closeBtn:null},i(a,null,[{key:"instance",get:function(){return this._instance}}]),a}(F)).CTRL_NAME="UIBuildingUpgradeController",b._instance=null,U=b))||U);a._RF.pop()}}}));

System.register("chunks:///_virtual/ui.building.upgrade.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(i){"use strict";var t,e,n,d;return{setters:[function(i){t=i.inheritsLoose},function(i){e=i.cclegacy,n=i._decorator},function(i){d=i.GComponent}],execute:function(){var r,u;e._RF.push({},"d4fc5OSNOFB56EGT6NMQkTj","ui.building.upgrade.view",void 0);var l=n.ccclass;i("default",l("UIBuildingUpgradeView")(((u=function(i){function e(){var t;return(t=i.call(this)||this).dailyAwardCtrl=void 0,t.stateCtrl=void 0,t.closeStateCtrl=void 0,t.closeBtn=void 0,t.wind=void 0,t.dailyAwardBtn=void 0,t.buildingIcon=void 0,t.buildingIcon2=void 0,t.buildingName=void 0,t.buildingDesc=void 0,t.buildingProsperity=void 0,t.buildingLandCount=void 0,t.buildingFarmerCount=void 0,t.goAppearanceBtn=void 0,t.goUpgradeBtn=void 0,t.curLevel=void 0,t.nextLevel=void 0,t.curFarmerCount=void 0,t.nextFarmerCount=void 0,t.curLandCount=void 0,t.nextLandCount=void 0,t.curProsperity=void 0,t.nextProsperity=void 0,t.upgradeBtn=void 0,t.appearanceView=void 0,t}t(e,i);var n=e.prototype;return n.onConstruct=function(){this.closeBtn=this.getChild("ui_WindClose"),this.closeStateCtrl=this.closeBtn.getController("State"),this.wind=this.getChild("ui_UpgradeFarmWind"),this.dailyAwardCtrl=this.wind.getController("DailyAward"),this.stateCtrl=this.wind.getController("State"),this.dailyAwardBtn=this.wind.getChild("ui_BtnDailyAward"),this.buildingIcon=this.wind.getChild("ui_Icon"),this.buildingIcon2=this.wind.getChild("ui_Icon2"),this.buildingName=this.wind.getChild("ui_BuildingName"),this.buildingDesc=this.wind.getChild("ui_Description"),this.buildingProsperity=this.wind.getChild("ui_Value1"),this.buildingLandCount=this.wind.getChild("ui_Value2"),this.buildingFarmerCount=this.wind.getChild("ui_Value3"),this.goAppearanceBtn=this.wind.getChild("ui_BtnGoChange"),this.goUpgradeBtn=this.wind.getChild("ui_BtnGoUpgrade"),this.curLevel=this.wind.getChild("ui_LevelCurrent"),this.nextLevel=this.wind.getChild("ui_LevelNext"),this.curProsperity=this.wind.getChild("ui_ValueCurrent3"),this.nextProsperity=this.wind.getChild("ui_ValueNext3"),this.curLandCount=this.wind.getChild("ui_ValueCurrent2"),this.nextLandCount=this.wind.getChild("ui_ValueNext2"),this.curFarmerCount=this.wind.getChild("ui_ValueCurrent1"),this.nextFarmerCount=this.wind.getChild("ui_ValueNext1"),this.upgradeBtn=this.wind.getChild("ui_BtnUpgrade"),this.appearanceView=this.wind.getChild("ui_State_Appearance")},n.setItemText=function(i,t,e){void 0===e&&(e=!1);var n=i.getChild("ui_Value");n&&(n.text=t);var d=i.getController("Color");d&&(d.selectedIndex=e?1:0)},e}(d)).URL="ui://Details_Building/Main_FarmUpgrade",r=u))||r);e._RF.pop()}}}));

System.register("chunks:///_virtual/ui.building.worker.controller.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./tonweb.mjs_cjs=&original=.js","./event.dispatcher.ts","./event.name.ts","./enum.farm.building.type.ts","./enum.farm.coin.res.ts","./table.helper.ts","./model.farm.manager.ts","./model.mainrole.manager.ts","./model.worker.manager.ts","./model.charge.manager.ts","./sound.helper.ts","./resource.path.tool.ts","./ui.base.controller.ts","./ui.tip.float.define.ts","./ui.float.text.controller.ts","./logic.tool.ts","./net.helper.ts","./farm.client.protocol.ts","./tonweb.js"],(function(e){"use strict";var t,i,n,s,o,r,l,a,u,h,_,c,m,d,g,v,I,R,w,f,k,p,B,C,T,E,W,y,L;return{setters:[function(e){t=e.inheritsLoose,i=e.createClass,n=e.asyncToGenerator,s=e.regeneratorRuntime},function(e){o=e.cclegacy,r=e._decorator,l=e.input,a=e.Input,u=e.KeyCode,h=e.Color},function(e){_=e.UIPackage},null,function(e){c=e.EventDispatcher},function(e){m=e.EventName},function(e){d=e.EFarmBuildingType},function(e){g=e.EFarmCoinRes},function(e){v=e.TableHelper},function(e){I=e.ModelFarmManager},function(e){R=e.ModelMainRoleManager},function(e){w=e.ModelWorkerManager},function(e){f=e.ModelChargeManager},function(e){k=e.SoundHelper},function(e){p=e.ResourcePathTool},function(e){B=e.UIBaseController},function(e){C=e.ETipFloatPosition},function(e){T=e.UIFloatTextController},function(e){E=e.LogicTool},function(e){W=e.NetHelper},function(e){y=e.enumWorkerState},function(e){L=e.default}],execute:function(){var S,D;o._RF.push({},"503634ulptMZai1Lk+gBqu1","ui.building.worker.controller",void 0);var b=r.ccclass;e("UIBuildingWorkerController",b("UIBuildingWorkerController")(((D=function(e){function o(){for(var t,i=arguments.length,n=new Array(i),s=0;s<i;s++)n[s]=arguments[s];return(t=e.call.apply(e,[this].concat(n))||this).mFguiPkgName="Details_Building",t.mFguiMainViewName="Main_BdWorkerList",t._view=null,t.mBuildingType=d.None,t.mBuildingResType=g.None,t.mWorkerData=null,t.mCurSelectWorker=null,t}t(o,e);var r=o.prototype;return r._addEvents=function(){e.prototype._addEvents.call(this),l.on(a.EventType.KEY_DOWN,this._onKeyDown,this),c.on(m.WORKER_LIST_ADD_ITEM,this._onWorkerListDataChanged,this),c.on(m.WORKER_LIST_REMOVE_ITEM,this._onWorkerListDataChanged,this),c.on(m.WORKER_LIST_UPDATE_ITEM,this._onWorkerListDataChanged,this),c.on(m.WORKER_LIST_LEVELUP_ITEM,this._onWorkerListDataChanged,this),c.on(m.WORKER_LIST_REFRESH_STATE_ITEM,this._onWorkerListRefreshStateItem,this),c.on(m.FARM_RESOURCE_CHANGE,this._onFarmResChanged,this),c.on(m.FARM_SKIN_BUILDING_USE_CHANGED,this._onAppearanceUseChanged,this),c.on(m.UI_BUILDING_WORKER_ITEM_SELECTED,this.onWorkerItemSelected,this)},r._removeEvents=function(){e.prototype._removeEvents.call(this),l.off(a.EventType.KEY_DOWN,this._onKeyDown,this),c.off(m.WORKER_LIST_ADD_ITEM,this._onWorkerListDataChanged,this),c.off(m.WORKER_LIST_REMOVE_ITEM,this._onWorkerListDataChanged,this),c.off(m.WORKER_LIST_UPDATE_ITEM,this._onWorkerListDataChanged,this),c.off(m.WORKER_LIST_LEVELUP_ITEM,this._onWorkerListDataChanged,this),c.off(m.WORKER_LIST_REFRESH_STATE_ITEM,this._onWorkerListRefreshStateItem,this),c.off(m.FARM_RESOURCE_CHANGE,this._onFarmResChanged,this),c.off(m.FARM_SKIN_BUILDING_USE_CHANGED,this._onAppearanceUseChanged,this),c.off(m.UI_BUILDING_WORKER_ITEM_SELECTED,this.onWorkerItemSelected,this)},r._onKeyDown=function(e){switch(e.keyCode){case u.ESCAPE:this._onCloseClick()}},r._onWorkerListDataChanged=function(e){e&&null!=this._view&&this._initWorkerData(!1)},r._onWorkerListRefreshStateItem=function(e){e&&null!=this._view&&(null!=this.mCurSelectWorker&&this.mCurSelectWorker.WorkerData.workerID===e&&this._initWorkerData(!1),this._refreshBuildingResOutput(),this._refreshBuildingRoomBtn())},r._onFarmResChanged=function(e){this._view&&e&&this.mBuildingResType===e&&this._refreshBuildingResValue()},r._onAppearanceUseChanged=function(){if(this._view){var e=v.getFarmSkin(I.instance.CurBuildingSkinID);e&&(this.mBuildingType===d.Mushroom&&(this._view.buildingIcon.url=p.getUIFarmItemPath(e.building1Icon)),this.mBuildingType===d.ManaGel&&(this._view.buildingIcon.url=p.getUIFarmItemPath(e.building2Icon)),this.mBuildingType===d.Ethereal&&(this._view.buildingIcon.url=p.getUIFarmItemPath(e.building3Icon)))}},r.onWorkerItemSelected=function(e){this._view&&(this.mCurSelectWorker=w.instance.getWorkerDataByID(e),this._refreshBuildingRoomBtn())},r.setType=function(e){this.mBuildingType=e,null!=this._view&&this.IsLoadFinish&&this._showData()},r.onLoad=function(){o._instance=this,this.mCanCloseTime=.5,this._startLoadPkg(this.mFguiPkgName)},r.onDestroy=function(){e.prototype.onDestroy.call(this),o._instance=null},r.closeUI=function(){e.prototype.closeUI.call(this),this.mBuildingType=d.None,c.emit(m.UI_BUILDING_WORKER_ITEM_SELECTED,"0")},r.update=function(){this._view},r._onLoadUIFinish=function(){e.prototype._onLoadUIFinish.call(this),this._view=_.createObject(this.mFguiPkgName,this.mFguiMainViewName).asCom,this._addUIToRoot(this._view),this._view.makeFullScreen(),this._view.closeBtn.onClick(this._onCloseClick,this),this._view.turnLeftBtn.onClick(this._onTurnLeftClick,this),this._view.turnRightBtn.onClick(this._onTurnRightClick,this),this._view.buildingResOutput.onClick(this._onBuildingResOutputClick,this),this._view.buildingResCost.onClick(this._onBuildingResCostClick,this),this._view.res1RoomBtn.onClick(this._onRes1RoomClick,this),this._view.res2RoomBtn.onClick(this._onRes2RoomClick,this),this._view.res3RoomBtn.onClick(this._onRes3RoomClick,this),this._view.workerList.itemRenderer=this.renderWorkerListItem.bind(this),this._view.workerList.setVirtual(),this._view.stateCtrl.selectedPage="Work",this._showData()},r._onCloseClick=function(){this.mIsCanClose&&(k.PlaySound_UICommonClose(),c.emit(m.UI_BUILDING_WORKER_CLOSE),c.emit(m.FARM_OBJECT_CANCEL_SELECTED))},r._onTurnLeftClick=function(){k.PlaySound_UICommonClick(),this.mBuildingType===d.Mushroom?this.mBuildingType=d.Ethereal:this.mBuildingType===d.ManaGel?this.mBuildingType=d.Mushroom:this.mBuildingType===d.Ethereal&&(this.mBuildingType=d.ManaGel),this._showData(),c.emit(m.UI_BUILDING_WORKER_ITEM_SELECTED,"0")},r._onTurnRightClick=function(){k.PlaySound_UICommonClick(),this.mBuildingType===d.Mushroom?this.mBuildingType=d.ManaGel:this.mBuildingType===d.ManaGel?this.mBuildingType=d.Ethereal:this.mBuildingType===d.Ethereal&&(this.mBuildingType=d.Mushroom),this._showData(),c.emit(m.UI_BUILDING_WORKER_ITEM_SELECTED,"0")},r._onBuildingResOutputClick=function(){if(k.PlaySound_UICommonClick(),this.mBuildingType===d.Mushroom){var e=v.getI18nUIText("u.11005");c.emit(m.UI_TIP_FLOAT_SHOW_TEXT,this._view.buildingResOutput,e,C.Bottom)}},r._onBuildingResCostClick=function(){if(k.PlaySound_UICommonClick(),this.mBuildingType===d.ManaGel){var e=v.getI18nUIText("u.11006");c.emit(m.UI_TIP_FLOAT_SHOW_TEXT,this._view.buildingResCost,e,C.Bottom)}else if(this.mBuildingType===d.Ethereal){var t=v.getI18nUIText("u.11007");c.emit(m.UI_TIP_FLOAT_SHOW_TEXT,this._view.buildingResCost,t,C.Bottom)}},r._onRes1RoomClick=function(){var e=n(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:k.PlaySound_UICommonClick(),this._startWorkInBuilding(d.Mushroom);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),r._onRes2RoomClick=function(){var e=n(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:k.PlaySound_UICommonClick(),this._startWorkInBuilding(d.ManaGel);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),r._onRes3RoomClick=function(){var e=n(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:k.PlaySound_UICommonClick(),this._startWorkInBuilding(d.Ethereal);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),r._startWorkInBuilding=function(e){if(null!=this.mCurSelectWorker)if(this.mCurSelectWorker.WorkerData.roleWorkBuilding!==e){var t=v.getBuilding(e);if(!t||I.instance.isHasBuilding(e))if(t&&I.instance.isBuildingInLock(e)){var i=E.i18nFormat(v.getI18nUIText("u.2503"),[t.farmLevelLimit.toString()]);T.AddTipText_Info(i)}else if(t&&this.mCurSelectWorker.WorkerData.roleLevel<t.workerLevelLimit){var n=E.i18nFormat(v.getI18nUIText("u.2504"),[t.workerLevelLimit.toString()]);T.AddTipText_Info(n)}else W.stopWork(this.mCurSelectWorker.WorkerData.workerID),W.startWork(this.mCurSelectWorker.WorkerData.workerID,e);else T.AddTipI18nID_Info("u.2530")}else T.AddTipI18nID_Info("u.2507")},r._showData=function(){var e=n(s().mark((function e(){var t,i,n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=0,this.mBuildingType===d.Mushroom?(t=1001,this.mBuildingResType=g.Res_Mushroom,this._view.resIconCtrl.selectedPage="Mushroom"):this.mBuildingType===d.ManaGel?(t=1002,this.mBuildingResType=g.Res_ManaGel,this._view.resIconCtrl.selectedPage="ManaGel"):this.mBuildingType===d.Ethereal&&(t=1003,this.mBuildingResType=g.Res_Ethereal,this._view.resIconCtrl.selectedPage="Ethereal"),i=v.getFarmResRecord(t)){e.next=5;break}return e.abrupt("return");case 5:if((n=v.getFarmSkin(I.instance.CurBuildingSkinID))?(this.mBuildingType===d.Mushroom&&(this._view.buildingIcon.url=p.getUIFarmItemPath(n.building1Icon)),this.mBuildingType===d.ManaGel&&(this._view.buildingIcon.url=p.getUIFarmItemPath(n.building2Icon)),this.mBuildingType===d.Ethereal&&(this._view.buildingIcon.url=p.getUIFarmItemPath(n.building3Icon))):this._view.buildingIcon.url=p.getUIFarmItemPath(i.icon),this._view.buildingName.text=i.name,this._view.buildingDesc.text=i.desc,v.getItemRecord(this.mBuildingResType)){e.next=12;break}return e.abrupt("return");case 12:this._refreshBuildingResValue(),this._refreshBuildingResOutput(),this._initWorkerData(),this._refreshBuildingRoomBtn();case 16:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),r._refreshBuildingResValue=function(){var e=I.instance.getResValueByType(this.mBuildingResType);this._view.buildingResValue.text=e.toString(),this.mBuildingType===d.Mushroom?this._view.isHungryCtrl.selectedIndex=e<=0?1:0:this._view.isHungryCtrl.selectedIndex=0},r._refreshBuildingResOutput=function(){var e=I.instance.getBuildingByType(this.mBuildingType);if(null==e)return this._view.isResCostCtrl.selectedIndex=0,this._view.resCostArrowCtrl.selectedIndex=0,this._view.resOutputArrowCtrl.selectedIndex=0,this._view.buildingResOutputValue.text="-",void(this._view.buildingResOutputValue.color=new h(248,245,227));if(this.mBuildingType===d.Mushroom){this._view.isResCostCtrl.selectedIndex=0,this._view.resCostArrowCtrl.selectedIndex=0;var t=BigInt(e.workOutput)*BigInt(this.getPrivilegeAddition())/100n,i=0n,n=I.instance.getBuildingByType(d.ManaGel);null!=n&&(i=BigInt(n.workCost));var s=0n,o=I.instance.getBuildingByType(d.Ethereal);null!=o&&(s=BigInt(o.workCost));var r=L.utils.fromNano((t-i-s).toString()),l=Math.round(3600*Number.parseFloat(r)*100)/100;l>=0?(this._view.resOutputArrowCtrl.selectedIndex=1,this._view.buildingResOutputValue.text="+"+l+"/h",this._view.buildingResOutputValue.color=new h(84,255,0)):(this._view.resOutputArrowCtrl.selectedIndex=2,this._view.buildingResOutputValue.text="-"+Math.abs(l)+"/h",this._view.buildingResOutputValue.color=new h(255,108,0))}else{this._view.isResCostCtrl.selectedIndex=1,this._view.resCostArrowCtrl.selectedIndex=2;var a=BigInt(e.workOutput)*BigInt(this.getPrivilegeAddition())/100n,u=L.utils.fromNano(a.toString()),_=Math.round(3600*Number.parseFloat(u)*100)/100;this._view.buildingResOutputValue.text="+"+_+"/h",this._view.buildingResOutputValue.color=new h(84,255,0),this._view.resOutputArrowCtrl.selectedIndex=1;var c=L.utils.fromNano(e.workCost),m=Math.round(3600*Number.parseFloat(c)*100)/100;this._view.buildingResCostValue.text="-"+m+"/h"}},r.getPrivilegeAddition=function(){var e=100,t=0;if(this.mBuildingType===d.Mushroom?t=1:this.mBuildingType===d.ManaGel?t=2:this.mBuildingType===d.Ethereal&&(t=3),0===t)return e;var i=0,n=R.instance.InvitationData;if(n){var s=v.getInvitation(n.invitation_level);if(s)for(var o=s.privilege.split(";"),r=0;r<o.length;r++){var l=o[r].split("-");2===l.length&&Number.parseInt(l[0])===t&&(i=Number.parseInt(l[1]))}}for(var a=0,u=f.instance.getAllMonthlyCardList(),h=0;h<u.length;h++){var _=v.getMonthlyCard(u[h].id);if(_)for(var c=_.privilege.split(";"),m=0;m<c.length;m++){var g=c[m].split("-");2===g.length&&Number.parseInt(g[0])===t&&(a+=Number.parseInt(g[1]))}}return e+=i+a},r._initWorkerData=function(e){void 0===e&&(e=!0),this._view.isNoneCtrl.selectedIndex=2;var t=w.instance.getWorkerList();this.mWorkerData=[];for(var i=0;i<t.length;i++)t[i].WorkerData.roleState!==y.eWorkerState_Null&&t[i].WorkerData.roleState!==y.eWorkerState_3||t[i].WorkerData.roleWorkBuilding===this.mBuildingType&&this.mWorkerData.push(t[i]);this._refreshWorkerList(e)},r._refreshWorkerList=function(e){void 0===e&&(e=!0);var t=this.mWorkerData.length;this._view.isNoneCtrl.selectedIndex=t>0?0:1,this._view.workerList.numItems!==t?this._view.workerList.numItems=t:this._view.workerList.refreshVirtualList(),e&&this._view.workerList.scrollToView(0)},r.renderWorkerListItem=function(e,t){e>=this.mWorkerData.length||t.setWorkerData(this.mWorkerData[e])},r._refreshBuildingRoomBtn=function(){null==this.mCurSelectWorker||this.mWorkerData.includes(this.mCurSelectWorker)||(this.mCurSelectWorker=null),null===this.mCurSelectWorker?(this._view.res1RoomBtn.visible=!1,this._view.res2RoomBtn.visible=!1,this._view.res3RoomBtn.visible=!1,this._view.workerView.height=224):(this._refreshWorkRoomBtnShow(),this._view.workerView.height=284)},r._refreshWorkRoomBtnShow=function(){switch(this._view.res1RoomBtn.visible=!0,this._view.res2RoomBtn.visible=!0,this._view.res3RoomBtn.visible=!0,this.mCurSelectWorker.WorkerData.roleWorkBuilding){case d.Mushroom:this._view.setRoomBtnEnable(this._view.res1RoomBtn,!1),this._view.setRoomBtnEnable(this._view.res2RoomBtn,!0),this._view.setRoomBtnEnable(this._view.res3RoomBtn,!0);break;case d.ManaGel:this._view.setRoomBtnEnable(this._view.res1RoomBtn,!0),this._view.setRoomBtnEnable(this._view.res2RoomBtn,!1),this._view.setRoomBtnEnable(this._view.res3RoomBtn,!0);break;case d.Ethereal:this._view.setRoomBtnEnable(this._view.res1RoomBtn,!0),this._view.setRoomBtnEnable(this._view.res2RoomBtn,!0),this._view.setRoomBtnEnable(this._view.res3RoomBtn,!1);break;default:this._view.setRoomBtnEnable(this._view.res1RoomBtn,!0),this._view.setRoomBtnEnable(this._view.res2RoomBtn,!0),this._view.setRoomBtnEnable(this._view.res3RoomBtn,!0)}},i(o,null,[{key:"instance",get:function(){return this._instance}}]),o}(B)).CTRL_NAME="UIBuildingWorkerController",D._instance=null,S=D))||S);o._RF.pop()}}}));

System.register("chunks:///_virtual/ui.building.worker.item.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./event.dispatcher.ts","./event.name.ts","./resource.manager.ts","./table.helper.ts","./sound.helper.ts","./logic.tool.ts"],(function(e){"use strict";var t,r,o,i,n,l,a,s,h,k,u,c;return{setters:[function(e){t=e.inheritsLoose},function(e){r=e.cclegacy,o=e._decorator,i=e.isValid,n=e.v2},function(e){l=e.GButton},function(e){a=e.EventDispatcher},function(e){s=e.EventName},function(e){h=e.ResourceManager},function(e){k=e.TableHelper},function(e){u=e.SoundHelper},function(e){c=e.LogicTool}],execute:function(){var d,w;r._RF.push({},"af2a8jBdC1AJ5kJBda6HQpn","ui.building.worker.item.view",void 0);var I=o.ccclass;e("default",I("UIBuildingWorkerItemView")(((w=function(e){function r(){var t;return(t=e.call(this)||this).btnCtrl=void 0,t.workerID=void 0,t.workerIcon=void 0,t.workerStar=void 0,t.workerLevel=void 0,t.workerType=void 0,t.workerExploration=void 0,t.workerMajor=void 0,t.workerSkill=void 0,t.mCurShowData=void 0,t.mSelectedItemId="0",t}t(r,e);var o=r.prototype;return o.onConstruct=function(){this.btnCtrl=this.getController("button"),this.workerID=this.getChild("ui_WorkerID"),this.workerIcon=this.getChild("ui_WorkerIcon"),this.workerStar=this.getChild("ui_AwakenStar"),this.workerLevel=this.getChild("ui_WorkerLevel"),this.workerType=this.getChild("ui_WorkerSkill"),this.workerExploration=this.getChild("ui_WorkerExploration"),this.workerMajor=this.getChild("ui_PatternBg"),this.workerSkill=this.getChild("ui_MajorSkillList"),this.onClick(this._onWorkerItemClick,this),a.on(s.UI_BUILDING_WORKER_ITEM_SELECTED,this.onWorkerItemSelected,this)},o.onDestroy=function(){a.off(s.UI_BUILDING_WORKER_ITEM_SELECTED,this.onWorkerItemSelected,this)},o.onWorkerItemSelected=function(e){i(this.node)&&this.mSelectedItemId!==e&&(this.mSelectedItemId=e,this._setWorkerItemSelected())},o._onWorkerItemClick=function(){u.PlaySound_UICommonClick(),null!=this.mCurShowData&&a.emit(s.UI_BUILDING_WORKER_ITEM_SELECTED,this.mCurShowData.WorkerData.workerID)},o.setWorkerData=function(e){if(null!=e){this.mCurShowData=e;var t=k.getWorkerData(this.mCurShowData.WorkerData.roleID);if(null!=t){var r=k.getWorkerLevel(this.mCurShowData.WorkerData.roleLevel);null!=r&&(this._loadModelShow(t.resModelPath),this._setWorkerStar(r.star),this._setWorkerSkill(this.mCurShowData.getSkillList()),this.workerType.setWorkType(this.mCurShowData.WorkerData.roleWorkBuilding),this.workerMajor.setMajorType(this.mCurShowData.skillHighestLevel),this.workerExploration.setExplorationType(this.mCurShowData.WorkerData.roleState),this.workerID.text=t.workerName,this.workerLevel.text=c.i18nFormat(k.getI18nUIText("u.10102"),[r.showLevel.toString()]),this._setWorkerItemSelected())}}},o._setWorkerStar=function(e){this.workerStar.removeChildren();for(var t=0;t<e;t++)this.workerStar.addItem()},o._setWorkerSkill=function(e){this.workerSkill.removeChildren();for(var t=0;t<e.length;t++){this.workerSkill.addItem().setSkillData(e[t])}},o._loadModelShow=function(e){var t=this;h.instance.loadAvatarSkeletonData(e).then((function(e){i(t.node)&&(t.workerIcon&&t.workerIcon.node&&t.workerIcon.node.scale&&t.workerIcon.setScale(2.2,2.2),t.workerIcon.clearContent(),t.workerIcon.skinName=e.defaultSkin,t.workerIcon.animationName="doing",t.workerIcon.setSpine(e.skeletonData,n(30,50)))}))},o._setWorkerItemSelected=function(){null!=this.mCurShowData&&(this.mSelectedItemId===this.mCurShowData.WorkerData.workerID?this.selected=!0:this.selected=!1)},r}(l)).URL="ui://Details_Building/bdworkerlistitem",d=w))||d);r._RF.pop()}}}));

System.register("chunks:///_virtual/ui.building.worker.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(i){"use strict";var t,e,s,n;return{setters:[function(i){t=i.inheritsLoose},function(i){e=i.cclegacy,s=i._decorator},function(i){n=i.GComponent}],execute:function(){var o,r;e._RF.push({},"e5e99eR4lhC9rhj5QHPA2Db","ui.building.worker.view",void 0);var l=s.ccclass;i("default",l("UIBuildingWorkerView")(((r=function(i){function e(){var t;return(t=i.call(this)||this).isNoneCtrl=void 0,t.resIconCtrl=void 0,t.isResCostCtrl=void 0,t.isHungryCtrl=void 0,t.stateCtrl=void 0,t.resOutputArrowCtrl=void 0,t.resCostArrowCtrl=void 0,t.closeBtn=void 0,t.turnLeftBtn=void 0,t.turnRightBtn=void 0,t.wind=void 0,t.buildingIcon=void 0,t.buildingName=void 0,t.buildingDesc=void 0,t.buildingResValue=void 0,t.buildingResOutput=void 0,t.buildingResOutputValue=void 0,t.buildingResCost=void 0,t.buildingResCostValue=void 0,t.workerView=void 0,t.workerList=void 0,t.res1RoomBtn=void 0,t.res2RoomBtn=void 0,t.res3RoomBtn=void 0,t}t(e,i);var s=e.prototype;return s.onConstruct=function(){this.closeBtn=this.getChild("ui_WindClose"),this.wind=this.getChild("ui_WorkerListWind"),this.resIconCtrl=this.wind.getController("ResIcon"),this.isResCostCtrl=this.wind.getController("BuildingCost"),this.isHungryCtrl=this.wind.getController("IsHungry"),this.stateCtrl=this.wind.getController("State"),this.buildingIcon=this.wind.getChild("ui_Icon"),this.buildingName=this.wind.getChild("ui_BuildingName"),this.buildingDesc=this.wind.getChild("ui_Description"),this.buildingResValue=this.wind.getChild("ui_ResValue"),this.buildingResOutputValue=this.wind.getChild("ui_WorkerEfficiency2"),this.buildingResCostValue=this.wind.getChild("ui_WorkerEfficiency3"),this.buildingResOutput=this.wind.getChild("ui_BtnEfficiencyCost1"),this.resOutputArrowCtrl=this.buildingResOutput.getController("Arrow"),this.buildingResCost=this.wind.getChild("ui_BtnEfficiencyCost2"),this.resCostArrowCtrl=this.buildingResCost.getController("Arrow"),this.workerView=this.wind.getChild("ui_State_Work"),this.isNoneCtrl=this.workerView.getController("IsNone"),this.workerList=this.workerView.getChild("ui_BuildingViewWind"),this.res1RoomBtn=this.workerView.getChild("ui_BtnMushroom"),this.res2RoomBtn=this.workerView.getChild("ui_BtnManaGel"),this.res3RoomBtn=this.workerView.getChild("ui_BtnEthereal"),this.turnLeftBtn=this.wind.getChild("ui_BtnTurnLeft"),this.turnRightBtn=this.wind.getChild("ui_BtnTurnRight")},s.setRoomBtnEnable=function(i,t){var e=i.getController("IsDisabled");e&&(e.selectedIndex=t?0:1)},e}(n)).URL="ui://Details_Building/Main_BdWorkerList",o=r))||o);e._RF.pop()}}}));

System.register("chunks:///_virtual/ui.chain.order.controller.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./event.dispatcher.ts","./event.name.ts","./model.chain.order.manager.ts","./sound.helper.ts","./ui.base.controller.ts"],(function(t){"use strict";var e,n,i,r,o,a,s,h,c,l,u,d,_,C,f;return{setters:[function(t){e=t.inheritsLoose,n=t.createClass,i=t.asyncToGenerator,r=t.regeneratorRuntime},function(t){o=t.cclegacy,a=t._decorator,s=t.input,h=t.Input,c=t.KeyCode},function(t){l=t.UIPackage},function(t){u=t.EventDispatcher},function(t){d=t.EventName},function(t){_=t.ModelChainOrderManager},function(t){C=t.SoundHelper},function(t){f=t.UIBaseController}],execute:function(){var v,m;o._RF.push({},"86579RiELdDPa+pW01dgJW9","ui.chain.order.controller",void 0);var p=a.ccclass;t("UIChainOrderController",p("UIChainOrderController")(((m=function(t){function o(){for(var e,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))||this).mFguiPkgName="WithdrawalQueue",e.mFguiMainViewName="Main",e._view=null,e.mOrderData=null,e}e(o,t);var a=o.prototype;return a._addEvents=function(){t.prototype._addEvents.call(this),s.on(h.EventType.KEY_DOWN,this._onKeyDown,this),u.on(d.CHAIN_ORDER_LIST_INIT,this._onChainOrderDataChanged,this),u.on(d.CHAIN_ORDER_ADD_ITEM,this._onChainOrderDataChanged,this),u.on(d.CHAIN_ORDER_REMOVE_ITEM,this._onChainOrderDataChanged,this)},a._removeEvents=function(){t.prototype._removeEvents.call(this),s.off(h.EventType.KEY_DOWN,this._onKeyDown,this),u.off(d.CHAIN_ORDER_LIST_INIT,this._onChainOrderDataChanged,this),u.off(d.CHAIN_ORDER_ADD_ITEM,this._onChainOrderDataChanged,this),u.off(d.CHAIN_ORDER_REMOVE_ITEM,this._onChainOrderDataChanged,this)},a._onKeyDown=function(t){switch(t.keyCode){case c.ESCAPE:this._onCloseClick()}},a._onChainOrderDataChanged=function(){null!=this._view&&this._refreshChainOrderList(!1)},a.onLoad=function(){o._instance=this,this._startLoadPkg(this.mFguiPkgName)},a.onDestroy=function(){t.prototype.onDestroy.call(this),o._instance=null},a.closeUI=function(){t.prototype.closeUI.call(this)},a.update=function(){this._view},a._onLoadUIFinish=function(){t.prototype._onLoadUIFinish.call(this),this._view=l.createObject(this.mFguiPkgName,this.mFguiMainViewName).asCom,this._addUIToRoot(this._view),this._view.makeFullScreen(),this._view.closeBtn.onClick(this._onCloseClick,this),this._view.orderList.itemRenderer=this.renderChainOrderItem.bind(this),this._view.orderList.setVirtual(),this._initData()},a._onCloseClick=function(){var t=i(r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:C.PlaySound_UICommonClose(),u.emit(d.UI_CHAIN_ORDER_CLOSE);case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),a._initData=function(){this._refreshChainOrderList()},a._refreshChainOrderList=function(t){var e;void 0===t&&(t=!0),this.mOrderData=[];var n=_.instance.getChainOrderList();(e=this.mOrderData).push.apply(e,n);var i=this.mOrderData.length;this._view.isNoneCtrl.selectedIndex=i<=0?1:0,this._view.orderList.numItems!==i?this._view.orderList.numItems=i:this._view.orderList.refreshVirtualList(),t&&i>0&&this._view.orderList.scrollToView(0)},a.renderChainOrderItem=function(t,e){t>=this.mOrderData.length||e.setOrderData(this.mOrderData[t])},n(o,null,[{key:"instance",get:function(){return this._instance}}]),o}(f)).CTRL_NAME="UIChainOrderController",m._instance=null,v=m))||v);o._RF.pop()}}}));

System.register("chunks:///_virtual/ui.chain.order.item.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./resource.manager.ts","./table.helper.ts","./model.worker.manager.ts","./userdata.client.protocol.ts","./time.system.ts","./logic.tool.ts","./resource.path.tool.ts"],(function(e){"use strict";var r,t,o,i,a,n,s,d,l,u,c,h,m;return{setters:[function(e){r=e.inheritsLoose},function(e){t=e.cclegacy,o=e._decorator,i=e.isValid,a=e.v2},function(e){n=e.GComponent},function(e){s=e.ResourceManager},function(e){d=e.TableHelper},function(e){l=e.ModelWorkerManager},function(e){u=e.enumChainOrderType},function(e){c=e.TimeSystem},function(e){h=e.LogicTool},function(e){m=e.ResourcePathTool}],execute:function(){var k,g;t._RF.push({},"3c479dU/y9M5LyT+b821M0m","ui.chain.order.item.view",void 0);var p=o.ccclass;e("default",p("UIChainOrderItemView")(((g=function(e){function t(){var r;return(r=e.call(this)||this).typeCtrl=void 0,r.orderName=void 0,r.orderItemIcon=void 0,r.orderWorkerIcon=void 0,r.orderWorkerLevel=void 0,r.orderWorkerStar=void 0,r.orderAmount=void 0,r.orderLockTime=void 0,r.mCurShowData=null,r}r(t,e);var o=t.prototype;return o.onUpdate=function(){if(e.prototype.onUpdate.call(this),null!==this.mCurShowData){var r=Number(this.mCurShowData.orderTimeout)-c.instance.getTimestamp();this.orderLockTime.text=r>0?c.formatTimeString(r,!1):c.formatTimeString(0,!1)}},o.onConstruct=function(){this.typeCtrl=this.getController("AssetType"),this.orderName=this.getChild("ui_AssetName"),this.orderItemIcon=this.getChild("ui_AssetIcon"),this.orderWorkerIcon=this.getChild("ui_WorkerIcon"),this.orderWorkerLevel=this.getChild("ui_WorkerLevel"),this.orderWorkerStar=this.getChild("ui_AwakenStar"),this.orderAmount=this.getChild("ui_Amount"),this.orderLockTime=this.getChild("ui_WaitingTime")},o.setOrderData=function(e){if(null!=e){switch(this.mCurShowData=e,this.mCurShowData.orderType){case u.eChainOrderType_MintWizard:case u.eChainOrderType_WithdrawWizard:this.typeCtrl.selectedPage="Wizard";var r=e.param_1,t=l.instance.getWorkerDataByID(r);if(null==t)return;var o=d.getWorkerData(t.WorkerData.roleID);if(null==o)return;var i=d.getWorkerLevel(t.WorkerData.roleLevel);if(null==i)return;this._loadModelShow(o.resModelPath),this._setWorkerStar(i.star),this.orderName.text=o.workerName,this.orderWorkerLevel.text=h.i18nFormat(d.getI18nUIText("u.10102"),[i.showLevel.toString()]),this.orderAmount.text="1";break;case u.eChainOrderType_WithdrawItem:this.typeCtrl.selectedPage="Others";var a=e.param_1,n=e.param_2,s=Number.parseInt(a),k=d.getItemRecord(s);if(null==k)return;this.orderItemIcon.url=m.getUIFarmItemPath(k.itemIcon),this.orderName.text=k.itemName,this.orderAmount.text=n;break;case u.eChainOrderType_WithdrawWizzToken:case u.eChainOrderType_TGEWizzToken:this.typeCtrl.selectedPage="Others";var g=e.param_1,p=d.getItemRecord(21);if(null==p)return;this.orderItemIcon.url=m.getUIFarmItemPath(p.itemIcon),this.orderName.text=p.itemName,this.orderAmount.text=g}var I=Number(this.mCurShowData.orderTimeout)-c.instance.getTimestamp();this.orderLockTime.text=I>0?c.formatTimeString(I,!1):c.formatTimeString(0,!1)}},o._setWorkerStar=function(e){this.orderWorkerStar.removeChildren();for(var r=0;r<e;r++)this.orderWorkerStar.addItem()},o._loadModelShow=function(e){var r=this;s.instance.loadAvatarSkeletonData(e).then((function(e){i(r.node)&&(r.orderWorkerIcon&&r.orderWorkerIcon.node&&r.orderWorkerIcon.node.scale&&r.orderWorkerIcon.setScale(1.8,1.8),r.orderWorkerIcon.clearContent(),r.orderWorkerIcon.skinName=e.defaultSkin,r.orderWorkerIcon.animationName="idle",r.orderWorkerIcon.setSpine(e.skeletonData,a(30,44)))}))},t}(n)).URL="ui://WithdrawalQueue/listbar_Queue",k=g))||k);t._RF.pop()}}}));

System.register("chunks:///_virtual/ui.chain.order.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(i){"use strict";var t,e,r,n;return{setters:[function(i){t=i.inheritsLoose},function(i){e=i.cclegacy,r=i._decorator},function(i){n=i.GComponent}],execute:function(){var o,s;e._RF.push({},"470ed6pId1DbreyudJzbExv","ui.chain.order.view",void 0);var u=r.ccclass;i("default",u("UIChainOrderView")(((s=function(i){function e(){var t;return(t=i.call(this)||this).isNoneCtrl=void 0,t.closeBtn=void 0,t.orderList=void 0,t}return t(e,i),e.prototype.onConstruct=function(){this.isNoneCtrl=this.getController("IsNone"),this.closeBtn=this.getChild("ui_WindClose"),this.orderList=this.getChild("ui_TransactionsList")},e}(n)).URL="ui://WithdrawalQueue/Main",o=s))||o);e._RF.pop()}}}));

System.register("chunks:///_virtual/ui.charge.activity.controller.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./event.dispatcher.ts","./event.name.ts","./table.helper.ts","./model.charge.define.ts","./model.charge.manager.ts","./model.farm.manager.ts","./net.helper.ts","./sound.helper.ts","./ui.float.text.controller.ts","./ui.base.controller.ts"],(function(t){"use strict";var e,i,n,a,s,r,o,h,c,u,l,_,g,f,C,m,p,d,v,y,E;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass,n=t.asyncToGenerator,a=t.regeneratorRuntime},function(t){s=t.cclegacy,r=t._decorator,o=t.input,h=t.Input,c=t.KeyCode,u=t.macro},function(t){l=t.UIPackage},function(t){_=t.EventDispatcher},function(t){g=t.EventName},function(t){f=t.TableHelper},function(t){C=t.EChargeType},function(t){m=t.ModelChargeManager},function(t){p=t.ModelFarmManager},function(t){d=t.NetHelper},function(t){v=t.SoundHelper},function(t){y=t.UIFloatTextController},function(t){E=t.UIBaseController}],execute:function(){var D,I;s._RF.push({},"6edf4rID+hG1Jdn6Eni1E+w","ui.charge.activity.controller",void 0);var w=r.ccclass;t("UIChargeActivityController",w("UIChargeActivityController")(((I=function(t){function s(){for(var e,i=arguments.length,n=new Array(i),a=0;a<i;a++)n[a]=arguments[a];return(e=t.call.apply(t,[this].concat(n))||this).mFguiPkgName="Activity",e.mFguiMainViewName="Main",e._view=null,e.mChargeVersion=0,e.mChargeData=[],e.mShowData=[],e}e(s,t);var r=s.prototype;return r._addEvents=function(){t.prototype._addEvents.call(this),o.on(h.EventType.KEY_DOWN,this._onKeyDown,this),_.on(g.CHARGE_GET_LIST,this._onGetChargeList,this),_.on(g.CHARGE_PURCHASE_GET_ORDER,this._onChargeGetOrder,this),_.on(g.CHARGE_PURCHASE_FINISH,this._onChargeFinish,this),_.on(g.FARM_LEVEL_CHANGE,this._onFarmLevelChanged,this)},r._removeEvents=function(){t.prototype._removeEvents.call(this),o.off(h.EventType.KEY_DOWN,this._onKeyDown,this),_.off(g.CHARGE_GET_LIST,this._onGetChargeList,this),_.off(g.CHARGE_PURCHASE_GET_ORDER,this._onChargeGetOrder,this),_.off(g.CHARGE_PURCHASE_FINISH,this._onChargeFinish,this),_.off(g.FARM_LEVEL_CHANGE,this._onFarmLevelChanged,this)},r._onKeyDown=function(t){switch(t.keyCode){case c.ESCAPE:this._onCloseClick()}},r._onGetChargeList=function(t){if(null!=this._view){this.mChargeVersion=t.purchaseVer,this.mChargeData=[];for(var e=0;e<t.info.length;e++){var i=f.getPurchase(t.info[e].id);if(i)if(i.type===C.Activity_Res)if(""===i.param1)this.mChargeData.push(t.info[e]);else Number.parseInt(i.param1)===p.instance.FarmLevel&&this.mChargeData.push(t.info[e]);else i.type!==C.Activity_Skin&&i.type!==C.Activity_Decoration||this.mChargeData.push(t.info[e])}this._refreshChargeList()}},r._onChargeGetOrder=function(t){if(null!=this._view)switch(t.result){case 1:y.AddTipI18nID_Success("u.2547");break;case 2:y.AddTipI18nID_Failed("u.2548"),d.getPurchaseProductList();break;default:console.log("errorcode: ",t.result),y.AddTipI18nID_Failed("u.2549")}},r._onChargeFinish=function(){null!=this._view&&(y.AddTipI18nID_Success("u.2550"),this._refreshChargeList())},r._onFarmLevelChanged=function(){this._view&&d.getPurchaseProductList()},r.onLoad=function(){s._instance=this,this._startLoadPkg(this.mFguiPkgName)},r.onDestroy=function(){t.prototype.onDestroy.call(this),s._instance=null},r.closeUI=function(){t.prototype.closeUI.call(this)},r.update=function(){this._view},r._onLoadUIFinish=function(){t.prototype._onLoadUIFinish.call(this),this._view=l.createObject(this.mFguiPkgName,this.mFguiMainViewName).asCom,this._addUIToRoot(this._view),this._view.makeFullScreen(),this._view.closeBtn.onClick(this._onCloseClick,this),this._view.chargeList.itemRenderer=this.renderChargeActivityItem.bind(this),this._view.chargeList.setVirtual(),this._initData()},r._initData=function(){var t=n(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this._requestData(),this.schedule((function(){d.getPurchaseProductList()}),500,u.REPEAT_FOREVER,500);case 2:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),r._requestData=function(){this._view.isNoneCtrl.selectedIndex=2,d.getPurchaseProductList()},r._onCloseClick=function(){var t=n(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:v.PlaySound_UICommonClose(),_.emit(g.UI_CHARGE_ACTIVITY_CLOSE);case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),r._refreshChargeList=function(){this._sortChargeList();var t=this.mShowData.length;this._view.isNoneCtrl.selectedIndex=t<=0?1:0,this._view.chargeList.numItems!==t?this._view.chargeList.numItems=t:this._view.chargeList.refreshVirtualList(),this._view.chargeList.scrollToView(0)},r.renderChargeActivityItem=function(t,e){t>=this.mShowData.length||e.setChargeActivityData(this.mShowData[t],this.mChargeVersion)},r._sortChargeList=function(){for(var t,e,i=[],n=[],a=0;a<this.mChargeData.length;a++){var s=f.getPurchase(this.mChargeData[a].id);if(!s)return;var r=s.buyLimit.split("-"),o=0,h=0;if(2===r.length&&(o=Number.parseInt(r[0]),h=Number.parseInt(r[1])),0!==o){if(1===o||2===o){var c=m.instance.getChargeRecord(this.mChargeData[a].id);c&&c.productNum>=h?n.push(this.mChargeData[a]):i.push(this.mChargeData[a])}else if(3===o){var u=m.instance.getChargeRecord(this.mChargeData[a].id);if(u)0!==Number.parseInt(u.resetTime)?n.push(this.mChargeData[a]):i.push(this.mChargeData[a]);else i.push(this.mChargeData[a])}}else i.push(this.mChargeData[a])}this.mShowData=[],(t=this.mShowData).push.apply(t,i),(e=this.mShowData).push.apply(e,n)},i(s,null,[{key:"instance",get:function(){return this._instance}}]),s}(E)).CTRL_NAME="UIChargeActivityController",I._instance=null,D=I))||D);s._RF.pop()}}}));

System.register("chunks:///_virtual/ui.charge.activity.detail.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){"use strict";var i,e,n;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy},function(t){n=t.GComponent}],execute:function(){e._RF.push({},"a2efdr3xRRI9YrSocP2LhvR","ui.charge.activity.detail.view",void 0),t("default",function(t){function e(){for(var i,e=arguments.length,n=new Array(e),c=0;c<e;c++)n[c]=arguments[c];return(i=t.call.apply(t,[this].concat(n))||this).maskBg=void 0,i}return i(e,t),e.prototype.onConstruct=function(){this.maskBg=this.getChild("BgMask")},e}(n)).URL="ui://Activity/Main_Details",e._RF.pop()}}}));

System.register("chunks:///_virtual/ui.charge.activity.details.controller.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ui.base.controller.ts","./fairygui.mjs","./ui.manager.ts","./event.name.ts","./event.dispatcher.ts"],(function(t){"use strict";var i,e,n,s,o,a,r,h,l,c,u,m;return{setters:[function(t){i=t.inheritsLoose,e=t.createClass},function(t){n=t.cclegacy,s=t._decorator,o=t.input,a=t.Input,r=t.KeyCode},function(t){h=t.UIBaseController},function(t){l=t.UIPackage},function(t){c=t.UIManager},function(t){u=t.EventName},function(t){m=t.EventDispatcher}],execute:function(){var C,_;n._RF.push({},"aa381itanBJw6IJ8pmz9k9M","ui.charge.activity.details.controller",void 0);var D=s.ccclass,d=0,w=1,v=2;t("UIChargeActivityDetailsController",D("UIChargeActivityDetailsController")(((_=function(t){function n(){for(var i,e=arguments.length,n=new Array(e),s=0;s<e;s++)n[s]=arguments[s];return(i=t.call.apply(t,[this].concat(n))||this).mFguiPkgName="Activity",i.mFguiMainViewName="Main_Details",i.mFguiSkinViewName="wind_ThemeSkins",i.mFguiDecorationViewName="wind_Decorations",i._view=null,i.mCurType=d,i.mCurShowNode=null,i.mCurItemData=null,i.mCurVersion=0,i}i(n,t);var s=n.prototype;return s._addEvents=function(){t.prototype._addEvents.call(this),o.on(a.EventType.KEY_DOWN,this._onKeyDown,this)},s._removeEvents=function(){t.prototype._removeEvents.call(this),o.off(a.EventType.KEY_DOWN,this._onKeyDown,this)},s._onKeyDown=function(t){switch(t.keyCode){case r.ESCAPE:this._onCloseClick()}},s.onLoad=function(){n._instance=this,this._startLoadPkg(this.mFguiPkgName)},s.onDestroy=function(){t.prototype.onDestroy.call(this),n._instance=null},s._onLoadUIFinish=function(){t.prototype._onLoadUIFinish.call(this),this._view=l.createObject(this.mFguiPkgName,this.mFguiMainViewName).asCom,this._addUIToRoot(this._view),this._view.makeFullScreen(),this.mCurType===w?this._realSetSkinDetailsData():this.mCurType===v&&this._realSetDecorationDetailsData(),this._view.maskBg.onClick(this._onCloseClick,this),this._view.on(a.EventType.MOUSE_DOWN,(function(){}))},s.closeUI=function(){this.mIsCanClose&&(this._destroyCurDetailsItem(),t.prototype.closeUI.call(this))},s._onCloseClick=function(){null!=this._view&&null!=this.mCurShowNode&&m.emit(u.UI_CHARGE_ACTIVITY_DETAILS_CLOSE)},s._destroyCurDetailsItem=function(){null!==this.mCurShowNode&&(this.mCurShowNode.dispose(),this.mCurShowNode=null)},s._adjustDetailsPosition=function(){if(null!==this.mCurShowNode){var t=this._view.actualWidth/2-this.mCurShowNode.actualWidth/2,i=this._view.actualHeight/2-this.mCurShowNode.actualHeight/2;this.mCurShowNode.setPosition(t,i)}},s.showSkinDetails=function(t,i){this.mCurType=w,this.mCurItemData=t,this.mCurVersion=i,this.IsUIValid?this.mIsLoadPkgFinish&&this._realSetSkinDetailsData():c.instance.openUI(n.CTRL_NAME)},s._realSetSkinDetailsData=function(){var t=this;this._destroyCurDetailsItem();var i=l.createObject(this.mFguiPkgName,this.mFguiSkinViewName).asCom;this.mCurShowNode=i,this._view.addChild(this.mCurShowNode),i.RefreshShowData(this.mCurItemData,this.mCurVersion),i.OnCloseBtnClick((function(){t._onCloseClick()})),this._adjustDetailsPosition()},s.showDecorationDetails=function(t,i){this.mCurType=v,this.mCurItemData=t,this.mCurVersion=i,this.IsUIValid?this.mIsLoadPkgFinish&&this._realSetDecorationDetailsData():c.instance.openUI(n.CTRL_NAME)},s._realSetDecorationDetailsData=function(){var t=this;this._destroyCurDetailsItem();var i=l.createObject(this.mFguiPkgName,this.mFguiDecorationViewName).asCom;this.mCurShowNode=i,this._view.addChild(this.mCurShowNode),i.RefreshShowData(this.mCurItemData,this.mCurVersion),i.OnCloseBtnClick((function(){t._onCloseClick()})),this._adjustDetailsPosition()},n._checkOpenUI=function(){null==n._instance&&c.instance.openUI(n.CTRL_NAME)},n.ShowSkinDetails=function(t,i){n._checkOpenUI(),n.instance.showSkinDetails(t,i)},n.ShowDecorationDetails=function(t,i){n._checkOpenUI(),n.instance.showDecorationDetails(t,i)},e(n,null,[{key:"instance",get:function(){return this._instance}}]),n}(h)).CTRL_NAME="UIChargeActivityDetailsController",_._instance=null,C=_))||C);n._RF.pop()}}}));

System.register("chunks:///_virtual/ui.charge.activity.details.decoration.item.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./table.helper.ts","./resource.path.tool.ts"],(function(t){"use strict";var e,i,o,c,n,r;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy,o=t._decorator},function(t){c=t.GButton},function(t){n=t.TableHelper},function(t){r=t.ResourcePathTool}],execute:function(){var u,a;i._RF.push({},"c2d6ejXP/xNBpUXLNOWj9/a","ui.charge.activity.details.decoration.item.view",void 0);var s=o.ccclass;t("default",s("UIChargeActivityDetailsDecorationItemView")(((a=function(t){function i(){var e;return(e=t.call(this)||this).itemIcon=void 0,e.itemNum=void 0,e}e(i,t);var o=i.prototype;return o.onConstruct=function(){this.itemIcon=this.getChild("ui_ItemIcon"),this.itemNum=this.getChild("ui_ItemAmount")},o.setDecorationItemData=function(t,e){var i=n.getItemRecord(t);i&&(this.itemIcon.url=r.getUIFarmItemPath(i.itemIcon)),this.itemNum.text="x"+e},i}(c)).URL="ui://Activity/decorations_item",u=a))||u);i._RF.pop()}}}));

System.register("chunks:///_virtual/ui.charge.activity.details.decoration.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./event.dispatcher.ts","./event.name.ts","./table.helper.ts","./sound.helper.ts","./ui.charge.activity.details.decoration.item.view.ts"],(function(t){"use strict";var i,e,n,o,r,s,a,u,l,c;return{setters:[function(t){i=t.inheritsLoose,e=t.asyncToGenerator,n=t.regeneratorRuntime},function(t){o=t.cclegacy},function(t){r=t.GComponent},function(t){s=t.EventDispatcher},function(t){a=t.EventName},function(t){u=t.TableHelper},function(t){l=t.SoundHelper},function(t){c=t.default}],execute:function(){o._RF.push({},"ff3bcVTdGdFDbFG15ETVWvC","ui.charge.activity.details.decoration.view",void 0),t("default",function(t){function o(){for(var i,e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return(i=t.call.apply(t,[this].concat(n))||this).closeBtn=void 0,i.titleValue=void 0,i.itemList=void 0,i.prosperityValue=void 0,i.buyBtn=void 0,i.mCurShowData=void 0,i.mCurVersion=void 0,i._onCloseClick=null,i}i(o,t);var r=o.prototype;return r.onConstruct=function(){this.closeBtn=this.getChild("ui_WindClose"),this.titleValue=this.getChild("ui_Title"),this.itemList=this.getChild("ui_ItemList"),this.prosperityValue=this.getChild("ui_Value"),this.buyBtn=this.getChild("ui_BtnBuy"),this.closeBtn.onClick(this._onCloseBtnClick,this),this.buyBtn.onClick(this._onBuyClick,this)},r._onCloseBtnClick=function(){var t=e(n().mark((function t(){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:l.PlaySound_UICommonClose(),this._onCloseClick&&this._onCloseClick();case 2:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),r._onBuyClick=function(){var t=e(n().mark((function t(){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(l.PlaySound_UICommonClick(),null!=this.mCurShowData){t.next=3;break}return t.abrupt("return");case 3:s.emit(a.UI_DETAILS_SHOW_CHARGE,this.mCurShowData,this.mCurVersion),this._onCloseClick&&this._onCloseClick();case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),r.OnCloseBtnClick=function(t){this._onCloseClick=t},r.RefreshShowData=function(t,i){if(null!=t){this.mCurShowData=t,this.mCurVersion=i;var e=u.getPurchase(this.mCurShowData.id);if(e){this.titleValue.text=e.name;var n=e.param1.split("-");if(2===n.length){var o=Number.parseInt(n[0]);this.prosperityValue.text=1===o?"+"+n[1]:"+"+n[1]+"%"}this._refreshDecorationItemList(e.param2)}}},r._refreshDecorationItemList=function(t){this.itemList.removeChildrenToPool();for(var i=t.split(";"),e=0;e<i.length;e++){var n=i[e].split("-");if(n.length<2)return;var o=Number.parseInt(n[0]),r=Number.parseInt(n[1]);this.itemList.addItemFromPool(c.URL).setDecorationItemData(o,r)}},o}(r)).URL="ui://Activity/wind_Decorations",o._RF.pop()}}}));

System.register("chunks:///_virtual/ui.charge.activity.details.skin.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./event.dispatcher.ts","./event.name.ts","./table.helper.ts","./sound.helper.ts","./resource.path.tool.ts"],(function(t){"use strict";var i,n,e,r,o,u,a,c,s,l;return{setters:[function(t){i=t.inheritsLoose,n=t.asyncToGenerator,e=t.regeneratorRuntime},function(t){r=t.cclegacy},function(t){o=t.GComponent},function(t){u=t.EventDispatcher},function(t){a=t.EventName},function(t){c=t.TableHelper},function(t){s=t.SoundHelper},function(t){l=t.ResourcePathTool}],execute:function(){r._RF.push({},"f64faFvumJF1Jzgd61C3pPK","ui.charge.activity.details.skin.view",void 0),t("default",function(t){function r(){for(var i,n=arguments.length,e=new Array(n),r=0;r<n;r++)e[r]=arguments[r];return(i=t.call.apply(t,[this].concat(e))||this).closeBtn=void 0,i.titleValue=void 0,i.curBuilding1Icon=void 0,i.curBuilding2Icon=void 0,i.curBuilding3Icon=void 0,i.curStatueIcon=void 0,i.tarBuilding1Icon=void 0,i.tarBuilding2Icon=void 0,i.tarBuilding3Icon=void 0,i.tarStatueIcon=void 0,i.prosperityValue=void 0,i.buyBtn=void 0,i.mCurShowData=void 0,i.mCurVersion=void 0,i._onCloseClick=null,i}i(r,t);var o=r.prototype;return o.onConstruct=function(){this.closeBtn=this.getChild("ui_WindClose"),this.titleValue=this.getChild("ui_Title");var t=this.getChild("ui_ThemeSkin1");this.curBuilding1Icon=t.getChild("ui_Icon1"),this.tarBuilding1Icon=t.getChild("ui_Icon2");var i=this.getChild("ui_ThemeSkin2");this.curBuilding2Icon=i.getChild("ui_Icon1"),this.tarBuilding2Icon=i.getChild("ui_Icon2");var n=this.getChild("ui_ThemeSkin3");this.curBuilding3Icon=n.getChild("ui_Icon1"),this.tarBuilding3Icon=n.getChild("ui_Icon2");var e=this.getChild("ui_ThemeSkin4");this.curStatueIcon=e.getChild("ui_Icon1"),this.tarStatueIcon=e.getChild("ui_Icon2"),this.prosperityValue=this.getChild("ui_Value"),this.buyBtn=this.getChild("ui_BtnBuy"),this.closeBtn.onClick(this._onCloseBtnClick,this),this.buyBtn.onClick(this._onBuyClick,this)},o._onCloseBtnClick=function(){var t=n(e().mark((function t(){return e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s.PlaySound_UICommonClose(),this._onCloseClick&&this._onCloseClick();case 2:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),o._onBuyClick=function(){var t=n(e().mark((function t(){return e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(s.PlaySound_UICommonClick(),null!=this.mCurShowData){t.next=3;break}return t.abrupt("return");case 3:u.emit(a.UI_DETAILS_SHOW_CHARGE,this.mCurShowData,this.mCurVersion),this._onCloseClick&&this._onCloseClick();case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),o.OnCloseBtnClick=function(t){this._onCloseClick=t},o.RefreshShowData=function(t,i){if(null!=t){this.mCurShowData=t,this.mCurVersion=i;var n=c.getPurchase(this.mCurShowData.id);if(n){this.titleValue.text=n.name;var e=n.param1.split("-");if(2===e.length){var r=Number.parseInt(e[0]);this.prosperityValue.text=1===r?"+"+e[1]:"+"+e[1]+"%"}var o=c.getFarmResRecord(1001);o&&(this.curBuilding1Icon.url=l.getUIFarmItemPath(o.icon));var u=c.getFarmResRecord(1002);u&&(this.curBuilding2Icon.url=l.getUIFarmItemPath(u.icon));var a=c.getFarmResRecord(1003);o&&(this.curBuilding3Icon.url=l.getUIFarmItemPath(a.icon));var s=c.getFarmResRecord(3001);s&&(this.curStatueIcon.url=l.getUIFarmItemPath(s.icon));var h=Number.parseInt(n.param2),d=c.getFarmSkin(h);d&&(this.tarBuilding1Icon.url=l.getUIFarmItemPath(d.building1Icon),this.tarBuilding2Icon.url=l.getUIFarmItemPath(d.building2Icon),this.tarBuilding3Icon.url=l.getUIFarmItemPath(d.building3Icon),this.tarStatueIcon.url=l.getUIFarmItemPath(d.statueIcon))}}},r}(o)).URL="ui://Activity/wind_ThemeSkins",r._RF.pop()}}}));

System.register("chunks:///_virtual/ui.charge.activity.item.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./event.dispatcher.ts","./event.name.ts","./table.helper.ts","./model.charge.define.ts","./model.charge.manager.ts","./sound.helper.ts","./resource.path.tool.ts","./ui.charge.activity.pack.item.view.ts"],(function(t){"use strict";var e,i,r,a,s,n,h,o,u,c,m,l,C,d;return{setters:[function(t){e=t.inheritsLoose,i=t.asyncToGenerator,r=t.regeneratorRuntime},function(t){a=t.cclegacy,s=t._decorator},function(t){n=t.GButton},function(t){h=t.EventDispatcher},function(t){o=t.EventName},function(t){u=t.TableHelper},function(t){c=t.EChargeType},function(t){m=t.ModelChargeManager},function(t){l=t.SoundHelper},function(t){C=t.ResourcePathTool},function(t){d=t.default}],execute:function(){var p,g;a._RF.push({},"bf1c3+uTcBIWqwgaYmAjjHM","ui.charge.activity.item.view",void 0);var y=s.ccclass;t("default",y("UIChargeActivityItemView")(((g=function(t){function a(){var e;return(e=t.call(this)||this).styleCtrl=void 0,e.isLimitCtrl=void 0,e.typeCtrl=void 0,e.itemIcon=void 0,e.itemName=void 0,e.packList=void 0,e.resIcon=void 0,e.resAmount=void 0,e.prosperityValue=void 0,e.detailBtn=void 0,e.limitCount=void 0,e.buyBtn=void 0,e.mCurShowData=null,e.mChargeVersion=0,e.mChargeLimitType=0,e.mChargeLimitParam=0,e}e(a,t);var s=a.prototype;return s.onConstruct=function(){this.styleCtrl=this.getController("RibbonStyle"),this.isLimitCtrl=this.getController("IsLimit"),this.typeCtrl=this.getController("PackType"),this.itemIcon=this.getChild("ui_PackIcon"),this.itemName=this.getChild("ui_PackName"),this.packList=this.getChild("ui_PackList"),this.resIcon=this.getChild("ui_ItemIcon"),this.resAmount=this.getChild("ui_CoinAmount"),this.prosperityValue=this.getChild("ui_ProsperityValue"),this.detailBtn=this.getChild("ui_PackDetails"),this.limitCount=this.getChild("ui_PurchaseLimitValue"),this.buyBtn=this.getChild("ui_BtnBuy"),this.buyBtn.onClick(this._onBuyClick,this),this.detailBtn.onClick(this._onDetailClick,this)},s._onBuyClick=function(){var t=i(r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(l.PlaySound_UICommonClick(),null!=this.mCurShowData){t.next=3;break}return t.abrupt("return");case 3:h.emit(o.UI_DETAILS_SHOW_CHARGE,this.mCurShowData,this.mChargeVersion);case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),s._onDetailClick=function(){var t=i(r().mark((function t(){var e;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(l.PlaySound_UICommonClick(),null!=this.mCurShowData){t.next=3;break}return t.abrupt("return");case 3:(e=u.getPurchase(this.mCurShowData.id)).type===c.Activity_Skin?h.emit(o.UI_CHARGE_ACTIVITY_DETAILS_SHOW_SKIN,this.mCurShowData,this.mChargeVersion):e.type===c.Activity_Decoration&&h.emit(o.UI_CHARGE_ACTIVITY_DETAILS_SHOW_DECORATION,this.mCurShowData,this.mChargeVersion);case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),s.setChargeActivityData=function(t,e){if(null!=t){this.mCurShowData=t,this.mChargeVersion=e;var i=u.getPurchase(t.id);if(i){if(this.itemIcon.url=C.getUIFarmItemPath(i.icon),this.itemName.text=i.name,this.buyBtn.text="$"+t.usd_price,i.activityGroup>0&&i.activityGroup<=4?this.styleCtrl.selectedIndex=i.activityGroup-1:this.styleCtrl.selectedIndex=0,i.type===c.Activity_Res){if(this.typeCtrl.selectedIndex=0,this.packList.removeChildrenToPool(),t.goldNum>0){var r=this.packList.addItemFromPool(d.URL);r.setPackItemData(11,t.goldNum),r.setIconSize(48,48)}for(var a=t.awardItem.split(";"),s=0;s<a.length;s++){var n=a[s].split("-");if(2===n.length){var h=Number.parseInt(n[0]),o=Number.parseInt(n[1]),m=this.packList.addItemFromPool(d.URL);m.setPackItemData(h,o),m.setIconSize(64,64)}}}else{this.typeCtrl.selectedIndex=1;for(var l=t.awardItem.split(";"),p=0;p<l.length;p++){var g=l[p].split("-");if(2===g.length){var y=Number.parseInt(g[0]),v=Number.parseInt(g[1]),I=u.getItemRecord(y);I&&(this.resIcon.url=C.getUIFarmItemPath(I.itemIcon)),this.resAmount.text="x"+v;break}}var f=i.param1.split("-");if(2===f.length){var _=Number.parseInt(f[0]);this.prosperityValue.text=1===_?"+"+f[1]:"+"+f[1]+"%"}}this._refreshChargeLimit()}}},s._refreshChargeLimit=function(){if(null!=this.mCurShowData){var t=u.getPurchase(this.mCurShowData.id);if(t){var e=t.buyLimit.split("-");switch(2!==e.length?(this.mChargeLimitType=0,this.mChargeLimitParam=0):(this.mChargeLimitType=Number.parseInt(e[0]),this.mChargeLimitParam=Number.parseInt(e[1])),this.mChargeLimitType){case 0:this.isLimitCtrl.selectedIndex=0,this._setBuyBtnState(0);break;case 1:case 2:this.isLimitCtrl.selectedIndex=1;var i=m.instance.getChargeRecord(this.mCurShowData.id);if(i){var r=this.mChargeLimitParam-i.productNum;r<0&&(r=0),this.limitCount.text=r+"/"+this.mChargeLimitParam,i.productNum>=this.mChargeLimitParam?this._setBuyBtnState(1):this._setBuyBtnState(0)}else this.limitCount.text=this.mChargeLimitParam+"/"+this.mChargeLimitParam,this._setBuyBtnState(0);break;case 3:var a=m.instance.getChargeRecord(this.mCurShowData.id);if(a)0!==Number.parseInt(a.resetTime)?this._setBuyBtnState(1):this._setBuyBtnState(0);else this._setBuyBtnState(0)}}}},s._setBuyBtnState=function(t){var e=this.buyBtn.getController("IsFinished");e&&(e.selectedIndex=t,this.buyBtn.touchable=0===t)},a}(n)).URL="ui://Activity/listbar_GiftPack",p=g))||p);a._RF.pop()}}}));

System.register("chunks:///_virtual/ui.charge.activity.pack.item.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./table.helper.ts","./resource.path.tool.ts"],(function(t){"use strict";var i,e,c,o,n,u;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy,c=t._decorator},function(t){o=t.GButton},function(t){n=t.TableHelper},function(t){u=t.ResourcePathTool}],execute:function(){var r,s;e._RF.push({},"5a50avs02NDNqcXlW1XBUcq","ui.charge.activity.pack.item.view",void 0);var a=c.ccclass;t("default",a("UIChargeActivityPackItemView")(((s=function(t){function e(){var i;return(i=t.call(this)||this).itemIcon=void 0,i.itemNum=void 0,i}i(e,t);var c=e.prototype;return c.onConstruct=function(){this.itemIcon=this.getChild("ui_CoinIcon"),this.itemNum=this.getChild("ui_CoinAmount")},c.setPackItemData=function(t,i){var e=n.getItemRecord(t);e&&(this.itemIcon.url=u.getUIFarmItemPath(e.itemIcon)),this.itemNum.text="x"+i},c.setIconSize=function(t,i){this.itemIcon.width=t,this.itemIcon.height=i},e}(o)).URL="ui://Activity/gift_item",r=s))||r);e._RF.pop()}}}));

System.register("chunks:///_virtual/ui.charge.activity.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){"use strict";var i,e,n,o;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy,n=t._decorator},function(t){o=t.GComponent}],execute:function(){var s,c;e._RF.push({},"97b1fAVkJtMIadTkWYvFkkR","ui.charge.activity.view",void 0);var r=n.ccclass;t("default",r("UIChargeActivityView")(((c=function(t){function e(){var i;return(i=t.call(this)||this).isNoneCtrl=void 0,i.closeBtn=void 0,i.chargeList=void 0,i}return i(e,t),e.prototype.onConstruct=function(){this.isNoneCtrl=this.getController("IsNone"),this.closeBtn=this.getChild("ui_WindClose"),this.chargeList=this.getChild("ui_List")},e}(o)).URL="ui://Activity/Main",s=c))||s);e._RF.pop()}}}));

System.register("chunks:///_virtual/ui.charge.controller.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./event.dispatcher.ts","./event.name.ts","./sound.helper.ts","./ui.base.controller.ts","./net.helper.ts","./ui.float.text.controller.ts","./table.helper.ts","./model.charge.define.ts"],(function(e){"use strict";var t,n,i,r,o,s,a,c,h,u,l,_,f,C,p,g,d,m,v;return{setters:[function(e){t=e.inheritsLoose,n=e.createClass,i=e.asyncToGenerator,r=e.regeneratorRuntime},function(e){o=e.cclegacy,s=e._decorator,a=e.input,c=e.Input,h=e.KeyCode,u=e.macro},function(e){l=e.UIPackage},function(e){_=e.EventDispatcher},function(e){f=e.EventName},function(e){C=e.SoundHelper},function(e){p=e.UIBaseController},function(e){g=e.NetHelper},function(e){d=e.UIFloatTextController},function(e){m=e.TableHelper},function(e){v=e.EChargeType}],execute:function(){var E,I;o._RF.push({},"1c9fcgGI8lKvamvs6U8I8hb","ui.charge.controller",void 0);var y=s.ccclass;e("UIChargeController",y("UIChargeController")(((I=function(e){function o(){for(var t,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))||this).mFguiPkgName="TopUpFirst",t.mFguiMainViewName="Main",t._view=null,t.mChargeVersion=0,t.mChargeData=null,t}t(o,e);var s=o.prototype;return s._addEvents=function(){e.prototype._addEvents.call(this),a.on(c.EventType.KEY_DOWN,this._onKeyDown,this),_.on(f.CHARGE_GET_LIST,this._onGetChargeList,this),_.on(f.CHARGE_PURCHASE_GET_ORDER,this._onChargeGetOrder,this),_.on(f.CHARGE_PURCHASE_FINISH,this._onChargeFinish,this)},s._removeEvents=function(){e.prototype._removeEvents.call(this),a.off(c.EventType.KEY_DOWN,this._onKeyDown,this),_.off(f.CHARGE_GET_LIST,this._onGetChargeList,this),_.off(f.CHARGE_PURCHASE_GET_ORDER,this._onChargeGetOrder,this),_.off(f.CHARGE_PURCHASE_FINISH,this._onChargeFinish,this)},s._onKeyDown=function(e){switch(e.keyCode){case h.ESCAPE:this._onCloseClick()}},s._onGetChargeList=function(e){if(null!=this._view){this.mChargeVersion=e.purchaseVer;for(var t=0;t<e.info.length;t++){var n=m.getPurchase(e.info[t].id);if(n&&n.type===v.FirstCharge){this.mChargeData=e.info[t];break}}this._refreshChargeView()}},s._onChargeGetOrder=function(e){if(null!=this._view)switch(e.result){case 1:d.AddTipI18nID_Success("u.2547");break;case 2:d.AddTipI18nID_Failed("u.2548"),g.getPurchaseProductList();break;default:console.log("errorcode: ",e.result),d.AddTipI18nID_Failed("u.2549")}},s._onChargeFinish=function(){null!=this._view&&(d.AddTipI18nID_Success("u.2550"),_.emit(f.UI_CHARGE_CLOSE))},s.onLoad=function(){o._instance=this,this._startLoadPkg(this.mFguiPkgName)},s.onDestroy=function(){e.prototype.onDestroy.call(this),o._instance=null},s.closeUI=function(){e.prototype.closeUI.call(this)},s.update=function(){this._view},s._onLoadUIFinish=function(){e.prototype._onLoadUIFinish.call(this),this._view=l.createObject(this.mFguiPkgName,this.mFguiMainViewName).asCom,this._addUIToRoot(this._view),this._view.makeFullScreen(),this._view.closeBtn.onClick(this._onCloseClick,this),this._view.chargeBtn.onClick(this._onChargeClick,this),this._initData()},s._initData=function(){var e=i(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._requestData(),this.schedule((function(){g.getPurchaseProductList()}),500,u.REPEAT_FOREVER,500);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),s._requestData=function(){g.getPurchaseProductList()},s._onCloseClick=function(){var e=i(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:C.PlaySound_UICommonClose(),_.emit(f.UI_CHARGE_CLOSE);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),s._onChargeClick=function(){var e=i(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(C.PlaySound_UICommonClick(),!(this.mChargeVersion<=0)){e.next=3;break}return e.abrupt("return");case 3:_.emit(f.UI_DETAILS_SHOW_CHARGE,this.mChargeData,this.mChargeVersion);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),s._refreshChargeView=function(){this._view.chargeBtn.text="$"+this.mChargeData.usd_price},n(o,null,[{key:"instance",get:function(){return this._instance}}]),o}(p)).CTRL_NAME="UIChargeController",I._instance=null,E=I))||E);o._RF.pop()}}}));

System.register("chunks:///_virtual/ui.charge.list.item.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./table.helper.ts","./resource.path.tool.ts"],(function(t){"use strict";var e,i,o,n,r,u;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy,o=t._decorator},function(t){n=t.GButton},function(t){r=t.TableHelper},function(t){u=t.ResourcePathTool}],execute:function(){var s,c;i._RF.push({},"b5b87m6hUNPo7zKDV7MkvA9","ui.charge.list.item.view",void 0);var a=o.ccclass;t("default",a("UIChargeListItemView")(((c=function(t){function i(){var e;return(e=t.call(this)||this).btnCtrl=void 0,e.itemIcon=void 0,e.itemCount=void 0,e}e(i,t);var o=i.prototype;return o.onConstruct=function(){this.btnCtrl=this.getController("button"),this.itemIcon=this.getChild("ui_ItemIcon"),this.itemCount=this.getChild("ui_Amount")},o.setChargeItemData=function(t,e){var i=r.getItemRecord(t);i&&(this.itemIcon.url=u.getUIFarmItemPath(i.itemIcon),this.itemCount.text="x"+e)},i}(n)).URL="ui://TopUpFirst/topupfirst_item",s=c))||s);i._RF.pop()}}}));

System.register("chunks:///_virtual/ui.charge.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(i){"use strict";var t,n,e,s;return{setters:[function(i){t=i.inheritsLoose},function(i){n=i.cclegacy,e=i._decorator},function(i){s=i.GComponent}],execute:function(){var o,r;n._RF.push({},"d6058t43c1LnLVkL1S62ZJC","ui.charge.view",void 0);var c=e.ccclass;i("default",c("UIChargeView")(((r=function(i){function n(){var t;return(t=i.call(this)||this).wind=void 0,t.bgMask=void 0,t.closeBtn=void 0,t.chargeBtn=void 0,t}return t(n,i),n.prototype.onConstruct=function(){this.bgMask=this.getChild("BgMask"),this.wind=this.getChild("ui_TopUpFirstWind"),this.closeBtn=this.getChild("ui_WindClose"),this.chargeBtn=this.wind.getChild("ui_BtnTopUpBuy")},n}(s)).URL="ui://TopUpFirst/Main",o=r))||o);n._RF.pop()}}}));

System.register("chunks:///_virtual/ui.combination.controller.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./event.dispatcher.ts","./event.name.ts","./table.helper.ts","./model.farm.manager.ts","./sound.helper.ts","./ui.base.controller.ts"],(function(t){"use strict";var n,i,o,e,a,s,r,c,l,u,m,h,_,C,f,p,v;return{setters:[function(t){n=t.inheritsLoose,i=t.createClass,o=t.asyncToGenerator,e=t.regeneratorRuntime},function(t){a=t.cclegacy,s=t._decorator,r=t.input,c=t.Input,l=t.KeyCode},function(t){u=t.UIPackage,m=t.Event},function(t){h=t.EventDispatcher},function(t){_=t.EventName},function(t){C=t.TableHelper},function(t){f=t.ModelFarmManager},function(t){p=t.SoundHelper},function(t){v=t.UIBaseController}],execute:function(){var d,b;a._RF.push({},"c3a0ddvX+pPN5zi5KMioOTT","ui.combination.controller",void 0);var I=s.ccclass;t("UICombinationController",I("UICombinationController")(((b=function(t){function a(){for(var n,i=arguments.length,o=new Array(i),e=0;e<i;e++)o[e]=arguments[e];return(n=t.call.apply(t,[this].concat(o))||this).mFguiPkgName="WizardingWorkshop",n.mFguiMainViewName="Main",n._view=null,n.mCombinationData=[],n}n(a,t);var s=a.prototype;return s._addEvents=function(){t.prototype._addEvents.call(this),r.on(c.EventType.KEY_DOWN,this._onKeyDown,this)},s._removeEvents=function(){t.prototype._removeEvents.call(this),r.off(c.EventType.KEY_DOWN,this._onKeyDown,this)},s._onKeyDown=function(t){switch(t.keyCode){case l.ESCAPE:this._onCloseClick()}},s.onLoad=function(){a._instance=this,this._startLoadPkg(this.mFguiPkgName)},s.onDestroy=function(){t.prototype.onDestroy.call(this),a._instance=null},s.closeUI=function(){t.prototype.closeUI.call(this)},s.update=function(){this._view},s._onLoadUIFinish=function(){t.prototype._onLoadUIFinish.call(this),this._view=u.createObject(this.mFguiPkgName,this.mFguiMainViewName).asCom,this._addUIToRoot(this._view),this._view.makeFullScreen(),this._view.closeBtn.onClick(this._onCloseClick,this),this._view.combinationList.itemRenderer=this.renderCombinationListItem.bind(this),this._view.combinationList.on(m.CLICK_ITEM,this._onCombinationListItemClick,this),this._refreshCombinationView()},s._onCloseClick=function(){var t=o(e().mark((function t(){return e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:p.PlaySound_UICommonClose(),h.emit(_.UI_COMBINATION_CLOSE);case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),s._refreshCombinationView=function(){var t=o(e().mark((function t(n){var i;return e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:void 0===n&&(n=!0),this._loadCombinationData(),i=this.mCombinationData.length,this._view.combinationList.numItems=i,i>0&&n&&this._view.combinationList.scrollToView(0);case 5:case"end":return t.stop()}}),t,this)})));return function(n){return t.apply(this,arguments)}}(),s._loadCombinationData=function(){this.mCombinationData=[];var t=f.instance.FarmLevel,n=C.getFarmLevelRecord(t);if(n&&""!==n.combinationList)for(var i=n.combinationList.split("-"),o=0;o<i.length;o++)this.mCombinationData.push(Number(i[o]))},s._onCombinationListItemClick=function(t){p.PlaySound_UICommonClick(),h.emit(_.UI_COMBINATION_DETAIL_OPEN,t.getCurItemData())},s.renderCombinationListItem=function(t,n){t>=this.mCombinationData.length||n.setCombinationItemData(this.mCombinationData[t])},i(a,null,[{key:"instance",get:function(){return this._instance}}]),a}(v)).CTRL_NAME="UICombinationController",b._instance=null,d=b))||d);a._RF.pop()}}}));

System.register("chunks:///_virtual/ui.combination.detail.controller.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./event.dispatcher.ts","./event.name.ts","./enum.farm.coin.res.ts","./table.helper.ts","./net.helper.ts","./sound.helper.ts","./logic.tool.ts","./resource.path.tool.ts","./ui.base.controller.ts","./model.item.manager.ts","./ui.float.text.controller.ts"],(function(e){"use strict";var t,i,n,o,s,a,r,h,u,c,l,m,_,C,f,d,E,I,R;return{setters:[function(e){t=e.inheritsLoose,i=e.createClass},function(e){n=e.cclegacy,o=e._decorator,s=e.input,a=e.Input,r=e.KeyCode},function(e){h=e.UIPackage},function(e){u=e.EventDispatcher},function(e){c=e.EventName},function(e){l=e.EFarmCoinRes},function(e){m=e.TableHelper},function(e){_=e.NetHelper},function(e){C=e.SoundHelper},function(e){f=e.LogicTool},function(e){d=e.ResourcePathTool},function(e){E=e.UIBaseController},function(e){I=e.ModelItemManager},function(e){R=e.UIFloatTextController}],execute:function(){var g,v;n._RF.push({},"1ac0dWTiXBMyZAI7RhqQrm+","ui.combination.detail.controller",void 0);var D=o.ccclass;e("UICombinationDetailController",D("UICombinationDetailController")(((v=function(e){function n(){for(var t,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))||this).mFguiPkgName="WizardingWorkshop",t.mFguiMainViewName="Main_Extraction",t._view=null,t.mCombinationID=0,t.mResRequireView=null,t.mItemRequireView=null,t}t(n,e);var o=n.prototype;return o._addEvents=function(){e.prototype._addEvents.call(this),s.on(a.EventType.KEY_DOWN,this._onKeyDown,this),u.on(c.ITEM_ADD,this._onPackageAddDataChanged,this),u.on(c.ITEM_REMOVE,this._onPackageRemoveDataChanged,this),u.on(c.ITEM_CHANGE,this._onPackageNumDataChanged,this),u.on(c.PLAYERSELF_MONEY_GOLD_CHANGED,this._onGoldCoinChanged,this),u.on(c.PLAYERSELF_MONEY_SILVER_CHANGED,this._onSilverCoinChanged,this),u.on(c.PLAYERSELF_MONEY_WIZZ_CHANGED,this._onWizzCoinChanged,this),u.on(c.FARM_RESOURCE_CHANGE,this._onFarmResChanged,this)},o._removeEvents=function(){e.prototype._removeEvents.call(this),s.off(a.EventType.KEY_DOWN,this._onKeyDown,this),u.off(c.ITEM_ADD,this._onPackageAddDataChanged,this),u.off(c.ITEM_REMOVE,this._onPackageRemoveDataChanged,this),u.off(c.ITEM_CHANGE,this._onPackageNumDataChanged,this),u.off(c.PLAYERSELF_MONEY_GOLD_CHANGED,this._onGoldCoinChanged,this),u.off(c.PLAYERSELF_MONEY_SILVER_CHANGED,this._onSilverCoinChanged,this),u.off(c.PLAYERSELF_MONEY_WIZZ_CHANGED,this._onWizzCoinChanged,this),u.off(c.FARM_RESOURCE_CHANGE,this._onFarmResChanged,this)},o._onKeyDown=function(e){switch(e.keyCode){case r.ESCAPE:this._onCloseClick()}},o._onPackageAddDataChanged=function(e){if(null!=this._view){var t=I.instance.GetItemByRealId(e);t&&this.mItemRequireView.refreshAmount(t.tableId)}},o._onPackageRemoveDataChanged=function(e,t){null!=this._view&&this.mItemRequireView.refreshAmount(t)},o._onPackageNumDataChanged=function(e){if(null!=this._view){var t=I.instance.GetItemByRealId(e);t&&this.mItemRequireView.refreshAmount(t.tableId)}},o._onGoldCoinChanged=function(){this._view&&this.mItemRequireView.refreshAmount(11)},o._onSilverCoinChanged=function(){this._view&&this.mItemRequireView.refreshAmount(10)},o._onWizzCoinChanged=function(){this._view&&this.mItemRequireView.refreshAmount(12)},o._onFarmResChanged=function(e){this._view&&e&&this.mResRequireView.refreshAmount(e)},o.setData=function(e){this.mCombinationID=e},o.onLoad=function(){n._instance=this,this._startLoadPkg(this.mFguiPkgName)},o.onDestroy=function(){e.prototype.onDestroy.call(this),n._instance=null},o.closeUI=function(){e.prototype.closeUI.call(this)},o.update=function(){this._view},o._onLoadUIFinish=function(){e.prototype._onLoadUIFinish.call(this),this._view=h.createObject(this.mFguiPkgName,this.mFguiMainViewName).asCom,this._addUIToRoot(this._view),this._view.makeFullScreen(),this._view.closeBtn.onClick(this._onCloseClick,this),this._view.extractBtn.onClick(this._onExtractClick,this),this._initData()},o._onCloseClick=function(){C.PlaySound_UICommonClose(),u.emit(c.UI_COMBINATION_DETAIL_CLOSE)},o._onExtractClick=function(){C.PlaySound_UICommonClick(),this.mResRequireView.isResEnough&&this.mItemRequireView.isResEnough?_.combinationObject(this.mCombinationID):R.AddTipI18nID_Info("u.2534")},o._initData=function(){var e=m.getCombinationRecord(this.mCombinationID);if(e){var t=e.itemGet.split("-")[0],i=m.getItemRecord(Number(t));i&&(this._view.itemIcon.url=d.getUIFarmItemPath(i.itemIcon),this._view.itemName.text=i.itemName,this._view.itemLevel.text=f.i18nFormat(m.getI18nUIText("u.15207"),[" <Lv."+i.itemParam1]),this._view.itemDesc.text=i.itemDesc,this._refreshRequireItemList(e.resCost,e.itemCost))}},o._refreshRequireItemList=function(e,t){if(this._view.requireList.removeChildrenToPool(),""!==e){var i=e.split("-"),n=Number(i[0]),o=Number(i[1]),s=0;1===n&&(s=l.Res_Mushroom),2===n&&(s=l.Res_ManaGel),3===n&&(s=l.Res_Ethereal),0!==s&&(this.mResRequireView=this._view.requireList.addItem(),this.mResRequireView.setData(s,o))}if(""!==t){var a=t.split("-"),r=Number(a[0]),h=Number(a[1]);0!==r&&(this.mItemRequireView=this._view.requireList.addItem(),this.mItemRequireView.setData(r,h))}},i(n,null,[{key:"instance",get:function(){return this._instance}}]),n}(E)).CTRL_NAME="UICombinationDetailController",v._instance=null,g=v))||g);n._RF.pop()}}}));

System.register("chunks:///_virtual/ui.combination.detail.item.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./table.helper.ts","./model.farm.manager.ts","./model.item.manager.ts","./model.mainrole.manager.ts","./logic.tool.ts","./resource.path.tool.ts"],(function(t){"use strict";var e,i,n,o,s,r,m,u,l;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy},function(t){n=t.GButton},function(t){o=t.TableHelper},function(t){s=t.ModelFarmManager},function(t){r=t.ModelItemManager},function(t){m=t.ModelMainRoleManager},function(t){u=t.LogicTool},function(t){l=t.ResourcePathTool}],execute:function(){i._RF.push({},"b8852peDltPI6b/bx8KkHXU","ui.combination.detail.item.view",void 0),t("default",function(t){function i(){for(var e,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))||this).buttonCtrl=void 0,e.colorCtrl=void 0,e.itemIcon=void 0,e.itemNum=void 0,e.itemID=0,e.itemAmount=0,e.isResEnough=!1,e}e(i,t);var n=i.prototype;return n.onConstruct=function(){t.prototype.onConstruct.call(this),this.buttonCtrl=this.getController("button"),this.colorCtrl=this.getController("Color"),this.itemIcon=this.getChild("ui_Icon"),this.itemNum=this.getChild("ui_Amount")},n.refreshAmount=function(t){if(t&&this.itemID===t){var e=0;e=10===this.itemID?Number(m.instance.SilverCoin):11===this.itemID?Number(m.instance.GoldCoin):12===this.itemID?Number(m.instance.WizzCoin):13===this.itemID||14===this.itemID||15===this.itemID?s.instance.getResValueByType(this.itemID):r.instance.GetItemCountById(this.itemID),this.isResEnough=!0,e>=this.itemAmount?this.colorCtrl.selectedIndex=0:(this.colorCtrl.selectedIndex=1,this.isResEnough=!1)}},n.setData=function(t,e){this.itemID=t,this.itemAmount=e;var i=o.getItemRecord(this.itemID);this.itemIcon.url=l.getUIFarmItemPath(i.itemIcon);var n=0;this.isResEnough=!0,n=10===this.itemID?Number(m.instance.SilverCoin):11===this.itemID?Number(m.instance.GoldCoin):12===this.itemID?Number(m.instance.WizzCoin):13===this.itemID||14===this.itemID||15===this.itemID?s.instance.getResValueByType(this.itemID):r.instance.GetItemCountById(this.itemID),this.itemNum.text=""+u.NumberTransform(this.itemAmount),n>=this.itemAmount?this.colorCtrl.selectedIndex=0:(this.colorCtrl.selectedIndex=1,this.isResEnough=!1)},i}(n)).URL="ui://WizardingWorkshop/listbar_RequiresItem",i._RF.pop()}}}));

System.register("chunks:///_virtual/ui.combination.detail.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(i){"use strict";var t,e,o,n;return{setters:[function(i){t=i.inheritsLoose},function(i){e=i.cclegacy,o=i._decorator},function(i){n=i.GComponent}],execute:function(){var s,c;e._RF.push({},"30504Fcc1lPM6aTTMnkCIA+","ui.combination.detail.view",void 0);var a=o.ccclass;i("default",a("UICombinationDetailView")(((c=function(i){function e(){var t;return(t=i.call(this)||this).closeBtn=void 0,t.detailView=void 0,t.itemIcon=void 0,t.itemName=void 0,t.itemLevel=void 0,t.itemDesc=void 0,t.requireList=void 0,t.extractBtn=void 0,t}return t(e,i),e.prototype.onConstruct=function(){this.closeBtn=this.getChild("ui_WindClose"),this.detailView=this.getChild("ui_ExtractionView"),this.itemIcon=this.detailView.getChild("ui_ItemIcon"),this.itemName=this.detailView.getChild("ui_ItemName"),this.itemLevel=this.detailView.getChild("ui_ItemRequires"),this.itemDesc=this.detailView.getChild("ui_ItemDes"),this.requireList=this.detailView.getChild("ui_List"),this.extractBtn=this.detailView.getChild("ui_BtnExtract")},e}(n)).URL="ui://WizardingWorkshop/Main_Extraction",s=c))||s);e._RF.pop()}}}));

System.register("chunks:///_virtual/ui.combination.item.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./table.helper.ts","./resource.path.tool.ts"],(function(t){"use strict";var e,i,o,a,n,r;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy,o=t._decorator},function(t){a=t.GButton},function(t){n=t.TableHelper},function(t){r=t.ResourcePathTool}],execute:function(){var s,u;i._RF.push({},"1a9abqtCgVCW5cOtDMLIQHx","ui.combination.item.view",void 0);var c=o.ccclass;t("default",c("UICombinationItemView")(((u=function(t){function i(){var e;return(e=t.call(this)||this).itemIcon=void 0,e.itemName=void 0,e.itemDesc=void 0,e.mCurShowData=0,e}e(i,t);var o=i.prototype;return o.onConstruct=function(){this.itemIcon=this.getChild("ui_ExtractionIcon"),this.itemName=this.getChild("ui_ExtractionName"),this.itemDesc=this.getChild("ui_ExtractionDesc")},o.onDestroy=function(){},o.getCurItemData=function(){return this.mCurShowData},o.setCombinationItemData=function(t){this.mCurShowData=t;var e=n.getCombinationRecord(this.mCurShowData);if(e){var i=e.itemGet.split("-")[0];n.getItemRecord(Number(i))&&(this.mCurShowData>=1111&&this.mCurShowData<=1141?(this.itemIcon.url=r.getUIFarmItemPath("ExtractIcon_Mushroom"),this.itemName.text=n.getI18nUIText("u.15201"),this.itemDesc.text=n.getI18nUIText("u.15202")):this.mCurShowData>=1211&&this.mCurShowData<=1241?(this.itemIcon.url=r.getUIFarmItemPath("ExtractIcon_ManaGel"),this.itemName.text=n.getI18nUIText("u.15203"),this.itemDesc.text=n.getI18nUIText("u.15204")):this.mCurShowData>=1311&&this.mCurShowData<=1341&&(this.itemIcon.url=r.getUIFarmItemPath("ExtractIcon_Ethereal"),this.itemName.text=n.getI18nUIText("u.15205"),this.itemDesc.text=n.getI18nUIText("u.15206")))}},i}(a)).URL="ui://WizardingWorkshop/listbar_Extraction",s=u))||s);i._RF.pop()}}}));

System.register("chunks:///_virtual/ui.combination.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(i){"use strict";var t,n,o,e;return{setters:[function(i){t=i.inheritsLoose},function(i){n=i.cclegacy,o=i._decorator},function(i){e=i.GComponent}],execute:function(){var s,c;n._RF.push({},"3ce1dCp8JVD+6ahNznbTr5M","ui.combination.view",void 0);var r=o.ccclass;i("default",r("UICombinationView")(((c=function(i){function n(){var t;return(t=i.call(this)||this).closeBtn=void 0,t.combinationList=void 0,t}return t(n,i),n.prototype.onConstruct=function(){this.closeBtn=this.getChild("ui_WindClose"),this.combinationList=this.getChild("ui_List")},n}(e)).URL="ui://WizardingWorkshop/Main",s=c))||s);n._RF.pop()}}}));

System.register("chunks:///_virtual/ui.common.cost.btn.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(i){"use strict";var s,e,t,h;return{setters:[function(i){s=i.inheritsLoose},function(i){e=i.cclegacy,t=i._decorator},function(i){h=i.GButton}],execute:function(){var n,r;e._RF.push({},"94028Wp335OQbbsfQ0r74V2","ui.common.cost.btn.view",void 0);var o=t.ccclass;i("default",o("UICommonCostBtnView")(((r=function(i){function e(){var s;return(s=i.call(this)||this).isDisableCtrl=void 0,s.res1View=void 0,s.res2View=void 0,s.res3View=void 0,s.mIsEnough=!1,s}s(e,i);var t=e.prototype;return t.onConstruct=function(){this.isDisableCtrl=this.getController("IsDisabled"),this.res1View=this.getChild("ui_Res1"),this.res2View=this.getChild("ui_Res2"),this.res3View=this.getChild("ui_Res3")},t.setBtnChainData=function(i,s,e){this.res1View.visible=!0,this.res2View.visible=!1,this.res3View.visible=!1,this.mIsEnough=e,this.res1View.setChainData(i,s,this.mIsEnough),this.touchable=this.mIsEnough,this.isDisableCtrl.selectedIndex=this.mIsEnough?0:1},t.setBtnData=function(i,s,e){var t=!0;if(i&&2===i.length){var h=i[0],n=i[1];this.res1View.visible=!0,this.res1View.setData(h,n),t=this.res1View.IsEnough()}else this.res1View.visible=!1;var r=!0;if(s&&2===s.length){var o=s[0],u=s[1];this.res2View.visible=!0,this.res2View.setData(o,u),r=this.res2View.IsEnough()}else this.res2View.visible=!1;var l=!0;if(e&&2===e.length){var a=e[0],c=e[1];this.res3View.visible=!0,this.res3View.setData(a,c),l=this.res3View.IsEnough()}else this.res3View.visible=!1;this.mIsEnough=t&&r&&l,this.touchable=this.mIsEnough,this.isDisableCtrl.selectedIndex=this.mIsEnough?0:1},t.IsEnough=function(){return this.mIsEnough},e}(h)).URL="ui://Common/btn_buy",n=r))||n);e._RF.pop()}}}));

System.register("chunks:///_virtual/ui.common.cost.btn2.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(i){"use strict";var s,e,t,n;return{setters:[function(i){s=i.inheritsLoose},function(i){e=i.cclegacy,t=i._decorator},function(i){n=i.GButton}],execute:function(){var r,o;e._RF.push({},"1afa8Oy8pNFQaqm2Zna4niX","ui.common.cost.btn2.view",void 0);var h=t.ccclass;i("default",h("UICommonCostBtn2View")(((o=function(i){function e(){var s;return(s=i.call(this)||this).isDisableCtrl=void 0,s.res1View=void 0,s.res2View=void 0,s.res3View=void 0,s.mIsEnough=!1,s}s(e,i);var t=e.prototype;return t.onConstruct=function(){this.isDisableCtrl=this.getController("IsDisabled"),this.res1View=this.getChild("ui_Res1"),this.res2View=this.getChild("ui_Res2"),this.res3View=this.getChild("ui_Res3")},t.setBtnData=function(i,s,e){var t=!0;if(i&&2===i.length){var n=i[0],r=i[1];this.res1View.visible=!0,this.res1View.setData(n,r),t=this.res1View.IsEnough()}else this.res1View.visible=!1;var o=!0;if(s&&2===s.length){var h=s[0],u=s[1];this.res2View.visible=!0,this.res2View.setData(h,u),o=this.res2View.IsEnough()}else this.res2View.visible=!1;var l=!0;if(e&&2===e.length){var a=e[0],c=e[1];this.res3View.visible=!0,this.res3View.setData(a,c),l=this.res3View.IsEnough()}else this.res3View.visible=!1;this.mIsEnough=t&&o&&l,this.touchable=this.mIsEnough,this.isDisableCtrl.selectedIndex=this.mIsEnough?0:1},t.IsEnough=function(){return this.mIsEnough},e}(n)).URL="ui://Common/btn_buy2",r=o))||r);e._RF.pop()}}}));

System.register("chunks:///_virtual/ui.common.cost.item.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./enum.farm.coin.res.ts","./table.helper.ts","./model.farm.manager.ts","./model.mainrole.manager.ts","./resource.path.tool.ts"],(function(t){"use strict";var e,s,o,i,n,r,u,m,a,c;return{setters:[function(t){e=t.inheritsLoose},function(t){s=t.cclegacy,o=t._decorator,i=t.Color},function(t){n=t.GButton},function(t){r=t.EFarmCoinRes},function(t){u=t.TableHelper},function(t){m=t.ModelFarmManager},function(t){a=t.ModelMainRoleManager},function(t){c=t.ResourcePathTool}],execute:function(){var h,l;s._RF.push({},"c4368laqqhMPYQGUsa7DBCw","ui.common.cost.item.view",void 0);var I=o.ccclass;t("default",I("UICommonCostItemView")(((l=function(t){function s(){var e;return(e=t.call(this)||this).costIcon=void 0,e.costValue=void 0,e.mCurItemID=0,e.mCurItemNum=0,e.mIsEnough=!1,e}e(s,t);var o=s.prototype;return o.onConstruct=function(){this.costIcon=this.getChild("icon"),this.costValue=this.getChild("title")},o.setChainData=function(t,e,s){this.costIcon.url=c.getUIFarmItemPath(t),this.costValue.text=e.toString(),this.setRed(!s)},o.setData=function(t,e){this.mCurItemID=t,this.mCurItemNum=e;var s=u.getItemRecord(t);s&&(this.costIcon.url=c.getUIFarmItemPath(s.itemIcon)),this.costValue.text=e.toString(),this.refreshData()},o.refreshData=function(){if(this.mIsEnough=!1,this.mCurItemID===r.Token_Silver)this.mIsEnough=this.mCurItemNum<=Number.parseFloat(a.instance.SilverCoin);else if(this.mCurItemID===r.Token_Gold)this.mIsEnough=this.mCurItemNum<=Number.parseFloat(a.instance.GoldCoin);else if(this.mCurItemID===r.Token_Wizz)this.mIsEnough=this.mCurItemNum<=Number.parseFloat(a.instance.WizzCoin);else switch(this.mCurItemID){case r.Res_Mushroom:case r.Res_ManaGel:case r.Res_Ethereal:this.mIsEnough=this.mCurItemNum<=m.instance.getResValueByType(this.mCurItemID)}this.setRed(!this.mIsEnough)},o.setRed=function(t){this.costValue.color=t?new i(246,23,23):new i(255,239,213)},o.IsEnough=function(){return this.mIsEnough},s}(n)).URL="ui://Common/costbar2",h=l))||h);s._RF.pop()}}}));

System.register("chunks:///_virtual/ui.common.item.title.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){"use strict";var i,e,o,n;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy,o=t._decorator},function(t){n=t.GButton}],execute:function(){var r,u;e._RF.push({},"e04e4yO6xNFwKjiyVLw/ZwC","ui.common.item.title.view",void 0);var c=o.ccclass;t("default",c("UICommonItemTitleView")(((u=function(t){function e(){var i;return(i=t.call(this)||this).btnCtrl=void 0,i.itemTitle=void 0,i}i(e,t);var o=e.prototype;return o.onConstruct=function(){this.btnCtrl=this.getController("button"),this.itemTitle=this.getChild("title")},o.setTitle=function(t){this.itemTitle.text=t},e}(n)).URL="ui://Common/cm_listbar_title",r=u))||r);e._RF.pop()}}}));

System.register("chunks:///_virtual/ui.common.item.title2.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){"use strict";var i,e,o,n;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy,o=t._decorator},function(t){n=t.GButton}],execute:function(){var r,l;e._RF.push({},"e7db4C9zTVKXJGcljUSylRU","ui.common.item.title2.view",void 0);var c=o.ccclass;t("default",c("UICommonItemTitle2View")(((l=function(t){function e(){var i;return(i=t.call(this)||this).btnCtrl=void 0,i.itemTitle=void 0,i}i(e,t);var o=e.prototype;return o.onConstruct=function(){this.btnCtrl=this.getController("button"),this.itemTitle=this.getChild("title")},o.setTitle=function(t){this.itemTitle.text=t},e}(n)).URL="ui://Common/cm_listbar_title2",r=l))||r);e._RF.pop()}}}));

System.register("chunks:///_virtual/ui.common.range.slider.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){"use strict";var h,i,s,e,a,n,u;return{setters:[function(t){h=t.inheritsLoose},function(t){i=t.cclegacy,s=t.Color,e=t.math,a=t.Vec2},function(t){n=t.Event,u=t.GComponent}],execute:function(){var o;t("ERangeSliderType",void 0),i._RF.push({},"62cbcTwUKxOqJDzMWCA1geW","ui.common.range.slider",void 0),function(t){t[t.Integer=0]="Integer",t[t.Float=1]="Float",t[t.Percent=2]="Percent"}(o||(o=t("ERangeSliderType",{})));t("default",function(t){function i(){for(var h,i=arguments.length,s=new Array(i),e=0;e<i;e++)s[e]=arguments[e];return(h=t.call.apply(t,[this].concat(s))||this)._min=0,h._max=0,h._showType=o.Integer,h._barStartX=0,h._barMaxWidth=0,h._barMaxWidthDelta=0,h._edgeDelta=3,h.canDrag=!0,h.tempUseVec2=new a,h.thumb1=void 0,h.thumb2=void 0,h.bar=void 0,h.barTouch=void 0,h}h(i,t);var u=i.prototype;return u.onConstruct=function(){this.thumb1=this.getChild("ui_Thumb01"),this.thumb2=this.getChild("ui_Thumb02"),this.bar=this.getChild("ui_SliderFg"),this.barTouch=this.getChild("ui_Touch"),this._barMaxWidth=this.bar.width,this._barMaxWidthDelta=this.width-this._barMaxWidth,this._barStartX=this.bar.x,this.thumb1&&(this.thumb1.on(n.TOUCH_BEGIN,this._onThumb1TouchBegin,this),this.thumb1.on(n.TOUCH_MOVE,this._onThumb1TouchMove,this),this.thumb1.getController("button").on(n.STATUS_CHANGED,this._onStatusChanged,this)),this.thumb1&&(this.thumb2.on(n.TOUCH_BEGIN,this._onThumb2TouchBegin,this),this.thumb2.on(n.TOUCH_MOVE,this._onThumb2TouchMove,this),this.thumb2.getController("button").on(n.STATUS_CHANGED,this._onStatusChanged,this)),this.barTouch.on(n.TOUCH_BEGIN,this._onBarTouchBegin,this)},u._onStatusChanged=function(t){},u.handleSizeChanged=function(){t.prototype.handleSizeChanged.call(this),this.bar&&(this._barMaxWidth=this.width-this._barMaxWidthDelta),this._underConstruct||this.update()},u.update=function(){},u.Init=function(t,h,i){this._min=t,this._max=h,this._showType=i},u.SetEnable=function(t){this.thumb1.enabled=t,this.thumb2.enabled=t,this.bar.color=t?new s(124,216,76):new s(153,153,153),this.SetMax()},u.SetMax=function(){this._setThumbByValue(this.thumb1,this._min),this._setThumbByValue(this.thumb2,this._max),this._calmBarWidth()},u.SetValue=function(t,h){this._setThumbByValue(this.thumb1,t),this._setThumbByValue(this.thumb2,h),this._calmBarWidth()},u.GetValue=function(){var t=Math.min(this.thumb1.data,this.thumb2.data),h=Math.max(this.thumb1.data,this.thumb2.data);return t===this._min&&h===this._max?[]:[t,h]},u._onThumb1TouchBegin=function(t){this.enabled&&this.thumb1.enabled&&(this.canDrag=!0,t.propagationStopped=!0,t.captureTouch())},u._onThumb1TouchMove=function(t){if(this.enabled&&this.thumb1.enabled&&this.canDrag){var h=this.barTouch.globalToLocal(t.pos.x,t.pos.y,this.tempUseVec2);this._setThumbPos(this.thumb1,h.x),this._calmBarWidth()}},u._onThumb2TouchBegin=function(t){this.enabled&&this.thumb2.enabled&&(this.canDrag=!0,t.propagationStopped=!0,t.captureTouch())},u._onThumb2TouchMove=function(t){if(this.enabled&&this.thumb2.enabled&&this.canDrag){var h=this.barTouch.globalToLocal(t.pos.x,t.pos.y,this.tempUseVec2);this._setThumbPos(this.thumb2,h.x),this._calmBarWidth()}},u._onBarTouchBegin=function(t){if(this.enabled&&(this.thumb1.enabled||this.thumb2.enabled)){var h=this.barTouch.globalToLocal(t.pos.x,t.pos.y,this.tempUseVec2);this._clampThumbPos(h)}},u._clampThumbPos=function(t){var h=Math.abs(t.x-this.thumb1.x);Math.abs(t.x-this.thumb2.x)<h?this._setThumbPos(this.thumb2,t.x):this._setThumbPos(this.thumb1,t.x),this._calmBarWidth()},u._setThumbPos=function(t,h){var i=h-.5*t.width+this._edgeDelta,s=e.clamp(i,this._edgeDelta,this.width-this._edgeDelta-t.width);t.x=s;var a=(this._max-this._min)*(i/this._barMaxWidth)+this._min;if(this._showType===o.Percent){var n=Math.round(a),u=e.clamp(n,this._min,this._max);t.data=u,this._setThumbBtnText(t,u)}else if(this._showType===o.Float){var m=Math.round(100*a)/100,b=e.clamp(m,this._min,this._max);t.data=b,this._setThumbBtnText(t,b)}else{var r=Math.round(a),c=e.clamp(r,this._min,this._max);t.data=c,this._setThumbBtnText(t,c)}},u._setThumbByValue=function(t,h){var i=e.clamp(h,this._min,this._max),s=(i-this._min)/(this._max-this._min)*this._barMaxWidth,a=e.clamp(s,this._edgeDelta,this.width-this._edgeDelta-t.width);t.x=a,t.data=i,this._setThumbBtnText(t,i)},u._calmBarWidth=function(){this.bar.width=Math.abs(this.thumb2.x-this.thumb1.x),this.bar.x=Math.min(this.thumb1.x,this.thumb2.x)+.5*this.thumb1.width},u._setThumbBtnText=function(t,h){this._showType===o.Percent?t.text=h.toString()+"%":this._showType===o.Float?t.text=h.toFixed(2):t.text=h.toString(),this._setThumbBtnTip(t,t.text)},u._setThumbBtnTip=function(t,h){var i=t.getChild("ui_Value");i&&(i.text=h)},i}(u));i._RF.pop()}}}));

System.register("chunks:///_virtual/ui.common.reward.item.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./table.helper.ts","./resource.path.tool.ts"],(function(t){"use strict";var e,r,o,i,n,u;return{setters:[function(t){e=t.inheritsLoose},function(t){r=t.cclegacy,o=t._decorator},function(t){i=t.GButton},function(t){n=t.TableHelper},function(t){u=t.ResourcePathTool}],execute:function(){var a,c;r._RF.push({},"25921YErrtJHKBalQlaKUwL","ui.common.reward.item.view",void 0);var s=o.ccclass;t("default",s("UICommonRewardItemView")(((c=function(t){function r(){var e;return(e=t.call(this)||this).rewardIcon=void 0,e.rewardNum=void 0,e}e(r,t);var o=r.prototype;return o.onConstruct=function(){this.rewardIcon=this.getChild("ui_AwardIcon"),this.rewardNum=this.getChild("ui_Amount")},o.setRewardData=function(t,e){var r=n.getItemRecord(t);r&&(this.rewardIcon.url=u.getUIFarmItemPath(r.itemIcon)),this.rewardNum.text="x"+e},r}(i)).URL="ui://Common/achievement_item",a=c))||a);r._RF.pop()}}}));

System.register("chunks:///_virtual/ui.common.score.anim.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(e){"use strict";var i,t,o,n;return{setters:[function(e){i=e.inheritsLoose},function(e){t=e.cclegacy,o=e.isValid},function(e){n=e.GComponent}],execute:function(){t._RF.push({},"57f9cLPmWNFxaUvrKWiYcn+","ui.common.score.anim.view",void 0),e("default",function(e){function t(){for(var i,t=arguments.length,o=new Array(t),n=0;n<t;n++)o[n]=arguments[n];return(i=e.call.apply(e,[this].concat(o))||this).scoreAnim=void 0,i.changeType=void 0,i.changeColor=void 0,i.changeValue=void 0,i.transScoreShow=void 0,i}i(t,e);var n=t.prototype;return n.onConstruct=function(){this.scoreAnim=this.getChild("UI_Ani_Score"),this.changeType=this.scoreAnim.getController("ScoreType"),this.changeColor=this.scoreAnim.getController("Color"),this.changeValue=this.scoreAnim.getChild("UI_Value"),this.transScoreShow=this.getTransition("UI_Ani_ScoreShow")},n.playAnim=function(e,i){var t=this;this.scoreAnim.visible||(this.scoreAnim.visible=!0),this.scoreAnim.alpha=0,this.scoreAnim.x=0,this.scoreAnim.y=0,this._realSetText(e,i),this.transScoreShow.play((function(){!t.isDisposed&&o(t.node,!0)&&(t.scoreAnim.visible=!1,t.dispose())}))},n._realSetText=function(e,i){i?(this.changeColor.selectedPage="Green",this.changeValue.text="+"+e):(this.changeColor.selectedPage="Red",this.changeValue.text="-"+e),this.scoreAnim.width=this.changeValue.width/2+43},t}(n)).URL="ui://Common/ani_score",t._RF.pop()}}}));

System.register("chunks:///_virtual/ui.copy.message.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./common.tool.ts"],(function(i){"use strict";var e,t,n,o,c;return{setters:[function(i){e=i.inheritsLoose},function(i){t=i.cclegacy},function(i){n=i.Event,o=i.GComponent},function(i){c=i.CommonTool}],execute:function(){t._RF.push({},"a960fbhLedI25sOhSllR4ZU","ui.copy.message.view",void 0);var s=i("default",function(i){function t(){for(var e,t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return(e=i.call.apply(i,[this].concat(n))||this).copyMsg="",e.onCopyFinished=null,e.startClick=!1,e.clickTime=0,e.startClickTime=0,e.endClickTime=0,e}e(t,i);var o=t.prototype;return o.onConstruct=function(){var i=this;this.node.on(n.TOUCH_BEGIN,(function(){i.startClick=!0,i.startClickTime=(new Date).getTime()}),this),this.node.on(n.TOUCH_END,(function(){i.startClick=!1,i.endClickTime=(new Date).getTime(),i.endClickTime-i.startClickTime>t.longSubTime||i.endClickTime-i.startClickTime<t.doubleSubTime&&(i.clickTime++,setTimeout((function(){1===i.clickTime||2===i.clickTime&&i._copyMsg(),i.clickTime=0}),t.doubleSubTime))}),this)},o._copyMsg=function(){var i=this;null!=this.copyMsg&&""!==this.copyMsg&&c.copyTextNew(this.copyMsg).then((function(){null!=i.onCopyFinished&&i.onCopyFinished()}))},t}(o));s.doubleSubTime=200,s.longSubTime=600,t._RF.pop()}}}));

System.register("chunks:///_virtual/ui.dapp.controller.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./event.dispatcher.ts","./event.name.ts","./sound.helper.ts","./ui.float.text.controller.ts","./ui.base.controller.ts"],(function(n){"use strict";var t,e,o,i,r,a,s,c,p,u,l,h,_,f,v;return{setters:[function(n){t=n.inheritsLoose,e=n.createClass,o=n.asyncToGenerator,i=n.regeneratorRuntime},function(n){r=n.cclegacy,a=n._decorator,s=n.input,c=n.Input,p=n.KeyCode},function(n){u=n.UIPackage},function(n){l=n.EventDispatcher},function(n){h=n.EventName},function(n){_=n.SoundHelper},function(n){f=n.UIFloatTextController},function(n){v=n.UIBaseController}],execute:function(){var C,k;r._RF.push({},"a2f42frEgpN2rveK4Wepxop","ui.dapp.controller",void 0);var m=a.ccclass;n("UIDappController",m("UIDappController")(((k=function(n){function r(){for(var t,e=arguments.length,o=new Array(e),i=0;i<e;i++)o[i]=arguments[i];return(t=n.call.apply(n,[this].concat(o))||this).mFguiPkgName="CryptoDiagonAlley",t.mFguiMainViewName="Main",t._view=null,t}t(r,n);var a=r.prototype;return a._addEvents=function(){n.prototype._addEvents.call(this),s.on(c.EventType.KEY_DOWN,this._onKeyDown,this)},a._removeEvents=function(){n.prototype._removeEvents.call(this),s.off(c.EventType.KEY_DOWN,this._onKeyDown,this)},a._onKeyDown=function(n){switch(n.keyCode){case p.ESCAPE:this._onCloseClick()}},a.onLoad=function(){r._instance=this,this._startLoadPkg(this.mFguiPkgName)},a.onDestroy=function(){n.prototype.onDestroy.call(this),r._instance=null},a.closeUI=function(){n.prototype.closeUI.call(this)},a.update=function(){this._view},a._onLoadUIFinish=function(){n.prototype._onLoadUIFinish.call(this),this._view=u.createObject(this.mFguiPkgName,this.mFguiMainViewName).asCom,this._addUIToRoot(this._view),this._view.makeFullScreen(),this._view.closeBtn.onClick(this._onCloseClick,this),this._view.dappMarketBtn.onClick(this._onDappMarketClick,this),this._view.dappShopBtn.onClick(this._onDappShopClick,this),this._view.dappDEXBtn.onClick(this._onDappDexClick,this),this._view.dappBankBtn.onClick(this._onDappClick,this),this._view.setDappMarketOpen(!0),this._view.setDappShopOpen(!0),this._view.setDappDEXOpen(!0),this._view.setDappBankOpen(!1)},a._onCloseClick=function(){var n=o(i().mark((function n(){return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:_.PlaySound_UICommonClose(),l.emit(h.UI_DAPP_CLOSE);case 2:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),a._onDappMarketClick=function(){var n=o(i().mark((function n(){return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:_.PlaySound_UICommonClick(),l.emit(h.UI_DAPP_MARKET_OPEN);case 2:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),a._onDappShopClick=function(){var n=o(i().mark((function n(){return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:_.PlaySound_UICommonClick(),l.emit(h.UI_DAPP_SHOP_OPEN);case 2:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),a._onDappDexClick=function(){var n=o(i().mark((function n(){return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:_.PlaySound_UICommonClick(),l.emit(h.UI_DAPP_DEX_OPEN);case 2:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),a._onDappClick=function(){var n=o(i().mark((function n(){return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:_.PlaySound_UICommonClick(),f.AddTipI18nID_Info("u.2501");case 2:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),e(r,null,[{key:"instance",get:function(){return this._instance}}]),r}(v)).CTRL_NAME="UIDappController",k._instance=null,C=k))||C);r._RF.pop()}}}));

System.register("chunks:///_virtual/ui.dapp.dex.controller.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./chain.system.ts","./event.dispatcher.ts","./event.name.ts","./sound.helper.ts","./ui.base.controller.ts","./bera.swap.mainnet.ts"],(function(e){"use strict";var t,i,n,s,o,a,r,l,c,h,u,_,p,w,d,f,v,m,C;return{setters:[function(e){t=e.inheritsLoose,i=e.createClass,n=e.asyncToGenerator,s=e.regeneratorRuntime},function(e){o=e.cclegacy,a=e._decorator,r=e.input,l=e.Input,c=e.KeyCode,h=e.isValid,u=e.error},function(e){_=e.UIPackage,p=e.Event},function(e){w=e.ChainSystem},function(e){d=e.EventDispatcher},function(e){f=e.EventName},function(e){v=e.SoundHelper},function(e){m=e.UIBaseController},function(e){C=e.BeraSwapMainnet}],execute:function(){var P,y;o._RF.push({},"1d3b0W2Ng9OV4+cM2l2Jj0c","ui.dapp.dex.controller",void 0);var k,D=a.ccclass;!function(e){e[e.Swap=0]="Swap",e[e.AllPool=1]="AllPool",e[e.MyPool=2]="MyPool"}(k||(k={}));e("UIDappDexController",D("UIDappDexController")(((y=function(e){function o(){for(var t,i=arguments.length,n=new Array(i),s=0;s<i;s++)n[s]=arguments[s];return(t=e.call.apply(e,[this].concat(n))||this).mFguiPkgName="WizardingDEX",t.mFguiMainViewName="Main",t._view=null,t._curTabType=k.Swap,t.mAllPoolData=[],t.mMyPoolData=[],t.mTokenSelectedIndex=0,t}t(o,e);var a=o.prototype;return a._addEvents=function(){e.prototype._addEvents.call(this),r.on(l.EventType.KEY_DOWN,this._onKeyDown,this),d.on(f.WIZARD_WALLET_COIN_DATA_CHANGED,this._onWalletCoinDataChanged,this),d.on(f.UI_DAPP_DEX_SWAPLIST_ITEM_SELECTED,this._onDexSwapListItemSelected,this)},a._removeEvents=function(){e.prototype._removeEvents.call(this),r.off(l.EventType.KEY_DOWN,this._onKeyDown,this),d.off(f.WIZARD_WALLET_COIN_DATA_CHANGED,this._onWalletCoinDataChanged,this),d.off(f.UI_DAPP_DEX_SWAPLIST_ITEM_SELECTED,this._onDexSwapListItemSelected,this)},a._onKeyDown=function(e){switch(e.keyCode){case c.ESCAPE:this._onCloseClick()}},a._onWalletCoinDataChanged=function(e){this._view&&e&&(e===this._view.swapView.inCoin.key?this._view.swapView.refreshInTokenBalance():e===this._view.swapView.outCoin.key&&this._view.swapView.refreshOutTokenBalance())},a._onDexSwapListItemSelected=function(e){this._view&&e&&(1===this.mTokenSelectedIndex?(this._view.swapView.resetTokenSlider(),this._view.swapView.setInTokenData(e)):2===this.mTokenSelectedIndex&&(this._view.swapView.resetTokenSlider(),this._view.swapView.setOutTokenData(e)),this.mTokenSelectedIndex=0)},a.setTab=function(e){this._curTabType=e||k.Swap,null!=this._view&&this.IsLoadFinish&&(this._view.tabCtrl.setSelectedIndex(this._curTabType),this._showData())},a.onLoad=function(){o._instance=this,this._startLoadPkg(this.mFguiPkgName)},a.onDestroy=function(){e.prototype.onDestroy.call(this),o._instance=null},a.update=function(){null!==this._view&&this._curTabType===k.Swap&&this._view.swapView&&this._view.swapView.update()},a._onLoadUIFinish=function(){e.prototype._onLoadUIFinish.call(this),this._view=_.createObject(this.mFguiPkgName,this.mFguiMainViewName).asCom,this._addUIToRoot(this._view),this._view.makeFullScreen(),this._view.tabCtrl.onChanged(this._onTabChanged,this),this._view.closeBtn.onClick(this._onCloseClick,this),this._view.settingsView.initData(),this._view.settingsView.closeBtn.onClick(this._closeSwapSettings,this),this._view.swapView.settingBtn.onClick(this._onSwapSettingsClick,this),this._view.swapView.inTokenSelectBtn.onClick(this._onToken1SelectedClick,this),this._view.swapView.outTokenSelectBtn.onClick(this._onToken2SelectedClick,this),this._view.allpoolList.itemRenderer=this.renderAllPoolListItem.bind(this),this._view.allpoolList.on(p.CLICK_ITEM,this._onAllPoolListItemClick,this),this._view.mypoolList.itemRenderer=this.renderMyPoolListItem.bind(this),this._view.mypoolList.on(p.CLICK_ITEM,this._onMyPoolListItemClick,this),this._view.tabCtrl.setSelectedIndex(this._curTabType),this._showData()},a._onCloseClick=function(){var e=n(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:v.PlaySound_UICommonClose(),d.emit(f.UI_DAPP_DEX_CLOSE);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),a._onTabChanged=function(){0===this._view.tabCtrl.selectedIndex?this._curTabType=k.Swap:1===this._view.tabCtrl.selectedIndex?this._curTabType=k.AllPool:2===this._view.tabCtrl.selectedIndex&&(this._curTabType=k.MyPool),this._showData(),v.PlaySound_UICommonClick()},a._showData=function(){switch(this._curTabType){case k.Swap:this._refreshSwapView();break;case k.AllPool:this._refreshAllPoolView();break;case k.MyPool:this._refreshMyPoolView()}},a._refreshSwapView=function(){this._view.isNoneCtrl.selectedIndex=0,this._refreshSlippage();var e=w.instance.beraDexTokenList.tokens;this._view.swapView.initDataShow(e[0],e[1])},a._onToken1SelectedClick=function(){var e=n(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._view&&this._view.swapView.isCanChange&&(v.PlaySound_UICommonClick(),this.mTokenSelectedIndex=1,d.emit(f.UI_DAPP_DEX_SWAPLIST_OPEN,this._view.swapView.inTokenConfig.symbol,this._view.swapView.outTokenConfig.symbol));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),a._onToken2SelectedClick=function(){var e=n(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._view&&this._view.swapView.isCanChange&&(v.PlaySound_UICommonClick(),this.mTokenSelectedIndex=2,d.emit(f.UI_DAPP_DEX_SWAPLIST_OPEN,this._view.swapView.inTokenConfig.symbol,this._view.swapView.outTokenConfig.symbol));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),a._onSwapSettingsClick=function(){v.PlaySound_UICommonClick(),this._view.settingsWnd.visible=!0},a._closeSwapSettings=function(){this._view.settingsWnd.visible=!1,this._refreshSlippage()},a._refreshSlippage=function(){var e=this._view.settingsView.getSlippageValue();this._view.swapView.setSlippage(e);var t=this._view.settingsView.getDeadlineValue();this._view.swapView.useDeadline=t},a._refreshAllPoolView=function(){var e=n(s().mark((function e(t){var i;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===t&&(t=!0),this._view.isNoneCtrl.selectedIndex=2,e.next=4,this._loadAllPoolData();case 4:if(h(this.node)){e.next=6;break}return e.abrupt("return");case 6:if(this._curTabType===k.AllPool){e.next=8;break}return e.abrupt("return");case 8:i=this.mAllPoolData.length,this._view.isNoneCtrl.selectedIndex=i<=0?1:0,this._view.allpoolList.numItems=i,i>0&&t&&this._view.allpoolList.scrollToView(0);case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),a._loadAllPoolData=function(){var e=n(s().mark((function e(){var t,i,n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,w.instance.isUseBeraMainnetSwap){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,C.instance.fetchAllPoolList();case 6:if(null!==(i=e.sent)){e.next=9;break}return e.abrupt("return");case 9:return e.next=11,C.instance.fetchMyPoolList();case 11:null!==(n=e.sent)&&n.length>0&&i.forEach((function(e){var t=n.find((function(t){return e.id===t.id}));t&&(e.userBalance=t.userBalance)})),this.mAllPoolData=[],(t=this.mAllPoolData).push.apply(t,i),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(0),u(e.t0);case 20:case"end":return e.stop()}}),e,this,[[0,17]])})));return function(){return e.apply(this,arguments)}}(),a._onAllPoolListItemClick=function(e){v.PlaySound_UICommonClick(),d.emit(f.UI_DAPP_DEX_POOL_DETAIL_OPEN,e.getPoolItemData())},a.renderAllPoolListItem=function(e,t){e>=this.mAllPoolData.length||t.setPoolItemData(this.mAllPoolData[e])},a._refreshMyPoolView=function(){var e=n(s().mark((function e(t){var i;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===t&&(t=!0),this._view.isNoneCtrl.selectedIndex=2,e.next=4,this._loadMyPoolData();case 4:if(h(this.node)){e.next=6;break}return e.abrupt("return");case 6:if(this._curTabType===k.MyPool){e.next=8;break}return e.abrupt("return");case 8:i=this.mMyPoolData.length,this._view.isNoneCtrl.selectedIndex=i<=0?1:0,this._view.mypoolList.numItems=i,i>0&&t&&this._view.mypoolList.scrollToView(0);case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),a._loadMyPoolData=function(){var e=n(s().mark((function e(){var t,i;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,w.instance.isUseBeraMainnetSwap){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,C.instance.fetchMyPoolList();case 6:if(null!==(i=e.sent)){e.next=9;break}return e.abrupt("return");case 9:this.mMyPoolData=[],(t=this.mMyPoolData).push.apply(t,i),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),u(e.t0);case 16:case"end":return e.stop()}}),e,this,[[0,13]])})));return function(){return e.apply(this,arguments)}}(),a._onMyPoolListItemClick=function(e){v.PlaySound_UICommonClick(),d.emit(f.UI_DAPP_DEX_POOL_DETAIL_OPEN,e.getPoolItemData())},a.renderMyPoolListItem=function(e,t){e>=this.mMyPoolData.length||t.setPoolItemData(this.mMyPoolData[e])},i(o,null,[{key:"instance",get:function(){return this._instance}}]),o}(m)).CTRL_NAME="UIDappDexController",y._instance=null,P=y))||P);o._RF.pop()}}}));

System.register("chunks:///_virtual/ui.dapp.dex.liquidity.add.controller.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./event.dispatcher.ts","./event.name.ts","./sound.helper.ts","./ui.base.controller.ts","./resource.manager.ts","./wizard.wallet.sdk.ts","./logic.tool.ts","./table.helper.ts","./chain.system.ts","./time.system.ts","./bera.swap.mainnet.ts","./use.ethers.ts","./chain.operate.dex.liquidity.add.ts","./chain.operate.interface.ts","./project.bera.mainnet.ts"],(function(e){"use strict";var t,i,n,a,o,s,r,l,h,u,c,k,m,d,_,p,v,C,g,f,w,T,S,b,D,x,V,B,I,N,y;return{setters:[function(e){t=e.inheritsLoose,i=e.createClass,n=e.asyncToGenerator,a=e.regeneratorRuntime},function(e){o=e.cclegacy,s=e._decorator,r=e.input,l=e.Input,h=e.KeyCode,u=e.math,c=e.Color,k=e.error,m=e.isValid},function(e){d=e.UIPackage,_=e.Event},function(e){p=e.EventDispatcher},function(e){v=e.EventName},function(e){C=e.SoundHelper},function(e){g=e.UIBaseController},function(e){f=e.ResourceManager},function(e){w=e.WizardWalletSDK,T=e.EWalletState},function(e){S=e.LogicTool},function(e){b=e.TableHelper},function(e){D=e.ChainSystem},function(e){x=e.TimeSystem},function(e){V=e.BeraSwapMainnet},function(e){B=e.formatEther},function(e){I=e.ChainOperateDexLiquidityAdd},function(e){N=e.ChainOperateStatus},function(e){y=e.getIconUrlByAddress}],execute:function(){var A,P;o._RF.push({},"45f304qZhlOvLzji2jAGuP3","ui.dapp.dex.liquidity.add.controller",void 0);var U=s.ccclass;e("UIDappDexLiquidityAddController",U("UIDappDexLiquidityAddController")(((P=function(e){function o(){for(var t,i=arguments.length,n=new Array(i),a=0;a<i;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).mFguiPkgName="WizardingDEX",t.mFguiMainViewName="Main_Liquidity_Deposit",t._view=null,t.mCurPoolData=null,t.mTokenConfig1=void 0,t.mTokenConfig2=void 0,t.mTokenCoinData1=void 0,t.mTokenCoinData2=void 0,t.token1ValueString="",t.token2ValueString="",t.keepBalanceUsedCoin=void 0,t.keepBalanceUsedCoinData=void 0,t.keepBalanceUsedAmount="",t.mPriceImpact=0,t.mSlippageValue=0,t.lastChangedTimePos=0,t.lastAutoRefreshTimePos=0,t.isCanChange=!0,t}t(o,e);var s=o.prototype;return s.setPoolData=function(e){this.mCurPoolData=e},s._addEvents=function(){e.prototype._addEvents.call(this),r.on(l.EventType.KEY_DOWN,this._onKeyDown,this),p.on(v.WIZARD_WALLET_COIN_DATA_CHANGED,this._onWalletCoinDataChanged,this)},s._removeEvents=function(){e.prototype._removeEvents.call(this),r.off(l.EventType.KEY_DOWN,this._onKeyDown,this),p.off(v.WIZARD_WALLET_COIN_DATA_CHANGED,this._onWalletCoinDataChanged,this)},s._onKeyDown=function(e){switch(e.keyCode){case h.ESCAPE:this._onCloseClick()}},s._onWalletCoinDataChanged=function(e){this._view&&e&&(e===this.mTokenCoinData1.key?this.refreshToken1Balance():e===this.mTokenCoinData2.key&&this.refreshToken2Balance())},s.onLoad=function(){o._instance=this,this._startLoadPkg(this.mFguiPkgName)},s.onDestroy=function(){e.prototype.onDestroy.call(this),o._instance=null},s.update=function(){if(null!=this._view){var e=x.xTimeGetTime();if(this.lastChangedTimePos<=0){if(this.lastAutoRefreshTimePos<=0)return;.001*(e-this.lastAutoRefreshTimePos)>15&&(this.lastAutoRefreshTimePos=x.xTimeGetTime(),this._view.keepBalancedBtn.selected?this._refreshForKeepBalance():this._refreshForNotKeepBalance())}else{.001*(e-this.lastChangedTimePos)>1&&(this.lastAutoRefreshTimePos=x.xTimeGetTime(),this.lastChangedTimePos=0,this._view.keepBalancedBtn.selected?this._refreshForKeepBalance():this._refreshForNotKeepBalance())}}},s._onLoadUIFinish=function(){e.prototype._onLoadUIFinish.call(this),this._view=d.createObject(this.mFguiPkgName,this.mFguiMainViewName).asCom,this._addUIToRoot(this._view),this._view.makeFullScreen(),this._view.closeBtn.onClick(this._onCloseClick,this),this._view.settingsView.initData(!1),this._view.settingsView.closeBtn.onClick(this._closeSwapSettings,this),this._view.settingBtn.onClick(this._onSwapSettingsClick,this),this._view.keepBalancedBtn.onClick(this._onKeepBalancedClick,this),this._view.depositBtn.onClick(this._onDepositClick,this),this._view.tokenInputValue1.on(_.TEXT_CHANGE,this._onToken1ValueTextChanged,this),this._view.tokenSlider1.on(_.STATUS_CHANGED,this._onToken1SliderCallBack,this),this._view.tokenInputValue2.on(_.TEXT_CHANGE,this._onToken2ValueTextChanged,this),this._view.tokenSlider2.on(_.STATUS_CHANGED,this._onToken2SliderCallBack,this),this._initData()},s._initData=function(){this._view.titleLabel.text=this.mCurPoolData.name,this.mTokenConfig1=this.mCurPoolData.tokens[0],this.mTokenConfig2=this.mCurPoolData.tokens[this.mCurPoolData.tokens.length-1],this.mTokenCoinData1=D.instance.getCoinByAddress(this.mTokenConfig1.address,!0),this.mTokenCoinData2=D.instance.getCoinByAddress(this.mTokenConfig2.address,!0);var e=y(this.mTokenConfig1.address),t=y(this.mTokenConfig2.address);this._loadTokenIcon(this._view.titleIcon1,e),this._loadTokenIcon(this._view.titleIcon2,t),this._loadTokenIcon(this._view.tokenIcon1,this.mTokenCoinData1.config.icon),this._loadTokenIcon(this._view.tokenIcon2,this.mTokenCoinData2.config.icon);var i="",n="";"WEIGHTED"===this.mCurPoolData.type&&(i=" "+100*Number.parseFloat(this.mTokenConfig1.weight)+"%",n=" "+100*Number.parseFloat(this.mTokenConfig2.weight)+"%"),this._view.tokenName1.text=this.mTokenCoinData1.config.symbol+i,this._view.tokenName2.text=this.mTokenCoinData2.config.symbol+n,this.refreshToken1Balance(),this.refreshToken2Balance(),this._view.tokenSlider1.value=0,this._onToken1SliderCallBack(),this._view.tokenSlider2.value=0,this._onToken2SliderCallBack(),this._view.keepBalancedBtn.selected=!0,this._view.priceImpactLabel.text="-",this._view.totalValueLabel.text="$0.00",this._refreshSlippage()},s.refreshToken1Balance=function(){if(w.walletState===T.Connected){var e=S.NumberOmit(this.mTokenCoinData1.balance.toString(),8,!0);this._view.tokenBalance1.text=S.i18nFormat(b.getI18nUIText("u.13418"),[e])}else this._view.tokenBalance1.text=S.i18nFormat(b.getI18nUIText("u.13418"),["-"])},s.refreshToken2Balance=function(){if(w.walletState===T.Connected){var e=S.NumberOmit(this.mTokenCoinData2.balance.toString(),8,!0);this._view.tokenBalance2.text=S.i18nFormat(b.getI18nUIText("u.13418"),[e])}else this._view.tokenBalance2.text=S.i18nFormat(b.getI18nUIText("u.13418"),["-"])},s._loadTokenIcon=function(){var e=n(a().mark((function e(t,i){var n,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i,e.prev=1,e.next=4,f.instance.loadChainIcon(n);case 4:if(o=e.sent,m(this.node)){e.next=7;break}return e.abrupt("return");case 7:if(n===i){e.next=9;break}return e.abrupt("return");case 9:t.texture=o,e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),k(e.t0);case 15:case"end":return e.stop()}}),e,this,[[1,12]])})));return function(t,i){return e.apply(this,arguments)}}(),s._onCloseClick=function(){var e=n(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:C.PlaySound_UICommonClose(),p.emit(v.UI_DAPP_DEX_LIQUIDITY_ADD_CLOSE);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),s._onToken1SliderCallBack=function(){var e=this._view.tokenSlider1.value,t=e+"%";this._view.tokenSliderBtn1.text=t;var i=this._view.tokenSliderBtn1.getChild("ui_Value");if(i&&(i.text=t),e>=100)this.token1ValueString=S.NumberOmit(this.mTokenCoinData1.balanceString,this.mTokenConfig1.decimals);else{var n=this.mTokenCoinData1.balance*e*.01;this.token1ValueString=S.NumberOmit(n.toString(),this.mTokenConfig1.decimals)}this._onInputTokenValue1Changed()},s._onToken1ValueTextChanged=function(){var e=Number.parseFloat(this._view.tokenInputValue1.text);if(isNaN(e)||e<0?(e=0,this.token1ValueString="0"):this.token1ValueString=S.NumberOmit(this._view.tokenInputValue1.text,this.mTokenConfig1.decimals),this.mTokenCoinData1.balance>0){var t=100*u.clamp01(e/this.mTokenCoinData1.balance);this._view.tokenSlider1.value=t;var i=t.toFixed(0)+"%";this._view.tokenSliderBtn1.text=i;var n=this._view.tokenSliderBtn1.getChild("ui_Value");n&&(n.text=i)}this._onInputTokenValue1Changed()},s._onInputTokenValue1Changed=function(){this._view.tokenInputValue1.text=this.token1ValueString;var e=Number(this.token1ValueString),t=Number(this.token2ValueString),i=this.mTokenCoinData1.price*e;this._view.tokenUsdValue1.text=S.NumberOmit(i.toString(),2,!0,"$"),(e>0||t>0)&&(this.isCanChange=!1,this.lastChangedTimePos=x.xTimeGetTime(),this._view.loadingAni.visible=!0,this._view.totalValueLabel.text="-",this._view.priceImpactLabel.text="-",this._view.keepBalancedBtn.enabled=!1,this._view.keepBalancedBtn.selected&&this._resetToken2Data()),this._refreshBtnState()},s._resetToken1Data=function(){this.token1ValueString=(0).toString(),this._view.tokenSlider1.value=0;this._view.tokenSliderBtn1.text="0%";var e=this._view.tokenSliderBtn1.getChild("ui_Value");e&&(e.text="0%"),this._view.tokenInputValue1.text=this.token1ValueString;var t=0*this.mTokenCoinData1.price;this._view.tokenUsdValue1.text=S.NumberOmit(t.toString(),2,!0,"$")},s._resetToken2Data=function(){this.token2ValueString=(0).toString(),this._view.tokenSlider2.value=0;this._view.tokenSliderBtn2.text="0%";var e=this._view.tokenSliderBtn2.getChild("ui_Value");e&&(e.text="0%"),this._view.tokenInputValue2.text=this.token2ValueString;var t=0*this.mTokenCoinData2.price;this._view.tokenUsdValue2.text=S.NumberOmit(t.toString(),2,!0,"$")},s._refreshBtnState=function(){var e=Number(this.token1ValueString),t=Number(this.token2ValueString);e>this.mTokenCoinData1.balance?this._view.tokenInputValue1.color=new c(255,86,58):this._view.tokenInputValue1.color=new c(248,245,227),t>this.mTokenCoinData2.balance?this._view.tokenInputValue2.color=new c(255,86,58):this._view.tokenInputValue2.color=new c(248,245,227),this._view.keepBalancedBtn.selected?e<=0||t<=0||e>this.mTokenCoinData1.balance||t>this.mTokenCoinData2.balance?this._view.depositBtn.enabled=!1:this._view.depositBtn.enabled=!0:e<=0&&t<=0||e>this.mTokenCoinData1.balance||t>this.mTokenCoinData2.balance?this._view.depositBtn.enabled=!1:this._view.depositBtn.enabled=!0},s._onToken2SliderCallBack=function(){var e=this._view.tokenSlider2.value,t=e+"%";this._view.tokenSliderBtn2.text=t;var i=this._view.tokenSliderBtn2.getChild("ui_Value");if(i&&(i.text=t),e>=100)this.token2ValueString=S.NumberOmit(this.mTokenCoinData2.balanceString,this.mTokenConfig2.decimals);else{var n=this.mTokenCoinData2.balance*e*.01;this.token2ValueString=S.NumberOmit(n.toString(),this.mTokenConfig2.decimals)}this._onInputTokenValue2Changed()},s._onToken2ValueTextChanged=function(){var e=Number.parseFloat(this._view.tokenInputValue2.text);if(isNaN(e)||e<0?(e=0,this.token2ValueString="0"):this.token2ValueString=S.NumberOmit(this._view.tokenInputValue2.text,this.mTokenConfig2.decimals),this.mTokenCoinData2.balance>0){var t=100*u.clamp01(e/this.mTokenCoinData2.balance);this._view.tokenSlider2.value=t;var i=t.toFixed(0)+"%";this._view.tokenSliderBtn2.text=i;var n=this._view.tokenSliderBtn2.getChild("ui_Value");n&&(n.text=i)}this._onInputTokenValue2Changed()},s._onInputTokenValue2Changed=function(){this._view.tokenInputValue2.text=this.token2ValueString;var e=Number(this.token1ValueString),t=Number(this.token2ValueString),i=this.mTokenCoinData2.price*t;this._view.tokenUsdValue2.text=S.NumberOmit(i.toString(),2,!0,"$"),(e>0||t>0)&&(this.isCanChange=!1,this.lastChangedTimePos=x.xTimeGetTime(),this._view.loadingAni.visible=!0,this._view.totalValueLabel.text="-",this._view.priceImpactLabel.text="-",this._view.keepBalancedBtn.enabled=!1,this._view.keepBalancedBtn.selected&&this._resetToken1Data()),this._refreshBtnState()},s._onKeepBalancedClick=function(){C.PlaySound_UICommonClick(),this._view.priceImpactLabel.text="-";var e=Number(this.token1ValueString),t=Number(this.token2ValueString);(e>0||t>0)&&(this.lastChangedTimePos=x.xTimeGetTime(),this._view.loadingAni.visible=!0,this._view.keepBalancedBtn.enabled=!1)},s._onDepositClick=function(){var e=n(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(C.PlaySound_UICommonClick(),this.isCanChange){e.next=3;break}return e.abrupt("return");case 3:if(D.instance.checkWalletStatus()){e.next=6;break}return e.abrupt("return");case 6:return e.next=8,I.popConfirm(this.mCurPoolData.id,[{token:this.mTokenConfig1,showCoin:this.mTokenCoinData1,inputAmount:this.token1ValueString},{token:this.mTokenConfig2,showCoin:this.mTokenCoinData2,inputAmount:this.token2ValueString}],{token:this.keepBalanceUsedCoin,showCoin:this.keepBalanceUsedCoinData,inputAmount:this.keepBalanceUsedAmount},this._view.keepBalancedBtn.selected,this.mSlippageValue);case 8:e.sent===N.Success&&(p.emit(v.UI_DAPP_DEX_LIQUIDITY_ADD_CLOSE),p.emit(v.UI_DAPP_DEX_POOL_DETAIL_REFRESH));case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),s._onSwapSettingsClick=function(){C.PlaySound_UICommonClick(),this._view.settingsWind.visible=!0},s._closeSwapSettings=function(){this._view.settingsWind.visible=!1,this._refreshSlippage()},s._refreshSlippage=function(){var e=this._view.settingsView.getSlippageValue();this.mSlippageValue=e,this._view.slippageToleranceLabel.text=e+"%"},s._refreshForNotKeepBalance=function(){var e=n(a().mark((function e(){var t,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,D.instance.isUseBeraMainnetSwap){e.next=4;break}return e.abrupt("return");case 4:return this.isCanChange=!1,e.next=7,V.instance.getAddLiquidityUnbalancedInfo(this.mCurPoolData.id,[{token:this.mTokenConfig1,showCoin:this.mTokenCoinData1,inputAmount:this.token1ValueString},{token:this.mTokenConfig2,showCoin:this.mTokenCoinData2,inputAmount:this.token2ValueString}]);case 7:if(null!==(t=e.sent)){e.next=12;break}return this._view.priceImpactLabel.text="-",this.isCanChange=!0,e.abrupt("return");case 12:if(m(this.node)){e.next=14;break}return e.abrupt("return");case 14:this.isCanChange=!0,this.mPriceImpact=parseFloat(t.priceImpact.percentage),this._view.priceImpactLabel.text=this.mPriceImpact.toFixed(2)+"%",i=this.mTokenCoinData1.price*Number(this.token1ValueString)+this.mTokenCoinData2.price*Number(this.token2ValueString),this._view.totalValueLabel.text=S.NumberOmit(i.toString(),2,!0,"$"),this._refreshBtnState(),e.next=25;break;case 22:e.prev=22,e.t0=e.catch(0),k(e.t0);case 25:return e.prev=25,this._view&&(this._view.loadingAni.visible=!1,this._view.keepBalancedBtn.enabled=!0),e.finish(25);case 28:case"end":return e.stop()}}),e,this,[[0,22,25,28]])})));return function(){return e.apply(this,arguments)}}(),s._refreshForKeepBalance=function(){var e=n(a().mark((function e(){var t,i,n,o,s,r,l,h,c,d,_,p,v,C,g,f,w,T,b;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,D.instance.isUseBeraMainnetSwap){e.next=4;break}return e.abrupt("return");case 4:return this.isCanChange=!1,t=null,i=null,n="0","0"===this.token1ValueString?(t=this.mTokenConfig2,i=this.mTokenCoinData2,n=this.token2ValueString):(t=this.mTokenConfig1,i=this.mTokenCoinData1,n=this.token1ValueString),this.keepBalanceUsedCoinData=i,this.keepBalanceUsedCoin=t,this.keepBalanceUsedAmount=n,e.next=14,V.instance.getAddLiquidityProportionalInfo(this.mCurPoolData.id,{token:t,showCoin:i,inputAmount:n});case 14:if(null!==(o=e.sent)){e.next=18;break}return this.isCanChange=!0,e.abrupt("return");case 18:if(m(this.node)){e.next=20;break}return e.abrupt("return");case 20:this.isCanChange=!0,"0"===this.token1ValueString?(s=B(o.queryOutput.amountsIn[0].scale18),this.token1ValueString=S.NumberOmit(s,this.mTokenConfig1.decimals),this._view.tokenInputValue1.text=this.token1ValueString,r=parseFloat(this._view.tokenInputValue1.text),l=this.mTokenCoinData1.price*r,this._view.tokenUsdValue1.text=S.NumberOmit(l.toString(),2,!0,"$"),h=Number.parseFloat(this.token1ValueString),c=100*u.clamp01(h/this.mTokenCoinData1.balance),this._view.tokenSlider1.value=c,d=c.toFixed(0)+"%",this._view.tokenSliderBtn1.text=d,(_=this._view.tokenSliderBtn1.getChild("ui_Value"))&&(_.text=d)):(p=B(o.queryOutput.amountsIn[o.queryOutput.amountsIn.length-1].scale18),this.token2ValueString=S.NumberOmit(p,this.mTokenConfig2.decimals),this._view.tokenInputValue2.text=this.token2ValueString,v=parseFloat(this._view.tokenInputValue2.text),C=this.mTokenCoinData2.price*v,this._view.tokenUsdValue2.text=S.NumberOmit(C.toString(),2,!0,"$"),g=Number.parseFloat(this.token2ValueString),f=100*u.clamp01(g/this.mTokenCoinData2.balance),this._view.tokenSlider2.value=f,w=f.toFixed(0)+"%",this._view.tokenSliderBtn2.text=w,(T=this._view.tokenSliderBtn2.getChild("ui_Value"))&&(T.text=w)),b=this.mTokenCoinData1.price*Number(this.token1ValueString)+this.mTokenCoinData2.price*Number(this.token2ValueString),this._view.totalValueLabel.text=S.NumberOmit(b.toString(),2,!0,"$"),this._refreshBtnState(),e.next=30;break;case 27:e.prev=27,e.t0=e.catch(0),k(e.t0);case 30:return e.prev=30,this._view&&(this._view.loadingAni.visible=!1,this._view.keepBalancedBtn.enabled=!0),e.finish(30);case 33:case"end":return e.stop()}}),e,this,[[0,27,30,33]])})));return function(){return e.apply(this,arguments)}}(),i(o,null,[{key:"instance",get:function(){return this._instance}}]),o}(g)).CTRL_NAME="UIDappDexLiquidityAddController",P._instance=null,A=P))||A);o._RF.pop()}}}));

System.register("chunks:///_virtual/ui.dapp.dex.liquidity.add.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(i){"use strict";var t,e,d,n,o;return{setters:[function(i){t=i.inheritsLoose},function(i){e=i.cclegacy,d=i._decorator,n=i.EditBox},function(i){o=i.GComponent}],execute:function(){var l,s;e._RF.push({},"5f130QI1AlIEZRWsEQ7055J","ui.dapp.dex.liquidity.add.view",void 0);var u=d.ccclass;i("default",u("UIDappDexLiquidityAddView")(((s=function(i){function e(){var t;return(t=i.call(this)||this).closeBtn=void 0,t.titleIcon1=void 0,t.titleIcon2=void 0,t.titleLabel=void 0,t.addLiquidityView=void 0,t.tokenIcon1=void 0,t.tokenName1=void 0,t.tokenBalance1=void 0,t.tokenInputValue1=void 0,t.tokenUsdValue1=void 0,t.tokenSlider1=void 0,t.tokenSliderBtn1=void 0,t.tokenIcon2=void 0,t.tokenName2=void 0,t.tokenBalance2=void 0,t.tokenInputValue2=void 0,t.tokenUsdValue2=void 0,t.tokenSlider2=void 0,t.tokenSliderBtn2=void 0,t.loadingAni=void 0,t.keepBalancedBtn=void 0,t.priceImpactLabel=void 0,t.totalValueLabel=void 0,t.slippageToleranceLabel=void 0,t.settingBtn=void 0,t.depositBtn=void 0,t.settingsWind=void 0,t.settingsView=void 0,t}return t(e,i),e.prototype.onConstruct=function(){this.closeBtn=this.getChild("ui_WindClose"),this.titleIcon1=this.getChild("ui_TokenIcon1"),this.titleIcon2=this.getChild("ui_TokenIcon2"),this.titleLabel=this.getChild("ui_Title"),this.addLiquidityView=this.getChild("ui_Wind_Deposit"),this.tokenIcon1=this.addLiquidityView.getChild("ui_TokenIcon1"),this.tokenName1=this.addLiquidityView.getChild("ui_TokenName1"),this.tokenBalance1=this.addLiquidityView.getChild("ui_BalanceValue1"),this.tokenInputValue1=this.addLiquidityView.getChild("ui_InputValue1"),this.tokenInputValue1._editBox.inputMode=n.InputMode.DECIMAL,this.tokenUsdValue1=this.addLiquidityView.getChild("ui_USDValue1"),this.tokenSlider1=this.addLiquidityView.getChild("ui_Slider1"),this.tokenSliderBtn1=this.tokenSlider1.getChild("grip"),this.tokenSlider1.wholeNumbers=!0,this.tokenSlider1.min=0,this.tokenSlider1.max=100,this.tokenIcon2=this.addLiquidityView.getChild("ui_TokenIcon2"),this.tokenName2=this.addLiquidityView.getChild("ui_TokenName2"),this.tokenBalance2=this.addLiquidityView.getChild("ui_BalanceValue2"),this.tokenInputValue2=this.addLiquidityView.getChild("ui_InputValue2"),this.tokenInputValue2._editBox.inputMode=n.InputMode.DECIMAL,this.tokenUsdValue2=this.addLiquidityView.getChild("ui_USDValue2"),this.tokenSlider2=this.addLiquidityView.getChild("ui_Slider2"),this.tokenSliderBtn2=this.tokenSlider2.getChild("grip"),this.loadingAni=this.addLiquidityView.getChild("ui_Loading"),this.tokenSlider2.wholeNumbers=!0,this.tokenSlider2.min=0,this.tokenSlider2.max=100,this.keepBalancedBtn=this.addLiquidityView.getChild("ui_BtnSwitch"),this.priceImpactLabel=this.addLiquidityView.getChild("ui_Value1"),this.totalValueLabel=this.addLiquidityView.getChild("ui_Value2"),this.slippageToleranceLabel=this.addLiquidityView.getChild("ui_Value3"),this.settingBtn=this.addLiquidityView.getChild("ui_BtnSettings"),this.depositBtn=this.addLiquidityView.getChild("ui_BtnLiquidityAdd"),this.settingsWind=this.getChild("ui_Settings"),this.settingsView=this.getChild("ui_WindSettings")},e}(o)).URL="ui://WizardingDEX/Main_Liquidity_Deposit",l=s))||l);e._RF.pop()}}}));

System.register("chunks:///_virtual/ui.dapp.dex.liquidity.remove.controller.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./event.dispatcher.ts","./event.name.ts","./sound.helper.ts","./ui.base.controller.ts","./resource.manager.ts","./chain.system.ts","./bera.swap.mainnet.ts","./use.ethers.ts","./time.system.ts","./project.bera.mainnet.ts","./chain.operate.dex.liquidity.remove.ts","./chain.operate.interface.ts"],(function(e){"use strict";var t,i,n,a,r,o,s,h,u,c,l,d,w,m,k,C,p,_,f,v,T,g,S,P,x;return{setters:[function(e){t=e.inheritsLoose,i=e.createClass,n=e.asyncToGenerator,a=e.regeneratorRuntime},function(e){r=e.cclegacy,o=e._decorator,s=e.input,h=e.Input,u=e.KeyCode,c=e.error,l=e.isValid},function(e){d=e.UIPackage,w=e.Event},function(e){m=e.EventDispatcher},function(e){k=e.EventName},function(e){C=e.SoundHelper},function(e){p=e.UIBaseController},function(e){_=e.ResourceManager},function(e){f=e.ChainSystem},function(e){v=e.BeraSwapMainnet},function(e){T=e.formatEther},function(e){g=e.TimeSystem},function(e){S=e.getIconUrlByAddress},function(e){P=e.ChainOperateDexLiquidityRemove},function(e){x=e.ChainOperateStatus}],execute:function(){var I,D;r._RF.push({},"04390X06f9AH5SXOf/eihVa","ui.dapp.dex.liquidity.remove.controller",void 0);var b=o.ccclass;e("UIDappDexLiquidityRemoveController",b("UIDappDexLiquidityRemoveController")(((D=function(e){function r(){for(var t,i=arguments.length,n=new Array(i),a=0;a<i;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).mFguiPkgName="WizardingDEX",t.mFguiMainViewName="Main_Liquidity_Withdraw",t._view=null,t.mCurPoolData=null,t.mTokenConfig1=void 0,t.mTokenConfig2=void 0,t.mTokenCoinData1=void 0,t.mTokenCoinData2=void 0,t.mLPValueString="",t.mLPValuePercent=0,t.token1ValueString="",t.token2ValueString="",t.mPriceImpact=0,t.mSlippageValue=0,t.mCurSelectTokenIndex=0,t.lastChangedTimePos=0,t.lastAutoRefreshTimePos=0,t.isCanChange=!0,t}t(r,e);var o=r.prototype;return o.setPoolData=function(e){this.mCurPoolData=e},o._addEvents=function(){e.prototype._addEvents.call(this),s.on(h.EventType.KEY_DOWN,this._onKeyDown,this)},o._removeEvents=function(){e.prototype._removeEvents.call(this),s.off(h.EventType.KEY_DOWN,this._onKeyDown,this)},o._onKeyDown=function(e){switch(e.keyCode){case u.ESCAPE:this._onCloseClick()}},o.onLoad=function(){r._instance=this,this._startLoadPkg(this.mFguiPkgName)},o.onDestroy=function(){e.prototype.onDestroy.call(this),r._instance=null},o.update=function(){if(null!=this._view){var e=g.xTimeGetTime();if(this.lastChangedTimePos<=0){if(this.lastAutoRefreshTimePos<=0)return;.001*(e-this.lastAutoRefreshTimePos)>15&&(this.lastAutoRefreshTimePos=g.xTimeGetTime(),0===this._view.tabCtrl.selectedIndex?this._refreshForProportional():this._refreshForSingleToken())}else{.001*(e-this.lastChangedTimePos)>1&&(this.lastAutoRefreshTimePos=g.xTimeGetTime(),this.lastChangedTimePos=0,0===this._view.tabCtrl.selectedIndex?this._refreshForProportional():this._refreshForSingleToken())}}},o._onLoadUIFinish=function(){e.prototype._onLoadUIFinish.call(this),this._view=d.createObject(this.mFguiPkgName,this.mFguiMainViewName).asCom,this._addUIToRoot(this._view),this._view.makeFullScreen(),this._view.tabCtrl.onChanged(this._onTabChanged,this),this._view.closeBtn.onClick(this._onCloseClick,this),this._view.withdrawToken1.onClick(this._onWithdrawToken1Click,this),this._view.withdrawToken2.onClick(this._onWithdrawToken2Click,this),this._view.percentBtn25.onClick(this._onPercent25Click,this),this._view.percentBtn50.onClick(this._onPercent50Click,this),this._view.percentBtn75.onClick(this._onPercent75Click,this),this._view.percentBtn100.onClick(this._onPercent100Click,this),this._view.withdrawBtn.onClick(this._onWithdrawClick,this),this._view.withdrawSlider.on(w.STATUS_CHANGED,this._onWithdrawSliderCallBack,this),this._initData()},o._onTabChanged=function(){0===this._view.tabCtrl.selectedIndex?(this._view.withdrawToken1.touchable=!1,this._view.withdrawToken2.touchable=!1,this.mCurSelectTokenIndex=0,this._view.withdrawToken1.isSelectedCtrl.selectedIndex=0,this._view.withdrawToken2.isSelectedCtrl.selectedIndex=0):1===this._view.tabCtrl.selectedIndex&&(this._view.withdrawToken1.touchable=!0,this._view.withdrawToken2.touchable=!0,this.mCurSelectTokenIndex=1,this._view.withdrawToken1.isSelectedCtrl.selectedIndex=1,this._view.withdrawToken2.isSelectedCtrl.selectedIndex=0),this._onInputWithdrawValueChanged(),C.PlaySound_UICommonClick()},o._onCloseClick=function(){var e=n(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:C.PlaySound_UICommonClose(),m.emit(k.UI_DAPP_DEX_LIQUIDITY_REMOVE_CLOSE);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),o._onWithdrawToken1Click=function(){C.PlaySound_UICommonClick(),this.isCanChange&&(this.mCurSelectTokenIndex=1,this._view.withdrawToken1.isSelectedCtrl.selectedIndex=1,this._view.withdrawToken2.isSelectedCtrl.selectedIndex=0,this._onInputWithdrawValueChanged())},o._onWithdrawToken2Click=function(){C.PlaySound_UICommonClick(),this.isCanChange&&(this.mCurSelectTokenIndex=2,this._view.withdrawToken1.isSelectedCtrl.selectedIndex=0,this._view.withdrawToken2.isSelectedCtrl.selectedIndex=1,this._onInputWithdrawValueChanged())},o._onWithdrawClick=function(){var e=n(a().mark((function e(){var t,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(C.PlaySound_UICommonClick(),this.isCanChange){e.next=3;break}return e.abrupt("return");case 3:return t=!1,i="",1===this._view.tabCtrl.selectedIndex&&(t=!0,1===this.mCurSelectTokenIndex?i=this.mTokenConfig1.address:2===this.mCurSelectTokenIndex&&(i=this.mTokenConfig2.address)),e.next=8,P.popConfirm(this.mCurPoolData.id,[{token:this.mTokenConfig1,showCoin:this.mTokenCoinData1,outAmount:this.token1ValueString},{token:this.mTokenConfig2,showCoin:this.mTokenCoinData2,outAmount:this.token2ValueString}],this.mLPValueString,i,this.mSlippageValue,t);case 8:e.sent===x.Success&&(m.emit(k.UI_DAPP_DEX_LIQUIDITY_REMOVE_CLOSE),m.emit(k.UI_DAPP_DEX_POOL_DETAIL_REFRESH));case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),o._onPercent25Click=function(){var e=n(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:C.PlaySound_UICommonClick(),this._view.withdrawSlider.value=25,this._onWithdrawSliderCallBack();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),o._onPercent50Click=function(){var e=n(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:C.PlaySound_UICommonClick(),this._view.withdrawSlider.value=50,this._onWithdrawSliderCallBack();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),o._onPercent75Click=function(){var e=n(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:C.PlaySound_UICommonClick(),this._view.withdrawSlider.value=75,this._onWithdrawSliderCallBack();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),o._onPercent100Click=function(){var e=n(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:C.PlaySound_UICommonClick(),this._view.withdrawSlider.value=100,this._onWithdrawSliderCallBack();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),o._initData=function(){this._view.titleLabel.text=this.mCurPoolData.name,this.mTokenConfig1=this.mCurPoolData.tokens[0],this.mTokenConfig2=this.mCurPoolData.tokens[this.mCurPoolData.tokens.length-1],this.mTokenCoinData1=f.instance.getCoinByAddress(this.mTokenConfig1.address,!0),this.mTokenCoinData2=f.instance.getCoinByAddress(this.mTokenConfig2.address,!0);var e=S(this.mTokenConfig1.address),t=S(this.mTokenConfig2.address);this._loadTokenIcon(this._view.titleIcon1,e),this._loadTokenIcon(this._view.titleIcon2,t),this._view.totalToken1.initTokenData(e,this.mTokenConfig1.symbol,"",""),this._view.totalToken2.initTokenData(t,this.mTokenConfig2.symbol,"","");var i="",n="";"WEIGHTED"===this.mCurPoolData.type&&(i=" "+100*Number.parseFloat(this.mTokenConfig1.weight)+"%",n=" "+100*Number.parseFloat(this.mTokenConfig2.weight)+"%"),this._view.withdrawToken1.initTokenData(this.mTokenCoinData1.config.icon,this.mTokenCoinData1.config.symbol+i,"0",""),this._view.withdrawToken2.initTokenData(this.mTokenCoinData2.config.icon,this.mTokenCoinData2.config.symbol+n,"0",""),this.mPriceImpact=0,this.mSlippageValue=2.5,this._view.priceImpactLabel.text="-",this._view.slippageToleranceLabel.text=this.mSlippageValue+"%",this._view.withdrawSlider.value=0,this._onWithdrawSliderCallBack(),this._refreshForTotalValue()},o._onWithdrawSliderCallBack=function(){var e=this._view.withdrawSlider.value,t=e+"%";this._view.withdrawSliderBtn.text=t,this._view.withdrawPercentLabel.text=t;var i=this._view.withdrawSliderBtn.getChild("ui_Value");i&&(i.text=t),this._view.withdrawSliderBtn.text=t,this.mLPValuePercent=e>=100?1:.01*e,this._onInputWithdrawValueChanged()},o._onInputWithdrawValueChanged=function(){this.mLPValuePercent>0?(this.isCanChange=!1,this.lastChangedTimePos=g.xTimeGetTime(),this._view.withdrawToken1.refreshTokenData("",""),this._view.withdrawToken2.refreshTokenData("","")):(this._view.withdrawToken1.refreshTokenData("0","0"),this._view.withdrawToken2.refreshTokenData("0","0")),this._refreshBtnState()},o._refreshBtnState=function(){"0"===this.mLPValueString||0===this.mLPValuePercent?this._view.withdrawBtn.enabled=!1:this._view.withdrawBtn.enabled=!0},o._loadTokenIcon=function(){var e=n(a().mark((function e(t,i){var n,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i,e.prev=1,e.next=4,_.instance.loadChainIcon(n);case 4:if(r=e.sent,l(this.node)){e.next=7;break}return e.abrupt("return");case 7:if(n===i){e.next=9;break}return e.abrupt("return");case 9:t.texture=r,e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),c(e.t0);case 15:case"end":return e.stop()}}),e,this,[[1,12]])})));return function(t,i){return e.apply(this,arguments)}}(),o._refreshForTotalValue=function(){var e=n(a().mark((function e(){var t,i,n,r,o,s,h,u;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,f.instance.isUseBeraMainnetSwap){e.next=4;break}return e.abrupt("return");case 4:return this.isCanChange=!1,e.next=7,v.instance.getLpTokenInWalletBalance(this.mCurPoolData.address);case 7:if(null!==(t=e.sent)){e.next=10;break}return e.abrupt("return");case 10:return this.mLPValueString=T(t),e.next=13,v.instance.queryMyLiquidityOut(this.mCurPoolData.id,this.mLPValueString);case 13:if(null!==(i=e.sent)){e.next=17;break}return this.isCanChange=!0,e.abrupt("return");case 17:if(l(this.node)){e.next=19;break}return e.abrupt("return");case 19:this.isCanChange=!0,n=T(i.amountsOut[0].amount),r=T(i.amountsOut[1].amount),o=Number.parseFloat(n),s=this.mTokenCoinData1.price*o,h=Number.parseFloat(r),u=this.mTokenCoinData2.price*h,this._view.totalToken1.refreshTokenData(n,s.toString()),this._view.totalToken2.refreshTokenData(r,u.toString()),e.next=33;break;case 30:e.prev=30,e.t0=e.catch(0),c(e.t0);case 33:case"end":return e.stop()}}),e,this,[[0,30]])})));return function(){return e.apply(this,arguments)}}(),o._refreshForProportional=function(){var e=n(a().mark((function e(){var t,i,n,r,o,s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,f.instance.isUseBeraMainnetSwap){e.next=4;break}return e.abrupt("return");case 4:return this.isCanChange=!1,t=Number.parseFloat(this.mLPValueString)*this.mLPValuePercent,e.next=8,v.instance.getRemoveLiquidityProportionalInfo(this.mCurPoolData.id,t.toString());case 8:if(null!==(i=e.sent)){e.next=12;break}return this.isCanChange=!0,e.abrupt("return");case 12:if(l(this.node)){e.next=14;break}return e.abrupt("return");case 14:this.isCanChange=!0,this._view.priceImpactLabel.text="-",this.token1ValueString=T(i.queryOutput.amountsOut[0].amount),this.token2ValueString=T(i.queryOutput.amountsOut[1].amount),n=Number.parseFloat(this.token1ValueString),r=this.mTokenCoinData1.price*n,o=Number.parseFloat(this.token2ValueString),s=this.mTokenCoinData2.price*o,this._view.withdrawToken1.refreshTokenData(this.token1ValueString,r.toString()),this._view.withdrawToken2.refreshTokenData(this.token2ValueString,s.toString()),this._refreshBtnState(),e.next=30;break;case 27:e.prev=27,e.t0=e.catch(0),c(e.t0);case 30:case"end":return e.stop()}}),e,this,[[0,27]])})));return function(){return e.apply(this,arguments)}}(),o._refreshForSingleToken=function(){var e=n(a().mark((function e(){var t,i,n,r,o,s,h;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,f.instance.isUseBeraMainnetSwap){e.next=4;break}return e.abrupt("return");case 4:return this.isCanChange=!1,t=null,t=1===this.mCurSelectTokenIndex?this.mTokenConfig1:this.mTokenConfig2,i=Number.parseFloat(this.mLPValueString)*this.mLPValuePercent,e.next=10,v.instance.getRemoveLiquiditySingleTokenExactInInfo(this.mCurPoolData.id,t.address,i.toString());case 10:if(null!==(n=e.sent)){e.next=14;break}return this.isCanChange=!0,e.abrupt("return");case 14:if(l(this.node)){e.next=16;break}return e.abrupt("return");case 16:this.isCanChange=!0,this.mPriceImpact=parseFloat(n.priceImpact.percentage),this._view.priceImpactLabel.text=this.mPriceImpact.toFixed(2)+"%",1===this.mCurSelectTokenIndex?(this.token1ValueString=T(n.queryOutput.amountsOut[0].amount),r=Number.parseFloat(this.token1ValueString),o=this.mTokenCoinData1.price*r,this._view.withdrawToken1.refreshTokenData(this.token1ValueString,o.toString()),this.token2ValueString="0",this._view.withdrawToken2.refreshTokenData("","")):(this.token2ValueString=T(n.queryOutput.amountsOut[1].amount),s=Number.parseFloat(this.token2ValueString),h=this.mTokenCoinData2.price*s,this._view.withdrawToken2.refreshTokenData(this.token2ValueString,h.toString()),this.token1ValueString="0",this._view.withdrawToken1.refreshTokenData("","")),this._refreshBtnState(),e.next=26;break;case 23:e.prev=23,e.t0=e.catch(0),c(e.t0);case 26:case"end":return e.stop()}}),e,this,[[0,23]])})));return function(){return e.apply(this,arguments)}}(),i(r,null,[{key:"instance",get:function(){return this._instance}}]),r}(p)).CTRL_NAME="UIDappDexLiquidityRemoveController",D._instance=null,I=D))||I);r._RF.pop()}}}));

System.register("chunks:///_virtual/ui.dapp.dex.liquidity.remove.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(i){"use strict";var t,e,d,o;return{setters:[function(i){t=i.inheritsLoose},function(i){e=i.cclegacy,d=i._decorator},function(i){o=i.GComponent}],execute:function(){var r,h;e._RF.push({},"9a100YoKOpDW66GhJ/Mst6Z","ui.dapp.dex.liquidity.remove.view",void 0);var n=d.ccclass;i("default",n("UIDappDexRemoveLiquidityView")(((h=function(i){function e(){var t;return(t=i.call(this)||this).closeBtn=void 0,t.titleIcon1=void 0,t.titleIcon2=void 0,t.titleLabel=void 0,t.removeLiquidityView=void 0,t.totalToken1=void 0,t.totalToken2=void 0,t.tabCtrl=void 0,t.withdrawToken1=void 0,t.withdrawToken2=void 0,t.withdrawPercentLabel=void 0,t.percentBtn25=void 0,t.percentBtn50=void 0,t.percentBtn75=void 0,t.percentBtn100=void 0,t.withdrawSlider=void 0,t.withdrawSliderBtn=void 0,t.priceImpactLabel=void 0,t.slippageToleranceLabel=void 0,t.withdrawBtn=void 0,t}return t(e,i),e.prototype.onConstruct=function(){this.closeBtn=this.getChild("ui_WindClose"),this.titleIcon1=this.getChild("ui_TokenIcon1"),this.titleIcon2=this.getChild("ui_TokenIcon2"),this.titleLabel=this.getChild("ui_Title"),this.removeLiquidityView=this.getChild("ui_Wind_Withdraw"),this.totalToken1=this.removeLiquidityView.getChild("ui_MyToken1"),this.totalToken2=this.removeLiquidityView.getChild("ui_MyToken2"),this.tabCtrl=this.removeLiquidityView.getController("Tab"),this.withdrawToken1=this.removeLiquidityView.getChild("ui_WithdrawToken1"),this.withdrawToken2=this.removeLiquidityView.getChild("ui_WithdrawToken2"),this.withdrawPercentLabel=this.removeLiquidityView.getChild("ui_PercentValue"),this.percentBtn25=this.removeLiquidityView.getChild("ui_PercentBtn1"),this.percentBtn50=this.removeLiquidityView.getChild("ui_PercentBtn2"),this.percentBtn75=this.removeLiquidityView.getChild("ui_PercentBtn3"),this.percentBtn100=this.removeLiquidityView.getChild("ui_PercentBtn4"),this.withdrawSlider=this.removeLiquidityView.getChild("ui_Slider2"),this.withdrawSliderBtn=this.withdrawSlider.getChild("grip"),this.withdrawSlider.wholeNumbers=!0,this.withdrawSlider.min=0,this.withdrawSlider.max=100,this.priceImpactLabel=this.removeLiquidityView.getChild("ui_Value1"),this.slippageToleranceLabel=this.removeLiquidityView.getChild("ui_Value2"),this.withdrawBtn=this.removeLiquidityView.getChild("ui_BtnLiquidityRemove")},e}(o)).URL="ui://WizardingDEX/Main_Liquidity_Withdraw",r=h))||r);e._RF.pop()}}}));

System.register("chunks:///_virtual/ui.dapp.dex.pool.detail.controller.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./event.dispatcher.ts","./event.name.ts","./sound.helper.ts","./ui.base.controller.ts","./project.bera.mainnet.ts","./resource.manager.ts","./logic.tool.ts","./common.tool.ts","./table.helper.ts","./chain.system.ts","./bera.swap.mainnet.ts","./use.ethers.ts","./chain.utils.ts","./sdk.manager.ts"],(function(t){"use strict";var e,n,o,a,i,r,s,l,u,c,h,m,p,D,_,f,d,C,k,P,v,T,y,w,b,g,x;return{setters:[function(t){e=t.inheritsLoose,n=t.createClass,o=t.asyncToGenerator,a=t.regeneratorRuntime},function(t){i=t.cclegacy,r=t._decorator,s=t.input,l=t.Input,u=t.KeyCode,c=t.error,h=t.isValid},function(t){m=t.UIPackage},function(t){p=t.EventDispatcher},function(t){D=t.EventName},function(t){_=t.SoundHelper},function(t){f=t.UIBaseController},function(t){d=t.getIconUrlByAddress},function(t){C=t.ResourceManager},function(t){k=t.LogicTool},function(t){P=t.CommonTool},function(t){v=t.TableHelper},function(t){T=t.ChainSystem},function(t){y=t.BeraSwapMainnet},function(t){w=t.parseEther,b=t.formatEther},function(t){g=t.getBeraScanMainnetUrl},function(t){x=t.SDKManager}],execute:function(){var I,E;i._RF.push({},"e56e0nGUtRO+odarB/wKaAv","ui.dapp.dex.pool.detail.controller",void 0);var U=r.ccclass;t("UIDappDexPoolDetailController",U("UIDappDexPoolDetailController")(((E=function(t){function i(){for(var e,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))||this).mFguiPkgName="WizardingDEX",e.mFguiMainViewName="Main_Liquidity_Details",e._view=null,e.mCurPoolData=null,e.mTokenConfig1=void 0,e.mTokenConfig2=void 0,e.mTokenCoinData1=void 0,e.mTokenCoinData2=void 0,e}e(i,t);var r=i.prototype;return r._addEvents=function(){t.prototype._addEvents.call(this),s.on(l.EventType.KEY_DOWN,this._onKeyDown,this),p.on(D.UI_DAPP_DEX_POOL_DETAIL_REFRESH,this._onDappDexPoolDetailRefreshed,this)},r._removeEvents=function(){t.prototype._removeEvents.call(this),s.off(l.EventType.KEY_DOWN,this._onKeyDown,this),p.off(D.UI_DAPP_DEX_POOL_DETAIL_REFRESH,this._onDappDexPoolDetailRefreshed,this)},r._onKeyDown=function(t){switch(t.keyCode){case u.ESCAPE:this._onCloseClick()}},r._onDappDexPoolDetailRefreshed=function(){this._view&&this._loadMyDepositData()},r.setData=function(t){this.mCurPoolData=t},r.onLoad=function(){i._instance=this,this._startLoadPkg(this.mFguiPkgName)},r.onDestroy=function(){t.prototype.onDestroy.call(this),i._instance=null},r.closeUI=function(){t.prototype.closeUI.call(this)},r.update=function(){this._view},r._onLoadUIFinish=function(){t.prototype._onLoadUIFinish.call(this),this._view=m.createObject(this.mFguiPkgName,this.mFguiMainViewName).asCom,this._addUIToRoot(this._view),this._view.makeFullScreen(),this._view.closeBtn.onClick(this._onCloseClick,this),this._view.poolAddrBtn.onClick(this._onPoolAddrUrlClick,this),this._view.addBtn.onClick(this._onDepositClick,this),this._view.depositBtn.onClick(this._onDepositClick,this),this._view.withdrawBtn.onClick(this._onWithdrawClick,this),this._view.stakeBtn.onClick(this._onStakeClick,this),this._initData()},r._initData=function(){var t=o(a().mark((function t(){var e,n,o,i,r,s;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!=this.mCurPoolData){t.next=2;break}return t.abrupt("return");case 2:if(!(this.mCurPoolData.tokens.length<2)){t.next=4;break}return t.abrupt("return");case 4:this.mTokenConfig1=this.mCurPoolData.tokens[0],this.mTokenConfig2=this.mCurPoolData.tokens[this.mCurPoolData.tokens.length-1],this.mTokenCoinData1=T.instance.getCoinByAddress(this.mTokenConfig1.address,!0),this.mTokenCoinData2=T.instance.getCoinByAddress(this.mTokenConfig2.address,!0),""!==(e=d(this.mTokenConfig1.address))&&this._loadTokenIcon(this._view.tokenIcon1,e),""!==(n=d(this.mTokenConfig2.address))&&this._loadTokenIcon(this._view.tokenIcon2,n),this._view.poolName.text=this.mCurPoolData.name,o="",i="","COMPOSABLE_STABLE"===this.mCurPoolData.type?this._view.poolType.text="Stable":"WEIGHTED"===this.mCurPoolData.type&&(this._view.poolType.text="Weighted",o=" "+100*Number.parseFloat(this.mTokenConfig1.weight)+"%",i=" "+100*Number.parseFloat(this.mTokenConfig2.weight)+"%"),this._view.poolFee.text=(100*Number.parseFloat(this.mCurPoolData.dynamicData.swapFee)).toFixed(2)+"%",this._view.poolAddr.text=P.shortAddress(this.mCurPoolData.address,6),r=this.mTokenConfig1.symbol+o,this._view.poolToken1.initTokenData(e,r,this.mTokenConfig1.balance,this.mTokenConfig1.balanceUSD),this._view.myDepositToken1.initTokenData(e,this.mTokenConfig1.symbol,"",""),s=this.mTokenConfig2.symbol+i,this._view.poolToken2.initTokenData(n,s,this.mTokenConfig2.balance,this.mTokenConfig2.balanceUSD),this._view.myDepositToken2.initTokenData(n,this.mTokenConfig2.symbol,"",""),this._loadPoolData(),this._loadMyDepositData();case 26:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),r._refreshPoolData=function(){null!=this.mCurPoolData&&(this.mTokenConfig1=this.mCurPoolData.tokens[0],this.mTokenConfig2=this.mCurPoolData.tokens[this.mCurPoolData.tokens.length-1],this._view.poolToken1.refreshTokenData(this.mTokenConfig1.balance,this.mTokenConfig1.balanceUSD),this._view.poolToken2.refreshTokenData(this.mTokenConfig2.balance,this.mTokenConfig2.balanceUSD),this._view.poolTotalUS.text="$"+k.NumberTransform(Number.parseFloat(this.mCurPoolData.dynamicData.totalLiquidity),!0),this._view.poolTVL.text="$"+k.NumberTransform(Number.parseFloat(this.mCurPoolData.dynamicData.totalLiquidity),!0),this._view.poolVolume.text="$"+k.NumberTransform(Number.parseFloat(this.mCurPoolData.dynamicData.volume24h),!0),this._view.poolFee24.text="$"+k.NumberTransform(Number.parseFloat(this.mCurPoolData.dynamicData.fees24h),!0),this.mCurPoolData.dynamicData.aprItems.length>=1?this._view.poolARP.text=(100*Number.parseFloat(this.mCurPoolData.dynamicData.aprItems[0].apr)).toFixed(2)+"%":this._view.poolARP.text="-")},r._loadPoolData=function(){var t=o(a().mark((function t(){var e,n;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this._refreshPoolData(),t.prev=1,T.instance.isUseBeraMainnetSwap){t.next=5;break}return t.abrupt("return");case 5:return t.next=7,y.instance.fetchPoolDetail(this.mCurPoolData.id);case 7:if(null!==(e=t.sent)){t.next=10;break}return t.abrupt("return");case 10:if(h(this.node)){t.next=12;break}return t.abrupt("return");case 12:n=this.mCurPoolData.userBalance,this.mCurPoolData=e,this.mCurPoolData.userBalance||(this.mCurPoolData.userBalance=n),this._refreshPoolData(),t.next=21;break;case 18:t.prev=18,t.t0=t.catch(1),c(t.t0);case 21:case"end":return t.stop()}}),t,this,[[1,18]])})));return function(){return t.apply(this,arguments)}}(),r._refreshMyDepositData=function(){if(null!=this.mCurPoolData)if(w(this.mCurPoolData.userBalance.walletBalance)>0)this._view.isProvidedCtrl.selectedIndex=1,this._loadMyDepositTokenData();else{this._view.isProvidedCtrl.selectedIndex=0;var t=0;this.mCurPoolData.dynamicData.aprItems.length>=1&&(t+=Number.parseFloat(this.mCurPoolData.dynamicData.aprItems[0].apr)),this.mCurPoolData.rewardVault.dynamicData.apr&&(t+=Number.parseFloat(this.mCurPoolData.rewardVault.dynamicData.apr));var e=(100*t).toFixed(2)+"%";this._view.myDepositAPY.text=k.i18nFormat(v.getI18nUIText("u.13853"),[e])}},r._loadMyDepositData=function(){var t=o(a().mark((function t(){var e,n,o;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this._refreshMyDepositData(),t.prev=1,T.instance.isUseBeraMainnetSwap){t.next=5;break}return t.abrupt("return");case 5:return t.next=7,y.instance.getLpTokenInWalletBalance(this.mCurPoolData.address);case 7:if(e=t.sent,h(this.node)){t.next=10;break}return t.abrupt("return");case 10:n=b(e),o=Number.parseFloat(n),this._view.lpValue.text=o>=1?k.NumberTransform(o,!0):k.NumberOmit(n,2,!0),this.mCurPoolData.userBalance.walletBalance=n,this._refreshMyDepositData(),t.next=20;break;case 17:t.prev=17,t.t0=t.catch(1),c(t.t0);case 20:case"end":return t.stop()}}),t,this,[[1,17]])})));return function(){return t.apply(this,arguments)}}(),r._loadMyDepositTokenData=function(){var t=o(a().mark((function t(){var e,n,o,i,r,s,l;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,T.instance.isUseBeraMainnetSwap){t.next=4;break}return t.abrupt("return");case 4:return e=this.mCurPoolData.userBalance.walletBalance,t.next=7,y.instance.queryMyLiquidityOut(this.mCurPoolData.id,e);case 7:if(null!==(n=t.sent)){t.next=10;break}return t.abrupt("return");case 10:if(h(this.node)){t.next=12;break}return t.abrupt("return");case 12:o=b(n.amountsOut[0].amount),i=b(n.amountsOut[1].amount),r=this.mTokenCoinData1.price*Number.parseFloat(o),s=this.mTokenCoinData2.price*Number.parseFloat(i),this._view.myDepositToken1.refreshTokenData(o,r.toString()),this._view.myDepositToken2.refreshTokenData(i,s.toString()),l=r+s,this._view.myDepositTotalUS.text=l>=1?"$"+k.NumberTransform(l,!0):k.NumberOmit(l.toString(),2,!0,"$"),t.next=25;break;case 22:t.prev=22,t.t0=t.catch(0),c(t.t0);case 25:case"end":return t.stop()}}),t,this,[[0,22]])})));return function(){return t.apply(this,arguments)}}(),r._loadTokenIcon=function(){var t=o(a().mark((function t(e,n){var o,i;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=n,t.prev=1,t.next=4,C.instance.loadChainIcon(o);case 4:if(i=t.sent,h(this.node)){t.next=7;break}return t.abrupt("return");case 7:if(o===n){t.next=9;break}return t.abrupt("return");case 9:e.texture=i,t.next=15;break;case 12:t.prev=12,t.t0=t.catch(1),c(t.t0);case 15:case"end":return t.stop()}}),t,this,[[1,12]])})));return function(e,n){return t.apply(this,arguments)}}(),r._onCloseClick=function(){var t=o(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:_.PlaySound_UICommonClose(),p.emit(D.UI_DAPP_DEX_POOL_DETAIL_CLOSE);case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),r._onPoolAddrUrlClick=function(){_.PlaySound_UICommonClick(),null!=this.mCurPoolData&&x.instance.curSDKPlugin.openUrl(g(this.mCurPoolData.address))},r._onDepositClick=function(){_.PlaySound_UICommonClick(),null!=this.mCurPoolData&&p.emit(D.UI_DAPP_DEX_LIQUIDITY_ADD_OPEN,this.mCurPoolData)},r._onWithdrawClick=function(){_.PlaySound_UICommonClick(),null!=this.mCurPoolData&&p.emit(D.UI_DAPP_DEX_LIQUIDITY_REMOVE_OPEN,this.mCurPoolData)},r._onStakeClick=function(){_.PlaySound_UICommonClick(),p.emit(D.UI_DAPP_DEX_CLOSE),p.emit(D.UI_DAPP_DEX_POOL_DETAIL_CLOSE),p.emit(D.UI_DAPP_SHOP_OPEN)},n(i,null,[{key:"instance",get:function(){return this._instance}}]),i}(f)).CTRL_NAME="UIDappDexPoolDetailController",E._instance=null,I=E))||I);i._RF.pop()}}}));

System.register("chunks:///_virtual/ui.dapp.dex.pool.detail.token.item.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./resource.manager.ts","./logic.tool.ts"],(function(t){"use strict";var e,n,o,i,r,a,s,u,c,l,h;return{setters:[function(t){e=t.inheritsLoose,n=t.createClass,o=t.asyncToGenerator,i=t.regeneratorRuntime},function(t){r=t.cclegacy,a=t._decorator,s=t.error,u=t.isValid},function(t){c=t.GButton},function(t){l=t.ResourceManager},function(t){h=t.LogicTool}],execute:function(){var d,k;r._RF.push({},"69610IIoq1FbYUwuSqz39qW","ui.dapp.dex.pool.detail.token.item.view",void 0);var f=a.ccclass;t("default",f("UIDappDexPoolDetailTokenItemView")(((k=function(t){function r(){var e;return(e=t.call(this)||this).btnCtrl=void 0,e.isSelectedCtrl=void 0,e.tokenIcon=void 0,e.tokenName=void 0,e.tokenBalance=void 0,e.tokenUS=void 0,e.mCurShowData=void 0,e}e(r,t);var a=r.prototype;return a.onConstruct=function(){this.btnCtrl=this.getController("button"),this.isSelectedCtrl=this.getController("IsSelected"),this.tokenIcon=this.getChild("icon"),this.tokenName=this.getChild("title"),this.tokenBalance=this.getChild("ui_Value1"),this.tokenUS=this.getChild("ui_Value2")},a.initTokenData=function(t,e,n,o){this._loadTokenIcon(t),this.tokenName.text=e,this.refreshTokenData(n,o),this.isSelectedCtrl.selectedIndex=0,this.touchable=!1},a.refreshTokenData=function(t,e){if(void 0===t||""===t)this.tokenBalance.text="-";else{var n=Number.parseFloat(t);this.tokenBalance.text=n>=1?h.NumberTransform(n,!0):h.NumberOmit(t,2,!0)}if(void 0===e||""===e)this.tokenUS.text="";else{var o=Number.parseFloat(e);this.tokenUS.text=o>=1?"$"+h.NumberTransform(o,!0):h.NumberOmit(e,2,!0,"$")}},a._loadTokenIcon=function(){var t=o(i().mark((function t(e){var n,o;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e,t.prev=1,t.next=4,l.instance.loadChainIcon(n);case 4:if(o=t.sent,u(this.node)){t.next=7;break}return t.abrupt("return");case 7:if(n===e){t.next=9;break}return t.abrupt("return");case 9:this.tokenIcon.texture=o,t.next=15;break;case 12:t.prev=12,t.t0=t.catch(1),s(t.t0);case 15:case"end":return t.stop()}}),t,this,[[1,12]])})));return function(e){return t.apply(this,arguments)}}(),n(r,[{key:"TokenData",get:function(){return this.mCurShowData?this.mCurShowData:null}}]),r}(c)).URL="ui://WizardingDEX/listbar_Token",d=k))||d);r._RF.pop()}}}));

System.register("chunks:///_virtual/ui.dapp.dex.pool.detail.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(i){"use strict";var t,e,o,l;return{setters:[function(i){t=i.inheritsLoose},function(i){e=i.cclegacy,o=i._decorator},function(i){l=i.GComponent}],execute:function(){var d,s;e._RF.push({},"f20c9HD6BZHXbuBO0tn8uzv","ui.dapp.dex.pool.detail.view",void 0);var h=o.ccclass;i("default",h("UIDappDexPoolDetailView")(((s=function(i){function e(){var t;return(t=i.call(this)||this).isProvidedCtrl=void 0,t.closeBtn=void 0,t.tokenIcon1=void 0,t.tokenIcon2=void 0,t.poolName=void 0,t.detailView=void 0,t.poolType=void 0,t.poolFee=void 0,t.poolAddr=void 0,t.poolAddrBtn=void 0,t.poolTotalUS=void 0,t.poolToken1=void 0,t.poolToken2=void 0,t.poolTVL=void 0,t.poolVolume=void 0,t.poolFee24=void 0,t.poolARP=void 0,t.myDepositAPY=void 0,t.myDepositTotalUS=void 0,t.myDepositToken1=void 0,t.myDepositToken2=void 0,t.addBtn=void 0,t.depositBtn=void 0,t.withdrawBtn=void 0,t.lpValue=void 0,t.stakeBtn=void 0,t}return t(e,i),e.prototype.onConstruct=function(){this.closeBtn=this.getChild("ui_WindClose"),this.tokenIcon1=this.getChild("ui_TokenIcon1"),this.tokenIcon2=this.getChild("ui_TokenIcon2"),this.poolName=this.getChild("ui_Title"),this.detailView=this.getChild("Bg1"),this.isProvidedCtrl=this.detailView.getController("IsProvided"),this.poolType=this.detailView.getChild("ui_Value2"),this.poolFee=this.detailView.getChild("ui_Value4"),this.poolAddr=this.detailView.getChild("ui_ContractValue"),this.poolAddrBtn=this.detailView.getChild("ui_BtnGoto"),this.poolTotalUS=this.detailView.getChild("ui_TokenName"),this.poolToken1=this.detailView.getChild("ui_PoolToken1"),this.poolToken2=this.detailView.getChild("ui_PoolToken2"),this.poolTVL=this.detailView.getChild("ui_Value1"),this.poolVolume=this.detailView.getChild("ui_Value3"),this.poolFee24=this.detailView.getChild("ui_Value5"),this.poolARP=this.detailView.getChild("ui_Value6"),this.myDepositAPY=this.detailView.getChild("ui_Des"),this.myDepositTotalUS=this.detailView.getChild("ui_MyTotalValue"),this.myDepositToken1=this.detailView.getChild("ui_MyToken1"),this.myDepositToken2=this.detailView.getChild("ui_MyToken2"),this.addBtn=this.detailView.getChild("ui_BtnLiquidityAdd"),this.depositBtn=this.detailView.getChild("ui_BtnDeposit"),this.withdrawBtn=this.detailView.getChild("ui_BtnWithdraw"),this.lpValue=this.detailView.getChild("ui_ValueLP"),this.stakeBtn=this.detailView.getChild("ui_BtnStake")},e}(l)).URL="ui://WizardingDEX/Main_Liquidity_Details",d=s))||d);e._RF.pop()}}}));

System.register("chunks:///_virtual/ui.dapp.dex.pool.item.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./project.bera.mainnet.ts","./resource.manager.ts","./logic.tool.ts","./use.ethers.ts"],(function(t){"use strict";var e,o,i,r,n,a,s,l,u,d,h,c,p;return{setters:[function(t){e=t.inheritsLoose,o=t.asyncToGenerator,i=t.regeneratorRuntime},function(t){r=t.cclegacy,n=t._decorator,a=t.error,s=t.isValid},function(t){l=t.GButton},function(t){u=t.getIconUrlByAddress,d=t.getBgtIconUrl},function(t){h=t.ResourceManager},function(t){c=t.LogicTool},function(t){p=t.parseEther}],execute:function(){var m,g;r._RF.push({},"3839doBYcpAkrGKRnULXzz/","ui.dapp.dex.pool.item.view",void 0);var v=n.ccclass;t("default",v("UIDappDexPoolItemView")(((g=function(t){function r(){var e;return(e=t.call(this)||this).btnCtrl=void 0,e.isProvidedCtrl=void 0,e.isRewardCtrl=void 0,e.tokenIcon1=void 0,e.tokenIcon2=void 0,e.poolName=void 0,e.poolTVL=void 0,e.poolType=void 0,e.poolVolume=void 0,e.poolFee=void 0,e.poolFee24=void 0,e.poolARP=void 0,e.bgtIcon=void 0,e.bgtARP=void 0,e.mCurShowData=null,e}e(r,t);var n=r.prototype;return n.onConstruct=function(){this.btnCtrl=this.getController("button"),this.isProvidedCtrl=this.getController("IsProvided"),this.isRewardCtrl=this.getController("IsReward"),this.tokenIcon1=this.getChild("ui_TokenIcon1"),this.tokenIcon2=this.getChild("ui_TokenIcon2"),this.poolName=this.getChild("ui_TokenName"),this.poolTVL=this.getChild("ui_Value1"),this.poolType=this.getChild("ui_Value2"),this.poolVolume=this.getChild("ui_Value3"),this.poolFee=this.getChild("ui_Value4"),this.poolFee24=this.getChild("ui_Value5"),this.poolARP=this.getChild("ui_Value6"),this.bgtIcon=this.getChild("ui_TokenIcon3"),this.bgtARP=this.getChild("ui_Value7")},n.onDestroy=function(){},n.getPoolItemData=function(){return this.mCurShowData},n.setPoolItemData=function(t){if(this.mCurShowData=t,t.tokens.length>=1){var e=u(t.tokens[0].address);""!==e&&this._loadTokenIcon(this.tokenIcon1,e)}if(t.tokens.length>=2){var o=u(t.tokens[t.tokens.length-1].address);""!==o&&this._loadTokenIcon(this.tokenIcon2,o)}if(this.poolName.text=t.name,this.poolTVL.text=c.NumberTransform(Number.parseFloat(t.dynamicData.totalLiquidity),!0),"COMPOSABLE_STABLE"===t.type?this.poolType.text="Stable":"WEIGHTED"===t.type&&(this.poolType.text="Weighted"),this.poolVolume.text=c.NumberTransform(Number.parseFloat(t.dynamicData.volume24h),!0),this.poolFee.text=(100*Number.parseFloat(t.dynamicData.swapFee)).toFixed(2)+"%",this.poolFee24.text=c.NumberTransform(Number.parseFloat(t.dynamicData.fees24h),!0),t.dynamicData.aprItems.length>=1&&(this.poolARP.text=(100*Number.parseFloat(t.dynamicData.aprItems[0].apr)).toFixed(2)+"%"),t.rewardVault.isVaultWhitelisted){this.isRewardCtrl.selectedIndex=1,this.bgtARP.text=(100*Number.parseFloat(t.rewardVault.dynamicData.apr)).toFixed(2)+"%";var i=d();""!==i&&this._loadTokenIcon(this.bgtIcon,i)}else this.isRewardCtrl.selectedIndex=0,this.bgtARP.text="-";var r=p(t.userBalance.totalBalance);this.isProvidedCtrl.selectedIndex=r>0n?1:0},n._loadTokenIcon=function(){var t=o(i().mark((function t(e,o){var r,n;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=o,t.prev=1,t.next=4,h.instance.loadChainIcon(r);case 4:if(n=t.sent,s(this.node)){t.next=7;break}return t.abrupt("return");case 7:if(r===o){t.next=9;break}return t.abrupt("return");case 9:e.texture=n,t.next=15;break;case 12:t.prev=12,t.t0=t.catch(1),a(t.t0);case 15:case"end":return t.stop()}}),t,this,[[1,12]])})));return function(e,o){return t.apply(this,arguments)}}(),r}(l)).URL="ui://WizardingDEX/listbar_LiquidityAllPools",m=g))||m);r._RF.pop()}}}));

System.register("chunks:///_virtual/ui.dapp.dex.settings.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(e){"use strict";var i,t,n,a,s,l;return{setters:[function(e){i=e.inheritsLoose},function(e){t=e.cclegacy,n=e._decorator,a=e.EditBox},function(e){s=e.Event,l=e.GComponent}],execute:function(){var p,d;t._RF.push({},"76dbaZE8tBD64zGS+BeVvSI","ui.dapp.dex.settings.view",void 0);var u=n.ccclass;e("default",u("UIDappDexSettingsView")(((d=function(e){function t(){var i;return(i=e.call(this)||this).closeBtn=void 0,i.slippageView=void 0,i.slippageTipView=void 0,i.deadlineView=void 0,i.deadlineTipView=void 0,i.slippageTabCtrl=void 0,i.slippageValueInput=void 0,i.deadlineTabCtrl=void 0,i.deadlineInput=void 0,i.slippageCustom=void 0,i.deadlineCustom=void 0,i}i(t,e);var n=t.prototype;return n.onConstruct=function(){this.closeBtn=this.getChild("ui_WindClose"),this.slippageView=this.getChild("ui_Slippage Tolerance"),this.slippageTipView=this.getChild("ui_Attention1"),this.deadlineView=this.getChild("ui_TransactionDeadline"),this.deadlineTipView=this.getChild("ui_Attention2"),this.slippageTabCtrl=this.slippageView.getController("Tab"),this.slippageTabCtrl.onChanged(this.onSlippageTypeChanged,this),this.slippageValueInput=this.slippageView.getChild("ui_InputValue"),this.slippageValueInput._editBox.inputMode=a.InputMode.DECIMAL,this.slippageValueInput.on(s.TEXT_CHANGE,this._onSlippageTextChanged,this),this.deadlineTabCtrl=this.deadlineView.getController("Tab"),this.deadlineTabCtrl.onChanged(this.onDeadlineTypeChanged,this),this.deadlineInput=this.deadlineView.getChild("ui_InputValue"),this.deadlineInput._editBox.inputMode=a.InputMode.NUMERIC,this.deadlineInput.on(s.TEXT_CHANGE,this._onDeadlineTextChanged,this)},n.initData=function(e){void 0===e&&(e=!0),this.slippageCustom=2.5,this.deadlineCustom=45,this.slippageValueInput.text="2.5",this.deadlineInput.text="45",this.deadlineView.visible=!!e,this.slippageTabCtrl.selectedIndex=0,this.deadlineTabCtrl.selectedIndex=0,this.onSlippageTypeChanged(),this.onDeadlineTypeChanged()},n.getSlippageValue=function(){var e=this.slippageTabCtrl.selectedIndex;return 0===e?2.5:1===e?this.slippageCustom:2===e?25:2.5},n.getDeadlineValue=function(){var e=this.deadlineTabCtrl.selectedIndex;return 0===e?45:1===e?this.deadlineCustom:2===e?Number.MAX_VALUE:45},n._onSlippageTextChanged=function(){var e=Number.parseFloat(this.slippageValueInput.text);isNaN(e)&&(e=1),e<1&&(e=1),e>25&&(e=25),this.slippageValueInput.text=e.toString(),this.slippageCustom=e},n._onDeadlineTextChanged=function(){var e=Number.parseInt(this.deadlineInput.text);isNaN(e)&&(e=45),e<45&&(e=45),e>3600&&(e=3600),this.deadlineInput.text=e.toString(),this.deadlineCustom=e},n.onSlippageTypeChanged=function(){var e=this.slippageTabCtrl.selectedIndex;0===e?(this.slippageValueInput.text="2.5",this.slippageValueInput.enabled=!1,this.slippageTipView.visible=!1):1===e?(this.slippageValueInput.text=this.slippageCustom.toString(),this.slippageValueInput.enabled=!0,this.slippageTipView.visible=!1):2===e&&(this.slippageValueInput.text="25",this.slippageValueInput.enabled=!1,this.slippageTipView.visible=!0)},n.onDeadlineTypeChanged=function(){var e=this.deadlineTabCtrl.selectedIndex;0===e?(this.deadlineInput.text="45",this.deadlineInput.enabled=!1,this.deadlineTipView.visible=!1):1===e?(this.deadlineInput.text=this.deadlineCustom.toString(),this.deadlineInput.enabled=!0,this.deadlineTipView.visible=!1):2===e&&(this.deadlineInput.text="∞",this.deadlineInput.enabled=!1,this.deadlineTipView.visible=!0)},t}(l)).URL="ui://WizardingDEX/wind_Settings",p=d))||p);t._RF.pop()}}}));

System.register("chunks:///_virtual/ui.dapp.dex.swap.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./resource.manager.ts","./chain.system.ts","./logic.tool.ts","./table.helper.ts","./wizard.wallet.sdk.ts","./bera.swap.mainnet.ts","./time.system.ts","./chain.operate.dex.swap.ts","./chain.operate.interface.ts"],(function(t){"use strict";var e,n,i,a,o,s,u,h,r,l,c,p,d,k,T,g,C,S,f,v,m,x;return{setters:[function(t){e=t.inheritsLoose,n=t.asyncToGenerator,i=t.regeneratorRuntime},function(t){a=t.cclegacy,o=t._decorator,s=t.EditBox,u=t.math,h=t.Color,r=t.error,l=t.isValid},function(t){c=t.Event,p=t.GComponent},function(t){d=t.ResourceManager},function(t){k=t.ChainSystem},function(t){T=t.LogicTool},function(t){g=t.TableHelper},function(t){C=t.WizardWalletSDK,S=t.EWalletState},function(t){f=t.BeraSwapMainnet},function(t){v=t.TimeSystem},function(t){m=t.ChainOperateDexSwap},function(t){x=t.ChainOperateStatus}],execute:function(){var I,w;a._RF.push({},"3279d5/V8VEfaBaF+b1qiA4","ui.dapp.dex.swap.view",void 0);var V=o.ccclass;t("default",V("UIDappDexSwapView")(((w=function(t){function a(){var e;return(e=t.call(this)||this).settingBtn=void 0,e.inTokenIcon=void 0,e.inTokenName=void 0,e.inTokenBalance=void 0,e.inTokenSelectBtn=void 0,e.inTokenInputValue=void 0,e.inTokenUSValue=void 0,e.tokenSlider=void 0,e.tokenSliderBtn=void 0,e.outTokenIcon=void 0,e.outTokenName=void 0,e.outTokenBalance=void 0,e.outTokenSelectBtn=void 0,e.outTokenSwapValue=void 0,e.outTokenUSValue=void 0,e.loadingAni=void 0,e.exchangeRateLabel=void 0,e.priceImpactLabel=void 0,e.slippageToleranceLabel=void 0,e.changeBtn=void 0,e.swapBtn=void 0,e.inTokenConfig=void 0,e.outTokenConfig=void 0,e.inCoin=void 0,e.outCoin=void 0,e.swapInValueString=void 0,e.swapOutValue=void 0,e.swapPriceImpact=void 0,e.useSlippageValue=void 0,e.useDeadline=void 0,e.lastChangedTimePos=0,e.lastAutoRefreshTimePos=0,e.isCanChange=!0,e}e(a,t);var o=a.prototype;return o.onConstruct=function(){this.settingBtn=this.getChild("ui_BtnSettings"),this.inTokenIcon=this.getChild("ui_TokenIcon1"),this.inTokenName=this.getChild("ui_TokenName1"),this.inTokenBalance=this.getChild("ui_BalanceValue1"),this.inTokenSelectBtn=this.getChild("ui_BtnSelectFunds1"),this.inTokenInputValue=this.getChild("ui_InputValue1"),this.inTokenInputValue._editBox.inputMode=s.InputMode.DECIMAL,this.inTokenInputValue.on(c.TEXT_CHANGE,this._onSwapValueTextChanged,this),this.inTokenUSValue=this.getChild("ui_USDValue1"),this.tokenSlider=this.getChild("ui_Slider1"),this.tokenSlider.on(c.STATUS_CHANGED,this._onInTokenSliderCallBack,this),this.tokenSliderBtn=this.tokenSlider.getChild("grip"),this.outTokenIcon=this.getChild("ui_TokenIcon2"),this.outTokenName=this.getChild("ui_TokenName2"),this.outTokenBalance=this.getChild("ui_BalanceValue2"),this.outTokenSelectBtn=this.getChild("ui_BtnSelectFunds2"),this.outTokenSwapValue=this.getChild("ui_SwapValue"),this.outTokenUSValue=this.getChild("ui_USDValue2"),this.loadingAni=this.getChild("ui_Loading"),this.exchangeRateLabel=this.getChild("ui_Value1"),this.priceImpactLabel=this.getChild("ui_Value2"),this.slippageToleranceLabel=this.getChild("ui_Value3"),this.changeBtn=this.getChild("Arrow"),this.changeBtn.onClick(this._onChangeBtnClick,this),this.swapBtn=this.getChild("ui_BtnSwap"),this.swapBtn.onClick(this._onSwapBtnClick,this),this.inTokenSelectBtn.visible=!0,this.outTokenSelectBtn.visible=!0,this.loadingAni.visible=!1,this.tokenSlider.wholeNumbers=!0,this.tokenSlider.min=0,this.tokenSlider.max=100,this.tokenSlider.value=0,this._onInTokenSliderCallBack()},o.initDataShow=function(t,e){this.tokenSlider.value=0,this._onInTokenSliderCallBack(),this.setInTokenData(t),this.setOutTokenData(e)},o.resetTokenSlider=function(){this.tokenSlider.value=0,this._onInTokenSliderCallBack()},o.setInTokenData=function(t){this.inTokenConfig=t;var e=this.inTokenConfig.chainId+"-"+this.inTokenConfig.address.toLowerCase();this.inCoin=k.instance.getCoin(e),this.inTokenName.text=this.inCoin.config.symbol,this.refreshInTokenBalance(),this._loadTokenIcon(this.inTokenIcon,this.inTokenConfig.logoURI)},o.setSlippage=function(t){this.useSlippageValue=t,this.slippageToleranceLabel.text=t.toFixed(2)+"%"},o.update=function(){var t=v.xTimeGetTime();if(this.lastChangedTimePos<=0){if(this.lastAutoRefreshTimePos<=0)return;.001*(t-this.lastAutoRefreshTimePos)>15&&(this.lastAutoRefreshTimePos=v.xTimeGetTime(),this._tryFetchPath())}else{.001*(t-this.lastChangedTimePos)>1&&(this.lastAutoRefreshTimePos=v.xTimeGetTime(),this.lastChangedTimePos=0,this._tryFetchPath())}},o.refreshInTokenBalance=function(){if(C.walletState===S.Connected){var t=T.NumberOmit(this.inCoin.balance.toString(),8,!0);this.inTokenBalance.text=T.i18nFormat(g.getI18nUIText("u.13418"),[t])}else this.inTokenBalance.text=T.i18nFormat(g.getI18nUIText("u.13418"),["-"])},o.setOutTokenData=function(t){this.outTokenConfig=t;var e=this.outTokenConfig.chainId+"-"+this.outTokenConfig.address.toLowerCase();this.outCoin=k.instance.getCoin(e),this.outTokenName.text=this.outCoin.config.symbol,this.refreshOutTokenBalance(),this._loadTokenIcon(this.outTokenIcon,this.outTokenConfig.logoURI)},o.refreshOutTokenBalance=function(){if(C.walletState===S.Connected){var t=T.NumberOmit(this.outCoin.balance.toString(),8,!0);this.outTokenBalance.text=T.i18nFormat(g.getI18nUIText("u.13418"),[t])}else this.outTokenBalance.text=T.i18nFormat(g.getI18nUIText("u.13418"),["-"])},o._onChangeBtnClick=function(){if(!(this.lastChangedTimePos>0)&&this.isCanChange){var t=this.outTokenConfig,e=this.inTokenConfig;this.setInTokenData(t),this.setOutTokenData(e);var n=this.outTokenSwapValue.text;"-"!==n&&""!==n&&(this.inTokenInputValue.text=n,this._onSwapValueTextChanged()),this._refreshBtnState()}},o._onSwapBtnClick=function(){var t=n(i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(k.instance.checkWalletStatus()){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,m.popConfirm(this.inTokenConfig,this.outTokenConfig,this.inTokenInputValue.text,this.swapOutValue,this.swapPriceImpact,this.useSlippageValue,this.useDeadline);case 5:t.sent===x.Success&&(this.tokenSlider.value=0,this._onInTokenSliderCallBack(),this.inCoin.refreshBalance(),this.outCoin.refreshBalance());case 7:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),o._onInTokenSliderCallBack=function(){var t=this.tokenSlider.value,e=t+"%";this.tokenSliderBtn.text=e;var n=this.tokenSliderBtn.getChild("ui_Value");if(n&&(n.text=e),this.inCoin)if(t>=100)this.swapInValueString=this.inCoin.balanceString;else{var i=this.inCoin.balance*t*.01;this.swapInValueString=T.NumberOmit(i.toString())}else this.swapInValueString="0";this._onInputValueChanged()},o._onSwapValueTextChanged=function(){var t=Number.parseFloat(this.inTokenInputValue.text);if(isNaN(t)||t<0?(t=0,this.swapInValueString="0"):this.swapInValueString=this.inTokenInputValue.text,this.inCoin&&this.inCoin.balance>0){var e=100*u.clamp01(t/this.inCoin.balance);this.tokenSlider.value=e;var n=e.toFixed(0)+"%";this.tokenSliderBtn.text=n;var i=this.tokenSliderBtn.getChild("ui_Value");i&&(i.text=n)}this._onInputValueChanged()},o._onInputValueChanged=function(){this.inTokenInputValue.text=this.swapInValueString;var t=Number(this.swapInValueString);if(this.inCoin){var e=this.inCoin.price*t;this.inTokenUSValue.text="$"+e.toFixed(2),t>this.inCoin.balance?this.inTokenInputValue.color=new h(255,86,58):this.inTokenInputValue.color=new h(248,245,227)}else this.inTokenUSValue.text="",this.inTokenInputValue.color=new h(248,245,227);this.exchangeRateLabel.text="-",this.priceImpactLabel.text="-",this.outTokenSwapValue.text="",this.outTokenUSValue.text="",t>0&&(this.lastChangedTimePos=v.xTimeGetTime(),this.loadingAni.visible=!0,this.inTokenSelectBtn.enabled=!1,this.outTokenSelectBtn.enabled=!1),this._refreshBtnState()},o._refreshBtnState=function(){var t=Number(this.swapInValueString);t<=0||t>this.inCoin.balance?this.swapBtn.enabled=!1:this.swapBtn.enabled=!0},o._tryFetchPath=function(){var t=n(i().mark((function t(){var e,n,a,o,s,u;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!((e=Number(this.swapInValueString))<=0)){t.next=4;break}return t.abrupt("return");case 4:if(k.instance.isUseBeraMainnetSwap){t.next=7;break}return t.abrupt("return");case 7:return this.isCanChange=!1,t.next=10,f.instance.getSwapInfo(this.inTokenConfig,this.outTokenConfig,this.swapInValueString);case 10:if(null!==(n=t.sent)){t.next=15;break}return this.isCanChange=!0,this.outTokenSwapValue.text="-",t.abrupt("return");case 15:if(l(this.node)){t.next=17;break}return t.abrupt("return");case 17:if(this.isCanChange=!0,this.outTokenSwapValue){t.next=20;break}return t.abrupt("return");case 20:this.outTokenSwapValue.text=n.returnAmount,a=e,this.swapOutValue=parseFloat(n.returnAmount),o=this.swapOutValue/a,s="1 "+this.inTokenConfig.symbol+" = "+o.toFixed(6)+" "+this.outTokenConfig.symbol,this.exchangeRateLabel.text=s,this.swapPriceImpact=100*parseFloat(n.sorSwapData.priceImpact.priceImpact),this.priceImpactLabel.text=this.swapPriceImpact.toFixed(2)+"%",this.outTokenSwapValue.text=n.returnAmount,this.outCoin?(u=this.outCoin.price*this.swapOutValue,this.outTokenUSValue.text="$"+u.toFixed(2)):this.outTokenUSValue.text="",t.next=35;break;case 32:t.prev=32,t.t0=t.catch(0),r(t.t0);case 35:return t.prev=35,this.loadingAni.visible=!1,this.inTokenSelectBtn.enabled=!0,this.outTokenSelectBtn.enabled=!0,t.finish(35);case 40:case"end":return t.stop()}}),t,this,[[0,32,35,40]])})));return function(){return t.apply(this,arguments)}}(),o._loadTokenIcon=function(){var t=n(i().mark((function t(e,n){var a,o;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=n,t.prev=1,t.next=4,d.instance.loadChainIcon(a);case 4:if(o=t.sent,l(this.node)){t.next=7;break}return t.abrupt("return");case 7:if(a===n){t.next=9;break}return t.abrupt("return");case 9:e.texture=o,t.next=15;break;case 12:t.prev=12,t.t0=t.catch(1),r(t.t0);case 15:case"end":return t.stop()}}),t,this,[[1,12]])})));return function(e,n){return t.apply(this,arguments)}}(),a}(p)).URL="ui://WizardingDEX/wind_Swap",I=w))||I);a._RF.pop()}}}));

System.register("chunks:///_virtual/ui.dapp.dex.swaplist.controller.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./event.dispatcher.ts","./event.name.ts","./new.guide.manager.ts","./sound.helper.ts","./ui.base.controller.ts","./chain.system.ts"],(function(e){"use strict";var t,n,i,s,o,a,r,c,h,l,u,p,_,m,d,f,v;return{setters:[function(e){t=e.inheritsLoose,n=e.createClass,i=e.asyncToGenerator,s=e.regeneratorRuntime},function(e){o=e.cclegacy,a=e._decorator,r=e.input,c=e.Input,h=e.KeyCode},function(e){l=e.UIPackage,u=e.Event},function(e){p=e.EventDispatcher},function(e){_=e.EventName},function(e){m=e.NewGuideManager},function(e){d=e.SoundHelper},function(e){f=e.UIBaseController},function(e){v=e.ChainSystem}],execute:function(){var D,k;o._RF.push({},"09c76geOq5FM7g7WvLAMdwD","ui.dapp.dex.swaplist.controller",void 0);var w=a.ccclass;e("UIDappDexSwapListController",w("UIDappDexSwapListController")(((k=function(e){function o(){for(var t,n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(t=e.call.apply(e,[this].concat(i))||this).mFguiPkgName="WizardingDEX",t.mFguiMainViewName="Main_SwapList",t._view=null,t.mTokenData=[],t.mTokenSelected1="",t.mTokenSelected2="",t}t(o,e);var a=o.prototype;return a._addEvents=function(){e.prototype._addEvents.call(this),r.on(c.EventType.KEY_DOWN,this._onKeyDown,this)},a._removeEvents=function(){e.prototype._removeEvents.call(this),r.off(c.EventType.KEY_DOWN,this._onKeyDown,this)},a._onKeyDown=function(e){switch(e.keyCode){case h.ESCAPE:if(m.instance.IsInGuideScene)return;this._onCloseClick()}},a.setData=function(e,t){this.mTokenSelected1=e,this.mTokenSelected2=t},a.onLoad=function(){o._instance=this,this._startLoadPkg(this.mFguiPkgName)},a.onDestroy=function(){e.prototype.onDestroy.call(this),o._instance=null},a.closeUI=function(){e.prototype.closeUI.call(this)},a.update=function(){this._view},a._onLoadUIFinish=function(){e.prototype._onLoadUIFinish.call(this),this._view=l.createObject(this.mFguiPkgName,this.mFguiMainViewName).asCom,this._addUIToRoot(this._view),this._view.makeFullScreen(),this._view.closeBtn.onClick(this._onCloseClick,this),this._view.searchText.on(u.TEXT_CHANGE,this._onSearchTextChanged,this),this._view.swapList.itemRenderer=this.renderWorkerDispatchItem.bind(this),this._view.swapList.on(u.CLICK_ITEM,this._onDispatchItemClick,this),this._initData()},a._initData=function(){var e=i(s().mark((function e(){var t,n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.mTokenData=[],n=v.instance.beraDexTokenList.tokens,(t=this.mTokenData).push.apply(t,n),this._refreshSwapList();case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),a._onSearchTextChanged=function(){var e=this._view.searchText.text;this.mTokenData=[];var t=v.instance.beraDexTokenList.tokens;if(""!==e){var n=e.toLowerCase();if(n.startsWith("0x")){for(var i=0;i<t.length;i++)if(n===t[i].address.toLowerCase()){this.mTokenData.push(t[i]);break}}else for(var s=0;s<t.length;s++)t[s].symbol.toLowerCase().includes(n)&&this.mTokenData.push(t[s])}else{var o;(o=this.mTokenData).push.apply(o,t)}this._refreshSwapList()},a._onCloseClick=function(){d.PlaySound_UICommonClose(),p.emit(_.UI_DAPP_DEX_SWAPLIST_CLOSE)},a._onDispatchItemClick=function(e){d.PlaySound_UICommonClick(),p.emit(_.UI_DAPP_DEX_SWAPLIST_ITEM_SELECTED,e.TokenData),p.emit(_.UI_DAPP_DEX_SWAPLIST_CLOSE)},a._refreshSwapList=function(e){void 0===e&&(e=!0);var t=this.mTokenData.length;this._view.isNoneCtrl.selectedIndex=t<=0?1:0,this._view.swapList.numItems=t,t>0&&e&&this._view.swapList.scrollToView(0)},a.renderWorkerDispatchItem=function(e,t){e>=this.mTokenData.length||t.setTokenData(this.mTokenData[e],this.mTokenSelected1,this.mTokenSelected2)},n(o,null,[{key:"instance",get:function(){return this._instance}}]),o}(f)).CTRL_NAME="UIDappDexSwapListController",k._instance=null,D=k))||D);o._RF.pop()}}}));

System.register("chunks:///_virtual/ui.dapp.dex.swaplist.item.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./chain.system.ts","./wizard.wallet.sdk.ts","./resource.manager.ts","./sound.helper.ts","./logic.tool.ts"],(function(t){"use strict";var e,n,i,o,a,r,s,c,l,u,h,d,m,p,C;return{setters:[function(t){e=t.inheritsLoose,n=t.createClass,i=t.asyncToGenerator,o=t.regeneratorRuntime},function(t){a=t.cclegacy,r=t._decorator,s=t.error,c=t.isValid},function(t){l=t.GButton},function(t){u=t.ChainSystem},function(t){h=t.WizardWalletSDK,d=t.EWalletState},function(t){m=t.ResourceManager},function(t){p=t.SoundHelper},function(t){C=t.LogicTool}],execute:function(){var f,k;a._RF.push({},"c142deQ2mVG2Z50N9UIQjXH","ui.dapp.dex.swaplist.item.view",void 0);var S=r.ccclass;t("default",S("UIDappDexSwapListItemView")(((k=function(t){function a(){var e;return(e=t.call(this)||this).btnCtrl=void 0,e.isSelectedCtrl=void 0,e.tokenIcon=void 0,e.tokenName=void 0,e.tokenBalance=void 0,e.mCurShowData=void 0,e}e(a,t);var r=a.prototype;return r.onConstruct=function(){this.btnCtrl=this.getController("button"),this.isSelectedCtrl=this.getController("IsSelected"),this.tokenIcon=this.getChild("ui_TokenIcon"),this.tokenName=this.getChild("title"),this.tokenBalance=this.getChild("ui_BalanceValue"),this.onClick(this._onSwapListItemClick,this)},r._onSwapListItemClick=function(){p.PlaySound_UICommonClick(),this.mCurShowData},r.setTokenData=function(t,e,n){if(null!=t){this.mCurShowData=t,this._loadTokenIcon(t.logoURI),this.tokenName.text=t.symbol;var i=this.mCurShowData.chainId+"-"+this.mCurShowData.address.toLowerCase(),o=u.instance.getCoin(i);if(h.walletState===d.Connected){var a=C.NumberOmit(o.balance.toString(),8,!0);this.tokenBalance.text=a}else this.tokenBalance.text="-";t.symbol===e||t.symbol===n?(this.isSelectedCtrl.selectedIndex=1,this.touchable=!1):(this.isSelectedCtrl.selectedIndex=0,this.touchable=!0)}},r._loadTokenIcon=function(){var t=i(o().mark((function t(e){var n,i;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e,t.prev=1,t.next=4,m.instance.loadChainIcon(n);case 4:if(i=t.sent,c(this.node)){t.next=7;break}return t.abrupt("return");case 7:if(n===e){t.next=9;break}return t.abrupt("return");case 9:this.tokenIcon.texture=i,t.next=15;break;case 12:t.prev=12,t.t0=t.catch(1),s(t.t0);case 15:case"end":return t.stop()}}),t,this,[[1,12]])})));return function(e){return t.apply(this,arguments)}}(),n(a,[{key:"TokenData",get:function(){return this.mCurShowData?this.mCurShowData:null}}]),a}(l)).URL="ui://WizardingDEX/listbar_Swap",f=k))||f);a._RF.pop()}}}));

System.register("chunks:///_virtual/ui.dapp.dex.swaplist.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){"use strict";var i,s,e,n;return{setters:[function(t){i=t.inheritsLoose},function(t){s=t.cclegacy,e=t._decorator},function(t){n=t.GComponent}],execute:function(){var o,r;s._RF.push({},"d99c0ARC4dFALuXA/yRnhRh","ui.dapp.dex.swaplist.view",void 0);var u=e.ccclass;t("default",u("UIDappDexSwapListView")(((r=function(t){function s(){var i;return(i=t.call(this)||this).isNoneCtrl=void 0,i.closeBtn=void 0,i.swapList=void 0,i.searchText=void 0,i}return i(s,t),s.prototype.onConstruct=function(){this.isNoneCtrl=this.getController("IsNone"),this.closeBtn=this.getChild("ui_WindClose"),this.swapList=this.getChild("ui_TokenList"),this.searchText=this.getChild("ui_InputSearch")},s}(n)).URL="ui://WizardingDEX/Main_SwapList",o=r))||o);s._RF.pop()}}}));

System.register("chunks:///_virtual/ui.dapp.dex.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(i){"use strict";var t,s,e,o;return{setters:[function(i){t=i.inheritsLoose},function(i){s=i.cclegacy,e=i._decorator},function(i){o=i.GComponent}],execute:function(){var n,l;s._RF.push({},"d3af7WzPXdIhIMCrgISoJXj","ui.dapp.dex.view",void 0);var d=e.ccclass;i("default",d("UIDappDexView")(((l=function(i){function s(){var t;return(t=i.call(this)||this).isNoneCtrl=void 0,t.tabCtrl=void 0,t.closeBtn=void 0,t.tab1Btn=void 0,t.tab2Btn=void 0,t.tab3Btn=void 0,t.settingsWnd=void 0,t.settingsView=void 0,t.swapView=void 0,t.allpoolList=void 0,t.mypoolList=void 0,t}return t(s,i),s.prototype.onConstruct=function(){this.isNoneCtrl=this.getController("IsNone"),this.tabCtrl=this.getController("Tab"),this.closeBtn=this.getChild("ui_WindClose"),this.tab1Btn=this.getChild("ui_Tab1"),this.tab2Btn=this.getChild("ui_Tab2"),this.tab3Btn=this.getChild("ui_Tab3"),this.settingsWnd=this.getChild("ui_Settings"),this.settingsView=this.getChild("ui_WindSettings"),this.swapView=this.getChild("ui_Wind_Swap"),this.allpoolList=this.getChild("ui_Liquidity_AllPools"),this.mypoolList=this.getChild("ui_Liquidity_MyPools")},s}(o)).URL="ui://WizardingDEX/Main",n=l))||n);s._RF.pop()}}}));

System.register("chunks:///_virtual/ui.dapp.market.controller.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./event.dispatcher.ts","./event.name.ts","./sound.helper.ts","./ui.float.text.controller.ts","./ui.base.controller.ts"],(function(t){"use strict";var n,e,i,o,r,c,s,a,u,l,p,_,f,h,m;return{setters:[function(t){n=t.inheritsLoose,e=t.createClass,i=t.asyncToGenerator,o=t.regeneratorRuntime},function(t){r=t.cclegacy,c=t._decorator,s=t.input,a=t.Input,u=t.KeyCode},function(t){l=t.UIPackage},function(t){p=t.EventDispatcher},function(t){_=t.EventName},function(t){f=t.SoundHelper},function(t){h=t.UIFloatTextController},function(t){m=t.UIBaseController}],execute:function(){var k,C;r._RF.push({},"5d010aJcF5Im55fzi5ZbjIy","ui.dapp.market.controller",void 0);var v=c.ccclass;t("UIDappMarketController",v("UIDappMarketController")(((C=function(t){function r(){for(var n,e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];return(n=t.call.apply(t,[this].concat(i))||this).mFguiPkgName="Marketplace",n.mFguiMainViewName="Main",n._view=null,n}n(r,t);var c=r.prototype;return c._addEvents=function(){t.prototype._addEvents.call(this),s.on(a.EventType.KEY_DOWN,this._onKeyDown,this)},c._removeEvents=function(){t.prototype._removeEvents.call(this),s.off(a.EventType.KEY_DOWN,this._onKeyDown,this)},c._onKeyDown=function(t){switch(t.keyCode){case u.ESCAPE:this._onCloseClick()}},c.onLoad=function(){r._instance=this,this._startLoadPkg(this.mFguiPkgName)},c.onDestroy=function(){t.prototype.onDestroy.call(this),r._instance=null},c.closeUI=function(){t.prototype.closeUI.call(this)},c.update=function(){this._view},c._onLoadUIFinish=function(){t.prototype._onLoadUIFinish.call(this),this._view=l.createObject(this.mFguiPkgName,this.mFguiMainViewName).asCom,this._addUIToRoot(this._view),this._view.makeFullScreen(),this._view.closeBtn.onClick(this._onCloseClick,this),this._view.wizardNftBtn.onClick(this._onWizardNftClick,this),this._view.objectNftBtn.onClick(this._onItemNftClick,this),this._view.myNftBtn.onClick(this._onMyNftClick,this),this._view.linkBtn.onClick(this._onLinkClick,this)},c._onCloseClick=function(){var t=i(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:f.PlaySound_UICommonClose(),p.emit(_.UI_DAPP_MARKET_CLOSE);case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),c._onWizardNftClick=function(){var t=i(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:f.PlaySound_UICommonClick(),p.emit(_.UI_DAPP_MARKET_WIZARD_OPEN);case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),c._onItemNftClick=function(){var t=i(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:f.PlaySound_UICommonClick(),p.emit(_.UI_DAPP_MARKET_OBJECT_OPEN);case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),c._onMyNftClick=function(){var t=i(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:f.PlaySound_UICommonClick(),p.emit(_.UI_ASSET_ONCHAIN_OPEN);case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),c._onLinkClick=function(){var t=i(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:f.PlaySound_UICommonClick(),h.AddTipI18nID_Info("u.2501");case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),e(r,null,[{key:"instance",get:function(){return this._instance}}]),r}(m)).CTRL_NAME="UIDappMarketController",C._instance=null,k=C))||k);r._RF.pop()}}}));

System.register("chunks:///_virtual/ui.dapp.market.object.controller.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./api.chain.marketplace.ts","./enum.chain.type.ts","./event.dispatcher.ts","./event.name.ts","./use.ethers.ts","./table.helper.ts","./table.manager.ts","./model.item.data.market.ts","./sound.helper.ts","./time.system.ts","./ui.float.text.controller.ts","./ui.base.controller.ts"],(function(t){"use strict";var e,i,n,r,a,s,o,c,u,h,l,m,p,f,_,b,d,v,D,I,j,y,k;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass,n=t.asyncToGenerator,r=t.regeneratorRuntime},function(t){a=t.cclegacy,s=t._decorator,o=t.input,c=t.Input,u=t.KeyCode,h=t.isValid},function(t){l=t.UIPackage},function(t){m=t.apiGetMarketplaceItemPrice},function(t){p=t.EChainType},function(t){f=t.EventDispatcher},function(t){_=t.EventName},function(t){b=t.formatEther},function(t){d=t.TableHelper},function(t){v=t.TableManager},function(t){D=t.ModelItemDataMarket},function(t){I=t.SoundHelper},function(t){j=t.TimeSystem},function(t){y=t.UIFloatTextController},function(t){k=t.UIBaseController}],execute:function(){var O,g;a._RF.push({},"c8887q3eaxI6ZMTkxhHa/a0","ui.dapp.market.object.controller",void 0);var C=s.ccclass;t("UIDappMarketObjectController",C("UIDappMarketObjectController")(((g=function(t){function a(){for(var e,i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))||this).mFguiPkgName="Marketplace",e.mFguiMainViewName="Main_Item",e._view=null,e.mObjectData=[],e.lastAutoRefreshTimePos=0,e.AutoRefreshTimeInterval=60,e}e(a,t);var s=a.prototype;return s._addEvents=function(){t.prototype._addEvents.call(this),o.on(c.EventType.KEY_DOWN,this._onKeyDown,this)},s._removeEvents=function(){t.prototype._removeEvents.call(this),o.off(c.EventType.KEY_DOWN,this._onKeyDown,this)},s._onKeyDown=function(t){switch(t.keyCode){case u.ESCAPE:this._onCloseClick()}},s.onLoad=function(){a._instance=this,this._startLoadPkg(this.mFguiPkgName)},s.onDestroy=function(){t.prototype.onDestroy.call(this),a._instance=null},s.closeUI=function(){t.prototype.closeUI.call(this)},s.update=function(){null!==this._view&&(this.lastAutoRefreshTimePos<=0||.001*(j.xTimeGetTime()-this.lastAutoRefreshTimePos)>this.AutoRefreshTimeInterval&&this._requestItemPriceDatas())},s._onLoadUIFinish=function(){var e=this;t.prototype._onLoadUIFinish.call(this),this._view=l.createObject(this.mFguiPkgName,this.mFguiMainViewName).asCom,this._addUIToRoot(this._view),this._view.makeFullScreen(),this._view.closeBtn.onClick(this._onCloseClick,this),this._view.filterBtn.onClick(this._onFilterClick,this),this._view.filterBtn.enabled=!1,this._view.objectList.itemRenderer=this.renderObjectItem.bind(this),this._view.objectList.setVirtual(),this._view.sortBtn.initObjectSortView(),this._view.sortBtn.OnSortChange((function(t){e.OnSortChanged(t)})),this._initData()},s.OnSortChanged=function(t){var e=this;null!=this._view&&(0===t?this.mObjectData.sort((function(t,i){return e._compareAscendData(t,i)})):this.mObjectData.sort((function(t,i){return e._compareDescendData(t,i)})),this._refreshObjectList())},s._onCloseClick=function(){I.PlaySound_UICommonClose(),f.emit(_.UI_DAPP_MARKET_OBJECT_CLOSE)},s._onFilterClick=function(){I.PlaySound_UICommonClick(),y.AddTipI18nID_Info("u.2501")},s._initData=function(){this._initObjectList(),this._requestItemPriceDatas()},s._initObjectList=function(){var t=this,e=v.instance.tableItem.getItemArray();this.mObjectData=[];for(var i=0;i<e.length;i++)if(1===e[i].isOnChain){var n=new D;n.setItemData(e[i].itemId,p.Bera);var r=Number.parseInt(e[i].itemParam1),a=d.getFarmResRecord(r);n.prosperity=a?a.capacity:Number.MAX_VALUE,this.mObjectData.push(n)}this.mObjectData.sort((function(e,i){return t._compareDescendData(e,i)})),this._refreshObjectList()},s._compareAscendData=function(t,e){return t.prosperity===e.prosperity?t.tableId-e.tableId:t.prosperity-e.prosperity},s._compareDescendData=function(t,e){return t.prosperity===e.prosperity?e.tableId-t.tableId:e.prosperity-t.prosperity},s._refreshObjectList=function(t){void 0===t&&(t=!0);var e=this.mObjectData.length;this._view.objectList.numItems!==e?this._view.objectList.numItems=e:this._view.objectList.refreshVirtualList(),e>0&&t&&this._view.objectList.scrollToView(0)},s.renderObjectItem=function(t,e){t>=this.mObjectData.length||e.setMarketPackageData(this.mObjectData[t])},s._requestItemPriceDatas=function(){var t=n(r().mark((function t(){var e,i,n,a,s;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.lastAutoRefreshTimePos=0,t.prev=1,t.next=4,m();case 4:if(e=t.sent,h(this.node)){t.next=7;break}return t.abrupt("return");case 7:i=0;case 8:if(!(i<this.mObjectData.length)){t.next=20;break}n=0;case 10:if(!(n<e.min.length)){t.next=17;break}if(this.mObjectData[i].tableId!==e.min[n].itemId){t.next=14;break}return this.mObjectData[i].curPrice=b(e.min[n].minPrice),t.abrupt("continue",14);case 14:n++,t.next=10;break;case 17:i++,t.next=8;break;case 20:for(a=0;a<this.mObjectData.length;a++)""===this.mObjectData[a].curPrice&&(this.mObjectData[a].curPrice="-");t.next=27;break;case 23:for(t.prev=23,t.t0=t.catch(1),console.error(t.t0),s=0;s<this.mObjectData.length;s++)this.mObjectData[s].curPrice="-";case 27:return t.prev=27,this.lastAutoRefreshTimePos=j.xTimeGetTime(),t.finish(27);case 30:this._refreshObjectList(!1);case 31:case"end":return t.stop()}}),t,this,[[1,23,27,30]])})));return function(){return t.apply(this,arguments)}}(),i(a,null,[{key:"instance",get:function(){return this._instance}}]),a}(k)).CTRL_NAME="UIDappMarketObjectController",g._instance=null,O=g))||O);a._RF.pop()}}}));

System.register("chunks:///_virtual/ui.dapp.market.object.detail.controller.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./api.chain.marketplace.ts","./api.chain.marketplace.model.ts","./chain.system.ts","./enum.chain.type.ts","./event.dispatcher.ts","./event.name.ts","./enum.item.type.ts","./table.helper.ts","./model.farm.manager.ts","./sound.helper.ts","./time.system.ts","./common.tool.ts","./logic.tool.ts","./resource.path.tool.ts","./ui.float.text.controller.ts","./ui.base.controller.ts"],(function(t){"use strict";var e,i,n,s,r,a,o,c,m,h,u,l,_,p,d,f,I,v,C,O,b,w,T,y,R,j,D,g,k;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass,n=t.asyncToGenerator,s=t.regeneratorRuntime},function(t){r=t.cclegacy,a=t._decorator,o=t.input,c=t.Input,m=t.KeyCode,h=t.Color,u=t.isValid},function(t){l=t.UIPackage,_=t.Event},function(t){p=t.apiGetMarketplaceItemList},function(t){d=t.EMarketOrderSort},function(t){f=t.ChainSystem},function(t){I=t.EChainType},function(t){v=t.EventDispatcher},function(t){C=t.EventName},function(t){O=t.EItemType},function(t){b=t.TableHelper},function(t){w=t.ModelFarmManager},function(t){T=t.SoundHelper},function(t){y=t.TimeSystem},function(t){R=t.CommonTool},function(t){j=t.LogicTool},function(t){D=t.ResourcePathTool},function(t){g=t.UIFloatTextController},function(t){k=t.UIBaseController}],execute:function(){var E,P;r._RF.push({},"ba7c2r44ihFmpjH/hu73ANG","ui.dapp.market.object.detail.controller",void 0);var A=a.ccclass;t("UIDappMarketObjectDetailController",A("UIDappMarketObjectDetailController")(((P=function(t){function r(){for(var e,i=arguments.length,n=new Array(i),s=0;s<i;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))||this).mFguiPkgName="Marketplace",e.mFguiMainViewName="Main_Item_List",e._view=null,e.mItemID=0,e.mObjectParamsReq=null,e.mObjectListRes=null,e.mCurShowCount=r.COMMON_MARKET_ITEM_MAX_COUNT,e.mCurOrderSort=d.LASTEST,e.lastAutoRefreshTimePos=0,e.AutoRefreshTimeInterval=30,e}e(r,t);var a=r.prototype;return a._addEvents=function(){t.prototype._addEvents.call(this),o.on(c.EventType.KEY_DOWN,this._onKeyDown,this),v.on(C.CHAIN_MARKETPLACE_REFRESH_ITEM_DATA,this._onRefreshMarketObjectData,this)},a._removeEvents=function(){t.prototype._removeEvents.call(this),o.off(c.EventType.KEY_DOWN,this._onKeyDown,this),v.off(C.CHAIN_MARKETPLACE_REFRESH_ITEM_DATA,this._onRefreshMarketObjectData,this)},a._onKeyDown=function(t){switch(t.keyCode){case m.ESCAPE:this._onCloseClick()}},a._onRefreshMarketObjectData=function(){this._view&&this._requestObjectData()},a.setData=function(t){this.mItemID=t},a.onLoad=function(){r._instance=this,this._startLoadPkg(this.mFguiPkgName)},a.onDestroy=function(){t.prototype.onDestroy.call(this),r._instance=null},a.closeUI=function(){t.prototype.closeUI.call(this)},a.update=function(){null!==this._view&&(this.lastAutoRefreshTimePos<=0||.001*(y.xTimeGetTime()-this.lastAutoRefreshTimePos)>this.AutoRefreshTimeInterval&&this._requestObjectData(0,!1))},a._onLoadUIFinish=function(){var e=this;t.prototype._onLoadUIFinish.call(this),this._view=l.createObject(this.mFguiPkgName,this.mFguiMainViewName).asCom,this._addUIToRoot(this._view),this._view.makeFullScreen(),this._view.closeBtn.onClick(this._onCloseClick,this),this._view.retryBtn.onClick(this._onRetryClick,this),this._view.itemIcon.onClick(this._onItemInfoClick,this),this._view.itemAddressCopyBtn.onClick(this._onAddressCopyClick,this),this._view.sortBtn.on(_.STATUS_CHANGED,this._onStatusChanged,this),this._view.orderList.itemRenderer=this._renderObjectListItem.bind(this),this._view.pageView.OnPageChange((function(t){e.OnPageChanged(t)})),this._initData()},a.OnPageChanged=function(t){null!=this._view&&this._requestObjectData(t)},a._onCloseClick=function(){var t=n(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:T.PlaySound_UICommonClose(),v.emit(C.UI_DAPP_MARKET_OBJECT_DETAIL_CLOSE),v.emit(C.UI_BAG_ITEM_SELECTED,"0");case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),a._onRetryClick=function(){var t=n(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:T.PlaySound_UICommonClick(),this._requestObjectData();case 2:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),a._onItemInfoClick=function(){var t=n(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:T.PlaySound_UICommonClick(),v.emit(C.UI_DETAILS_SHOW_ITEM_INFO,this.mItemID,!0);case 2:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),a._onAddressCopyClick=function(){T.PlaySound_UICommonClick();var t=f.instance.beraContractItemV2.contractConfig.address;t&&R.copyTextNew(t).then((function(){g.AddTipI18nID_Success("u.2516")}))},a._onStatusChanged=function(){this._view.sortBtn.selected?this.mCurOrderSort=d.HIGHEST:this.mCurOrderSort=d.LOWEST,this._requestObjectData(0)},a._initData=function(){this._view.sortBtn.selected=!1,this.mCurOrderSort=d.LOWEST,this._initObjectData(),this._requestObjectData()},a._initObjectData=function(){var t=b.getItemRecord(this.mItemID);if(t){this._view.itemIcon.url=D.getUIFarmItemPath(t.itemIcon),this._view.itemTokenID.text="I# "+this.mItemID,this._view.itemName.text=t.itemName,this._refreshItemTypeShow(t),this._view.itemChainType.setChainType(I.Bera);var e=f.instance.beraContractItemV2.contractConfig.address;this._view.itemAddressValue.text=b.getI18nUIText("u.13429")+" "+R.shortAddress(e,6)}},a._refreshItemTypeShow=function(t){if(t.itemType===O.Farm_Object){this._view.typeCtrl.selectedIndex=0;var e=Number.parseInt(t.itemParam1),i=b.getFarmResRecord(e);if(!i)return;this._view.itemCapacity.text=j.NumberTransform(i.capacity),this._view.itemLand.text=i.width+"x"+i.height}else if(t.itemType===O.Combination){this._view.typeCtrl.selectedIndex=1,this._view.itemRequireLevel.text="<Lv."+t.itemParam1,Number(t.itemParam1)>w.instance.FarmLevel?this._view.itemRequireLevel.color=new h(248,245,227):this._view.itemRequireLevel.color=new h(255,86,58);var n=t.itemParam2.split("-");if(2===n.length){var s=Number.parseInt(n[0]),r=Number.parseInt(n[1]),a=b.getItemRecord(s);a&&(this._view.itemGetIcon.url=D.getUIFarmItemPath(a.itemIcon)),this._view.itemGetAmount.text="+"+r}}},a._requestObjectData=function(){var t=n(s().mark((function t(e,i){var n,r,a;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===e&&(e=1),void 0===i&&(i=!0),this.lastAutoRefreshTimePos=0,i&&(this._view.isNoneCtrl.selectedIndex=2),t.prev=4,null==this.mObjectParamsReq?this._initReqObjectParams():this.mObjectParamsReq.sortType=this.mCurOrderSort,0!==e&&(this.mObjectParamsReq.pageNum=e),t.next=9,p(this.mObjectParamsReq);case 9:if(this.mObjectListRes=t.sent,u(this.node)){t.next=12;break}return t.abrupt("return");case 12:0===this.mObjectListRes.typeDataAmount?(this._view.isNoneCtrl.selectedIndex=1,this._view.orderList.numItems=0):(this._view.isNoneCtrl.selectedIndex=0,this._view.orderList.numItems=this.mObjectListRes.orders.length),n=this.mObjectListRes.typeDataAmount,r=this.mObjectListRes.maxPage,a=this.mObjectListRes.pageNum,0!==r&&a>r?this._requestObjectData(r):this._view.pageView.setPageData(n,r,a),t.next=23;break;case 19:t.prev=19,t.t0=t.catch(4),console.error(t.t0),this._view&&(this._view.isNoneCtrl.selectedIndex=3);case 23:return t.prev=23,this.lastAutoRefreshTimePos=y.xTimeGetTime(),t.finish(23);case 26:case"end":return t.stop()}}),t,this,[[4,19,23,26]])})));return function(e,i){return t.apply(this,arguments)}}(),a._renderObjectListItem=function(t,e){if(null!=this.mObjectListRes&&!(t>=this.mObjectListRes.orders.length)){var i=this.mObjectListRes.orders[t];e.setMarketObjectData(i)}},a._initReqObjectParams=function(){this.mObjectParamsReq={},this.mObjectParamsReq.chainId=f.instance.useBeraChainId,this.mObjectParamsReq.count=this.mCurShowCount,this.mObjectParamsReq.pageNum=1,this.mObjectParamsReq.sortType=this.mCurOrderSort,this.mObjectParamsReq.itemId=this.mItemID},i(r,null,[{key:"instance",get:function(){return this._instance}}]),r}(k)).CTRL_NAME="UIDappMarketObjectDetailController",P.COMMON_MARKET_ITEM_MAX_COUNT=10,P._instance=null,E=P))||E);r._RF.pop()}}}));

System.register("chunks:///_virtual/ui.dapp.market.object.detail.item.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./event.dispatcher.ts","./event.name.ts","./use.ethers.ts","./sdk.manager.ts","./table.helper.ts","./sound.helper.ts","./common.tool.ts","./resource.path.tool.ts"],(function(t){"use strict";var e,i,r,o,n,s,a,u,c,h,l,m;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy,r=t._decorator},function(t){o=t.GButton},function(t){n=t.EventDispatcher},function(t){s=t.EventName},function(t){a=t.formatEther},function(t){u=t.SDKManager},function(t){c=t.TableHelper},function(t){h=t.SoundHelper},function(t){l=t.CommonTool},function(t){m=t.ResourcePathTool}],execute:function(){var d,C;i._RF.push({},"9998b+bJ0RH/ZfsNMfPECqc","ui.dapp.market.object.detail.item.view",void 0);var f=r.ccclass;t("default",f("UIDappMarketObjectDetailItemView")(((C=function(t){function i(){var e;return(e=t.call(this)||this).btnCtrl=void 0,e.isMyOrderCtrl=void 0,e.itemAddress=void 0,e.itemCount=void 0,e.itemPriceIcon=void 0,e.itemPrice=void 0,e.mCurShowData=void 0,e.MIN_NUMBER=1e-4,e}e(i,t);var r=i.prototype;return r.onConstruct=function(){this.btnCtrl=this.getController("button"),this.isMyOrderCtrl=this.getController("IsMyOrder"),this.itemAddress=this.getChild("ui_Owner"),this.itemCount=this.getChild("ui_Amount"),this.itemPriceIcon=this.getChild("ui_TokenIcon"),this.itemPrice=this.getChild("ui_Price"),this.onClick(this._onOrderItemClick,this)},r._onOrderItemClick=function(){h.PlaySound_UICommonClick(),null!=this.mCurShowData&&n.emit(s.UI_DETAILS_SHOW_ITEM_MARKET_BUYSELL,this.mCurShowData)},r.setMarketObjectData=function(t){if(this.mCurShowData=t,c.getItemRecord(Number(this.mCurShowData.tokenID))){this.itemAddress.text=l.shortAddress(this.mCurShowData.orderOwner,6),this.itemCount.text=this.mCurShowData.amount,this.itemPriceIcon.url=m.getUIFarmItemPath("Coin_Bera");var e=1/this.MIN_NUMBER;this.itemPrice.text=(Math.floor(Number(a(this.mCurShowData.price))*e)/e).toString(),this.mCurShowData.orderOwner.toLowerCase()===u.instance.curSDKPlugin.accountMeInfo.addressEvm.toLowerCase()?this.isMyOrderCtrl.selectedIndex=1:this.isMyOrderCtrl.selectedIndex=0}},i}(o)).URL="ui://Marketplace/listbar_Item",d=C))||d);i._RF.pop()}}}));

System.register("chunks:///_virtual/ui.dapp.market.object.detail.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){"use strict";var i,e,s,o;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy,s=t._decorator},function(t){o=t.GComponent}],execute:function(){var h,n;e._RF.push({},"2e1afUBQcZPtLkcdktJlpeJ","ui.dapp.market.object.detail.view",void 0);var d=s.ccclass;t("default",d("UIDappMarketObjectDetailView")(((n=function(t){function e(){var i;return(i=t.call(this)||this).isNoneCtrl=void 0,i.typeCtrl=void 0,i.closeBtn=void 0,i.retryBtn=void 0,i.itemIcon=void 0,i.itemName=void 0,i.itemTokenID=void 0,i.itemCapacity=void 0,i.itemLand=void 0,i.itemRequireLevel=void 0,i.itemGetIcon=void 0,i.itemGetAmount=void 0,i.itemChainType=void 0,i.itemAddressValue=void 0,i.itemAddressCopyBtn=void 0,i.orderList=void 0,i.sortBtn=void 0,i.pageView=void 0,i}return i(e,t),e.prototype.onConstruct=function(){this.isNoneCtrl=this.getController("IsNone"),this.typeCtrl=this.getController("IsEssence"),this.closeBtn=this.getChild("ui_WindClose"),this.retryBtn=this.getChild("ui_BtnRetry"),this.itemIcon=this.getChild("ui_ItemIcon"),this.itemName=this.getChild("ui_ItemName"),this.itemTokenID=this.getChild("ui_NFTID");var t=this.getChild("ui_Value1");this.itemCapacity=t.getChild("ui_Value");var i=this.getChild("ui_Value2");this.itemLand=i.getChild("ui_Value"),this.itemRequireLevel=this.getChild("ui_ItemRquireLevel"),this.itemGetIcon=this.getChild("ui_AfterUseIcon"),this.itemGetAmount=this.getChild("ui_AfterUseValue"),this.itemChainType=this.getChild("ui_ChainType"),this.itemAddressValue=this.getChild("ui_WalletAddress"),this.itemAddressCopyBtn=this.getChild("ui_BtnAccountCopy"),this.orderList=this.getChild("ui_ItemList"),this.sortBtn=this.getChild("ui_BtnSort"),this.pageView=this.getChild("ui_PageTurnGp")},e}(o)).URL="ui://Marketplace/Main_Item_List",h=n))||h);e._RF.pop()}}}));

System.register("chunks:///_virtual/ui.dapp.market.object.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){"use strict";var i,e,o,n;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy,o=t._decorator},function(t){n=t.GComponent}],execute:function(){var s,r;e._RF.push({},"69cf2VJijdKx4gkI4nyEZVJ","ui.dapp.market.object.view",void 0);var c=o.ccclass;t("default",c("UIDappMarketObjectView")(((r=function(t){function e(){var i;return(i=t.call(this)||this).closeBtn=void 0,i.filterBtn=void 0,i.sortBtn=void 0,i.objectList=void 0,i}return i(e,t),e.prototype.onConstruct=function(){this.closeBtn=this.getChild("ui_WindClose"),this.filterBtn=this.getChild("ui_BtnFilter"),this.sortBtn=this.getChild("ui_MktComboBox"),this.objectList=this.getChild("ui_List_Wizard")},e}(n)).URL="ui://Marketplace/Main_Item",s=r))||s);e._RF.pop()}}}));

System.register("chunks:///_virtual/ui.dapp.market.page.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./sound.helper.ts"],(function(t){"use strict";var e,n,a,i,o,g;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,a=t.EditBox},function(t){i=t.Event,o=t.GComponent},function(t){g=t.SoundHelper}],execute:function(){n._RF.push({},"b7cfePWUwRHsLA4p6o8FC+W","ui.dapp.market.page.view",void 0),t("default",function(t){function n(){for(var e,n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))||this).totalPage=void 0,e.curPage=void 0,e.topPageBtn=void 0,e.lastPageBtn=void 0,e.nextPageBtn=void 0,e.endPageBtn=void 0,e.mCurPageValue=0,e.mTotalPageValue=0,e._onPageChanged=null,e}e(n,t);var o=n.prototype;return o.onConstruct=function(){this.totalPage=this.getChild("ui_TotalValue"),this.curPage=this.getChild("ui_InputPage"),this.topPageBtn=this.getChild("ui_BtnTop"),this.lastPageBtn=this.getChild("ui_BtnLast"),this.nextPageBtn=this.getChild("ui_BtnNext"),this.endPageBtn=this.getChild("ui_BtnEnd"),this.curPage._editBox.inputMode=a.InputMode.NUMERIC,this.curPage.on(i.TEXT_CHANGE,this._onPageTextChanged,this),this.topPageBtn.onClick(this._onTopPageClick,this),this.lastPageBtn.onClick(this._onLastPageClick,this),this.nextPageBtn.onClick(this._onNextPageClick,this),this.endPageBtn.onClick(this._onEndPageClick,this)},o._onPageTextChanged=function(){var t=Number.parseInt(this.curPage.text);isNaN(t)&&(t=0);var e=this.mTotalPageValue;t<=0&&(t=1),t>e&&(t=e),this.curPage.text=t.toString(),this.mCurPageValue!==t&&this._onPageChanged&&this._onPageChanged(t)},o._onTopPageClick=function(){g.PlaySound_UICommonClick(),this._onPageChanged&&this._onPageChanged(1)},o._onLastPageClick=function(){if(g.PlaySound_UICommonClick(),this._onPageChanged){var t=this.mCurPageValue-1;this._onPageChanged(t)}},o._onNextPageClick=function(){if(g.PlaySound_UICommonClick(),this._onPageChanged){var t=this.mCurPageValue+1;this._onPageChanged(t)}},o._onEndPageClick=function(){g.PlaySound_UICommonClick(),this._onPageChanged&&this._onPageChanged(this.mTotalPageValue)},o.OnPageChange=function(t){this._onPageChanged=t},o.setPageData=function(t,e,n){this.mCurPageValue=n,this.mTotalPageValue=e,this.totalPage.text="Total "+e,this.curPage.text=n.toString(),this.topPageBtn.enabled=!0,this.lastPageBtn.enabled=!0,this.nextPageBtn.enabled=!0,this.endPageBtn.enabled=!0,n<=1&&(this.topPageBtn.enabled=!1,this.lastPageBtn.enabled=!1),n>=e&&(this.nextPageBtn.enabled=!1,this.endPageBtn.enabled=!1)},n}(o)).URL="ui://Marketplace/PageTurnGp",n._RF.pop()}}}));

System.register("chunks:///_virtual/ui.dapp.market.range.slider.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./table.helper.ts","./logic.tool.ts","./ui.common.range.slider.ts"],(function(t){"use strict";var e,i,n,r,o,s;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy,n=t._decorator},function(t){r=t.TableHelper},function(t){o=t.LogicTool},function(t){s=t.default}],execute:function(){var u,c;i._RF.push({},"a7e59Al4rRBuL/wT90JLPIm","ui.dapp.market.range.slider.view",void 0);var a=n.ccclass;t("default",a("UIDappMarketRangeSliderView")(((c=function(t){function i(){var e;return(e=t.call(this)||this).mType=0,e}e(i,t);var n=i.prototype;return n.onConstruct=function(){t.prototype.onConstruct.call(this)},n.InitView=function(t,e,i,n){this.Init(e,i,n),this.mType=t},n._setThumbBtnText=function(e,i){if(t.prototype._setThumbBtnText.call(this,e,i),0===this.mType){var n=o.i18nFormat(r.getI18nUIText("u.10102"),[e.text]);this._setThumbBtnTip(e,n)}else 1===this.mType&&40===i&&(e.text="40+",this._setThumbBtnTip(e,e.text))},i}(s)).URL="ui://Marketplace/slider_Filter",u=c))||u);i._RF.pop()}}}));

System.register("chunks:///_virtual/ui.dapp.market.sort.item.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){"use strict";var e,i,r;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy},function(t){r=t.GButton}],execute:function(){i._RF.push({},"a1b378WAzdI2LFBJBVtvejF","ui.dapp.market.sort.item.view",void 0),t("default",function(t){function i(){for(var e,i=arguments.length,r=new Array(i),n=0;n<i;n++)r[n]=arguments[n];return(e=t.call.apply(t,[this].concat(r))||this).btnCtrl=void 0,e.labelNormal=void 0,e.labelSelected=void 0,e.labelStr=void 0,e}e(i,t);var r=i.prototype;return r.onConstruct=function(){this.btnCtrl=this.getController("button")},r.setText=function(t){this.labelStr=t,this.title=t},r.reset=function(){this.btnCtrl.selectedPage="up"},i}(r)).URL="ui://Marketplace/marketcombo_item",i._RF.pop()}}}));

System.register("chunks:///_virtual/ui.dapp.market.sort.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./table.helper.ts","./ui.dapp.market.sort.item.view.ts"],(function(t){"use strict";var e,i,s,r,n,o,l;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass},function(t){s=t.cclegacy},function(t){r=t.Event,n=t.GComponent},function(t){o=t.TableHelper},function(t){l=t.default}],execute:function(){s._RF.push({},"8735f4yxAtFGIMOzHEb0JP2","ui.dapp.market.sort.view",void 0),t("default",function(t){function s(){for(var e,i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))||this).listGroup=void 0,e.sortList=void 0,e.sortBtn=void 0,e.curSelectedIndex=0,e._onSortChanged=null,e}e(s,t);var n=s.prototype;return n.onConstruct=function(){this.listGroup=this.getChild("ui_List"),this.sortList=this.getChild("ui_MktComboList"),this.sortBtn=this.getChild("ui_MktComboBtn"),this.sortBtn.onClick(this._onSortBtnClick,this),this.sortList.on(r.CLICK_ITEM,this._onSortListItemClick,this)},n._onSortBtnClick=function(){this.listGroup.visible?this.listGroup.visible=!1:this.listGroup.visible=!0},n._onSortListItemClick=function(){this.curSelectedIndex!==this.sortList.selectedIndex?(this.sortList.getChildAt(this.curSelectedIndex).reset(),this.curSelectedIndex=this.sortList.selectedIndex,this.sortBtn.text=this.sortList.getChildAt(this.sortList.selectedIndex).labelStr,this.listGroup.visible=!1,this._onSortChanged&&this._onSortChanged(this.curSelectedIndex)):this.listGroup.visible=!1},n.OnSortChange=function(t){this._onSortChanged=t},n.initWizardSortView=function(){this.sortList.removeChildren(),this.sortList.addItem(l.URL).setText(o.getI18nUIText("u.14017")),this.sortList.addItem(l.URL).setText(o.getI18nUIText("u.14018")),this.sortList.addItem(l.URL).setText(o.getI18nUIText("u.14016")),this.curSelectedIndex=2,this.sortList.selectedIndex=this.curSelectedIndex,this.sortBtn.text=this.sortList.getChildAt(this.curSelectedIndex).labelStr,this.listGroup.visible=!1},n.initObjectSortView=function(){this.sortList.removeChildren(),this.sortList.addItem(l.URL).setText(o.getI18nUIText("u.14019")),this.sortList.addItem(l.URL).setText(o.getI18nUIText("u.14020")),this.curSelectedIndex=1,this.sortList.selectedIndex=this.curSelectedIndex,this.sortBtn.text=this.sortList.getChildAt(this.curSelectedIndex).labelStr,this.listGroup.visible=!1},i(s,[{key:"CurSelectedIndex",get:function(){return this.curSelectedIndex}}]),s}(n)).URL="ui://Marketplace/marketcombo",s._RF.pop()}}}));

System.register("chunks:///_virtual/ui.dapp.market.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){"use strict";var i,n,e,o;return{setters:[function(t){i=t.inheritsLoose},function(t){n=t.cclegacy,e=t._decorator},function(t){o=t.GComponent}],execute:function(){var s,r;n._RF.push({},"b40dbkgBYFBOJLQGYRPAoq9","ui.dapp.market.view",void 0);var u=e.ccclass;t("default",u("UIDappMarketView")(((r=function(t){function n(){var i;return(i=t.call(this)||this).closeBtn=void 0,i.wizardNftBtn=void 0,i.objectNftBtn=void 0,i.myNftBtn=void 0,i.linkBtn=void 0,i}return i(n,t),n.prototype.onConstruct=function(){this.closeBtn=this.getChild("ui_WindClose"),this.wizardNftBtn=this.getChild("ui_WizardBtn"),this.objectNftBtn=this.getChild("ui_ItemBtn"),this.myNftBtn=this.getChild("ui_NFTBtn"),this.linkBtn=this.getChild("ui_Link")},n}(o)).URL="ui://Marketplace/Main",s=r))||s);n._RF.pop()}}}));

System.register("chunks:///_virtual/ui.dapp.market.wizard.controller.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./api.chain.marketplace.ts","./api.chain.marketplace.model.ts","./event.dispatcher.ts","./event.name.ts","./sound.helper.ts","./ui.base.controller.ts","./chain.system.ts"],(function(t){"use strict";var e,i,r,a,n,s,o,c,u,h,l,d,m,_,p,f,C,v;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass,r=t.asyncToGenerator,a=t.regeneratorRuntime},function(t){n=t.cclegacy,s=t._decorator,o=t.input,c=t.Input,u=t.KeyCode,h=t.isValid},function(t){l=t.UIPackage},function(t){d=t.apiGetMarketplaceWizardList},function(t){m=t.EMarketOrderSort},function(t){_=t.EventDispatcher},function(t){p=t.EventName},function(t){f=t.SoundHelper},function(t){C=t.UIBaseController},function(t){v=t.ChainSystem}],execute:function(){var W,R;n._RF.push({},"4ba30u5Y2tDQKcUmsc3liAv","ui.dapp.market.wizard.controller",void 0);var z=s.ccclass;t("UIDappMarketWizardController",z("UIDappMarketWizardController")(((R=function(t){function n(){for(var e,i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))||this).mFguiPkgName="Marketplace",e.mFguiMainViewName="Main_Wizard",e._view=null,e.mWizardParamsReq=null,e.mWizardListRes=null,e.mCurShowCount=n.COMMON_MARKET_ITEM_MAX_COUNT,e.mCurOrderSort=m.LASTEST,e}e(n,t);var s=n.prototype;return s._addEvents=function(){t.prototype._addEvents.call(this),o.on(c.EventType.KEY_DOWN,this._onKeyDown,this),_.on(p.CHAIN_MARKETPLACE_REFRESH_WIZWARD_DATA,this._onRefreshMarketWizardData,this)},s._removeEvents=function(){t.prototype._removeEvents.call(this),o.off(c.EventType.KEY_DOWN,this._onKeyDown,this),_.off(p.CHAIN_MARKETPLACE_REFRESH_WIZWARD_DATA,this._onRefreshMarketWizardData,this)},s._onKeyDown=function(t){switch(t.keyCode){case u.ESCAPE:this._onCloseClick()}},s._onRefreshMarketWizardData=function(){this._view&&this._requestWizardData()},s.onLoad=function(){n._instance=this,this._startLoadPkg(this.mFguiPkgName)},s.onDestroy=function(){t.prototype.onDestroy.call(this),n._instance=null},s.closeUI=function(){t.prototype.closeUI.call(this)},s.update=function(){this._view},s._onLoadUIFinish=function(){var e=this;t.prototype._onLoadUIFinish.call(this),this._view=l.createObject(this.mFguiPkgName,this.mFguiMainViewName).asCom,this._addUIToRoot(this._view),this._view.makeFullScreen(),this._view.closeBtn.onClick(this._onCloseClick,this),this._view.retryBtn.onClick(this._onRetryClick,this),this._view.filterBtn.onClick(this._onFilterClick,this),this._view.wizardList.itemRenderer=this._renderWizardListItem.bind(this),this._view.pageView.OnPageChange((function(t){e.OnPageChanged(t)})),this._view.sortBtn.initWizardSortView(),this._view.sortBtn.OnSortChange((function(t){e.OnSortChanged(t)})),this.mCurOrderSort=m.LASTEST,this._requestWizardData()},s.OnPageChanged=function(t){null!=this._view&&this._requestWizardData(t)},s.OnSortChanged=function(t){null!=this._view&&(this.mCurOrderSort=0===t?m.HIGHEST:1===t?m.LOWEST:m.LASTEST,this._requestWizardData(0))},s._onCloseClick=function(){var t=r(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:f.PlaySound_UICommonClose(),_.emit(p.UI_DAPP_MARKET_WIZARD_CLOSE);case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),s._onRetryClick=function(){var t=r(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:f.PlaySound_UICommonClick(),this._requestWizardData();case 2:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),s._onFilterClick=function(){var t=r(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(f.PlaySound_UICommonClick(),this.mWizardParamsReq){t.next=3;break}return t.abrupt("return");case 3:_.emit(p.UI_DAPP_MARKET_WIZARD_FILTER_OPEN,this.mWizardParamsReq);case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),s._requestWizardData=function(){var t=r(a().mark((function t(e){var i,r,n;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===e&&(e=1),this._view.isNoneCtrl.selectedIndex=2,t.prev=2,null==this.mWizardParamsReq?this._initReqWizardParams():this.mWizardParamsReq.sortType=this.mCurOrderSort,0!==e&&(this.mWizardParamsReq.pageNum=e),t.next=7,d(this.mWizardParamsReq);case 7:if(this.mWizardListRes=t.sent,h(this.node)){t.next=10;break}return t.abrupt("return");case 10:0===this.mWizardListRes.typeDataAmount?(this._view.isNoneCtrl.selectedIndex=1,this._view.wizardList.numItems=0):(this._view.isNoneCtrl.selectedIndex=0,this._view.wizardList.numItems=this.mWizardListRes.orders.length),i=this.mWizardListRes.typeDataAmount,r=this.mWizardListRes.maxPage,n=this.mWizardListRes.pageNum,0!==r&&n>r?this._requestWizardData(r):this._view.pageView.setPageData(i,r,n),t.next=21;break;case 17:t.prev=17,t.t0=t.catch(2),console.error(t.t0),this._view&&(this._view.isNoneCtrl.selectedIndex=3);case 21:case"end":return t.stop()}}),t,this,[[2,17]])})));return function(e){return t.apply(this,arguments)}}(),s._renderWizardListItem=function(t,e){if(null!=this.mWizardListRes&&!(t>=this.mWizardListRes.orders.length)){var i=this.mWizardListRes.orders[t];e.setOnMarketWorkerData(i)}},s._initReqWizardParams=function(){this.mWizardParamsReq={},this.mWizardParamsReq.chainId=v.instance.useBeraChainId,this.mWizardParamsReq.count=this.mCurShowCount,this.mWizardParamsReq.pageNum=1,this.mWizardParamsReq.sortType=this.mCurOrderSort,this.mWizardParamsReq.filterStars=[],this.mWizardParamsReq.filterLevel=[],this.mWizardParamsReq.filterSkillType=[],this.mWizardParamsReq.filterSkillQuality=[],this.mWizardParamsReq.filterRetrainNum=[]},i(n,null,[{key:"instance",get:function(){return this._instance}}]),n}(C)).CTRL_NAME="UIDappMarketWizardController",R._instance=null,R.COMMON_MARKET_ITEM_MAX_COUNT=9,W=R))||W);n._RF.pop()}}}));

System.register("chunks:///_virtual/ui.dapp.market.wizard.filter.controller.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./event.dispatcher.ts","./event.name.ts","./sound.helper.ts","./ui.base.controller.ts"],(function(e){"use strict";var t,i,s,l,a,r,n,h,c,d,u,m,o,_;return{setters:[function(e){t=e.inheritsLoose,i=e.createClass,s=e.asyncToGenerator,l=e.regeneratorRuntime},function(e){a=e.cclegacy,r=e._decorator,n=e.input,h=e.Input,c=e.KeyCode},function(e){d=e.UIPackage},function(e){u=e.EventDispatcher},function(e){m=e.EventName},function(e){o=e.SoundHelper},function(e){_=e.UIBaseController}],execute:function(){var v,p;a._RF.push({},"dbc51RMcZZERoA4ZImAu09X","ui.dapp.market.wizard.filter.controller",void 0);var k=r.ccclass;e("UIDappMarketWizardFilterController",k("UIDappMarketWizardFilterController")(((p=function(e){function a(){for(var t,i=arguments.length,s=new Array(i),l=0;l<i;l++)s[l]=arguments[l];return(t=e.call.apply(e,[this].concat(s))||this).mFguiPkgName="Marketplace",t.mFguiMainViewName="Main_Filter_Wizard",t._view=null,t.mWizardParamsReq=null,t.filterStars=[],t.filterLevel=[],t.filterSkillType=[],t.filterSkillQuality=[],t.filterRetrainNum=[],t}t(a,e);var r=a.prototype;return r._addEvents=function(){e.prototype._addEvents.call(this),n.on(h.EventType.KEY_DOWN,this._onKeyDown,this)},r._removeEvents=function(){e.prototype._removeEvents.call(this),n.off(h.EventType.KEY_DOWN,this._onKeyDown,this)},r._onKeyDown=function(e){switch(e.keyCode){case c.ESCAPE:this._onCloseClick()}},r.setData=function(e){this.mWizardParamsReq=e},r.onLoad=function(){a._instance=this,this._startLoadPkg(this.mFguiPkgName)},r.onDestroy=function(){e.prototype.onDestroy.call(this),a._instance=null},r.closeUI=function(){e.prototype.closeUI.call(this)},r.update=function(){this._view},r._onLoadUIFinish=function(){e.prototype._onLoadUIFinish.call(this),this._view=d.createObject(this.mFguiPkgName,this.mFguiMainViewName).asCom,this._addUIToRoot(this._view),this._view.makeFullScreen(),this._view.closeBtn.onClick(this._onCloseClick,this),this._view.resetBtn.onClick(this._onResetClick,this),this._view.saveBtn.onClick(this._onSaveClick,this),this._initData()},r._onCloseClick=function(){var e=s(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o.PlaySound_UICommonClose(),u.emit(m.UI_DAPP_MARKET_WIZARD_FILTER_CLOSE);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),r._onResetClick=function(){var e=s(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o.PlaySound_UICommonClick(),this._resetData();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),r._onSaveClick=function(){var e=s(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o.PlaySound_UICommonClick(),this._saveData(),u.emit(m.CHAIN_MARKETPLACE_REFRESH_WIZWARD_DATA),u.emit(m.UI_DAPP_MARKET_WIZARD_FILTER_CLOSE);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),r._initData=function(){if(null!=this.mWizardParamsReq){if(this.mWizardParamsReq.filterStars&&this.mWizardParamsReq.filterStars.length>0?(this.mWizardParamsReq.filterStars.includes(1)?this._view.star1Btn.selected=!0:this._view.star1Btn.selected=!1,this.mWizardParamsReq.filterStars.includes(2)?this._view.star2Btn.selected=!0:this._view.star2Btn.selected=!1,this.mWizardParamsReq.filterStars.includes(3)?this._view.star3Btn.selected=!0:this._view.star3Btn.selected=!1):(this._view.star1Btn.selected=!0,this._view.star2Btn.selected=!0,this._view.star3Btn.selected=!0),this.mWizardParamsReq.filterLevel&&2===this.mWizardParamsReq.filterLevel.length){var e=this.mWizardParamsReq.filterLevel[0],t=this.mWizardParamsReq.filterLevel[1];this._view.levelSlider.SetValue(e,t)}else this._view.levelSlider.SetValue(1,30);if(this.mWizardParamsReq.filterSkillType&&this.mWizardParamsReq.filterSkillType.length>0?(this.mWizardParamsReq.filterSkillType.includes(1)?this._view.skillType1Btn.selected=!0:this._view.skillType1Btn.selected=!1,this.mWizardParamsReq.filterSkillType.includes(2)?this._view.skillType2Btn.selected=!0:this._view.skillType2Btn.selected=!1,this.mWizardParamsReq.filterSkillType.includes(3)?this._view.skillType3Btn.selected=!0:this._view.skillType3Btn.selected=!1,this.mWizardParamsReq.filterSkillType.includes(4)?this._view.skillType4Btn.selected=!0:this._view.skillType4Btn.selected=!1,this.mWizardParamsReq.filterSkillType.includes(5)?this._view.skillType5Btn.selected=!0:this._view.skillType5Btn.selected=!1):(this._view.skillType1Btn.selected=!0,this._view.skillType2Btn.selected=!0,this._view.skillType3Btn.selected=!0,this._view.skillType4Btn.selected=!0,this._view.skillType5Btn.selected=!0),this.mWizardParamsReq.filterSkillQuality&&this.mWizardParamsReq.filterSkillQuality.length>0?(this.mWizardParamsReq.filterSkillQuality.includes(1)?this._view.skillQuality1Btn.selected=!0:this._view.skillQuality1Btn.selected=!1,this.mWizardParamsReq.filterSkillQuality.includes(2)?this._view.skillQuality2Btn.selected=!0:this._view.skillQuality2Btn.selected=!1,this.mWizardParamsReq.filterSkillQuality.includes(3)?this._view.skillQuality3Btn.selected=!0:this._view.skillQuality3Btn.selected=!1):(this._view.skillQuality1Btn.selected=!0,this._view.skillQuality2Btn.selected=!0,this._view.skillQuality3Btn.selected=!0),this.mWizardParamsReq.filterRetrainNum&&2===this.mWizardParamsReq.filterRetrainNum.length){var i=this.mWizardParamsReq.filterRetrainNum[0],s=this.mWizardParamsReq.filterRetrainNum[1];this._view.retrainSlider.SetValue(i,s)}else this._view.retrainSlider.SetValue(1,40)}},r._resetData=function(){this._view.star1Btn.selected=!0,this._view.star2Btn.selected=!0,this._view.star3Btn.selected=!0,this._view.levelSlider.SetValue(1,30),this._view.skillType1Btn.selected=!0,this._view.skillType2Btn.selected=!0,this._view.skillType3Btn.selected=!0,this._view.skillType4Btn.selected=!0,this._view.skillType5Btn.selected=!0,this._view.skillQuality1Btn.selected=!0,this._view.skillQuality2Btn.selected=!0,this._view.skillQuality3Btn.selected=!0,this._view.retrainSlider.SetValue(1,40)},r._saveData=function(){this._view.star1Btn.selected&&this._view.star2Btn.selected&&this._view.star3Btn.selected?this.mWizardParamsReq.filterStars=[]:(this.mWizardParamsReq.filterStars=[],this._view.star1Btn.selected&&this.mWizardParamsReq.filterStars.push(1),this._view.star2Btn.selected&&this.mWizardParamsReq.filterStars.push(2),this._view.star3Btn.selected&&this.mWizardParamsReq.filterStars.push(3));var e=this._view.levelSlider.GetValue();1===e[0]&&30===e[1]?this.mWizardParamsReq.filterLevel=[]:this.mWizardParamsReq.filterLevel=e,this._view.skillType1Btn.selected&&this._view.skillType2Btn.selected&&this._view.skillType3Btn.selected&&this._view.skillType4Btn.selected&&this._view.skillType5Btn.selected?this.mWizardParamsReq.filterSkillType=[]:(this.mWizardParamsReq.filterSkillType=[],this._view.skillType1Btn.selected&&this.mWizardParamsReq.filterSkillType.push(1),this._view.skillType2Btn.selected&&this.mWizardParamsReq.filterSkillType.push(2),this._view.skillType3Btn.selected&&this.mWizardParamsReq.filterSkillType.push(3),this._view.skillType4Btn.selected&&this.mWizardParamsReq.filterSkillType.push(4),this._view.skillType5Btn.selected&&this.mWizardParamsReq.filterSkillType.push(5)),this._view.skillQuality1Btn.selected&&this._view.skillQuality2Btn.selected&&this._view.skillQuality3Btn.selected?this.mWizardParamsReq.filterSkillQuality=[]:(this.mWizardParamsReq.filterSkillQuality=[],this._view.skillQuality1Btn.selected&&this.mWizardParamsReq.filterSkillQuality.push(1),this._view.skillQuality2Btn.selected&&this.mWizardParamsReq.filterSkillQuality.push(2),this._view.skillQuality3Btn.selected&&this.mWizardParamsReq.filterSkillQuality.push(3));var t=this._view.retrainSlider.GetValue();0===t[0]&&40===t[1]?this.mWizardParamsReq.filterRetrainNum=[]:this.mWizardParamsReq.filterRetrainNum=t},i(a,null,[{key:"instance",get:function(){return this._instance}}]),a}(_)).CTRL_NAME="UIDappMarketWizardFilterController",p._instance=null,v=p))||v);a._RF.pop()}}}));

System.register("chunks:///_virtual/ui.dapp.market.wizard.filter.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./resource.path.tool.ts","./ui.common.range.slider.ts"],(function(i){"use strict";var t,l,e,n,s,r;return{setters:[function(i){t=i.inheritsLoose},function(i){l=i.cclegacy,e=i._decorator},function(i){n=i.GComponent},function(i){s=i.ResourcePathTool},function(i){r=i.ERangeSliderType}],execute:function(){var h,o;l._RF.push({},"5147aXGDFxONbAuR6ycQtU+","ui.dapp.market.wizard.filter.view",void 0);var d=e.ccclass;i("default",d("UIDappMarketWizardFilterView")(((o=function(i){function l(){var t;return(t=i.call(this)||this).closeBtn=void 0,t.wind=void 0,t.star1Btn=void 0,t.star2Btn=void 0,t.star3Btn=void 0,t.levelSlider=void 0,t.skillType1Btn=void 0,t.skillType2Btn=void 0,t.skillType3Btn=void 0,t.skillType4Btn=void 0,t.skillType5Btn=void 0,t.skillQuality1Btn=void 0,t.skillQuality2Btn=void 0,t.skillQuality3Btn=void 0,t.retrainSlider=void 0,t.resetBtn=void 0,t.saveBtn=void 0,t}return t(l,i),l.prototype.onConstruct=function(){this.closeBtn=this.getChild("ui_WindClose"),this.wind=this.getChild("Bg1"),this.star1Btn=this.wind.getChild("ui_CheckBtn_Star1"),this.star2Btn=this.wind.getChild("ui_CheckBtn_Star2"),this.star3Btn=this.wind.getChild("ui_CheckBtn_Star3"),this.levelSlider=this.wind.getChild("ui_Slider_WizardLevel"),this.skillType1Btn=this.wind.getChild("ui_CheckBtn_Major1"),this.skillType2Btn=this.wind.getChild("ui_CheckBtn_Major2"),this.skillType3Btn=this.wind.getChild("ui_CheckBtn_Major3"),this.skillType4Btn=this.wind.getChild("ui_CheckBtn_Major4"),this.skillType5Btn=this.wind.getChild("ui_CheckBtn_Major5"),this.skillQuality1Btn=this.wind.getChild("ui_CheckBtn_MajorQuality1"),this.skillQuality2Btn=this.wind.getChild("ui_CheckBtn_MajorQuality2"),this.skillQuality3Btn=this.wind.getChild("ui_CheckBtn_MajorQuality3"),this.retrainSlider=this.wind.getChild("ui_Slider_Retrainings"),this.resetBtn=this.getChild("ui_BtnRestore"),this.saveBtn=this.getChild("ui_BtnSave"),this.wind.getChild("ui_SkillIcon1").url=s.getUISkillItemPath("MajorSkillsIcon_MagicalArts"),this.wind.getChild("ui_SkillIcon2").url=s.getUISkillItemPath("MajorSkillsIcon_Agronomy"),this.wind.getChild("ui_SkillIcon3").url=s.getUISkillItemPath("MajorSkillsIcon_Potionology"),this.wind.getChild("ui_SkillIcon4").url=s.getUISkillItemPath("MajorSkillsIcon_Alchemology"),this.wind.getChild("ui_SkillIcon5").url=s.getUISkillItemPath("MajorSkillsIcon_FinanceStudies"),this.levelSlider.InitView(0,1,30,r.Integer),this.retrainSlider.InitView(1,1,40,r.Integer)},l}(n)).URL="ui://Marketplace/Main_Filter_Wizard",h=o))||h);l._RF.pop()}}}));

System.register("chunks:///_virtual/ui.dapp.market.wizard.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){"use strict";var i,e,r,s;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy,r=t._decorator},function(t){s=t.GComponent}],execute:function(){var n,o;e._RF.push({},"075ccDKRp1FaYg99vS4LWVD","ui.dapp.market.wizard.view",void 0);var a=r.ccclass;t("default",a("UIDappMarketWizardView")(((o=function(t){function e(){var i;return(i=t.call(this)||this).isNoneCtrl=void 0,i.closeBtn=void 0,i.retryBtn=void 0,i.filterBtn=void 0,i.sortBtn=void 0,i.wizardList=void 0,i.pageView=void 0,i}return i(e,t),e.prototype.onConstruct=function(){this.isNoneCtrl=this.getController("IsNone"),this.closeBtn=this.getChild("ui_WindClose"),this.retryBtn=this.getChild("ui_BtnRetry"),this.filterBtn=this.getChild("ui_BtnFilter"),this.sortBtn=this.getChild("ui_MktComboBox"),this.wizardList=this.getChild("ui_List_Wizard"),this.pageView=this.getChild("ui_PageTurnGp")},e}(s)).URL="ui://Marketplace/Main_Wizard",n=o))||n);e._RF.pop()}}}));

System.register("chunks:///_virtual/ui.dapp.shop.controller.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./chain.system.ts","./event.dispatcher.ts","./event.name.ts","./sound.helper.ts","./ui.base.controller.ts","./bera.swap.mainnet.ts"],(function(t){"use strict";var e,n,a,i,s,r,l,u,o,c,h,p,_,f,m,d,y,v,V;return{setters:[function(t){e=t.inheritsLoose,n=t.createClass,a=t.asyncToGenerator,i=t.regeneratorRuntime},function(t){s=t.cclegacy,r=t._decorator,l=t.input,u=t.Input,o=t.KeyCode,c=t.isValid,h=t.error},function(t){p=t.UIPackage,_=t.Event},function(t){f=t.ChainSystem},function(t){m=t.EventDispatcher},function(t){d=t.EventName},function(t){y=t.SoundHelper},function(t){v=t.UIBaseController},function(t){V=t.BeraSwapMainnet}],execute:function(){var w,C;s._RF.push({},"fab179DuJBOC6eNdEsY8qy6","ui.dapp.shop.controller",void 0);var I,b=r.ccclass;!function(t){t[t.AllVault=0]="AllVault",t[t.MyVault=1]="MyVault"}(I||(I={}));t("UIDappShopController",b("UIDappShopController")(((C=function(t){function s(){for(var e,n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))||this).mFguiPkgName="WizardingPawnShop",e.mFguiMainViewName="Main",e._view=null,e._curTabType=I.AllVault,e.mAllVaultData=[],e.mMyVaultData=[],e}e(s,t);var r=s.prototype;return r._addEvents=function(){t.prototype._addEvents.call(this),l.on(u.EventType.KEY_DOWN,this._onKeyDown,this)},r._removeEvents=function(){t.prototype._removeEvents.call(this),l.off(u.EventType.KEY_DOWN,this._onKeyDown,this)},r._onKeyDown=function(t){switch(t.keyCode){case o.ESCAPE:this._onCloseClick()}},r.setTab=function(t){this._curTabType=t||I.AllVault,null!=this._view&&this.IsLoadFinish&&(this._view.tabCtrl.setSelectedIndex(this._curTabType),this._showData())},r.onLoad=function(){s._instance=this,this._startLoadPkg(this.mFguiPkgName)},r.onDestroy=function(){t.prototype.onDestroy.call(this),s._instance=null},r.update=function(){this._view},r._onLoadUIFinish=function(){t.prototype._onLoadUIFinish.call(this),this._view=p.createObject(this.mFguiPkgName,this.mFguiMainViewName).asCom,this._addUIToRoot(this._view),this._view.makeFullScreen(),this._view.tabCtrl.onChanged(this._onTabChanged,this),this._view.closeBtn.onClick(this._onCloseClick,this),this._view.allVaultList.itemRenderer=this.renderAllVaultListItem.bind(this),this._view.allVaultList.on(_.CLICK_ITEM,this._onAllVaultListItemClick,this),this._view.myVaultList.itemRenderer=this.renderMyVaultListItem.bind(this),this._view.myVaultList.on(_.CLICK_ITEM,this._onMyVaultListItemClick,this),this._view.tabCtrl.setSelectedIndex(this._curTabType),this._showData()},r._onCloseClick=function(){var t=a(i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:y.PlaySound_UICommonClose(),m.emit(d.UI_DAPP_SHOP_CLOSE);case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),r._onTabChanged=function(){0===this._view.tabCtrl.selectedIndex?this._curTabType=I.AllVault:1===this._view.tabCtrl.selectedIndex&&(this._curTabType=I.MyVault),this._showData(),y.PlaySound_UICommonClick()},r._showData=function(){switch(this._curTabType){case I.AllVault:this._refreshAllVaultView();break;case I.MyVault:this._refreshMyVaultView()}},r._refreshAllVaultView=function(){var t=a(i().mark((function t(e){var n;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===e&&(e=!0),this._view.isNoneCtrl.selectedIndex=2,t.next=4,this._loadAllVaultData();case 4:if(c(this.node)){t.next=6;break}return t.abrupt("return");case 6:if(this._curTabType===I.AllVault){t.next=8;break}return t.abrupt("return");case 8:n=this.mAllVaultData.length,this._view.isNoneCtrl.selectedIndex=n<=0?1:0,this._view.allVaultList.numItems=n,n>0&&e&&this._view.allVaultList.scrollToView(0);case 12:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),r._loadAllVaultData=function(){var t=a(i().mark((function t(){var e,n;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,f.instance.isUseBeraMainnetSwap){t.next=4;break}return t.abrupt("return");case 4:return t.next=6,V.instance.fetchAllVaultsList();case 6:if(null!==(n=t.sent)){t.next=9;break}return t.abrupt("return");case 9:this.mAllVaultData=[],(e=this.mAllVaultData).push.apply(e,n),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),h(t.t0);case 16:case"end":return t.stop()}}),t,this,[[0,13]])})));return function(){return t.apply(this,arguments)}}(),r._onAllVaultListItemClick=function(t){y.PlaySound_UICommonClick(),m.emit(d.UI_DAPP_SHOP_VAULT_DETAIL_OPEN,t.getVaultItemData())},r.renderAllVaultListItem=function(t,e){t>=this.mAllVaultData.length||e.setVaultItemData(this.mAllVaultData[t])},r._refreshMyVaultView=function(){var t=a(i().mark((function t(e){var n;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===e&&(e=!0),this._view.isNoneCtrl.selectedIndex=2,t.next=4,this._loadMyVaultData();case 4:if(c(this.node)){t.next=6;break}return t.abrupt("return");case 6:if(this._curTabType===I.MyVault){t.next=8;break}return t.abrupt("return");case 8:n=this.mMyVaultData.length,this._view.isNoneCtrl.selectedIndex=n<=0?1:0,this._view.myVaultList.numItems=n,n>0&&e&&this._view.myVaultList.scrollToView(0);case 12:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),r._loadMyVaultData=function(){var t=a(i().mark((function t(){var e,n;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,f.instance.isUseBeraMainnetSwap){t.next=4;break}return t.abrupt("return");case 4:return t.next=6,V.instance.fetchMyVaultDepositList();case 6:if(null!==(n=t.sent)){t.next=9;break}return t.abrupt("return");case 9:this.mMyVaultData=[],(e=this.mMyVaultData).push.apply(e,n),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),h(t.t0);case 16:case"end":return t.stop()}}),t,this,[[0,13]])})));return function(){return t.apply(this,arguments)}}(),r._onMyVaultListItemClick=function(t){y.PlaySound_UICommonClick(),m.emit(d.UI_DAPP_SHOP_VAULT_DETAIL_OPEN,t.getVaultItemData())},r.renderMyVaultListItem=function(t,e){t>=this.mMyVaultData.length||e.setVaultItemData(this.mMyVaultData[t].vault)},n(s,null,[{key:"instance",get:function(){return this._instance}}]),s}(v)).CTRL_NAME="UIDappShopController",C._instance=null,w=C))||w);s._RF.pop()}}}));

System.register("chunks:///_virtual/ui.dapp.shop.vault.detail.controller.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./event.dispatcher.ts","./event.name.ts","./sound.helper.ts","./ui.base.controller.ts","./resource.manager.ts","./chain.system.ts","./project.bera.mainnet.ts","./bera.swap.mainnet.ts","./logic.tool.ts","./common.tool.ts","./use.ethers.ts","./chain.operate.lp.stake.ts","./chain.operate.lp.unstake.ts","./chain.operate.lp.reward.ts","./chain.utils.ts","./chain.operate.interface.ts","./sdk.manager.ts","./table.helper.ts","./ui.float.text.controller.ts"],(function(t){"use strict";var e,a,r,n,i,s,u,l,o,c,h,d,v,p,_,m,f,C,w,k,b,V,x,S,D,I,g,T,y,U,B,N,R,L;return{setters:[function(t){e=t.inheritsLoose,a=t.createClass,r=t.asyncToGenerator,n=t.regeneratorRuntime},function(t){i=t.cclegacy,s=t._decorator,u=t.input,l=t.Input,o=t.KeyCode,c=t.math,h=t.Color,d=t.error,v=t.isValid},function(t){p=t.UIPackage,_=t.Event},function(t){m=t.EventDispatcher},function(t){f=t.EventName},function(t){C=t.SoundHelper},function(t){w=t.UIBaseController},function(t){k=t.ResourceManager},function(t){b=t.ChainSystem},function(t){V=t.getBgtIconUrl},function(t){x=t.BeraSwapMainnet},function(t){S=t.LogicTool},function(t){D=t.CommonTool},function(t){I=t.formatEther},function(t){g=t.ChainOperateLpStake},function(t){T=t.ChainOperateLpUnstake},function(t){y=t.ChainOperateLpReward},function(t){U=t.getBeraScanMainnetUrl},function(t){B=t.ChainOperateStatus},function(t){N=t.SDKManager},function(t){R=t.TableHelper},function(t){L=t.UIFloatTextController}],execute:function(){var P,A;i._RF.push({},"8ded7/+F+lEGq8U8U+Z/bjI","ui.dapp.shop.vault.detail.controller",void 0);var F,E=s.ccclass;!function(t){t[t.Rewards=0]="Rewards",t[t.Incentives=1]="Incentives",t[t.Validators=2]="Validators"}(F||(F={}));t("UIDappShopVaultDetailController",E("UIDappShopVaultDetailController")(((A=function(t){function i(){for(var e,a=arguments.length,r=new Array(a),n=0;n<a;n++)r[n]=arguments[n];return(e=t.call.apply(t,[this].concat(r))||this).mFguiPkgName="WizardingPawnShop",e.mFguiMainViewName="Main_VaultDetails",e._view=null,e._curTabType=F.Rewards,e.mCurVaultData=null,e.mGlobalData="",e.mIncentivesData=[],e.mValidatorsData=[],e.mRewardCoinData=null,e.mRewardValueString="0",e.mAvailableValueString="0",e.mStakedValueString="0",e.mCurValueString="0",e}e(i,t);var s=i.prototype;return s._addEvents=function(){t.prototype._addEvents.call(this),u.on(l.EventType.KEY_DOWN,this._onKeyDown,this)},s._removeEvents=function(){t.prototype._removeEvents.call(this),u.off(l.EventType.KEY_DOWN,this._onKeyDown,this)},s._onKeyDown=function(t){switch(t.keyCode){case o.ESCAPE:this._onCloseClick()}},s.setTab=function(t){this._curTabType=t||F.Rewards,null!=this._view&&this.IsLoadFinish&&(this._view.tabCtrl.setSelectedIndex(this._curTabType),this._showData())},s.setVaultData=function(t){this.mCurVaultData=t},s.onLoad=function(){i._instance=this,this._startLoadPkg(this.mFguiPkgName)},s.onDestroy=function(){t.prototype.onDestroy.call(this),i._instance=null},s.closeUI=function(){t.prototype.closeUI.call(this)},s.update=function(){this._view},s._onLoadUIFinish=function(){t.prototype._onLoadUIFinish.call(this),this._view=p.createObject(this.mFguiPkgName,this.mFguiMainViewName).asCom,this._addUIToRoot(this._view),this._view.makeFullScreen(),this._view.tabCtrl.onChanged(this._onTabChanged,this),this._view.closeBtn.onClick(this._onCloseClick,this),this._view.vaultTabCtrl.onChanged(this._onVaultTabChanged,this),this._view.vaultClaimBtn.onClick(this._onVaultClaimClick,this),this._view.vaultValidatorBtn.onClick(this._onVaultValidatorClick,this),this._view.percentBtn25.onClick(this._onPercent25Click,this),this._view.percentBtn50.onClick(this._onPercent50Click,this),this._view.percentBtn75.onClick(this._onPercent75Click,this),this._view.percentBtn100.onClick(this._onPercent100Click,this),this._view.stakeBtn.onClick(this._onStakeClick,this),this._view.unstakeBtn.onClick(this._onUnstakeClick,this),this._view.rewardVaultAddrBtn.onClick(this._onRewardAddrUrlClick,this),this._view.stakeTokenAddrBtn.onClick(this._onStakeAddrUrlClick,this),this._view.curValue.on(_.TEXT_CHANGE,this._onCurValueTextChanged,this),this._view.curSlider.on(_.STATUS_CHANGED,this._onCurSliderCallBack,this),this._view.incentivesList.itemRenderer=this.renderIncentivesListItem.bind(this),this._view.incentivesList.on(_.CLICK_ITEM,this._onIncentivesListItemClick,this),this._view.incentivesList.setVirtual(),this._view.validatorsList.itemRenderer=this.renderValidatorsListItem.bind(this),this._view.validatorsList.on(_.CLICK_ITEM,this._onValidatorsListItemClick,this),this._view.validatorsList.setVirtual(),this._loadGlobalData(),this._view.tabCtrl.setSelectedIndex(this._curTabType),this._showData()},s._onTabChanged=function(){0===this._view.tabCtrl.selectedIndex?this._curTabType=F.Rewards:1===this._view.tabCtrl.selectedIndex?this._curTabType=F.Incentives:2===this._view.tabCtrl.selectedIndex&&(this._curTabType=F.Validators),this._showData(),C.PlaySound_UICommonClick()},s._showData=function(){switch(this._curTabType){case F.Rewards:this._refreshVaultRewardView();break;case F.Incentives:this._refreshIncentivesView();break;case F.Validators:this._refreshValidatorsView()}},s._onVaultTabChanged=function(){this._view.curSlider.value=0,this._onCurSliderCallBack(),C.PlaySound_UICommonClick()},s._refreshVaultRewardView=function(){var t=r(n().mark((function t(){var e;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this._view.isNoneCtrl.selectedIndex=0,null!=this.mCurVaultData){t.next=3;break}return t.abrupt("return");case 3:this.mRewardCoinData=b.instance.beraBGTCoin,this._loadTokenIcon(this._view.tokenIcon,this.mCurVaultData.metadata.logoURI),this._view.vaultName.text=this.mCurVaultData.metadata.name,this._view.platformName.text=this.mCurVaultData.metadata.protocolName,this._view.rewardVaultAddr.text=D.shortAddress(this.mCurVaultData.vaultAddress,6),this._view.stakeTokenAddr.text=D.shortAddress(this.mCurVaultData.stakingToken.address,6),""!==(e=V())&&this._loadTokenIcon(this._view.vaultRewardIcon,e),this._view.vaultRewardName.text=this.mRewardCoinData.config.symbol,this._view.vaultRewardValue.text="0",this._view.vaultRewardValueUS.text="",this._loadVaultRewardData(),this._view.vaultBalanceValue.text="0",this._view.vaultBalanceValueUS.text="",this._loadVaultBalanceData(),this._view.curSlider.value=0,this._onCurSliderCallBack(),this._loadLpSymbol(),this._loadStakeData(),this._loadUnstakeData();case 23:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),s._onCurSliderCallBack=function(){var t=this._view.curSlider.value,e=t+"%";this._view.curSliderBtn.text=e,this._view.curPercentLabel.text=e;var a=this._view.curSliderBtn.getChild("ui_Value");a&&(a.text=e),this._view.curSliderBtn.text=e;var r="0";if(r=0===this._view.vaultTabCtrl.selectedIndex?this.mAvailableValueString:this.mStakedValueString,t>=100)this.mCurValueString=r;else{var n=Number.parseFloat(r)*t*.01;this.mCurValueString=S.NumberOmit(n.toString())}this._onInputCurValueChanged()},s._onCurValueTextChanged=function(){var t=Number.parseFloat(this._view.curValue.text);isNaN(t)||t<0?(t=0,this.mCurValueString="0"):this.mCurValueString=S.NumberOmit(this._view.curValue.text);var e=0;if((e=0===this._view.vaultTabCtrl.selectedIndex?Number.parseFloat(this.mAvailableValueString):Number.parseFloat(this.mStakedValueString))>0){var a=100*c.clamp01(t/e);this._view.curSlider.value=a;var r=a.toFixed(0)+"%";this._view.curSliderBtn.text=r;var n=this._view.curSliderBtn.getChild("ui_Value");n&&(n.text=r)}this._onInputCurValueChanged()},s._onInputCurValueChanged=function(){this._view.curValue.text=S.NumberTransform(Number(this.mCurValueString),!0),this._refreshBtnState()},s._refreshBtnState=function(){var t=Number.parseFloat(this.mCurValueString),e=0;e=0===this._view.vaultTabCtrl.selectedIndex?Number.parseFloat(this.mAvailableValueString):Number.parseFloat(this.mStakedValueString),this._view.curValue.color=t>e?new h(255,86,58):new h(248,245,227),t<=0||t>e?(this._view.stakeBtn.enabled=!1,this._view.unstakeBtn.enabled=!1):(this._view.stakeBtn.enabled=!0,this._view.unstakeBtn.enabled=!0)},s._loadGlobalData=function(){var t=r(n().mark((function t(){var e;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!=this.mCurVaultData){t.next=2;break}return t.abrupt("return");case 2:if(t.prev=2,b.instance.isUseBeraMainnetSwap){t.next=6;break}return t.abrupt("return");case 6:return t.next=8,x.instance.fetchPolGlobalData();case 8:if(null!==(e=t.sent)){t.next=11;break}return t.abrupt("return");case 11:if(v(this.node)){t.next=13;break}return t.abrupt("return");case 13:this.mGlobalData=e.polGetGlobalInfo.totalStakedBeraAmount,this._curTabType===F.Validators&&this._view.validatorsList.refreshVirtualList(),t.next=20;break;case 17:t.prev=17,t.t0=t.catch(2),d(t.t0);case 20:case"end":return t.stop()}}),t,this,[[2,17]])})));return function(){return t.apply(this,arguments)}}(),s._loadVaultRewardData=function(){var t=r(n().mark((function t(){var e,a,r;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!=this.mCurVaultData){t.next=2;break}return t.abrupt("return");case 2:if(t.prev=2,b.instance.isUseBeraMainnetSwap){t.next=6;break}return t.abrupt("return");case 6:return t.next=8,x.instance.getLpTokenInVaultReward(this.mCurVaultData.vaultAddress);case 8:if(null!==(e=t.sent)){t.next=11;break}return t.abrupt("return");case 11:if(v(this.node)){t.next=13;break}return t.abrupt("return");case 13:this.mRewardValueString=I(e),a=Number.parseFloat(this.mRewardValueString),this._view.vaultRewardValue.text=a>=1?S.NumberTransform(a,!0):S.NumberOmit(this.mRewardValueString,2,!0),r=this.mRewardCoinData.price*a,this._view.vaultRewardValueUS.text=S.NumberOmit(r.toString(),2,!0,"$"),t.next=23;break;case 20:t.prev=20,t.t0=t.catch(2),d(t.t0);case 23:case"end":return t.stop()}}),t,this,[[2,20]])})));return function(){return t.apply(this,arguments)}}(),s._loadVaultBalanceData=function(){var t=r(n().mark((function t(){var e,a,r;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!=this.mCurVaultData){t.next=2;break}return t.abrupt("return");case 2:try{e=this.mRewardCoinData.balanceString,a=Number.parseFloat(e),this._view.vaultBalanceValue.text=a>=1?S.NumberTransform(a,!0):S.NumberOmit(e,2,!0),r=this.mRewardCoinData.price*a,this._view.vaultBalanceValueUS.text=S.NumberOmit(r.toString(),2,!0,"$")}catch(t){d(t)}case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),s._loadLpSymbol=function(){var t=r(n().mark((function t(){var e;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!=this.mCurVaultData){t.next=2;break}return t.abrupt("return");case 2:if(this._view.stakeVaultName.text="",t.prev=3,b.instance.isUseBeraMainnetSwap){t.next=7;break}return t.abrupt("return");case 7:return t.next=9,x.instance.getLpSymbol(this.mCurVaultData.stakingToken.address);case 9:if(null!==(e=t.sent)){t.next=12;break}return t.abrupt("return");case 12:if(v(this.node)){t.next=14;break}return t.abrupt("return");case 14:if(this._curTabType===F.Rewards){t.next=16;break}return t.abrupt("return");case 16:this._view.stakeVaultName.text=e,t.next=22;break;case 19:t.prev=19,t.t0=t.catch(3),d(t.t0);case 22:case"end":return t.stop()}}),t,this,[[3,19]])})));return function(){return t.apply(this,arguments)}}(),s._loadStakeData=function(){var t=r(n().mark((function t(){var e,a;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!=this.mCurVaultData){t.next=2;break}return t.abrupt("return");case 2:if(t.prev=2,b.instance.isUseBeraMainnetSwap){t.next=6;break}return t.abrupt("return");case 6:return t.next=8,x.instance.getLpTokenInWalletBalance(this.mCurVaultData.stakingToken.address);case 8:if(null!==(e=t.sent)){t.next=11;break}return t.abrupt("return");case 11:if(v(this.node)){t.next=13;break}return t.abrupt("return");case 13:if(this._curTabType===F.Rewards){t.next=15;break}return t.abrupt("return");case 15:this.mAvailableValueString=I(e),a=Number(this.mAvailableValueString),this._view.availableValue.text=a>=1?S.NumberTransform(a,!0):S.NumberOmit(this.mAvailableValueString,2,!0),t.next=23;break;case 20:t.prev=20,t.t0=t.catch(2),d(t.t0);case 23:case"end":return t.stop()}}),t,this,[[2,20]])})));return function(){return t.apply(this,arguments)}}(),s._loadUnstakeData=function(){var t=r(n().mark((function t(){var e,a;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!=this.mCurVaultData){t.next=2;break}return t.abrupt("return");case 2:if(t.prev=2,b.instance.isUseBeraMainnetSwap){t.next=6;break}return t.abrupt("return");case 6:return t.next=8,x.instance.getLpTokenInVaultBalance(this.mCurVaultData.address);case 8:if(null!==(e=t.sent)){t.next=11;break}return t.abrupt("return");case 11:if(v(this.node)){t.next=13;break}return t.abrupt("return");case 13:if(this._curTabType===F.Rewards){t.next=15;break}return t.abrupt("return");case 15:this.mStakedValueString=I(e),a=Number(this.mStakedValueString),this._view.stakedValue.text=a>=1?S.NumberTransform(a,!0):S.NumberOmit(this.mStakedValueString,2,!0),t.next=23;break;case 20:t.prev=20,t.t0=t.catch(2),d(t.t0);case 23:case"end":return t.stop()}}),t,this,[[2,20]])})));return function(){return t.apply(this,arguments)}}(),s._loadTokenIcon=function(){var t=r(n().mark((function t(e,a){var r,i;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=a,t.prev=1,t.next=4,k.instance.loadChainIcon(r);case 4:if(i=t.sent,v(this.node)){t.next=7;break}return t.abrupt("return");case 7:if(r===a){t.next=9;break}return t.abrupt("return");case 9:e.texture=i,t.next=15;break;case 12:t.prev=12,t.t0=t.catch(1),d(t.t0);case 15:case"end":return t.stop()}}),t,this,[[1,12]])})));return function(e,a){return t.apply(this,arguments)}}(),s._onCloseClick=function(){C.PlaySound_UICommonClose(),m.emit(f.UI_DAPP_SHOP_VAULT_DETAIL_CLOSE)},s._onVaultClaimClick=function(){var t=r(n().mark((function t(){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(C.PlaySound_UICommonClick(),null!=this.mCurVaultData){t.next=3;break}return t.abrupt("return");case 3:if(!(Number.parseFloat(this.mRewardValueString)<=0)){t.next=5;break}return t.abrupt("return");case 5:return t.next=7,y.popConfirm(this.mCurVaultData.vaultAddress,this.mRewardValueString);case 7:if(t.sent!==B.Success){t.next=19;break}if(v(this.node)){t.next=11;break}return t.abrupt("return");case 11:if(this._curTabType===F.Rewards){t.next=13;break}return t.abrupt("return");case 13:this._view.vaultRewardValue.text="",this._view.vaultRewardValueUS.text="",this._loadVaultRewardData(),this._view.vaultBalanceValue.text="0",this._view.vaultBalanceValueUS.text="",this._loadVaultBalanceData();case 19:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),s._onVaultValidatorClick=function(){var t=r(n().mark((function t(){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(C.PlaySound_UICommonClick(),null!=this.mCurVaultData){t.next=3;break}return t.abrupt("return");case 3:L.AddTipI18nID_Info("u.2501");case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),s._onPercent25Click=function(){C.PlaySound_UICommonClick(),this._view.curSlider.value=25,this._onCurSliderCallBack()},s._onPercent50Click=function(){C.PlaySound_UICommonClick(),this._view.curSlider.value=50,this._onCurSliderCallBack()},s._onPercent75Click=function(){C.PlaySound_UICommonClick(),this._view.curSlider.value=75,this._onCurSliderCallBack()},s._onPercent100Click=function(){C.PlaySound_UICommonClick(),this._view.curSlider.value=100,this._onCurSliderCallBack()},s._onStakeClick=function(){var t=r(n().mark((function t(){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(C.PlaySound_UICommonClick(),null!=this.mCurVaultData){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,g.popConfirm(this.mCurVaultData.vaultAddress,this.mCurVaultData.stakingToken.address,this.mCurValueString);case 5:if(t.sent!==B.Success){t.next=17;break}if(v(this.node)){t.next=9;break}return t.abrupt("return");case 9:if(this._curTabType===F.Rewards){t.next=11;break}return t.abrupt("return");case 11:this._view.curSlider.value=0,this._onCurSliderCallBack(),this._view.availableValue.text="",this._loadStakeData(),this._view.stakedValue.text="",this._loadUnstakeData();case 17:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),s._onUnstakeClick=function(){var t=r(n().mark((function t(){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(C.PlaySound_UICommonClick(),null!=this.mCurVaultData){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,T.popConfirm(this.mCurVaultData.vaultAddress,this.mCurVaultData.stakingToken.address,this.mCurValueString);case 5:if(t.sent!==B.Success){t.next=17;break}if(v(this.node)){t.next=9;break}return t.abrupt("return");case 9:if(this._curTabType===F.Rewards){t.next=11;break}return t.abrupt("return");case 11:this._view.curSlider.value=0,this._onCurSliderCallBack(),this._view.availableValue.text="",this._loadStakeData(),this._view.stakedValue.text="",this._loadUnstakeData();case 17:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),s._onRewardAddrUrlClick=function(){C.PlaySound_UICommonClick(),null!=this.mCurVaultData&&N.instance.curSDKPlugin.openUrl(U(this.mCurVaultData.vaultAddress))},s._onStakeAddrUrlClick=function(){C.PlaySound_UICommonClick(),null!=this.mCurVaultData&&N.instance.curSDKPlugin.openUrl(U(this.mCurVaultData.stakingToken.address))},s._refreshIncentivesView=function(){var t=r(n().mark((function t(e){var a;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===e&&(e=!0),this._view.isNoneCtrl.selectedIndex=2,t.next=4,this._loadIncentivesData();case 4:if(v(this.node)){t.next=6;break}return t.abrupt("return");case 6:if(this._curTabType===F.Incentives){t.next=8;break}return t.abrupt("return");case 8:(a=this.mIncentivesData.length)<=0?(this._view.isNoneCtrl.selectedIndex=1,this._view.noneTip.text=R.getI18nUIText("u.14334")):this._view.isNoneCtrl.selectedIndex=0,this._view.incentivesList.numItems=a,a>0&&e&&this._view.incentivesList.scrollToView(0);case 12:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),s._loadIncentivesData=function(){var t=r(n().mark((function t(){var e;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!=this.mCurVaultData){t.next=2;break}return t.abrupt("return");case 2:this.mIncentivesData=[],(e=this.mIncentivesData).push.apply(e,this.mCurVaultData.activeIncentives);case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),s._onIncentivesListItemClick=function(){C.PlaySound_UICommonClick()},s.renderIncentivesListItem=function(t,e){t>=this.mIncentivesData.length||e.setIncentiveItemData(this.mIncentivesData[t])},s._refreshValidatorsView=function(){var t=r(n().mark((function t(e){var a;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===e&&(e=!0),this._view.isNoneCtrl.selectedIndex=2,t.next=4,this._loadValidatorsData();case 4:if(v(this.node)){t.next=6;break}return t.abrupt("return");case 6:if(this._curTabType===F.Validators){t.next=8;break}return t.abrupt("return");case 8:(a=this.mValidatorsData.length)<=0?(this._view.isNoneCtrl.selectedIndex=1,this._view.noneTip.text=R.getI18nUIText("u.14335")):this._view.isNoneCtrl.selectedIndex=0,this._view.validatorsList.numItems=a,a>0&&e&&this._view.validatorsList.scrollToView(0);case 12:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),s._loadValidatorsData=function(){var t=r(n().mark((function t(){var e,a;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!=this.mCurVaultData){t.next=2;break}return t.abrupt("return");case 2:if(t.prev=2,b.instance.isUseBeraMainnetSwap){t.next=6;break}return t.abrupt("return");case 6:return t.next=8,x.instance.fetchVaultValidatorsList(this.mCurVaultData.id);case 8:if(null!==(a=t.sent)){t.next=11;break}return t.abrupt("return");case 11:this.mValidatorsData=[],(e=this.mValidatorsData).push.apply(e,a),t.next=18;break;case 15:t.prev=15,t.t0=t.catch(2),d(t.t0);case 18:case"end":return t.stop()}}),t,this,[[2,15]])})));return function(){return t.apply(this,arguments)}}(),s._onValidatorsListItemClick=function(){C.PlaySound_UICommonClick()},s.renderValidatorsListItem=function(t,e){t>=this.mValidatorsData.length||e.setValidatorItemData(this.mValidatorsData[t],this.mCurVaultData.vaultAddress,this.mGlobalData)},a(i,null,[{key:"instance",get:function(){return this._instance}}]),i}(w)).CTRL_NAME="UIDappShopVaultDetailController",A._instance=null,P=A))||P);i._RF.pop()}}}));

System.register("chunks:///_virtual/ui.dapp.shop.vault.detail.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){"use strict";var i,e,a,l,d;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy,a=t._decorator,l=t.EditBox},function(t){d=t.GComponent}],execute:function(){var s,n;e._RF.push({},"798baxnGwtGCZY1XGNhvuE3","ui.dapp.shop.vault.detail.view",void 0);var u=a.ccclass;t("default",u("UIDappShopVaultDetailView")(((n=function(t){function e(){var i;return(i=t.call(this)||this).isNoneCtrl=void 0,i.tabCtrl=void 0,i.isProvidedCtrl=void 0,i.closeBtn=void 0,i.tab1Btn=void 0,i.tab2Btn=void 0,i.tab3Btn=void 0,i.noneTip=void 0,i.tokenIcon=void 0,i.vaultName=void 0,i.detailView=void 0,i.incentivesList=void 0,i.validatorsList=void 0,i.vaultRewardIcon=void 0,i.vaultRewardName=void 0,i.vaultRewardValue=void 0,i.vaultRewardValueUS=void 0,i.vaultBalanceValue=void 0,i.vaultBalanceValueUS=void 0,i.vaultClaimBtn=void 0,i.vaultValidatorBtn=void 0,i.vaultTabCtrl=void 0,i.stakeVaultName=void 0,i.availableValue=void 0,i.stakedValue=void 0,i.curValue=void 0,i.curPercentLabel=void 0,i.percentBtn25=void 0,i.percentBtn50=void 0,i.percentBtn75=void 0,i.percentBtn100=void 0,i.curSlider=void 0,i.curSliderBtn=void 0,i.stakeBtn=void 0,i.unstakeBtn=void 0,i.platformIcon=void 0,i.platformName=void 0,i.platformBtn=void 0,i.rewardVaultAddr=void 0,i.rewardVaultAddrBtn=void 0,i.stakeTokenAddr=void 0,i.stakeTokenAddrBtn=void 0,i}return i(e,t),e.prototype.onConstruct=function(){this.isNoneCtrl=this.getController("IsNone"),this.tabCtrl=this.getController("Tab"),this.closeBtn=this.getChild("ui_WindClose"),this.tokenIcon=this.getChild("ui_TokenIcon1"),this.vaultName=this.getChild("ui_Title"),this.tab1Btn=this.getChild("ui_Tab1"),this.tab2Btn=this.getChild("ui_Tab2"),this.tab3Btn=this.getChild("ui_Tab3"),this.noneTip=this.getChild("ui_MailNullLabel"),this.detailView=this.getChild("ui_VaultDetail"),this.incentivesList=this.getChild("ui_IncentivesList"),this.validatorsList=this.getChild("ui_ValidatorsList"),this.vaultRewardIcon=this.detailView.getChild("ui_RewardIcon"),this.vaultRewardName=this.detailView.getChild("ui_RewardName"),this.vaultRewardValue=this.detailView.getChild("ui_RewardValue1"),this.vaultRewardValueUS=this.detailView.getChild("ui_USDValue1"),this.vaultBalanceValue=this.detailView.getChild("ui_BalanceValue1"),this.vaultBalanceValueUS=this.detailView.getChild("ui_BalanceUSDValue1"),this.vaultClaimBtn=this.detailView.getChild("ui_BtnClaim"),this.vaultValidatorBtn=this.detailView.getChild("ui_BtnValidators"),this.vaultTabCtrl=this.detailView.getController("Tab"),this.stakeVaultName=this.detailView.getChild("ui_TabLabel1"),this.availableValue=this.detailView.getChild("ui_Value1"),this.stakedValue=this.detailView.getChild("ui_Value3"),this.curValue=this.detailView.getChild("ui_Input2"),this.curValue._editBox.inputMode=l.InputMode.DECIMAL,this.curPercentLabel=this.detailView.getChild("ui_PercentValue"),this.percentBtn25=this.detailView.getChild("ui_PercentBtn1"),this.percentBtn50=this.detailView.getChild("ui_PercentBtn2"),this.percentBtn75=this.detailView.getChild("ui_PercentBtn3"),this.percentBtn100=this.detailView.getChild("ui_PercentBtn4"),this.curSlider=this.detailView.getChild("ui_Slider2"),this.curSliderBtn=this.curSlider.getChild("grip"),this.curSlider.wholeNumbers=!0,this.curSlider.min=0,this.curSlider.max=100,this.stakeBtn=this.detailView.getChild("ui_BtnStake"),this.unstakeBtn=this.detailView.getChild("ui_BtnUnstake"),this.platformIcon=this.detailView.getChild("ui_PlatformIcon"),this.platformName=this.detailView.getChild("ui_PlatformName"),this.platformBtn=this.detailView.getChild("ui_BtnGoto1"),this.rewardVaultAddr=this.detailView.getChild("ui_VaultAddress"),this.rewardVaultAddrBtn=this.detailView.getChild("ui_BtnGoto2"),this.stakeTokenAddr=this.detailView.getChild("ui_StakingTokenAddress"),this.stakeTokenAddrBtn=this.detailView.getChild("ui_BtnGoto3")},e}(d)).URL="ui://WizardingPawnShop/Main_VaultDetails",s=n))||s);e._RF.pop()}}}));

System.register("chunks:///_virtual/ui.dapp.shop.vault.incentive.item.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./resource.manager.ts","./logic.tool.ts"],(function(t){"use strict";var e,n,o,i,r,a,u,s,c,l;return{setters:[function(t){e=t.inheritsLoose,n=t.asyncToGenerator,o=t.regeneratorRuntime},function(t){i=t.cclegacy,r=t._decorator,a=t.error,u=t.isValid},function(t){s=t.GButton},function(t){c=t.ResourceManager},function(t){l=t.LogicTool}],execute:function(){var h,p;i._RF.push({},"198c1QWOJJCaoyyWQReqHoL","ui.dapp.shop.vault.incentive.item.view",void 0);var v=r.ccclass;t("default",v("UIDappShopVaultIncentiveItemView")(((p=function(t){function i(){var e;return(e=t.call(this)||this).btnCtrl=void 0,e.tokenIcon=void 0,e.tokenName=void 0,e.rate=void 0,e.amount=void 0,e.mCurShowData=null,e}e(i,t);var r=i.prototype;return r.onConstruct=function(){this.btnCtrl=this.getController("button"),this.tokenIcon=this.getChild("ui_TokenIcon"),this.tokenName=this.getChild("ui_Value1"),this.rate=this.getChild("ui_Value2"),this.amount=this.getChild("ui_Value3")},r.onDestroy=function(){},r.getVaultItemData=function(){return this.mCurShowData},r.setIncentiveItemData=function(t){this.mCurShowData=t,this._loadTokenIcon(this.tokenIcon,t.token.logoURI),this.tokenName.text=t.token.symbol,this.rate.text=(100*Number.parseFloat(t.incentiveRate)).toFixed(2)+"%",this.amount.text="$"+l.NumberTransform(Number.parseFloat(t.remainingAmountUsd),!0)},r._loadTokenIcon=function(){var t=n(o().mark((function t(e,n){var i,r;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=n,t.prev=1,t.next=4,c.instance.loadChainIcon(i);case 4:if(r=t.sent,u(this.node)){t.next=7;break}return t.abrupt("return");case 7:if(i===n){t.next=9;break}return t.abrupt("return");case 9:e.texture=r,t.next=15;break;case 12:t.prev=12,t.t0=t.catch(1),a(t.t0);case 15:case"end":return t.stop()}}),t,this,[[1,12]])})));return function(e,n){return t.apply(this,arguments)}}(),i}(s)).URL="ui://WizardingPawnShop/listbar_Incentives",h=p))||h);i._RF.pop()}}}));

System.register("chunks:///_virtual/ui.dapp.shop.vault.item.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./chain.system.ts","./project.bera.mainnet.ts","./resource.manager.ts","./table.helper.ts","./logic.tool.ts"],(function(t){"use strict";var e,a,i,r,n,o,s,u,c,l,h,d,m;return{setters:[function(t){e=t.inheritsLoose,a=t.asyncToGenerator,i=t.regeneratorRuntime},function(t){r=t.cclegacy,n=t._decorator,o=t.error,s=t.isValid},function(t){u=t.GButton},function(t){c=t.ChainSystem},function(t){l=t.getBgtIconUrl},function(t){h=t.ResourceManager},function(t){d=t.TableHelper},function(t){m=t.LogicTool}],execute:function(){var p,v;r._RF.push({},"e4c03h1mghJaopDya8koTI4","ui.dapp.shop.vault.item.view",void 0);var g=n.ccclass;t("default",g("UIDappShopVaultItemView")(((v=function(t){function r(){var e;return(e=t.call(this)||this).btnCtrl=void 0,e.tokenIcon=void 0,e.vaultName=void 0,e.platformIcon=void 0,e.platformName=void 0,e.rewardCaptureTitle=void 0,e.rewardCapture=void 0,e.rewardIcon=void 0,e.rewardAPRTitle=void 0,e.rewardAPR=void 0,e.totalIncentive=void 0,e.incentives=void 0,e.mCurShowData=null,e}e(r,t);var n=r.prototype;return n.onConstruct=function(){this.btnCtrl=this.getController("button"),this.tokenIcon=this.getChild("ui_TokenIcon1"),this.vaultName=this.getChild("ui_TokenName"),this.platformIcon=this.getChild("ui_PlatformIcon"),this.platformName=this.getChild("ui_PlatformName"),this.rewardCaptureTitle=this.getChild("ui_Label1"),this.rewardCapture=this.getChild("ui_Value1"),this.rewardIcon=this.getChild("ui_RewardIcon"),this.rewardAPRTitle=this.getChild("ui_Label2"),this.rewardAPR=this.getChild("ui_Value2"),this.totalIncentive=this.getChild("ui_Value3"),this.incentives=this.getChild("ui_Value4")},n.onDestroy=function(){},n.getVaultItemData=function(){return this.mCurShowData},n.setVaultItemData=function(t){this.mCurShowData=t,this._loadTokenIcon(this.tokenIcon,t.metadata.logoURI),this.vaultName.text=t.metadata.name,this.platformName.text=t.metadata.protocolName,this.rewardCaptureTitle.text=m.i18nFormat(d.getI18nUIText("u.14303"),[c.instance.beraBGTCoin.config.symbol]),this.rewardAPRTitle.text=m.i18nFormat(d.getI18nUIText("u.14304"),[c.instance.beraBGTCoin.config.symbol]);var e=l();this._loadTokenIcon(this.rewardIcon,e),this.rewardCapture.text=(100*Number.parseFloat(t.dynamicData.bgtCapturePercentage)).toFixed(2)+"%",t.dynamicData.apy?this.rewardAPR.text=(100*Number.parseFloat(t.dynamicData.apy)).toFixed(2)+"%":this.rewardAPR.text=(100*Number.parseFloat(t.dynamicData.apr)).toFixed(2)+"%",this.totalIncentive.text="$"+m.NumberTransform(Number.parseFloat(t.dynamicData.activeIncentivesValueUsd),!0);var a=t.activeIncentives.length;this.incentives.text=a<=0?"No "+d.getI18nUIText("u.14306"):a+" "+d.getI18nUIText("u.14306")},n._loadTokenIcon=function(){var t=a(i().mark((function t(e,a){var r,n;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=a,t.prev=1,t.next=4,h.instance.loadChainIcon(r);case 4:if(n=t.sent,s(this.node)){t.next=7;break}return t.abrupt("return");case 7:if(r===a){t.next=9;break}return t.abrupt("return");case 9:e.texture=n,t.next=15;break;case 12:t.prev=12,t.t0=t.catch(1),o(t.t0);case 15:case"end":return t.stop()}}),t,this,[[1,12]])})));return function(e,a){return t.apply(this,arguments)}}(),r}(u)).URL="ui://WizardingPawnShop/listbar_Vault",p=v))||p);r._RF.pop()}}}));

System.register("chunks:///_virtual/ui.dapp.shop.vault.validator.item.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./bera.swap.util.ts","./resource.manager.ts","./common.tool.ts","./logic.tool.ts","./resource.path.tool.ts"],(function(t){"use strict";var e,a,o,r,i,n,s,u,l,c,d,h,p;return{setters:[function(t){e=t.inheritsLoose,a=t.asyncToGenerator,o=t.regeneratorRuntime},function(t){r=t.cclegacy,i=t._decorator,n=t.error,s=t.isValid},function(t){u=t.GButton},function(t){l=t.BeraSwapUtil},function(t){c=t.ResourceManager},function(t){d=t.CommonTool},function(t){h=t.LogicTool},function(t){p=t.ResourcePathTool}],execute:function(){var v,m;r._RF.push({},"6883bZi3A9CzrM7gb+QW/gI","ui.dapp.shop.vault.validator.item.view",void 0);var f=i.ccclass;t("default",f("UIDappShopVaultValidatorItemView")(((m=function(t){function r(){var e;return(e=t.call(this)||this).btnCtrl=void 0,e.isActiveCtrl=void 0,e.validatorIcon=void 0,e.validatorName=void 0,e.proposalBGT=void 0,e.estimatedBGT=void 0,e.mCurShowData=null,e}e(r,t);var i=r.prototype;return i.onConstruct=function(){this.btnCtrl=this.getController("button"),this.isActiveCtrl=this.getController("IsActive"),this.validatorIcon=this.getChild("ui_TokenIcon"),this.validatorName=this.getChild("ui_Value1"),this.proposalBGT=this.getChild("ui_Value2"),this.estimatedBGT=this.getChild("ui_Value3")},i.onDestroy=function(){},i.getVaultItemData=function(){return this.mCurShowData},i.setValidatorItemData=function(t,e,a){this.mCurShowData=t,t.metadata?(this._loadTokenIcon(this.validatorIcon,t.metadata.logoURI),this.validatorName.text=t.metadata.name):(this.validatorIcon.url=p.getUIFarmItemPath("DefaultValidator"),this.validatorName.text=d.shortAddress(t.pubkey,6)),this.isActiveCtrl.selectedIndex=t.lastBlockUptime.isActive?1:0,this.proposalBGT.text=h.NumberTransform(l.getBgtPerProposal(t,e),!0),this.estimatedBGT.text=""===a?"":h.NumberTransform(l.getBgtEstimatedPerYear(a,t,e),!0)},i._loadTokenIcon=function(){var t=a(o().mark((function t(e,a){var r,i;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=a,t.prev=1,t.next=4,c.instance.loadChainIcon(r);case 4:if(i=t.sent,s(this.node)){t.next=7;break}return t.abrupt("return");case 7:if(r===a){t.next=9;break}return t.abrupt("return");case 9:e.texture=i,t.next=15;break;case 12:t.prev=12,t.t0=t.catch(1),n(t.t0);case 15:case"end":return t.stop()}}),t,this,[[1,12]])})));return function(e,a){return t.apply(this,arguments)}}(),r}(u)).URL="ui://WizardingPawnShop/listbar_Validators",v=m))||v);r._RF.pop()}}}));

System.register("chunks:///_virtual/ui.dapp.shop.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){"use strict";var i,s,o,e;return{setters:[function(t){i=t.inheritsLoose},function(t){s=t.cclegacy,o=t._decorator},function(t){e=t.GComponent}],execute:function(){var n,l;s._RF.push({},"44f86ceSWtGHJVVo9CrkbrV","ui.dapp.shop.view",void 0);var u=o.ccclass;t("default",u("UIDappShopView")(((l=function(t){function s(){var i;return(i=t.call(this)||this).isNoneCtrl=void 0,i.tabCtrl=void 0,i.closeBtn=void 0,i.tab1Btn=void 0,i.tab2Btn=void 0,i.allVaultList=void 0,i.myVaultList=void 0,i}return i(s,t),s.prototype.onConstruct=function(){this.isNoneCtrl=this.getController("IsNone"),this.tabCtrl=this.getController("Tab"),this.closeBtn=this.getChild("ui_WindClose"),this.tab1Btn=this.getChild("ui_Tab1"),this.tab2Btn=this.getChild("ui_Tab2"),this.allVaultList=this.getChild("ui_Liquidity_AllVaults"),this.myVaultList=this.getChild("ui_Liquidity_MyVaults")},s}(e)).URL="ui://WizardingPawnShop/Main",n=l))||n);s._RF.pop()}}}));

System.register("chunks:///_virtual/ui.dapp.validator.all.item.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./resource.manager.ts","./table.helper.ts","./common.tool.ts","./logic.tool.ts","./resource.path.tool.ts"],(function(t){"use strict";var e,i,a,o,r,s,n,l,u,c,d,h,m;return{setters:[function(t){e=t.inheritsLoose,i=t.asyncToGenerator,a=t.regeneratorRuntime},function(t){o=t.cclegacy,r=t._decorator,s=t.error,n=t.isValid},function(t){l=t.GButton},function(t){u=t.ResourceManager},function(t){c=t.TableHelper},function(t){d=t.CommonTool},function(t){h=t.LogicTool},function(t){m=t.ResourcePathTool}],execute:function(){var v,p;o._RF.push({},"7d6e0xujNhHWKXIKgQCn7g9","ui.dapp.validator.all.item.view",void 0);var f=r.ccclass;t("default",f("UIDappValidatorAllItemView")(((p=function(t){function o(){var e;return(e=t.call(this)||this).btnCtrl=void 0,e.isActiveCtrl=void 0,e.validatorIcon=void 0,e.validatorName=void 0,e.boostValue=void 0,e.stakedValue=void 0,e.boostAPY=void 0,e.emissionBGTTital=void 0,e.emissionBGT=void 0,e.incentives=void 0,e.mCurShowData=null,e}e(o,t);var r=o.prototype;return r.onConstruct=function(){this.btnCtrl=this.getController("button"),this.isActiveCtrl=this.getController("IsActive"),this.validatorIcon=this.getChild("ui_ValidatorIcon"),this.validatorName=this.getChild("ui_ValidatorName"),this.boostValue=this.getChild("ui_Value1"),this.stakedValue=this.getChild("ui_Value2"),this.boostAPY=this.getChild("ui_Value3"),this.emissionBGTTital=this.getChild("ui_Label4"),this.emissionBGT=this.getChild("ui_Value4"),this.incentives=this.getChild("ui_Value5")},r.onDestroy=function(){},r.getValidatorItemData=function(){return this.mCurShowData},r.setValidatorItemData=function(t){this.mCurShowData=t,t.metadata?(this._loadTokenIcon(this.validatorIcon,t.metadata.logoURI),this.validatorName.text=t.metadata.name):(this.validatorIcon.url=m.getUIFarmItemPath("DefaultValidator"),this.validatorName.text=d.shortAddress(t.pubkey,6)),this.isActiveCtrl.selectedIndex=t.lastBlockUptime.isActive?1:0,this.boostValue.text=h.NumberTransform(Number.parseFloat(t.dynamicData.activeBoostAmount),!0),this.stakedValue.text=h.NumberTransform(Number.parseFloat(t.dynamicData.stakedBeraAmount),!0),this.boostAPY.text="-",this.emissionBGTTital.text=h.i18nFormat(c.getI18nUIText("u.15007"),["BGT"]),this.emissionBGT.text=h.NumberTransform(Number.parseFloat(t.dynamicData.lastDayDistributedBGTAmount),!0),this.incentives.text="No "+c.getI18nUIText("u.14306")},r._loadTokenIcon=function(){var t=i(a().mark((function t(e,i){var o,r;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=i,t.prev=1,t.next=4,u.instance.loadChainIcon(o);case 4:if(r=t.sent,n(this.node)){t.next=7;break}return t.abrupt("return");case 7:if(o===i){t.next=9;break}return t.abrupt("return");case 9:e.texture=r,t.next=15;break;case 12:t.prev=12,t.t0=t.catch(1),s(t.t0);case 15:case"end":return t.stop()}}),t,this,[[1,12]])})));return function(e,i){return t.apply(this,arguments)}}(),o}(l)).URL="ui://WizardingValidators/listbar_Validator_All",v=p))||v);o._RF.pop()}}}));

System.register("chunks:///_virtual/ui.dapp.validator.controller.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./chain.system.ts","./event.dispatcher.ts","./event.name.ts","./sound.helper.ts","./ui.base.controller.ts","./bera.swap.mainnet.ts"],(function(t){"use strict";var e,a,s,i,r,n,o,u,l,c,h,d,p,m,_,f,y,v,B;return{setters:[function(t){e=t.inheritsLoose,a=t.createClass,s=t.asyncToGenerator,i=t.regeneratorRuntime},function(t){r=t.cclegacy,n=t._decorator,o=t.input,u=t.Input,l=t.KeyCode,c=t.isValid,h=t.error},function(t){d=t.UIPackage,p=t.Event},function(t){m=t.ChainSystem},function(t){_=t.EventDispatcher},function(t){f=t.EventName},function(t){y=t.SoundHelper},function(t){v=t.UIBaseController},function(t){B=t.BeraSwapMainnet}],execute:function(){var b,w;r._RF.push({},"232e9VgJuBGtogm9n+mmtLU","ui.dapp.validator.controller",void 0);var D,I=n.ccclass;!function(t){t[t.AllValidator=0]="AllValidator",t[t.MyBoost=1]="MyBoost",t[t.QueuedBoost=2]="QueuedBoost"}(D||(D={}));t("UIDappValidatorController",I("UIDappValidatorController")(((w=function(t){function r(){for(var e,a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))||this).mFguiPkgName="WizardingValidators",e.mFguiMainViewName="Main",e._view=null,e._curTabType=D.AllValidator,e.mAllValidatorData=[],e.mMyBoostData=[],e.mQueuedBoostData=[],e}e(r,t);var n=r.prototype;return n._addEvents=function(){t.prototype._addEvents.call(this),o.on(u.EventType.KEY_DOWN,this._onKeyDown,this),_.on(f.UI_DAPP_VALIDATOR_LIST_REFRESH,this._onValidatorListRefresh,this)},n._removeEvents=function(){t.prototype._removeEvents.call(this),o.off(u.EventType.KEY_DOWN,this._onKeyDown,this),_.on(f.UI_DAPP_VALIDATOR_LIST_REFRESH,this._onValidatorListRefresh,this)},n._onKeyDown=function(t){switch(t.keyCode){case l.ESCAPE:this._onCloseClick()}},n._onValidatorListRefresh=function(){var t=s(i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this._view){t.next=2;break}return t.abrupt("return");case 2:this._curTabType===D.MyBoost?this._refreshMyBoostView():this._curTabType===D.QueuedBoost&&this._refreshQueuedBoostView();case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),n.setTab=function(t){this._curTabType=t||D.AllValidator,null!=this._view&&this.IsLoadFinish&&(this._view.tabCtrl.setSelectedIndex(this._curTabType),this._showData())},n.onLoad=function(){r._instance=this,this._startLoadPkg(this.mFguiPkgName)},n.onDestroy=function(){t.prototype.onDestroy.call(this),r._instance=null},n.update=function(){this._view},n._onLoadUIFinish=function(){t.prototype._onLoadUIFinish.call(this),this._view=d.createObject(this.mFguiPkgName,this.mFguiMainViewName).asCom,this._addUIToRoot(this._view),this._view.makeFullScreen(),this._view.tabCtrl.onChanged(this._onTabChanged,this),this._view.closeBtn.onClick(this._onCloseClick,this),this._view.allValidatorList.itemRenderer=this.renderAllValidatorListItem.bind(this),this._view.allValidatorList.on(p.CLICK_ITEM,this._onAllValidatorListItemClick,this),this._view.allValidatorList.setVirtual(),this._view.myBoostList.itemRenderer=this.renderMyBoostListItem.bind(this),this._view.myBoostList.on(p.CLICK_ITEM,this._onMyBoostListItemClick,this),this._view.myBoostList.setVirtual(),this._view.queuedBoostList.itemRenderer=this.renderQueuedBoostListItem.bind(this),this._view.queuedBoostList.setVirtual(),this._view.tabCtrl.setSelectedIndex(this._curTabType),this._showData()},n._onCloseClick=function(){var t=s(i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:y.PlaySound_UICommonClose(),_.emit(f.UI_DAPP_VALIDATOR_CLOSE);case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),n._onTabChanged=function(){0===this._view.tabCtrl.selectedIndex?this._curTabType=D.AllValidator:1===this._view.tabCtrl.selectedIndex?this._curTabType=D.MyBoost:2===this._view.tabCtrl.selectedIndex&&(this._curTabType=D.QueuedBoost),this._showData(),y.PlaySound_UICommonClick()},n._showData=function(){switch(this._curTabType){case D.AllValidator:this._refreshAllValidatorView();break;case D.MyBoost:this._refreshMyBoostView();break;case D.QueuedBoost:this._refreshQueuedBoostView()}},n._refreshAllValidatorView=function(){var t=s(i().mark((function t(e){var a;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===e&&(e=!0),this._view.isNoneCtrl.selectedIndex=2,t.next=4,this._loadAllValidatorData();case 4:if(c(this.node)){t.next=6;break}return t.abrupt("return");case 6:a=this.mAllValidatorData.length,this._view.isNoneCtrl.selectedIndex=a<=0?1:0,this._view.allValidatorList.numItems=a,a>0&&e&&this._view.allValidatorList.scrollToView(0);case 10:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),n._loadAllValidatorData=function(){var t=s(i().mark((function t(){var e,a;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,this.mAllValidatorData=[],m.instance.isUseBeraMainnetSwap){t.next=5;break}return t.abrupt("return");case 5:return t.next=7,B.instance.fetchAllValidatorsList();case 7:if(null!==(a=t.sent)){t.next=10;break}return t.abrupt("return");case 10:if(this._curTabType===D.AllValidator){t.next=12;break}return t.abrupt("return");case 12:this.mAllValidatorData=[],(e=this.mAllValidatorData).push.apply(e,a),t.next=19;break;case 16:t.prev=16,t.t0=t.catch(0),h(t.t0);case 19:case"end":return t.stop()}}),t,this,[[0,16]])})));return function(){return t.apply(this,arguments)}}(),n._onAllValidatorListItemClick=function(t){y.PlaySound_UICommonClick(),_.emit(f.UI_DAPP_VALIDATOR_DETAIL_OPEN,t.getValidatorItemData())},n.renderAllValidatorListItem=function(t,e){t>=this.mAllValidatorData.length||e.setValidatorItemData(this.mAllValidatorData[t])},n._refreshMyBoostView=function(){var t=s(i().mark((function t(e){var a;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===e&&(e=!0),this._view.isNoneCtrl.selectedIndex=2,t.next=4,this._loadMyBoostData();case 4:if(c(this.node)){t.next=6;break}return t.abrupt("return");case 6:a=this.mMyBoostData.length,this._view.isNoneCtrl.selectedIndex=a<=0?1:0,this._view.myBoostList.numItems=a,a>0&&e&&this._view.myBoostList.scrollToView(0);case 10:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),n._loadMyBoostData=function(){var t=s(i().mark((function t(){var e,a;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,this.mMyBoostData=[],m.instance.isUseBeraMainnetSwap){t.next=5;break}return t.abrupt("return");case 5:return t.next=7,B.instance.fetchMyValidatorsList();case 7:if(null!==(a=t.sent)){t.next=10;break}return t.abrupt("return");case 10:if(this._curTabType===D.MyBoost){t.next=12;break}return t.abrupt("return");case 12:this.mMyBoostData=[],(e=this.mMyBoostData).push.apply(e,a),t.next=19;break;case 16:t.prev=16,t.t0=t.catch(0),h(t.t0);case 19:case"end":return t.stop()}}),t,this,[[0,16]])})));return function(){return t.apply(this,arguments)}}(),n._onMyBoostListItemClick=function(t){y.PlaySound_UICommonClick(),_.emit(f.UI_DAPP_VALIDATOR_DETAIL_OPEN,t.getValidatorItemData())},n.renderMyBoostListItem=function(t,e){t>=this.mMyBoostData.length||e.setMyBoostItemData(this.mMyBoostData[t].validator,this.mMyBoostData[t].myInfo)},n._refreshQueuedBoostView=function(){var t=s(i().mark((function t(e){var a;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===e&&(e=!0),this._view.isNoneCtrl.selectedIndex=2,t.next=4,this._loadQueuedBoostData();case 4:if(c(this.node)){t.next=6;break}return t.abrupt("return");case 6:a=this.mQueuedBoostData.length,this._view.isNoneCtrl.selectedIndex=a<=0?1:0,this._view.queuedBoostList.numItems=a,a>0&&e&&this._view.queuedBoostList.scrollToView(0);case 10:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),n._loadQueuedBoostData=function(){var t=s(i().mark((function t(){var e,a,s,r,n,o,u,l,c,d,p;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,this.mQueuedBoostData=[],m.instance.isUseBeraMainnetSwap){t.next=5;break}return t.abrupt("return");case 5:return e=m.instance.beraBGTCoin,(a=[]).push(B.instance.fetchMyValidatorsList()),a.push(e.queryQueueBoostDelay()),a.push(e.queryQueueUnboostDelay()),t.next=12,Promise.all(a);case 12:if(!(null===(s=t.sent)||s.length<3)){t.next=15;break}return t.abrupt("return");case 15:if(this._curTabType===D.QueuedBoost){t.next=17;break}return t.abrupt("return");case 17:r=s[0],n=Number(s[1]),o=Number(s[2]),this.mQueuedBoostData=[],u=0;case 22:if(!(u<r.length)){t.next=44;break}if(!(Number(r[u].myInfo.queuedBoostAmount)>0)){t.next=29;break}return t.next=26,e.getBlockTimestamp(Number(r[u].myInfo.queuedBoostStartBlock));case 26:l=t.sent,c=1.95*n,this.mQueuedBoostData.push({validator:r[u].validator,type:1,amount:r[u].myInfo.queuedBoostAmount,startTimestamp:Number(l),delayTime:c});case 29:if(this._curTabType===D.QueuedBoost){t.next=32;break}return this.mQueuedBoostData=[],t.abrupt("return");case 32:if(!(Number(r[u].myInfo.queuedDropBoostAmount)>0)){t.next=38;break}return t.next=35,e.getBlockTimestamp(Number(r[u].myInfo.queuedDropBoostStartBlock));case 35:d=t.sent,p=1.95*o,this.mQueuedBoostData.push({validator:r[u].validator,type:2,amount:r[u].myInfo.queuedDropBoostAmount,startTimestamp:Number(d),delayTime:p});case 38:if(this._curTabType===D.QueuedBoost){t.next=41;break}return this.mQueuedBoostData=[],t.abrupt("return");case 41:u++,t.next=22;break;case 44:t.next=49;break;case 46:t.prev=46,t.t0=t.catch(0),h(t.t0);case 49:case"end":return t.stop()}}),t,this,[[0,46]])})));return function(){return t.apply(this,arguments)}}(),n.renderQueuedBoostListItem=function(t,e){t>=this.mQueuedBoostData.length||e.setQueuedBoostItemData(this.mQueuedBoostData[t].validator,this.mQueuedBoostData[t].type,this.mQueuedBoostData[t].amount,this.mQueuedBoostData[t].startTimestamp,this.mQueuedBoostData[t].delayTime)},a(r,null,[{key:"instance",get:function(){return this._instance}}]),r}(v)).CTRL_NAME="UIDappValidatorController",w._instance=null,b=w))||b);r._RF.pop()}}}));

System.register("chunks:///_virtual/ui.dapp.validator.detail.controller.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./ui.base.controller.ts","./sound.helper.ts","./event.dispatcher.ts","./event.name.ts","./resource.path.tool.ts","./common.tool.ts","./resource.manager.ts","./logic.tool.ts","./project.bera.mainnet.ts","./table.helper.ts","./bera.swap.mainnet.ts","./chain.system.ts","./chain.operate.bgt.boost.ts","./chain.operate.interface.ts","./chain.operate.bgt.unboost.ts","./use.ethers.ts","./sdk.manager.ts","./chain.utils.ts"],(function(t){"use strict";var e,a,i,n,o,s,r,u,c,l,h,m,b,p,_,f,d,v,B,C,k,D,w,S,x,T,V,I,y,U,g;return{setters:[function(t){e=t.inheritsLoose,a=t.createClass,i=t.asyncToGenerator,n=t.regeneratorRuntime},function(t){o=t.cclegacy,s=t._decorator,r=t.input,u=t.Input,c=t.KeyCode,l=t.isValid,h=t.error},function(t){m=t.UIPackage,b=t.Event},function(t){p=t.UIBaseController},function(t){_=t.SoundHelper},function(t){f=t.EventDispatcher},function(t){d=t.EventName},function(t){v=t.ResourcePathTool},function(t){B=t.CommonTool},function(t){C=t.ResourceManager},function(t){k=t.LogicTool},function(t){D=t.getBgtIconUrl},function(t){w=t.TableHelper},function(t){S=t.BeraSwapMainnet},function(t){x=t.ChainSystem},function(t){T=t.ChainOperateBGTBoost},function(t){V=t.ChainOperateStatus},function(t){I=t.ChainOperateBGTUnboost},function(t){y=t.formatUnits},function(t){U=t.SDKManager},function(t){g=t.getBeraScanMainnetUrl}],execute:function(){var N,G;o._RF.push({},"53988E8vddCu7rYreAzlrdw","ui.dapp.validator.detail.controller",void 0);var A=s.ccclass;t("UIDappValidatorDetailController",A("UIDappValidatorDetailController")(((G=function(t){function o(){for(var e,a=arguments.length,i=new Array(a),n=0;n<a;n++)i[n]=arguments[n];return(e=t.call.apply(t,[this].concat(i))||this).mFguiPkgName="WizardingValidators",e.mFguiMainViewName="Main_ValidatorDetails",e._view=null,e.mCurValidatorData=null,e.mBGTCoinData=null,e.mAvailValueWei=0n,e.mStakedValueWei=0n,e.mQueueBoostValueWei=0n,e.mQueueBoostTimestamp=0,e.mQueueUnboostValueWei=0n,e.mQueueUnboostTimestamp=0,e.mBoostSetType=0,e.mBoostSetValueString="",e}e(o,t);var s=o.prototype;return s._addEvents=function(){t.prototype._addEvents.call(this),r.on(u.EventType.KEY_DOWN,this._onKeyDown,this),f.on(d.UI_DAPP_VALIDATOR_DETAIL_BOOST_REFRESH,this._onBoostRefresh,this),f.on(d.UI_DAPP_VALIDATOR_DETAIL_UNBOOST_REFRESH,this._onUnboostRefresh,this)},s._removeEvents=function(){t.prototype._removeEvents.call(this),r.off(u.EventType.KEY_DOWN,this._onKeyDown,this),f.off(d.UI_DAPP_VALIDATOR_DETAIL_BOOST_REFRESH,this._onBoostRefresh,this),f.off(d.UI_DAPP_VALIDATOR_DETAIL_UNBOOST_REFRESH,this._onUnboostRefresh,this)},s._onKeyDown=function(t){switch(t.keyCode){case c.ESCAPE:this._onCloseClick()}},s._onBoostRefresh=function(){var t=i(n().mark((function t(){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this._view){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,this._loadBalanceData();case 4:return t.next=6,this._loadQueuedBoostData();case 6:this._refreshBoostData();case 7:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),s._onUnboostRefresh=function(){var t=i(n().mark((function t(){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this._view){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,this._loadBalanceData();case 4:return t.next=6,this._loadQueuedUnboostData();case 6:this._refreshBoostData();case 7:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),s.setValidatorData=function(t){this.mCurValidatorData=t},s.onLoad=function(){o._instance=this,this._startLoadPkg(this.mFguiPkgName)},s.onDestroy=function(){t.prototype.onDestroy.call(this),o._instance=null},s.closeUI=function(){t.prototype.closeUI.call(this)},s.update=function(){this._view},s._onLoadUIFinish=function(){t.prototype._onLoadUIFinish.call(this),this._view=m.createObject(this.mFguiPkgName,this.mFguiMainViewName).asCom,this._addUIToRoot(this._view),this._view.makeFullScreen(),this._view.closeBtn.onClick(this._onCloseClick,this),this._view.operatorUrlBtn.onClick(this._onOperatorUrlClick,this),this._view.websiteUrlBtn.onClick(this._onWebsiteUrlClick,this),this._view.boostBtn.onClick(this._onBoostClick,this),this._view.unboostBtn.onClick(this._onUnboostClick,this),this._view.boostSetMaskBg.onClick(this._onBoostSetCloseClick,this),this._view.boostSetCloseBtn.onClick(this._onBoostSetCloseClick,this),this._view.boostSetMaxBtn.onClick(this._onBoostSetMaxClick,this),this._view.boostSetConfirmBtn.onClick(this._onBoostSetComfirmClick,this),this._view.boostSetValue.on(b.TEXT_CHANGE,this._onBoostSetTextChanged,this),this._initData()},s._initData=function(){this._initCommonData(),this._initBoostData()},s._initCommonData=function(){if(null!=this.mCurValidatorData){this.mCurValidatorData.metadata?(this._loadTokenIcon(this._view.validatorIcon,this.mCurValidatorData.metadata.logoURI),this._view.validatorName.text=this.mCurValidatorData.metadata.name,""!==this.mCurValidatorData.metadata.website?this._view.website.text=this.mCurValidatorData.metadata.website:this._view.website.text="-"):(this._view.validatorIcon.url=v.getUIFarmItemPath("DefaultValidator"),this._view.validatorName.text=B.shortAddress(this.mCurValidatorData.pubkey,6),this._view.website.text="-"),this._view.operatorValue.text=B.shortAddress(this.mCurValidatorData.operator,6),this._view.emissionBGT.text=k.NumberTransform(Number.parseFloat(this.mCurValidatorData.dynamicData.allTimeDistributedBGTAmount),!0),this._view.stakedValue.text=k.NumberTransform(Number.parseFloat(this.mCurValidatorData.dynamicData.stakedBeraAmount),!0),this._view.boostValue.text=k.NumberTransform(Number.parseFloat(this.mCurValidatorData.dynamicData.activeBoostAmount),!0),this._view.boostAPY.text="-";var t=D();this._loadTokenIcon(this._view.returnBGTIcon,t),this._view.returnBGT.text="-",this._loadBlockStatsData()}},s._loadBlockStatsData=function(){var t=i(n().mark((function t(){var e,a,i,o;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,this._view.blockRate.text="-",this._view.blockLastDay.text=k.i18nFormat(w.getI18nUIText("u.15023"),["-/-"]),x.instance.isUseBeraMainnetSwap){t.next=6;break}return t.abrupt("return");case 6:return t.next=8,S.instance.fetchValidatorBlockStats(this.mCurValidatorData.pubkey);case 8:if(null!==(e=t.sent)){t.next=11;break}return t.abrupt("return");case 11:if(l(this.node)){t.next=13;break}return t.abrupt("return");case 13:a=0,e.blockStatsByValidators&&e.blockStatsByValidators.length>0&&(a=Number(e.blockStatsByValidators[0].blockCount)),i=0,e.blockStats_collection&&e.blockStats_collection.length>0&&(i=Number(e.blockStats_collection[0].blockCount)),this._view.blockRate.text=i>0?(a/i*100).toFixed(2)+"%":"-%",o=k.NumberTransform(a,!0)+"/"+k.NumberTransform(i,!0),this._view.blockLastDay.text=k.i18nFormat(w.getI18nUIText("u.15023"),[o]),t.next=25;break;case 22:t.prev=22,t.t0=t.catch(0),h(t.t0);case 25:case"end":return t.stop()}}),t,this,[[0,22]])})));return function(){return t.apply(this,arguments)}}(),s._loadTokenIcon=function(){var t=i(n().mark((function t(e,a){var i,o;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=a,t.prev=1,t.next=4,C.instance.loadChainIcon(i);case 4:if(o=t.sent,l(this.node)){t.next=7;break}return t.abrupt("return");case 7:if(i===a){t.next=9;break}return t.abrupt("return");case 9:e.texture=o,t.next=15;break;case 12:t.prev=12,t.t0=t.catch(1),h(t.t0);case 15:case"end":return t.stop()}}),t,this,[[1,12]])})));return function(e,a){return t.apply(this,arguments)}}(),s._initBoostData=function(){var t=i(n().mark((function t(){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!=this.mCurValidatorData){t.next=2;break}return t.abrupt("return");case 2:return this.mBGTCoinData=x.instance.beraBGTCoin,this._loadTokenIcon(this._view.availBGTIcon,this.mBGTCoinData.config.icon),this._loadTokenIcon(this._view.stakeBGTIcon,this.mBGTCoinData.config.icon),this._loadTokenIcon(this._view.boostSetIcon,this.mBGTCoinData.config.icon),this._view.stakeCtrl.selectedIndex=0,t.next=9,this._loadBalanceData();case 9:return t.next=11,this._loadQueuedBoostData();case 11:return t.next=13,this._loadQueuedUnboostData();case 13:this._refreshBoostData();case 14:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),s._refreshBoostData=function(){if(l(this.node)){var t=Number(y(this.mStakedValueWei,this.mBGTCoinData.decimals)),e=Number(y(this.mQueueBoostValueWei,this.mBGTCoinData.decimals)),a=Number(y(this.mQueueUnboostValueWei,this.mBGTCoinData.decimals));0===t&&0===e&&0===a?this._view.stakeCtrl.selectedIndex=1:0===t&&(e>0||a>0)?this._view.stakeCtrl.selectedIndex=2:t>0&&0===e&&0===a?this._view.stakeCtrl.selectedIndex=3:t>0&&(e>0||a>0)&&(this._view.stakeCtrl.selectedIndex=4);var i=Number(y(this.mAvailValueWei,this.mBGTCoinData.decimals));this._view.availBGTValue.text=i>=1?k.NumberTransform(i,!0)+" "+this.mBGTCoinData.config.symbol:k.NumberOmit(i.toString(),2,!0)+" "+this.mBGTCoinData.config.symbol,this._view.stakeBGTValue.text=t>=1?k.NumberTransform(t,!0)+" "+this.mBGTCoinData.config.symbol:k.NumberOmit(t.toString(),2,!0)+" "+this.mBGTCoinData.config.symbol,e>0?(this._view.queueBoostItemView.visible=!0,this._view.queueBoostItemView.setQueueBoostData(1,this.mCurValidatorData.pubkey,e.toString(),this.mQueueBoostTimestamp)):this._view.queueBoostItemView.visible=!1,a>0?(this._view.queueUnboostItemView.visible=!0,this._view.queueUnboostItemView.setQueueBoostData(2,this.mCurValidatorData.pubkey,a.toString(),this.mQueueUnboostTimestamp)):this._view.queueUnboostItemView.visible=!1}},s._loadBalanceData=function(){var t=i(n().mark((function t(){var e,a;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!=this.mBGTCoinData){t.next=2;break}return t.abrupt("return");case 2:if(t.prev=2,x.instance.isUseBeraMainnetSwap){t.next=6;break}return t.abrupt("return");case 6:return(e=[]).push(this.mBGTCoinData.queryUnboosted()),e.push(this.mBGTCoinData.queryBoosted(this.mCurValidatorData.pubkey)),t.next=11,Promise.all(e);case 11:if(!(null===(a=t.sent)||a.length<2)){t.next=14;break}return t.abrupt("return");case 14:this.mAvailValueWei=a[0],this.mStakedValueWei=a[1],t.next=21;break;case 18:t.prev=18,t.t0=t.catch(2),h(t.t0);case 21:case"end":return t.stop()}}),t,this,[[2,18]])})));return function(){return t.apply(this,arguments)}}(),s._loadQueuedBoostData=function(){var t=i(n().mark((function t(){var e,a,i,o,s;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!=this.mBGTCoinData){t.next=2;break}return t.abrupt("return");case 2:if(t.prev=2,x.instance.isUseBeraMainnetSwap){t.next=6;break}return t.abrupt("return");case 6:return(e=[]).push(this.mBGTCoinData.queryQueueBoost(this.mCurValidatorData.pubkey)),e.push(this.mBGTCoinData.queryQueueBoostDelay()),t.next=11,Promise.all(e);case 11:if(!(null===(a=t.sent)||a.length<2)){t.next=14;break}return t.abrupt("return");case 14:if(this.mQueueBoostValueWei=a[0].balance,i=Number(a[0].blockNumber),o=Number(a[1]),!(this.mQueueBoostValueWei>0n)){t.next=24;break}return t.next=20,this.mBGTCoinData.getBlockTimestamp(i);case 20:s=t.sent,this.mQueueBoostTimestamp=s+1.95*o,t.next=25;break;case 24:this.mQueueBoostTimestamp=0;case 25:t.next=30;break;case 27:t.prev=27,t.t0=t.catch(2),h(t.t0);case 30:case"end":return t.stop()}}),t,this,[[2,27]])})));return function(){return t.apply(this,arguments)}}(),s._loadQueuedUnboostData=function(){var t=i(n().mark((function t(){var e,a,i,o,s;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!=this.mBGTCoinData){t.next=2;break}return t.abrupt("return");case 2:if(t.prev=2,x.instance.isUseBeraMainnetSwap){t.next=6;break}return t.abrupt("return");case 6:return(e=[]).push(this.mBGTCoinData.queryQueueUnboost(this.mCurValidatorData.pubkey)),e.push(this.mBGTCoinData.queryQueueUnboostDelay()),t.next=11,Promise.all(e);case 11:if(!(null===(a=t.sent)||a.length<2)){t.next=14;break}return t.abrupt("return");case 14:if(l(this.node)){t.next=16;break}return t.abrupt("return");case 16:if(this.mQueueUnboostValueWei=a[0].balance,i=Number(a[0].blockNumber),o=Number(a[1]),!(this.mQueueUnboostValueWei>0n)){t.next=26;break}return t.next=22,this.mBGTCoinData.getBlockTimestamp(i);case 22:s=t.sent,this.mQueueUnboostTimestamp=s+1.95*o,t.next=27;break;case 26:this.mQueueUnboostTimestamp=0;case 27:t.next=32;break;case 29:t.prev=29,t.t0=t.catch(2),h(t.t0);case 32:case"end":return t.stop()}}),t,this,[[2,29]])})));return function(){return t.apply(this,arguments)}}(),s._onCloseClick=function(){_.PlaySound_UICommonClose(),f.emit(d.UI_DAPP_VALIDATOR_DETAIL_CLOSE)},s._onOperatorUrlClick=function(){var t=i(n().mark((function t(){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(_.PlaySound_UICommonClick(),null!=this.mCurValidatorData){t.next=3;break}return t.abrupt("return");case 3:U.instance.curSDKPlugin.openUrl(g(this.mCurValidatorData.operator));case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),s._onWebsiteUrlClick=function(){var t=i(n().mark((function t(){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(_.PlaySound_UICommonClick(),null!=this.mCurValidatorData){t.next=3;break}return t.abrupt("return");case 3:this.mCurValidatorData.metadata&&""!==this.mCurValidatorData.metadata.website&&U.instance.curSDKPlugin.openUrl(this.mCurValidatorData.metadata.website);case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),s._onBoostClick=function(){var t=i(n().mark((function t(){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:_.PlaySound_UICommonClick(),this._showBoostSetView();case 2:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),s._onUnboostClick=function(){_.PlaySound_UICommonClick(),this._showUnboostSetView()},s._onBoostSetCloseClick=function(){_.PlaySound_UICommonClick(),this._closeBoostSetView()},s._onBoostSetMaxClick=function(){_.PlaySound_UICommonClick();var t=0;if(1===this.mBoostSetType){var e=this.mAvailValueWei;t=Number(y(e,this.mBGTCoinData.decimals))}else if(2===this.mBoostSetType){var a=this.mStakedValueWei-this.mQueueUnboostValueWei;t=Number(y(a,this.mBGTCoinData.decimals))}this.mBoostSetValueString=t.toString(),this._view.boostSetValue.text=this.mBoostSetValueString},s._onBoostSetComfirmClick=function(){var t=i(n().mark((function t(){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(_.PlaySound_UICommonClick(),null!=this.mCurValidatorData){t.next=3;break}return t.abrupt("return");case 3:if(null!=this.mBGTCoinData){t.next=5;break}return t.abrupt("return");case 5:if(!(Number.parseFloat(this.mBoostSetValueString)<=0)){t.next=7;break}return t.abrupt("return");case 7:if(1!==this.mBoostSetType){t.next=23;break}return t.next=10,T.popConfirm(this.mCurValidatorData.pubkey,this.mBoostSetValueString);case 10:if(t.sent!==V.Success){t.next=21;break}if(l(this.node)){t.next=14;break}return t.abrupt("return");case 14:return this._closeBoostSetView(),t.next=17,this._loadBalanceData();case 17:return t.next=19,this._loadQueuedBoostData();case 19:this._refreshBoostData(),f.emit(d.UI_DAPP_VALIDATOR_LIST_REFRESH);case 21:t.next=37;break;case 23:if(2!==this.mBoostSetType){t.next=37;break}return t.next=26,I.popConfirm(this.mCurValidatorData.pubkey,this.mBoostSetValueString);case 26:if(t.sent!==V.Success){t.next=37;break}if(l(this.node)){t.next=30;break}return t.abrupt("return");case 30:return this._closeBoostSetView(),t.next=33,this._loadBalanceData();case 33:return t.next=35,this._loadQueuedUnboostData();case 35:this._refreshBoostData(),f.emit(d.UI_DAPP_VALIDATOR_LIST_REFRESH);case 37:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),s._onBoostSetTextChanged=function(){var t=Number.parseFloat(this._view.boostSetValue.text),e=0;if(1===this.mBoostSetType){var a=this.mAvailValueWei;e=Number(y(a,this.mBGTCoinData.decimals))}else if(2===this.mBoostSetType){var i=this.mStakedValueWei-this.mQueueUnboostValueWei;e=Number(y(i,this.mBGTCoinData.decimals))}isNaN(t)||t<0?this.mBoostSetValueString="0":this.mBoostSetValueString=t>e?e.toString():k.NumberOmit(this._view.boostSetValue.text),this._view.boostSetValue.text=this.mBoostSetValueString},s._showBoostSetView=function(){this.mBoostSetType=1,this._view.boostSetWind.visible=!0,this._view.boostSetTitle.text=w.getI18nUIText("u.15029"),this._view.boostSetTip.text=w.getI18nUIText("u.15035"),this._view.boostSetConfirmBtn.title=w.getI18nUIText("u.15037");var t=this.mAvailValueWei,e=y(t,this.mBGTCoinData.decimals);this._view.boostSetBalance.text=k.i18nFormat(w.getI18nUIText("u.15039"),["BGT"])+e,this._view.boostSetValue.text="0"},s._showUnboostSetView=function(){this.mBoostSetType=2,this._view.boostSetWind.visible=!0,this._view.boostSetTitle.text=w.getI18nUIText("u.15028"),this._view.boostSetTip.text=w.getI18nUIText("u.15036"),this._view.boostSetConfirmBtn.title=w.getI18nUIText("u.15038");var t=this.mStakedValueWei-this.mQueueUnboostValueWei,e=y(t,this.mBGTCoinData.decimals);this._view.boostSetBalance.text=k.i18nFormat(w.getI18nUIText("u.15040"),["BGT"])+e,this._view.boostSetValue.text="0"},s._closeBoostSetView=function(){this.mBoostSetType=0,this._view.boostSetWind.visible=!1},a(o,null,[{key:"instance",get:function(){return this._instance}}]),o}(p)).CTRL_NAME="UIDappValidatorDetailController",G._instance=null,N=G))||N);o._RF.pop()}}}));

System.register("chunks:///_virtual/ui.dapp.validator.detail.queued.item.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./project.bera.mainnet.ts","./chain.operate.interface.ts","./chain.operate.bgt.boost.queue.cancel.ts","./chain.operate.bgt.boost.queue.confirm.ts","./chain.operate.bgt.unboost.queue.cancel.ts","./chain.operate.bgt.unboost.queue.confirm.ts","./event.dispatcher.ts","./event.name.ts","./resource.manager.ts","./table.helper.ts","./sound.helper.ts","./time.system.ts","./logic.tool.ts"],(function(e){"use strict";var t,n,i,r,o,s,a,u,c,m,h,l,p,d,f,T,_,b,C,I,k;return{setters:[function(e){t=e.inheritsLoose,n=e.asyncToGenerator,i=e.regeneratorRuntime},function(e){r=e.cclegacy,o=e._decorator,s=e.isValid,a=e.error},function(e){u=e.GButton},function(e){c=e.getBgtIconUrl},function(e){m=e.ChainOperateStatus},function(e){h=e.ChainOperateBGTBoostQueueCancel},function(e){l=e.ChainOperateBGTBoostQueueConfirm},function(e){p=e.ChainOperateBGTUnboostQueueCancel},function(e){d=e.ChainOperateBGTUnboostQueueConfirm},function(e){f=e.EventDispatcher},function(e){T=e.EventName},function(e){_=e.ResourceManager},function(e){b=e.TableHelper},function(e){C=e.SoundHelper},function(e){I=e.TimeSystem},function(e){k=e.LogicTool}],execute:function(){var x,v;r._RF.push({},"82645r6taRGIqp0SKwfCzX7","ui.dapp.validator.detail.queued.item.view",void 0);var R=o.ccclass;e("default",R("UIDappValidatorDetailQueuedItemView")(((v=function(e){function r(){var t;return(t=e.call(this)||this).colorCtrl=void 0,t.isReadyCtrl=void 0,t.queuedTime=void 0,t.tokenIcon=void 0,t.tokenValue=void 0,t.confirmBtn=void 0,t.cancelBtn=void 0,t.mType=0,t.mPubKey="",t.mAmount="0",t.mEndTimestamp=0,t}t(r,e);var o=r.prototype;return o.onUpdate=function(){if(e.prototype.onUpdate.call(this),!(this.mEndTimestamp<=0)){var t=this.mEndTimestamp-I.instance.getTimestamp();t>=0&&(this.queuedTime.text=k.i18nFormat(b.getI18nUIText("u.15034"),[I.formatTimeString_BGT(t)]),0===t&&(this.isReadyCtrl.selectedIndex=1,this.confirmBtn.enabled=!0))}},o.onConstruct=function(){this.colorCtrl=this.getController("Color"),this.isReadyCtrl=this.getController("IsReady"),this.queuedTime=this.getChild("ui_QueuedTime"),this.tokenIcon=this.getChild("ui_QueuedIcon"),this.tokenValue=this.getChild("ui_QueuedValue"),this.confirmBtn=this.getChild("ui_BtnBoost"),this.cancelBtn=this.getChild("ui_BtnUnboost"),this.confirmBtn.onClick(this._onConfirmClick,this),this.cancelBtn.onClick(this._onCancelClick,this)},o._onConfirmClick=function(){var e=n(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(C.PlaySound_UICommonClick(),1!==this.mType){e.next=12;break}return e.next=4,l.popConfirm(this.mPubKey);case 4:if(e.sent!==m.Success){e.next=10;break}if(s(this.node)){e.next=8;break}return e.abrupt("return");case 8:f.emit(T.UI_DAPP_VALIDATOR_DETAIL_BOOST_REFRESH),f.emit(T.UI_DAPP_VALIDATOR_LIST_REFRESH);case 10:e.next=21;break;case 12:if(2!==this.mType){e.next=21;break}return e.next=15,d.popConfirm(this.mPubKey);case 15:if(e.sent!==m.Success){e.next=21;break}if(s(this.node)){e.next=19;break}return e.abrupt("return");case 19:f.emit(T.UI_DAPP_VALIDATOR_DETAIL_UNBOOST_REFRESH),f.emit(T.UI_DAPP_VALIDATOR_LIST_REFRESH);case 21:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),o._onCancelClick=function(){var e=n(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(C.PlaySound_UICommonClick(),1!==this.mType){e.next=12;break}return e.next=4,h.popConfirm(this.mPubKey,this.mAmount);case 4:if(e.sent!==m.Success){e.next=10;break}if(s(this.node)){e.next=8;break}return e.abrupt("return");case 8:f.emit(T.UI_DAPP_VALIDATOR_DETAIL_BOOST_REFRESH),f.emit(T.UI_DAPP_VALIDATOR_LIST_REFRESH);case 10:e.next=21;break;case 12:if(2!==this.mType){e.next=21;break}return e.next=15,p.popConfirm(this.mPubKey,this.mAmount);case 15:if(e.sent!==m.Success){e.next=21;break}if(s(this.node)){e.next=19;break}return e.abrupt("return");case 19:f.emit(T.UI_DAPP_VALIDATOR_DETAIL_UNBOOST_REFRESH),f.emit(T.UI_DAPP_VALIDATOR_LIST_REFRESH);case 21:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),o.setQueueBoostData=function(e,t,n,i){this.mType=e,this.mPubKey=t,this.mAmount=n,this.mEndTimestamp=i;var r=c();this._loadTokenIcon(this.tokenIcon,r);var o="";1===this.mType?(o="+",this.colorCtrl.selectedIndex=0):2===this.mType&&(o="-",this.colorCtrl.selectedIndex=1);var s=Number(this.mAmount);this.tokenValue.text=s>=1?o+k.NumberTransform(s,!0)+" BGT":o+k.NumberOmit(this.mAmount,2,!0)+" BGT";var a=this.mEndTimestamp-I.instance.getTimestamp();a>0?(this.isReadyCtrl.selectedIndex=0,this.confirmBtn.enabled=!1):(a=0,this.isReadyCtrl.selectedIndex=1,this.confirmBtn.enabled=!0),this.queuedTime.text=k.i18nFormat(b.getI18nUIText("u.15034"),[I.formatTimeString_BGT(a)])},o._loadTokenIcon=function(){var e=n(i().mark((function e(t,n){var r,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n,e.prev=1,e.next=4,_.instance.loadChainIcon(r);case 4:if(o=e.sent,s(this.node)){e.next=7;break}return e.abrupt("return");case 7:if(r===n){e.next=9;break}return e.abrupt("return");case 9:t.texture=o,e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),a(e.t0);case 15:case"end":return e.stop()}}),e,this,[[1,12]])})));return function(t,n){return e.apply(this,arguments)}}(),r}(u)).URL="ui://WizardingValidators/listbar_Queue",x=v))||x);r._RF.pop()}}}));

System.register("chunks:///_virtual/ui.dapp.validator.detail.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){"use strict";var i,e,o,s;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy,o=t._decorator},function(t){s=t.GComponent}],execute:function(){var a,l;e._RF.push({},"d7c69qtja1PlpNhf76ObzY9","ui.dapp.validator.detail.view",void 0);var d=o.ccclass;t("default",d("UIDappValidatorDetailView")(((l=function(t){function e(){var i;return(i=t.call(this)||this).stakeCtrl=void 0,i.closeBtn=void 0,i.detailView=void 0,i.validatorIcon=void 0,i.validatorName=void 0,i.helpBtn=void 0,i.operatorValue=void 0,i.operatorUrlBtn=void 0,i.emissionBGT=void 0,i.stakedValue=void 0,i.boostValue=void 0,i.boostAPY=void 0,i.returnBGTIcon=void 0,i.returnBGT=void 0,i.blockRate=void 0,i.blockLastDay=void 0,i.website=void 0,i.websiteUrlBtn=void 0,i.availBGTIcon=void 0,i.availBGTValue=void 0,i.stakeBGTIcon=void 0,i.stakeBGTValue=void 0,i.boostBtn=void 0,i.unboostBtn=void 0,i.queueBoostItemView=void 0,i.queueUnboostItemView=void 0,i.boostSetWind=void 0,i.boostSetMaskBg=void 0,i.boostSetView=void 0,i.boostSetCloseBtn=void 0,i.boostSetTitle=void 0,i.boostSetTip=void 0,i.boostSetIcon=void 0,i.boostSetValue=void 0,i.boostSetMaxBtn=void 0,i.boostSetConfirmBtn=void 0,i.boostSetBalance=void 0,i}return i(e,t),e.prototype.onConstruct=function(){this.closeBtn=this.getChild("ui_WindClose"),this.detailView=this.getChild("ui_ValidatorDetails"),this.stakeCtrl=this.detailView.getController("Stake"),this.validatorIcon=this.detailView.getChild("ui_ValidatorIcon"),this.validatorName=this.detailView.getChild("ui_ValidatorName"),this.helpBtn=this.detailView.getChild("n200"),this.operatorValue=this.detailView.getChild("ui_Value1"),this.operatorUrlBtn=this.detailView.getChild("ui_BtnOperator"),this.emissionBGT=this.detailView.getChild("ui_Value2"),this.stakedValue=this.detailView.getChild("ui_Value3"),this.boostValue=this.detailView.getChild("ui_Value4"),this.boostAPY=this.detailView.getChild("ui_Value5"),this.returnBGTIcon=this.detailView.getChild("ui_EstIcon"),this.returnBGT=this.detailView.getChild("ui_Value6"),this.blockRate=this.detailView.getChild("ui_Value7"),this.blockLastDay=this.detailView.getChild("ui_Last7"),this.website=this.detailView.getChild("ui_Value8"),this.websiteUrlBtn=this.detailView.getChild("ui_BtnWebsite"),this.availBGTIcon=this.detailView.getChild("ui_AvailableIcon"),this.availBGTValue=this.detailView.getChild("ui_AvailableValue"),this.stakeBGTIcon=this.detailView.getChild("ui_StakedIcon"),this.stakeBGTValue=this.detailView.getChild("ui_StakedValue"),this.boostBtn=this.detailView.getChild("ui_BtnBoost"),this.unboostBtn=this.detailView.getChild("ui_BtnUnboost"),this.queueBoostItemView=this.detailView.getChild("ui_QueuedBoost"),this.queueUnboostItemView=this.detailView.getChild("ui_QueuedUnboost"),this.boostSetWind=this.getChild("ui_BoostWindGp"),this.boostSetMaskBg=this.getChild("BgMask"),this.boostSetView=this.getChild("ui_BoostWind"),this.boostSetCloseBtn=this.boostSetView.getChild("ui_WindClose"),this.boostSetTitle=this.boostSetView.getChild("ui_Name"),this.boostSetTip=this.boostSetView.getChild("ui_Label"),this.boostSetIcon=this.boostSetView.getChild("ui_TokenIcon"),this.boostSetValue=this.boostSetView.getChild("ui_Input"),this.boostSetMaxBtn=this.boostSetView.getChild("ui_BtnMax"),this.boostSetConfirmBtn=this.boostSetView.getChild("ui_BtnConfim"),this.boostSetBalance=this.boostSetView.getChild("ui_Balance")},e}(s)).URL="ui://WizardingValidators/Main_ValidatorDetails",a=l))||a);e._RF.pop()}}}));

System.register("chunks:///_virtual/ui.dapp.validator.mine.item.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./resource.manager.ts","./table.helper.ts","./common.tool.ts","./logic.tool.ts","./resource.path.tool.ts"],(function(t){"use strict";var e,o,i,a,r,s,n,u,l,c,h,m,d,v;return{setters:[function(t){e=t.inheritsLoose,o=t.asyncToGenerator,i=t.regeneratorRuntime},function(t){a=t.cclegacy,r=t._decorator,s=t.Color,n=t.error,u=t.isValid},function(t){l=t.GButton},function(t){c=t.ResourceManager},function(t){h=t.TableHelper},function(t){m=t.CommonTool},function(t){d=t.LogicTool},function(t){v=t.ResourcePathTool}],execute:function(){var b,f;a._RF.push({},"490e9GtF35Ofohtafqrfl5O","ui.dapp.validator.mine.item.view",void 0);var p=r.ccclass;t("default",p("UIDappValidatorMineItemView")(((f=function(t){function a(){var e;return(e=t.call(this)||this).btnCtrl=void 0,e.isActiveCtrl=void 0,e.validatorIcon=void 0,e.validatorName=void 0,e.boostValue=void 0,e.queueBoostValue=void 0,e.queueUnboostValue=void 0,e.emissionBGTTital=void 0,e.emissionBGT=void 0,e.incentives=void 0,e.mCurShowData=null,e}e(a,t);var r=a.prototype;return r.onConstruct=function(){this.btnCtrl=this.getController("button"),this.isActiveCtrl=this.getController("IsActive"),this.validatorIcon=this.getChild("ui_ValidatorIcon"),this.validatorName=this.getChild("ui_ValidatorName"),this.boostValue=this.getChild("ui_Value1"),this.queueBoostValue=this.getChild("ui_Value2"),this.queueUnboostValue=this.getChild("ui_Value3"),this.emissionBGTTital=this.getChild("ui_Label4"),this.emissionBGT=this.getChild("ui_Value4"),this.incentives=this.getChild("ui_Value5")},r.getValidatorItemData=function(){return this.mCurShowData},r.setMyBoostItemData=function(t,e){this.mCurShowData=t,t.metadata?(this._loadTokenIcon(this.validatorIcon,t.metadata.logoURI),this.validatorName.text=t.metadata.name):(this.validatorIcon.url=v.getUIFarmItemPath("DefaultValidator"),this.validatorName.text=m.shortAddress(t.pubkey,6)),this.isActiveCtrl.selectedIndex=t.lastBlockUptime.isActive?1:0;var o=Number(e.activeBoostAmount);this.boostValue.text=o>=1?d.NumberTransform(o,!0)+" BGT":d.NumberOmit(e.activeBoostAmount,2,!0)+" BGT",this.queueBoostValue.color=new s(255,239,213);var i=Number(e.queuedBoostAmount);this.queueBoostValue.text=i>=1?d.NumberTransform(i,!0)+" BGT":d.NumberOmit(e.queuedBoostAmount,2,!0)+" BGT",this.queueUnboostValue.color=new s(246,23,23);var a=Number(e.queuedDropBoostAmount);this.queueUnboostValue.text=a>=1?d.NumberTransform(a,!0)+" BGT":d.NumberOmit(e.queuedDropBoostAmount,2,!0)+" BGT",this.emissionBGTTital.text=d.i18nFormat(h.getI18nUIText("u.15007"),["BGT"]),this.emissionBGT.text=d.NumberTransform(Number.parseFloat(t.dynamicData.lastDayDistributedBGTAmount),!0),this.incentives.text="No "+h.getI18nUIText("u.14306")},r._loadTokenIcon=function(){var t=o(i().mark((function t(e,o){var a,r;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=o,t.prev=1,t.next=4,c.instance.loadChainIcon(a);case 4:if(r=t.sent,u(this.node)){t.next=7;break}return t.abrupt("return");case 7:if(a===o){t.next=9;break}return t.abrupt("return");case 9:e.texture=r,t.next=15;break;case 12:t.prev=12,t.t0=t.catch(1),n(t.t0);case 15:case"end":return t.stop()}}),t,this,[[1,12]])})));return function(e,o){return t.apply(this,arguments)}}(),a}(l)).URL="ui://WizardingValidators/listbar_Validator_Mine",b=f))||b);a._RF.pop()}}}));

System.register("chunks:///_virtual/ui.dapp.validator.queued.item.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./project.bera.mainnet.ts","./chain.operate.interface.ts","./chain.operate.bgt.boost.queue.cancel.ts","./chain.operate.bgt.boost.queue.confirm.ts","./chain.operate.bgt.unboost.queue.cancel.ts","./chain.operate.bgt.unboost.queue.confirm.ts","./event.dispatcher.ts","./event.name.ts","./resource.manager.ts","./sound.helper.ts","./time.system.ts","./common.tool.ts","./logic.tool.ts","./resource.path.tool.ts"],(function(t){"use strict";var e,i,n,a,o,r,s,u,c,m,h,l,d,p,f,T,C,k,b,v,_,I,S,x;return{setters:[function(t){e=t.inheritsLoose,i=t.asyncToGenerator,n=t.regeneratorRuntime},function(t){a=t.cclegacy,o=t._decorator,r=t.math,s=t.Color,u=t.isValid,c=t.error},function(t){m=t.GButton},function(t){h=t.getBgtIconUrl},function(t){l=t.ChainOperateStatus},function(t){d=t.ChainOperateBGTBoostQueueCancel},function(t){p=t.ChainOperateBGTBoostQueueConfirm},function(t){f=t.ChainOperateBGTUnboostQueueCancel},function(t){T=t.ChainOperateBGTUnboostQueueConfirm},function(t){C=t.EventDispatcher},function(t){k=t.EventName},function(t){b=t.ResourceManager},function(t){v=t.SoundHelper},function(t){_=t.TimeSystem},function(t){I=t.CommonTool},function(t){S=t.LogicTool},function(t){x=t.ResourcePathTool}],execute:function(){var g,y;a._RF.push({},"41d0cHNbEpMxp3Rs2b5lp53","ui.dapp.validator.queued.item.view",void 0);var R=o.ccclass;t("default",R("UIDappValidatorQueuedItemView")(((y=function(t){function a(){var e;return(e=t.call(this)||this).isReadyCtrl=void 0,e.validatorIcon=void 0,e.validatorName=void 0,e.tokenIcon=void 0,e.tokenName=void 0,e.tokenValue=void 0,e.queuedTimeSlider=void 0,e.queuedTimeValue=void 0,e.confirmBtn=void 0,e.cancelBtn=void 0,e.mCurShowData=null,e.mType=0,e.mAmount="0",e.mStartTimestamp=0,e.mTotalTime=0,e}e(a,t);var o=a.prototype;return o.onUpdate=function(){if(t.prototype.onUpdate.call(this),!(this.mStartTimestamp<=0)){var e=this.mStartTimestamp+this.mTotalTime-_.instance.getTimestamp();e>=0&&(this.queuedTimeSlider.value=r.clamp01((this.mTotalTime-e)/this.mTotalTime),this.queuedTimeValue.text=_.formatTimeString_BGT(e),0===e&&(this.isReadyCtrl.selectedIndex=1,this.confirmBtn.enabled=!0))}},o.onConstruct=function(){this.isReadyCtrl=this.getController("IsReady"),this.validatorIcon=this.getChild("ui_ValidatorIcon"),this.validatorName=this.getChild("ui_ValidatorName"),this.tokenIcon=this.getChild("ui_TokenIcon"),this.tokenName=this.getChild("ui_TokenName"),this.tokenValue=this.getChild("ui_TokenValue"),this.queuedTimeSlider=this.getChild("ui_ProgressTime"),this.queuedTimeValue=this.getChild("ui_Time"),this.confirmBtn=this.getChild("ui_BtnConfirm"),this.cancelBtn=this.getChild("ui_BtnCancel"),this.confirmBtn.onClick(this._onConfirmClick,this),this.cancelBtn.onClick(this._onCancelClick,this),this.queuedTimeSlider.min=0,this.queuedTimeSlider.max=1},o._onConfirmClick=function(){var t=i(n().mark((function t(){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(v.PlaySound_UICommonClick(),1!==this.mType){t.next=11;break}return t.next=4,p.popConfirm(this.mCurShowData.pubkey);case 4:if(t.sent!==l.Success){t.next=9;break}if(u(this.node)){t.next=8;break}return t.abrupt("return");case 8:C.emit(k.UI_DAPP_VALIDATOR_LIST_REFRESH);case 9:t.next=19;break;case 11:if(2!==this.mType){t.next=19;break}return t.next=14,T.popConfirm(this.mCurShowData.pubkey);case 14:if(t.sent!==l.Success){t.next=19;break}if(u(this.node)){t.next=18;break}return t.abrupt("return");case 18:C.emit(k.UI_DAPP_VALIDATOR_LIST_REFRESH);case 19:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),o._onCancelClick=function(){var t=i(n().mark((function t(){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(v.PlaySound_UICommonClick(),1!==this.mType){t.next=11;break}return t.next=4,d.popConfirm(this.mCurShowData.pubkey,this.mAmount);case 4:if(t.sent!==l.Success){t.next=9;break}if(u(this.node)){t.next=8;break}return t.abrupt("return");case 8:C.emit(k.UI_DAPP_VALIDATOR_LIST_REFRESH);case 9:t.next=19;break;case 11:if(2!==this.mType){t.next=19;break}return t.next=14,f.popConfirm(this.mCurShowData.pubkey,this.mAmount);case 14:if(t.sent!==l.Success){t.next=19;break}if(u(this.node)){t.next=18;break}return t.abrupt("return");case 18:C.emit(k.UI_DAPP_VALIDATOR_LIST_REFRESH);case 19:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),o.getValidatorItemData=function(){return this.mCurShowData},o.setQueuedBoostItemData=function(t,e,i,n,a){this.mCurShowData=t,this.mType=e,this.mAmount=i,this.mStartTimestamp=n,this.mTotalTime=a,t.metadata?(this._loadTokenIcon(this.validatorIcon,t.metadata.logoURI),this.validatorName.text=t.metadata.name):(this.validatorIcon.url=x.getUIFarmItemPath("DefaultValidator"),this.validatorName.text=I.shortAddress(t.pubkey,6));var o=h();this._loadTokenIcon(this.tokenIcon,o);var u="";1===this.mType?(u="+",this.tokenValue.color=new s(255,239,213)):2===this.mType&&(u="-",this.tokenValue.color=new s(246,23,23));var c=Number(this.mAmount);this.tokenValue.text=c>=1?u+S.NumberTransform(c,!0)+" BGT":u+S.NumberOmit(this.mAmount,2,!0)+" BGT";var m=this.mStartTimestamp+this.mTotalTime-_.instance.getTimestamp();m>0?(this.isReadyCtrl.selectedIndex=0,this.confirmBtn.enabled=!1):(m=0,this.isReadyCtrl.selectedIndex=1,this.confirmBtn.enabled=!0),this.queuedTimeSlider.value=r.clamp01((this.mTotalTime-m)/this.mTotalTime),this.queuedTimeValue.text=_.formatTimeString_BGT(m)},o._loadTokenIcon=function(){var t=i(n().mark((function t(e,i){var a,o;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=i,t.prev=1,t.next=4,b.instance.loadChainIcon(a);case 4:if(o=t.sent,u(this.node)){t.next=7;break}return t.abrupt("return");case 7:if(a===i){t.next=9;break}return t.abrupt("return");case 9:e.texture=o,t.next=15;break;case 12:t.prev=12,t.t0=t.catch(1),c(t.t0);case 15:case"end":return t.stop()}}),t,this,[[1,12]])})));return function(e,i){return t.apply(this,arguments)}}(),a}(m)).URL="ui://WizardingValidators/listbar_Validator_Queued",g=y))||g);a._RF.pop()}}}));

System.register("chunks:///_virtual/ui.dapp.validator.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){"use strict";var i,o,s,e;return{setters:[function(t){i=t.inheritsLoose},function(t){o=t.cclegacy,s=t._decorator},function(t){e=t.GComponent}],execute:function(){var a,l;o._RF.push({},"20bc88PojpDaY1hQ1E25NU3","ui.dapp.validator.view",void 0);var n=s.ccclass;t("default",n("UIDappValidatorView")(((l=function(t){function o(){var i;return(i=t.call(this)||this).isNoneCtrl=void 0,i.tabCtrl=void 0,i.closeBtn=void 0,i.tab1Btn=void 0,i.tab2Btn=void 0,i.tab3Btn=void 0,i.allValidatorList=void 0,i.myBoostList=void 0,i.queuedBoostList=void 0,i}return i(o,t),o.prototype.onConstruct=function(){this.isNoneCtrl=this.getController("IsNone"),this.tabCtrl=this.getController("Tab"),this.closeBtn=this.getChild("ui_WindClose"),this.tab1Btn=this.getChild("ui_Tab1"),this.tab2Btn=this.getChild("ui_Tab2"),this.tab3Btn=this.getChild("ui_Tab3"),this.allValidatorList=this.getChild("ui_AllValidators"),this.myBoostList=this.getChild("ui_MyBoosts"),this.queuedBoostList=this.getChild("ui_QueuedBoosts")},o}(e)).URL="ui://WizardingValidators/Main",a=l))||a);o._RF.pop()}}}));

System.register("chunks:///_virtual/ui.dapp.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./resource.manager.ts"],(function(e){"use strict";var t,n,i,a,o,p,d,l;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,i=e._decorator,a=e.isValid,o=e.sp,p=e.v2},function(e){d=e.GComponent},function(e){l=e.ResourceManager}],execute:function(){var s,r;n._RF.push({},"ab447XITolHa4O2UA1HyFM2","ui.dapp.view",void 0);var h=i.ccclass;e("default",h("UIDappView")(((r=function(e){function n(){var t;return(t=e.call(this)||this).closeBtn=void 0,t.wind=void 0,t.dappMarketBtn=void 0,t.dappShopBtn=void 0,t.dappDEXBtn=void 0,t.dappBankBtn=void 0,t}t(n,e);var i=n.prototype;return i.onConstruct=function(){this.closeBtn=this.getChild("ui_WindClose"),this.wind=this.getChild("MapBg"),this.dappMarketBtn=this.wind.getChild("ui_Btn1"),this.dappShopBtn=this.wind.getChild("ui_Btn2"),this.dappDEXBtn=this.wind.getChild("ui_Btn3"),this.dappBankBtn=this.wind.getChild("ui_Btn4")},i.setDappMarketOpen=function(e){var t=this.dappMarketBtn.getController("IsOpened");if(e){t&&(t.selectedIndex=1);var n=this.dappMarketBtn.getChild("ui_SpineIcon");n&&this._loadDappModelShow(n,"CryptoDiagonAlley_Marketplace")}else t&&(t.selectedIndex=0)},i.setDappShopOpen=function(e){var t=this.dappShopBtn.getController("IsOpened");if(e){t&&(t.selectedIndex=1);var n=this.dappShopBtn.getChild("ui_SpineIcon");n&&this._loadDappModelShow(n,"CryptoDiagonAlley_WizardingPawnShop")}else t&&(t.selectedIndex=0)},i.setDappDEXOpen=function(e){var t=this.dappDEXBtn.getController("IsOpened");if(e){t&&(t.selectedIndex=1);var n=this.dappDEXBtn.getChild("ui_SpineIcon");n&&this._loadDappModelShow(n,"CryptoDiagonAlley_WizardingDEX")}else t&&(t.selectedIndex=0)},i.setDappBankOpen=function(e){var t=this.dappBankBtn.getController("IsOpened");if(e){t&&(t.selectedIndex=1);var n=this.dappBankBtn.getChild("ui_SpineIcon");n&&this._loadDappModelShow(n,"CryptoDiagonAlley_WizardingBank")}else t&&(t.selectedIndex=0)},i._loadDappModelShow=function(e,t){var n=this;l.instance.loadFarmRes(t,(function(t){if(a(n.node)){var i=t.data,d=null==i?void 0:i.getComponentInChildren(o.Skeleton);i&&(e.clearContent(),e.skinName=d.defaultSkin,e.loop=!0,e.animationName="animation",e.setSpine(d.skeletonData,p(40,40)),e.content.timeScale=.5)}}))},n}(d)).URL="ui://CryptoDiagonAlley/Main",s=r))||s);n._RF.pop()}}}));

System.register("chunks:///_virtual/ui.detail.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){"use strict";var i,n,e;return{setters:[function(t){i=t.inheritsLoose},function(t){n=t.cclegacy},function(t){e=t.GComponent}],execute:function(){n._RF.push({},"14a10AXlVVCn5XEijKIXWWK","ui.detail.view",void 0),t("default",function(t){function n(){for(var i,n=arguments.length,e=new Array(n),o=0;o<n;o++)e[o]=arguments[o];return(i=t.call.apply(t,[this].concat(e))||this).bgMask=void 0,i}return i(n,t),n.prototype.onConstruct=function(){this.bgMask=this.getChild("n8")},n}(e)).URL="ui://Details/Main",n._RF.pop()}}}));

System.register("chunks:///_virtual/ui.details.charge.kaia.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./event.dispatcher.ts","./event.name.ts","./table.helper.ts","./net.helper.ts","./purchase.client.protocol.ts","./sound.helper.ts","./resource.path.tool.ts","./sdk.manager.ts","./time.system.ts","./logic.tool.ts","./model.charge.manager.ts","./model.charge.define.ts","./model.mainrole.manager.ts","./system.data.ts","./data.pay.ts","./ui.float.text.controller.ts","./line.sdk.ts"],(function(t){"use strict";var e,i,h,n,s,r,o,a,c,l,g,C,u,_,m,d,k,D,I,f,y,T,B;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy,h=t.isValid,n=t.sys},function(t){s=t.Event,r=t.GComponent},function(t){o=t.EventDispatcher},function(t){a=t.EventName},function(t){c=t.TableHelper},function(t){l=t.NetHelper},function(t){g=t.EPayType},function(t){C=t.SoundHelper},function(t){u=t.ResourcePathTool},function(t){_=t.SDKManager},function(t){m=t.TimeSystem},function(t){d=t.LogicTool},function(t){k=t.ModelChargeManager},function(t){D=t.EChargeType},function(t){I=t.ModelMainRoleManager},function(t){f=t.SystemData},function(t){y=t.EPayCurrency},function(t){T=t.UIFloatTextController},function(t){B=t.LineSDK}],execute:function(){i._RF.push({},"8c27bKvbIFNN6a8LIrPRgoU","ui.details.charge.kaia.view",void 0),t("default",function(t){function i(){for(var e,i=arguments.length,h=new Array(i),n=0;n<i;n++)h[n]=arguments[n];return(e=t.call.apply(t,[this].concat(h))||this).chargeTypeCtrl=void 0,e.isPercentCtrl=void 0,e.isInLockCtrl=void 0,e.closeBtn=void 0,e.itemIcon=void 0,e.activityIcon=void 0,e.monthlyCardIcon=void 0,e.itemNameTag=void 0,e.itemName=void 0,e.itemAmount=void 0,e.itemPrice=void 0,e.doubleTag=void 0,e.doubleValue=void 0,e.chargeBtn_THB=void 0,e.chargeBtn_NTD=void 0,e.chargeBtn_JPY=void 0,e.chargeBtn_KRW=void 0,e.chargeBtn_USD=void 0,e.chargeBtn_KAIA=void 0,e.checkAgree1=void 0,e.checkAgree2=void 0,e.checkAgree1Tip=void 0,e.checkAgree2Tip=void 0,e.payHistoryBtn=void 0,e.mChargeVersion=0,e.mCurShowData=null,e.mChargeLockTime=0,e._onCloseClick=null,e}e(i,t);var r=i.prototype;return r.onUpdate=function(){t.prototype.onUpdate.call(this),null!==this.mCurShowData&&this.mChargeLockTime>0&&(this._setChargeLockTime(this.chargeBtn_THB,this.mChargeLockTime),this._setChargeLockTime(this.chargeBtn_NTD,this.mChargeLockTime),this._setChargeLockTime(this.chargeBtn_JPY,this.mChargeLockTime),this._setChargeLockTime(this.chargeBtn_KRW,this.mChargeLockTime),this._setChargeLockTime(this.chargeBtn_USD,this.mChargeLockTime),this._setChargeLockTime(this.chargeBtn_KAIA,this.mChargeLockTime))},r.onConstruct=function(){this.chargeTypeCtrl=this.getController("IsFirst"),this.isPercentCtrl=this.getController("IsPercent"),this.isInLockCtrl=this.getController("IsCD"),this.closeBtn=this.getChild("ui_WindClose"),this.itemIcon=this.getChild("ui_CoinIcon1"),this.activityIcon=this.getChild("ui_PackIcon"),this.monthlyCardIcon=this.getChild("ui_MonthlyCardIcon"),this.itemNameTag=this.getChild("ui_CoinNameTag"),this.itemName=this.getChild("ui_CoinName"),this.itemAmount=this.getChild("ui_Amount1"),this.itemPrice=this.getChild("ui_USD"),this.itemPrice.font="BM_AmountFontBlack",this.doubleTag=this.getChild("ui_TagDouble"),this.doubleValue=this.getChild("ui_DoubleValue"),this.chargeBtn_THB=this.getChild("ui_BtnCharge06"),this.chargeBtn_NTD=this.getChild("ui_BtnCharge05"),this.chargeBtn_JPY=this.getChild("ui_BtnCharge04"),this.chargeBtn_KRW=this.getChild("ui_BtnCharge03"),this.chargeBtn_USD=this.getChild("ui_BtnCharge02"),this.chargeBtn_KAIA=this.getChild("ui_BtnCharge01");var t=this.getChild("ui_KAIA");this.checkAgree1=t.getChild("ui_BtnCheck1"),this.checkAgree2=t.getChild("ui_BtnCheck2"),this.checkAgree1Tip=t.getChild("ui_CheckLabel1"),this.checkAgree2Tip=t.getChild("ui_CheckLabel2"),this.payHistoryBtn=this.getChild("ui_Line_PaymentHistory"),this.closeBtn.onClick(this._onCloseBtnClick,this),this.chargeBtn_THB.onClick(this._onChargeCurrencyClick,this),this.chargeBtn_NTD.onClick(this._onChargeCurrencyClick,this),this.chargeBtn_JPY.onClick(this._onChargeCurrencyClick,this),this.chargeBtn_KRW.onClick(this._onChargeCurrencyClick,this),this.chargeBtn_USD.onClick(this._onChargeCurrencyClick,this),this.chargeBtn_KAIA.onClick(this._onChargeKAIAClick,this),this.checkAgree1.onClick(this._onChargeAgree1Click,this),this.checkAgree2.onClick(this._onChargeAgree2Click,this),this.checkAgree1Tip.on(s.LINK,this.onAgree1LinkClick,this),this.checkAgree2Tip.on(s.LINK,this.onAgree2LinkClick,this),this.payHistoryBtn.onClick(this._onPayHistoryClick,this),o.on(a.CHARGE_GET_LIST,this._onGetChargeList,this),o.on(a.CHARGE_PURCHASE_GET_ORDER,this._onChargeGetOrder,this),o.on(a.CHARGE_PURCHASE_FINISH,this._onChargeFinish,this),o.on(a.CHARGE_LOCK_CHANGED,this._onChargeLockChanged,this)},r.onDestroy=function(){o.off(a.CHARGE_GET_LIST,this._onGetChargeList,this),o.off(a.CHARGE_PURCHASE_GET_ORDER,this._onChargeGetOrder,this),o.off(a.CHARGE_PURCHASE_FINISH,this._onChargeFinish,this),o.off(a.CHARGE_LOCK_CHANGED,this._onChargeLockChanged,this)},r._onGetChargeList=function(t){if(h(this.node)&&null!=this.mCurShowData){for(var e=null,i=0;i<t.info.length;i++)if(this.mCurShowData.id===t.info[i].id){e=t.info[i];break}e&&this.RefreshShowData(e,t.purchaseVer)}},r._onChargeGetOrder=function(t){h(this.node)&&null!=this.mCurShowData&&t.productID===this.mCurShowData.id&&1===t.result&&_.instance.curSDKPlugin.SDKPay(t.payType,t.orderID,t.payAmount,t.productID)},r._onChargeFinish=function(t){h(this.node)&&null!=this.mCurShowData&&t.productID===this.mCurShowData.id&&(this.scrollPane&&this.scrollPane.cancelDragging(),this._onCloseClick&&this._onCloseClick())},r._onChargeLockChanged=function(){h(this.node)&&null!=this.mCurShowData&&this._refreshBtnState()},r._onCloseBtnClick=function(){C.PlaySound_UICommonClose(),this._onCloseClick&&this._onCloseClick()},r._onChargeCurrencyClick=function(){C.PlaySound_UICommonClick(),this.mCurShowData&&(this.mChargeLockTime>0||(this._checkChargeAgree()?l.purchaseProductOrder(this.mChargeVersion,this.mCurShowData.id,g.ePayType_Line_USD,I.instance.NotCoinLevel):T.AddTipI18nID_Info("u.2562")))},r._onChargeKAIAClick=function(){C.PlaySound_UICommonClick(),this.mCurShowData&&(this.mChargeLockTime>0||(this._checkChargeAgree()?l.purchaseProductOrder(this.mChargeVersion,this.mCurShowData.id,g.ePayType_KAIA,I.instance.NotCoinLevel):T.AddTipI18nID_Info("u.2562")))},r._onChargeAgree1Click=function(){C.PlaySound_UICommonClick(),this._saveChargeAgree1()},r._onChargeAgree2Click=function(){C.PlaySound_UICommonClick(),this._saveChargeAgree2()},r.onAgree1LinkClick=function(t){C.PlaySound_UICommonClick(),""!==t&&_.instance.curSDKPlugin.openUrl(t)},r.onAgree2LinkClick=function(t){C.PlaySound_UICommonClick(),""!==t&&_.instance.curSDKPlugin.openUrl(t)},r._onPayHistoryClick=function(){C.PlaySound_UICommonClick(),B.openPayHistory()},r.OnCloseBtnClick=function(t){this._onCloseClick=t},r.RefreshShowData=function(t,e){if(t){this.mChargeVersion=e,this.mCurShowData=t;var i=c.getPurchase(this.mCurShowData.id);if(i){i.type===D.Common?(this.chargeTypeCtrl.selectedIndex=0,this.itemIcon.url=u.getUIFarmItemPath(i.icon)):i.type===D.FirstCharge||i.type===D.Skin?(this.chargeTypeCtrl.selectedIndex=1,this.itemIcon.url=u.getUIFarmItemPath(i.icon)):i.type===D.MonthlyCard_Deluxe||i.type===D.MonthlyCard_Premium?(this.chargeTypeCtrl.selectedIndex=3,this.monthlyCardIcon.url=u.getUIFarmItemPath(i.icon)):i.type===D.Activity_Res||i.type===D.Activity_Skin||i.type===D.Activity_Decoration||i.type===D.FarmPlant_QuickHarvest?(this.chargeTypeCtrl.selectedIndex=2,this.activityIcon.url=u.getUIFarmItemPath(i.icon)):(this.chargeTypeCtrl.selectedIndex=0,this.itemIcon.url=u.getUIFarmItemPath(i.icon)),this.itemName.text=i.name;var h=this.itemName.width/2+60;h<180&&(h=180),this.itemNameTag.width=h,this.itemAmount.text="x"+this.mCurShowData.goldNum,this.itemPrice.text="= $"+this.mCurShowData.usd_price;var n=i.label.split("-");if(""===i.label||2!==n.length)this.isPercentCtrl.selectedIndex=0;else{this.isPercentCtrl.selectedIndex=1;var s=Number(n[0]),r=Number(n[1]);1===s?this.doubleValue.text="+"+r+"%":2===s&&(this.doubleValue.text="+"+r),this.doubleTag.width=this.doubleValue.width+86}this.checkAgree1.selected=this._loadChargeAgree1(),this.checkAgree2.selected=this._loadChargeAgree2(),this._refreshBtnState(),this._refreshBtnShow()}}},r._refreshBtnShow=function(){var t=652;f.payCurrency===y.THB?(this.chargeBtn_THB.visible=!0,t+=74):this.chargeBtn_THB.visible=!1,f.payCurrency===y.NTD?(this.chargeBtn_NTD.visible=!0,t+=74):this.chargeBtn_NTD.visible=!1,f.payCurrency===y.JPY?(this.chargeBtn_JPY.visible=!0,t+=74):this.chargeBtn_JPY.visible=!1,f.payCurrency===y.KRW?(this.chargeBtn_KRW.visible=!0,t+=74):this.chargeBtn_KRW.visible=!1,f.payCurrency===y.USD?(this.chargeBtn_USD.visible=!0,t+=74):this.chargeBtn_USD.visible=!1,this.chargeBtn_KAIA.visible=!0,t+=74,this.height=t},r._refreshBtnState=function(){if(this.mChargeLockTime=k.instance.getChargeLockRecord(this.mCurShowData.id),this.mChargeLockTime>0)this.isInLockCtrl.selectedIndex=1,this._setChargeLockTime(this.chargeBtn_THB,this.mChargeLockTime),this._setChargeLockTime(this.chargeBtn_NTD,this.mChargeLockTime),this._setChargeLockTime(this.chargeBtn_JPY,this.mChargeLockTime),this._setChargeLockTime(this.chargeBtn_KRW,this.mChargeLockTime),this._setChargeLockTime(this.chargeBtn_USD,this.mChargeLockTime),this._setChargeLockTime(this.chargeBtn_KAIA,this.mChargeLockTime);else{this.isInLockCtrl.selectedIndex=0;var t=Math.floor(35*Number.parseFloat(this.mCurShowData.pay_line_usd_amount)+.5).toString();this._setChargePrice(this.chargeBtn_THB,d.NumberFormat(t)+" THB");var e=Math.floor(33*Number.parseFloat(this.mCurShowData.pay_line_usd_amount)+.5).toString();this._setChargePrice(this.chargeBtn_NTD,d.NumberFormat(e)+"  TWD");var i=Math.floor(157*Number.parseFloat(this.mCurShowData.pay_line_usd_amount)+.5).toString();this._setChargePrice(this.chargeBtn_JPY,d.NumberFormat(i)+" JPY");var h=Math.floor(1460*Number.parseFloat(this.mCurShowData.pay_line_usd_amount)+.5).toString();this._setChargePrice(this.chargeBtn_KRW,d.NumberFormat(h)+" KRW"),this._setChargePrice(this.chargeBtn_USD,d.NumberFormat(this.mCurShowData.pay_line_usd_amount)+" USD"),this._setChargePrice(this.chargeBtn_KAIA,d.NumberFormat(this.mCurShowData.pay_kaia_amount)+" KAIA"),this._setNotCoinDiscount(this.chargeBtn_THB,0,100),this._setNotCoinDiscount(this.chargeBtn_NTD,0,100),this._setNotCoinDiscount(this.chargeBtn_JPY,0,100),this._setNotCoinDiscount(this.chargeBtn_KRW,0,100),this._setNotCoinDiscount(this.chargeBtn_USD,0,100),this._setNotCoinDiscount(this.chargeBtn_KAIA,0,100)}this._setChargeDiscount(this.chargeBtn_THB,this.mCurShowData.line_usd_discount),this._setChargeDiscount(this.chargeBtn_NTD,this.mCurShowData.line_usd_discount),this._setChargeDiscount(this.chargeBtn_JPY,this.mCurShowData.line_usd_discount),this._setChargeDiscount(this.chargeBtn_KRW,this.mCurShowData.line_usd_discount),this._setChargeDiscount(this.chargeBtn_USD,this.mCurShowData.line_usd_discount),this._setChargeDiscount(this.chargeBtn_KAIA,this.mCurShowData.kaia_discount)},r._setChargeLockTime=function(t,e){t.getController("BuyCD").selectedIndex=1;var i=t.getChild("ui_LabelCD");if(0!==e){var h=e-m.instance.getTimestamp();i.text=h>0?m.formatTimeString(h,!1):m.formatTimeString(0,!1)}},r._setChargePrice=function(t,e){t.getController("BuyCD").selectedIndex=0,t.text=e},r._setChargeDiscount=function(t,e){var i=t.getController("IsDiscount");if(i)if(e<100){i.selectedIndex=1;var h=t.getChild("ui_LabelDiscount");h&&(h.text=d.i18nFormat(c.getI18nUIText("u.12303"),[(100-e).toString()]))}else i.selectedIndex=0},r._setNotCoinDiscount=function(t,e,i){var h=t.getController("IsNotCoin");if(h)if(0===e)h.selectedIndex=0;else if(i<100){1===e?h.selectedIndex=1:2===e?h.selectedIndex=2:3===e&&(h.selectedIndex=3);var n=t.getChild("ui_Discount_NotCoin");n&&(n.text=d.i18nFormat(c.getI18nUIText("u.12303"),[(100-i).toString()]))}else h.selectedIndex=0},r._checkChargeAgree=function(){return!(!this.checkAgree1.selected||!this.checkAgree2.selected)},r._loadChargeAgree1=function(){var t=_.instance.curSDKPlugin.accountMeInfo.account;if(""===t)return!1;var e=!1;try{this.checkAgree1.selected,e="1"===n.localStorage.getItem("kaia-charge1-"+t)}catch(t){console.log(t)}return e},r._saveChargeAgree1=function(){var t=_.instance.curSDKPlugin.accountMeInfo.account;if(""!==t)try{var e=this.checkAgree1.selected?"1":"0";n.localStorage.setItem("kaia-charge1-"+t,e)}catch(t){console.log(t)}},r._loadChargeAgree2=function(){var t=_.instance.curSDKPlugin.accountMeInfo.account;if(""===t)return!1;var e=!1;try{this.checkAgree2.selected,e="1"===n.localStorage.getItem("kaia-charge2-"+t)}catch(t){console.log(t)}return e},r._saveChargeAgree2=function(){var t=_.instance.curSDKPlugin.accountMeInfo.account;if(""!==t)try{var e=this.checkAgree2.selected?"1":"0";n.localStorage.setItem("kaia-charge2-"+t,e)}catch(t){console.log(t)}},i}(r)).URL="ui://Details/details_chargeitem_KAIA",i._RF.pop()}}}));

System.register("chunks:///_virtual/ui.details.charge.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./event.dispatcher.ts","./event.name.ts","./table.helper.ts","./net.helper.ts","./purchase.client.protocol.ts","./sound.helper.ts","./resource.path.tool.ts","./sdk.manager.ts","./time.system.ts","./logic.tool.ts","./ton.sdk.ts","./model.charge.manager.ts","./model.charge.define.ts","./model.mainrole.manager.ts","./plugin.settings.ts","./ui.message.box.controller.ts"],(function(t){"use strict";var e,i,n,s,h,r,o,a,c,u,C,l,g,m,_,d,f,p,D,S,B,k;return{setters:[function(t){e=t.inheritsLoose,i=t.asyncToGenerator,n=t.regeneratorRuntime},function(t){s=t.cclegacy,h=t.isValid},function(t){r=t.GComponent},function(t){o=t.EventDispatcher},function(t){a=t.EventName},function(t){c=t.TableHelper},function(t){u=t.NetHelper},function(t){C=t.EPayType},function(t){l=t.SoundHelper},function(t){g=t.ResourcePathTool},function(t){m=t.SDKManager},function(t){_=t.TimeSystem},function(t){d=t.LogicTool},function(t){f=t.TonSDK},function(t){p=t.ModelChargeManager},function(t){D=t.EChargeType},function(t){S=t.ModelMainRoleManager},function(t){B=t.PluginSettings},function(t){k=t.UIMessageBoxController}],execute:function(){s._RF.push({},"37f52EcDNFOmJkdDMD1ia4w","ui.details.charge.view",void 0),t("default",function(t){function s(){for(var e,i=arguments.length,n=new Array(i),s=0;s<i;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))||this).chargeTypeCtrl=void 0,e.isPercentCtrl=void 0,e.isInLockCtrl=void 0,e.bgView=void 0,e.closeBtn=void 0,e.breakWalletBtn=void 0,e.itemIcon=void 0,e.activityIcon=void 0,e.monthlyCardIcon=void 0,e.itemNameTag=void 0,e.itemName=void 0,e.itemAmount=void 0,e.itemPrice=void 0,e.doubleTag=void 0,e.doubleValue=void 0,e.chargeBtn1=void 0,e.chargeBtn2=void 0,e.chargeBtn3=void 0,e.chargeBtn4=void 0,e.mChargeVersion=0,e.mCurShowData=null,e.mChargeLockTime=0,e._onCloseClick=null,e}e(s,t);var r=s.prototype;return r.onUpdate=function(){t.prototype.onUpdate.call(this),null!==this.mCurShowData&&this.mChargeLockTime>0&&(this._setChargeLockTime(this.chargeBtn1,this.mChargeLockTime),this._setChargeLockTime(this.chargeBtn2,this.mChargeLockTime),this._setChargeLockTime(this.chargeBtn3,this.mChargeLockTime),this._setChargeLockTime(this.chargeBtn4,this.mChargeLockTime))},r.onConstruct=function(){this.chargeTypeCtrl=this.getController("IsFirst"),this.isPercentCtrl=this.getController("IsPercent"),this.isInLockCtrl=this.getController("IsCD"),this.closeBtn=this.getChild("ui_WindClose"),this.breakWalletBtn=this.getChild("ui_BtnWalletBreak"),this.itemIcon=this.getChild("ui_CoinIcon1"),this.activityIcon=this.getChild("ui_PackIcon"),this.monthlyCardIcon=this.getChild("ui_MonthlyCardIcon"),this.itemNameTag=this.getChild("ui_CoinNameTag"),this.itemName=this.getChild("ui_CoinName"),this.itemAmount=this.getChild("ui_Amount1"),this.itemPrice=this.getChild("ui_USD"),this.itemPrice.font="BM_AmountFontBlack",this.doubleTag=this.getChild("ui_TagDouble"),this.doubleValue=this.getChild("ui_DoubleValue"),this.chargeBtn1=this.getChild("ui_BtnCharge1"),this.chargeBtn2=this.getChild("ui_BtnCharge2"),this.chargeBtn3=this.getChild("ui_BtnCharge3"),this.chargeBtn4=this.getChild("ui_BtnCharge4"),this.closeBtn.onClick(this._onCloseBtnClick,this),this.breakWalletBtn.onClick(this._onBreakWalletClick,this),this.chargeBtn1.onClick(this._onCharge1Click,this),this.chargeBtn2.onClick(this._onCharge2Click,this),this.chargeBtn3.onClick(this._onCharge3Click,this),this.chargeBtn4.onClick(this._onCharge4Click,this),o.on(a.CHARGE_GET_LIST,this._onGetChargeList,this),o.on(a.CHARGE_PURCHASE_GET_ORDER,this._onChargeGetOrder,this),o.on(a.CHARGE_PURCHASE_FINISH,this._onChargeFinish,this),o.on(a.CHARGE_LOCK_CHANGED,this._onChargeLockChanged,this),o.on(a.UI_TON_WALLET_STATUS_CHANGED,this._refreshWalletConnect,this)},r.onDestroy=function(){o.off(a.CHARGE_GET_LIST,this._onGetChargeList,this),o.off(a.CHARGE_PURCHASE_GET_ORDER,this._onChargeGetOrder,this),o.off(a.CHARGE_PURCHASE_FINISH,this._onChargeFinish,this),o.off(a.CHARGE_LOCK_CHANGED,this._onChargeLockChanged,this),o.off(a.UI_TON_WALLET_STATUS_CHANGED,this._refreshWalletConnect,this)},r._onGetChargeList=function(t){if(h(this.node)&&null!=this.mCurShowData){for(var e=null,i=0;i<t.info.length;i++)if(this.mCurShowData.id===t.info[i].id){e=t.info[i];break}e&&this.RefreshShowData(e,t.purchaseVer)}},r._onChargeGetOrder=function(t){h(this.node)&&null!=this.mCurShowData&&t.productID===this.mCurShowData.id&&1===t.result&&m.instance.curSDKPlugin.SDKPay(t.payType,t.orderID,t.payAmount,t.productID)},r._onChargeFinish=function(t){h(this.node)&&null!=this.mCurShowData&&t.productID===this.mCurShowData.id&&(this.scrollPane&&this.scrollPane.cancelDragging(),this._onCloseClick&&this._onCloseClick())},r._onChargeLockChanged=function(){h(this.node)&&null!=this.mCurShowData&&this._refreshBtnState()},r._onCloseBtnClick=function(){var t=i(n().mark((function t(){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:l.PlaySound_UICommonClose(),this._onCloseClick&&this._onCloseClick();case 2:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),r._onBreakWalletClick=function(){var t=i(n().mark((function t(){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:l.PlaySound_UICommonClick(),k.AddPopMsgBox_DoubleBtn(c.getI18nUIText("u.2411"),c.getI18nUIText("u.4001"),(function(){f.isConnected()&&f.disConnect()}),this);case 2:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),r._onCharge1Click=function(){var t=i(n().mark((function t(){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(l.PlaySound_UICommonClick(),this.mCurShowData){t.next=3;break}return t.abrupt("return");case 3:if(!(this.mChargeLockTime>0)){t.next=5;break}return t.abrupt("return");case 5:if(f.isConnected()){t.next=8;break}return f.connect(),t.abrupt("return");case 8:u.purchaseProductOrder(this.mChargeVersion,this.mCurShowData.id,C.EPayType_TON,S.instance.NotCoinLevel);case 9:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),r._onCharge2Click=function(){var t=i(n().mark((function t(){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(l.PlaySound_UICommonClick(),this.mCurShowData){t.next=3;break}return t.abrupt("return");case 3:if(!(this.mChargeLockTime>0)){t.next=5;break}return t.abrupt("return");case 5:if(f.isConnected()){t.next=8;break}return f.connect(),t.abrupt("return");case 8:u.purchaseProductOrder(this.mChargeVersion,this.mCurShowData.id,C.EPayType_NOT,S.instance.NotCoinLevel);case 9:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),r._onCharge3Click=function(){var t=i(n().mark((function t(){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(l.PlaySound_UICommonClick(),this.mCurShowData){t.next=3;break}return t.abrupt("return");case 3:if(!(this.mChargeLockTime>0)){t.next=5;break}return t.abrupt("return");case 5:u.purchaseProductOrder(this.mChargeVersion,this.mCurShowData.id,C.EPayType_Star,S.instance.NotCoinLevel);case 6:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),r._onCharge4Click=function(){var t=i(n().mark((function t(){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(l.PlaySound_UICommonClick(),this.mCurShowData){t.next=3;break}return t.abrupt("return");case 3:if(!(this.mChargeLockTime>0)){t.next=5;break}return t.abrupt("return");case 5:u.purchaseProductOrder(this.mChargeVersion,this.mCurShowData.id,C.EPayType_DOGES,S.instance.NotCoinLevel);case 6:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),r.OnCloseBtnClick=function(t){this._onCloseClick=t},r.RefreshShowData=function(t,e){if(t){this.mChargeVersion=e,this.mCurShowData=t;var i=c.getPurchase(this.mCurShowData.id);if(i){i.type===D.Common?(this.chargeTypeCtrl.selectedIndex=0,this.itemIcon.url=g.getUIFarmItemPath(i.icon)):i.type===D.FirstCharge||i.type===D.Skin?(this.chargeTypeCtrl.selectedIndex=1,this.itemIcon.url=g.getUIFarmItemPath(i.icon)):i.type===D.MonthlyCard_Deluxe||i.type===D.MonthlyCard_Premium?(this.chargeTypeCtrl.selectedIndex=3,this.monthlyCardIcon.url=g.getUIFarmItemPath(i.icon)):i.type===D.Activity_Res||i.type===D.Activity_Skin||i.type===D.Activity_Decoration||i.type===D.FarmPlant_QuickHarvest?(this.chargeTypeCtrl.selectedIndex=2,this.activityIcon.url=g.getUIFarmItemPath(i.icon)):(this.chargeTypeCtrl.selectedIndex=0,this.itemIcon.url=g.getUIFarmItemPath(i.icon)),this.itemName.text=i.name;var n=this.itemName.width/2+60;n<180&&(n=180),this.itemNameTag.width=n,this.itemAmount.text="x"+this.mCurShowData.goldNum,this.itemPrice.text="= $"+this.mCurShowData.usd_price;var s=i.label.split("-");if(""===i.label||2!==s.length)this.isPercentCtrl.selectedIndex=0;else{this.isPercentCtrl.selectedIndex=1;var h=Number(s[0]),r=Number(s[1]);1===h?this.doubleValue.text="+"+r+"%":2===h&&(this.doubleValue.text="+"+r),this.doubleTag.width=this.doubleValue.width+86}this._refreshBtnState(),this._refreshBtnShow(),this._refreshWalletConnect()}}},r._refreshBtnShow=function(){var t=454;B.getCurShowConfig().tonPay?(this.chargeBtn1.visible=!0,t+=74):this.chargeBtn1.visible=!1,B.getCurShowConfig().notPay?(this.chargeBtn2.visible=!0,t+=74):this.chargeBtn2.visible=!1,B.getCurShowConfig().dogsPay?(this.chargeBtn4.visible=!0,t+=74):this.chargeBtn4.visible=!1,B.getCurShowConfig().starPay?(this.chargeBtn3.visible=!0,t+=74):this.chargeBtn3.visible=!1,this.height=t},r._refreshBtnState=function(){if(this.mChargeLockTime=p.instance.getChargeLockRecord(this.mCurShowData.id),this.mChargeLockTime>0)this.isInLockCtrl.selectedIndex=1,this._setChargeLockTime(this.chargeBtn1,this.mChargeLockTime),this._setChargeLockTime(this.chargeBtn2,this.mChargeLockTime),this._setChargeLockTime(this.chargeBtn3,this.mChargeLockTime),this._setChargeLockTime(this.chargeBtn4,this.mChargeLockTime);else switch(this.isInLockCtrl.selectedIndex=0,S.instance.NotCoinLevel){case 0:this._setChargePrice(this.chargeBtn1,this.mCurShowData.pay_ton_amount+" TON"),this._setChargePrice(this.chargeBtn2,this.mCurShowData.pay_not_amount+" NOT"),this._setChargePrice(this.chargeBtn3,this.mCurShowData.star_price+" STAR"),this._setChargePrice(this.chargeBtn4,this.mCurShowData.pay_dogs_amount+" DOGS"),this._setNotCoinDiscount(this.chargeBtn1,0,100),this._setNotCoinDiscount(this.chargeBtn2,0,100),this._setNotCoinDiscount(this.chargeBtn3,0,100),this._setNotCoinDiscount(this.chargeBtn4,0,100);break;case 1:this._setChargePrice(this.chargeBtn1,this.mCurShowData.pay_ton_lv1_amount+" TON"),this._setChargePrice(this.chargeBtn2,this.mCurShowData.pay_not_lv1_amount+" NOT"),this._setChargePrice(this.chargeBtn3,this.mCurShowData.star_price+" STAR"),this._setChargePrice(this.chargeBtn4,this.mCurShowData.pay_dogs_lv1_amount+" DOGS"),this._setNotCoinDiscount(this.chargeBtn1,1,this.mCurShowData.notcoinLv1_discount),this._setNotCoinDiscount(this.chargeBtn2,1,this.mCurShowData.notcoinLv1_discount),this._setNotCoinDiscount(this.chargeBtn3,1,100),this._setNotCoinDiscount(this.chargeBtn4,1,this.mCurShowData.notcoinLv1_discount);break;case 2:this._setChargePrice(this.chargeBtn1,this.mCurShowData.pay_ton_lv2_amount+" TON"),this._setChargePrice(this.chargeBtn2,this.mCurShowData.pay_not_lv2_amount+" NOT"),this._setChargePrice(this.chargeBtn3,this.mCurShowData.star_price+" STAR"),this._setChargePrice(this.chargeBtn4,this.mCurShowData.pay_dogs_lv2_amount+" DOGS"),this._setNotCoinDiscount(this.chargeBtn1,2,this.mCurShowData.notcoinLv2_discount),this._setNotCoinDiscount(this.chargeBtn2,2,this.mCurShowData.notcoinLv2_discount),this._setNotCoinDiscount(this.chargeBtn3,2,100),this._setNotCoinDiscount(this.chargeBtn4,2,this.mCurShowData.notcoinLv2_discount);break;case 3:this._setChargePrice(this.chargeBtn1,this.mCurShowData.pay_ton_lv3_amount+" TON"),this._setChargePrice(this.chargeBtn2,this.mCurShowData.pay_not_lv3_amount+" NOT"),this._setChargePrice(this.chargeBtn3,this.mCurShowData.star_price+" STAR"),this._setChargePrice(this.chargeBtn4,this.mCurShowData.pay_dogs_lv3_amount+" DOGS"),this._setNotCoinDiscount(this.chargeBtn1,3,this.mCurShowData.notcoinLv3_discount),this._setNotCoinDiscount(this.chargeBtn2,3,this.mCurShowData.notcoinLv3_discount),this._setNotCoinDiscount(this.chargeBtn3,3,100),this._setNotCoinDiscount(this.chargeBtn4,3,this.mCurShowData.notcoinLv3_discount);break;default:this._setChargePrice(this.chargeBtn1,this.mCurShowData.pay_ton_amount+" TON"),this._setChargePrice(this.chargeBtn2,this.mCurShowData.pay_not_amount+" NOT"),this._setChargePrice(this.chargeBtn3,this.mCurShowData.star_price+" STAR"),this._setChargePrice(this.chargeBtn4,this.mCurShowData.pay_dogs_amount+" DOGS"),this._setNotCoinDiscount(this.chargeBtn1,0,100),this._setNotCoinDiscount(this.chargeBtn2,0,100),this._setNotCoinDiscount(this.chargeBtn3,0,100),this._setNotCoinDiscount(this.chargeBtn4,0,100)}this._setChargeDiscount(this.chargeBtn1,this.mCurShowData.ton_discount),this._setChargeDiscount(this.chargeBtn2,this.mCurShowData.not_discount),this._setChargeDiscount(this.chargeBtn3,100),this._setChargeDiscount(this.chargeBtn4,this.mCurShowData.dogs_discount)},r._setChargeLockTime=function(t,e){t.getController("BuyCD").selectedIndex=1;var i=t.getChild("ui_LabelCD");if(0!==e){var n=e-_.instance.getTimestamp();i.text=n>0?_.formatTimeString(n,!1):_.formatTimeString(0,!1)}},r._setChargePrice=function(t,e){t.getController("BuyCD").selectedIndex=0,t.text=e},r._setChargeDiscount=function(t,e){var i=t.getController("IsDiscount");if(i)if(e<100){i.selectedIndex=1;var n=t.getChild("ui_LabelDiscount");n&&(n.text=d.i18nFormat(c.getI18nUIText("u.12303"),[(100-e).toString()]))}else i.selectedIndex=0},r._setNotCoinDiscount=function(t,e,i){var n=t.getController("IsNotCoin");if(n)if(0===e)n.selectedIndex=0;else if(i<100){1===e?n.selectedIndex=1:2===e?n.selectedIndex=2:3===e&&(n.selectedIndex=3);var s=t.getChild("ui_Discount_NotCoin");s&&(s.text=d.i18nFormat(c.getI18nUIText("u.12303"),[(100-i).toString()]))}else n.selectedIndex=0},r._refreshWalletConnect=function(){var t=i(n().mark((function t(){var e;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(h(this.node)){t.next=2;break}return t.abrupt("return");case 2:e=f.isConnected(),this.breakWalletBtn.visible=!!e;case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),s}(r)).URL="ui://Details/details_chargeitem",s._RF.pop()}}}));

System.register("chunks:///_virtual/ui.details.controller.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ui.base.controller.ts","./fairygui.mjs","./ui.manager.ts","./event.name.ts","./event.dispatcher.ts","./ui.bag.list.item.view.ts","./ui.shop.list.item.object.view.ts","./new.guide.manager.ts","./ui.details.item.use.view.ts","./plugin.settings.ts"],(function(t){"use strict";var e,i,s,a,o,h,n,r,m,l,u,I,C,c,_,D,d,S,w;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass},function(t){s=t.cclegacy,a=t._decorator,o=t.input,h=t.Input,n=t.KeyCode,r=t.Rect},function(t){m=t.UIBaseController},function(t){l=t.UIPackage,u=t.GRoot},function(t){I=t.UIManager},function(t){C=t.EventName},function(t){c=t.EventDispatcher},function(t){_=t.default},function(t){D=t.default},function(t){d=t.NewGuideManager},function(t){S=t.default},function(t){w=t.PluginSettings}],execute:function(){var f,p;s._RF.push({},"b0f14YLn9tBbaOy9EGxhusY","ui.details.controller",void 0);var k=a.ccclass,g=t("EDetailsType",{None:0,Item:1,Item_GM:2,Item_Info:3,Item_Use:4,Item_Sell:5,Item_Recipe:6,Item_Stake:7,Item_Market_BuySell:8,Shop_Item:9,Worker_Info:10,Worker_Skill:11,Charge:12,Charge_Kaia:13,Info_Prosperity:14,Info_Worker:15});t("UIDetailsController",k("UIDetailsController")(((p=function(t){function s(){for(var e,i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))||this).mFguiPkgName="Details",e.mFguiMainViewName="Main",e.mFguiItemViewName="details_item",e.mFguiItemInfoViewName="details_item_info",e.mFguiItemUseViewName="details_item_use",e.mFguiItemSellViewName="details_item_sell",e.mFguiItemRecipeViewName="details_item_recipe",e.mFguiItemStakeViewName="details_item_stake",e.mFguiItemMarketBuySellViewName="details_item_buysell",e.mFguiShopItemViewName="details_shop_item",e.mFguiWorkerInfoViewName="details_Wizard",e.mFguiWorkerSkillViewName="details_MajorSkills",e.mFguiChargeViewName="details_chargeitem",e.mFguiChargeKaiaViewName="details_chargeitem_KAIA",e.mFguiInfoProsperityViewName="details_attributes_prosperity",e.mFguiInfoWorkerViewName="details_attributes_wizardcap",e._view=null,e.mCurType=g.None,e.mCurShowNode=null,e.mCurItemID=0,e.mCurItemData=null,e}e(s,t);var a=s.prototype;return a._addEvents=function(){t.prototype._addEvents.call(this),o.on(h.EventType.KEY_DOWN,this._onKeyDown,this)},a._removeEvents=function(){t.prototype._removeEvents.call(this),o.off(h.EventType.KEY_DOWN,this._onKeyDown,this)},a._onKeyDown=function(t){switch(t.keyCode){case n.ESCAPE:if(d.instance.IsInGuideScene)return;this._playCloseUIAnim()}},a.onLoad=function(){s._instance=this,d.instance.IsInGuideScene&&(this.mCanCloseTime=.5),this._startLoadPkg(this.mFguiPkgName)},a.onDestroy=function(){t.prototype.onDestroy.call(this),s._instance=null},a._onLoadUIFinish=function(){t.prototype._onLoadUIFinish.call(this),this._view=l.createObject(this.mFguiPkgName,this.mFguiMainViewName).asCom,this._addUIToRoot(this._view),this._view.makeFullScreen(),this.mCurType===g.Item?this._realSetItemDetailsData():this.mCurType===g.Item_GM?this._realSetItemGMDetailsData():this.mCurType===g.Item_Info?this._realSetItemInfoDetailsData():this.mCurType===g.Item_Use?this._realSetItemUseDetailsData():this.mCurType===g.Item_Sell?this._realSetItemSellDetailsData():this.mCurType===g.Item_Recipe?this._realSetItemRecipeDetailsData():this.mCurType===g.Item_Stake?this._realSetItemStakeDetailsData():this.mCurType===g.Item_Market_BuySell?this._realSetItemMarketBuySellDetailsData():this.mCurType===g.Shop_Item?this._realSetShopItemDetailsData():this.mCurType===g.Worker_Info?this._realSetWorkerInfoDetailsData():this.mCurType===g.Worker_Skill?this._realSetWorkerSkillDetailsData():this.mCurType===g.Charge?this._realSetChargeDetailsData():this.mCurType===g.Charge_Kaia?this._realSetChargeKaiaDetailsData():this.mCurType===g.Info_Prosperity?this._realSetInfoProsperityDetailsData():this.mCurType===g.Info_Worker&&this._realSetInfoWorkerDetailsData(),this._view.bgMask.onClick(this._onDetailsMaskClick,this),this._view.on(h.EventType.MOUSE_DOWN,(function(){}))},a.closeUI=function(){this.mIsCanClose&&(this._destroyCurDetailsItem(),this.mCurType===g.Item||this.mCurType===g.Item_Use||this.mCurType===g.Item_Sell||this.mCurType===g.Item_Recipe||this.mCurType===g.Item_Stake||this.mCurType===g.Item_Market_BuySell?c.emit(C.UI_BAG_ITEM_SELECTED,"0"):this.mCurType===g.Shop_Item?c.emit(C.UI_SHOP_ITEM_OBJECT_SELECTED,"0"):this.mCurType!==g.Charge&&this.mCurType!==g.Charge_Kaia||c.emit(C.UI_SHOP_ITEM_CHARGE_SELECTED,"0"),t.prototype.closeUI.call(this))},a._onFguiMaskClick=function(){if(null!=this._view&&null!=this.mCurShowNode){if(null!=u.inst.touchTarget){if(this.mCurType===g.Item&&u.inst.touchTarget instanceof _)return;if(this.mCurType===g.Item_GM&&u.inst.touchTarget instanceof _)return;if(this.mCurType===g.Shop_Item&&u.inst.touchTarget instanceof D)return}var t=new r(this.mCurShowNode.x,this.mCurShowNode.y,this.mCurShowNode.width,this.mCurShowNode.height),e=u.inst.getTouchPosition(),i=this._view.globalToLocal(e.x,e.y);t.contains(i)||this._playCloseUIAnim()}},a._onDetailsMaskClick=function(){if(null!=this._view&&null!=this.mCurShowNode){var t=0;this.mCurShowNode.data&&(t=this.mCurShowNode.data);var e=new r(this.mCurShowNode.x,this.mCurShowNode.y-t,this.mCurShowNode.width,this.mCurShowNode.height-t),i=u.inst.getTouchPosition(),s=this._view.globalToLocal(i.x,i.y);e.contains(s)||this._playCloseUIAnim()}},a._destroyCurDetailsItem=function(){null!==this.mCurShowNode&&(this.mCurShowNode.dispose(),this.mCurShowNode=null)},a._adjustDetailsPosition=function(){if(null!==this.mCurShowNode){var t=this._view.actualWidth/2-this.mCurShowNode.actualWidth/2,e=this._view.actualHeight/2-this.mCurShowNode.actualHeight/2;this.mCurShowNode.setPosition(t,e)}},a._playCloseUIAnim=function(){c.emit(C.UI_DETAILS_CLOSE)},a.showItemDetails=function(t,e){this.mCurType=g.Item,this.mCurItemData=t,this.mCurItemID=e?1:0,this.IsUIValid?this.mIsLoadPkgFinish&&this._realSetItemDetailsData():I.instance.openUI(s.CTRL_NAME)},a._realSetItemDetailsData=function(){var t=this;this._destroyCurDetailsItem();var e=l.createObject(this.mFguiPkgName,this.mFguiItemViewName).asCom;this.mCurShowNode=e,this._view.addChild(this.mCurShowNode),e.RefreshShowData(this.mCurItemData,1===this.mCurItemID),e.OnCloseBtnClick((function(){t._playCloseUIAnim()})),this._adjustDetailsPosition()},a.showItemInfoDetails=function(t,e){this.mCurType=g.Item_Info,this.mCurItemID=t,this.mCurItemData=e,this.IsUIValid?this.mIsLoadPkgFinish&&this._realSetItemInfoDetailsData():I.instance.openUI(s.CTRL_NAME)},a._realSetItemInfoDetailsData=function(){var t=this;this._destroyCurDetailsItem();var e=l.createObject(this.mFguiPkgName,this.mFguiItemInfoViewName).asCom;this.mCurShowNode=e,this._view.addChild(this.mCurShowNode),e.RefreshShowData(this.mCurItemID,this.mCurItemData),e.OnCloseBtnClick((function(){t._playCloseUIAnim()})),this._adjustDetailsPosition()},a.showItemGMDetails=function(t){this.mCurType=g.Item_GM,this.mCurItemData=t,this.IsUIValid?this.mIsLoadPkgFinish&&this._realSetItemGMDetailsData():I.instance.openUI(s.CTRL_NAME)},a._realSetItemGMDetailsData=function(){var t=this;this._destroyCurDetailsItem();var e=l.createObject(this.mFguiPkgName,this.mFguiItemViewName).asCom;this.mCurShowNode=e,this._view.addChild(this.mCurShowNode),e.RefreshShowGMData(this.mCurItemData),e.OnCloseBtnClick((function(){t._playCloseUIAnim()})),this._adjustDetailsPosition()},a.showItemUseDetails=function(t){this.mCurType=g.Item_Use,this.mCurItemData=t,this.IsUIValid?this.mIsLoadPkgFinish&&this._realSetItemUseDetailsData():I.instance.openUI(s.CTRL_NAME)},a._realSetItemUseDetailsData=function(){var t=this;this._destroyCurDetailsItem();var e=l.createObject(this.mFguiPkgName,this.mFguiItemUseViewName).asCom;this.mCurShowNode=e,this._view.addChild(this.mCurShowNode),e.RefreshShowData(this.mCurItemData),e.OnCloseBtnClick((function(){t._playCloseUIAnim()})),this._adjustDetailsPosition()},a.showItemSellDetails=function(t){this.mCurType=g.Item_Sell,this.mCurItemData=t,this.IsUIValid?this.mIsLoadPkgFinish&&this._realSetItemSellDetailsData():I.instance.openUI(s.CTRL_NAME)},a._realSetItemSellDetailsData=function(){var t=this;this._destroyCurDetailsItem();var e=l.createObject(this.mFguiPkgName,this.mFguiItemSellViewName).asCom;this.mCurShowNode=e,this._view.addChild(this.mCurShowNode),e.RefreshShowData(this.mCurItemData),e.OnCloseBtnClick((function(){t._playCloseUIAnim()})),this._adjustDetailsPosition()},a.showItemRecipeDetails=function(t){this.mCurType=g.Item_Recipe,this.mCurItemData=t,this.IsUIValid?this.mIsLoadPkgFinish&&this._realSetItemRecipeDetailsData():I.instance.openUI(s.CTRL_NAME)},a._realSetItemRecipeDetailsData=function(){var t=this;this._destroyCurDetailsItem();var e=l.createObject(this.mFguiPkgName,this.mFguiItemRecipeViewName).asCom;this.mCurShowNode=e,this._view.addChild(this.mCurShowNode),e.RefreshShowData(this.mCurItemData),e.OnCloseBtnClick((function(){t._playCloseUIAnim()})),this._adjustDetailsPosition()},a.showItemStakeDetails=function(t){this.mCurType=g.Item_Stake,this.mCurItemData=t,this.IsUIValid?this.mIsLoadPkgFinish&&this._realSetItemStakeDetailsData():I.instance.openUI(s.CTRL_NAME)},a._realSetItemStakeDetailsData=function(){var t=this;this._destroyCurDetailsItem();var e=l.createObject(this.mFguiPkgName,this.mFguiItemStakeViewName).asCom;this.mCurShowNode=e,this._view.addChild(this.mCurShowNode),e.RefreshShowData(this.mCurItemData),e.OnCloseBtnClick((function(){t._playCloseUIAnim()})),this._adjustDetailsPosition()},a.showItemMarketBuySellDetails=function(t){this.mCurType=g.Item_Market_BuySell,this.mCurItemData=t,this.IsUIValid?this.mIsLoadPkgFinish&&this._realSetItemMarketBuySellDetailsData():I.instance.openUI(s.CTRL_NAME)},a._realSetItemMarketBuySellDetailsData=function(){var t=this;this._destroyCurDetailsItem();var e=l.createObject(this.mFguiPkgName,this.mFguiItemMarketBuySellViewName).asCom;this.mCurShowNode=e,this._view.addChild(this.mCurShowNode),e.RefreshShowData(this.mCurItemData),e.OnCloseBtnClick((function(){t._playCloseUIAnim()})),this._adjustDetailsPosition()},a.showShopItemDetails=function(t,e){this.mCurType=g.Shop_Item,this.mCurItemData=t,this.mCurItemID=e,this.IsUIValid?this.mIsLoadPkgFinish&&this._realSetShopItemDetailsData():I.instance.openUI(s.CTRL_NAME)},a._realSetShopItemDetailsData=function(){var t=this;this._destroyCurDetailsItem();var e=l.createObject(this.mFguiPkgName,this.mFguiShopItemViewName).asCom;this.mCurShowNode=e,this._view.addChild(this.mCurShowNode),e.RefreshShowData(this.mCurItemData,this.mCurItemID),e.OnCloseBtnClick((function(){t._playCloseUIAnim()})),this._adjustDetailsPosition()},a.showWorkerInfoDetails=function(t){this.mCurType=g.Worker_Info,this.mCurItemData=t,this.IsUIValid?this.mIsLoadPkgFinish&&this._realSetWorkerInfoDetailsData():I.instance.openUI(s.CTRL_NAME)},a._realSetWorkerInfoDetailsData=function(){var t=this;this._destroyCurDetailsItem();var e=l.createObject(this.mFguiPkgName,this.mFguiWorkerInfoViewName).asCom;this.mCurShowNode=e,this._view.addChild(this.mCurShowNode),e.RefreshShowData(this.mCurItemData),e.OnCloseBtnClick((function(){t._playCloseUIAnim()})),this._adjustDetailsPosition()},a.showWorkerSkillDetails=function(t){this.mCurType=g.Worker_Skill,this.mCurItemID=t,this.IsUIValid?this.mIsLoadPkgFinish&&this._realSetWorkerSkillDetailsData():I.instance.openUI(s.CTRL_NAME)},a._realSetWorkerSkillDetailsData=function(){var t=this;this._destroyCurDetailsItem();var e=l.createObject(this.mFguiPkgName,this.mFguiWorkerSkillViewName).asCom;this.mCurShowNode=e,this._view.addChild(this.mCurShowNode),e.RefreshShowData(this.mCurItemID),e.OnCloseBtnClick((function(){t._playCloseUIAnim()})),this._adjustDetailsPosition()},a.showChargeDetails=function(t,e){this.mCurType=g.Charge,this.mCurItemID=e,this.mCurItemData=t,this.IsUIValid?this.mIsLoadPkgFinish&&this._realSetChargeDetailsData():I.instance.openUI(s.CTRL_NAME)},a._realSetChargeDetailsData=function(){var t=this;this._destroyCurDetailsItem();var e=l.createObject(this.mFguiPkgName,this.mFguiChargeViewName).asCom;this.mCurShowNode=e,this._view.addChild(this.mCurShowNode),e.RefreshShowData(this.mCurItemData,this.mCurItemID),e.OnCloseBtnClick((function(){t._playCloseUIAnim()})),this._adjustDetailsPosition()},a.showChargeKaiaDetails=function(t,e){this.mCurType=g.Charge_Kaia,this.mCurItemID=e,this.mCurItemData=t,this.IsUIValid?this.mIsLoadPkgFinish&&this._realSetChargeKaiaDetailsData():I.instance.openUI(s.CTRL_NAME)},a._realSetChargeKaiaDetailsData=function(){var t=this;this._destroyCurDetailsItem();var e=l.createObject(this.mFguiPkgName,this.mFguiChargeKaiaViewName).asCom;this.mCurShowNode=e,this._view.addChild(this.mCurShowNode),e.RefreshShowData(this.mCurItemData,this.mCurItemID),e.OnCloseBtnClick((function(){t._playCloseUIAnim()})),this._adjustDetailsPosition()},a.showInfoProsperityDetails=function(){this.mCurType=g.Info_Prosperity,this.IsUIValid?this.mIsLoadPkgFinish&&this._realSetInfoProsperityDetailsData():I.instance.openUI(s.CTRL_NAME)},a._realSetInfoProsperityDetailsData=function(){var t=this;this._destroyCurDetailsItem();var e=l.createObject(this.mFguiPkgName,this.mFguiInfoProsperityViewName).asCom;this.mCurShowNode=e,this._view.addChild(this.mCurShowNode),e.RefreshShowData(),e.OnCloseBtnClick((function(){t._playCloseUIAnim()})),this._adjustDetailsPosition()},a.showInfoWorkerDetails=function(){this.mCurType=g.Info_Worker,this.IsUIValid?this.mIsLoadPkgFinish&&this._realSetInfoWorkerDetailsData():I.instance.openUI(s.CTRL_NAME)},a._realSetInfoWorkerDetailsData=function(){var t=this;this._destroyCurDetailsItem();var e=l.createObject(this.mFguiPkgName,this.mFguiInfoWorkerViewName).asCom;this.mCurShowNode=e,this._view.addChild(this.mCurShowNode),e.RefreshShowData(),e.OnCloseBtnClick((function(){t._playCloseUIAnim()})),this._adjustDetailsPosition()},a.getUseBtn=function(){if(this.mCurShowNode instanceof S)return this.mCurShowNode.useBtn},s._checkOpenUI=function(){null==s._instance&&I.instance.openUI(s.CTRL_NAME)},s.ShowItemDetails=function(t,e){s._checkOpenUI(),s.instance.showItemDetails(t,e)},s.ShowItemGMDetails=function(t){s._checkOpenUI(),s.instance.showItemGMDetails(t)},s.showItemInfoDetails=function(t,e){s._checkOpenUI(),s.instance.showItemInfoDetails(t,e)},s.ShowItemUseDetails=function(t){s._checkOpenUI(),s.instance.showItemUseDetails(t)},s.ShowItemSellDetails=function(t){s._checkOpenUI(),s.instance.showItemSellDetails(t)},s.ShowItemRecipeDetails=function(t){s._checkOpenUI(),s.instance.showItemRecipeDetails(t)},s.ShowItemStakeDetails=function(t){s._checkOpenUI(),s.instance.showItemStakeDetails(t)},s.ShowItemMarketBuySellDetails=function(t){s._checkOpenUI(),s.instance.showItemMarketBuySellDetails(t)},s.ShowShopItemDetails=function(t,e){s._checkOpenUI(),s.instance.showShopItemDetails(t,e)},s.ShowWorkerInfoDetails=function(t){s._checkOpenUI(),s.instance.showWorkerInfoDetails(t)},s.ShowWorkerSkillDetails=function(t){s._checkOpenUI(),s.instance.showWorkerSkillDetails(t)},s.ShowChargeDetails=function(t,e){s._checkOpenUI(),w.isInLine()?s.instance.showChargeKaiaDetails(t,e):s.instance.showChargeDetails(t,e)},s.ShowInfoProsperityDetails=function(){s._checkOpenUI(),s.instance.showInfoProsperityDetails()},s.ShowInfoWorkerDetails=function(){s._checkOpenUI(),s.instance.showInfoWorkerDetails()},i(s,null,[{key:"instance",get:function(){return this._instance}}]),s}(m)).CTRL_NAME="UIDetailsController",p._instance=null,f=p))||f);s._RF.pop()}}}));

System.register("chunks:///_virtual/ui.details.info.prosperity.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./sound.helper.ts","./logic.tool.ts","./model.farm.manager.ts","./model.worker.manager.ts","./table.helper.ts"],(function(t){"use strict";var i,e,o,n,s,a,r,l,h,u;return{setters:[function(t){i=t.inheritsLoose,e=t.asyncToGenerator,o=t.regeneratorRuntime},function(t){n=t.cclegacy},function(t){s=t.GComponent},function(t){a=t.SoundHelper},function(t){r=t.LogicTool},function(t){l=t.ModelFarmManager},function(t){h=t.ModelWorkerManager},function(t){u=t.TableHelper}],execute:function(){n._RF.push({},"fe835yBILhLvbC9u3hQLtne","ui.details.info.prosperity.view",void 0),t("default",function(t){function n(){for(var i,e=arguments.length,o=new Array(e),n=0;n<e;n++)o[n]=arguments[n];return(i=t.call.apply(t,[this].concat(o))||this).bgView=void 0,i.closeBtn=void 0,i.totalIcon=void 0,i.totalValue=void 0,i.workerView=void 0,i.workerValue=void 0,i.decorationView=void 0,i.decorationValue=void 0,i.boostTitle=void 0,i.boostBg=void 0,i.statueView=void 0,i.statuePercent=void 0,i.themeView=void 0,i.themePercent=void 0,i.invitationView=void 0,i.invitationPercent=void 0,i._onCloseClick=null,i}i(n,t);var s=n.prototype;return s.onConstruct=function(){this.closeBtn=this.getChild("ui_WindClose"),this.totalIcon=this.getChild("n88"),this.totalValue=this.getChild("ui_Value1"),this.workerView=this.getChild("ui_Wizard"),this.workerValue=this.workerView.getChild("ui_Value"),this.decorationView=this.getChild("ui_Decoration"),this.decorationValue=this.decorationView.getChild("ui_Value"),this.boostTitle=this.getChild("Title2"),this.boostBg=this.getChild("n101"),this.statueView=this.getChild("ui_Statue"),this.statuePercent=this.statueView.getChild("ui_Value"),this.themeView=this.getChild("ui_ThemedBuilding"),this.themePercent=this.themeView.getChild("ui_Value"),this.invitationView=this.getChild("ui_Invitation"),this.invitationPercent=this.invitationView.getChild("ui_Value"),this.closeBtn.onClick(this._onCloseBtnClick,this)},s._onCloseBtnClick=function(){var t=e(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a.PlaySound_UICommonClose(),this._onCloseClick&&this._onCloseClick();case 2:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),s.OnCloseBtnClick=function(t){this._onCloseClick=t},s.RefreshShowData=function(){this.totalValue.text=r.BigIntTransform(BigInt(l.instance.FarmHashrate)),this.totalIcon.x=this.totalValue.x-this.totalValue.width/4-5-this.totalIcon.width;for(var t=0,i=h.instance.getWorkerList(),e=0;e<i.length;e++)if(i[e].WorkerData.roleWorkBuilding>0){for(var o=0,n=i[e].getSkillList(),s=0;s<n.length;s++){var a=u.getWorkerProfessionSkill(n[s]);a&&1===a.skillType&&(o+=a.skillParam)}t+=Math.floor(i[e].getAttr_Prosperity()*(1+o/100))}var c=BigInt(t);this.workerValue.text="+"+r.BigIntTransform(c);var d=BigInt(l.instance.BaseHashrate)-c;this.decorationValue.text="+"+r.BigIntTransform(d);var v=0,g=l.instance.FarmHashPercent-100;g<0&&(g=0),g>0?(this.statueView.visible=!0,this.statuePercent.text="+"+g+"%",v++):this.statueView.visible=!1,l.instance.SkinHashPercent>0?(this.themeView.visible=!0,this.themePercent.text="+"+l.instance.SkinHashPercent+"%",v++):this.themeView.visible=!1,l.instance.InvitationHashPercent>0?(this.invitationView.visible=!0,this.invitationPercent.text="+"+l.instance.InvitationHashPercent+"%",v++):this.invitationView.visible=!1,0===v?(this.height=422,this.boostTitle.visible=!1,this.boostBg.visible=!1):(this.height=462+60*v,this.boostTitle.visible=!0,this.boostBg.visible=!0)},n}(s)).URL="ui://Details/details_attributes_prosperity",n._RF.pop()}}}));

System.register("chunks:///_virtual/ui.details.info.worker.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./model.farm.manager.ts","./sound.helper.ts"],(function(t){"use strict";var i,e,n,o,s,a,u;return{setters:[function(t){i=t.inheritsLoose,e=t.asyncToGenerator,n=t.regeneratorRuntime},function(t){o=t.cclegacy},function(t){s=t.GComponent},function(t){a=t.ModelFarmManager},function(t){u=t.SoundHelper}],execute:function(){o._RF.push({},"4a197dW2/NLBra8MWX9y3fl","ui.details.info.worker.view",void 0),t("default",function(t){function o(){for(var i,e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return(i=t.call.apply(t,[this].concat(n))||this).bgView=void 0,i.closeBtn=void 0,i.totalValue=void 0,i.statueView=void 0,i.statueValue=void 0,i.invitationView=void 0,i.invitationValue=void 0,i._onCloseClick=null,i}i(o,t);var s=o.prototype;return s.onConstruct=function(){this.closeBtn=this.getChild("ui_WindClose"),this.totalValue=this.getChild("ui_Value1"),this.statueView=this.getChild("ui_Statue"),this.statueValue=this.statueView.getChild("ui_Value"),this.invitationView=this.getChild("ui_Invitation"),this.invitationValue=this.invitationView.getChild("ui_Value"),this.closeBtn.onClick(this._onCloseBtnClick,this)},s._onCloseBtnClick=function(){var t=e(n().mark((function t(){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:u.PlaySound_UICommonClose(),this._onCloseClick&&this._onCloseClick();case 2:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),s.OnCloseBtnClick=function(t){this._onCloseClick=t},s.RefreshShowData=function(){this.totalValue.text=a.instance.MaxWorkerNum.toString();var t=1;this.statueValue.text="+"+a.instance.FarmWorkerNum,a.instance.InvitationWorkerNum>0?(this.invitationView.visible=!0,this.invitationValue.text="+"+a.instance.InvitationWorkerNum,t++):this.invitationView.visible=!1,this.height=300+60*t},o}(s)).URL="ui://Details/details_attributes_wizardcap",o._RF.pop()}}}));

System.register("chunks:///_virtual/ui.details.item.info.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./table.helper.ts","./sound.helper.ts","./resource.path.tool.ts","./logic.tool.ts","./enum.item.type.ts","./enum.chain.type.ts"],(function(e){"use strict";var t,i,n,o,s,h,l,a,c;return{setters:[function(e){t=e.inheritsLoose},function(e){i=e.cclegacy},function(e){n=e.GComponent},function(e){o=e.TableHelper},function(e){s=e.SoundHelper},function(e){h=e.ResourcePathTool},function(e){l=e.LogicTool},function(e){a=e.EItemType},function(e){c=e.EChainType}],execute:function(){i._RF.push({},"0e7acQyGBBF/o64hGlczG1H","ui.details.item.info.view",void 0),e("default",function(e){function i(){for(var t,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))||this).typeCtrl=void 0,t.closeBtn=void 0,t.itemIcon=void 0,t.itemName=void 0,t.itemCapacity=void 0,t.itemLand=void 0,t.itemRequireLevel=void 0,t.itemDesc=void 0,t.itemChainType=void 0,t.mCurShowData=0,t._onCloseClick=null,t}t(i,e);var n=i.prototype;return n.onConstruct=function(){this.typeCtrl=this.getController("IsEssence"),this.closeBtn=this.getChild("ui_WindClose"),this.itemIcon=this.getChild("ui_ItemIcon"),this.itemName=this.getChild("ui_ItemName"),this.itemCapacity=this.getChild("ui_WorkerCapacity"),this.itemLand=this.getChild("ui_LandPlots"),this.itemRequireLevel=this.getChild("ui_ItemRquireLevel"),this.itemDesc=this.getChild("ui_ItemDes"),this.itemChainType=this.getChild("ui_ChainType"),this.closeBtn.onClick(this._onCloseBtnClick,this)},n._onCloseBtnClick=function(){s.PlaySound_UICommonClose(),this._onCloseClick&&this._onCloseClick()},n.OnCloseBtnClick=function(e){this._onCloseClick=e},n.RefreshShowData=function(e,t){if(0!==e){this.mCurShowData=e;var i=o.getItemRecord(e);i&&(this.itemIcon.url=h.getUIFarmItemPath(i.itemIcon),this.itemName.text=i.itemName,this.itemDesc.text=i.itemDesc,this._refreshItemTypeShow(i),t?(this.itemChainType.visible=!0,this.itemChainType.setChainType(c.Bera)):this.itemChainType.visible=!1)}},n._refreshItemTypeShow=function(e){if(e.itemType===a.Farm_Object){this.typeCtrl.selectedIndex=0;var t=Number.parseInt(e.itemParam1),i=o.getFarmResRecord(t);if(!i)return;this.itemCapacity.text=l.NumberTransform(i.capacity),this.itemLand.text=i.width+"x"+i.height}else e.itemType===a.Combination&&(this.typeCtrl.selectedIndex=1,this.itemRequireLevel.text="<Lv."+e.itemParam1)},i}(n)).URL="ui://Details/details_item_info",i._RF.pop()}}}));

System.register("chunks:///_virtual/ui.details.item.market.buysell.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./table.helper.ts","./sound.helper.ts","./resource.path.tool.ts","./logic.tool.ts","./model.item.data.chain.ts","./enum.chain.type.ts","./sdk.manager.ts","./common.tool.ts","./event.dispatcher.ts","./event.name.ts","./chain.operate.marketplace.item.sale.ts","./use.ethers.ts","./chain.operate.marketplace.item.buy.ts","./ui.float.text.controller.ts","./chain.operate.interface.ts","./chain.system.ts","./enum.item.type.ts","./model.farm.manager.ts"],(function(t){"use strict";var e,i,n,s,r,a,o,l,h,u,c,C,d,m,f,_,I,p,y,g,k,x,B,T,D,M,b;return{setters:[function(t){e=t.inheritsLoose,i=t.asyncToGenerator,n=t.regeneratorRuntime},function(t){s=t.cclegacy,r=t.EditBox,a=t.isValid,o=t.Color},function(t){l=t.Event,h=t.GComponent},function(t){u=t.TableHelper},function(t){c=t.SoundHelper},function(t){C=t.ResourcePathTool},function(t){d=t.LogicTool},function(t){m=t.ModelItemDataChain},function(t){f=t.EChainType},function(t){_=t.SDKManager},function(t){I=t.CommonTool},function(t){p=t.EventDispatcher},function(t){y=t.EventName},function(t){g=t.ChainOperateMarketplaceItemSale},function(t){k=t.formatEther},function(t){x=t.ChainOperateMarketplaceItemBuy},function(t){B=t.UIFloatTextController},function(t){T=t.ChainOperateStatus},function(t){D=t.ChainSystem},function(t){M=t.EItemType},function(t){b=t.ModelFarmManager}],execute:function(){s._RF.push({},"3df84hEd4FDgLg7HOgKeZPJ","ui.details.item.market.buysell.view",void 0),t("default",function(t){function s(){for(var e,i=arguments.length,n=new Array(i),s=0;s<i;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))||this).stateCtrl=void 0,e.isMyOrderCtrl=void 0,e.typeCtrl=void 0,e.closeBtn=void 0,e.itemIcon=void 0,e.itemName=void 0,e.itemTokenID=void 0,e.itemCapacity=void 0,e.itemLand=void 0,e.itemAmount=void 0,e.itemRequireLevel=void 0,e.itemChainType=void 0,e.sellTokenIcon1=void 0,e.sellTokenIcon2=void 0,e.sellTotalPrice=void 0,e.sellSinglePrice=void 0,e.sellReduceBtn=void 0,e.sellAddBtn=void 0,e.sellMaxBtn=void 0,e.sellCount=void 0,e.sellBtn=void 0,e.sellTip=void 0,e.buyOwnerAddress=void 0,e.buySinglePrice=void 0,e.buyTotalPrice=void 0,e.buyReduceBtn=void 0,e.buyAddBtn=void 0,e.buyMaxBtn=void 0,e.buyCount=void 0,e.buyBtn=void 0,e.wizzBalance=void 0,e.addressValue=void 0,e.addressCopyBtn=void 0,e.MAX_NUMBER=999999999,e.MIN_NUMBER=1e-4,e.fee=5,e.mCurOnChainData=null,e.mCurMarketData=null,e._onCloseClick=null,e}e(s,t);var h=s.prototype;return h.onConstruct=function(){this.stateCtrl=this.getController("State"),this.isMyOrderCtrl=this.getController("IsMyOrder"),this.typeCtrl=this.getController("IsEssence"),this.closeBtn=this.getChild("ui_WindClose"),this.itemIcon=this.getChild("ui_ItemIcon"),this.itemName=this.getChild("ui_ItemName"),this.itemTokenID=this.getChild("ui_NFTID"),this.itemCapacity=this.getChild("ui_WorkerCapacity"),this.itemLand=this.getChild("ui_LandPlots"),this.itemAmount=this.getChild("ui_ItemAmountValue"),this.itemRequireLevel=this.getChild("ui_ItemRquireLevel"),this.itemChainType=this.getChild("ui_ChainType"),this.sellTokenIcon1=this.getChild("ui_TokenIcon1"),this.sellTokenIcon2=this.getChild("ui_TokenIcon2"),this.sellTotalPrice=this.getChild("ui_TotalValue"),this.sellSinglePrice=this.getChild("ui_InputPrice"),this.sellReduceBtn=this.getChild("ui_BtnReduce1"),this.sellAddBtn=this.getChild("ui_BtnAdd1"),this.sellMaxBtn=this.getChild("ui_BtnMax1"),this.sellCount=this.getChild("UI_Input_Amount1"),this.sellBtn=this.getChild("ui_BtnSell"),this.sellTip=this.getChild("ui_AttentionLabel"),this.buyOwnerAddress=this.getChild("ui_OwnerValue"),this.buySinglePrice=this.getChild("ui_SinglePriceValue"),this.buyTotalPrice=this.getChild("ui_TotalPriceValue"),this.buyReduceBtn=this.getChild("ui_BtnReduce"),this.buyAddBtn=this.getChild("ui_BtnAdd"),this.buyMaxBtn=this.getChild("ui_BtnMax"),this.buyCount=this.getChild("UI_Input_Amount"),this.buyBtn=this.getChild("ui_BtnBuy"),this.wizzBalance=this.getChild("ui_Balance_WIZZ"),this.addressValue=this.getChild("ui_WalletAddress"),this.addressCopyBtn=this.getChild("ui_BtnAccountCopy"),this.sellSinglePrice._editBox.inputMode=r.InputMode.DECIMAL,this.sellCount._editBox.inputMode=r.InputMode.NUMERIC,this.buyCount._editBox.inputMode=r.InputMode.NUMERIC,this.sellSinglePrice.on(l.TEXT_CHANGE,this._onSellPriceTextChanged,this),this.sellCount.on(l.TEXT_CHANGE,this._onSellCountTextChanged,this),this.buyCount.on(l.TEXT_CHANGE,this._onBuyCountTextChanged,this),this.closeBtn.onClick(this._onCloseBtnClick,this),this.sellReduceBtn.onClick(this._onSellReduceClick,this),this.sellAddBtn.onClick(this._onSellAddClick,this),this.sellMaxBtn.onClick(this._onSellMaxClick,this),this.sellBtn.onClick(this._onSellClick,this),this.buyReduceBtn.onClick(this._onBuyReduceClick,this),this.buyAddBtn.onClick(this._onBuyAddClick,this),this.buyMaxBtn.onClick(this._onBuyMaxClick,this),this.buyBtn.onClick(this._onBuyClick,this),this.addressCopyBtn.onClick(this._onAddressCopyClick,this),p.on(y.WIZARD_WALLET_COIN_DATA_CHANGED,this._refreshWalletCoinDataChanged,this)},h.onDestroy=function(){p.off(y.WIZARD_WALLET_COIN_DATA_CHANGED,this._refreshWalletCoinDataChanged,this)},h._refreshWalletCoinDataChanged=function(t){a(this.node)&&this.mCurMarketData&&t&&t===D.instance.beraCoin.key&&(this._refreshBuyTotalPrice(),this._refreshBalanceWizzView())},h._onSellPriceTextChanged=function(){if(this.mCurOnChainData){var t=Number.parseFloat(this.sellSinglePrice.text);isNaN(t)&&(t=0),t<this.MIN_NUMBER&&(t=this.MIN_NUMBER),t>this.MAX_NUMBER&&(t=this.MAX_NUMBER);var e=1/this.MIN_NUMBER;t=Math.floor(t*e)/e,this.sellSinglePrice.text=t.toString();var i=Number.parseInt(this.sellCount.text),n=Math.floor(t*i*e)/e;this.sellTotalPrice.text=n.toString(),this.sellTip.text=this.refreshSellDescInfo(n)}},h._onSellCountTextChanged=function(){if(this.mCurOnChainData){var t=Number.parseInt(this.sellCount.text);isNaN(t)&&(t=1);var e=this.mCurOnChainData.curCount;t<1&&(t=1),t>e&&(t=e),this.sellCount.text=t.toString();var i=Number.parseFloat(this.sellSinglePrice.text)*t;this.sellTotalPrice.text=i.toString(),this.sellTip.text=this.refreshSellDescInfo(i)}},h._onBuyCountTextChanged=function(){if(this.mCurMarketData){var t=Number.parseInt(this.buyCount.text);isNaN(t)&&(t=1);var e=Number.parseInt(this.mCurMarketData.amount);t<1&&(t=1),t>e&&(t=e),this.buyCount.text=t.toString(),this._refreshBuyTotalPrice()}},h._onCloseBtnClick=function(){c.PlaySound_UICommonClose(),this._onCloseClick&&this._onCloseClick()},h._onSellReduceClick=function(){if(c.PlaySound_UICommonClick(),this.mCurOnChainData){var t=Number.parseInt(this.sellCount.text);if(!(t<=1)){t--,this.sellCount.text=t.toString();var e=Number.parseFloat(this.sellSinglePrice.text)*t;this.sellTotalPrice.text=e.toString(),this.sellTip.text=this.refreshSellDescInfo(e)}}},h._onSellAddClick=function(){if(c.PlaySound_UICommonClick(),this.mCurOnChainData){var t=Number.parseInt(this.sellCount.text);if(!(t>=this.mCurOnChainData.curCount)){t++,this.sellCount.text=t.toString();var e=Number.parseFloat(this.sellSinglePrice.text)*t;this.sellTotalPrice.text=e.toString(),this.sellTip.text=this.refreshSellDescInfo(e)}}},h._onSellMaxClick=function(){if(c.PlaySound_UICommonClick(),this.mCurOnChainData){var t=this.mCurOnChainData.curCount;this.sellCount.text=t.toString();var e=Number.parseFloat(this.sellSinglePrice.text)*t;this.sellTotalPrice.text=e.toString(),this.sellTip.text=this.refreshSellDescInfo(e)}},h._onBuyReduceClick=function(){if(c.PlaySound_UICommonClick(),this.mCurMarketData){var t=Number.parseInt(this.buyCount.text);t<=1||(t--,this.buyCount.text=t.toString(),this._refreshBuyTotalPrice())}},h._onBuyAddClick=function(){if(c.PlaySound_UICommonClick(),this.mCurMarketData){var t=Number.parseInt(this.buyCount.text);t>=Number.parseInt(this.mCurMarketData.amount)||(t++,this.buyCount.text=t.toString(),this._refreshBuyTotalPrice())}},h._onBuyMaxClick=function(){if(c.PlaySound_UICommonClick(),this.mCurMarketData){var t=Number.parseInt(this.mCurMarketData.amount);this.buyCount.text=t.toString(),this._refreshBuyTotalPrice()}},h._onSellClick=function(){var t=i(n().mark((function t(){var e,i,s;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c.PlaySound_UICommonClick(),this.mCurOnChainData){t.next=3;break}return t.abrupt("return");case 3:if(e=Number.parseInt(this.sellCount.text),i=1/this.MIN_NUMBER,!((s=Math.floor(Number.parseFloat(this.sellSinglePrice.text)*i)/i)<=0)){t.next=9;break}return B.AddTipI18nID_Failed("u.2546"),t.abrupt("return");case 9:return t.next=11,g.popConfirm(this.mCurOnChainData.tokenID,e,s);case 11:t.sent===T.Success&&(p.emit(y.CHAIN_MARKETPLACE_REFRESH_ITEM_DATA),this._onCloseClick&&this._onCloseClick());case 13:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),h._onBuyClick=function(){var t=i(n().mark((function t(){var e;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c.PlaySound_UICommonClick(),this.mCurMarketData){t.next=3;break}return t.abrupt("return");case 3:if(this.mCurMarketData.orderOwner.toLowerCase()!==_.instance.curSDKPlugin.accountMeInfo.addressEvm.toLowerCase()){t.next=6;break}return B.AddTipI18nID_Info("u.2543"),t.abrupt("return");case 6:return e=Number.parseInt(this.buyCount.text),t.next=9,x.popConfirm(this.mCurMarketData.orderID,this.mCurMarketData.price,e);case 9:t.sent===T.Success&&(p.emit(y.CHAIN_MARKETPLACE_REFRESH_ITEM_DATA),this._onCloseClick&&this._onCloseClick());case 11:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),h._onAddressCopyClick=function(){if(c.PlaySound_UICommonClick(),null!=this.mCurMarketData){var t=D.instance.beraContractItemV2.contractConfig.address;t&&I.copyTextNew(t).then((function(){B.AddTipI18nID_Success("u.2516")}))}},h.OnCloseBtnClick=function(t){this._onCloseClick=t},h.RefreshShowData=function(t){t&&(t instanceof m?(this.mCurOnChainData=t,this.mCurMarketData=null,this._refreshOnChainShowData()):(this.mCurOnChainData=null,this.mCurMarketData=t,this._refreshMarketplaceShowData()))},h._refreshOnChainShowData=function(){if(this.mCurOnChainData){this.stateCtrl.selectedPage="Sell",this.isMyOrderCtrl.selectedIndex=0;var t=u.getItemRecord(Number(this.mCurOnChainData.tokenID));t&&(this.itemIcon.url=C.getUIFarmItemPath(t.itemIcon),this.itemName.text=t.itemName,this.itemTokenID.text="I# "+this.mCurOnChainData.tokenID,this.itemAmount.text=this.mCurOnChainData.curCount.toString(),this.itemChainType.setChainType(this.mCurOnChainData.chainType),this._refreshItemTypeShow(t),this.sellTokenIcon1.url=C.getUIFarmItemPath("Coin_Bera"),this.sellTokenIcon2.url=C.getUIFarmItemPath("Coin_Bera"),this.sellCount.text="1",this.sellSinglePrice.text="0",this.sellTotalPrice.text="0",this.sellTip.text=this.refreshSellDescInfo(0))}},h._refreshItemTypeShow=function(t){if(t.itemType===M.Farm_Object){this.typeCtrl.selectedIndex=0;var e=Number.parseInt(t.itemParam1),i=u.getFarmResRecord(e);if(!i)return;this.itemCapacity.text=d.NumberTransform(i.capacity),this.itemLand.text=i.width+"x"+i.height}else t.itemType===M.Combination&&(this.typeCtrl.selectedIndex=1,this.itemRequireLevel.text="<Lv."+t.itemParam1,Number(t.itemParam1)>b.instance.FarmLevel?this.itemRequireLevel.color=new o(248,245,227):this.itemRequireLevel.color=new o(255,86,58))},h.refreshSellDescInfo=function(t){var e=t*(100-this.fee)/100,i=d.NumberOmit(e.toString(),6);return e<0&&(i="0"),i+=" BERA",d.i18nFormat(u.getI18nUIText("u.13917"),[this.fee.toString(),i])},h._refreshMarketplaceShowData=function(){if(this.mCurMarketData){this.stateCtrl.selectedPage="Buy";var t=u.getItemRecord(Number(this.mCurMarketData.tokenID));if(t){this.itemIcon.url=C.getUIFarmItemPath(t.itemIcon),this.itemName.text=t.itemName,this.itemTokenID.text="I# "+this.mCurMarketData.tokenID,this.itemAmount.text=this.mCurMarketData.amount,this.itemChainType.setChainType(f.Bera),this._refreshItemTypeShow(t),this.buyCount.text="1",this.buyOwnerAddress.text=I.shortAddress(this.mCurMarketData.orderOwner,6),this.mCurMarketData.orderOwner.toLowerCase()===_.instance.curSDKPlugin.accountMeInfo.addressEvm.toLowerCase()?this.isMyOrderCtrl.selectedIndex=1:this.isMyOrderCtrl.selectedIndex=0;var e=D.instance.beraContractItemV2.contractConfig.address;this.addressValue.text=u.getI18nUIText("u.13429")+" "+I.shortAddress(e,6),this._refreshBuyTotalPrice(),this._refreshBalanceWizzView()}}},h._refreshBuyTotalPrice=function(){if(this.mCurMarketData){var t=Number.parseInt(this.buyCount.text),e=1/this.MIN_NUMBER,i=Math.floor(Number.parseFloat(k(this.mCurMarketData.price))*e)/e,n=Math.floor(t*i*e)/e;this.buySinglePrice.text=i+" BERA",this.buyTotalPrice.text=n+" BERA";var s=D.instance.beraCoin.balance>=n;this.buyBtn.setBtnChainData("Coin_Bera",n,s)}},h._refreshBalanceWizzView=function(){if(this.mCurMarketData){var t=d.NumberOmit(D.instance.beraCoin.balance.toString(),4,!0);this.wizzBalance.text=d.i18nFormat(u.getI18nUIText("u.14009"),[t,"BERA"]),this._refreshBuyTotalPrice()}},s}(h)).URL="ui://Details/details_item_buysell",s._RF.pop()}}}));

System.register("chunks:///_virtual/ui.details.item.recipe.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./table.helper.ts","./net.helper.ts","./sound.helper.ts","./resource.path.tool.ts","./event.dispatcher.ts","./event.name.ts","./logic.tool.ts","./enum.farm.coin.res.ts","./property.client.protocol.ts","./model.item.manager.ts","./ui.float.text.controller.ts"],(function(t){"use strict";var e,i,n,s,o,r,h,l,a,m,c,u,C,d,p,_;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy,n=t.isValid,s=t.Color},function(t){o=t.GComponent},function(t){r=t.TableHelper},function(t){h=t.NetHelper},function(t){l=t.SoundHelper},function(t){a=t.ResourcePathTool},function(t){m=t.EventDispatcher},function(t){c=t.EventName},function(t){u=t.LogicTool},function(t){C=t.EFarmCoinRes},function(t){d=t.stItemInfo},function(t){p=t.ModelItemManager},function(t){_=t.UIFloatTextController}],execute:function(){i._RF.push({},"89ad7T4TgRBJoPYmbUZaEwF","ui.details.item.recipe.view",void 0),t("default",function(t){function i(){for(var e,i=arguments.length,n=new Array(i),s=0;s<i;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))||this).bgView=void 0,e.closeBtn=void 0,e.itemIcon=void 0,e.itemName=void 0,e.itemCapacity=void 0,e.itemLand=void 0,e.itemDesc=void 0,e.requireList=void 0,e.recipeBtn=void 0,e.sellBtn=void 0,e.mCurShowData=null,e.mRecipeCostID=C.Token_Silver,e.mRecipeCostNum=0,e.mIsResEnough=!1,e._onCloseClick=null,e}e(i,t);var o=i.prototype;return o.onConstruct=function(){this.closeBtn=this.getChild("ui_WindClose"),this.itemIcon=this.getChild("ui_ItemIcon"),this.itemName=this.getChild("ui_ItemName"),this.itemCapacity=this.getChild("ui_WorkerCapacity"),this.itemLand=this.getChild("ui_LandPlots"),this.itemDesc=this.getChild("ui_ItemDes"),this.requireList=this.getChild("ui_RequiresList"),this.recipeBtn=this.getChild("ui_BtnMake"),this.sellBtn=this.getChild("ui_BtnSell"),this.closeBtn.onClick(this._onCloseBtnClick,this),this.recipeBtn.onClick(this._onRecipeClick,this),this.sellBtn.onClick(this._onSellClick,this),m.on(c.PLAYERSELF_MONEY_GOLD_CHANGED,this._onGoldCoinChanged,this),m.on(c.PLAYERSELF_MONEY_SILVER_CHANGED,this._onSilverCoinChanged,this),m.on(c.RECIPE_MAKE_RESULT,this._onRecipeMakeResult,this)},o.onDestroy=function(){m.off(c.PLAYERSELF_MONEY_GOLD_CHANGED,this._onGoldCoinChanged,this),m.off(c.PLAYERSELF_MONEY_SILVER_CHANGED,this._onSilverCoinChanged,this),m.off(c.RECIPE_MAKE_RESULT,this._onRecipeMakeResult,this)},o._onGoldCoinChanged=function(){n(this.node)&&this.mRecipeCostID===C.Token_Gold&&this.recipeBtn.setBtnData([this.mRecipeCostID,this.mRecipeCostNum])},o._onSilverCoinChanged=function(){n(this.node)&&this.mRecipeCostID===C.Token_Silver&&this.recipeBtn.setBtnData([this.mRecipeCostID,this.mRecipeCostNum])},o._onRecipeMakeResult=function(t){n(this.node)&&(1===t?this._onCloseClick&&this._onCloseClick():_.AddTipI18nID_Failed("u.2535"))},o._onCloseBtnClick=function(){l.PlaySound_UICommonClose(),this._onCloseClick&&this._onCloseClick()},o._onRecipeClick=function(){l.PlaySound_UICommonClick(),this.mCurShowData&&(this.mIsResEnough?h.makeResDrawing(this.mCurShowData.realId):_.AddTipI18nID_Failed("u.2534"))},o._onSellClick=function(){l.PlaySound_UICommonClick(),this.mCurShowData&&m.emit(c.UI_DETAILS_SHOW_ITEM_SELL,this.mCurShowData)},o.OnCloseBtnClick=function(t){this._onCloseClick=t},o.RefreshShowData=function(t){if(t){this.mCurShowData=t;var e=r.getItemRecord(this.mCurShowData.tableId);if(e){var i=e.itemParam1.split("-");if(2===i.length){var n=Number.parseInt(i[0]),s=r.getItemRecord(n);if(s){this.itemIcon.url=a.getUIFarmItemPath(s.itemIcon),this.itemName.text=s.itemName,this.itemDesc.text=s.itemDesc,this._refreshRecipeItemList(t.resDrawing().formulaItem);var o=Number.parseInt(s.itemParam1),h=r.getFarmResRecord(o);if(h){this.itemCapacity.text=u.NumberTransform(h.capacity),this.itemLand.text=h.width+"x"+h.height;var l=e.itemParam2.split("-");if(2===l.length){this.mRecipeCostID=Number.parseInt(l[0]),this.mRecipeCostNum=Number.parseInt(l[1]),this.recipeBtn.setBtnData([this.mRecipeCostID,this.mRecipeCostNum]);var m=0;if(""!==e.itemPrice){var c=e.itemPrice.split("-");c&&2===c.length&&(m=Number.parseInt(c[0]))}1===m?this.sellBtn.icon=a.getUIFarmItemPath("Coin_Gold"):2===m&&(this.sellBtn.icon=a.getUIFarmItemPath("Coin_Silver"))}}}}}}},o._refreshRecipeItemList=function(t){for(var e=[],i=0;i<t.length;i++)0!==t[i].item&&e.push(t[i]);this.requireList.removeChildrenToPool();var n=this._mergeRecipeItemList(t);this.mIsResEnough=!0;for(var o=0;o<n.length;o++)if(n[o].item>0){var h=r.getItemRecord(n[o].item);if(!h)continue;var l=this.requireList.addItem();l.icon=a.getUIFarmItemPath(h.itemIcon);var m=p.instance.GetItemCountById(n[o].item);l.title=m+"/"+n[o].num,m>=n[o].num?l.titleColor=new s(248,245,227):(l.titleColor=new s(255,86,58),this.mIsResEnough=!1)}if(this.requireList.numChildren>0){var c=Math.ceil(this.requireList.numChildren/4)-1;this.requireList.height=80+(80+this.requireList.lineGap)*c,this.height=646+(80+this.requireList.lineGap)*c}else this.requireList.height=0,this.height=546},o._mergeRecipeItemList=function(t){for(var e=[],i=0;i<t.length;i++)if(0!==t[i].item){var n=this._getRecipeItemByID(e,t[i].item);if(null!=n)n.num+=t[i].num;else{var s=new d;s.item=t[i].item,s.num=t[i].num,e.push(s)}}return e},o._getRecipeItemByID=function(t,e){for(var i=0;i<t.length;i++)if(t[i].item===e)return t[i];return null},i}(o)).URL="ui://Details/details_item_recipe",i._RF.pop()}}}));

System.register("chunks:///_virtual/ui.details.item.sell.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./table.helper.ts","./net.helper.ts","./sound.helper.ts","./model.item.manager.ts","./resource.path.tool.ts","./event.dispatcher.ts","./event.name.ts","./enum.item.type.ts"],(function(t){"use strict";var e,i,n,o,s,l,h,r,u,m,a,c,C;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy,n=t.EditBox},function(t){o=t.Event,s=t.GComponent},function(t){l=t.TableHelper},function(t){h=t.NetHelper},function(t){r=t.SoundHelper},function(t){u=t.ModelItemManager},function(t){m=t.ResourcePathTool},function(t){a=t.EventDispatcher},function(t){c=t.EventName},function(t){C=t.EItemType}],execute:function(){i._RF.push({},"8ea1cCNg+FMWpIdgC5j9Kgq","ui.details.item.sell.view",void 0),t("default",function(t){function i(){for(var e,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))||this).isRecipeCtrl=void 0,e.bgView=void 0,e.closeBtn=void 0,e.itemIcon=void 0,e.itemName=void 0,e.itemAmount=void 0,e.itemPriceIcon=void 0,e.itemPrice=void 0,e.itemDesc=void 0,e.reduceBtn=void 0,e.addBtn=void 0,e.maxBtn=void 0,e.sellCount=void 0,e.sellBtn=void 0,e.mCurShowData=null,e.mItemPriceType=0,e.mItemPriceValue=0,e._onCloseClick=null,e}e(i,t);var s=i.prototype;return s.onConstruct=function(){this.isRecipeCtrl=this.getController("IsRecipe"),this.closeBtn=this.getChild("ui_WindClose"),this.itemIcon=this.getChild("ui_ItemIcon"),this.itemName=this.getChild("ui_ItemName"),this.itemAmount=this.getChild("ui_ItemAmountValue"),this.itemPriceIcon=this.getChild("ui_CoinIcon"),this.itemPrice=this.getChild("ui_ItemPriceValue"),this.itemDesc=this.getChild("ui_ItemDes"),this.reduceBtn=this.getChild("ui_BtnReduce"),this.addBtn=this.getChild("ui_BtnAdd"),this.maxBtn=this.getChild("ui_BtnMax"),this.sellCount=this.getChild("UI_Input_Amount"),this.sellBtn=this.getChild("ui_BtnSell"),this.sellCount._editBox.inputMode=n.InputMode.DECIMAL,this.sellCount.on(o.TEXT_CHANGE,this._onUseCountTextChanged,this),this.closeBtn.onClick(this._onCloseBtnClick,this),this.reduceBtn.onClick(this._onReduceClick,this),this.addBtn.onClick(this._onAddClick,this),this.maxBtn.onClick(this._onMaxClick,this),this.sellBtn.onClick(this._onSellClick,this),a.on(c.ITEM_CHANGE,this._onItemChanged,this),a.on(c.ITEM_REMOVE,this._onItemRemove,this)},s.onDestroy=function(){a.off(c.ITEM_CHANGE,this._onItemChanged,this),a.off(c.ITEM_REMOVE,this._onItemRemove,this)},s._onItemChanged=function(t,e){null!=this.mCurShowData&&this.mCurShowData.realId===t&&(this.mCurShowData=u.instance.GetItemByRealId(t),this.itemAmount.text=this.mCurShowData.curCount.toString())},s._onItemRemove=function(t,e){null!=this.mCurShowData&&this.mCurShowData.realId===t&&null!=this._onCloseClick&&this._onCloseClick()},s._onUseCountTextChanged=function(){var t=Number.parseInt(this.sellCount.text);isNaN(t)&&(t=1);var e=this.mCurShowData.curCount;t<1&&(t=1),t>e&&(t=e),this.sellCount.text=t.toString(),this._refreshItemPriceValue()},s._onCloseBtnClick=function(){r.PlaySound_UICommonClose(),this._onCloseClick&&this._onCloseClick()},s._onReduceClick=function(){if(r.PlaySound_UICommonClick(),this.mCurShowData){var t=Number.parseInt(this.sellCount.text);t<=1||(t--,this.sellCount.text=t.toString(),this._refreshItemPriceValue())}},s._onAddClick=function(){if(r.PlaySound_UICommonClick(),this.mCurShowData){var t=Number.parseInt(this.sellCount.text);t>=this.mCurShowData.curCount||(t++,this.sellCount.text=t.toString(),this._refreshItemPriceValue())}},s._onMaxClick=function(){if(r.PlaySound_UICommonClick(),this.mCurShowData){var t=this.mCurShowData.curCount;this.sellCount.text=t.toString(),this._refreshItemPriceValue()}},s._onSellClick=function(){if(r.PlaySound_UICommonClick(),this.mCurShowData){var t=Number.parseInt(this.sellCount.text);l.getItemRecord(this.mCurShowData.tableId)&&(h.sellObject(this.mCurShowData.realId,t),this._onCloseClick&&this._onCloseClick())}},s.OnCloseBtnClick=function(t){this._onCloseClick=t},s.RefreshShowData=function(t){if(t){this.mCurShowData=t;var e=l.getItemRecord(this.mCurShowData.tableId);if(e){if(this.itemIcon.url=m.getUIFarmItemPath(e.itemIcon),this.itemName.text=e.itemName,this.itemAmount.text=this.mCurShowData.curCount.toString(),this.itemDesc.text=e.itemDesc,t.itemObject.itemType===C.Farm_Recipe?this.isRecipeCtrl.selectedIndex=1:this.isRecipeCtrl.selectedIndex=0,this.sellCount.text="1",""!==e.itemPrice){var i=e.itemPrice.split("-");i&&2===i.length&&(this.mItemPriceType=Number.parseInt(i[0]),this.mItemPriceValue=Number.parseInt(i[1]))}1===this.mItemPriceType?(this.itemPriceIcon.url=m.getUIFarmItemPath("Coin_Gold"),this.sellBtn.icon=m.getUIFarmItemPath("Coin_Gold")):2===this.mItemPriceType&&(this.itemPriceIcon.url=m.getUIFarmItemPath("Coin_Silver"),this.sellBtn.icon=m.getUIFarmItemPath("Coin_Silver")),this._refreshItemPriceValue()}}},s._refreshItemPriceValue=function(){var t=Number.parseInt(this.sellCount.text);this.itemPrice.text=(this.mItemPriceValue*t).toString()},i}(s)).URL="ui://Details/details_item_sell",i._RF.pop()}}}));

System.register("chunks:///_virtual/ui.details.item.stake.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./table.helper.ts","./sound.helper.ts","./model.item.data.ts","./model.item.manager.ts","./resource.path.tool.ts","./event.dispatcher.ts","./event.name.ts","./net.helper.ts","./logic.tool.ts","./model.item.data.chain.ts","./chain.operate.deposit.item.ts","./chain.operate.interface.ts","./enum.item.type.ts","./model.farm.manager.ts"],(function(t){"use strict";var e,i,n,a,o,s,r,u,h,m,C,c,l,d,I,_,f,p,D,v,g,k;return{setters:[function(t){e=t.inheritsLoose,i=t.asyncToGenerator,n=t.regeneratorRuntime},function(t){a=t.cclegacy,o=t.EditBox,s=t.Color},function(t){r=t.Event,u=t.GComponent},function(t){h=t.TableHelper},function(t){m=t.SoundHelper},function(t){C=t.ModelItemData},function(t){c=t.ModelItemManager},function(t){l=t.ResourcePathTool},function(t){d=t.EventDispatcher},function(t){I=t.EventName},function(t){_=t.NetHelper},function(t){f=t.LogicTool},function(t){p=t.ModelItemDataChain},function(t){D=t.ChainOperateDepositItem},function(t){v=t.ChainOperateStatus},function(t){g=t.EItemType},function(t){k=t.ModelFarmManager}],execute:function(){a._RF.push({},"2e914cpw7ZD+o28xQKO3r9i","ui.details.item.stake.view",void 0),t("default",function(t){function a(){for(var e,i=arguments.length,n=new Array(i),a=0;a<i;a++)n[a]=arguments[a];return(e=t.call.apply(t,[this].concat(n))||this).stateCtrl=void 0,e.typeCtrl=void 0,e.closeBtn=void 0,e.itemIcon=void 0,e.itemName=void 0,e.itemCapacity=void 0,e.itemLand=void 0,e.itemAmount=void 0,e.itemRequireLevel=void 0,e.itemDesc=void 0,e.reduceBtn=void 0,e.addBtn=void 0,e.maxBtn=void 0,e.curCount=void 0,e.withdrawBtn=void 0,e.depositBtn=void 0,e.mCurInGameData=null,e.mCurOnChainData=null,e._onCloseClick=null,e}e(a,t);var u=a.prototype;return u.onConstruct=function(){this.stateCtrl=this.getController("State"),this.typeCtrl=this.getController("IsEssence"),this.closeBtn=this.getChild("ui_WindClose"),this.itemIcon=this.getChild("ui_ItemIcon"),this.itemName=this.getChild("ui_ItemName"),this.itemCapacity=this.getChild("ui_WorkerCapacity"),this.itemLand=this.getChild("ui_LandPlots"),this.itemAmount=this.getChild("ui_ItemAmountValue"),this.itemRequireLevel=this.getChild("ui_ItemRquireLevel"),this.itemDesc=this.getChild("ui_ItemDes"),this.reduceBtn=this.getChild("ui_BtnReduce"),this.addBtn=this.getChild("ui_BtnAdd"),this.maxBtn=this.getChild("ui_BtnMax"),this.curCount=this.getChild("UI_Input_Amount"),this.withdrawBtn=this.getChild("ui_BtnWithdraw"),this.depositBtn=this.getChild("ui_BtnDeposit"),this.curCount._editBox.inputMode=o.InputMode.DECIMAL,this.curCount.on(r.TEXT_CHANGE,this._onUseCountTextChanged,this),this.closeBtn.onClick(this._onCloseBtnClick,this),this.reduceBtn.onClick(this._onReduceClick,this),this.addBtn.onClick(this._onAddClick,this),this.maxBtn.onClick(this._onMaxClick,this),this.withdrawBtn.onClick(this._onWithdrawClick,this),this.depositBtn.onClick(this._onDepositClick,this),d.on(I.ITEM_CHANGE,this._onItemChanged,this),d.on(I.ITEM_REMOVE,this._onItemRemove,this)},u.onDestroy=function(){d.off(I.ITEM_CHANGE,this._onItemChanged,this),d.off(I.ITEM_REMOVE,this._onItemRemove,this)},u._onItemChanged=function(t,e){null!=this.mCurInGameData&&this.mCurInGameData.realId===t&&(this.mCurInGameData=c.instance.GetItemByRealId(t),this.itemAmount.text=this.mCurInGameData.curCount.toString())},u._onItemRemove=function(t,e){null!=this.mCurInGameData&&this.mCurInGameData.realId===t&&null!=this._onCloseClick&&this._onCloseClick()},u._onUseCountTextChanged=function(){var t=Number.parseInt(this.curCount.text);isNaN(t)&&(t=1);var e=0;this.mCurInGameData?e=this.mCurInGameData.curCount:this.mCurOnChainData&&(e=this.mCurOnChainData.curCount),t<1&&(t=1),t>e&&(t=e),this.curCount.text=t.toString()},u._onCloseBtnClick=function(){m.PlaySound_UICommonClose(),this._onCloseClick&&this._onCloseClick()},u._onReduceClick=function(){m.PlaySound_UICommonClick();var t=Number.parseInt(this.curCount.text);t<=1||(t--,this.curCount.text=t.toString())},u._onAddClick=function(){m.PlaySound_UICommonClick();var t=Number.parseInt(this.curCount.text),e=0;this.mCurInGameData?e=this.mCurInGameData.curCount:this.mCurOnChainData&&(e=this.mCurOnChainData.curCount),t>=e||(t++,this.curCount.text=t.toString())},u._onMaxClick=function(){m.PlaySound_UICommonClick();var t=0;this.mCurInGameData?t=this.mCurInGameData.curCount:this.mCurOnChainData&&(t=this.mCurOnChainData.curCount),this.curCount.text=t.toString()},u._onWithdrawClick=function(){if(m.PlaySound_UICommonClick(),this.mCurInGameData){var t=Number(this.curCount.text);_.withdrawItem(this.mCurInGameData.realId,t)}},u._onDepositClick=function(){var t=i(n().mark((function t(){var e;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(m.PlaySound_UICommonClick(),this.mCurOnChainData){t.next=3;break}return t.abrupt("return");case 3:return e=Number(this.curCount.text),t.next=6,D.popConfirm(Number(this.mCurOnChainData.tokenID),e);case 6:t.sent===v.Success&&(d.emit(I.CHAIN_NFT_REFRESH_ITEM_DATA),this._onCloseClick&&this._onCloseClick(),d.emit(I.UI_ASSET_OPEN,1));case 8:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),u.OnCloseBtnClick=function(t){this._onCloseClick=t},u.RefreshShowData=function(t){t&&(t instanceof C?(this.mCurInGameData=t,this.mCurOnChainData=null,this._refreshInGameData()):t instanceof p&&(this.mCurInGameData=null,this.mCurOnChainData=t,this._refreshOnChainData()))},u._refreshInGameData=function(){if(this.mCurInGameData){this.stateCtrl.selectedPage="Withdraw";var t=h.getItemRecord(this.mCurInGameData.tableId);t&&(this.itemIcon.url=l.getUIFarmItemPath(t.itemIcon),this.itemName.text=t.itemName,this.itemAmount.text=this.mCurInGameData.curCount.toString(),this.itemDesc.text=t.itemDesc,this._refreshItemTypeShow(t),this.curCount.text="1")}},u._refreshItemTypeShow=function(t){if(t.itemType===g.Farm_Object){this.typeCtrl.selectedIndex=0;var e=Number.parseInt(t.itemParam1),i=h.getFarmResRecord(e);if(!i)return;this.itemCapacity.text=f.NumberTransform(i.capacity),this.itemLand.text=i.width+"x"+i.height}else t.itemType===g.Combination&&(this.typeCtrl.selectedIndex=1,this.itemRequireLevel.text="<Lv."+t.itemParam1,Number(t.itemParam1)>k.instance.FarmLevel?this.itemRequireLevel.color=new s(248,245,227):this.itemRequireLevel.color=new s(255,86,58))},u._refreshOnChainData=function(){if(this.mCurOnChainData){this.stateCtrl.selectedPage="Deposit";var t=h.getItemRecord(Number(this.mCurOnChainData.tokenID));t&&(this.itemIcon.url=l.getUIFarmItemPath(t.itemIcon),this.itemName.text=t.itemName,this.itemAmount.text=this.mCurOnChainData.curCount.toString(),this.itemDesc.text=t.itemDesc,this._refreshItemTypeShow(t),this.curCount.text="1")}},a}(u)).URL="ui://Details/details_item_stake",a._RF.pop()}}}));

System.register("chunks:///_virtual/ui.details.item.use.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./table.helper.ts","./net.helper.ts","./sound.helper.ts","./model.item.manager.ts","./resource.path.tool.ts","./event.dispatcher.ts","./event.name.ts","./enum.item.type.ts","./logic.tool.ts","./model.farm.manager.ts","./ui.float.text.controller.ts","./new.guide.manager.ts","./plugin.settings.ts"],(function(t){"use strict";var e,i,n,o,s,u,h,a,r,l,m,C,c,d,_,v,I,f,g,w;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy,n=t.EditBox,o=t.isValid,s=t.Color},function(t){u=t.Event,h=t.GComponent},function(t){a=t.TableHelper},function(t){r=t.NetHelper},function(t){l=t.SoundHelper},function(t){m=t.ModelItemManager},function(t){C=t.ResourcePathTool},function(t){c=t.EventDispatcher},function(t){d=t.EventName},function(t){_=t.EItemType},function(t){v=t.LogicTool},function(t){I=t.ModelFarmManager},function(t){f=t.UIFloatTextController},function(t){g=t.NewGuideManager},function(t){w=t.PluginSettings}],execute:function(){i._RF.push({},"4b8a17V7OJALJBgJjkzxzg0","ui.details.item.use.view",void 0),t("default",function(t){function i(){for(var e,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))||this).requireCtrl=void 0,e.bgView=void 0,e.closeBtn=void 0,e.itemIcon=void 0,e.itemName=void 0,e.itemAmount=void 0,e.itemRequireLevel=void 0,e.itemDesc=void 0,e.reduceBtn=void 0,e.addBtn=void 0,e.maxBtn=void 0,e.useCount=void 0,e.useBtn=void 0,e.withdrawBtn=void 0,e.mCurShowData=null,e.mGmCurShowData=null,e._onCloseClick=null,e}e(i,t);var h=i.prototype;return h.onConstruct=function(){this.requireCtrl=this.getController("IsEssence"),this.closeBtn=this.getChild("ui_WindClose"),this.itemIcon=this.getChild("ui_ItemIcon"),this.itemName=this.getChild("ui_ItemName"),this.itemAmount=this.getChild("ui_ItemAmountValue"),this.itemRequireLevel=this.getChild("ui_ItemRquireLevel"),this.itemDesc=this.getChild("ui_ItemDes"),this.reduceBtn=this.getChild("ui_BtnReduce"),this.addBtn=this.getChild("ui_BtnAdd"),this.maxBtn=this.getChild("ui_BtnMax"),this.useCount=this.getChild("UI_Input_Amount"),this.useBtn=this.getChild("ui_BtnUse"),this.withdrawBtn=this.getChild("ui_BtnWithdraw"),this.useCount._editBox.inputMode=n.InputMode.DECIMAL,this.useCount.on(u.TEXT_CHANGE,this._onUseCountTextChanged,this),this.closeBtn.onClick(this._onCloseBtnClick,this),this.reduceBtn.onClick(this._onReduceClick,this),this.addBtn.onClick(this._onAddClick,this),this.maxBtn.onClick(this._onMaxClick,this),this.useBtn.onClick(this._onUseClick,this),this.withdrawBtn.onClick(this._onWithdrawClick,this),c.on(d.FARM_LEVEL_CHANGE,this._onFarmLevelChanged,this),c.on(d.ITEM_CHANGE,this._onItemChanged,this),c.on(d.ITEM_REMOVE,this._onItemRemove,this)},h.onDestroy=function(){c.off(d.FARM_LEVEL_CHANGE,this._onFarmLevelChanged,this),c.off(d.ITEM_CHANGE,this._onItemChanged,this),c.off(d.ITEM_REMOVE,this._onItemRemove,this)},h._onFarmLevelChanged=function(){o(this.node)&&this._refreshItemRequireLevel()},h._onItemChanged=function(t,e){null!=this.mCurShowData&&this.mCurShowData.realId===t&&(this.mCurShowData=m.instance.GetItemByRealId(t),this.itemAmount.text=this.mCurShowData.curCount.toString())},h._onItemRemove=function(t,e){null!=this.mCurShowData&&this.mCurShowData.realId===t&&null!=this._onCloseClick&&this._onCloseClick()},h._onUseCountTextChanged=function(){var t=Number.parseInt(this.useCount.text);isNaN(t)&&(t=1);var e=this.mCurShowData.curCount;t<1&&(t=1),t>e&&(t=e),this.useCount.text=t.toString()},h._onCloseBtnClick=function(){l.PlaySound_UICommonClose(),this._onCloseClick&&this._onCloseClick()},h._onReduceClick=function(){if(l.PlaySound_UICommonClick(),this.mCurShowData){var t=Number.parseInt(this.useCount.text);t<=1||(t--,this.useCount.text=t.toString())}},h._onAddClick=function(){if(l.PlaySound_UICommonClick(),this.mCurShowData){var t=Number.parseInt(this.useCount.text);t>=this.mCurShowData.curCount||(t++,this.useCount.text=t.toString())}},h._onMaxClick=function(){if(l.PlaySound_UICommonClick(),this.mCurShowData){var t=this.mCurShowData.curCount;this.useCount.text=t.toString()}},h._onUseClick=function(){if(l.PlaySound_UICommonClick(),this.mCurShowData){var t=Number.parseInt(this.useCount.text),e=a.getItemRecord(this.mCurShowData.tableId);if(e)if(e.itemType===_.Box_Use||e.itemType===_.Exploration_Pass){if(e.itemLevel>0&&e.itemLevel>I.instance.FarmLevel){var i=v.i18nFormat(a.getI18nUIText("u.2503"),[e.itemLevel.toString()]);return void f.AddTipText_Failed(i)}r.useObject(this.mCurShowData.realId,t),this._onCloseClick&&this._onCloseClick(),g.instance.IsInGuideScene&&g.instance.NextStep()}else if(e.itemType===_.Combination){if(Number(e.itemParam1)<=I.instance.FarmLevel){var n=v.i18nFormat(a.getI18nUIText("u.2568"),["<Lv."+e.itemParam1]);return void f.AddTipText_Failed(n)}r.useObject(this.mCurShowData.realId,t),this._onCloseClick&&this._onCloseClick()}}},h._onWithdrawClick=function(){if(l.PlaySound_UICommonClick(),this.mCurShowData)if(w.isInLine())f.AddTipI18nID_Info("u.2501");else{var t=Number(this.useCount.text);r.withdrawItem(this.mCurShowData.realId,t)}},h.OnCloseBtnClick=function(t){this._onCloseClick=t},h.RefreshShowData=function(t){if(t){this.mCurShowData=t;var e=a.getItemRecord(this.mCurShowData.tableId);if(e){this.itemIcon.url=C.getUIFarmItemPath(e.itemIcon),this.itemName.text=e.itemName,this.itemAmount.text=this.mCurShowData.curCount.toString(),this.itemDesc.text=e.itemDesc,this._refreshItemRequireLevel(),this.useCount.text="1";var i=510;this.useBtn.visible=!0,this.withdrawBtn.visible=!1,1===e.isOnChain&&(this.withdrawBtn.visible=!0,i+=70),this.height=i}}},h._refreshItemRequireLevel=function(){var t=a.getItemRecord(this.mCurShowData.tableId);t.itemType===_.Combination?(this.requireCtrl.selectedIndex=1,this.itemRequireLevel.text="<Lv."+t.itemParam1,Number(t.itemParam1)>I.instance.FarmLevel?this.itemRequireLevel.color=new s(248,245,227):this.itemRequireLevel.color=new s(255,86,58)):t.itemLevel>0?(this.requireCtrl.selectedIndex=1,this.itemRequireLevel.text="Lv."+t.itemLevel,t.itemLevel<=I.instance.FarmLevel?this.itemRequireLevel.color=new s(248,245,227):this.itemRequireLevel.color=new s(255,86,58)):this.requireCtrl.selectedIndex=0},i}(h)).URL="ui://Details/details_item_use",i._RF.pop()}}}));

System.register("chunks:///_virtual/ui.details.item.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./chain.system.ts","./table.helper.ts","./sound.helper.ts","./model.item.data.ts","./model.item.manager.ts","./resource.path.tool.ts","./event.dispatcher.ts","./event.name.ts","./logic.tool.ts","./ui.float.text.controller.ts","./farm.system.ts","./model.item.data.chain.ts","./common.tool.ts","./chain.operate.marketplace.order.cancel.ts","./chain.operate.interface.ts","./model.farm.manager.ts","./plugin.settings.ts","./enum.item.type.ts","./chain.operate.change.item.contract.ts"],(function(t){"use strict";var e,i,n,s,a,o,h,r,l,C,m,c,u,d,I,_,f,p,D,g,v,S,T,O,y;return{setters:[function(t){e=t.inheritsLoose,i=t.asyncToGenerator,n=t.regeneratorRuntime},function(t){s=t.cclegacy,a=t.Color},function(t){o=t.GComponent},function(t){h=t.ChainSystem},function(t){r=t.TableHelper},function(t){l=t.SoundHelper},function(t){C=t.ModelItemData},function(t){m=t.ModelItemManager},function(t){c=t.ResourcePathTool},function(t){u=t.EventDispatcher},function(t){d=t.EventName},function(t){I=t.LogicTool},function(t){_=t.UIFloatTextController},function(t){f=t.FarmSystem},function(t){p=t.ModelItemDataChain},function(t){D=t.CommonTool},function(t){g=t.ChainOperateMarketplaceOrderCancel},function(t){v=t.ChainOperateStatus},function(t){S=t.ModelFarmManager},function(t){T=t.PluginSettings},function(t){O=t.EItemType},function(t){y=t.ChainOperateChangeItemContract}],execute:function(){s._RF.push({},"e1dff/diS9O0Jaz8LWaIDAG","ui.details.item.view",void 0),t("default",function(t){function s(){for(var e,i=arguments.length,n=new Array(i),s=0;s<i;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))||this).stateCtrl=void 0,e.isOnSaleCtrl=void 0,e.typeCtrl=void 0,e.closeBtn=void 0,e.itemIcon=void 0,e.itemName=void 0,e.itemCapacity=void 0,e.itemLand=void 0,e.itemAmount=void 0,e.itemRequireLevel=void 0,e.itemDesc=void 0,e.itemChainType=void 0,e.putBtn=void 0,e.sellBtn=void 0,e.withdrawBtn=void 0,e.depositBtn=void 0,e.sellOnChainBtn=void 0,e.sellOnChainCancelBtn=void 0,e.addressValue=void 0,e.addressCopyBtn=void 0,e.oldAddressValue=void 0,e.oldAddressCopyBtn=void 0,e.newAddressValue=void 0,e.newAddressCopyBtn=void 0,e.changeContractBtn=void 0,e.mCurInGameData=null,e.mCurOnChainData=null,e.mGmCurShowData=null,e.mIsSaleView=!1,e._onCloseClick=null,e}e(s,t);var o=s.prototype;return o.onConstruct=function(){this.stateCtrl=this.getController("State"),this.isOnSaleCtrl=this.getController("IsOnSale"),this.typeCtrl=this.getController("IsEssence"),this.closeBtn=this.getChild("ui_WindClose"),this.itemIcon=this.getChild("ui_ItemIcon"),this.itemName=this.getChild("ui_ItemName"),this.itemCapacity=this.getChild("ui_WorkerCapacity"),this.itemLand=this.getChild("ui_LandPlots"),this.itemAmount=this.getChild("ui_ItemAmountValue"),this.itemRequireLevel=this.getChild("ui_ItemRquireLevel"),this.itemDesc=this.getChild("ui_ItemDes"),this.itemChainType=this.getChild("ui_ChainType"),this.putBtn=this.getChild("ui_BtnPut"),this.sellBtn=this.getChild("ui_BtnSell"),this.withdrawBtn=this.getChild("ui_BtnWithdraw"),this.depositBtn=this.getChild("ui_BtnDeposit"),this.sellOnChainBtn=this.getChild("ui_BtnSellOnChain"),this.sellOnChainCancelBtn=this.getChild("ui_BtnCancelSell"),this.addressValue=this.getChild("ui_WalletAddress"),this.addressCopyBtn=this.getChild("ui_BtnAccountCopy"),this.oldAddressValue=this.getChild("ui_OldContract"),this.oldAddressCopyBtn=this.getChild("ui_BtnAccountCopy1"),this.newAddressValue=this.getChild("ui_NewContract"),this.newAddressCopyBtn=this.getChild("ui_BtnAccountCopy2"),this.changeContractBtn=this.getChild("ui_BtnChangeContract"),this.closeBtn.onClick(this._onCloseBtnClick,this),this.putBtn.onClick(this._onPutClick,this),this.sellBtn.onClick(this._onSellClick,this),this.withdrawBtn.onClick(this._onWithdrawClick,this),this.depositBtn.onClick(this._onDepositClick,this),this.sellOnChainBtn.onClick(this._onSellOnChainClick,this),this.sellOnChainCancelBtn.onClick(this._onSellOnChainCancelClick,this),this.addressCopyBtn.onClick(this._onAddressCopyClick,this),this.oldAddressCopyBtn.onClick(this._onOldAddressCopyClick,this),this.newAddressCopyBtn.onClick(this._onNewAddressCopyClick,this),this.changeContractBtn.onClick(this._onChangeContractClick,this),u.on(d.ITEM_CHANGE,this._onItemChanged,this),u.on(d.ITEM_REMOVE,this._onItemRemove,this)},o.onDestroy=function(){u.off(d.ITEM_CHANGE,this._onItemChanged,this),u.off(d.ITEM_REMOVE,this._onItemRemove,this)},o._onItemChanged=function(t,e){null!=this.mCurInGameData&&this.mCurInGameData.realId===t&&(this.mCurInGameData=m.instance.GetItemByRealId(t),this.itemAmount.text=this.mCurInGameData.curCount.toString())},o._onItemRemove=function(t,e){null!=this.mCurInGameData&&this.mCurInGameData.realId===t&&null!=this._onCloseClick&&this._onCloseClick()},o._onCloseBtnClick=function(){l.PlaySound_UICommonClose(),this._onCloseClick&&this._onCloseClick()},o._onPutClick=function(){if(l.PlaySound_UICommonClick(),f.instance.getFarmObjectCount()>=f.MAX_FARM_OBJECT_COUNT)_.AddTipI18nID_Info("u.2523");else{if(this.mGmCurShowData&&(u.emit(d.FARM_CHANGE_STATE_TO_ITEM_EDITING),u.emit(d.FARM_CHANGE_STATE_TO_ITEM_ADD,this.mGmCurShowData.dataId),u.emit(d.UI_GM_ASSET_CLOSE)),this.mCurInGameData){u.emit(d.FARM_CHANGE_STATE_TO_ITEM_EDITING);var t=m.instance.GetItemByRealId(this.mCurInGameData.realId),e=r.getItemRecord(t.tableId),i=Number.parseInt(e.itemParam1);u.emit(d.FARM_CHANGE_STATE_TO_ITEM_ADD,i)}this._onCloseClick&&this._onCloseClick()}},o._onSellClick=function(){l.PlaySound_UICommonClick(),this.mCurInGameData&&u.emit(d.UI_DETAILS_SHOW_ITEM_SELL,this.mCurInGameData)},o._onWithdrawClick=function(){if(l.PlaySound_UICommonClick(),this.mCurInGameData)if(T.isInLine())_.AddTipI18nID_Info("u.2501");else if(S.instance.FarmLevel<40){var t=I.i18nFormat(r.getI18nUIText("u.2503"),["40"]);_.AddTipText_Info(t)}else u.emit(d.UI_DETAILS_SHOW_ITEM_STAKE,this.mCurInGameData)},o._onDepositClick=function(){var t=i(n().mark((function t(){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(l.PlaySound_UICommonClick(),this.mCurOnChainData){t.next=3;break}return t.abrupt("return");case 3:if(!this.mCurOnChainData.isIsSale){t.next=6;break}return _.AddTipI18nID_Info("u.2544"),t.abrupt("return");case 6:u.emit(d.UI_DETAILS_SHOW_ITEM_STAKE,this.mCurOnChainData);case 7:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),o._onSellOnChainClick=function(){l.PlaySound_UICommonClick(),this.mCurOnChainData&&(this.mCurOnChainData.isIsSale?_.AddTipI18nID_Info("u.2544"):u.emit(d.UI_DETAILS_SHOW_ITEM_MARKET_BUYSELL,this.mCurOnChainData))},o._onSellOnChainCancelClick=function(){var t=i(n().mark((function t(){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(l.PlaySound_UICommonClick(),this.mCurOnChainData){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,g.popConfirm(this.mCurOnChainData.saleOrderID);case 5:t.sent===v.Success&&(u.emit(d.CHAIN_MARKETPLACE_REFRESH_ITEM_DATA),this._onCloseClick&&this._onCloseClick());case 7:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),o._onAddressCopyClick=function(){if(l.PlaySound_UICommonClick(),this.mCurOnChainData){var t=h.instance.beraContractItemV2.contractConfig.address;t&&D.copyTextNew(t).then((function(){_.AddTipI18nID_Success("u.2516")}))}},o._onOldAddressCopyClick=function(){if(l.PlaySound_UICommonClick(),this.mCurOnChainData){var t=h.instance.beraContractItemV1.contractConfig.address;t&&D.copyTextNew(t).then((function(){_.AddTipI18nID_Success("u.2516")}))}},o._onNewAddressCopyClick=function(){if(l.PlaySound_UICommonClick(),this.mCurOnChainData){var t=h.instance.beraContractItemV2.contractConfig.address;t&&D.copyTextNew(t).then((function(){_.AddTipI18nID_Success("u.2516")}))}},o._onChangeContractClick=function(){var t=i(n().mark((function t(){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(l.PlaySound_UICommonClick(),this.mCurOnChainData){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,y.popConfirm(Number(this.mCurOnChainData.tokenID),this.mCurOnChainData.curCount);case 5:t.sent===v.Success&&(u.emit(d.CHAIN_NFT_REFRESH_ITEM_DATA),this._onCloseClick&&this._onCloseClick());case 7:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),o.OnCloseBtnClick=function(t){this._onCloseClick=t},o.RefreshShowData=function(t,e){t&&(this.mIsSaleView=e,t instanceof C?(this.mCurInGameData=t,this.mCurOnChainData=null,this._refreshInGameData()):t instanceof p&&(this.mCurInGameData=null,this.mCurOnChainData=t,t.isOldContract?this._refreshChangeContractData():this._refreshOnChainData()))},o._refreshInGameData=function(){if(this.mCurInGameData){this.stateCtrl.selectedPage="InGame",this.isOnSaleCtrl.selectedIndex=0;var t=r.getItemRecord(this.mCurInGameData.tableId);if(t){this.itemIcon.url=c.getUIFarmItemPath(t.itemIcon),this.itemName.text=t.itemName,this.itemAmount.text=this.mCurInGameData.curCount.toString(),this.itemDesc.text=t.itemDesc,this._refreshItemTypeShow(t),this.itemChainType.visible=!1;var e=486;this.putBtn.visible=!0,this.sellBtn.visible=!1,this.withdrawBtn.visible=!1;var i=0;if(""!==t.itemPrice){var n=t.itemPrice.split("-");n&&2===n.length&&(i=Number.parseInt(n[0]))}i>0&&(this.sellBtn.visible=!0,1===i?this.sellBtn.icon=c.getUIFarmItemPath("Coin_Gold"):2===i&&(this.sellBtn.icon=c.getUIFarmItemPath("Coin_Silver")),e+=70),1===t.isOnChain&&(this.withdrawBtn.visible=!0,e+=70),this.height=e}}},o._refreshItemTypeShow=function(t){if(t.itemType===O.Farm_Object){this.typeCtrl.selectedIndex=0;var e=Number.parseInt(t.itemParam1),i=r.getFarmResRecord(e);if(!i)return;this.itemCapacity.text=I.NumberTransform(i.capacity),this.itemLand.text=i.width+"x"+i.height}else t.itemType===O.Combination&&(this.typeCtrl.selectedIndex=1,this.itemRequireLevel.text="<Lv."+t.itemParam1,Number(t.itemParam1)>S.instance.FarmLevel?this.itemRequireLevel.color=new a(248,245,227):this.itemRequireLevel.color=new a(255,86,58))},o._refreshOnChainData=function(){if(this.mCurOnChainData){this.stateCtrl.selectedPage="OnChain";var t=r.getItemRecord(Number(this.mCurOnChainData.tokenID));if(t){if(this.itemIcon.url=c.getUIFarmItemPath(t.itemIcon),this.itemName.text=t.itemName,this.mCurOnChainData.isIsSale)if(this.mIsSaleView)this.itemAmount.text=this.mCurOnChainData.saleCount.toString();else{var e=this.mCurOnChainData.curCount-this.mCurOnChainData.saleCount;this.itemAmount.text=e.toString()}else this.itemAmount.text=this.mCurOnChainData.curCount.toString();this.itemDesc.text=t.itemDesc,this._refreshItemTypeShow(t),this.itemChainType.visible=!0,this.itemChainType.setChainType(this.mCurOnChainData.chainType);var i=h.instance.beraContractItemV2.contractConfig.address;this.addressValue.text=r.getI18nUIText("u.13429")+" "+D.shortAddress(i,6);var n=486;this.depositBtn.visible=!1,this.sellOnChainBtn.visible=!1,this.sellOnChainCancelBtn.visible=!1,this.mCurOnChainData.isIsSale&&this.mIsSaleView?(this.isOnSaleCtrl.selectedIndex=1,this.sellOnChainCancelBtn.visible=!0):(this.isOnSaleCtrl.selectedIndex=0,this.depositBtn.visible=!0,this.sellOnChainBtn.visible=!0,n+=70),this.height=n}}},o._refreshChangeContractData=function(){if(this.mCurOnChainData){this.stateCtrl.selectedPage="ChangeContract",this.isOnSaleCtrl.selectedIndex=0;var t=r.getItemRecord(Number(this.mCurOnChainData.tokenID));if(t){this.itemIcon.url=c.getUIFarmItemPath(t.itemIcon),this.itemName.text=t.itemName,this.itemAmount.text=this.mCurOnChainData.curCount.toString(),this.itemDesc.text=t.itemDesc,this._refreshItemTypeShow(t),this.itemChainType.visible=!0,this.itemChainType.setChainType(this.mCurOnChainData.chainType);var e=h.instance.beraContractItemV1.contractConfig.address;this.oldAddressValue.text=I.i18nFormat(r.getI18nUIText("u.12731"),[D.shortAddress(e,6)]);var i=h.instance.beraContractItemV2.contractConfig.address;this.newAddressValue.text=I.i18nFormat(r.getI18nUIText("u.12732"),[D.shortAddress(i,6)]),this.height=630}}},o.RefreshShowGMData=function(t){this.mGmCurShowData=t;var e=r.getItemRecord(t.itemId);e&&(this.itemIcon.url=c.getUIFarmItemPath(e.itemIcon),this.itemName.text=e.itemName,this.itemAmount.text="1000",this.itemDesc.text=e.itemDesc,this.stateCtrl.selectedPage="InGame",this.itemCapacity.text=I.NumberTransform(t.capacity),this.itemLand.text=t.width+"x"+t.height,this.sellBtn.visible=!1,this.withdrawBtn.visible=!1,this.height=486)},s}(o)).URL="ui://Details/details_item",s._RF.pop()}}}));

System.register("chunks:///_virtual/ui.details.shop.item.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./table.helper.ts","./net.helper.ts","./sound.helper.ts","./resource.path.tool.ts","./tonweb.mjs_cjs=&original=.js","./enum.farm.coin.res.ts","./logic.tool.ts","./event.dispatcher.ts","./event.name.ts","./enum.item.type.ts","./tonweb.js"],(function(t){"use strict";var i,e,o,n,s,r,h,u,l,a,c,C,d,m,f,_,v,p;return{setters:[function(t){i=t.inheritsLoose,e=t.asyncToGenerator,o=t.regeneratorRuntime},function(t){n=t.cclegacy,s=t.EditBox,r=t.isValid},function(t){h=t.Event,u=t.GComponent},function(t){l=t.TableHelper},function(t){a=t.NetHelper},function(t){c=t.SoundHelper},function(t){C=t.ResourcePathTool},null,function(t){d=t.EFarmCoinRes},function(t){m=t.LogicTool},function(t){f=t.EventDispatcher},function(t){_=t.EventName},function(t){v=t.EItemType},function(t){p=t.default}],execute:function(){n._RF.push({},"a0f7a8vphJCaY6HI/PbYVeK","ui.details.shop.item.view",void 0),t("default",function(t){function n(){for(var i,e=arguments.length,o=new Array(e),n=0;n<e;n++)o[n]=arguments[n];return(i=t.call.apply(t,[this].concat(o))||this).isDecorationCtrl=void 0,i.bgView=void 0,i.closeBtn=void 0,i.itemIcon=void 0,i.itemName=void 0,i.itemCapacity=void 0,i.itemEfficiency=void 0,i.itemLand=void 0,i.itemDesc=void 0,i.reduceBtn=void 0,i.addBtn=void 0,i.maxBtn=void 0,i.buyCount=void 0,i.costSilverBtn=void 0,i.costGoldBtn=void 0,i.MaxCount=10,i.mCurShopID=0,i.mCurShowData=null,i._onCloseClick=null,i.mSilverCostValue=0,i.mGoldCostValue=0,i}i(n,t);var u=n.prototype;return u.onConstruct=function(){this.isDecorationCtrl=this.getController("IsDecoration"),this.closeBtn=this.getChild("ui_WindClose"),this.itemIcon=this.getChild("ui_ItemIcon"),this.itemName=this.getChild("ui_ItemName"),this.itemCapacity=this.getChild("ui_WorkerCapacity"),this.itemEfficiency=this.getChild("ui_WorkerEfficiency"),this.itemLand=this.getChild("ui_LandPlots"),this.itemDesc=this.getChild("ui_ItemDes"),this.reduceBtn=this.getChild("ui_BtnReduce"),this.addBtn=this.getChild("ui_BtnAdd"),this.maxBtn=this.getChild("ui_BtnMax"),this.buyCount=this.getChild("UI_Input_Amount"),this.costSilverBtn=this.getChild("ui_CostSilverBtn"),this.costGoldBtn=this.getChild("ui_CostGoldBtn"),this.buyCount._editBox.inputMode=s.InputMode.DECIMAL,this.buyCount.on(h.TEXT_CHANGE,this._onUseCountTextChanged,this),this.closeBtn.onClick(this._onCloseBtnClick,this),this.reduceBtn.onClick(this._onReduceClick,this),this.addBtn.onClick(this._onAddClick,this),this.maxBtn.onClick(this._onMaxClick,this),this.costSilverBtn.onClick(this._onSilverBuyClick,this),this.costGoldBtn.onClick(this._onGoldBuyClick,this),f.on(_.PLAYERSELF_MONEY_GOLD_CHANGED,this._onGoldCoinChanged,this),f.on(_.PLAYERSELF_MONEY_SILVER_CHANGED,this._onSilverCoinChanged,this)},u.onDestroy=function(){f.off(_.PLAYERSELF_MONEY_GOLD_CHANGED,this._onGoldCoinChanged,this),f.off(_.PLAYERSELF_MONEY_SILVER_CHANGED,this._onSilverCoinChanged,this)},u._onGoldCoinChanged=function(){r(this.node)&&this._refreshGoldCostInfo()},u._onSilverCoinChanged=function(){r(this.node)&&this._refreshSilverCostInfo()},u._onCloseBtnClick=function(){var t=e(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:c.PlaySound_UICommonClose(),this._onCloseClick&&this._onCloseClick();case 2:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),u._onUseCountTextChanged=function(){var t=Number.parseInt(this.buyCount.text);isNaN(t)&&(t=1);var i=this.MaxCount;t<1&&(t=1),t>i&&(t=i),this.buyCount.text=t.toString(),this.refreshBuyBtnList()},u._onReduceClick=function(){if(c.PlaySound_UICommonClick(),this.mCurShowData){var t=Number.parseInt(this.buyCount.text);t<=1||(t--,this.buyCount.text=t.toString(),this.refreshBuyBtnList())}},u._onAddClick=function(){if(c.PlaySound_UICommonClick(),this.mCurShowData){var t=Number.parseInt(this.buyCount.text);t>=this.MaxCount||(t++,this.buyCount.text=t.toString(),this.refreshBuyBtnList())}},u._onMaxClick=function(){if(c.PlaySound_UICommonClick(),this.mCurShowData){var t=this.MaxCount;this.buyCount.text=t.toString(),this.refreshBuyBtnList()}},u._onSilverBuyClick=function(){if(c.PlaySound_UICommonClick(),this.mCurShowData){var t=Number.parseInt(this.buyCount.text);a.purchaseObject(this.mCurShopID,this.mCurShowData.id,t,2)}},u._onGoldBuyClick=function(){if(c.PlaySound_UICommonClick(),this.mCurShowData)if(this.costGoldBtn.IsEnough()){var t=Number.parseInt(this.buyCount.text);a.purchaseObject(this.mCurShopID,this.mCurShowData.id,t,1)}else this._onCloseClick&&this._onCloseClick()},u.OnCloseBtnClick=function(t){this._onCloseClick=t},u.RefreshShowData=function(t,i){this.mCurShowData=t,this.mCurShopID=i;var e=l.getItemRecord(t.itemId);if(e){if(this.itemIcon.url=C.getUIFarmItemPath(e.itemIcon),this.itemName.text=e.itemName,this.itemDesc.text=e.itemDesc,e.itemType===v.Box_Use)0!==t.efficiency||0!==t.prosperity?(this.isDecorationCtrl.selectedIndex=2,this.itemCapacity.text=m.NumberTransform(t.prosperity),this.itemEfficiency.text=Math.floor(t.efficiency/100).toString()):this.isDecorationCtrl.selectedIndex=0;else if(e.itemType===v.Farm_Object){var o=l.getFarmResRecord(Number.parseInt(e.itemParam1));o?(this.isDecorationCtrl.selectedIndex=1,this.itemCapacity.text=m.NumberTransform(o.capacity),this.itemLand.text=o.width+"x"+o.height):this.isDecorationCtrl.selectedIndex=0}else this.isDecorationCtrl.selectedIndex=0;this.buyCount.text="1",this.refreshBuyBtnList()}},u.refreshBuyBtnList=function(){var t=Number.parseInt(this.buyCount.text);this.mSilverCostValue=Number.parseInt(p.utils.fromNano(this.mCurShowData.silverNum))*t,this.mGoldCostValue=Number.parseInt(p.utils.fromNano(this.mCurShowData.goldNum))*t,this.mSilverCostValue>0?(this.costSilverBtn.visible=!0,this._refreshSilverCostInfo()):this.costSilverBtn.visible=!1,this.mGoldCostValue>0?(this.costGoldBtn.visible=!0,this._refreshGoldCostInfo()):this.costGoldBtn.visible=!1;var i=0;this.costGoldBtn.visible&&(i+=this.costGoldBtn.height),this.costSilverBtn.visible&&(i+=this.costSilverBtn.height+10),this.height=450+i},u._refreshSilverCostInfo=function(){var t=e(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.costSilverBtn.setBtnData([d.Token_Silver,this.mSilverCostValue]);case 1:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),u._refreshGoldCostInfo=function(){var t=e(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.costGoldBtn.setBtnData([d.Token_Gold,this.mGoldCostValue]),this.costGoldBtn.touchable=!0,this.costGoldBtn.isDisableCtrl.selectedIndex=0;case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),n}(u)).URL="ui://Details/details_shop_item",n._RF.pop()}}}));

System.register("chunks:///_virtual/ui.details.worker.info.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./sound.helper.ts","./resource.manager.ts"],(function(e){"use strict";var o,t,n,r,i,s,a,c,l;return{setters:[function(e){o=e.inheritsLoose,t=e.asyncToGenerator,n=e.regeneratorRuntime},function(e){r=e.cclegacy,i=e.isValid,s=e.v2},function(e){a=e.GComponent},function(e){c=e.SoundHelper},function(e){l=e.ResourceManager}],execute:function(){r._RF.push({},"c29c2ZICgFFkIoOCHe3+LU1","ui.details.worker.info.view",void 0),e("default",function(e){function r(){for(var o,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(o=e.call.apply(e,[this].concat(n))||this).closeBtn=void 0,o.workerIcon=void 0,o.workerName=void 0,o.workerDesc=void 0,o.mCurShowData=void 0,o._onCloseClick=null,o}o(r,e);var a=r.prototype;return a.onConstruct=function(){this.closeBtn=this.getChild("ui_WindClose"),this.workerIcon=this.getChild("ui_WizardIcon"),this.workerName=this.getChild("ui_WizardName"),this.workerDesc=this.getChild("ui_WizardDes"),this.closeBtn.onClick(this._onCloseBtnClick,this)},a._onCloseBtnClick=function(){var e=t(n().mark((function e(){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c.PlaySound_UICommonClose(),this._onCloseClick&&this._onCloseClick();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),a.OnCloseBtnClick=function(e){this._onCloseClick=e},a.RefreshShowData=function(e){null!=e&&(this.mCurShowData=e,this._loadModelShow(this.mCurShowData.resModelPath),this.workerName.text=this.mCurShowData.workerName,this.workerDesc.text=this.mCurShowData.workerDesc)},a._loadModelShow=function(e){var o=this;l.instance.loadAvatarSkeletonData(e).then((function(e){i(o.node)&&(o.workerIcon&&o.workerIcon.node&&o.workerIcon.node.scale&&o.workerIcon.setScale(2.5,2.5),o.workerIcon.clearContent(),o.workerIcon.skinName=e.defaultSkin,o.workerIcon.animationName="idle",o.workerIcon.setSpine(e.skeletonData,s(30,45)))}))},r}(a)).URL="ui://Details/details_Wizard",r._RF.pop()}}}));

System.register("chunks:///_virtual/ui.details.worker.skill.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./table.helper.ts","./sound.helper.ts"],(function(i){"use strict";var t,e,l,s,n,o,r;return{setters:[function(i){t=i.inheritsLoose,e=i.asyncToGenerator,l=i.regeneratorRuntime},function(i){s=i.cclegacy},function(i){n=i.GComponent},function(i){o=i.TableHelper},function(i){r=i.SoundHelper}],execute:function(){s._RF.push({},"50e1bAbbppEU5Xt+pKhSRVz","ui.details.worker.skill.view",void 0),i("default",function(i){function s(){for(var t,e=arguments.length,l=new Array(e),s=0;s<e;s++)l[s]=arguments[s];return(t=i.call.apply(i,[this].concat(l))||this).closeBtn=void 0,t.skillView=void 0,t.skillName=void 0,t.skillDesc=void 0,t.mCurShowDataID=0,t._onCloseClick=null,t}t(s,i);var n=s.prototype;return n.onConstruct=function(){this.closeBtn=this.getChild("ui_WindClose"),this.skillView=this.getChild("ui_Skill"),this.skillName=this.getChild("ui_MajorSkillsName"),this.skillDesc=this.getChild("ui_MajorSkillsDes"),this.closeBtn.onClick(this._onCloseBtnClick,this)},n._onCloseBtnClick=function(){var i=e(l().mark((function i(){return l().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:r.PlaySound_UICommonClose(),this._onCloseClick&&this._onCloseClick();case 2:case"end":return i.stop()}}),i,this)})));return function(){return i.apply(this,arguments)}}(),n.OnCloseBtnClick=function(i){this._onCloseClick=i},n.RefreshShowData=function(i){if(0!==i){this.mCurShowDataID=i,this.skillView.setSkillData(i,!1);var t=o.getWorkerProfessionSkill(i);t&&(this.skillName.text=t.skillName,this.skillDesc.text=t.skillDesc)}},s}(n)).URL="ui://Details/details_MajorSkills",s._RF.pop()}}}));

System.register("chunks:///_virtual/ui.drag.item.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){"use strict";var n,s,i,a,r,e,g,o,h,u;return{setters:[function(t){n=t.inheritsLoose,s=t.createClass},function(t){i=t.cclegacy,a=t.game,r=t.v2},function(t){e=t.Event,g=t.DragDropManager,o=t.LoaderFillType,h=t.UIConfig,u=t.GButton}],execute:function(){i._RF.push({},"a4bc9dZ3+VEn6HCOmYGkynR","ui.drag.item.view",void 0);t("default",function(t){function i(){for(var n,s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return(n=t.call.apply(t,[this].concat(i))||this).IsPress=!1,n.IsDragging=!1,n.mDragStartPos=null,n.mDelayTime=0,n.mWaitTime=.36,n.IsCanDraggable=!1,n.OnDragBegin=null,n.OnDragEnd=null,n}n(i,t);var u=i.prototype;return u.onConstruct=function(){this.on(e.TOUCH_BEGIN,this._onDragTouchBegin,this),this.on(e.TOUCH_MOVE,this._onDragTouchMove,this),this.on(e.TOUCH_END,this._onDragTouchEnd,this)},u.onUpdate=function(){this.IsCanDraggable&&this.IsPress&&(this.IsDragging||(this.mDelayTime>=this.mWaitTime&&(this.IsDragging=!0,this._StartDrag()),this.mDelayTime+=a.deltaTime))},u._onDragTouchBegin=function(t){this.IsCanDraggable&&(this.mDelayTime=0,this.IsPress=!0,this.IsDragging=!1,null==this.mDragStartPos&&(this.mDragStartPos=r()),this.mDragStartPos.set(t.pos))},u._onDragTouchMove=function(t){if(this.IsCanDraggable){var n=h.touchDragSensitivity;this.mDragStartPos&&Math.abs(this.mDragStartPos.x-t.pos.x)<n&&Math.abs(this.mDragStartPos.y-t.pos.y)<n||(this.IsPress=!1)}},u._onDragTouchEnd=function(){this.IsCanDraggable&&(this.IsPress=!1,this.IsDragging=!1,this.mDragStartPos=null)},u._StartDrag=function(){var t=g.inst.dragAgent;t.setSize(64,64),t.fill=o.ScaleFree,t.on(e.DRAG_END,this._onItemDragEnd,this),g.inst.startDrag(this,this.curItemIcon,this.curItemId),null!=this.OnDragBegin&&this.OnDragBegin()},u._onItemDragEnd=function(t){t.sender.off(e.DRAG_END,this._onItemDragEnd,this),null!=this.OnDragEnd&&this.OnDragEnd()},s(i,[{key:"curItemId",get:function(){return"0"}},{key:"curItemIcon",get:function(){return""}}]),i}(u));i._RF.pop()}}}));

System.register("chunks:///_virtual/ui.event.handler.ts",["cc","./event.dispatcher.ts","./event.name.ts","./ui.float.text.controller.ts","./ui.gm.panel.controller.ts","./ui.login.controller.ts","./ui.main.interface.controller.ts","./ui.map.loading.controller.ts","./ui.tip.controller.ts","./ui.manager.ts","./ui.tip.float.controller.ts","./sound.helper.ts","./ui.asset.controller.ts","./ui.quest.controller.ts","./ui.option.controller.ts","./ui.bag.controller.ts","./ui.shop.controller.ts","./ui.building.place.controller.ts","./ui.building.edit.controller.ts","./ui.gm.farm.edit.controller.ts","./ui.terrain.place.controller.ts","./ui.gm.asset.controller.ts","./ui.mail.controller.ts","./ui.details.controller.ts","./ui.charge.controller.ts","./ui.Invitation.controller.ts","./ui.achievement.controller.ts","./ui.worker.awakening.controller.ts","./ui.worker.awakening.succ.controller.ts","./ui.item.get.controller.ts","./ui.building.worker.controller.ts","./ui.building.upgrade.controller.ts","./ui.building.platform.controller.ts","./ui.open.function.controller.ts","./ui.guide.click.controller.ts","./ui.guide.introduction.controller.ts","./ui.guide.dialog.controller.ts","./ui.guide.farm.controller.ts","./ui.mining.controller.ts","./ui.mining.coming.controller.ts","./ui.guide.skip.controller.ts","./ui.mining.list.controller.ts","./ui.charge.activity.controller.ts","./ui.monthly.card.controller.ts","./ui.charge.activity.details.controller.ts","./ui.quidditch.controller.ts","./ui.quidditch.rule.controller.ts","./ui.quidditch.clearing.controller.ts","./ui.gift.controller.ts","./ui.gift.notcoin.controller.ts","./ui.gift.tabi.controller.ts","./ui.exploration.controller.ts","./ui.exploration.dispatch.controller.ts","./ui.gift.okx.controller.ts","./ui.gift.x.controller.ts","./ui.purification.controller.ts","./ui.wallet.controller.ts","./ui.wallet.create.controller.ts","./ui.gift.tomarket.controller.ts","./ui.wallet.send.list.controller.ts","./ui.wallet.send.detail.controller.ts","./ui.wallet.receive.controller.ts","./ui.wallet.token.detail.controller.ts","./ui.wallet.operate.controller.ts","./ui.wallet.transaction.controller.ts","./ui.gift.faucet.controller.ts","./ui.worker.detail.controller.ts","./ui.worker.upgrade.controller.ts","./ui.worker.major.unlock.controller.ts","./ui.worker.major.retrain.controller.ts","./ui.dapp.controller.ts","./ui.asset.onchain.controller.ts","./ui.worker.detail.onchain.controller.ts","./ui.asset.detail.controller.ts","./ui.worker.market.sell.controller.ts","./ui.worker.market.buy.controller.ts","./ui.dapp.market.controller.ts","./ui.dapp.market.wizard.controller.ts","./ui.dapp.market.wizard.filter.controller.ts","./ui.dapp.market.object.controller.ts","./ui.dapp.market.object.detail.controller.ts","./ui.gift.line.controller.ts","./ui.gift.red.envelope.controller.ts","./ui.dapp.dex.controller.ts","./ui.dapp.dex.swaplist.controller.ts","./ui.token.generation.controller.ts","./ui.token.unlock.controller.ts","./ui.dapp.dex.pool.detail.controller.ts","./ui.dapp.dex.liquidity.add.controller.ts","./ui.dapp.dex.liquidity.remove.controller.ts","./ui.dapp.shop.controller.ts","./ui.dapp.shop.vault.detail.controller.ts","./ui.dapp.validator.controller.ts","./ui.dapp.validator.detail.controller.ts","./ui.chain.order.controller.ts","./ui.combination.controller.ts","./ui.combination.detail.controller.ts","./ui.worker.synthesis.controller.ts","./ui.worker.synthesis.succ.controller.ts"],(function(n){"use strict";var _,o,I,t,E,e,i,U,c,f,O,L,T,A,N,C,l,r,s,a,R,u,S,P,D,M,p,W,G,K,d,H,F,k,g,m,h,B,w,V,X,Y,Q,v,b,y,x,J,j,q,Z,z,$,nn,_n,on,In,tn,En,en,Un,cn,fn,On,Ln,Tn,An,Nn,Cn,ln,rn,sn,an,Rn,un,Sn,Pn,Dn,Mn,pn,Wn,Gn,Kn,dn,Hn,Fn,kn,gn,mn,hn,Bn,wn,Vn,Xn,Yn,Qn,vn,bn,yn;return{setters:[function(n){_=n.cclegacy},function(n){o=n.EventDispatcher},function(n){I=n.EventName},function(n){t=n.UIFloatTextController},function(n){E=n.UIGmPanelController},function(n){e=n.UILoginController},function(n){i=n.UIMainInterfaceController},function(n){U=n.UIMaploadingController},function(n){c=n.UITipController},function(n){f=n.UIManager},function(n){O=n.UITipFloatController},function(n){L=n.SoundHelper},function(n){T=n.UIAssetController},function(n){A=n.UIQuestController},function(n){N=n.UIOptionController},function(n){C=n.UIBagController},function(n){l=n.UIShopController},function(n){r=n.UIBuildingPlaceController},function(n){s=n.UIBuildingEditController},function(n){a=n.UIGmFarmEditController},function(n){R=n.UITerrainPlaceController},function(n){u=n.UIGmAssetController},function(n){S=n.UIMailController},function(n){P=n.UIDetailsController},function(n){D=n.UIChargeController},function(n){M=n.UIInvitationController},function(n){p=n.UIAchievementController},function(n){W=n.UIWorkerAwakeningController},function(n){G=n.UIWorkerAwakeningSuccController},function(n){K=n.UIItemGetController},function(n){d=n.UIBuildingWorkerController},function(n){H=n.UIBuildingUpgradeController},function(n){F=n.UIBuildingPlatformController},function(n){k=n.UIOpenFunctionController},function(n){g=n.UIGuideClickController},function(n){m=n.UIGuideIntroductionController},function(n){h=n.UIGuideDialogController},function(n){B=n.UIGuideFarmController},function(n){w=n.UIMiningController},function(n){V=n.UIMiningComingController},function(n){X=n.UIGuideSkipController},function(n){Y=n.UIMiningListController},function(n){Q=n.UIChargeActivityController},function(n){v=n.UIMonthlyCardController},function(n){b=n.UIChargeActivityDetailsController},function(n){y=n.UIQuidditchController},function(n){x=n.UIQuidditchRuleController},function(n){J=n.UIQuidditchClearingController},function(n){j=n.UIGiftController},function(n){q=n.UIGiftNotcoinController},function(n){Z=n.UIGiftTabiController},function(n){z=n.UIExplorationController},function(n){$=n.UIExplorationDispatchController},function(n){nn=n.UIGiftOKXController},function(n){_n=n.UIGiftXController},function(n){on=n.UIPurificationController},function(n){In=n.UIWalletController},function(n){tn=n.UIWalletCreateController},function(n){En=n.UIGiftTomarketController},function(n){en=n.UIWalletSendListController},function(n){Un=n.UIWalletSendDetailController},function(n){cn=n.UIWalletReceiveController},function(n){fn=n.UIWalletTokenDetailController},function(n){On=n.UIWalletOperateController},function(n){Ln=n.UIWalletTransactionController},function(n){Tn=n.UIGiftFaucetController},function(n){An=n.UIWorkerDetailController},function(n){Nn=n.UIWorkerUpgradeController},function(n){Cn=n.UIWorkerMajorUnlockController},function(n){ln=n.UIWorkerMajorRetrainController},function(n){rn=n.UIDappController},function(n){sn=n.UIAssetOnChainController},function(n){an=n.UIWorkerDetailOnchainController},function(n){Rn=n.UIAssetDetailController},function(n){un=n.UIWorkerMarketSellController},function(n){Sn=n.UIWorkerMarketBuyController},function(n){Pn=n.UIDappMarketController},function(n){Dn=n.UIDappMarketWizardController},function(n){Mn=n.UIDappMarketWizardFilterController},function(n){pn=n.UIDappMarketObjectController},function(n){Wn=n.UIDappMarketObjectDetailController},function(n){Gn=n.UIGiftLineController},function(n){Kn=n.UIGiftRedEnvelopeController},function(n){dn=n.UIDappDexController},function(n){Hn=n.UIDappDexSwapListController},function(n){Fn=n.UITokenGenerationController},function(n){kn=n.UITokenUnlockController},function(n){gn=n.UIDappDexPoolDetailController},function(n){mn=n.UIDappDexLiquidityAddController},function(n){hn=n.UIDappDexLiquidityRemoveController},function(n){Bn=n.UIDappShopController},function(n){wn=n.UIDappShopVaultDetailController},function(n){Vn=n.UIDappValidatorController},function(n){Xn=n.UIDappValidatorDetailController},function(n){Yn=n.UIChainOrderController},function(n){Qn=n.UICombinationController},function(n){vn=n.UICombinationDetailController},function(n){bn=n.UIWorkerSynthesisController},function(n){yn=n.UIWorkerSynthesisSuccController}],execute:function(){function xn(){e_()}function Jn(){i_()}function jn(){}function qn(){}function Zn(){}function zn(){}function $n(){f.instance.openUI(e.CTRL_NAME)}function n_(){f.instance.closeUI(e.CTRL_NAME)}function __(){f.instance.openUI(U.CTRL_NAME)}function o_(){f.instance.closeUI(U.CTRL_NAME)}function I_(){f.instance.isOpen(c.CTRL_NAME)&&(L.PlaySound_UICommonClose(),f.instance.closeUI(c.CTRL_NAME))}function t_(n,_){c.ShowCommonTip(n,_)}function E_(){U.instance&&U.instance.changeNormal()}function e_(){f.instance.openUI(i.CTRL_NAME)}function i_(){f.instance.closeUI(i.CTRL_NAME)}function U_(n){f.instance.openUI(T.CTRL_NAME),T.instance.setTab(n)}function c_(){f.instance.closeUI(T.CTRL_NAME)}function f_(n){f.instance.openUI(sn.CTRL_NAME),sn.instance.setTab(n)}function O_(){f.instance.closeUI(sn.CTRL_NAME)}function L_(n){f.instance.openUI(Rn.CTRL_NAME),Rn.instance.setData(n)}function T_(){f.instance.closeUI(Rn.CTRL_NAME)}function A_(n){f.instance.openUI(A.CTRL_NAME),A.instance.setTab(n)}function N_(){f.instance.closeUI(A.CTRL_NAME)}function C_(){f.instance.openUI(S.CTRL_NAME)}function l_(){f.instance.closeUI(S.CTRL_NAME)}function r_(){f.instance.openUI(N.CTRL_NAME)}function s_(){f.instance.closeUI(N.CTRL_NAME)}function a_(){f.instance.openUI(C.CTRL_NAME)}function R_(){f.instance.closeUI(C.CTRL_NAME)}function u_(){f.instance.openUI(l.CTRL_NAME)}function S_(){f.instance.closeUI(l.CTRL_NAME)}function P_(){t.OpenWaiting()}function D_(){t.CloseWaiting()}function M_(){f.instance.openUI(E.CTRL_NAME)}function p_(){f.instance.closeUI(E.CTRL_NAME)}function W_(){f.instance.openUI(a.CTRL_NAME)}function G_(){f.instance.closeUI(a.CTRL_NAME)}function K_(){f.instance.openUI(u.CTRL_NAME)}function d_(){f.instance.closeUI(u.CTRL_NAME)}function H_(){f.instance.openUI(In.CTRL_NAME)}function F_(){f.instance.closeUI(In.CTRL_NAME)}function k_(){f.instance.openUI(tn.CTRL_NAME)}function g_(){f.instance.closeUI(tn.CTRL_NAME)}function m_(){f.instance.openUI(en.CTRL_NAME)}function h_(){f.instance.closeUI(en.CTRL_NAME)}function B_(n){f.instance.openUI(Un.CTRL_NAME),Un.instance.setData(n)}function w_(){f.instance.closeUI(Un.CTRL_NAME)}function V_(){f.instance.openUI(cn.CTRL_NAME)}function X_(){f.instance.closeUI(cn.CTRL_NAME)}function Y_(n){f.instance.openUI(fn.CTRL_NAME),fn.instance.setData(n)}function Q_(){f.instance.closeUI(fn.CTRL_NAME)}function v_(n){f.instance.isOpen(On.CTRL_NAME)||(f.instance.openUI(On.CTRL_NAME),On.instance.setData(n))}function b_(){f.instance.closeUI(On.CTRL_NAME)}function y_(n,_){f.instance.openUI(Ln.CTRL_NAME),Ln.instance.setData(n,_)}function x_(){f.instance.closeUI(Ln.CTRL_NAME)}function J_(n){f.instance.openUI(d.CTRL_NAME),d.instance.setType(n)}function j_(){f.instance.closeUI(d.CTRL_NAME)}function q_(){f.instance.openUI(H.CTRL_NAME)}function Z_(){f.instance.closeUI(H.CTRL_NAME)}function z_(n){f.instance.openUI(F.CTRL_NAME),F.instance.setBuildingID(n)}function $_(){f.instance.closeUI(F.CTRL_NAME)}function no(n){f.instance.openUI(r.CTRL_NAME),r.instance.setShowBuildId(n)}function _o(){f.instance.closeUI(r.CTRL_NAME)}function oo(n){null===s.instance&&f.instance.openUI(s.CTRL_NAME),s.instance.setEditObject(n)}function Io(){f.instance.closeUI(s.CTRL_NAME)}function to(){f.instance.openUI(R.CTRL_NAME)}function Eo(){f.instance.closeUI(R.CTRL_NAME)}function eo(){f.instance.isOpen(P.CTRL_NAME)&&(L.PlaySound_UICommonClose(),f.instance.closeUI(P.CTRL_NAME))}function io(n,_){void 0===_&&(_=!1),P.ShowItemDetails(n,_)}function Uo(n){P.ShowItemGMDetails(n)}function co(n,_){P.showItemInfoDetails(n,_)}function fo(n){P.ShowItemUseDetails(n)}function Oo(n){P.ShowItemSellDetails(n)}function Lo(n){P.ShowItemRecipeDetails(n)}function To(n){P.ShowItemStakeDetails(n)}function Ao(n){P.ShowItemMarketBuySellDetails(n)}function No(n,_){P.ShowShopItemDetails(n,_)}function Co(n){P.ShowWorkerInfoDetails(n)}function lo(n){P.ShowWorkerSkillDetails(n)}function ro(n,_){P.ShowChargeDetails(n,_)}function so(){P.ShowInfoProsperityDetails()}function ao(){P.ShowInfoWorkerDetails()}function Ro(){f.instance.isOpen(O.CTRL_NAME)&&f.instance.closeUI(O.CTRL_NAME)}function uo(n,_,o){O.ShowTextTip(n,_,o)}function So(n,_,o){O.ShowPriceTip(n,_,o)}function Po(){f.instance.openUI(D.CTRL_NAME)}function Do(){f.instance.closeUI(D.CTRL_NAME)}function Mo(){f.instance.openUI(Q.CTRL_NAME)}function po(){f.instance.closeUI(Q.CTRL_NAME)}function Wo(){f.instance.isOpen(b.CTRL_NAME)&&(L.PlaySound_UICommonClose(),f.instance.closeUI(b.CTRL_NAME))}function Go(n,_){b.ShowSkinDetails(n,_)}function Ko(n,_){b.ShowDecorationDetails(n,_)}function Ho(){f.instance.openUI(v.CTRL_NAME)}function Fo(){f.instance.closeUI(v.CTRL_NAME)}function ko(){f.instance.openUI(M.CTRL_NAME)}function go(){f.instance.closeUI(M.CTRL_NAME)}function mo(){f.instance.openUI(p.CTRL_NAME)}function ho(){f.instance.closeUI(p.CTRL_NAME)}function Bo(n){f.instance.openUI(An.CTRL_NAME),An.instance.setWorker(n)}function wo(){f.instance.closeUI(An.CTRL_NAME)}function Vo(n){f.instance.openUI(an.CTRL_NAME),an.instance.setWorker(n)}function Xo(){f.instance.closeUI(an.CTRL_NAME)}function Yo(n){f.instance.openUI(Nn.CTRL_NAME),Nn.instance.setWorker(n)}function Qo(){f.instance.closeUI(Nn.CTRL_NAME)}function vo(n){f.instance.openUI(W.CTRL_NAME),W.instance.setWorker(n)}function bo(){f.instance.closeUI(W.CTRL_NAME)}function yo(n){f.instance.openUI(G.CTRL_NAME),G.instance.setWorker(n)}function xo(){f.instance.closeUI(G.CTRL_NAME)}function Jo(n){f.instance.openUI(Cn.CTRL_NAME),Cn.instance.setWorker(n)}function jo(){f.instance.closeUI(Cn.CTRL_NAME)}function qo(n){f.instance.openUI(ln.CTRL_NAME),ln.instance.setWorker(n)}function Zo(){f.instance.closeUI(ln.CTRL_NAME)}function zo(n){f.instance.openUI(un.CTRL_NAME),un.instance.setWorker(n)}function $o(){f.instance.closeUI(un.CTRL_NAME)}function nI(n){f.instance.openUI(Sn.CTRL_NAME),Sn.instance.setWorker(n)}function _I(){f.instance.closeUI(Sn.CTRL_NAME)}function oI(n){f.instance.openUI(bn.CTRL_NAME),bn.instance.setWorker(n)}function II(){f.instance.closeUI(bn.CTRL_NAME)}function tI(n,_,o,I){f.instance.openUI(yn.CTRL_NAME),yn.instance.setWorker(n,_,o,I)}function EI(){f.instance.closeUI(yn.CTRL_NAME)}function eI(n){f.instance.openUI(K.CTRL_NAME),K.instance.setData(n)}function iI(){f.instance.closeUI(K.CTRL_NAME)}function UI(n){f.instance.openUI(k.CTRL_NAME),k.instance.setData(n)}function cI(){f.instance.closeUI(k.CTRL_NAME)}function fI(n){f.instance.openUI(w.CTRL_NAME),w.instance.setData(n)}function OI(){f.instance.closeUI(w.CTRL_NAME)}function LI(){f.instance.openUI(V.CTRL_NAME)}function TI(){f.instance.closeUI(V.CTRL_NAME)}function AI(){f.instance.openUI(Y.CTRL_NAME)}function NI(){f.instance.closeUI(Y.CTRL_NAME)}function CI(){f.instance.openUI(y.CTRL_NAME)}function lI(){f.instance.closeUI(y.CTRL_NAME)}function rI(){f.instance.openUI(x.CTRL_NAME)}function sI(){f.instance.closeUI(x.CTRL_NAME)}function aI(){f.instance.openUI(J.CTRL_NAME)}function RI(){f.instance.closeUI(J.CTRL_NAME)}function uI(){f.instance.openUI(j.CTRL_NAME)}function SI(){f.instance.closeUI(j.CTRL_NAME)}function PI(){f.instance.openUI(_n.CTRL_NAME)}function DI(){f.instance.closeUI(_n.CTRL_NAME)}function MI(){f.instance.openUI(En.CTRL_NAME)}function pI(){f.instance.closeUI(En.CTRL_NAME)}function WI(){f.instance.openUI(q.CTRL_NAME)}function GI(){f.instance.closeUI(q.CTRL_NAME)}function KI(){f.instance.openUI(Z.CTRL_NAME)}function dI(){f.instance.closeUI(Z.CTRL_NAME)}function HI(){f.instance.openUI(nn.CTRL_NAME)}function FI(){f.instance.closeUI(nn.CTRL_NAME)}function kI(){f.instance.openUI(Tn.CTRL_NAME)}function gI(){f.instance.closeUI(Tn.CTRL_NAME)}function mI(){f.instance.openUI(Gn.CTRL_NAME)}function hI(){f.instance.closeUI(Gn.CTRL_NAME)}function BI(){f.instance.openUI(Kn.CTRL_NAME)}function wI(){f.instance.closeUI(Kn.CTRL_NAME)}function VI(){f.instance.openUI(z.CTRL_NAME)}function XI(){f.instance.closeUI(z.CTRL_NAME)}function YI(){f.instance.openUI($.CTRL_NAME)}function QI(){f.instance.closeUI($.CTRL_NAME)}function vI(){f.instance.openUI(on.CTRL_NAME)}function bI(){f.instance.closeUI(on.CTRL_NAME)}function yI(){f.instance.openUI(rn.CTRL_NAME)}function xI(){f.instance.closeUI(rn.CTRL_NAME)}function JI(){f.instance.openUI(Pn.CTRL_NAME)}function jI(){f.instance.closeUI(Pn.CTRL_NAME)}function qI(){f.instance.openUI(Dn.CTRL_NAME)}function ZI(){f.instance.closeUI(Dn.CTRL_NAME)}function zI(n){f.instance.openUI(Mn.CTRL_NAME),Mn.instance.setData(n)}function $I(){f.instance.closeUI(Mn.CTRL_NAME)}function nt(){f.instance.openUI(pn.CTRL_NAME)}function _t(){f.instance.closeUI(pn.CTRL_NAME)}function ot(n){f.instance.openUI(Wn.CTRL_NAME),Wn.instance.setData(n)}function It(){f.instance.closeUI(Wn.CTRL_NAME)}function tt(n){f.instance.openUI(dn.CTRL_NAME),dn.instance.setTab(n)}function Et(){f.instance.closeUI(dn.CTRL_NAME)}function et(n){f.instance.openUI(mn.CTRL_NAME),mn.instance.setPoolData(n)}function it(){f.instance.closeUI(mn.CTRL_NAME)}function Ut(n){f.instance.openUI(hn.CTRL_NAME),hn.instance.setPoolData(n)}function ct(){f.instance.closeUI(hn.CTRL_NAME)}function ft(n,_){f.instance.openUI(Hn.CTRL_NAME),Hn.instance.setData(n,_)}function Ot(){f.instance.closeUI(Hn.CTRL_NAME)}function Lt(n){f.instance.openUI(gn.CTRL_NAME),gn.instance.setData(n)}function Tt(){f.instance.closeUI(gn.CTRL_NAME)}function At(n){f.instance.openUI(Bn.CTRL_NAME),Bn.instance.setTab(n)}function Nt(){f.instance.closeUI(Bn.CTRL_NAME)}function Ct(n){f.instance.openUI(wn.CTRL_NAME),wn.instance.setVaultData(n)}function lt(){f.instance.closeUI(wn.CTRL_NAME)}function rt(n){f.instance.openUI(Vn.CTRL_NAME),Vn.instance.setTab(n)}function st(){f.instance.closeUI(Vn.CTRL_NAME)}function at(n){f.instance.openUI(Xn.CTRL_NAME),Xn.instance.setValidatorData(n)}function Rt(){f.instance.closeUI(Xn.CTRL_NAME)}function ut(){f.instance.openUI(Fn.CTRL_NAME)}function St(){f.instance.closeUI(Fn.CTRL_NAME)}function Pt(){f.instance.openUI(kn.CTRL_NAME)}function Dt(){f.instance.closeUI(kn.CTRL_NAME)}function Mt(){f.instance.openUI(Yn.CTRL_NAME)}function pt(){f.instance.closeUI(Yn.CTRL_NAME)}function Wt(){f.instance.openUI(Qn.CTRL_NAME)}function Gt(){f.instance.closeUI(Qn.CTRL_NAME)}function Kt(n){f.instance.openUI(vn.CTRL_NAME),vn.instance.setData(n)}function dt(){f.instance.closeUI(vn.CTRL_NAME)}function Ht(n){f.instance.openUI(m.CTRL_NAME),m.instance.setData(n)}function Ft(){f.instance.closeUI(m.CTRL_NAME)}function kt(n){f.instance.openUI(g.CTRL_NAME),g.instance.setData(n)}function gt(){f.instance.closeUI(g.CTRL_NAME)}function mt(n){f.instance.openUI(h.CTRL_NAME),h.instance.setData(n)}function ht(){f.instance.closeUI(h.CTRL_NAME)}function Bt(n){f.instance.openUI(B.CTRL_NAME),B.instance.setData(n)}function wt(){f.instance.closeUI(B.CTRL_NAME)}function Vt(){f.instance.openUI(X.CTRL_NAME)}function Xt(){f.instance.closeUI(X.CTRL_NAME)}n({registerUIEvents:function(){o.on(I.UI_MAIN_ALL_OPEN,xn),o.on(I.UI_MAIN_ALL_CLOSE,Jn),o.on(I.UI_FIGHT_ALL_OPEN,jn),o.on(I.UI_FIGHT_ALL_CLOSE,qn),o.on(I.UI_LOGIN_OPEN,$n),o.on(I.UI_LOGIN_CLOSE,n_),o.on(I.UI_MAP_LOADING_OPEN,__),o.on(I.UI_MAP_LOADING_CLOSE,o_),o.on(I.UI_MAP_LOADING_TO_NORMAL,E_),o.on(I.UI_MAIN_INTERFACE_OPEN,e_),o.on(I.UI_MAIN_INTERFACE_CLOSE,i_),o.on(I.UI_ASSET_OPEN,U_),o.on(I.UI_ASSET_CLOSE,c_),o.on(I.UI_ASSET_ONCHAIN_OPEN,f_),o.on(I.UI_ASSET_ONCHAIN_CLOSE,O_),o.on(I.UI_ASSET_DETAIL_OPEN,L_),o.on(I.UI_ASSET_DETAIL_CLOSE,T_),o.on(I.UI_QUEST_OPEN,A_),o.on(I.UI_QUEST_CLOSE,N_),o.on(I.UI_MAIL_OPEN,C_),o.on(I.UI_MAIL_CLOSE,l_),o.on(I.UI_OPTION_OPEN,r_),o.on(I.UI_OPTION_CLOSE,s_),o.on(I.UI_BAG_OPEN,a_),o.on(I.UI_BAG_CLOSE,R_),o.on(I.UI_SHOP_OPEN,u_),o.on(I.UI_SHOP_CLOSE,S_),o.on(I.UI_GM_FARM_EDIT_OPEN,W_),o.on(I.UI_GM_FARM_EDIT_CLOSE,G_),o.on(I.UI_GM_ASSET_OPEN,K_),o.on(I.UI_GM_ASSET_CLOSE,d_),o.on(I.UI_WALLET_OPEN,H_),o.on(I.UI_WALLET_CLOSE,F_),o.on(I.UI_WALLET_CREATE_OPEN,k_),o.on(I.UI_WALLET_CREATE_CLOSE,g_),o.on(I.UI_WALLET_SEND_LIST_OPEN,m_),o.on(I.UI_WALLET_SEND_LIST_CLOSE,h_),o.on(I.UI_WALLET_SEND_DETAIL_OPEN,B_),o.on(I.UI_WALLET_SEND_DETAIL_CLOSE,w_),o.on(I.UI_WALLET_RECEIVE_OPEN,V_),o.on(I.UI_WALLET_RECEIVE_CLOSE,X_),o.on(I.UI_WALLET_TOKEN_DETAIL_OPEN,Y_),o.on(I.UI_WALLET_TOKEN_DETAIL_CLOSE,Q_),o.on(I.UI_WALLET_OPERATE_OPEN,v_),o.on(I.UI_WALLET_OPERATE_CLOSE,b_),o.on(I.UI_WALLET_TRANSACTION_OPEN,y_),o.on(I.UI_WALLET_TRANSACTION_CLOSE,x_),o.on(I.UI_DETAILS_CLOSE,eo),o.on(I.UI_DETAILS_SHOW_ITEM,io),o.on(I.UI_DETAILS_SHOW_ITEM_GM,Uo),o.on(I.UI_DETAILS_SHOW_ITEM_INFO,co),o.on(I.UI_DETAILS_SHOW_ITEM_USE,fo),o.on(I.UI_DETAILS_SHOW_ITEM_SELL,Oo),o.on(I.UI_DETAILS_SHOW_ITEM_RECIPE,Lo),o.on(I.UI_DETAILS_SHOW_ITEM_STAKE,To),o.on(I.UI_DETAILS_SHOW_ITEM_MARKET_BUYSELL,Ao),o.on(I.UI_DETAILS_SHOW_SHOP_ITEM,No),o.on(I.UI_DETAILS_SHOW_WORKER_INFO,Co),o.on(I.UI_DETAILS_SHOW_WORKER_SKILL,lo),o.on(I.UI_DETAILS_SHOW_CHARGE,ro),o.on(I.UI_DETAILS_SHOW_INFO_PROSPERITY,so),o.on(I.UI_DETAILS_SHOW_INFO_WORKER,ao),o.on(I.UI_FLOAT_TEXT_OPEN_WAITING,P_),o.on(I.UI_FLOAT_TEXT_CLOSE_WAITING,D_),o.on(I.UI_GM_PANEL_OPEN,M_),o.on(I.UI_GM_PANEL_CLOSE,p_),o.on(I.FIGHT_STATE_ENTER,Zn),o.on(I.FIGHT_STATE_EXIT,zn),o.on(I.UI_TIP_CLOSE,I_),o.on(I.UI_TIP_SHOW_COMMON,t_),o.on(I.UI_BUILDING_WORKER_OPEN,J_),o.on(I.UI_BUILDING_WORKER_CLOSE,j_),o.on(I.UI_BUILDING_UPGRADE_OPEN,q_),o.on(I.UI_BUILDING_UPGRADE_CLOSE,Z_),o.on(I.UI_BUILDING_PLATFORM_OPEN,z_),o.on(I.UI_BUILDING_PLATFORM_CLOSE,$_),o.on(I.UI_BUILDING_PLACE_OPEN,no),o.on(I.UI_BUILDING_PLACE_CLOSE,_o),o.on(I.UI_BUILDING_EDIT_OPEN,oo),o.on(I.UI_BUILDING_EDIT_CLOSE,Io),o.on(I.UI_TERRAIN_PLACE_OPEN,to),o.on(I.UI_TERRAIN_PLACE_CLOSE,Eo),o.on(I.UI_TIP_FLOAT_CLOSE,Ro),o.on(I.UI_TIP_FLOAT_SHOW_TEXT,uo),o.on(I.UI_TIP_FLOAT_SHOW_PRICE,So),o.on(I.UI_CHARGE_OPEN,Po),o.on(I.UI_CHARGE_CLOSE,Do),o.on(I.UI_CHARGE_ACTIVITY_OPEN,Mo),o.on(I.UI_CHARGE_ACTIVITY_CLOSE,po),o.on(I.UI_CHARGE_ACTIVITY_DETAILS_CLOSE,Wo),o.on(I.UI_CHARGE_ACTIVITY_DETAILS_SHOW_SKIN,Go),o.on(I.UI_CHARGE_ACTIVITY_DETAILS_SHOW_DECORATION,Ko),o.on(I.UI_MONTHLY_CARD_OPEN,Ho),o.on(I.UI_MONTHLY_CARD_CLOSE,Fo),o.on(I.UI_INVITATION_OPEN,ko),o.on(I.UI_INVITATION_CLOSE,go),o.on(I.UI_ACHIEVEMENT_OPEN,mo),o.on(I.UI_ACHIEVEMENT_CLOSE,ho),o.on(I.UI_WORKER_DETAIL_OPEN,Bo),o.on(I.UI_WORKER_DETAIL_CLOSE,wo),o.on(I.UI_WORKER_DETAIL_ONCHAIN_OPEN,Vo),o.on(I.UI_WORKER_DETAIL_ONCHAIN_CLOSE,Xo),o.on(I.UI_WORKER_UPGRADE_OPEN,Yo),o.on(I.UI_WORKER_UPGRADE_CLOSE,Qo),o.on(I.UI_WORKER_AWAKENING_OPEN,vo),o.on(I.UI_WORKER_AWAKENING_CLOSE,bo),o.on(I.UI_WORKER_AWAKENING_SUCC_OPEN,yo),o.on(I.UI_WORKER_AWAKENING_SUCC_CLOSE,xo),o.on(I.UI_WORKER_MAJOR_UNLOCK_OPEN,Jo),o.on(I.UI_WORKER_MAJOR_UNLOCK_CLOSE,jo),o.on(I.UI_WORKER_MAJOR_RETRAIN_OPEN,qo),o.on(I.UI_WORKER_MAJOR_RETRAIN_CLOSE,Zo),o.on(I.UI_WORKER_MARKET_SELL_OPEN,zo),o.on(I.UI_WORKER_MARKET_SELL_CLOSE,$o),o.on(I.UI_WORKER_MARKET_BUY_OPEN,nI),o.on(I.UI_WORKER_MARKET_BUY_CLOSE,_I),o.on(I.UI_WORKER_SYNTHESIS_OPEN,oI),o.on(I.UI_WORKER_SYNTHESIS_CLOSE,II),o.on(I.UI_WORKER_SYNTHESIS_SUCC_OPEN,tI),o.on(I.UI_WORKER_SYNTHESIS_SUCC_CLOSE,EI),o.on(I.UI_ITEM_GET_OPEN,eI),o.on(I.UI_ITEM_GET_CLOSE,iI),o.on(I.UI_OPEN_FUNCTION_OPEN,UI),o.on(I.UI_OPEN_FUNCTION_CLOSE,cI),o.on(I.UI_MINING_OPEN,fI),o.on(I.UI_MINING_CLOSE,OI),o.on(I.UI_MINING_COMING_OPEN,LI),o.on(I.UI_MINING_COMING_CLOSE,TI),o.on(I.UI_MINING_LIST_OPEN,AI),o.on(I.UI_MINING_LIST_CLOSE,NI),o.on(I.UI_QUIDDITCH_OPEN,CI),o.on(I.UI_QUIDDITCH_CLOSE,lI),o.on(I.UI_QUIDDITCH_RULE_OPEN,rI),o.on(I.UI_QUIDDITCH_RULE_CLOSE,sI),o.on(I.UI_QUIDDITCH_CLEARING_OPEN,aI),o.on(I.UI_QUIDDITCH_CLEARING_CLOSE,RI),o.on(I.UI_GIFT_OPEN,uI),o.on(I.UI_GIFT_CLOSE,SI),o.on(I.UI_GIFT_X_OPEN,PI),o.on(I.UI_GIFT_X_CLOSE,DI),o.on(I.UI_GIFT_TOMARKET_OPEN,MI),o.on(I.UI_GIFT_TOMARKET_CLOSE,pI),o.on(I.UI_GIFT_NOTCOIN_OPEN,WI),o.on(I.UI_GIFT_NOTCOIN_CLOSE,GI),o.on(I.UI_GIFT_TABI_OPEN,KI),o.on(I.UI_GIFT_TABI_CLOSE,dI),o.on(I.UI_GIFT_OKX_OPEN,HI),o.on(I.UI_GIFT_OKX_CLOSE,FI),o.on(I.UI_GIFT_FAUCET_OPEN,kI),o.on(I.UI_GIFT_FAUCET_CLOSE,gI),o.on(I.UI_GIFT_LINE_OPEN,mI),o.on(I.UI_GIFT_LINE_CLOSE,hI),o.on(I.UI_GIFT_RED_ENVELOPE_OPEN,BI),o.on(I.UI_GIFT_RED_ENVELOPE_CLOSE,wI),o.on(I.UI_EXPLORATION_OPEN,VI),o.on(I.UI_EXPLORATION_CLOSE,XI),o.on(I.UI_EXPLORATION_DISPATCH_OPEN,YI),o.on(I.UI_EXPLORATION_DISPATCH_CLOSE,QI),o.on(I.UI_PURIFICATION_OPEN,vI),o.on(I.UI_PURIFICATION_CLOSE,bI),o.on(I.UI_DAPP_OPEN,yI),o.on(I.UI_DAPP_CLOSE,xI),o.on(I.UI_DAPP_MARKET_OPEN,JI),o.on(I.UI_DAPP_MARKET_CLOSE,jI),o.on(I.UI_DAPP_MARKET_WIZARD_OPEN,qI),o.on(I.UI_DAPP_MARKET_WIZARD_CLOSE,ZI),o.on(I.UI_DAPP_MARKET_WIZARD_FILTER_OPEN,zI),o.on(I.UI_DAPP_MARKET_WIZARD_FILTER_CLOSE,$I),o.on(I.UI_DAPP_MARKET_OBJECT_OPEN,nt),o.on(I.UI_DAPP_MARKET_OBJECT_CLOSE,_t),o.on(I.UI_DAPP_MARKET_OBJECT_DETAIL_OPEN,ot),o.on(I.UI_DAPP_MARKET_OBJECT_DETAIL_CLOSE,It),o.on(I.UI_DAPP_DEX_OPEN,tt),o.on(I.UI_DAPP_DEX_CLOSE,Et),o.on(I.UI_DAPP_DEX_LIQUIDITY_ADD_OPEN,et),o.on(I.UI_DAPP_DEX_LIQUIDITY_ADD_CLOSE,it),o.on(I.UI_DAPP_DEX_LIQUIDITY_REMOVE_OPEN,Ut),o.on(I.UI_DAPP_DEX_LIQUIDITY_REMOVE_CLOSE,ct),o.on(I.UI_DAPP_DEX_SWAPLIST_OPEN,ft),o.on(I.UI_DAPP_DEX_SWAPLIST_CLOSE,Ot),o.on(I.UI_DAPP_DEX_POOL_DETAIL_OPEN,Lt),o.on(I.UI_DAPP_DEX_POOL_DETAIL_CLOSE,Tt),o.on(I.UI_DAPP_SHOP_OPEN,At),o.on(I.UI_DAPP_SHOP_CLOSE,Nt),o.on(I.UI_DAPP_SHOP_VAULT_DETAIL_OPEN,Ct),o.on(I.UI_DAPP_SHOP_VAULT_DETAIL_CLOSE,lt),o.on(I.UI_DAPP_VALIDATOR_OPEN,rt),o.on(I.UI_DAPP_VALIDATOR_CLOSE,st),o.on(I.UI_DAPP_VALIDATOR_DETAIL_OPEN,at),o.on(I.UI_DAPP_VALIDATOR_DETAIL_CLOSE,Rt),o.on(I.UI_TOKEN_GENERATION_OPEN,ut),o.on(I.UI_TOKEN_GENERATION_CLOSE,St),o.on(I.UI_TOKEN_UNLOCK_OPEN,Pt),o.on(I.UI_TOKEN_UNLOCK_CLOSE,Dt),o.on(I.UI_CHAIN_ORDER_OPEN,Mt),o.on(I.UI_CHAIN_ORDER_CLOSE,pt),o.on(I.UI_COMBINATION_OPEN,Wt),o.on(I.UI_COMBINATION_CLOSE,Gt),o.on(I.UI_COMBINATION_DETAIL_OPEN,Kt),o.on(I.UI_COMBINATION_DETAIL_CLOSE,dt),o.on(I.UI_NEW_GUIDE_INTRODUCTION_OPEN,Ht),o.on(I.UI_NEW_GUIDE_INTRODUCTION_CLOSE,Ft),o.on(I.UI_NEW_GUIDE_CLICK_OPEN,kt),o.on(I.UI_NEW_GUIDE_CLICK_CLOSE,gt),o.on(I.UI_NEW_GUIDE_DIALOG_OPEN,mt),o.on(I.UI_NEW_GUIDE_DIALOG_CLOSE,ht),o.on(I.UI_NEW_GUIDE_FARM_OPEN,Bt),o.on(I.UI_NEW_GUIDE_FARM_CLOSE,wt),o.on(I.UI_NEW_GUIDE_SKIP_OPEN,Vt),o.on(I.UI_NEW_GUIDE_SKIP_CLOSE,Xt)},unregisterUIEvents:function(){o.off(I.UI_MAIN_ALL_OPEN,xn),o.off(I.UI_MAIN_ALL_CLOSE,Jn),o.off(I.UI_FIGHT_ALL_OPEN,jn),o.off(I.UI_FIGHT_ALL_CLOSE,qn),o.off(I.UI_LOGIN_OPEN,$n),o.off(I.UI_LOGIN_CLOSE,n_),o.off(I.UI_MAP_LOADING_OPEN,__),o.off(I.UI_MAP_LOADING_CLOSE,o_),o.off(I.UI_MAP_LOADING_TO_NORMAL,E_),o.off(I.UI_MAIN_INTERFACE_OPEN,e_),o.off(I.UI_MAIN_INTERFACE_CLOSE,i_),o.off(I.UI_ASSET_OPEN,U_),o.off(I.UI_ASSET_CLOSE,c_),o.off(I.UI_ASSET_ONCHAIN_OPEN,f_),o.off(I.UI_ASSET_ONCHAIN_CLOSE,O_),o.off(I.UI_ASSET_DETAIL_OPEN,L_),o.off(I.UI_ASSET_DETAIL_CLOSE,T_),o.off(I.UI_QUEST_OPEN,A_),o.off(I.UI_QUEST_CLOSE,N_),o.off(I.UI_MAIL_OPEN,C_),o.off(I.UI_MAIL_CLOSE,l_),o.off(I.UI_OPTION_OPEN,r_),o.off(I.UI_OPTION_CLOSE,s_),o.off(I.UI_BAG_OPEN,a_),o.off(I.UI_BAG_CLOSE,R_),o.off(I.UI_SHOP_OPEN,u_),o.off(I.UI_SHOP_CLOSE,S_),o.off(I.UI_GM_FARM_EDIT_OPEN,W_),o.off(I.UI_GM_FARM_EDIT_CLOSE,G_),o.off(I.UI_GM_ASSET_OPEN,K_),o.off(I.UI_GM_ASSET_CLOSE,d_),o.off(I.UI_WALLET_OPEN,H_),o.off(I.UI_WALLET_CLOSE,F_),o.off(I.UI_WALLET_CREATE_OPEN,k_),o.off(I.UI_WALLET_CREATE_CLOSE,g_),o.off(I.UI_WALLET_SEND_LIST_OPEN,m_),o.off(I.UI_WALLET_SEND_LIST_CLOSE,h_),o.off(I.UI_WALLET_SEND_DETAIL_OPEN,B_),o.off(I.UI_WALLET_SEND_DETAIL_CLOSE,w_),o.off(I.UI_WALLET_RECEIVE_OPEN,V_),o.off(I.UI_WALLET_RECEIVE_CLOSE,X_),o.off(I.UI_WALLET_TOKEN_DETAIL_OPEN,Y_),o.off(I.UI_WALLET_TOKEN_DETAIL_CLOSE,Q_),o.off(I.UI_WALLET_OPERATE_OPEN,v_),o.off(I.UI_WALLET_OPERATE_CLOSE,b_),o.off(I.UI_WALLET_TRANSACTION_OPEN,y_),o.off(I.UI_WALLET_TRANSACTION_CLOSE,x_),o.off(I.UI_DETAILS_CLOSE,eo),o.off(I.UI_DETAILS_SHOW_ITEM,io),o.off(I.UI_DETAILS_SHOW_ITEM_GM,Uo),o.off(I.UI_DETAILS_SHOW_ITEM_INFO,co),o.off(I.UI_DETAILS_SHOW_ITEM_USE,fo),o.off(I.UI_DETAILS_SHOW_ITEM_SELL,Oo),o.off(I.UI_DETAILS_SHOW_ITEM_RECIPE,Lo),o.off(I.UI_DETAILS_SHOW_ITEM_STAKE,To),o.off(I.UI_DETAILS_SHOW_ITEM_MARKET_BUYSELL,Ao),o.off(I.UI_DETAILS_SHOW_SHOP_ITEM,No),o.off(I.UI_DETAILS_SHOW_WORKER_INFO,Co),o.off(I.UI_DETAILS_SHOW_WORKER_SKILL,lo),o.off(I.UI_DETAILS_SHOW_CHARGE,ro),o.off(I.UI_DETAILS_SHOW_INFO_PROSPERITY,so),o.off(I.UI_DETAILS_SHOW_INFO_WORKER,ao),o.off(I.UI_FLOAT_TEXT_OPEN_WAITING,P_),o.off(I.UI_FLOAT_TEXT_CLOSE_WAITING,D_),o.off(I.UI_GM_PANEL_OPEN,M_),o.off(I.UI_GM_PANEL_CLOSE,p_),o.off(I.UI_TIP_CLOSE,I_),o.off(I.UI_TIP_SHOW_COMMON,t_),o.off(I.UI_BUILDING_WORKER_OPEN,J_),o.off(I.UI_BUILDING_WORKER_CLOSE,j_),o.off(I.UI_BUILDING_UPGRADE_OPEN,q_),o.off(I.UI_BUILDING_UPGRADE_CLOSE,Z_),o.off(I.UI_BUILDING_PLATFORM_OPEN,z_),o.off(I.UI_BUILDING_PLATFORM_CLOSE,$_),o.off(I.UI_BUILDING_PLACE_OPEN,no),o.off(I.UI_BUILDING_PLACE_CLOSE,_o),o.off(I.UI_BUILDING_EDIT_OPEN,oo),o.off(I.UI_BUILDING_EDIT_CLOSE,Io),o.off(I.UI_TERRAIN_PLACE_OPEN,to),o.off(I.UI_TERRAIN_PLACE_CLOSE,Eo),o.off(I.UI_TIP_FLOAT_CLOSE,Ro),o.off(I.UI_TIP_FLOAT_SHOW_TEXT,uo),o.off(I.UI_TIP_FLOAT_SHOW_PRICE,So),o.off(I.UI_CHARGE_OPEN,Po),o.off(I.UI_CHARGE_CLOSE,Do),o.off(I.UI_CHARGE_ACTIVITY_OPEN,Mo),o.off(I.UI_CHARGE_ACTIVITY_CLOSE,po),o.off(I.UI_CHARGE_ACTIVITY_DETAILS_CLOSE,Wo),o.off(I.UI_CHARGE_ACTIVITY_DETAILS_SHOW_SKIN,Go),o.off(I.UI_CHARGE_ACTIVITY_DETAILS_SHOW_DECORATION,Ko),o.off(I.UI_MONTHLY_CARD_OPEN,Ho),o.off(I.UI_MONTHLY_CARD_CLOSE,Fo),o.off(I.UI_INVITATION_OPEN,ko),o.off(I.UI_INVITATION_CLOSE,go),o.off(I.UI_ACHIEVEMENT_OPEN,mo),o.off(I.UI_ACHIEVEMENT_CLOSE,ho),o.off(I.UI_WORKER_DETAIL_OPEN,Bo),o.off(I.UI_WORKER_DETAIL_CLOSE,wo),o.off(I.UI_WORKER_DETAIL_ONCHAIN_OPEN,Vo),o.off(I.UI_WORKER_DETAIL_ONCHAIN_CLOSE,Xo),o.off(I.UI_WORKER_UPGRADE_OPEN,Yo),o.off(I.UI_WORKER_UPGRADE_CLOSE,Qo),o.off(I.UI_WORKER_AWAKENING_OPEN,vo),o.off(I.UI_WORKER_AWAKENING_CLOSE,bo),o.off(I.UI_WORKER_AWAKENING_SUCC_OPEN,yo),o.off(I.UI_WORKER_AWAKENING_SUCC_CLOSE,xo),o.off(I.UI_WORKER_MAJOR_UNLOCK_OPEN,Jo),o.off(I.UI_WORKER_MAJOR_UNLOCK_CLOSE,jo),o.off(I.UI_WORKER_MAJOR_RETRAIN_OPEN,qo),o.off(I.UI_WORKER_MAJOR_RETRAIN_CLOSE,Zo),o.off(I.UI_WORKER_MARKET_SELL_OPEN,zo),o.off(I.UI_WORKER_MARKET_SELL_CLOSE,$o),o.off(I.UI_WORKER_MARKET_BUY_OPEN,nI),o.off(I.UI_WORKER_MARKET_BUY_CLOSE,_I),o.off(I.UI_WORKER_SYNTHESIS_OPEN,oI),o.off(I.UI_WORKER_SYNTHESIS_CLOSE,II),o.off(I.UI_WORKER_SYNTHESIS_SUCC_OPEN,tI),o.off(I.UI_WORKER_SYNTHESIS_SUCC_CLOSE,EI),o.off(I.UI_ITEM_GET_OPEN,eI),o.off(I.UI_ITEM_GET_CLOSE,iI),o.off(I.UI_OPEN_FUNCTION_OPEN,UI),o.off(I.UI_OPEN_FUNCTION_CLOSE,cI),o.off(I.UI_MINING_OPEN,fI),o.off(I.UI_MINING_CLOSE,OI),o.off(I.UI_MINING_COMING_OPEN,LI),o.off(I.UI_MINING_COMING_CLOSE,TI),o.off(I.UI_MINING_LIST_OPEN,AI),o.off(I.UI_MINING_LIST_CLOSE,NI),o.off(I.UI_QUIDDITCH_OPEN,CI),o.off(I.UI_QUIDDITCH_CLOSE,lI),o.off(I.UI_QUIDDITCH_RULE_OPEN,rI),o.off(I.UI_QUIDDITCH_RULE_CLOSE,sI),o.off(I.UI_QUIDDITCH_CLEARING_OPEN,aI),o.off(I.UI_QUIDDITCH_CLEARING_CLOSE,RI),o.off(I.UI_GIFT_OPEN,uI),o.off(I.UI_GIFT_CLOSE,SI),o.off(I.UI_GIFT_X_OPEN,PI),o.off(I.UI_GIFT_X_CLOSE,DI),o.off(I.UI_GIFT_TOMARKET_OPEN,MI),o.off(I.UI_GIFT_TOMARKET_CLOSE,pI),o.off(I.UI_GIFT_NOTCOIN_OPEN,WI),o.off(I.UI_GIFT_NOTCOIN_CLOSE,GI),o.off(I.UI_GIFT_TABI_OPEN,KI),o.off(I.UI_GIFT_TABI_CLOSE,dI),o.off(I.UI_GIFT_OKX_OPEN,HI),o.off(I.UI_GIFT_OKX_CLOSE,FI),o.off(I.UI_GIFT_FAUCET_OPEN,kI),o.off(I.UI_GIFT_FAUCET_CLOSE,gI),o.off(I.UI_GIFT_LINE_OPEN,mI),o.off(I.UI_GIFT_LINE_CLOSE,hI),o.off(I.UI_GIFT_RED_ENVELOPE_OPEN,BI),o.off(I.UI_GIFT_RED_ENVELOPE_CLOSE,wI),o.off(I.UI_EXPLORATION_OPEN,VI),o.off(I.UI_EXPLORATION_CLOSE,XI),o.off(I.UI_EXPLORATION_DISPATCH_OPEN,YI),o.off(I.UI_EXPLORATION_DISPATCH_CLOSE,QI),o.off(I.UI_PURIFICATION_OPEN,vI),o.off(I.UI_PURIFICATION_CLOSE,bI),o.off(I.UI_DAPP_OPEN,yI),o.off(I.UI_DAPP_CLOSE,xI),o.off(I.UI_DAPP_MARKET_OPEN,JI),o.off(I.UI_DAPP_MARKET_CLOSE,jI),o.off(I.UI_DAPP_MARKET_WIZARD_OPEN,qI),o.off(I.UI_DAPP_MARKET_WIZARD_CLOSE,ZI),o.off(I.UI_DAPP_MARKET_WIZARD_FILTER_OPEN,zI),o.off(I.UI_DAPP_MARKET_WIZARD_FILTER_CLOSE,$I),o.off(I.UI_DAPP_MARKET_OBJECT_OPEN,nt),o.off(I.UI_DAPP_MARKET_OBJECT_CLOSE,_t),o.off(I.UI_DAPP_MARKET_OBJECT_DETAIL_OPEN,ot),o.off(I.UI_DAPP_MARKET_OBJECT_DETAIL_CLOSE,It),o.off(I.UI_DAPP_DEX_OPEN,tt),o.off(I.UI_DAPP_DEX_CLOSE,Et),o.off(I.UI_DAPP_DEX_SWAPLIST_OPEN,ft),o.off(I.UI_DAPP_DEX_SWAPLIST_CLOSE,Ot),o.off(I.UI_DAPP_DEX_LIQUIDITY_ADD_OPEN,et),o.off(I.UI_DAPP_DEX_LIQUIDITY_ADD_CLOSE,it),o.off(I.UI_DAPP_DEX_LIQUIDITY_REMOVE_OPEN,Ut),o.off(I.UI_DAPP_DEX_LIQUIDITY_REMOVE_CLOSE,ct),o.off(I.UI_DAPP_DEX_POOL_DETAIL_OPEN,Lt),o.off(I.UI_DAPP_DEX_POOL_DETAIL_CLOSE,Tt),o.off(I.UI_DAPP_SHOP_OPEN,At),o.off(I.UI_DAPP_SHOP_CLOSE,Nt),o.off(I.UI_DAPP_SHOP_VAULT_DETAIL_OPEN,Ct),o.off(I.UI_DAPP_SHOP_VAULT_DETAIL_CLOSE,lt),o.off(I.UI_DAPP_VALIDATOR_OPEN,rt),o.off(I.UI_DAPP_VALIDATOR_CLOSE,st),o.off(I.UI_DAPP_VALIDATOR_DETAIL_OPEN,at),o.off(I.UI_DAPP_VALIDATOR_DETAIL_CLOSE,Rt),o.off(I.UI_TOKEN_GENERATION_OPEN,ut),o.off(I.UI_TOKEN_GENERATION_CLOSE,St),o.off(I.UI_TOKEN_UNLOCK_OPEN,Pt),o.off(I.UI_TOKEN_UNLOCK_CLOSE,Dt),o.off(I.UI_CHAIN_ORDER_OPEN,Mt),o.off(I.UI_CHAIN_ORDER_CLOSE,pt),o.off(I.UI_COMBINATION_OPEN,Wt),o.off(I.UI_COMBINATION_CLOSE,Gt),o.off(I.UI_COMBINATION_DETAIL_OPEN,Kt),o.off(I.UI_COMBINATION_DETAIL_CLOSE,dt),o.off(I.UI_NEW_GUIDE_INTRODUCTION_OPEN,Ht),o.off(I.UI_NEW_GUIDE_INTRODUCTION_CLOSE,Ft),o.off(I.UI_NEW_GUIDE_CLICK_OPEN,kt),o.off(I.UI_NEW_GUIDE_CLICK_CLOSE,gt),o.off(I.UI_NEW_GUIDE_DIALOG_OPEN,mt),o.off(I.UI_NEW_GUIDE_DIALOG_CLOSE,ht),o.off(I.UI_NEW_GUIDE_FARM_OPEN,Bt),o.off(I.UI_NEW_GUIDE_FARM_CLOSE,wt),o.off(I.UI_NEW_GUIDE_SKIP_OPEN,Vt),o.off(I.UI_NEW_GUIDE_SKIP_CLOSE,Xt)}}),_._RF.push({},"0b581kL5QBJQaAYrjmzzdi/","ui.event.handler",void 0),_._RF.pop()}}}));

System.register("chunks:///_virtual/ui.exploration.btn.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./resource.manager.ts"],(function(o){"use strict";var e,n,t,r,a,i,c,s;return{setters:[function(o){e=o.inheritsLoose},function(o){n=o.cclegacy,t=o._decorator,r=o.isValid,a=o.v2,i=o.sp},function(o){c=o.GButton},function(o){s=o.ResourceManager}],execute:function(){var l,d;n._RF.push({},"f56f5qBz25BZZDty28vwWEs","ui.exploration.btn.view",void 0);var u=t.ccclass;o("default",u("UIExplorationBtnView")(((d=function(o){function n(){var e;return(e=o.call(this)||this).stateCtrl=void 0,e.workerIcon1=void 0,e.workerIcon2=void 0,e.monsterIcon=void 0,e}e(n,o);var t=n.prototype;return t.onConstruct=function(){this.stateCtrl=this.getController("State"),this.workerIcon1=this.getChild("ui_WorkerIcon"),this.workerIcon2=this.getChild("ui_WorkerIcon2"),this.monsterIcon=this.getChild("ui_MonsterIcon")},t.setBtnState=function(o){o?(this.stateCtrl.selectedIndex=0,this._loadModelShow1("MaxSpell/MaxSpell","attack"),this._loadModelShow2("ShadowPaws/ShadowPaws","attack"),this._loadModelShow3("monster","death")):(this.stateCtrl.selectedIndex=1,this._loadModelShow3("monster","idle"))},t._loadModelShow1=function(o,e){var n=this;s.instance.loadAvatarSkeletonData(o).then((function(o){r(n.node)&&(n.workerIcon1&&n.workerIcon1.node&&n.workerIcon1.node.scale&&n.workerIcon1.setScale(1.5,1.5),n.workerIcon1.clearContent(),n.workerIcon1.skinName=o.defaultSkin,n.workerIcon1.animationName=e,n.workerIcon1.loop=!0,n.workerIcon1.setSpine(o.skeletonData,a(16,26)))}))},t._loadModelShow2=function(o,e){var n=this;s.instance.loadAvatarSkeletonData(o).then((function(o){r(n.node)&&(n.workerIcon2&&n.workerIcon2.node&&n.workerIcon2.node.scale&&n.workerIcon2.setScale(-1.5,1.5),n.workerIcon2.clearContent(),n.workerIcon2.skinName=o.defaultSkin,n.workerIcon2.animationName=e,n.workerIcon2.loop=!0,n.workerIcon2.setSpine(o.skeletonData,a(16,26)))}))},t._loadModelShow3=function(o,e){var n=this;s.instance.loadFarmRes(o,(function(o){if(r(n.node)){var t=o.data,c=null==t?void 0:t.getComponentInChildren(i.Skeleton);t&&(n.monsterIcon&&n.monsterIcon.node&&n.monsterIcon.node.scale&&n.monsterIcon.setScale(1.5,1.5),n.monsterIcon.clearContent(),n.monsterIcon.skinName=c.defaultSkin,n.monsterIcon.loop=!0,n.monsterIcon.animationName=e,n.monsterIcon.setSpine(c.skeletonData,a(16,26)))}}))},n}(c)).URL="ui://MainInterface/btn_function_exploration",l=d))||l);n._RF.pop()}}}));

System.register("chunks:///_virtual/ui.exploration.content.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./event.dispatcher.ts","./event.name.ts","./net.helper.ts","./sound.helper.ts","./time.system.ts","./ui.float.text.controller.ts"],(function(t){"use strict";var i,e,o,n,s,r,a,l,h,u;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy,o=t._decorator},function(t){n=t.GComponent},function(t){s=t.EventDispatcher},function(t){r=t.EventName},function(t){a=t.NetHelper},function(t){l=t.SoundHelper},function(t){h=t.TimeSystem},function(t){u=t.UIFloatTextController}],execute:function(){var c,p;e._RF.push({},"0b37aPI8DdBKaSrMyStCbvN","ui.exploration.content.view",void 0);var m=o.ccclass;t("default",m("UIExplorationContentView")(((p=function(t){function e(){var i;return(i=t.call(this)||this).stateCtrl=void 0,i.dispatchCount=void 0,i.startBtn=void 0,i.explorationProgress=void 0,i.explorationTime=void 0,i.claimBtn=void 0,i.mExplorationData=null,i}i(e,t);var o=e.prototype;return o.onConstruct=function(){this.stateCtrl=this.getController("State"),this.dispatchCount=this.getChild("ui_RemainingValue"),this.startBtn=this.getChild("ui_BtnDispatch"),this.explorationProgress=this.getChild("ui_Progress"),this.explorationTime=this.explorationProgress.getChild("ui_Time"),this.claimBtn=this.getChild("ui_BtnClaim"),this.startBtn.onClick(this._onStartClick,this),this.claimBtn.onClick(this._onClaimClick,this)},o._onStartClick=function(){if(l.PlaySound_UICommonClick(),null!=this.mExplorationData){for(var t=!1,i=0;i<this.mExplorationData.workerList.length;i++)"0"!==this.mExplorationData.workerList[i]&&(t=!0);t?a.explorationStart():u.AddTipI18nID_Info("u.2536")}},o._onClaimClick=function(){l.PlaySound_UICommonClick(),a.explorationHarvest()},o.updateView=function(){if(null!=this.mExplorationData){var t=h.instance.getTimestamp(),i=this.mExplorationData.finishTime-t;i>=0?(this.explorationProgress.value=t,this.explorationTime.text=h.formatTimeString(i,!1)):(this.explorationTime.text="00:00",s.emit(r.EXPLORATION_ALL_FINISH))}},o.setExplorationData=function(t,i){if(this.mExplorationData=t,this.dispatchCount.text=i.toString(),null==t||t.explorationID<=0)this.stateCtrl.selectedIndex=0,this.startBtn.enabled=i>0;else{var e=h.instance.getTimestamp();if(e<t.finishTime){this.stateCtrl.selectedIndex=1,this.explorationProgress.min=t.startTime,this.explorationProgress.max=t.finishTime,this.explorationProgress.value=e;var o=t.finishTime-e;this.explorationTime.text=o>=0?h.formatTimeString(o,!1):"00:00"}else this.stateCtrl.selectedIndex=1,this.explorationProgress.min=0,this.explorationProgress.max=1,this.explorationProgress.value=1,this.explorationTime.text="00:00"}},e}(n)).URL="ui://Exploration/RulesGp",c=p))||c);e._RF.pop()}}}));

System.register("chunks:///_virtual/ui.exploration.controller.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./event.dispatcher.ts","./event.name.ts","./table.manager.ts","./model.farm.manager.ts","./model.worker.manager.ts","./net.helper.ts","./sound.helper.ts","./time.system.ts","./ui.base.controller.ts","./enum.exploration.state.ts","./exploration.fsm.ts"],(function(t){"use strict";var n,i,e,r,o,a,s,c,u,h,l,p,f,E,m,w,_,x,v,F,d;return{setters:[function(t){n=t.inheritsLoose,i=t.createClass,e=t.asyncToGenerator,r=t.regeneratorRuntime},function(t){o=t.cclegacy,a=t._decorator,s=t.input,c=t.Input,u=t.KeyCode},function(t){h=t.UIPackage},function(t){l=t.EventDispatcher},function(t){p=t.EventName},function(t){f=t.TableManager},function(t){E=t.ModelFarmManager},function(t){m=t.ModelWorkerManager},function(t){w=t.NetHelper},function(t){_=t.SoundHelper},function(t){x=t.TimeSystem},function(t){v=t.UIBaseController},function(t){F=t.EExplorationState},function(t){d=t.ExplorationStateFSM}],execute:function(){var g,D;o._RF.push({},"9c0c2EzQOhF4YhG4wj3CZsq","ui.exploration.controller",void 0);var I=a.ccclass;t("UIExplorationController",I("UIExplorationController")(((D=function(t){function o(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).mFguiPkgName="Exploration",n.mFguiMainViewName="Main",n._view=null,n.mExplorationFSM=null,n.mExplorationCount=0,n.mExplorationData=null,n.mFinishWaitTime=2,n.mFinishDelayTime=0,n}n(o,t);var a=o.prototype;return a._addEvents=function(){t.prototype._addEvents.call(this),s.on(c.EventType.KEY_DOWN,this._onKeyDown,this),l.on(p.EXPLORATION_DATA_INIT,this._onExplorationDataChanged,this),l.on(p.EXPLORATION_DISPATCH_WORKER_LIST,this._onExplorationDispatchList,this),l.on(p.EXPLORATION_MOVE_FINISH,this._onExplorationMoveFinish,this),l.on(p.EXPLORATION_FIGHT_FINISH,this._onExplorationFightFinish,this),l.on(p.EXPLORATION_ALL_FINISH,this._onExplorationAllFinish,this)},a._removeEvents=function(){t.prototype._removeEvents.call(this),s.off(c.EventType.KEY_DOWN,this._onKeyDown,this),l.off(p.EXPLORATION_DATA_INIT,this._onExplorationDataChanged,this),l.off(p.EXPLORATION_DISPATCH_WORKER_LIST,this._onExplorationDispatchList,this),l.off(p.EXPLORATION_MOVE_FINISH,this._onExplorationMoveFinish,this),l.off(p.EXPLORATION_FIGHT_FINISH,this._onExplorationFightFinish,this),l.off(p.EXPLORATION_ALL_FINISH,this._onExplorationAllFinish,this)},a._onKeyDown=function(t){switch(t.keyCode){case u.ESCAPE:this._onCloseClick()}},a._onExplorationDataChanged=function(){null!=this._view&&(this.mExplorationData=E.instance.ExplorationData,this.mExplorationCount=E.instance.ExplorationCount,this._refreshExplorationData())},a._onExplorationDispatchList=function(t){null!=this._view&&1===t&&this._loadExplorationUI()},a._onExplorationMoveFinish=function(){null!=this._view&&this.mExplorationFSM.triggerState(F.Fight)},a._onExplorationFightFinish=function(){null!=this._view&&this.mExplorationFSM.triggerState(F.Finish)},a._onExplorationAllFinish=function(){null!=this._view&&this._refreshExplorationData()},a.onLoad=function(){o._instance=this,this._startLoadPkg(this.mFguiPkgName),this._initExplorationFSM()},a._initExplorationFSM=function(){this.mExplorationFSM=new d,this.mExplorationFSM.initStateFSM(this)},a.onDestroy=function(){t.prototype.onDestroy.call(this),o._instance=null},a.closeUI=function(){t.prototype.closeUI.call(this)},a.update=function(t){null!==this._view&&null!=this.mExplorationFSM&&this.mExplorationFSM.fsmUpdate(t)},a._onLoadUIFinish=function(){t.prototype._onLoadUIFinish.call(this),this._view=h.createObject(this.mFguiPkgName,this.mFguiMainViewName).asCom,this._addUIToRoot(this._view),this._view.makeFullScreen(),this._view.closeBtn.onClick(this._onCloseClick,this),this._view.awardBtn.onClick(this._onGetAwardClick,this),this.mExplorationData=E.instance.ExplorationData,this.mExplorationCount=E.instance.ExplorationCount,this._checkDispatchWorkerExsit(),this._loadExplorationUI(),this._refreshExplorationData()},a._checkDispatchWorkerExsit=function(){if(this.mExplorationData)for(var t=0;t<this.mExplorationData.workerList.length;t++){if("0"!==this.mExplorationData.workerList[t])m.instance.getWorkerDataByID(this.mExplorationData.workerList[t])||(this.mExplorationData.workerList[t]="0")}},a._loadExplorationUI=function(){if(this.mExplorationData){for(var t=0,n=0;n<this.mExplorationData.workerList.length;n++){var i=m.instance.getWorkerDataByID(this.mExplorationData.workerList[n]);i&&(t+=i.getAttr_Prosperity())}for(var e=null,r=f.instance.tableFarmExploration.getFarmExplorationArray(),o=0;o<r.length;o++)if(t>=r[o].lowerLimit&&t<=r[o].upperLimit){e=r[o];break}e&&(this._view.sceneName.text=e.sceneName)}},a._refreshExplorationData=function(){null==this.mExplorationData||this.mExplorationData.explorationID<=0?this.mExplorationFSM.triggerState(F.Init):x.instance.getTimestamp()<this.mExplorationData.finishTime?this.mExplorationFSM.triggerState(F.Ready):this.mExplorationFSM.triggerState(F.Clearing)},a._onCloseClick=function(){var t=e(r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:_.PlaySound_UICommonClose(),l.emit(p.UI_EXPLORATION_CLOSE);case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),a._onGetAwardClick=function(){var t=e(r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:_.PlaySound_UICommonClick(),w.explorationHarvest();case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),a.stateInitOnEnter=function(){var t=e(r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this._view.sceneView.setSceneData(F.Init,this.mExplorationData.workerList),this._view.contentView.setExplorationData(this.mExplorationData,this.mExplorationCount),this._view.awardView.visible=!1;case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),a.stateInitOnExit=function(){var t=e(r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),a.stateReadyOnEnter=function(){var t=e(r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this._view.sceneView.setSceneData(F.Ready,this.mExplorationData.workerList),this._view.contentView.setExplorationData(this.mExplorationData,this.mExplorationCount),this._view.awardView.visible=!1,this.mExplorationFSM.triggerState(F.Move);case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),a.stateReadyOnExit=function(){var t=e(r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),a.stateMoveOnEnter=function(){var t=e(r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this._view.sceneView.refreshMoveState(F.Move);case 1:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),a.stateMoveOnUpdate=function(){var t=e(r().mark((function t(n){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this._view.sceneView.updateMove(n),this._view.contentView.updateView();case 2:case"end":return t.stop()}}),t,this)})));return function(n){return t.apply(this,arguments)}}(),a.stateMoveOnExit=function(){var t=e(r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),a.stateFightOnEnter=function(){var t=e(r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this._view.sceneView.refreshFightState(F.Fight);case 1:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),a.stateFightOnUpdate=function(){var t=e(r().mark((function t(n){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this._view.sceneView.updateFight(n),this._view.contentView.updateView();case 2:case"end":return t.stop()}}),t,this)})));return function(n){return t.apply(this,arguments)}}(),a.stateFightOnExit=function(){var t=e(r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),a.stateFinishOnEnter=function(){var t=e(r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this._view.sceneView.refreshFinishState(F.Finish),this.mFinishDelayTime=0;case 2:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),a.stateFinishOnUpdate=function(){var t=e(r().mark((function t(n){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.mFinishDelayTime>=this.mFinishWaitTime&&this.mExplorationFSM.triggerState(F.Move),this.mFinishDelayTime+=n,this._view.contentView.updateView();case 3:case"end":return t.stop()}}),t,this)})));return function(n){return t.apply(this,arguments)}}(),a.stateFinishOnExit=function(){var t=e(r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),a.stateClearingOnEnter=function(){var t=e(r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this._view.sceneView.setSceneData(F.Clearing,this.mExplorationData.workerList),this._view.contentView.setExplorationData(this.mExplorationData,this.mExplorationCount),this._view.awardView.visible=!0;case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),a.stateClearingOnExit=function(){var t=e(r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this._view.awardView.visible=!1;case 1:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),i(o,null,[{key:"instance",get:function(){return this._instance}}]),o}(v)).CTRL_NAME="UIExplorationController",D._instance=null,g=D))||g);o._RF.pop()}}}));

System.register("chunks:///_virtual/ui.exploration.dispatch.controller.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./event.dispatcher.ts","./event.name.ts","./new.guide.manager.ts","./table.helper.ts","./model.farm.manager.ts","./model.worker.manager.ts","./net.helper.ts","./farm.client.protocol.ts","./sound.helper.ts","./ui.float.text.controller.ts","./ui.base.controller.ts"],(function(t){"use strict";var e,i,s,n,o,r,a,h,c,l,_,p,u,k,D,d,f,m,I,W,L,E;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass,s=t.asyncToGenerator,n=t.regeneratorRuntime},function(t){o=t.cclegacy,r=t._decorator,a=t.input,h=t.Input,c=t.KeyCode},function(t){l=t.UIPackage,_=t.Event},function(t){p=t.EventDispatcher},function(t){u=t.EventName},function(t){k=t.NewGuideManager},function(t){D=t.TableHelper},function(t){d=t.ModelFarmManager},function(t){f=t.ModelWorkerManager},function(t){m=t.NetHelper},function(t){I=t.enumWorkerState},function(t){W=t.SoundHelper},function(t){L=t.UIFloatTextController},function(t){E=t.UIBaseController}],execute:function(){var C,v;o._RF.push({},"22062yW8GpKpbtUf6Z2mbS3","ui.exploration.dispatch.controller",void 0);var T=r.ccclass;t("UIExplorationDispatchController",T("UIExplorationDispatchController")(((v=function(t){function o(){for(var e,i=arguments.length,s=new Array(i),n=0;n<i;n++)s[n]=arguments[n];return(e=t.call.apply(t,[this].concat(s))||this).mFguiPkgName="Exploration",e.mFguiMainViewName="Main_DispatchList",e._view=null,e.mWorkerData=[],e.mDispatchWorker=[],e}e(o,t);var r=o.prototype;return r._addEvents=function(){t.prototype._addEvents.call(this),a.on(h.EventType.KEY_DOWN,this._onKeyDown,this),p.on(u.WORKER_LIST_ADD_ITEM,this._onWorkerListDataChanged,this),p.on(u.WORKER_LIST_REMOVE_ITEM,this._onWorkerListDataChanged,this),p.on(u.WORKER_LIST_UPDATE_ITEM,this._onWorkerListDataChanged,this),p.on(u.WORKER_LIST_LEVELUP_ITEM,this._onWorkerListDataChanged,this),p.on(u.EXPLORATION_DISPATCH_WORKER_LIST,this._onExplorationDispatchList,this)},r._removeEvents=function(){t.prototype._removeEvents.call(this),a.off(h.EventType.KEY_DOWN,this._onKeyDown,this),p.off(u.WORKER_LIST_ADD_ITEM,this._onWorkerListDataChanged,this),p.off(u.WORKER_LIST_REMOVE_ITEM,this._onWorkerListDataChanged,this),p.off(u.WORKER_LIST_UPDATE_ITEM,this._onWorkerListDataChanged,this),p.off(u.WORKER_LIST_LEVELUP_ITEM,this._onWorkerListDataChanged,this),p.off(u.EXPLORATION_DISPATCH_WORKER_LIST,this._onExplorationDispatchList,this)},r._onKeyDown=function(t){switch(t.keyCode){case c.ESCAPE:if(k.instance.IsInGuideScene)return;this._onCloseClick()}},r._onWorkerListDataChanged=function(t){t&&null!=this._view&&this._refreshWorkerDispatchList(!1)},r._onExplorationDispatchList=function(t){null!=this._view&&(1===t?this._onCloseClick():L.AddTipI18nID_Failed("u.2537"))},r.onLoad=function(){o._instance=this,this._startLoadPkg(this.mFguiPkgName)},r.onDestroy=function(){t.prototype.onDestroy.call(this),o._instance=null},r.closeUI=function(){t.prototype.closeUI.call(this)},r.update=function(){this._view},r._onLoadUIFinish=function(){t.prototype._onLoadUIFinish.call(this),this._view=l.createObject(this.mFguiPkgName,this.mFguiMainViewName).asCom,this._addUIToRoot(this._view),this._view.makeFullScreen(),this._view.closeBtn.onClick(this._onCloseClick,this),this._view.dispatchBtn.onClick(this._onDispatchClick,this),this._view.dispatchList.itemRenderer=this.renderWorkerDispatchItem.bind(this),this._view.dispatchList.setVirtual(),this._view.dispatchList.on(_.CLICK_ITEM,this._onDispatchItemClick,this),this._initData()},r._initData=function(){var t=s(n().mark((function t(){var e,i,s;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this._refreshWorkerDispatchList(),this.mDispatchWorker=[],!(e=d.instance.ExplorationData)){t.next=12;break}i=0;case 5:if(!(i<e.workerList.length)){t.next=12;break}if("0"!==e.workerList[i]){t.next=8;break}return t.abrupt("continue",9);case 8:this.mDispatchWorker.push(e.workerList[i]);case 9:i++,t.next=5;break;case 12:for(s=0;s<this.mWorkerData.length;s++)this.mDispatchWorker.includes(this.mWorkerData[s].WorkerData.workerID)&&this._view.dispatchList.addSelection(this._view.dispatchList.itemIndexToChildIndex(s),!1);this._view.dispatchCount.text=this.mDispatchWorker.length+"/"+o.MAX_EXPLORATION_DISPATCH_COUNT;case 14:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),r._onCloseClick=function(){W.PlaySound_UICommonClose(),p.emit(u.UI_EXPLORATION_DISPATCH_CLOSE)},r._onDispatchClick=function(){W.PlaySound_UICommonClick(),this._checkDispatchWorkerExsit(),m.explorationWorkerList(this.mDispatchWorker)},r._checkDispatchWorkerExsit=function(){for(var t=[],e=0;e<this.mDispatchWorker.length;e++){f.instance.getWorkerDataByID(this.mDispatchWorker[e])||t.push(this.mDispatchWorker[e])}for(var i=0;i<t.length;i++)this.mDispatchWorker.splice(this.mDispatchWorker.indexOf(t[i]),1)},r._onDispatchItemClick=function(t){W.PlaySound_UICommonClick();var e=t.WorkerID;if(t.selected){if(this.mDispatchWorker.length>=o.MAX_EXPLORATION_DISPATCH_COUNT)return t.selected=!1,void L.AddTipI18nID_Info("u.2502");this.mDispatchWorker.includes(e)||this.mDispatchWorker.push(e)}else this.mDispatchWorker.includes(e)&&this.mDispatchWorker.splice(this.mDispatchWorker.indexOf(e),1);this._view.dispatchCount.text=this.mDispatchWorker.length+"/"+o.MAX_EXPLORATION_DISPATCH_COUNT},r._refreshWorkerDispatchList=function(t){void 0===t&&(t=!0),this._view.isNoneCtrl.selectedIndex=2;var e=f.instance.getWorkerList();this.mWorkerData=[];for(var i=0;i<e.length;i++)e[i].WorkerData.roleLevel<D.getAllParamRecord(122).paramValue||e[i].WorkerData.roleState!==I.eWorkerState_Null&&e[i].WorkerData.roleState!==I.eWorkerState_3||this.mWorkerData.push(e[i]);var s=this.mWorkerData.length;this._view.isNoneCtrl.selectedIndex=s<=0?1:0,this._view.dispatchList.numItems!==s?this._view.dispatchList.numItems=s:this._view.dispatchList.refreshVirtualList(),t&&this._view.dispatchList.scrollToView(0)},r.renderWorkerDispatchItem=function(t,e){t>=this.mWorkerData.length||e.setWorkerData(this.mWorkerData[t])},i(o,null,[{key:"instance",get:function(){return this._instance}}]),o}(E)).CTRL_NAME="UIExplorationDispatchController",v.MAX_EXPLORATION_DISPATCH_COUNT=6,v._instance=null,C=v))||C);o._RF.pop()}}}));

System.register("chunks:///_virtual/ui.exploration.dispatch.list.item.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./event.dispatcher.ts","./event.name.ts","./new.guide.manager.ts","./resource.manager.ts","./table.helper.ts","./sound.helper.ts","./logic.tool.ts"],(function(e){"use strict";var t,r,o,i,n,a,s,l,h,k,u,c,w,d;return{setters:[function(e){t=e.inheritsLoose,r=e.createClass},function(e){o=e.cclegacy,i=e._decorator,n=e.isValid,a=e.v2},function(e){s=e.GButton},function(e){l=e.EventDispatcher},function(e){h=e.EventName},function(e){k=e.NewGuideManager},function(e){u=e.ResourceManager},function(e){c=e.TableHelper},function(e){w=e.SoundHelper},function(e){d=e.LogicTool}],execute:function(){var v,S;o._RF.push({},"7a9505Di6VB56Tvf9yswwA3","ui.exploration.dispatch.list.item.view",void 0);var m=i.ccclass;e("default",m("UIExplorationDispatchListItemView")(((S=function(e){function o(){var t;return(t=e.call(this)||this).btnCtrl=void 0,t.workerIcon=void 0,t.workerTokenID=void 0,t.workerStar=void 0,t.workerLevel=void 0,t.workerMajor=void 0,t.workerSkill=void 0,t.mCurShowData=void 0,t}t(o,e);var i=o.prototype;return i.onConstruct=function(){this.btnCtrl=this.getController("button"),this.workerIcon=this.getChild("ui_WorkerIcon"),this.workerTokenID=this.getChild("ui_WorkerID"),this.workerStar=this.getChild("ui_AwakenStar"),this.workerLevel=this.getChild("ui_WorkerLevel"),this.workerMajor=this.getChild("ui_PatternBg"),this.workerSkill=this.getChild("ui_MajorSkillList"),this.onClick(this._onExplorationWorkerItemClick,this)},i._onExplorationWorkerItemClick=function(){w.PlaySound_UICommonClick(),null!=this.mCurShowData&&(l.emit(h.UI_WORKER_ITEM_SELECTED,this.mCurShowData.WorkerData.workerID),k.instance.IsInGuideScene&&k.instance.NextStep())},i.setWorkerData=function(e){if(null!=e){this.mCurShowData=e;var t=c.getWorkerData(this.mCurShowData.WorkerData.roleID);if(null!=t){var r=c.getWorkerLevel(this.mCurShowData.WorkerData.roleLevel);null!=r&&(this._loadModelShow(t.resModelPath),this._setWorkerStar(r.star),this._setWorkerSkill(this.mCurShowData.getSkillList()),this.workerTokenID.text=t.workerName,this.workerLevel.text=d.i18nFormat(c.getI18nUIText("u.10102"),[r.showLevel.toString()]),this.workerMajor.setMajorType(this.mCurShowData.skillHighestLevel))}}},i._setWorkerStar=function(e){this.workerStar.removeChildren();for(var t=0;t<e;t++)this.workerStar.addItem()},i._setWorkerSkill=function(e){this.workerSkill.removeChildren();for(var t=0;t<e.length;t++){this.workerSkill.addItem().setSkillData(e[t])}},i._loadModelShow=function(e){var t=this;u.instance.loadAvatarSkeletonData(e).then((function(e){n(t.node)&&(t.workerIcon&&t.workerIcon.node&&t.workerIcon.node.scale&&t.workerIcon.setScale(2.2,2.2),t.workerIcon.clearContent(),t.workerIcon.skinName=e.defaultSkin,t.workerIcon.animationName="idle",t.workerIcon.setSpine(e.skeletonData,a(30,50)))}))},r(o,[{key:"WorkerID",get:function(){return this.mCurShowData?this.mCurShowData.WorkerData.workerID:"0"}}]),o}(s)).URL="ui://Exploration/listbar_Dispatch",v=S))||v);o._RF.pop()}}}));

System.register("chunks:///_virtual/ui.exploration.dispatch.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){"use strict";var i,s,n,o;return{setters:[function(t){i=t.inheritsLoose},function(t){s=t.cclegacy,n=t._decorator},function(t){o=t.GComponent}],execute:function(){var e,c;s._RF.push({},"5c479XdVc1Pab/gdeIsCOrf","ui.exploration.dispatch.view",void 0);var a=n.ccclass;t("default",a("UIExplorationDispatchView")(((c=function(t){function s(){var i;return(i=t.call(this)||this).isNoneCtrl=void 0,i.closeBtn=void 0,i.dispatchList=void 0,i.dispatchCount=void 0,i.dispatchBtn=void 0,i}return i(s,t),s.prototype.onConstruct=function(){this.isNoneCtrl=this.getController("IsNone"),this.closeBtn=this.getChild("ui_WindClose"),this.dispatchList=this.getChild("ui_List_InGame"),this.dispatchCount=this.getChild("ui_RemainingValue"),this.dispatchBtn=this.getChild("ui_BtnDispatch")},s}(o)).URL="ui://Exploration/Main_DispatchList",e=c))||e);s._RF.pop()}}}));

System.register("chunks:///_virtual/ui.exploration.monster.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./resource.manager.ts"],(function(e){"use strict";var t,i,n,o,s,m,h,r,a,u;return{setters:[function(e){t=e.inheritsLoose,i=e.createClass},function(e){n=e.cclegacy,o=e._decorator,s=e.randomRangeInt,m=e.isValid,h=e.sp,r=e.v2},function(e){a=e.GComponent},function(e){u=e.ResourceManager}],execute:function(){var l,c;n._RF.push({},"9e9e2A/A95JmIYVR2ZDszdp","ui.exploration.monster.view",void 0);var d=o.ccclass;e("default",d("UIExplorationMonsterView")(((c=function(e){function n(){var t;return(t=e.call(this)||this).roleIcon=void 0,t.mTempID=0,t.mIsNeedDelete=!1,t.mMonsterResPath="",t.mFightIndex=0,t.mCurHP=0,t.mTickHitTime=0,t.mHurtAnimTime=.3,t.mDeathAnimTime=.6,t.mNeedHitAnim=!1,t.mNeedDeathAnim=!1,t.mNeedDeleteAnim=!1,t}t(n,e);var o=n.prototype;return o.onConstruct=function(){this.roleIcon=this.getChild("ui_MonsterIcon")},o.isDeath=function(){return this.mCurHP<=0},o.isNeedDeleteAnim=function(){return this.mNeedDeleteAnim},o.initData=function(e){this.mTempID=e,this.mMonsterResPath="monster",this.mCurHP=s(6,9),this.mIsNeedDelete=!1,this._playIdleAnim()},o._playIdleAnim=function(){this._loadModelShow(this.mMonsterResPath,"idle",!0)},o._playHurtAnim=function(){this._loadModelShow(this.mMonsterResPath,"hurt",!1)},o._playDeathAnim=function(){this._loadModelShow(this.mMonsterResPath,"death",!1)},o._loadModelShow=function(e,t,i){var n=this;u.instance.loadFarmRes(e,(function(e){if(m(n.node)){var o=e.data,s=null==o?void 0:o.getComponentInChildren(h.Skeleton);o&&(n.roleIcon&&n.roleIcon.node&&n.roleIcon.node.scale&&n.roleIcon.setScale(1.8,1.8),n.roleIcon.clearContent(),n.roleIcon.skinName=s.defaultSkin,n.roleIcon.loop=i,n.roleIcon.animationName=t,n.roleIcon.setSpine(s.skeletonData,r(25,36)))}}))},o.getFightPosition=function(e){if(1===this.mFightIndex)return r(this.x-40,this.y);if(2===this.mFightIndex){if(1===e)return r(this.x-38,this.y-10);if(2===e)return r(this.x-42,this.y+10)}return r(this.x-40,this.y)},o.beLook=function(){return this.mCurHP+=Math.floor(this.mCurHP/2),this.mFightIndex++,this.mFightIndex},o.beHit=function(){this.mNeedHitAnim=!0,this.mCurHP>0&&this.mCurHP--},o.updateFight=function(e){return this.mNeedDeleteAnim?(this.mTickHitTime+=e,void(this.mTickHitTime>this.mDeathAnimTime&&(this.mNeedDeleteAnim=!1,this.mTickHitTime=0,this.NeedDelete=!0))):this.mNeedDeathAnim?(this.mTickHitTime+=e,void(this.mTickHitTime>this.mHurtAnimTime&&(this._playDeathAnim(),this.mNeedDeathAnim=!1,this.mTickHitTime=0,this.mNeedDeleteAnim=!0))):this.mNeedHitAnim?(this.mTickHitTime+=e,void(this.mTickHitTime>this.mHurtAnimTime&&(this.mNeedHitAnim=!1,this.mTickHitTime=0,this._playHurtAnim(),this.isDeath()&&(this.mNeedDeathAnim=!0)))):void 0},i(n,[{key:"TempID",get:function(){return this.mTempID},set:function(e){this.mTempID=e}},{key:"NeedDelete",get:function(){return this.mIsNeedDelete},set:function(e){this.mIsNeedDelete=e}},{key:"FightIndex",get:function(){return this.mFightIndex}}]),n}(a)).URL="ui://Exploration/Role_Monster",l=c))||l);n._RF.pop()}}}));

System.register("chunks:///_virtual/ui.exploration.role.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./event.dispatcher.ts","./event.name.ts","./resource.manager.ts","./table.helper.ts","./model.worker.manager.ts","./sound.helper.ts","./logic.tool.ts","./enum.exploration.state.ts"],(function(t){"use strict";var i,e,o,s,n,l,r,a,h,m,c,u,d,I,v,g;return{setters:[function(t){i=t.inheritsLoose,e=t.createClass},function(t){o=t.cclegacy,s=t._decorator,n=t.v2,l=t.Vec2,r=t.isValid},function(t){a=t.GComponent},function(t){h=t.EventDispatcher},function(t){m=t.EventName},function(t){c=t.ResourceManager},function(t){u=t.TableHelper},function(t){d=t.ModelWorkerManager},function(t){I=t.SoundHelper},function(t){v=t.LogicTool},function(t){g=t.EExplorationState}],execute:function(){var f,k;o._RF.push({},"01057j7vmxDI7kqYWX9e7xd","ui.exploration.role.view",void 0);var A=s.ccclass;t("default",A("UIExplorationRoleView")(((k=function(t){function o(){var i;return(i=t.call(this)||this).isInitCtrl=void 0,i.isAddCtrl=void 0,i.roleIcon=void 0,i.roleLevel=void 0,i.roleStar=void 0,i.mCurState=g.None,i.mRoleID="0",i.mRoleResPath="",i.mAttackAnimTime=.56,i.mAttackDeltaTime=0,i.mInitPosition=n(),i.mTarMonster=null,i.mIsMoving=!1,i.mMonsterPosIndex=0,i.mIsFightMoving=!1,i.mIsFightAttack=!1,i}i(o,t);var s=o.prototype;return s.onConstruct=function(){this.isInitCtrl=this.getController("IsStart"),this.isAddCtrl=this.getController("IsAdd"),this.roleIcon=this.getChild("ui_WorkerIcon"),this.roleLevel=this.getChild("ui_WorkerLevel"),this.roleStar=this.getChild("ui_AwakenStar"),this.onClick(this._onRoleClick,this)},s._onRoleClick=function(){I.PlaySound_UICommonClick(),this.mCurState===g.Init&&h.emit(m.UI_EXPLORATION_DISPATCH_OPEN)},s.setRoleData=function(t,i){if(this.mCurState=t,this.mRoleID=i,"0"===i)return this.isAddCtrl.selectedIndex=1,void(t===g.Init?(this.visible=!0,this.isInitCtrl.selectedIndex=1):(this.visible=!1,this.isInitCtrl.selectedIndex=0));var e=d.instance.getWorkerDataByID(i);if(null!=e){var o=u.getWorkerData(e.WorkerData.roleID);if(null!=o){var s=u.getWorkerLevel(e.WorkerData.roleLevel);null!=s&&(this.visible=!0,this.isAddCtrl.selectedIndex=0,t===g.Init?this.isInitCtrl.selectedIndex=1:this.isInitCtrl.selectedIndex=0,this.mRoleResPath=o.resModelPath,this.roleLevel.text=v.i18nFormat(u.getI18nUIText("u.10102"),[s.showLevel.toString()]),this._setRoleStar(s.star),this.mCurState===g.Clearing?this._playWinAnim():this._playIdleAnim())}}},s.setRolePosition=function(t){this.mInitPosition=t,this.x=t.x,this.y=t.y},s._setRoleStar=function(t){this.roleStar.removeChildren();for(var i=0;i<t;i++)this.roleStar.addItem()},s.refreshRoleMoveData=function(t){if("0"===this.mRoleID)return this.x=this.mInitPosition.x,void(this.y=this.mInitPosition.y);this.mCurState=t,n(this.x,this.y).equals(this.mInitPosition,.01)?this.mIsMoving=!1:this.mIsMoving=!0,this._playMoveAnim()},s.updateMove=function(t){if("0"!==this.mRoleID&&this.mIsMoving){var i=this.mInitPosition,e=50*t,o=n(this.x,this.y);if(e>l.distance(o,i))this.x=i.x,this.y=i.y,this.mIsMoving=!1;else{var s=n();s=l.subtract(s,i,o).normalize();var r=n(s.x*e,s.y*e),a=n();a=l.add(a,o,r),this.x=a.x,this.y=a.y}}},s.refreshRoleFightData=function(t,i){"0"!==this.mRoleID&&(this.mCurState=t,this.mTarMonster=i,this.mMonsterPosIndex=this.mTarMonster.beLook(),n(this.x,this.y).equals(this.mTarMonster.getFightPosition(this.mMonsterPosIndex),.01)?(this.mIsFightAttack=!0,this.mIsFightMoving=!1,this.mAttackDeltaTime=this.mAttackAnimTime,this._playIdleAnim()):(this.mIsFightAttack=!1,this.mIsFightMoving=!0,this._playMoveAnim()))},s.updateFight=function(t){"0"!==this.mRoleID&&null!=this.mTarMonster&&(this._updateFightMove(t),this._updateFightAttack(t))},s._updateFightMove=function(t){if(this.mIsFightMoving){var i=this.mTarMonster.getFightPosition(this.mMonsterPosIndex),e=50*t,o=n(this.x,this.y);if(e>l.distance(o,i))this.x=i.x,this.y=i.y,this.mIsFightAttack=!0,this.mIsFightMoving=!1,this.mAttackDeltaTime=this.mAttackAnimTime;else{var s=n();s=l.subtract(s,i,o).normalize();var r=n(s.x*e,s.y*e),a=n();a=l.add(a,o,r),this.x=a.x,this.y=a.y}}},s._updateFightAttack=function(t){if("0"!==this.mRoleID&&null!=this.mTarMonster&&this.mIsFightAttack){if(this.mTarMonster.isNeedDeleteAnim())return this.mIsFightAttack=!1,this._playIdleAnim(),void(this.mTarMonster=null);this.mAttackDeltaTime+=t,this.mAttackDeltaTime>=this.mAttackAnimTime&&(this.mAttackDeltaTime=0,this._playFightAnim(),this.mTarMonster.beHit())}},s.refreshRoleFinishData=function(t){"0"!==this.mRoleID&&(this.mCurState=t,this._playWinAnim())},s._playIdleAnim=function(){this._loadModelShow(this.mRoleResPath,"idle",!0)},s._playMoveAnim=function(){this._loadModelShow(this.mRoleResPath,"walking",!0)},s._playFightAnim=function(){this._loadModelShow(this.mRoleResPath,"attack",!1)},s._playWinAnim=function(){this._loadModelShow(this.mRoleResPath,"victory",!0)},s._loadModelShow=function(t,i,e){var o=this;""!==t&&c.instance.loadAvatarSkeletonData(t).then((function(t){r(o.node)&&(o.roleIcon&&o.roleIcon.node&&o.roleIcon.node.scale&&o.roleIcon.setScale(1.8,1.8),o.roleIcon.clearContent(),o.roleIcon.skinName=t.defaultSkin,o.roleIcon.animationName=i,o.roleIcon.loop=e,o.roleIcon.setSpine(t.skeletonData,n(25,36)))}))},e(o,[{key:"IsWorker",get:function(){return"0"!==this.mRoleID}}]),o}(a)).URL="ui://Exploration/Role_Worker",f=k))||f);o._RF.pop()}}}));

System.register("chunks:///_virtual/ui.exploration.scene.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./event.dispatcher.ts","./event.name.ts"],(function(t){"use strict";var i,s,o,e,h,n,r,a,l;return{setters:[function(t){i=t.inheritsLoose},function(t){s=t.cclegacy,o=t._decorator,e=t.v2,h=t.randomRangeInt},function(t){n=t.UIPackage,r=t.GComponent},function(t){a=t.EventDispatcher},function(t){l=t.EventName}],execute:function(){var m,u;s._RF.push({},"a32f9BhdexA8btkKpRB5b9B","ui.exploration.scene.view",void 0);var c=o.ccclass;t("default",c("UIExplorationSceneView")(((u=function(t){function s(){var i;return(i=t.call(this)||this).mFguiPkgName="Exploration",i.mFguiMonsterPkgName="Role_Monster",i.InitPosX=327,i.InitPosY=297,i.RoleSpeed=50,i.RoleFightMoveOffsetX=160,i.MinMoveDistance=300,i.MaxMoveDistance=600,i.trackNearView=void 0,i.trackMiddleView=void 0,i.trackFarView=void 0,i.mRoleList=[],i.mRolePositionList=[],i.mRoleData=[],i.mRoleCount=0,i.mMonsterList=[],i.mMonsterPositionList=[],i.mToDelMonster=[],i.mCurPosition=0,i.mTarPosition=0,i.mIsStartMoving=!1,i}i(s,t);var o=s.prototype;return o.onConstruct=function(){this.trackNearView=this.getChild("Scene_Near"),this.trackMiddleView=this.getChild("Scene_Middle"),this.trackFarView=this.getChild("Scene_Far"),this.mRoleList=[],this.mRoleList.push(this.getChild("Role1")),this.mRoleList.push(this.getChild("Role2")),this.mRoleList.push(this.getChild("Role3")),this.mRoleList.push(this.getChild("Role4")),this.mRoleList.push(this.getChild("Role5")),this.mRoleList.push(this.getChild("Role6")),this.mRolePositionList=[],this.mRolePositionList=[e(327,297),e(264,260),e(254,338),e(173,260),e(163,338),e(103,297)]},o.setSceneData=function(t,i){var s;this.mRoleData=[],(s=this.mRoleData).push.apply(s,i),this.trackNearView.initTrackView(),this.trackMiddleView.initTrackView(),this.trackFarView.initTrackView(),this.mRoleCount=0;for(var o=0;o<this.mRoleList.length;o++)o<this.mRoleData.length?this.mRoleList[o].setRoleData(t,this.mRoleData[o]):this.mRoleList[o].setRoleData(t,"0"),this.mRoleList[o].setRolePosition(this.mRolePositionList[o]),this.mRoleList[o].IsWorker&&this.mRoleCount++;for(var e=0;e<this.mMonsterList.length;e+=1)this.removeChild(this.mMonsterList[e],!0);this.mMonsterList=[],this.mToDelMonster=[],this.mCurPosition=0,this.mTarPosition=0,this.mIsStartMoving=!1},o.refreshMoveState=function(t){var i=h(this.MinMoveDistance,this.MaxMoveDistance);this.mTarPosition=this.mCurPosition+i;for(var s=0;s<this.mRoleList.length;s++)this.mRoleList[s].refreshRoleMoveData(t);this._setMonsterData(i),this.mIsStartMoving=!0},o._setMonsterData=function(t){this.mMonsterList=[];var i=0;if(1===this.mRoleCount?i=1:2===this.mRoleCount?i=h(1,3):3===this.mRoleCount||4===this.mRoleCount?i=h(2,4):5!==this.mRoleCount&&6!==this.mRoleCount||(i=3),this.mMonsterPositionList=[],1===i)this.mMonsterPositionList=[e(this.InitPosX+48+24,this.InitPosY)];else if(2===i){var s=h(1,4);1===s?this.mMonsterPositionList=[e(this.InitPosX+48+24,this.InitPosY-24),e(this.InitPosX+48+24,this.InitPosY+24)]:2===s?this.mMonsterPositionList=[e(this.InitPosX+48+36,this.InitPosY-24),e(this.InitPosX+48+24,this.InitPosY+24)]:3===s&&(this.mMonsterPositionList=[e(this.InitPosX+48+24,this.InitPosY-24),e(this.InitPosX+48+36,this.InitPosY+24)])}else if(3===i){var o=h(1,4);1===o?this.mMonsterPositionList=[e(this.InitPosX+48+36,this.InitPosY),e(this.InitPosX+48+36,this.InitPosY-48),e(this.InitPosX+48+36,this.InitPosY+48)]:2===o?this.mMonsterPositionList=[e(this.InitPosX+48+24,this.InitPosY),e(this.InitPosX+48+48,this.InitPosY-48),e(this.InitPosX+48+48,this.InitPosY+48)]:3===o&&(this.mMonsterPositionList=[e(this.InitPosX+48+48,this.InitPosY),e(this.InitPosX+48+24,this.InitPosY-48),e(this.InitPosX+48+24,this.InitPosY+48)])}for(var r=0;r<i;r++){var a=n.createObject(this.mFguiPkgName,this.mFguiMonsterPkgName).asCom;this.mMonsterList.push(a),this.addChild(a),a.initData(r),a.x=t+this.mMonsterPositionList[r].x,a.y=this.mMonsterPositionList[r].y}},o.refreshFightState=function(t){this.mTarPosition=this.mCurPosition+this.RoleFightMoveOffsetX;for(var i=[],s=0;s<this.mRoleList.length;s++)this.mRoleList[s].IsWorker&&i.push(this.mRoleList[s]);for(var o=0;o<this.mMonsterList.length;o++)i[o].refreshRoleFightData(t,this.mMonsterList[o]);var e=this.mMonsterList.length;if(e<i.length)for(var n=e;n<i.length;n++){for(var r=this.mMonsterList[h(0,this.mMonsterList.length)];r.FightIndex>=2;)r=this.mMonsterList[h(0,this.mMonsterList.length)];i[n].refreshRoleFightData(t,r)}},o.refreshFinishState=function(t){for(var i=0;i<this.mRoleList.length;i++)this.mRoleList[i].refreshRoleFinishData(t)},o.updateMove=function(t){if(this.mIsStartMoving){if(this.mCurPosition>=this.mTarPosition)return this.mIsStartMoving=!1,void a.emit(l.EXPLORATION_MOVE_FINISH);var i=t*this.RoleSpeed,s=this.mTarPosition-this.mCurPosition;Math.abs(i)>=Math.abs(s)&&(i=s),this.mCurPosition+=i;for(var o=0;o<this.mRoleList.length;o++)this.mRoleList[o].updateMove(t);for(var e=0;e<this.mMonsterList.length;e++)this.mMonsterList[e].x-=i;this.trackNearView.updateTrackPosition(i),this.trackNearView.updateTrackRoadShow(i>0),this.trackMiddleView.updateTrackPosition(.6*i),this.trackMiddleView.updateTrackRoadShow(i>0),this.trackFarView.updateTrackPosition(.3*i),this.trackFarView.updateTrackRoadShow(i>0)}},o.updateFight=function(t){if(this.mCurPosition<this.mTarPosition){var i=80*t,s=this.mTarPosition-this.mCurPosition;Math.abs(i)>=Math.abs(s)&&(i=s);for(var o=0;o<this.mRoleList.length;o++)this.mRoleList[o].x-=i;for(var e=0;e<this.mMonsterList.length;e++)this.mMonsterList[e].x-=i;this.mCurPosition+=i,this.trackNearView.updateTrackPosition(i),this.trackNearView.updateTrackRoadShow(i>0),this.trackMiddleView.updateTrackPosition(.6*i),this.trackMiddleView.updateTrackRoadShow(i>0),this.trackFarView.updateTrackPosition(.3*i),this.trackFarView.updateTrackRoadShow(i>0)}for(var h=0;h<this.mRoleList.length;h++)this.mRoleList[h].updateFight(t);this.mToDelMonster=[];for(var n=0;n<this.mMonsterList.length;n++)this.mMonsterList[n].NeedDelete?this.mToDelMonster.push(this.mMonsterList[n].TempID):this.mMonsterList[n].updateFight(t);for(var r=0;r<this.mToDelMonster.length;r+=1){var m=this.mToDelMonster[r],u=this._findMonsterByID(m);u&&(this.mMonsterList.splice(this.mMonsterList.indexOf(u),1),this.removeChild(u,!0))}this.mMonsterList.length<=0&&a.emit(l.EXPLORATION_FIGHT_FINISH)},o._findMonsterByID=function(t){for(var i=0;i<this.mMonsterList.length;i++)if(this.mMonsterList[i].TempID===t)return this.mMonsterList[i];return null},s}(r)).URL="ui://Exploration/SceneA",m=u))||m);s._RF.pop()}}}));

System.register("chunks:///_virtual/ui.exploration.track.far.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(i){"use strict";var t,e,h,o;return{setters:[function(i){t=i.inheritsLoose},function(i){e=i.cclegacy,h=i._decorator},function(i){o=i.GComponent}],execute:function(){var r,d;e._RF.push({},"1b323Azd/hOi5cBF+7Mjicb","ui.exploration.track.far.view",void 0);var s=h.ccclass;i("default",s("UIExplorationTarckFarView")(((d=function(i){function e(){var t;return(t=i.call(this)||this).roadView1=void 0,t.roadView2=void 0,t.mCurViewIndex=0,t.mRoadWidth=0,t}t(e,i);var h=e.prototype;return h.onConstruct=function(){this.roadView1=this.getChild("Scene1"),this.roadView2=this.getChild("Scene2"),this.mRoadWidth=this.roadView1.width},h.initTrackView=function(){this.mCurViewIndex=0,this.x=0,this.roadView1.x=0,this.roadView2.x=this.roadView1.width},h.updateTrackPosition=function(i){this.x-=i},h.updateTrackRoadShow=function(i){i?(this.roadView1.x<=-(this.x+this.mRoadWidth)&&(this.roadView1.x=this.roadView2.x+this.roadView1.width,this.mCurViewIndex++),this.roadView2.x<=-(this.x+this.mRoadWidth)&&(this.roadView2.x=this.roadView1.x+this.roadView2.width,this.mCurViewIndex++)):(this.roadView1.x>=-(this.x-this.mRoadWidth)&&(this.roadView1.x=this.roadView2.x-this.roadView1.width,this.mCurViewIndex--),this.roadView2.x>=-(this.x-this.mRoadWidth)&&(this.roadView2.x=this.roadView1.x-this.roadView2.width,this.mCurViewIndex--))},h.setTrackPosition=function(i){this.x=-i;var t=Math.floor(i/this.mRoadWidth)+1;this.mCurViewIndex!==t+1&&(this.mCurViewIndex=t,(this.mCurViewIndex-1)%2==0?(this.roadView1.x=(this.mCurViewIndex-1)*this.mRoadWidth,this.roadView2.x=this.roadView1.x+this.roadView1.width,this.mCurViewIndex++):(this.roadView2.x=(this.mCurViewIndex-1)*this.mRoadWidth,this.roadView1.x=this.roadView2.x+this.roadView2.width,this.mCurViewIndex++))},e}(o)).URL="ui://Exploration/SceneA_Bg4",r=d))||r);e._RF.pop()}}}));

System.register("chunks:///_virtual/ui.exploration.track.middle.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(i){"use strict";var t,e,d,o;return{setters:[function(i){t=i.inheritsLoose},function(i){e=i.cclegacy,d=i._decorator},function(i){o=i.GComponent}],execute:function(){var h,r;e._RF.push({},"b1c7bserUVEa4KT4fAOvYBo","ui.exploration.track.middle.view",void 0);var s=d.ccclass;i("default",s("UIExplorationTarckMiddleView")(((r=function(i){function e(){var t;return(t=i.call(this)||this).roadView1=void 0,t.roadView2=void 0,t.mCurViewIndex=0,t.mRoadWidth=0,t}t(e,i);var d=e.prototype;return d.onConstruct=function(){this.roadView1=this.getChild("Scene1"),this.roadView2=this.getChild("Scene2"),this.mRoadWidth=this.roadView1.width},d.initTrackView=function(){this.mCurViewIndex=0,this.x=0,this.roadView1.x=0,this.roadView2.x=this.roadView1.width},d.updateTrackPosition=function(i){this.x-=i},d.updateTrackRoadShow=function(i){i?(this.roadView1.x<=-(this.x+this.mRoadWidth)&&(this.roadView1.x=this.roadView2.x+this.roadView1.width,this.mCurViewIndex++),this.roadView2.x<=-(this.x+this.mRoadWidth)&&(this.roadView2.x=this.roadView1.x+this.roadView2.width,this.mCurViewIndex++)):(this.roadView1.x>=-(this.x-this.mRoadWidth)&&(this.roadView1.x=this.roadView2.x-this.roadView1.width,this.mCurViewIndex--),this.roadView2.x>=-(this.x-this.mRoadWidth)&&(this.roadView2.x=this.roadView1.x-this.roadView2.width,this.mCurViewIndex--))},d.setTrackPosition=function(i){this.x=-i;var t=Math.floor(i/this.mRoadWidth)+1;this.mCurViewIndex!==t+1&&(this.mCurViewIndex=t,(this.mCurViewIndex-1)%2==0?(this.roadView1.x=(this.mCurViewIndex-1)*this.mRoadWidth,this.roadView2.x=this.roadView1.x+this.roadView1.width,this.mCurViewIndex++):(this.roadView2.x=(this.mCurViewIndex-1)*this.mRoadWidth,this.roadView1.x=this.roadView2.x+this.roadView2.width,this.mCurViewIndex++))},e}(o)).URL="ui://Exploration/SceneA_Bg2",h=r))||h);e._RF.pop()}}}));

System.register("chunks:///_virtual/ui.exploration.track.near.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(i){"use strict";var t,e,o,h;return{setters:[function(i){t=i.inheritsLoose},function(i){e=i.cclegacy,o=i._decorator},function(i){h=i.GComponent}],execute:function(){var r,d;e._RF.push({},"e4a4fQ6pxRA5qetTM/FlBoK","ui.exploration.track.near.view",void 0);var s=o.ccclass;i("default",s("UIExplorationTarckNearView")(((d=function(i){function e(){var t;return(t=i.call(this)||this).roadView1=void 0,t.roadView2=void 0,t.mCurViewIndex=0,t.mRoadWidth=0,t}t(e,i);var o=e.prototype;return o.onConstruct=function(){this.roadView1=this.getChild("Scene1"),this.roadView2=this.getChild("Scene2"),this.mRoadWidth=this.roadView1.width},o.initTrackView=function(){this.mCurViewIndex=0,this.x=0,this.roadView1.x=0,this.roadView2.x=this.roadView1.width},o.updateTrackPosition=function(i){this.x-=i},o.updateTrackRoadShow=function(i){i?(this.roadView1.x<=-(this.x+this.mRoadWidth)&&(this.roadView1.x=this.roadView2.x+this.roadView1.width,this.mCurViewIndex++),this.roadView2.x<=-(this.x+this.mRoadWidth)&&(this.roadView2.x=this.roadView1.x+this.roadView2.width,this.mCurViewIndex++)):(this.roadView1.x>=-(this.x-this.mRoadWidth)&&(this.roadView1.x=this.roadView2.x-this.roadView1.width,this.mCurViewIndex--),this.roadView2.x>=-(this.x-this.mRoadWidth)&&(this.roadView2.x=this.roadView1.x-this.roadView2.width,this.mCurViewIndex--))},o.setTrackPosition=function(i){this.x=-i;var t=Math.floor(i/this.mRoadWidth)+1;this.mCurViewIndex!==t+1&&(this.mCurViewIndex=t,(this.mCurViewIndex-1)%2==0?(this.roadView1.x=(this.mCurViewIndex-1)*this.mRoadWidth,this.roadView2.x=this.roadView1.x+this.roadView1.width,this.mCurViewIndex++):(this.roadView2.x=(this.mCurViewIndex-1)*this.mRoadWidth,this.roadView1.x=this.roadView2.x+this.roadView2.width,this.mCurViewIndex++))},e}(h)).URL="ui://Exploration/SceneA_Bg1",r=d))||r);e._RF.pop()}}}));

System.register("chunks:///_virtual/ui.exploration.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(i){"use strict";var t,e,n,o;return{setters:[function(i){t=i.inheritsLoose},function(i){e=i.cclegacy,n=i._decorator},function(i){o=i.GComponent}],execute:function(){var s,r;e._RF.push({},"91f34Z4jmZLT7jsqSTKIypR","ui.exploration.view",void 0);var a=n.ccclass;i("default",a("UIExplorationView")(((r=function(i){function e(){var t;return(t=i.call(this)||this).closeBtn=void 0,t.sceneName=void 0,t.sceneView=void 0,t.contentView=void 0,t.awardView=void 0,t.awardBtn=void 0,t}return t(e,i),e.prototype.onConstruct=function(){this.closeBtn=this.getChild("ui_WindClose"),this.sceneName=this.getChild("ui_SceneName"),this.sceneView=this.getChild("ui_MainScene"),this.contentView=this.getChild("BottomContent"),this.awardView=this.getChild("ui_Award");var i=this.getChild("ui_AwardWind");this.awardBtn=i.getChild("ui_BtnClaim")},e}(o)).URL="ui://Exploration/Main",s=r))||s);e._RF.pop()}}}));

System.register("chunks:///_virtual/ui.float.text.controller.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./time.system.ts","./ui.base.controller.ts","./ui.manager.ts","./table.helper.ts","./resource.manager.ts"],(function(i){"use strict";var t,e,n,s,a,o,p,h,c,d,l,w;return{setters:[function(i){t=i.inheritsLoose,e=i.createClass},function(i){n=i.cclegacy,s=i._decorator,a=i.isValid,o=i.v2},function(i){p=i.UIPackage},function(i){h=i.TimeSystem},function(i){c=i.UIBaseController},function(i){d=i.UIManager},function(i){l=i.TableHelper},function(i){w=i.ResourceManager}],execute:function(){var T,u;n._RF.push({},"152d8BeEPFLOpzePhr50lhQ","ui.float.text.controller",void 0);var r=s.ccclass;i("UIFloatTextController",r("UIFloatTextController")(((u=function(i){function n(){for(var t,e=arguments.length,n=new Array(e),s=0;s<e;s++)n[s]=arguments[s];return(t=i.call.apply(i,[this].concat(n))||this).mFguiPkgName="FloatText",t.mFguiMainViewName="Main",t.mFguiItemViewName="poptext",t._view=null,t.needAddPopTextList=new Array,t.showingPopTextList=new Array,t.lastAddPopTextTimePos=0,t.isShowConnectWaiting=!1,t.isShowReconnectWaiting=!1,t.mTipDataList=new Array,t.isTipShow=!1,t.isTipRun=!1,t.mLampDataList=new Array,t.isLampShow=!1,t.isLampRun=!1,t}t(n,i),n._checkOpenUI=function(){null==n.instance&&d.instance.openUI(n.CTRL_NAME)},n.AddPopupText=function(i){n._checkOpenUI(),n.instance._addPopupText(i)},n.AddPopupI18nID=function(i){var t=l.getI18nUIText(i);""!==t&&(n._checkOpenUI(),n.instance._addPopupText(t))},n.OpenWaiting=function(){n._checkOpenUI(),n.instance._showConnectWaiting()},n.CloseWaiting=function(){n._checkOpenUI(),n.instance._hideConnectWaiting()},n.OpenReconnecting=function(){n._checkOpenUI(),n.instance._showReconnectWaiting()},n.CloseReconnecting=function(){n._checkOpenUI(),n.instance._hideReconnectWaiting()},n.AddTipI18nID_Info=function(i){var t=l.getI18nUIText(i);""!==t&&n.AddTipText_Info(t)},n.AddTipText_Info=function(i){n._checkOpenUI(),n.instance._addTipText_Force(i,2)},n.AddTipI18nID_Success=function(i){var t=l.getI18nUIText(i);""!==t&&n.AddTipText_Success(t)},n.AddTipText_Success=function(i){n._checkOpenUI(),n.instance._addTipText_Force(i,1)},n.AddTipI18nID_Failed=function(i){var t=l.getI18nUIText(i);""!==t&&n.AddTipText_Failed(t)},n.AddTipText_Failed=function(i){n._checkOpenUI(),n.instance._addTipText_Force(i,0)},n.AddLampText=function(i,t){void 0===t&&(t=!1),n._checkOpenUI(),n.instance._addLampText(i,t)};var s=n.prototype;return s.update=function(i){null!=this._view&&(this._updateAddPopupTextList(),this._updateShowPopupTextList(i),this._updateTipTextList(i),this._updateLampTextList())},s.onLoad=function(){n._instance=this,this._startLoadPkg(this.mFguiPkgName)},s.onDestroy=function(){i.prototype.onDestroy.call(this),this._clearAllShowingPopText(),n._instance=null},s._onLoadUIFinish=function(){i.prototype._onLoadUIFinish.call(this),this._view=p.createObject(this.mFguiPkgName,this.mFguiMainViewName).asCom,this._addUIToRoot(this._view),this._view.makeFullScreen(),this._view.sortingOrder=3e3,this._loadReconnectAnim(),this.isShowConnectWaiting?this._view.widgetLoading.visible=!0:this._view.widgetLoading.visible=!1,this.isShowReconnectWaiting?this._view.reconnectLoading.visible=!0:this._view.reconnectLoading.visible=!1},s._showConnectWaiting=function(){this.isShowConnectWaiting=!0,null!=this._view&&(this._view.widgetLoading.visible=!0)},s._hideConnectWaiting=function(){this.isShowConnectWaiting=!1,null!=this._view&&(this._view.widgetLoading.visible=!1)},s._showReconnectWaiting=function(){this.isShowReconnectWaiting=!0,null!=this._view&&(this._view.reconnectLoading.visible=!0)},s._hideReconnectWaiting=function(){this.isShowReconnectWaiting=!1,null!=this._view&&(this._view.reconnectLoading.visible=!1)},s._loadReconnectAnim=function(){var i=this;w.instance.loadAvatarSkeletonData("LunaWicca/LunaWicca").then((function(t){a(i.node)&&i._view&&(i._view.reconnectLoading.wizardSpine&&i._view.reconnectLoading.wizardSpine.node&&i._view.reconnectLoading.wizardSpine.node.scale&&i._view.reconnectLoading.wizardSpine.setScale(2.8,2.8),i._view.reconnectLoading.wizardSpine.clearContent(),i._view.reconnectLoading.wizardSpine.skinName=t.defaultSkin,i._view.reconnectLoading.wizardSpine.animationName="walking2",i._view.reconnectLoading.wizardSpine.setSpine(t.skeletonData,o(15,40)))}))},s._addPopupText=function(i){if(null!==i&&""!==i){var t=this.needAddPopTextList.length;if(t>0)if(t<=10){if(i===this.needAddPopTextList[t-1])return}else this.needAddPopTextList.shift();this.needAddPopTextList.push(i)}},s._updateAddPopupTextList=function(){if(!(this.needAddPopTextList.length<=0)&&h.xTimeGetTime()-this.lastAddPopTextTimePos>n.cPopTextTimeBlank){var i=this.needAddPopTextList.shift(),t=this._realCreatePopTextObj(i);null!=t&&this.showingPopTextList.push(t),this.lastAddPopTextTimePos=h.xTimeGetTime()}},s._updateShowPopupTextList=function(i){if(null!=this._view&&!(this.showingPopTextList.length<=0))for(var t=0;t<this.showingPopTextList.length;t++){var e=this.showingPopTextList[t];e.updatePopTextMove(i)&&(this._view.widgetPopText.removeChild(e,!0),this.showingPopTextList.splice(t,1))}},s._clearAllShowingPopText=function(){if(null!=this._view){for(var i=this.showingPopTextList.length,t=i-1;t>=0;t--)this._view.widgetPopText.removeChild(this.showingPopTextList[t],!0);this.showingPopTextList.splice(0,i)}},s._realCreatePopTextObj=function(i){var t=p.createObject(this.mFguiPkgName,this.mFguiItemViewName).asCom;return null!=t?(t.initPopupData(i),this._view.widgetPopText.addChild(t),t):null},s._addTipText_Force=function(i,t){if(null!==i&&""!==i){var e={text:i,type:t};this.mTipDataList.push(e),this.isTipShow&&(this._view.transTipShow.playing&&this._view.transTipShow.stop(),this._view.transTipHide.playing&&this._view.transTipHide.stop(),this.isTipShow=!1,this.isTipRun=!1)}},s._addTipText_Queue=function(i,t){if(null!==i&&""!==i){var e={text:i,type:t};this.mTipDataList.push(e)}},s._updateTipTextList=function(i){this._view.transTipShow.playing||this._view.transTipHide.playing||(this.isTipShow?!this.isTipRun||this._view.widgetTipText.updateTipTextShow(i)||this._hideTipView():this.mTipDataList.length>0&&this._showTipView())},s._showTipView=function(){var i=this;this._view.widgetTipText.visible||(this._view.widgetTipText.visible=!0),this.isTipShow=!0,this._realSetTipText(),this._view.transTipShow.play((function(){i.isTipRun=!0}))},s._hideTipView=function(){var i=this;this._view.widgetTipText.visible?(this.isTipRun=!1,this._view.transTipHide.play((function(){i._view.widgetTipText.visible=!1,i.isTipShow=!1}))):(this.isTipShow=!1,this.isTipRun=!1)},s._realSetTipText=function(){if(null!=this._view&&this.mTipDataList.length>0){var i=this.mTipDataList.shift();this._view.widgetTipText.initTipData(i.text,i.type),this._view.widgetTipText.x=-this._view.widgetTipText.tipTextBG.width}},s._addLampText=function(i,t){null!==i&&""!==i&&(this.mLampDataList.length>n.cMaxLampTextCount||(t?this.mLampDataList.unshift(i):this.mLampDataList.push(i)))},s._updateLampTextList=function(){this._view.transLampShow.playing||this._view.transLampHide.playing||(this.isLampShow?this.isLampRun?this._view.widgetLampText.transLampText.playing||(this._view.widgetLampText.labelLampText.text="",this.isLampRun=!1):this.mLampDataList.length>0?this._realSetLampText():this._hideLampView():this.mLampDataList.length>0&&this._showLampView())},s._showLampView=function(){var i=this;this._view.widgetLampText.visible?this._view.transLampShow.playing||this._view.transLampShow.play((function(){i.isLampShow=!0})):(this._view.widgetLampText.alpha=0,this._view.widgetLampText.visible=!0,this._view.transLampShow.play((function(){i.isLampShow=!0})))},s._hideLampView=function(){var i=this;this._view.widgetLampText.visible?this._view.transLampHide.playing||this._view.transLampHide.play((function(){i._view.widgetLampText.visible=!1,i.isLampShow=!1})):this.isLampShow=!1},s._realSetLampText=function(){var i=this;if(null!=this._view)if(this.mLampDataList.length>0){this.isLampRun=!0,this._view.widgetLampText.labelLampText.text=this.mLampDataList.shift();var t=this._view.widgetLampText.labelLampText.width,e=0;e=t<=100?5:t>100&&t<2200?(t-100)/2100*15+5:20,this._view.widgetLampText.transLampText.play((function(){i.isLampRun=!1}),1,0,0,e)}else this.isLampRun=!1;else this.isLampRun=!1},e(n,null,[{key:"instance",get:function(){return this._instance}}]),n}(c)).CTRL_NAME="UIFloatTextController",u._instance=null,u.cPopTextTimeBlank=400,u.cMaxLampTextCount=1e4,T=u))||T);n._RF.pop()}}}));

System.register("chunks:///_virtual/ui.float.text.pop.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(e){"use strict";var t,i,o,s,a;return{setters:[function(e){t=e.inheritsLoose},function(e){i=e.cclegacy,o=e.Color,s=e.Vec3},function(e){a=e.GComponent}],execute:function(){i._RF.push({},"0006cbPFiRK8a9EubYDFpVi","ui.float.text.pop.view",void 0),e("default",function(e){function i(){for(var t,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return(t=e.call.apply(e,[this].concat(o))||this).graphTextBg=void 0,t.labelText=void 0,t.lastTime=0,t.disappearTime=0,t.moveTime=0,t.flyMoveSpeed=0,t.elapsedTime=0,t}t(i,e);var a=i.prototype;return a.onConstruct=function(){this.graphTextBg=this.getChild("PopTextBg"),this.labelText=this.getChild("ui_PopTextLabel")},a.initPopupData=function(e){this.lastTime=2.5,this.moveTime=.3,this.disappearTime=.1,this.flyMoveSpeed=100,this.labelText.text=e;var t=this.labelText.color;this.labelText.color=new o(t.r,t.g,t.b,0);var i=this.graphTextBg.color;this.graphTextBg.color=new o(i.r,i.g,i.b,0)},a.updatePopTextMove=function(e){this.elapsedTime+=e;var t=this.labelText.color,i=this.graphTextBg.color,a=this.node.position;if(this.elapsedTime<=this.moveTime){var l=a.y+e*this.flyMoveSpeed;this.node.position=new s(a.x,l,a.z);var r=this.elapsedTime/this.moveTime;this.labelText.color=new o(t.r,t.g,t.b,255*r),this.graphTextBg.color=new o(i.r,i.g,i.b,255*r*.8)}if(this.lastTime-this.elapsedTime<=this.disappearTime){var h=(this.lastTime-this.elapsedTime)/this.disappearTime;this.labelText.color=new o(t.r,t.g,t.b,255*h),this.graphTextBg.color=new o(i.r,i.g,i.b,255*h*.8)}return this.elapsedTime>=this.lastTime},i}(a)).URL="ui://FloatText/poptext",i._RF.pop()}}}));

System.register("chunks:///_virtual/ui.float.text.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(i){"use strict";var t,e,n;return{setters:[function(i){t=i.inheritsLoose},function(i){e=i.cclegacy},function(i){n=i.GComponent}],execute:function(){e._RF.push({},"1c869Oh5rdC5bBqWetxp5/7","ui.float.text.view",void 0),i("default",function(i){function e(){for(var t,e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return(t=i.call.apply(i,[this].concat(n))||this).widgetPopText=void 0,t.widgetLoading=void 0,t.reconnectLoading=void 0,t.widgetTipText=void 0,t.transTipShow=void 0,t.transTipHide=void 0,t.widgetLampText=void 0,t.transLampShow=void 0,t.transLampHide=void 0,t}return t(e,i),e.prototype.onConstruct=function(){this.widgetPopText=this.getChild("ui_AnchorCenter"),this.widgetLoading=this.getChild("ui_waiting"),this.reconnectLoading=this.getChild("ui_reconnecting"),this.widgetTipText=this.getChild("ui_SysTip"),this.transTipShow=this.getTransition("UI_Ani_Show"),this.transTipHide=this.getTransition("UI_Ani_Hide"),this.widgetLampText=this.getChild("ui_AnchorLamp"),this.transLampShow=this.getTransition("UI_Ani_LampShow"),this.transLampHide=this.getTransition("UI_Ani_LampHide")},e}(n)).URL="ui://FloatText/Main",e._RF.pop()}}}));

System.register("chunks:///_virtual/ui.floattext.lamp.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){"use strict";var e,i,o;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy},function(t){o=t.GComponent}],execute:function(){i._RF.push({},"96dc8RF9hVLELxVcVZ4J6HJ","ui.floattext.lamp.view",void 0),t("default",function(t){function i(){for(var e,i=arguments.length,o=new Array(i),n=0;n<i;n++)o[n]=arguments[n];return(e=t.call.apply(t,[this].concat(o))||this).lampComp=void 0,e.transLampText=void 0,e.labelLampText=void 0,e}return e(i,t),i.prototype.onConstruct=function(){this.lampComp=this.getChild("ui_Clip"),this.transLampText=this.lampComp.getTransition("Ani_Move"),this.labelLampText=this.lampComp.getChild("ui_PopTextLabel")},i}(o)).URL="ui://FloatText/lamptext",i._RF.pop()}}}));

System.register("chunks:///_virtual/ui.floattext.reconnect.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){"use strict";var e,n,i;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){i=t.GComponent}],execute:function(){n._RF.push({},"96c80vM5CZLb4ujxIZZ7h8C","ui.floattext.reconnect.view",void 0),t("default",function(t){function n(){for(var e,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))||this).wizardSpine=void 0,e.labelConnect=void 0,e}return e(n,t),n.prototype.onConstruct=function(){this.wizardSpine=this.getChild("wizardLoader"),this.labelConnect=this.getChild("connectLabel")},n}(i)).URL="ui://FloatText/reconnecting",n._RF.pop()}}}));

System.register("chunks:///_virtual/ui.floattext.tip.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){"use strict";var e,i,s;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy},function(t){s=t.GComponent}],execute:function(){i._RF.push({},"67a05LenllMQaNGxSxwfCEm","ui.floattext.tip.view",void 0),t("default",function(t){function i(){for(var e,i=arguments.length,s=new Array(i),l=0;l<i;l++)s[l]=arguments[l];return(e=t.call.apply(t,[this].concat(s))||this).stateCtrl=void 0,e.tipTextBG=void 0,e.labelTipText=void 0,e.elapsedTime=0,e.showTime=3,e}e(i,t);var s=i.prototype;return s.onConstruct=function(){this.stateCtrl=this.getController("State"),this.tipTextBG=this.getChild("UI_SysTipBG"),this.labelTipText=this.getChild("UI_SysTipLabel")},s.initTipData=function(t,e){this.stateCtrl.selectedIndex=e,this.labelTipText.text=t,this.tipTextBG.width=this.labelTipText.width/2+54,this.elapsedTime=0},s.updateTipTextShow=function(t){return!(this.elapsedTime>this.showTime)&&(this.elapsedTime+=t,!0)},i}(s)).URL="ui://FloatText/poptext2",i._RF.pop()}}}));

System.register("chunks:///_virtual/ui.gift.controller.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./event.dispatcher.ts","./event.name.ts","./table.helper.ts","./model.mainrole.manager.ts","./net.helper.ts","./sound.helper.ts","./resource.path.tool.ts","./ui.base.controller.ts"],(function(t){"use strict";var n,e,i,o,s,r,a,c,u,l,h,f,_,p,m,C,v,g;return{setters:[function(t){n=t.inheritsLoose,e=t.createClass,i=t.asyncToGenerator,o=t.regeneratorRuntime},function(t){s=t.cclegacy,r=t._decorator,a=t.input,c=t.Input,u=t.KeyCode},function(t){l=t.UIPackage},function(t){h=t.EventDispatcher},function(t){f=t.EventName},function(t){_=t.TableHelper},function(t){p=t.ModelMainRoleManager},function(t){m=t.NetHelper},function(t){C=t.SoundHelper},function(t){v=t.ResourcePathTool},function(t){g=t.UIBaseController}],execute:function(){var d,I;s._RF.push({},"ce185g/T+xOZb9NusP6MnsV","ui.gift.controller",void 0);var D=r.ccclass;t("UIGiftController",D("UIGiftController")(((I=function(t){function s(){for(var n,e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];return(n=t.call.apply(t,[this].concat(i))||this).mFguiPkgName="GiftBonus",n.mFguiMainViewName="Main",n._view=null,n.mCurGiftID=0,n}n(s,t);var r=s.prototype;return r._addEvents=function(){t.prototype._addEvents.call(this),a.on(c.EventType.KEY_DOWN,this._onKeyDown,this),h.on(f.GIFT_LIST_DATA_CHANGED,this._onGiftListDataChanged,this)},r._removeEvents=function(){t.prototype._removeEvents.call(this),a.off(c.EventType.KEY_DOWN,this._onKeyDown,this),h.off(f.GIFT_LIST_DATA_CHANGED,this._onGiftListDataChanged,this)},r._onKeyDown=function(t){switch(t.keyCode){case u.ESCAPE:this._onCloseClick()}},r._onGiftListDataChanged=function(t){if(null!=this._view)if(t)this.mCurGiftID===t&&this._initData();else{var n=p.instance.GiftData;n.length>0&&this.mCurGiftID!==n[0]&&this._initData()}},r.onLoad=function(){s._instance=this,this._startLoadPkg(this.mFguiPkgName)},r.onDestroy=function(){t.prototype.onDestroy.call(this),s._instance=null},r.closeUI=function(){t.prototype.closeUI.call(this)},r.update=function(){this._view},r._onLoadUIFinish=function(){t.prototype._onLoadUIFinish.call(this),this._view=l.createObject(this.mFguiPkgName,this.mFguiMainViewName).asCom,this._addUIToRoot(this._view),this._view.makeFullScreen(),this._view.bgMask.onClick(this._onCloseClick,this),this._view.claimBtn.onClick(this._onClaimClick,this),this._initData()},r._initData=function(){var t=i(o().mark((function t(){var n,e;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!((n=p.instance.GiftData).length<=0)){t.next=4;break}return h.emit(f.UI_GIFT_CLOSE),t.abrupt("return");case 4:this.mCurGiftID=n[0],(e=_.getGiftRecord(this.mCurGiftID))&&(this._view.giftIcon.url=v.getUIFarmItemPath(e.icon),this._view.giftDesc.text=e.desc);case 7:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),r._onCloseClick=function(){var t=i(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:C.PlaySound_UICommonClose(),h.emit(f.UI_GIFT_CLOSE);case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),r._onClaimClick=function(){var t=i(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:C.PlaySound_UICommonClick(),m.getGiftReward(this.mCurGiftID);case 2:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),e(s,null,[{key:"instance",get:function(){return this._instance}}]),s}(g)).CTRL_NAME="UIGiftController",I._instance=null,d=I))||d);s._RF.pop()}}}));

System.register("chunks:///_virtual/ui.gift.faucet.controller.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./event.dispatcher.ts","./event.name.ts","./table.helper.ts","./sound.helper.ts","./logic.tool.ts","./ui.base.controller.ts","./chain.system.ts","./api.bera.faucet.ts","./ui.float.text.controller.ts","./wizard.wallet.sdk.ts","./sdk.manager.ts"],(function(t){"use strict";var e,n,i,r,a,s,o,c,u,l,h,f,p,_,m,v,k,C,w,d,g,I;return{setters:[function(t){e=t.inheritsLoose,n=t.createClass,i=t.asyncToGenerator,r=t.regeneratorRuntime},function(t){a=t.cclegacy,s=t._decorator,o=t.input,c=t.Input,u=t.KeyCode},function(t){l=t.UIPackage},function(t){h=t.EventDispatcher},function(t){f=t.EventName},function(t){p=t.TableHelper},function(t){_=t.SoundHelper},function(t){m=t.LogicTool},function(t){v=t.UIBaseController},function(t){k=t.ChainSystem},function(t){C=t.apiGetBeraFaucetStatus,w=t.apiAskBeraFaucet},function(t){d=t.UIFloatTextController},function(t){g=t.WizardWalletSDK},function(t){I=t.SDKManager}],execute:function(){var y,x;a._RF.push({},"835a8/YdJlKoZZKQ5NIbxdR","ui.gift.faucet.controller",void 0);var F=s.ccclass;t("UIGiftFaucetController",F("UIGiftFaucetController")(((x=function(t){function a(){for(var e,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))||this).mFguiPkgName="GiftBonus_Faucet",e.mFguiMainViewName="Main",e._view=null,e.mIsAsking=!1,e}e(a,t);var s=a.prototype;return s._addEvents=function(){t.prototype._addEvents.call(this),o.on(c.EventType.KEY_DOWN,this._onKeyDown,this)},s._removeEvents=function(){t.prototype._removeEvents.call(this),o.off(c.EventType.KEY_DOWN,this._onKeyDown,this)},s._onKeyDown=function(t){switch(t.keyCode){case u.ESCAPE:this._onCloseClick()}},s.onLoad=function(){a._instance=this,this._startLoadPkg(this.mFguiPkgName)},s.onDestroy=function(){t.prototype.onDestroy.call(this),a._instance=null},s.closeUI=function(){t.prototype.closeUI.call(this)},s.update=function(){this._view},s._onLoadUIFinish=function(){t.prototype._onLoadUIFinish.call(this),this._view=l.createObject(this.mFguiPkgName,this.mFguiMainViewName).asCom,this._addUIToRoot(this._view),this._view.makeFullScreen(),this.mIsAsking=!1,this._view.bgMask.onClick(this._onCloseClick,this),this._view.claimBtn.onClick(this._onClaimClick,this),this._view.claimOnBeraBtn.onClick(this._onClaimOnBeraClick,this),this._refreshState(),this._refreshBalance()},s._refreshState=function(){var t=i(r().mark((function t(){var e;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,this._view.setClaimBtnState(1),t.next=4,C();case 4:if(e=t.sent,this._view){t.next=7;break}return t.abrupt("return");case 7:0!==e.status?(this._view.faucetDesc.text=m.i18nFormat(p.getI18nUIText("u.13204"),["0.1"]),this._view.setClaimBtnState(1)):(this._view.faucetDesc.text=m.i18nFormat(p.getI18nUIText("u.13203"),["0.1"]),this._view.setClaimBtnState(0)),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.log(t.t0);case 13:case"end":return t.stop()}}),t,this,[[0,10]])})));return function(){return t.apply(this,arguments)}}(),s._refreshBalance=function(){var t=i(r().mark((function t(){var e;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this._view&&(this._view.faucetAmount.text="- BERA"),k.instance.beraTestnetFaucet){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,k.instance.beraTestnetFaucet.getRemainFaucet();case 5:e=t.sent,this._view&&(this._view.faucetAmount.text=m.NumberOmit(e,8)+" BERA");case 7:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),s._onCloseClick=function(){var t=i(r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:_.PlaySound_UICommonClose(),h.emit(f.UI_GIFT_FAUCET_CLOSE);case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),s._onClaimOnBeraClick=function(){var t=i(r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:_.PlaySound_UICommonClick(),I.instance.curSDKPlugin.openUrl("https://bartio.faucet.berachain.com");case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),s._onClaimClick=function(){var t=i(r().mark((function t(){var e;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(_.PlaySound_UICommonClick(),!0!==this.mIsAsking){t.next=3;break}return t.abrupt("return");case 3:if(g.isCreated()){t.next=5;break}return t.abrupt("return");case 5:return t.prev=5,this.mIsAsking=!0,t.next=9,w();case 9:if(e=t.sent,this._view){t.next=12;break}return t.abrupt("return");case 12:this.mIsAsking=!1,e.success?(this._view.faucetDesc.text=m.i18nFormat(p.getI18nUIText("u.13204"),["0.1"]),this._view.setClaimBtnState(1),d.AddTipI18nID_Success("u.2555")):d.AddTipI18nID_Failed("u.2556"),t.next=19;break;case 16:t.prev=16,t.t0=t.catch(5),console.log(t.t0);case 19:case"end":return t.stop()}}),t,this,[[5,16]])})));return function(){return t.apply(this,arguments)}}(),n(a,null,[{key:"instance",get:function(){return this._instance}}]),a}(v)).CTRL_NAME="UIGiftFaucetController",x._instance=null,y=x))||y);a._RF.pop()}}}));

System.register("chunks:///_virtual/ui.gift.faucet.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){"use strict";var i,n,e,s;return{setters:[function(t){i=t.inheritsLoose},function(t){n=t.cclegacy,e=t._decorator},function(t){s=t.GComponent}],execute:function(){var a,c;n._RF.push({},"dfda7FvqZxEr511xyY3vUTU","ui.gift.faucet.view",void 0);var u=e.ccclass;t("default",u("UIGiftFaucetView")(((c=function(t){function n(){var i;return(i=t.call(this)||this).wind=void 0,i.bgMask=void 0,i.faucetAmount=void 0,i.faucetDesc=void 0,i.claimBtn=void 0,i.claimOnBeraBtn=void 0,i}i(n,t);var e=n.prototype;return e.onConstruct=function(){this.bgMask=this.getChild("BgMask"),this.wind=this.getChild("ui_GiftBonusWind"),this.faucetAmount=this.wind.getChild("ui_TotalBalance"),this.faucetDesc=this.wind.getChild("ui_Descriptions"),this.claimBtn=this.wind.getChild("ui_BtnClaim"),this.claimOnBeraBtn=this.wind.getChild("ui_BtnClaim2")},e.setClaimBtnState=function(t){var i=this.claimBtn.getController("IsDone");i&&(i.selectedIndex=t),this.claimBtn.touchable=0===t},n}(s)).URL="ui://GiftBonus_Faucet/Main",a=c))||a);n._RF.pop()}}}));

System.register("chunks:///_virtual/ui.gift.line.controller.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./api.kaia.quest.ts","./event.dispatcher.ts","./event.name.ts","./line.sdk.ts","./table.helper.ts","./model.farm.manager.ts","./sound.helper.ts","./logic.tool.ts","./ui.float.text.controller.ts","./ui.message.box.controller.ts","./ui.base.controller.ts","./common.tool.ts"],(function(t){"use strict";var e,n,i,s,a,r,o,c,u,l,_,h,f,d,v,m,p,g,I,w,k,C,x,B;return{setters:[function(t){e=t.inheritsLoose,n=t.createClass,i=t.asyncToGenerator,s=t.regeneratorRuntime},function(t){a=t.cclegacy,r=t._decorator,o=t.input,c=t.Input,u=t.KeyCode},function(t){l=t.UIPackage},function(t){_=t.apiKaiaQuestGetStatus,h=t.apiKaiaQuestApplyCommon,f=t.apiKaiaQuestApplyLevel},function(t){d=t.EventDispatcher},function(t){v=t.EventName},function(t){m=t.LineSDK},function(t){p=t.TableHelper},function(t){g=t.ModelFarmManager},function(t){I=t.SoundHelper},function(t){w=t.LogicTool},function(t){k=t.UIFloatTextController},function(t){C=t.UIMessageBoxController},function(t){x=t.UIBaseController},function(t){B=t.CommonTool}],execute:function(){var b,T;a._RF.push({},"db57ag7HIlF1qmarE6YdVXN","ui.gift.line.controller",void 0);var F=r.ccclass;t("UIGiftLineController",F("UIGiftLineController")(((T=function(t){function a(){for(var e,n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))||this).mFguiPkgName="Gift_LINE",e.mFguiMainViewName="Main",e._view=null,e.mIsAsking=!1,e}e(a,t);var r=a.prototype;return r._addEvents=function(){t.prototype._addEvents.call(this),o.on(c.EventType.KEY_DOWN,this._onKeyDown,this)},r._removeEvents=function(){t.prototype._removeEvents.call(this),o.off(c.EventType.KEY_DOWN,this._onKeyDown,this)},r._onKeyDown=function(t){switch(t.keyCode){case u.ESCAPE:this._onCloseClick()}},r.onLoad=function(){a._instance=this,this._startLoadPkg(this.mFguiPkgName)},r.onDestroy=function(){t.prototype.onDestroy.call(this),a._instance=null},r.closeUI=function(){t.prototype.closeUI.call(this)},r.update=function(){this._view},r._onLoadUIFinish=function(){t.prototype._onLoadUIFinish.call(this),this._view=l.createObject(this.mFguiPkgName,this.mFguiMainViewName).asCom,this._addUIToRoot(this._view),this._view.makeFullScreen(),this._view.closeBtn.onClick(this._onCloseClick,this),this._view.giftBtn0.onClick(this._onGift0Click,this),this._view.giftBtn30_2.onClick(this._onGift30Click,this),this._initData()},r._initData=function(){this._refreshLineBtnState(),this._view.remainBalance30.text=w.i18nFormat(p.getI18nUIText("u.14125"),["0"]),this._view.giftBtn30.enabled=!1,this._view.giftBtn30.text=p.getI18nUIText("u.14121")},r._refreshLineBtnState=function(){var t=i(s().mark((function t(){var e,n,i;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,this._view.giftBtn0.enabled=!0,this._view.giftBtn30_2.enabled=!0,this._view.setClaimBtnState(this._view.giftBtn0,2),this._view.setClaimBtnState(this._view.giftBtn30_2,2),this._view.remainBalance0.text=w.i18nFormat(p.getI18nUIText("u.14133"),["-"]),this._view.remainBalance30_2.text=w.i18nFormat(p.getI18nUIText("u.14141"),["-"]),t.next=9,_();case 9:if(e=t.sent,this._view){t.next=12;break}return t.abrupt("return");case 12:(n=8e4-e.quest1Count)<0&&(n=0),this._view.remainBalance0.text=w.i18nFormat(p.getI18nUIText("u.14133"),[n.toString()]),(i=1e3-e.quest2Count)<0&&(i=0),this._view.remainBalance30_2.text=w.i18nFormat(p.getI18nUIText("u.14141"),[i.toString()]),0!==e.status1?this._view.setClaimBtnState(this._view.giftBtn0,1):(this._view.setClaimBtnState(this._view.giftBtn0,0),0===n&&(this._view.giftBtn0.enabled=!1)),0!==e.status2?this._view.setClaimBtnState(this._view.giftBtn30_2,1):(this._view.setClaimBtnState(this._view.giftBtn30_2,0),0===i&&(this._view.giftBtn30_2.enabled=!1)),t.next=25;break;case 22:t.prev=22,t.t0=t.catch(0),console.log(t.t0);case 25:case"end":return t.stop()}}),t,this,[[0,22]])})));return function(){return t.apply(this,arguments)}}(),r._onCloseClick=function(){I.PlaySound_UICommonClose(),d.emit(v.UI_GIFT_LINE_CLOSE)},r._onGift0Click=function(){var t=i(s().mark((function t(){var e,n,i,a,r;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(I.PlaySound_UICommonClick(),!(g.instance.FarmLevel<10)){t.next=5;break}return e=w.i18nFormat(p.getI18nUIText("u.2503"),["10"]),k.AddTipText_Failed(e),t.abrupt("return");case 5:if(!this.mIsAsking){t.next=7;break}return t.abrupt("return");case 7:if(t.prev=7,this.mIsAsking=!0,m.kaiaIsConnected()){t.next=12;break}return t.next=12,m.kaiaWalletConnect();case 12:if((n=m.connectedWalletAddress)&&""!==n){t.next=15;break}return t.abrupt("return");case 15:return t.next=17,h({address:n});case 17:if(i=t.sent,this._view){t.next=20;break}return t.abrupt("return");case 20:this.mIsAsking=!1,i.ok?0!==i.status1?(this._view.setClaimBtnState(this._view.giftBtn0,1),k.AddTipI18nID_Success("u.2555")):(this._view.setClaimBtnState(this._view.giftBtn0,0),k.AddTipI18nID_Failed("u.2556")):(3===i.code?(a=B.shortAddress(m.connectedWalletAddress,6),r=w.i18nFormat(p.getI18nUIText("u.14119"),[a]),C.AddPopMsgBox_SingleBtn(r,p.getI18nUIText("u.13436"))):k.AddTipI18nID_Failed(i.msg),this._view.setClaimBtnState(this._view.giftBtn0,0)),t.next=27;break;case 24:t.prev=24,t.t0=t.catch(7),console.log(t.t0);case 27:case"end":return t.stop()}}),t,this,[[7,24]])})));return function(){return t.apply(this,arguments)}}(),r._onGift30Click=function(){var t=i(s().mark((function t(){var e,n,i,a,r;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(I.PlaySound_UICommonClick(),!(g.instance.FarmLevel<30)){t.next=5;break}return e=w.i18nFormat(p.getI18nUIText("u.2503"),["30"]),k.AddTipText_Failed(e),t.abrupt("return");case 5:if(!this.mIsAsking){t.next=7;break}return t.abrupt("return");case 7:if(t.prev=7,this.mIsAsking=!0,m.kaiaIsConnected()){t.next=12;break}return t.next=12,m.kaiaWalletConnect();case 12:if((n=m.connectedWalletAddress)&&""!==n){t.next=15;break}return t.abrupt("return");case 15:return t.next=17,f({address:n});case 17:if(i=t.sent,this._view){t.next=20;break}return t.abrupt("return");case 20:this.mIsAsking=!1,i.ok?0!==i.status2?(this._view.setClaimBtnState(this._view.giftBtn30_2,1),k.AddTipI18nID_Success("u.2555")):(this._view.setClaimBtnState(this._view.giftBtn30_2,0),k.AddTipI18nID_Failed("u.2556")):(3===i.code?(a=B.shortAddress(m.connectedWalletAddress,6),r=w.i18nFormat(p.getI18nUIText("u.14119"),[a]),C.AddPopMsgBox_SingleBtn(r,p.getI18nUIText("u.13436"))):k.AddTipI18nID_Failed(i.msg),this._view.setClaimBtnState(this._view.giftBtn30_2,0)),t.next=27;break;case 24:t.prev=24,t.t0=t.catch(7),console.log(t.t0);case 27:case"end":return t.stop()}}),t,this,[[7,24]])})));return function(){return t.apply(this,arguments)}}(),n(a,null,[{key:"instance",get:function(){return this._instance}}]),a}(x)).CTRL_NAME="UIGiftLineController",T._instance=null,b=T))||b);a._RF.pop()}}}));

System.register("chunks:///_virtual/ui.gift.line.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./table.helper.ts","./logic.tool.ts"],(function(t){"use strict";var e,i,n,g,u,l;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy,n=t._decorator},function(t){g=t.GComponent},function(t){u=t.TableHelper},function(t){l=t.LogicTool}],execute:function(){var s,I;i._RF.push({},"196a1q24fxAO4i2pPpN3hXc","ui.gift.line.view",void 0);var o=n.ccclass;t("default",o("UIGiftLineView")(((I=function(t){function i(){var e;return(e=t.call(this)||this).closeBtn=void 0,e.giftView30=void 0,e.remainBalance30=void 0,e.giftBtn30=void 0,e.giftView30_2=void 0,e.remainBalance30_2=void 0,e.giftBtn30_2=void 0,e.giftView0=void 0,e.remainBalance0=void 0,e.giftBtn0=void 0,e}e(i,t);var n=i.prototype;return n.onConstruct=function(){this.closeBtn=this.getChild("ui_WindClose");var t=this.getChild("ui_List");this.giftView30=t.getChild("ui_List01"),this.remainBalance30=this.giftView30.getChild("ui_RemainingRewards"),this.giftBtn30=this.giftView30.getChild("ui_BtnClaim1"),this.giftView30_2=t.getChild("ui_List02"),this.remainBalance30_2=this.giftView30_2.getChild("ui_RemainingRewards"),this.giftBtn30_2=this.giftView30_2.getChild("ui_BtnClaim1"),this.giftView0=t.getChild("ui_List03"),this.remainBalance0=this.giftView0.getChild("ui_RemainingRewards"),this.giftBtn0=this.giftView0.getChild("ui_BtnClaim1"),this._initItemView(this.giftView30),this._initItemView(this.giftView30_2),this._initItemView(this.giftView0)},n._initItemView=function(t){var e=t.getController("IsPhase"),i=t.getController("IsTip"),n=t.getChild("ui_Title"),g=t.getChild("ui_Value"),s=t.getChild("ui_GiftName"),I=t.getChild("ui_TotalAmount"),o=t.getChild("ui_EachReward"),x=t.getChild("ui_StartTime"),a=t.getChild("ui_EndTime"),h=t.getChild("ui_Condition1"),d=t.getChild("ui_Condition2");t===this.giftView30?(e.selectedIndex=1,i.selectedIndex=0,n.text=l.i18nFormat(u.getI18nUIText("u.14120"),["1"]),s.text=u.getI18nUIText("u.14123"),o.text=u.getI18nUIText("u.14124"),x.text=u.getI18nUIText("u.14126"),a.text=u.getI18nUIText("u.14127"),h.text=u.getI18nUIText("u.14128"),g.text=u.getI18nUIText("u.14129"),I.text=u.getI18nUIText("u.14130"),d.text=u.getI18nUIText("u.14122")):t===this.giftView30_2?(e.selectedIndex=1,i.selectedIndex=0,n.text=l.i18nFormat(u.getI18nUIText("u.14120"),["2"]),s.text=u.getI18nUIText("u.14139"),o.text=u.getI18nUIText("u.14140"),x.text=u.getI18nUIText("u.14142"),a.text=u.getI18nUIText("u.14143"),h.text=u.getI18nUIText("u.14144"),g.text=u.getI18nUIText("u.14145"),I.text=u.getI18nUIText("u.14146"),d.text=u.getI18nUIText("u.14122")):t===this.giftView0&&(e.selectedIndex=0,i.selectedIndex=1,n.text="",s.text=u.getI18nUIText("u.14131"),o.text=u.getI18nUIText("u.14132"),x.text=u.getI18nUIText("u.14134"),a.text=u.getI18nUIText("u.14135"),h.text=u.getI18nUIText("u.14136"),g.text=u.getI18nUIText("u.14137"),I.text=u.getI18nUIText("u.14138"),d.text="")},n.setClaimBtnState=function(t,e){var i=t.getController("IsDone");i&&(i.selectedIndex=e),t.touchable=0===e},i}(g)).URL="ui://Gift_LINE/Main",s=I))||s);i._RF.pop()}}}));

System.register("chunks:///_virtual/ui.gift.notcoin.controller.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./event.dispatcher.ts","./event.name.ts","./table.manager.ts","./model.mainrole.manager.ts","./sound.helper.ts","./ui.base.controller.ts","./sdk.manager.ts"],(function(t){"use strict";var i,n,e,o,s,c,a,l,r,h,_,u,f,N,v;return{setters:[function(t){i=t.inheritsLoose,n=t.createClass},function(t){e=t.cclegacy,o=t._decorator,s=t.input,c=t.Input,a=t.KeyCode},function(t){l=t.UIPackage},function(t){r=t.EventDispatcher},function(t){h=t.EventName},function(t){_=t.TableManager},function(t){u=t.ModelMainRoleManager},function(t){f=t.SoundHelper},function(t){N=t.UIBaseController},function(t){v=t.SDKManager}],execute:function(){var d,C;e._RF.push({},"217cbsMXelLaphDwyduQILc","ui.gift.notcoin.controller",void 0);var L=o.ccclass;t("UIGiftNotcoinController",L("UIGiftNotcoinController")(((C=function(t){function e(){for(var i,n=arguments.length,e=new Array(n),o=0;o<n;o++)e[o]=arguments[o];return(i=t.call.apply(t,[this].concat(e))||this).mFguiPkgName="Gift_Notcoin",i.mFguiMainViewName="Main",i._view=null,i.mGiftNotcoinData=null,i}i(e,t);var o=e.prototype;return o._addEvents=function(){t.prototype._addEvents.call(this),s.on(c.EventType.KEY_DOWN,this._onKeyDown,this),r.on(h.PLAYERSELF_NOTCOIN_LEVEL_CHANGED,this._onNotcoinLevelChanged,this),r.on(h.GIFT_NOTCOIN_LIST_DATA_CHANGED,this._onGiftNotcoinListDataChanged,this)},o._removeEvents=function(){t.prototype._removeEvents.call(this),s.off(c.EventType.KEY_DOWN,this._onKeyDown,this),r.off(h.PLAYERSELF_NOTCOIN_LEVEL_CHANGED,this._onNotcoinLevelChanged,this),r.off(h.GIFT_NOTCOIN_LIST_DATA_CHANGED,this._onGiftNotcoinListDataChanged,this)},o._onKeyDown=function(t){switch(t.keyCode){case a.ESCAPE:this._onCloseClick()}},o._onNotcoinLevelChanged=function(){null!=this._view&&(this._initNotcoinLevel(),this._refreshGiftNotcoinList(!1))},o._onGiftNotcoinListDataChanged=function(){null!=this._view&&this._refreshGiftNotcoinList(!1)},o.onLoad=function(){e._instance=this,this._startLoadPkg(this.mFguiPkgName)},o.onDestroy=function(){t.prototype.onDestroy.call(this),e._instance=null},o.closeUI=function(){t.prototype.closeUI.call(this)},o.update=function(){this._view},o._onLoadUIFinish=function(){t.prototype._onLoadUIFinish.call(this),this._view=l.createObject(this.mFguiPkgName,this.mFguiMainViewName).asCom,this._addUIToRoot(this._view),this._view.makeFullScreen(),this._view.closeBtn.onClick(this._onCloseClick,this),this._view.notcoinUrlBtn.onClick(this._onNotCoinUrlClick,this),this._view.giftNotcoinList.itemRenderer=this.renderGiftNotcoinItem.bind(this),this._view.giftNotcoinList.setVirtual(),this._initData(),r.emit(h.REFRESH_NOTCOIN_LEVEL)},o._initData=function(){this._initNotcoinLevel(),this._refreshGiftNotcoinList()},o._initNotcoinLevel=function(){switch(u.instance.NotCoinLevel){case 1:this._view.notcoinLevelCtrl.selectedIndex=1;break;case 2:this._view.notcoinLevelCtrl.selectedIndex=2;break;case 3:this._view.notcoinLevelCtrl.selectedIndex=3;break;case 0:default:this._view.notcoinLevelCtrl.selectedIndex=0}},o._onCloseClick=function(){f.PlaySound_UICommonClose(),r.emit(h.UI_GIFT_NOTCOIN_CLOSE)},o._onNotCoinUrlClick=function(){f.PlaySound_UICommonClick(),v.instance.curSDKPlugin.openTelegramUrl("https://t.me/notcoin_bot")},o._refreshGiftNotcoinList=function(t){var i;void 0===t&&(t=!0),this.mGiftNotcoinData=[];var n=_.instance.tableNotcoinAward.getNotcoinAwardArray();(i=this.mGiftNotcoinData).push.apply(i,n);var e=this.mGiftNotcoinData.length;this._view.isNoneCtrl.selectedIndex=e<=0?1:0,this._view.giftNotcoinList.numItems!==e?this._view.giftNotcoinList.numItems=e:this._view.giftNotcoinList.refreshVirtualList(),t&&this._view.giftNotcoinList.scrollToView(0)},o.renderGiftNotcoinItem=function(t,i){t>=this.mGiftNotcoinData.length||i.setGiftNotcoinData(this.mGiftNotcoinData[t])},n(e,null,[{key:"instance",get:function(){return this._instance}}]),e}(N)).CTRL_NAME="UIGiftNotcoinController",C._instance=null,d=C))||d);e._RF.pop()}}}));

System.register("chunks:///_virtual/ui.gift.notcoin.item.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./table.helper.ts","./model.mainrole.manager.ts","./net.helper.ts","./sound.helper.ts","./logic.tool.ts","./resource.path.tool.ts"],(function(t){"use strict";var e,i,n,o,l,s,c,a,r,u,h,m;return{setters:[function(t){e=t.inheritsLoose,i=t.asyncToGenerator,n=t.regeneratorRuntime},function(t){o=t.cclegacy,l=t._decorator},function(t){s=t.GComponent},function(t){c=t.TableHelper},function(t){a=t.ModelMainRoleManager},function(t){r=t.NetHelper},function(t){u=t.SoundHelper},function(t){h=t.LogicTool},function(t){m=t.ResourcePathTool}],execute:function(){var d,f;o._RF.push({},"786161z69dJyIJiEDDs4+9J","ui.gift.notcoin.item.view",void 0);var v=l.ccclass;t("default",v("UIGiftNotcoinItemView")(((f=function(t){function o(){var e;return(e=t.call(this)||this).levelTipCtrl=void 0,e.itemIcon=void 0,e.itemName=void 0,e.itemDesc=void 0,e.levelTip=void 0,e.claimBtn=void 0,e.mGiftNotcoinData=null,e}e(o,t);var l=o.prototype;return l.onConstruct=function(){this.levelTipCtrl=this.getController("IsTrue"),this.itemIcon=this.getChild("n69"),this.itemName=this.getChild("ui_GiftName"),this.itemDesc=this.getChild("ui_GiftDes"),this.levelTip=this.getChild("ui_ConditionTip"),this.claimBtn=this.getChild("ui_BtnClaim"),this.claimBtn.onClick(this._onClaimClick,this)},l._onClaimClick=function(){var t=i(n().mark((function t(){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(u.PlaySound_UICommonClick(),null!=this.mGiftNotcoinData){t.next=3;break}return t.abrupt("return");case 3:r.getGiftNotcoinReward(this.mGiftNotcoinData.id,a.instance.NotCoinLevel);case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),l.setGiftNotcoinData=function(t){if(null!=t){this.mGiftNotcoinData=t,this.itemIcon.url=m.getUIFarmItemPath(t.icon),this.itemName.text=t.name,this.itemDesc.text=t.desc;var e=a.instance.NotCoinLevel,i="";e>=t.level?(this.levelTipCtrl.selectedIndex=1,i="[color=#238700]"+this._getNotcoinLevelName(t.level)+"[/color]"):(this.levelTipCtrl.selectedIndex=0,i="[color=#ff4e00]"+this._getNotcoinLevelName(t.level)+"[/color]"),this.levelTip.text=h.i18nFormat(c.getI18nUIText("u.12805"),[i]),a.instance.NotcoinData.includes(t.id)?(this.claimBtn.enabled=!0,this._setClaimBtnDone(1),this._setClaimBtnRedPoint(!1)):e>=t.level?(this._setClaimBtnDone(0),this.claimBtn.enabled=!0,this._setClaimBtnRedPoint(!0)):(this._setClaimBtnDone(0),this.claimBtn.enabled=!1,this._setClaimBtnRedPoint(!1))}},l._getNotcoinLevelName=function(t){switch(t){case 1:return c.getI18nUIText("u.12811");case 2:return c.getI18nUIText("u.12812");case 3:return c.getI18nUIText("u.12813");case 0:default:return c.getI18nUIText("u.12810")}},l._setClaimBtnDone=function(t){var e=this.claimBtn.getController("IsDone");e&&(e.selectedIndex=t,this.claimBtn.touchable=0===t)},l._setClaimBtnRedPoint=function(t){var e=this.claimBtn.getChild("UI_TipSp");e&&(e.visible=t)},o}(s)).URL="ui://Gift_Notcoin/listbar",d=f))||d);o._RF.pop()}}}));

System.register("chunks:///_virtual/ui.gift.notcoin.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){"use strict";var i,o,n,e;return{setters:[function(t){i=t.inheritsLoose},function(t){o=t.cclegacy,n=t._decorator},function(t){e=t.GComponent}],execute:function(){var s,r;o._RF.push({},"a0de9nJMNtC9YsE9256Plmg","ui.gift.notcoin.view",void 0);var c=n.ccclass;t("default",c("UIGiftNotcoinView")(((r=function(t){function o(){var i;return(i=t.call(this)||this).isNoneCtrl=void 0,i.notcoinLevelCtrl=void 0,i.closeBtn=void 0,i.notcoinUrlBtn=void 0,i.giftNotcoinList=void 0,i}return i(o,t),o.prototype.onConstruct=function(){this.isNoneCtrl=this.getController("IsNone");var t=this.getChild("ui_Level");this.notcoinLevelCtrl=t.getController("Level"),this.closeBtn=this.getChild("ui_WindClose"),this.notcoinUrlBtn=t.getChild("ui_BtnUpgrade"),this.giftNotcoinList=this.getChild("ui_GiftList")},o}(e)).URL="ui://Gift_Notcoin/Main",s=r))||s);o._RF.pop()}}}));

System.register("chunks:///_virtual/ui.gift.okx.controller.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./api.okx.evm.quest.ts","./event.dispatcher.ts","./event.name.ts","./table.helper.ts","./model.mainrole.manager.ts","./sound.helper.ts","./common.tool.ts","./ui.float.text.controller.ts","./ui.base.controller.ts","./plugin.settings.ts","./okx.connect.sdk.ts","./sdk.manager.ts"],(function(t){"use strict";var e,s,i,n,r,a,h,c,o,u,p,l,_,d,v,w,f,g,I,S,m,x,k,C,D,A,B,F,K;return{setters:[function(t){e=t.inheritsLoose,s=t.createClass,i=t.asyncToGenerator,n=t.regeneratorRuntime},function(t){r=t.cclegacy,a=t._decorator,h=t.input,c=t.Input,o=t.KeyCode,u=t.sys,p=t.error},function(t){l=t.UIPackage},function(t){_=t.apiOKXGetQuestStatus,d=t.apiOKXCheckStage1,v=t.apiOKXCheckStage2,w=t.apiOKXCheckStage3,f=t.apiOKXBindAddress,g=t.apiOKXGetAward},function(t){I=t.EventDispatcher},function(t){S=t.EventName},function(t){m=t.TableHelper},function(t){x=t.ModelMainRoleManager},function(t){k=t.SoundHelper},function(t){C=t.CommonTool},function(t){D=t.UIFloatTextController},function(t){A=t.UIBaseController},function(t){B=t.PluginSettings},function(t){F=t.OKXConnectSDK},function(t){K=t.SDKManager}],execute:function(){var T,U;r._RF.push({},"08e7ehfaE9G0beYQMexeiRv","ui.gift.okx.controller",void 0);var b=a.ccclass;t("UIGiftOKXController",b("UIGiftOKXController")(((U=function(t){function r(){for(var e,s=arguments.length,i=new Array(s),n=0;n<s;n++)i[n]=arguments[n];return(e=t.call.apply(t,[this].concat(i))||this).mFguiPkgName="Gift_OKX",e.mFguiMainViewName="Main",e._view=null,e.mOKXStage1URL="https://www.okx.com/ul/42nG0D",e.mOKXStage2URL="https://t.me/okxweb3giveawaydrops",e.mOKXStage3URL=" https://www.okx.com/web3/discover/ecosystem-hub",e.mStage4Address="",e.mIsStage1Finish=!1,e.mIsStage2Finish=!1,e.mIsStage3Finish=!1,e.mIsStage4Finish=!1,e}e(r,t);var a=r.prototype;return a._addEvents=function(){t.prototype._addEvents.call(this),h.on(c.EventType.KEY_DOWN,this._onKeyDown,this),I.on(S.GIFT_ACTIVITY_LIST_DATA_CHANGED,this._onGiftOKXListDataChanged,this)},a._removeEvents=function(){t.prototype._removeEvents.call(this),h.off(c.EventType.KEY_DOWN,this._onKeyDown,this),I.off(S.GIFT_ACTIVITY_LIST_DATA_CHANGED,this._onGiftOKXListDataChanged,this)},a._onKeyDown=function(t){switch(t.keyCode){case o.ESCAPE:this._onCloseClick()}},a._onGiftOKXListDataChanged=function(){null!=this._view&&this._refreshStepAward()},a.onLoad=function(){r._instance=this,this._startLoadPkg(this.mFguiPkgName)},a.onDestroy=function(){t.prototype.onDestroy.call(this),r._instance=null},a.closeUI=function(){t.prototype.closeUI.call(this)},a.update=function(){this._view},a._onLoadUIFinish=function(){t.prototype._onLoadUIFinish.call(this),this._view=l.createObject(this.mFguiPkgName,this.mFguiMainViewName).asCom,this._addUIToRoot(this._view),this._view.makeFullScreen(),this._view.closeBtn.onClick(this._onCloseClick,this),this._view.step1Btn.onClick(this._onStep1Click,this),this._view.step2Btn.onClick(this._onStep2Click,this),this._view.step3Btn.onClick(this._onStep3Click,this),this._view.step4Btn.onClick(this._onStep4Click,this),this._view.stepAwardBtn.onClick(this._onStepAwardClick,this),this._initData()},a._initData=function(){this._view.step1Desc.text=m.getI18nUIText("u.13107"),this._view.step2Desc.text=m.getI18nUIText("u.13108"),this._view.step3Desc.text=m.getI18nUIText("u.13109"),this._view.step4Desc.text=m.getI18nUIText("u.13110"),this._view.stepAwardDesc.text=m.getI18nUIText("u.13111"),this._view.step4Addr.visible=!1,this._view.step4AddrBG.visible=!1,this._refreshRewardItemList(),this._loadOKXData()},a._refreshRewardItemList=function(){var t=m.getActivityAwardRecord(x.instance.OKXAwardTableID);if(t)for(var e=t.award.split(";"),s=0;s<e.length;s++){var i=e[s].split("-");if(i.length<2)return;var n=Number.parseInt(i[0]),r=Number.parseInt(i[1]);this._view.stepAwardItem.setRewardData(n,r);break}},a._loadOKXData=function(){var t=i(n().mark((function t(){var e;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this._view.isNoneCtrl.selectedIndex=2,this.mIsStage1Finish=!1,this.mIsStage2Finish=!1,this.mIsStage3Finish=!1,this.mIsStage4Finish=!1,this.mStage4Address="",t.prev=6,t.next=9,_();case 9:(e=t.sent).status&&(this.mIsStage1Finish=1===e.status.stage1,this.mIsStage2Finish=1===e.status.stage2,this.mIsStage3Finish=1===e.status.stage3,this.mIsStage4Finish=1===e.status.stage4,this.mIsStage4Finish&&(this.mStage4Address=e.status.address)),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(6),p(t.t0);case 16:return t.prev=16,null!=this._view&&(this._view.isNoneCtrl.selectedIndex=0),this._refreshStep1(),this._refreshStep2(),this._refreshStep3(),this._refreshStep4(),this._refreshStepAward(),t.finish(16);case 24:case"end":return t.stop()}}),t,this,[[6,13,16,24]])})));return function(){return t.apply(this,arguments)}}(),a._refreshStep1=function(){null!=this._view&&(this._view.step1Btn.enabled=!0,this.mIsStage1Finish?(this._view.step1DoneCtrl.selectedIndex=1,this._view.setStepBtnData(this._view.step1Btn,!0,m.getI18nUIText("u.13104"))):(this._view.step1DoneCtrl.selectedIndex=0,this._view.setStepBtnData(this._view.step1Btn,!1,m.getI18nUIText("u.13101"))))},a._refreshStep2=function(){null!=this._view&&(this.mIsStage1Finish?(this._view.step2Btn.enabled=!0,this.mIsStage2Finish?(this._view.step2DoneCtrl.selectedIndex=1,this._view.setStepBtnData(this._view.step2Btn,!0,m.getI18nUIText("u.13104"))):(this._view.step2DoneCtrl.selectedIndex=0,this._view.setStepBtnData(this._view.step2Btn,!1,m.getI18nUIText("u.13101")))):(this._view.step2DoneCtrl.selectedIndex=0,this._view.setStepBtnData(this._view.step2Btn,!1,m.getI18nUIText("u.13101")),this._view.step2Btn.enabled=!1))},a._refreshStep3=function(){null!=this._view&&(this.mIsStage1Finish&&this.mIsStage2Finish?(this._view.step3Btn.enabled=!0,this.mIsStage3Finish?(this._view.step3DoneCtrl.selectedIndex=1,this._view.setStepBtnData(this._view.step3Btn,!0,m.getI18nUIText("u.13104"))):(this._view.step3DoneCtrl.selectedIndex=0,this._view.setStepBtnData(this._view.step3Btn,!1,m.getI18nUIText("u.13101")))):(this._view.step3DoneCtrl.selectedIndex=0,this._view.setStepBtnData(this._view.step3Btn,!1,m.getI18nUIText("u.13101")),this._view.step3Btn.enabled=!1))},a._refreshStep4=function(){null!=this._view&&(this.mIsStage1Finish&&this.mIsStage2Finish&&this.mIsStage3Finish?(this._view.step4Btn.enabled=!0,this.mIsStage4Finish?(this._view.step4DoneCtrl.selectedIndex=1,this._view.step4Addr.text=C.shortAddress(this.mStage4Address,8),this._view.step4Addr.visible=!0,this._view.step4AddrBG.visible=!0,this._view.step4Btn.visible=!1):(this._view.step4DoneCtrl.selectedIndex=0,this._view.setStepBtnData(this._view.step4Btn,!1,m.getI18nUIText("u.13102")),this._view.step4Addr.visible=!1,this._view.step4AddrBG.visible=!1,this._view.step4Btn.visible=!0)):(this._view.step4DoneCtrl.selectedIndex=0,this._view.setStepBtnData(this._view.step4Btn,!1,m.getI18nUIText("u.13102")),this._view.step4Btn.enabled=!1))},a._refreshStepAward=function(){null!=this._view&&(this.mIsStage1Finish&&this.mIsStage2Finish&&this.mIsStage3Finish&&this.mIsStage4Finish?(this._view.stepAwardBtn.enabled=!0,x.instance.ActivityData.includes(x.instance.OKXAwardTableID)?(this._view.stepAwardDoneCtrl.selectedIndex=1,this._view.setStepBtnData(this._view.stepAwardBtn,!0,m.getI18nUIText("u.13106")),this._view.setStepBtnRedPoint(this._view.stepAwardBtn,!1)):(this._view.stepAwardDoneCtrl.selectedIndex=0,this._view.setStepBtnData(this._view.stepAwardBtn,!1,m.getI18nUIText("u.13105")),this._view.setStepBtnRedPoint(this._view.stepAwardBtn,!0))):(this._view.stepAwardDoneCtrl.selectedIndex=0,this._view.setStepBtnData(this._view.stepAwardBtn,!1,m.getI18nUIText("u.13105")),this._view.setStepBtnRedPoint(this._view.stepAwardBtn,!1),this._view.stepAwardBtn.enabled=!1))},a._onCloseClick=function(){k.PlaySound_UICommonClose(),I.emit(S.UI_GIFT_OKX_CLOSE)},a._onStep1Click=function(){var t=i(n().mark((function t(){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return k.PlaySound_UICommonClick(),K.instance.curSDKPlugin.openUrl(this.mOKXStage1URL),t.next=4,this._checkOKXStage1();case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),a._onStep2Click=function(){var t=i(n().mark((function t(){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return k.PlaySound_UICommonClick(),K.instance.curSDKPlugin.openUrl(this.mOKXStage2URL),t.next=4,this._checkOKXStage2();case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),a._onStep3Click=function(){var t=i(n().mark((function t(){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return k.PlaySound_UICommonClick(),K.instance.curSDKPlugin.openUrl(this.mOKXStage3URL),t.next=4,this._checkOKXStage3();case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),a._onStep4Click=function(){if(k.PlaySound_UICommonClick(),B.isDebug())this.openCheckWaiting(),this._checkOKXStage4();else{if(!u.isMobile)return;this.openCheckWaiting(),this._checkOKXStage4()}},a._onStepAwardClick=function(){k.PlaySound_UICommonClick(),this._checkOKXStageAward()},a._checkOKXStage1=function(){var t=i(n().mark((function t(){var e;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,d();case 3:(e=t.sent)&&(this.mIsStage1Finish=1===e.stage1),t.next=12;break;case 7:t.prev=7,t.t0=t.catch(0),p(t.t0),this.mIsStage1Finish=!1,D.AddTipI18nID_Failed("u.2533");case 12:return t.prev=12,this._refreshStep1(),this._refreshStep2(),t.finish(12);case 16:case"end":return t.stop()}}),t,this,[[0,7,12,16]])})));return function(){return t.apply(this,arguments)}}(),a._checkOKXStage2=function(){var t=i(n().mark((function t(){var e;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,v();case 3:(e=t.sent)&&(this.mIsStage2Finish=1===e.stage2),t.next=12;break;case 7:t.prev=7,t.t0=t.catch(0),p(t.t0),this.mIsStage2Finish=!1,D.AddTipI18nID_Failed("u.2533");case 12:return t.prev=12,this._refreshStep2(),this._refreshStep3(),t.finish(12);case 16:case"end":return t.stop()}}),t,this,[[0,7,12,16]])})));return function(){return t.apply(this,arguments)}}(),a._checkOKXStage3=function(){var t=i(n().mark((function t(){var e;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,w();case 3:(e=t.sent)&&(this.mIsStage3Finish=1===e.stage3),t.next=12;break;case 7:t.prev=7,t.t0=t.catch(0),p(t.t0),this.mIsStage3Finish=!1,D.AddTipI18nID_Failed("u.2533");case 12:return t.prev=12,this._refreshStep3(),this._refreshStep4(),t.finish(12);case 16:case"end":return t.stop()}}),t,this,[[0,7,12,16]])})));return function(){return t.apply(this,arguments)}}(),a.openCheckWaiting=function(){var t=i(n().mark((function t(){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return D.OpenWaiting(),t.next=3,C.sleep(5e3);case 3:D.CloseWaiting();case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),a._checkOKXStage4=function(){var t=i(n().mark((function t(){var e,s;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,e="",!B.isDebug()){t.next=6;break}e="o",t.next=11;break;case 6:return t.next=8,F.connect();case 8:if(null!==(e=t.sent)){t.next=11;break}return t.abrupt("return");case 11:return t.next=13,f({address:e});case 13:(s=t.sent)&&s.ok?(this.mIsStage4Finish=!0,this.mStage4Address=s.status.address):(this.mIsStage4Finish=!1,this.mStage4Address="",s&&D.AddTipText_Failed(s.msg)),t.next=23;break;case 17:t.prev=17,t.t0=t.catch(0),p(t.t0),this.mIsStage4Finish=!1,this.mStage4Address="",D.AddTipI18nID_Failed("u.2532");case 23:return t.prev=23,this._refreshStep4(),this._refreshStepAward(),t.finish(23);case 27:case"end":return t.stop()}}),t,this,[[0,17,23,27]])})));return function(){return t.apply(this,arguments)}}(),a._checkOKXStageAward=function(){var t=i(n().mark((function t(){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,g();case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),p(t.t0);case 8:case"end":return t.stop()}}),t,null,[[0,5]])})));return function(){return t.apply(this,arguments)}}(),s(r,null,[{key:"instance",get:function(){return this._instance}}]),r}(A)).CTRL_NAME="UIGiftOKXController",U._instance=null,T=U))||T);r._RF.pop()}}}));

System.register("chunks:///_virtual/ui.gift.okx.reward.item.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./table.helper.ts","./resource.path.tool.ts"],(function(t){"use strict";var e,i,r,o,n,u;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy,r=t._decorator},function(t){o=t.GButton},function(t){n=t.TableHelper},function(t){u=t.ResourcePathTool}],execute:function(){var c,a;i._RF.push({},"12d8f+6KeFH8J84LR2JEV5X","ui.gift.okx.reward.item.view",void 0);var s=r.ccclass;t("default",s("UIGiftOKXRewardItemView")(((a=function(t){function i(){var e;return(e=t.call(this)||this).rewardIcon=void 0,e.rewardNum=void 0,e}e(i,t);var r=i.prototype;return r.onConstruct=function(){this.rewardIcon=this.getChild("ui_CoinIcon"),this.rewardNum=this.getChild("ui_CoinAmount")},r.setRewardData=function(t,e){var i=n.getItemRecord(t);i&&(this.rewardIcon.url=u.getUIFarmItemPath(i.itemIcon)),this.rewardNum.text="x"+e},i}(o)).URL="ui://Gift_OKX/gift_item",c=a))||c);i._RF.pop()}}}));

System.register("chunks:///_virtual/ui.gift.okx.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){"use strict";var e,i,s,o;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy,s=t._decorator},function(t){o=t.GComponent}],execute:function(){var d,n;i._RF.push({},"0bb5cbOxiBJrb7byz54IB9h","ui.gift.okx.view",void 0);var p=s.ccclass;t("default",p("UIGiftOKXView")(((n=function(t){function i(){var e;return(e=t.call(this)||this).isNoneCtrl=void 0,e.closeBtn=void 0,e.step1View=void 0,e.step1DoneCtrl=void 0,e.step1Desc=void 0,e.step1Btn=void 0,e.step2View=void 0,e.step2DoneCtrl=void 0,e.step2Desc=void 0,e.step2Btn=void 0,e.step3View=void 0,e.step3DoneCtrl=void 0,e.step3Desc=void 0,e.step3Btn=void 0,e.step4View=void 0,e.step4DoneCtrl=void 0,e.step4Desc=void 0,e.step4Btn=void 0,e.step4Addr=void 0,e.step4AddrBG=void 0,e.stepAwardView=void 0,e.stepAwardDoneCtrl=void 0,e.stepAwardDesc=void 0,e.stepAwardItem=void 0,e.stepAwardBtn=void 0,e}e(i,t);var s=i.prototype;return s.onConstruct=function(){this.isNoneCtrl=this.getController("IsNone"),this.closeBtn=this.getChild("ui_WindClose");var t=this.getChild("ui_Content");this.step1View=t.getChild("ui_Step1"),this.step1DoneCtrl=this.step1View.getController("IsDone"),this.step1Desc=this.step1View.getChild("ui_Des"),this.step1Btn=this.step1View.getChild("ui_BtnGo"),this.step2View=t.getChild("ui_Step2"),this.step2DoneCtrl=this.step2View.getController("IsDone"),this.step2Desc=this.step2View.getChild("ui_Des"),this.step2Btn=this.step2View.getChild("ui_BtnGo"),this.step3View=t.getChild("ui_Step3"),this.step3DoneCtrl=this.step3View.getController("IsDone"),this.step3Desc=this.step3View.getChild("ui_Des"),this.step3Btn=this.step3View.getChild("ui_BtnGo"),this.step4View=t.getChild("ui_Step4"),this.step4DoneCtrl=this.step4View.getController("IsDone"),this.step4Desc=this.step4View.getChild("ui_Des"),this.step4Btn=this.step4View.getChild("ui_BtnGo"),this.step4Addr=this.step4View.getChild("ui_WalletAddress"),this.step4AddrBG=this.step4View.getChild("WalletAddressBg"),this.stepAwardView=t.getChild("ui_StepAward"),this.stepAwardDoneCtrl=this.stepAwardView.getController("IsDone"),this.stepAwardDesc=this.stepAwardView.getChild("ui_Des"),this.stepAwardItem=this.stepAwardView.getChild("ui_AwardItem"),this.stepAwardBtn=this.stepAwardView.getChild("ui_BtnGo")},s.setStepBtnData=function(t,e,i){var s=t.getController("IsDone");(s&&(s.selectedIndex=e?1:0,t.touchable=!e),e)?t.getChild("title2").text=i:t.getChild("title").text=i},s.setStepBtnRedPoint=function(t,e){var i=t.getChild("UI_TipSp");i&&(i.visible=e)},i}(o)).URL="ui://Gift_OKX/Main",d=n))||d);i._RF.pop()}}}));

System.register("chunks:///_virtual/ui.gift.red.envelope.controller.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./api.tg.quest.ts","./event.dispatcher.ts","./event.name.ts","./sound.helper.ts","./ui.base.controller.ts"],(function(e){"use strict";var t,n,i,o,s,c,r,l,a,u,h,_,p,f,v;return{setters:[function(e){t=e.inheritsLoose,n=e.createClass,i=e.asyncToGenerator,o=e.regeneratorRuntime},function(e){s=e.cclegacy,c=e._decorator,r=e.input,l=e.Input,a=e.KeyCode},function(e){u=e.UIPackage},function(e){h=e.finishTgQuest},function(e){_=e.EventDispatcher},function(e){p=e.EventName},function(e){f=e.SoundHelper},function(e){v=e.UIBaseController}],execute:function(){var d,C;s._RF.push({},"8feb9wV/EhLlLC5La7df3Ec","ui.gift.red.envelope.controller",void 0);var m=c.ccclass;e("UIGiftRedEnvelopeController",m("UIGiftRedEnvelopeController")(((C=function(e){function s(){for(var t,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))||this).mFguiPkgName="RedEnvelope",t.mFguiMainViewName="Main",t._view=null,t}t(s,e);var c=s.prototype;return c._addEvents=function(){e.prototype._addEvents.call(this),r.on(l.EventType.KEY_DOWN,this._onKeyDown,this)},c._removeEvents=function(){e.prototype._removeEvents.call(this),r.off(l.EventType.KEY_DOWN,this._onKeyDown,this)},c._onKeyDown=function(e){switch(e.keyCode){case a.ESCAPE:this._onCloseClick()}},c.onLoad=function(){s._instance=this,this._startLoadPkg(this.mFguiPkgName)},c.onDestroy=function(){e.prototype.onDestroy.call(this),s._instance=null},c.closeUI=function(){e.prototype.closeUI.call(this)},c.update=function(){this._view},c._onLoadUIFinish=function(){e.prototype._onLoadUIFinish.call(this),this._view=u.createObject(this.mFguiPkgName,this.mFguiMainViewName).asCom,this._addUIToRoot(this._view),this._view.makeFullScreen(),this._view.closeBtn.onClick(this._onCloseClick,this),this._view.openBtn.onClick(this._onOpenClick,this),this._initData()},c._initData=function(){},c._onCloseClick=function(){f.PlaySound_UICommonClose(),_.emit(p.UI_GIFT_RED_ENVELOPE_CLOSE)},c._onOpenClick=function(){var e=i(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f.PlaySound_UICommonClick(),this._view.openBtn.touchable=!1,e.next=4,h(10);case 4:e.sent.result?this._onCloseClick():this._view&&(this._view.openBtn.touchable=!0);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n(s,null,[{key:"instance",get:function(){return this._instance}}]),s}(v)).CTRL_NAME="UIGiftRedEnvelopeController",C._instance=null,d=C))||d);s._RF.pop()}}}));

System.register("chunks:///_virtual/ui.gift.red.envelope.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(e){"use strict";var t,n,i,o;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,i=e._decorator},function(e){o=e.GComponent}],execute:function(){var s,r;n._RF.push({},"319068JFXhJXYpyM3QMD2sn","ui.gift.red.envelope.view",void 0);var u=i.ccclass;e("default",u("UIGiftRedEnvelopeView")(((r=function(e){function n(){var t;return(t=e.call(this)||this).closeBtn=void 0,t.openBtn=void 0,t}return t(n,e),n.prototype.onConstruct=function(){this.closeBtn=this.getChild("BgMask"),this.openBtn=this.getChild("ui_BtnRedEnvelope")},n}(o)).URL="ui://RedEnvelope/Main",s=r))||s);n._RF.pop()}}}));

System.register("chunks:///_virtual/ui.gift.tabi.controller.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./api.tabi.evm.quest.ts","./event.dispatcher.ts","./event.name.ts","./table.helper.ts","./model.mainrole.manager.ts","./sound.helper.ts","./common.tool.ts","./ui.float.text.controller.ts","./ui.base.controller.ts","./ui.gift.tabi.reward.item.view.ts","./sdk.manager.ts"],(function(t){"use strict";var e,i,s,n,a,r,h,o,c,l,_,p,u,d,v,I,g,w,f,S,m,C,b,T,k,x;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass,s=t.asyncToGenerator,n=t.regeneratorRuntime},function(t){a=t.cclegacy,r=t._decorator,h=t.input,o=t.Input,c=t.KeyCode,l=t.error},function(t){_=t.UIPackage},function(t){p=t.apiGetQuestStatus,u=t.apiBindAddress,d=t.apiCheckStage2,v=t.apiCheckStage3,I=t.apiGetAward},function(t){g=t.EventDispatcher},function(t){w=t.EventName},function(t){f=t.TableHelper},function(t){S=t.ModelMainRoleManager},function(t){m=t.SoundHelper},function(t){C=t.CommonTool},function(t){b=t.UIFloatTextController},function(t){T=t.UIBaseController},function(t){k=t.default},function(t){x=t.SDKManager}],execute:function(){var B,D;a._RF.push({},"dd396ucJE1AWqfLB5A/qtCb","ui.gift.tabi.controller",void 0);var F=r.ccclass;t("UIGiftTabiController",F("UIGiftTabiController")(((D=function(t){function a(){for(var e,i=arguments.length,s=new Array(i),n=0;n<i;n++)s[n]=arguments[n];return(e=t.call.apply(t,[this].concat(s))||this).mFguiPkgName="Gift_Tabi",e.mFguiMainViewName="Main",e._view=null,e.mTabiStage2URL="https://carnival.tabichain.com/",e.mTabiStage3URL="https://carnival.tabichain.com/",e.mStage1Address="",e.mIsStage1Finish=!1,e.mIsStage2Finish=!1,e.mIsStage3Finish=!1,e}e(a,t);var r=a.prototype;return r._addEvents=function(){t.prototype._addEvents.call(this),h.on(o.EventType.KEY_DOWN,this._onKeyDown,this),g.on(w.GIFT_ACTIVITY_LIST_DATA_CHANGED,this._onGiftTabiListDataChanged,this)},r._removeEvents=function(){t.prototype._removeEvents.call(this),h.off(o.EventType.KEY_DOWN,this._onKeyDown,this),g.off(w.GIFT_ACTIVITY_LIST_DATA_CHANGED,this._onGiftTabiListDataChanged,this)},r._onKeyDown=function(t){switch(t.keyCode){case c.ESCAPE:this._onCloseClick()}},r._onGiftTabiListDataChanged=function(){null!=this._view&&this._refreshStep4()},r.onLoad=function(){a._instance=this,this._startLoadPkg(this.mFguiPkgName)},r.onDestroy=function(){t.prototype.onDestroy.call(this),a._instance=null},r.closeUI=function(){t.prototype.closeUI.call(this)},r.update=function(){this._view},r._onLoadUIFinish=function(){t.prototype._onLoadUIFinish.call(this),this._view=_.createObject(this.mFguiPkgName,this.mFguiMainViewName).asCom,this._addUIToRoot(this._view),this._view.makeFullScreen(),this._view.closeBtn.onClick(this._onCloseClick,this),this._view.step1Btn.onClick(this._onStep1Click,this),this._view.step2Btn.onClick(this._onStep2Click,this),this._view.step3Btn.onClick(this._onStep3Click,this),this._view.step4Btn.onClick(this._onStep4Click,this),this._view.bindingCloseBtn.onClick(this._onBindingCloseClick,this),this._view.bindingBtn.onClick(this._onBindingClick,this),this._initData()},r._initData=function(){this._view.step1Desc.text=f.getI18nUIText("u.12908"),this._view.step2Desc.text=f.getI18nUIText("u.12909"),this._view.step3Desc.text=f.getI18nUIText("u.12910"),this._view.step1Addr.visible=!1,this._view.step1AddrBG.visible=!1,this._refreshRewardItemList(),this._loadTabiData()},r._refreshRewardItemList=function(){this._view.step4RewardList.removeChildrenToPool();var t=f.getActivityAwardRecord(S.instance.TabiAwardTableID);if(t)for(var e=t.award.split(";"),i=0;i<e.length;i++){var s=e[i].split("-");if(s.length<2)return;var n=Number.parseInt(s[0]),a=Number.parseInt(s[1]);this._view.step4RewardList.addItemFromPool(k.URL).setRewardData(n,a)}},r._loadTabiData=function(){var t=s(n().mark((function t(){var e;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this._view.isNoneCtrl.selectedIndex=2,this.mIsStage1Finish=!1,this.mIsStage2Finish=!1,this.mIsStage3Finish=!1,this.mStage1Address="",t.prev=5,t.next=8,p();case 8:(e=t.sent)&&(this.mIsStage1Finish=1===e.stage1,this.mIsStage2Finish=1===e.stage2,this.mIsStage3Finish=1===e.stage3,this.mIsStage1Finish&&(this.mStage1Address=e.address)),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(5),l(t.t0);case 15:return t.prev=15,null!=this._view&&(this._view.isNoneCtrl.selectedIndex=0),this._refreshStep1(),this._refreshStep2(),this._refreshStep3(),this._refreshStep4(),t.finish(15);case 22:case"end":return t.stop()}}),t,this,[[5,12,15,22]])})));return function(){return t.apply(this,arguments)}}(),r._refreshStep1=function(){null!=this._view&&(this._view.step1Btn.enabled=!0,this.mIsStage1Finish?(this._view.step1DoneCtrl.selectedIndex=1,this._view.step1Addr.text=C.shortAddress(this.mStage1Address,8),this._view.step1Addr.visible=!0,this._view.step1AddrBG.visible=!0,this._view.step1Btn.visible=!1):(this._view.step1DoneCtrl.selectedIndex=0,this._view.setStepBtnData(this._view.step1Btn,!1,f.getI18nUIText("u.12901")),this._view.step1Addr.visible=!1,this._view.step1AddrBG.visible=!1,this._view.step1Btn.visible=!0))},r._refreshStep2=function(){if(null!=this._view)if(this.mIsStage1Finish)if(this._view.step2Btn.enabled=!0,this.mIsStage2Finish)this._view.step2DoneCtrl.selectedIndex=1,this._view.setStepBtnData(this._view.step2Btn,!0,f.getI18nUIText("u.12906"));else{this._view.step2DoneCtrl.selectedIndex=0;var t="";t=S.instance.IsTabiStage2Check?f.getI18nUIText("u.12903"):f.getI18nUIText("u.12902"),this._view.setStepBtnData(this._view.step2Btn,!1,t)}else this._view.step2DoneCtrl.selectedIndex=0,this._view.setStepBtnData(this._view.step2Btn,!1,f.getI18nUIText("u.12902")),this._view.step2Btn.enabled=!1},r._refreshStep3=function(){if(null!=this._view)if(this.mIsStage1Finish)if(this._view.step3Btn.enabled=!0,this.mIsStage3Finish)this._view.step3DoneCtrl.selectedIndex=1,this._view.setStepBtnData(this._view.step3Btn,!0,f.getI18nUIText("u.12906"));else{this._view.step3DoneCtrl.selectedIndex=0;var t="";t=S.instance.IsTabiStage3Check?f.getI18nUIText("u.12903"):f.getI18nUIText("u.12902"),this._view.setStepBtnData(this._view.step3Btn,!1,t)}else this._view.step3DoneCtrl.selectedIndex=0,this._view.setStepBtnData(this._view.step3Btn,!1,f.getI18nUIText("u.12902")),this._view.step3Btn.enabled=!1},r._refreshStep4=function(){null!=this._view&&(this.mIsStage1Finish&&this.mIsStage2Finish&&this.mIsStage3Finish?(this._view.step4Btn.enabled=!0,S.instance.ActivityData.includes(S.instance.TabiAwardTableID)?(this._view.step4DoneCtrl.selectedIndex=1,this._view.setStepBtnData(this._view.step4Btn,!0,f.getI18nUIText("u.12905")),this._view.setStepBtnRedPoint(this._view.step4Btn,!1)):(this._view.step4DoneCtrl.selectedIndex=0,this._view.setStepBtnData(this._view.step4Btn,!1,f.getI18nUIText("u.12904")),this._view.setStepBtnRedPoint(this._view.step4Btn,!0))):(this._view.step4DoneCtrl.selectedIndex=0,this._view.setStepBtnData(this._view.step4Btn,!1,f.getI18nUIText("u.12904")),this._view.setStepBtnRedPoint(this._view.step4Btn,!1),this._view.step4Btn.enabled=!1))},r._onCloseClick=function(){m.PlaySound_UICommonClose(),g.emit(w.UI_GIFT_TABI_CLOSE)},r._onStep1Click=function(){m.PlaySound_UICommonClick(),this._view.bindingView.visible=!0,this._view.bindingInput.text=""},r._onStep2Click=function(){m.PlaySound_UICommonClick(),S.instance.IsTabiStage2Check?this._checkTabiStage2():(x.instance.curSDKPlugin.openUrl(this.mTabiStage2URL),S.instance.IsTabiStage2Check=!0,this._view.step2Btn.text=f.getI18nUIText("u.12903"))},r._onStep3Click=function(){m.PlaySound_UICommonClick(),S.instance.IsTabiStage3Check?this._checkTabiStage3():(x.instance.curSDKPlugin.openUrl(this.mTabiStage3URL),S.instance.IsTabiStage3Check=!0,this._view.step3Btn.text=f.getI18nUIText("u.12903"))},r._onStep4Click=function(){m.PlaySound_UICommonClick(),this._checkTabiStage4()},r._onBindingCloseClick=function(){m.PlaySound_UICommonClose(),this._view.bindingView.visible=!1},r._onBindingClick=function(){m.PlaySound_UICommonClick(),this._view.bindingInput.text.startsWith("0x")&&42===this._view.bindingInput.text.length?this._checkTabiStage1():b.AddTipI18nID_Failed("u.2531")},r._checkTabiStage1=function(){var t=s(n().mark((function t(){var e,i;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e={address:this._view.bindingInput.text},t.next=4,u(e);case 4:(i=t.sent)&&i.ok?(this.mIsStage1Finish=!0,this.mStage1Address=i.address,null!=this._view&&(this._view.bindingView.visible=!1)):(this.mIsStage1Finish=!1,this.mStage1Address="",i&&b.AddTipText_Failed(i.msg)),t.next=14;break;case 8:t.prev=8,t.t0=t.catch(0),l(t.t0),this.mIsStage1Finish=!1,this.mStage1Address="",b.AddTipI18nID_Failed("u.2532");case 14:return t.prev=14,this._refreshStep1(),this._refreshStep2(),this._refreshStep3(),this._refreshStep4(),t.finish(14);case 20:case"end":return t.stop()}}),t,this,[[0,8,14,20]])})));return function(){return t.apply(this,arguments)}}(),r._checkTabiStage2=function(){var t=s(n().mark((function t(){var e;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,d();case 3:(e=t.sent)&&(this.mIsStage2Finish=1===e.stage2),t.next=13;break;case 7:t.prev=7,t.t0=t.catch(0),l(t.t0),this.mIsStage2Finish=!1,S.instance.IsTabiStage2Check=!1,b.AddTipI18nID_Failed("u.2533");case 13:return t.prev=13,this._refreshStep2(),this._refreshStep4(),t.finish(13);case 17:case"end":return t.stop()}}),t,this,[[0,7,13,17]])})));return function(){return t.apply(this,arguments)}}(),r._checkTabiStage3=function(){var t=s(n().mark((function t(){var e;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,v();case 3:(e=t.sent)&&(this.mIsStage3Finish=1===e.stage3),t.next=13;break;case 7:t.prev=7,t.t0=t.catch(0),l(t.t0),this.mIsStage3Finish=!1,S.instance.IsTabiStage3Check=!1,b.AddTipI18nID_Failed("u.2533");case 13:return t.prev=13,this._refreshStep3(),this._refreshStep4(),t.finish(13);case 17:case"end":return t.stop()}}),t,this,[[0,7,13,17]])})));return function(){return t.apply(this,arguments)}}(),r._checkTabiStage4=function(){var t=s(n().mark((function t(){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,I();case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),l(t.t0);case 8:case"end":return t.stop()}}),t,null,[[0,5]])})));return function(){return t.apply(this,arguments)}}(),i(a,null,[{key:"instance",get:function(){return this._instance}}]),a}(T)).CTRL_NAME="UIGiftTabiController",D._instance=null,B=D))||B);a._RF.pop()}}}));

System.register("chunks:///_virtual/ui.gift.tabi.reward.item.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./table.helper.ts","./resource.path.tool.ts"],(function(t){"use strict";var e,i,r,o,n,u;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy,r=t._decorator},function(t){o=t.GButton},function(t){n=t.TableHelper},function(t){u=t.ResourcePathTool}],execute:function(){var a,c;i._RF.push({},"ec12bP5IFlCBbcXJj5zXje5","ui.gift.tabi.reward.item.view",void 0);var s=r.ccclass;t("default",s("UIGiftTabiRewardItemView")(((c=function(t){function i(){var e;return(e=t.call(this)||this).rewardIcon=void 0,e.rewardNum=void 0,e}e(i,t);var r=i.prototype;return r.onConstruct=function(){this.rewardIcon=this.getChild("ui_CoinIcon"),this.rewardNum=this.getChild("ui_CoinAmount")},r.setRewardData=function(t,e){var i=n.getItemRecord(t);i&&(this.rewardIcon.url=u.getUIFarmItemPath(i.itemIcon)),this.rewardNum.text="x"+e},i}(o)).URL="ui://Gift_Tabi/gift_item",a=c))||a);i._RF.pop()}}}));

System.register("chunks:///_virtual/ui.gift.tabi.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){"use strict";var i,e,s,n;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy,s=t._decorator},function(t){n=t.GComponent}],execute:function(){var o,d;e._RF.push({},"9947cUeI6BEKIw6pqOZYWX+","ui.gift.tabi.view",void 0);var h=s.ccclass;t("default",h("UIGiftTabiView")(((d=function(t){function e(){var i;return(i=t.call(this)||this).isNoneCtrl=void 0,i.closeBtn=void 0,i.step1View=void 0,i.step1DoneCtrl=void 0,i.step1Desc=void 0,i.step1Btn=void 0,i.step1Addr=void 0,i.step1AddrBG=void 0,i.step2View=void 0,i.step2DoneCtrl=void 0,i.step2Desc=void 0,i.step2Btn=void 0,i.step3View=void 0,i.step3DoneCtrl=void 0,i.step3Desc=void 0,i.step3Btn=void 0,i.step4View=void 0,i.step4DoneCtrl=void 0,i.step4RewardList=void 0,i.step4Btn=void 0,i.bindingView=void 0,i.bindingCloseBtn=void 0,i.bindingInput=void 0,i.bindingBtn=void 0,i}i(e,t);var s=e.prototype;return s.onConstruct=function(){this.isNoneCtrl=this.getController("IsNone"),this.closeBtn=this.getChild("ui_WindClose");var t=this.getChild("ui_Content");this.step1View=t.getChild("ui_Step1"),this.step1DoneCtrl=this.step1View.getController("IsDone"),this.step1Desc=this.step1View.getChild("ui_Des"),this.step1Btn=this.step1View.getChild("ui_BtnGo"),this.step1Addr=this.step1View.getChild("ui_WalletAddress"),this.step1AddrBG=this.step1View.getChild("WalletAddressBg"),this.step2View=t.getChild("ui_Step2"),this.step2DoneCtrl=this.step2View.getController("IsDone"),this.step2Desc=this.step2View.getChild("ui_Des"),this.step2Btn=this.step2View.getChild("ui_BtnGo"),this.step3View=t.getChild("ui_Step3"),this.step3DoneCtrl=this.step3View.getController("IsDone"),this.step3Desc=this.step3View.getChild("ui_Des"),this.step3Btn=this.step3View.getChild("ui_BtnGo"),this.step4View=t.getChild("ui_Step4"),this.step4DoneCtrl=this.step4View.getController("IsDone"),this.step4RewardList=this.step4View.getChild("n97"),this.step4Btn=this.step4View.getChild("ui_BtnGo"),this.bindingView=this.getChild("ui_BindingAddr");var i=this.bindingView.getChild("ui_BindingWind");this.bindingCloseBtn=i.getChild("ui_WindClose"),this.bindingInput=i.getChild("ui_Input"),this.bindingBtn=i.getChild("ui_BtnBinding")},s.setStepBtnData=function(t,i,e){var s=t.getController("IsDone");(s&&(s.selectedIndex=i?1:0,t.touchable=!i),i)?t.getChild("title2").text=e:t.getChild("title").text=e},s.setStepBtnRedPoint=function(t,i){var e=t.getChild("UI_TipSp");e&&(e.visible=i)},e}(n)).URL="ui://Gift_Tabi/Main",o=d))||o);e._RF.pop()}}}));

System.register("chunks:///_virtual/ui.gift.tomarket.controller.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./api.tomarket.award.ts","./event.dispatcher.ts","./event.name.ts","./table.helper.ts","./sound.helper.ts","./logic.tool.ts","./resource.path.tool.ts","./ui.base.controller.ts"],(function(t){"use strict";var e,n,i,o,r,a,s,c,u,l,h,_,f,p,m,v,k,g,C,y;return{setters:[function(t){e=t.inheritsLoose,n=t.createClass,i=t.asyncToGenerator,o=t.regeneratorRuntime},function(t){r=t.cclegacy,a=t._decorator,s=t.input,c=t.Input,u=t.KeyCode,l=t.error},function(t){h=t.UIPackage},function(t){_=t.apiTomarketGetStatus,f=t.apiTomarketClaimAward},function(t){p=t.EventDispatcher},function(t){m=t.EventName},function(t){v=t.TableHelper},function(t){k=t.SoundHelper},function(t){g=t.LogicTool},function(t){C=t.ResourcePathTool},function(t){y=t.UIBaseController}],execute:function(){var I,T;r._RF.push({},"a1381y2loZOP55UzNWKqOV2","ui.gift.tomarket.controller",void 0);var d=a.ccclass;t("UIGiftTomarketController",d("UIGiftTomarketController")(((T=function(t){function r(){for(var e,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))||this).mFguiPkgName="GiftBonus",e.mFguiMainViewName="Main",e._view=null,e}e(r,t);var a=r.prototype;return a._addEvents=function(){t.prototype._addEvents.call(this),s.on(c.EventType.KEY_DOWN,this._onKeyDown,this)},a._removeEvents=function(){t.prototype._removeEvents.call(this),s.off(c.EventType.KEY_DOWN,this._onKeyDown,this)},a._onKeyDown=function(t){switch(t.keyCode){case u.ESCAPE:this._onCloseClick()}},a.onLoad=function(){r._instance=this,this._startLoadPkg(this.mFguiPkgName)},a.onDestroy=function(){t.prototype.onDestroy.call(this),r._instance=null},a.closeUI=function(){t.prototype.closeUI.call(this)},a.update=function(){this._view},a._onLoadUIFinish=function(){t.prototype._onLoadUIFinish.call(this),this._view=h.createObject(this.mFguiPkgName,this.mFguiMainViewName).asCom,this._addUIToRoot(this._view),this._view.makeFullScreen(),this._view.bgMask.onClick(this._onCloseClick,this),this._view.claimBtn.onClick(this._onClaimClick,this),this._initData()},a._initData=function(){var t=i(o().mark((function t(){var e;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this._view.giftIcon.url=C.getUIFarmItemPath("PlatformIcon_Tomarket"),this._view.giftDesc.text="",t.prev=2,t.next=5,_();case 5:(e=t.sent)&&1===e.status?this._view.giftDesc.text=g.i18nFormat(v.getI18nUIText("u.13201"),[e.amount.toString()]):this._view.giftDesc.text=g.i18nFormat(v.getI18nUIText("u.13201"),["0"]),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),l(t.t0);case 12:case"end":return t.stop()}}),t,this,[[2,9]])})));return function(){return t.apply(this,arguments)}}(),a._onCloseClick=function(){k.PlaySound_UICommonClose(),p.emit(m.UI_GIFT_TOMARKET_CLOSE)},a._onClaimClick=function(){var t=i(o().mark((function t(){var e;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return k.PlaySound_UICommonClick(),t.prev=1,t.next=4,f();case 4:(e=t.sent)&&2===e.status&&(p.emit(m.GIFT_TOMARKET_LIST_DATA_CHANGED),p.emit(m.UI_GIFT_TOMARKET_CLOSE)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),l(t.t0);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(){return t.apply(this,arguments)}}(),n(r,null,[{key:"instance",get:function(){return this._instance}}]),r}(y)).CTRL_NAME="UIGiftTomarketController",T._instance=null,I=T))||I);r._RF.pop()}}}));

System.register("chunks:///_virtual/ui.gift.tomarket1.controller.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./event.dispatcher.ts","./event.name.ts","./table.helper.ts","./model.charge.define.ts","./model.charge.manager.ts","./sound.helper.ts","./time.system.ts","./ui.base.controller.ts"],(function(e){"use strict";var t,n,i,o,r,s,a,l,c,u,h,f,m,_,p,v,d,C;return{setters:[function(e){t=e.inheritsLoose,n=e.createClass,i=e.asyncToGenerator,o=e.regeneratorRuntime},function(e){r=e.cclegacy,s=e._decorator,a=e.input,l=e.Input,c=e.KeyCode},function(e){u=e.UIPackage},function(e){h=e.EventDispatcher},function(e){f=e.EventName},function(e){m=e.TableHelper},function(e){_=e.EMonthlyCardType},function(e){p=e.ModelChargeManager},function(e){v=e.SoundHelper},function(e){d=e.TimeSystem},function(e){C=e.UIBaseController}],execute:function(){var g,k;r._RF.push({},"452103XQuFHhJZq5u/k+ml8","ui.gift.tomarket1.controller",void 0);var y=s.ccclass;e("UIGiftTomarket1Controller",y("UIGiftTomarket1Controller")(((k=function(e){function r(){for(var t,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))||this).mFguiPkgName="Gift_Tomarket",t.mFguiMainViewName="Main",t._view=null,t.mIsGuide=!1,t}t(r,e);var s=r.prototype;return s.setGuide=function(e){this.mIsGuide=e},s._addEvents=function(){e.prototype._addEvents.call(this),a.on(l.EventType.KEY_DOWN,this._onKeyDown,this)},s._removeEvents=function(){e.prototype._removeEvents.call(this),a.off(l.EventType.KEY_DOWN,this._onKeyDown,this)},s._onKeyDown=function(e){switch(e.keyCode){case c.ESCAPE:this._onCloseClick()}},s.onLoad=function(){r._instance=this,this._startLoadPkg(this.mFguiPkgName)},s.onDestroy=function(){e.prototype.onDestroy.call(this),r._instance=null},s.closeUI=function(){e.prototype.closeUI.call(this)},s.update=function(){this._view},s._onLoadUIFinish=function(){e.prototype._onLoadUIFinish.call(this),this._view=u.createObject(this.mFguiPkgName,this.mFguiMainViewName).asCom,this._addUIToRoot(this._view),this._view.makeFullScreen(),this._view.guideCloseBtn.onClick(this._onCloseClick,this),this._view.guideConfirmBtn.onClick(this._onCloseClick,this),this._view.detailCloseBtn.onClick(this._onCloseClick,this),this._view.detailConfirmBtn.onClick(this._onCloseClick,this),this._initData()},s._initData=function(){var e=i(o().mark((function e(){var t,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.mIsGuide){e.next=4;break}this._view.stateCtrl.selectedIndex=0,e.next=11;break;case 4:if(this._view.stateCtrl.selectedIndex=1,t=p.instance.getMonthlyCardData(_.Channel_Tomarket)){e.next=8;break}return e.abrupt("return");case 8:n=Math.ceil((t.expirationTime-d.instance.getTimestamp())/86400),this._view.remainTime.text=n+" "+m.getI18nUIText("u.11309"),this._refreshPrivilegeData();case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),s._refreshPrivilegeData=function(){var e=0,t=m.getMonthlyCard(_.Channel_Tomarket);if(t)for(var n=t.privilege.split(";"),i=0;i<n.length;i++){var o=n[i].split("-");if(2===o.length&&1===Number.parseInt(o[0])){e=Number.parseInt(o[1]);break}}this._view.privilegeValue.text="+"+e+"%"},s._onCloseClick=function(){var e=i(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:v.PlaySound_UICommonClose(),h.emit(f.UI_GIFT_TOMARKET_CLOSE);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),n(r,null,[{key:"instance",get:function(){return this._instance}}]),r}(C)).CTRL_NAME="UIGiftTomarket1Controller",k._instance=null,g=k))||g);r._RF.pop()}}}));

System.register("chunks:///_virtual/ui.gift.tomarket1.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(i){"use strict";var t,e,n,d;return{setters:[function(i){t=i.inheritsLoose},function(i){e=i.cclegacy,n=i._decorator},function(i){d=i.GComponent}],execute:function(){var s,o;e._RF.push({},"88de4RpIq5Ncq+95qZ6TX5T","ui.gift.tomarket1.view",void 0);var l=n.ccclass;i("default",l("UIGiftTomarket1View")(((o=function(i){function e(){var t;return(t=i.call(this)||this).stateCtrl=void 0,t.bgMask=void 0,t.windGuide=void 0,t.guideCloseBtn=void 0,t.guideConfirmBtn=void 0,t.windDetail=void 0,t.detailCloseBtn=void 0,t.detailConfirmBtn=void 0,t.privilegeValue=void 0,t.remainTime=void 0,t}return t(e,i),e.prototype.onConstruct=function(){this.stateCtrl=this.getController("State"),this.bgMask=this.getChild("BgMask"),this.windGuide=this.getChild("ui_Wind_UserGuide"),this.guideCloseBtn=this.windGuide.getChild("ui_WindClose"),this.guideConfirmBtn=this.windGuide.getChild("ui_BtnConfirm"),this.windDetail=this.getChild("ui_Wind_Details"),this.detailCloseBtn=this.windDetail.getChild("ui_WindClose"),this.detailConfirmBtn=this.windDetail.getChild("ui_BtnConfirm"),this.privilegeValue=this.windDetail.getChild("ui_PrivilegeValue"),this.remainTime=this.windDetail.getChild("ui_EndTimeValue")},e}(d)).URL="ui://Gift_Tomarket/Main",s=o))||s);e._RF.pop()}}}));

System.register("chunks:///_virtual/ui.gift.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(i){"use strict";var t,n,s,o;return{setters:[function(i){t=i.inheritsLoose},function(i){n=i.cclegacy,s=i._decorator},function(i){o=i.GComponent}],execute:function(){var e,u;n._RF.push({},"8e17f5OC71K1L58oKZ/ok+M","ui.gift.view",void 0);var c=s.ccclass;i("default",c("UIGiftView")(((u=function(i){function n(){var t;return(t=i.call(this)||this).wind=void 0,t.bgMask=void 0,t.giftIcon=void 0,t.giftDesc=void 0,t.claimBtn=void 0,t}return t(n,i),n.prototype.onConstruct=function(){this.bgMask=this.getChild("BgMask"),this.wind=this.getChild("ui_GiftBonusWind"),this.giftIcon=this.wind.getChild("ui_BonusIcon"),this.giftDesc=this.wind.getChild("ui_Descriptions"),this.claimBtn=this.wind.getChild("ui_BtnClaim")},n}(o)).URL="ui://GiftBonus/Main",e=u))||e);n._RF.pop()}}}));

System.register("chunks:///_virtual/ui.gift.x.controller.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./api.legacy.x.ts","./event.dispatcher.ts","./event.name.ts","./table.helper.ts","./sound.helper.ts","./resource.path.tool.ts","./ui.base.controller.ts"],(function(t){"use strict";var e,n,i,r,o,a,s,c,u,l,h,f,p,_,m,v,C,I,g;return{setters:[function(t){e=t.inheritsLoose,n=t.createClass,i=t.asyncToGenerator,r=t.regeneratorRuntime},function(t){o=t.cclegacy,a=t._decorator,s=t.input,c=t.Input,u=t.KeyCode,l=t.error},function(t){h=t.UIPackage},function(t){f=t.apiLegacyXGetStatus,p=t.apiLegacyXClaimAward},function(t){_=t.EventDispatcher},function(t){m=t.EventName},function(t){v=t.TableHelper},function(t){C=t.SoundHelper},function(t){I=t.ResourcePathTool},function(t){g=t.UIBaseController}],execute:function(){var y,d;o._RF.push({},"4b5f8yfuTVJHos5P6e49Q9W","ui.gift.x.controller",void 0);var k=a.ccclass;t("UIGiftXController",k("UIGiftXController")(((d=function(t){function o(){for(var e,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))||this).mFguiPkgName="GiftBonus",e.mFguiMainViewName="Main",e._view=null,e.mCurGiftID=0,e}e(o,t);var a=o.prototype;return a._addEvents=function(){t.prototype._addEvents.call(this),s.on(c.EventType.KEY_DOWN,this._onKeyDown,this)},a._removeEvents=function(){t.prototype._removeEvents.call(this),s.off(c.EventType.KEY_DOWN,this._onKeyDown,this)},a._onKeyDown=function(t){switch(t.keyCode){case u.ESCAPE:this._onCloseClick()}},a.onLoad=function(){o._instance=this,this._startLoadPkg(this.mFguiPkgName)},a.onDestroy=function(){t.prototype.onDestroy.call(this),o._instance=null},a.closeUI=function(){t.prototype.closeUI.call(this)},a.update=function(){this._view},a._onLoadUIFinish=function(){t.prototype._onLoadUIFinish.call(this),this._view=h.createObject(this.mFguiPkgName,this.mFguiMainViewName).asCom,this._addUIToRoot(this._view),this._view.makeFullScreen(),this._view.bgMask.onClick(this._onCloseClick,this),this._view.claimBtn.onClick(this._onClaimClick,this),this._initData()},a._initData=function(){var t=i(r().mark((function t(){var e,n,i,o,a,s,c;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.mCurGiftID=0,this._view.giftIcon.url="",this._view.giftDesc.text=v.getI18nUIText("u.13200"),t.prev=3,t.next=6,f();case 6:(e=t.sent)&&1===e.status&&(this.mCurGiftID=e.awardId),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(3),l(t.t0);case 13:if(0===this.mCurGiftID){t.next=29;break}if(!(n=v.getActivityAwardRecord(this.mCurGiftID))){t.next=29;break}i=n.award.split(";"),o=0;case 18:if(!(o<i.length)){t.next=29;break}if(!((a=i[o].split("-")).length<2)){t.next=22;break}return t.abrupt("return");case 22:return s=Number.parseInt(a[0]),(c=v.getItemRecord(s))&&(this._view.giftIcon.url=I.getUIFarmItemPath(c.itemIcon)),t.abrupt("break",29);case 26:o++,t.next=18;break;case 29:case"end":return t.stop()}}),t,this,[[3,10]])})));return function(){return t.apply(this,arguments)}}(),a._onCloseClick=function(){C.PlaySound_UICommonClose(),_.emit(m.UI_GIFT_X_CLOSE)},a._onClaimClick=function(){var t=i(r().mark((function t(){var e;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return C.PlaySound_UICommonClick(),t.prev=1,t.next=4,p();case 4:(e=t.sent)&&2===e.status&&(_.emit(m.GIFT_X_LIST_DATA_CHANGED),_.emit(m.UI_GIFT_X_CLOSE)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),l(t.t0);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(){return t.apply(this,arguments)}}(),n(o,null,[{key:"instance",get:function(){return this._instance}}]),o}(g)).CTRL_NAME="UIGiftXController",d._instance=null,y=d))||y);o._RF.pop()}}}));

System.register("chunks:///_virtual/ui.gm.asset.controller.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./event.dispatcher.ts","./event.name.ts","./sound.helper.ts","./ui.base.controller.ts","./table.manager.ts","./enum.farm.object.type.ts"],(function(t){"use strict";var e,s,n,i,a,o,r,l,c,m,u,h,_,f,I,v,p;return{setters:[function(t){e=t.inheritsLoose,s=t.createClass,n=t.asyncToGenerator,i=t.regeneratorRuntime},function(t){a=t.cclegacy,o=t._decorator,r=t.input,l=t.Input,c=t.KeyCode},function(t){m=t.UIPackage,u=t.Event},function(t){h=t.EventDispatcher},function(t){_=t.EventName},function(t){f=t.SoundHelper},function(t){I=t.UIBaseController},function(t){v=t.TableManager},function(t){p=t.EFarmObjectType}],execute:function(){var d,A;a._RF.push({},"f11a2nlQsdNnqBZiSkiwqrc","ui.gm.asset.controller",void 0);var C=o.ccclass;t("UIGmAssetController",C("UIGmAssetController")(((A=function(t){function a(){for(var e,s=arguments.length,n=new Array(s),i=0;i<s;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))||this).mFguiPkgName="BagRes",e.mFguiMainViewName="Main",e._view=null,e.mAssetInGameData=null,e.mAssetDetailID=0,e.mGmUsedAsset=[],e}e(a,t);var o=a.prototype;return o._addEvents=function(){t.prototype._addEvents.call(this),r.on(l.EventType.KEY_DOWN,this._onKeyDown,this)},o._removeEvents=function(){t.prototype._removeEvents.call(this),r.off(l.EventType.KEY_DOWN,this._onKeyDown,this)},o._onKeyDown=function(t){switch(t.keyCode){case c.ESCAPE:this._onCloseClick()}},o.onLoad=function(){a._instance=this,this._startLoadPkg(this.mFguiPkgName)},o.onDestroy=function(){t.prototype.onDestroy.call(this),a._instance=null},o._onLoadUIFinish=function(){t.prototype._onLoadUIFinish.call(this),this._view=m.createObject(this.mFguiPkgName,this.mFguiMainViewName).asCom,this._addUIToRoot(this._view),this._view.makeFullScreen(),this._view.closeBtn.onClick(this._onCloseClick,this),this._view.itemList.itemRenderer=this.renderAssetInGameItem.bind(this),this._view.itemList.setVirtual(),this._view.itemList.on(u.CLICK_ITEM,this._onAssetInGameItemClick,this),this.initAllAssetData(),this._showData()},o.initAllAssetData=function(){for(var t=v.instance.tableFarmRes.getAllResList(),e=0;e<t.length;e+=1){var s=t[e].type;s!==p.CommonGrass&&s!==p.CommonGround&&s!==p.CommonTerrain&&(0!==t[e].itemId&&this.mGmUsedAsset.push(t[e]))}},o._showData=function(){var t=n(i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.mAssetDetailID=0,this._refreshAssetInGameList();case 2:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),o._onCloseClick=function(){var t=n(i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:f.PlaySound_UICommonClose(),h.emit(_.UI_GM_ASSET_CLOSE);case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),o._onAssetInGameItemClick=function(){f.PlaySound_UICommonClick();var t=this._view.itemList.selectedIndex,e=this.mAssetInGameData[t];this._refreshAssetInGameDetail(e)},o._refreshAssetInGameList=function(t){var e;void 0===t&&(t=!0),this._view.isNoneCtrl.selectedIndex=2;var s=this.mGmUsedAsset;this.mAssetInGameData=[],(e=this.mAssetInGameData).push.apply(e,s);var n=this.mAssetInGameData.length;this._view.isNoneCtrl.selectedIndex=n<=0?1:0,this._view.itemList.numItems!==n?this._view.itemList.numItems=n:this._view.itemList.refreshVirtualList(),t&&this._view.itemList.scrollToView(0)},o.renderAssetInGameItem=function(t,e){t>=this.mAssetInGameData.length||e.setGmAssetData(this.mAssetInGameData[t])},o._refreshAssetInGameDetail=function(t){null!=t&&(this.mAssetDetailID=t.dataId,h.emit(_.UI_DETAILS_SHOW_ITEM_GM,t))},s(a,null,[{key:"instance",get:function(){return this._instance}}]),a}(I)).CTRL_NAME="UIGmAssetController",A.SHOP_ID=1,A._instance=null,d=A))||d);a._RF.pop()}}}));

System.register("chunks:///_virtual/ui.gm.cmd.define.ts",["./rollupPluginModLoBabelHelpers.js","cc","./event.dispatcher.ts","./event.name.ts","./net.helper.ts","./all.define.ts","./scene.system.ts","./new.guide.manager.ts","./model.mainrole.manager.ts"],(function(n){"use strict";var e,t,o,c,a,i,l,u,r,s,d;return{setters:[function(n){e=n.asyncToGenerator,t=n.regeneratorRuntime},function(n){o=n.cclegacy,c=n.profiler},function(n){a=n.EventDispatcher},function(n){i=n.EventName},function(n){l=n.NetHelper},function(n){u=n.ELanType},function(n){r=n.SceneSystem},function(n){s=n.NewGuideManager},function(n){d=n.ModelMainRoleManager}],execute:function(){o._RF.push({},"ec372ceDwxKP4dvdA8dY6n+","ui.gm.cmd.define",void 0);var f,m,C;n("GM_CMD_DEFINE",[{label:"调试信息开关",dealFunc:function(){c.isShowingStats()?c.hideStats():c.showStats()}},{label:"退出游戏",dealFunc:function(){a.emit(i.GAME_LOGOUT)}},{label:"中文",dealFunc:(C=e(t().mark((function n(){return t().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:a.emit(i.CHANGE_LANGUAGE,u.ZH);case 1:case"end":return n.stop()}}),n)}))),function(){return C.apply(this,arguments)})},{label:"英文",dealFunc:(m=e(t().mark((function n(){return t().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:a.emit(i.CHANGE_LANGUAGE,u.EN);case 1:case"end":return n.stop()}}),n)}))),function(){return m.apply(this,arguments)})},{label:"日文",dealFunc:(f=e(t().mark((function n(){return t().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:a.emit(i.CHANGE_LANGUAGE,u.JP);case 1:case"end":return n.stop()}}),n)}))),function(){return f.apply(this,arguments)})},{label:"编辑农场",dealFunc:function(){r.instance.gotoMap(3),a.emit(i.UI_GM_PANEL_CLOSE)}},{label:"邀请经验",color:255,dealFunc:function(){l.sendChatWorldCommon("//fetch id=21 num=10")}},{label:"银币",color:16777215,dealFunc:function(){l.sendChatWorldCommon("//fetch id=10 num=10000")}},{label:"金币",color:16777215,dealFunc:function(){l.sendChatWorldCommon("//fetch id=11 num=10000")}},{label:"WIZZ币",color:16777215,dealFunc:function(){l.sendChatWorldCommon("//fetch id=12 num=10000")}},{label:"资源1",color:16777215,dealFunc:function(){l.sendChatWorldCommon("//fetch id=13 num=100000")}},{label:"资源2",color:16777215,dealFunc:function(){l.sendChatWorldCommon("//fetch id=14 num=100000")}},{label:"资源3",color:16777215,dealFunc:function(){l.sendChatWorldCommon("//fetch id=15 num=100000")}},{label:"NotCoin 0",color:255,dealFunc:function(){d.instance.NotCoinLevel=0,a.emit(i.UI_GM_PANEL_CLOSE)}},{label:"NotCoin 1",color:255,dealFunc:function(){d.instance.NotCoinLevel=1,a.emit(i.UI_GM_PANEL_CLOSE)}},{label:"NotCoin 2",color:255,dealFunc:function(){d.instance.NotCoinLevel=2,a.emit(i.UI_GM_PANEL_CLOSE)}},{label:"NotCoin 3",color:255,dealFunc:function(){d.instance.NotCoinLevel=3,a.emit(i.UI_GM_PANEL_CLOSE)}},{label:"跳过新手引导",dealFunc:function(){s.instance.SkipGuide(),a.emit(i.UI_GM_PANEL_CLOSE)}}]);o._RF.pop()}}}));

System.register("chunks:///_virtual/ui.gm.farm.edit.controller.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./event.dispatcher.ts","./event.name.ts","./sound.helper.ts","./ui.base.controller.ts","./farm.system.ts","./scene.system.ts"],(function(t){"use strict";var n,e,i,r,o,a,s,c,u,_,l,h,d;return{setters:[function(t){n=t.inheritsLoose,e=t.createClass,i=t.asyncToGenerator,r=t.regeneratorRuntime},function(t){o=t.cclegacy,a=t._decorator},function(t){s=t.UIPackage},function(t){c=t.EventDispatcher},function(t){u=t.EventName},function(t){_=t.SoundHelper},function(t){l=t.UIBaseController},function(t){h=t.FarmSystem},function(t){d=t.SceneSystem}],execute:function(){var E,T;o._RF.push({},"b0005UE6N9Gp5DHfS1n50cf","ui.gm.farm.edit.controller",void 0);var f=a.ccclass;t("UIGmFarmEditController",f("UIGmFarmEditController")(((T=function(t){function o(){for(var n,e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];return(n=t.call.apply(t,[this].concat(i))||this).mFguiPkgName="GM_Editor",n.mFguiMainViewName="Main",n._view=null,n}n(o,t);var a=o.prototype;return a._addEvents=function(){t.prototype._addEvents.call(this),c.on(u.FARM_CHANGE_STATE_TO_TERRAIN_EDITING,this.onEventChangeStateToTerrainEdit,this),c.on(u.FARM_CHANGE_STATE_TO_TERRAIN_ADD,this.onEventChangeStateToTerrainAdd,this),c.on(u.FARM_CHANGE_STATE_TO_ITEM_EDITING,this.onEventChangeStateToItemEdit,this),c.on(u.FARM_CHANGE_STATE_TO_ITEM_ADD,this.onEventChangeStateToItemAdd,this)},a._removeEvents=function(){t.prototype._removeEvents.call(this),c.off(u.FARM_CHANGE_STATE_TO_TERRAIN_EDITING,this.onEventChangeStateToTerrainEdit,this),c.off(u.FARM_CHANGE_STATE_TO_TERRAIN_ADD,this.onEventChangeStateToTerrainAdd,this),c.off(u.FARM_CHANGE_STATE_TO_ITEM_EDITING,this.onEventChangeStateToItemEdit,this),c.off(u.FARM_CHANGE_STATE_TO_ITEM_ADD,this.onEventChangeStateToItemAdd,this)},a.onEventChangeStateToTerrainEdit=function(){this._view&&(this._view.isEditTerrainCtrl.selectedIndex=1)},a.onEventChangeStateToTerrainAdd=function(){this._view&&(this._view.isEditTerrainCtrl.selectedIndex=1)},a.onEventChangeStateToItemEdit=function(){this._view&&(this._view.isEditTerrainCtrl.selectedIndex=0)},a.onEventChangeStateToItemAdd=function(){this._view&&(this._view.isEditTerrainCtrl.selectedIndex=0)},a.onLoad=function(){o._instance=this,this._startLoadPkg(this.mFguiPkgName)},a.onDestroy=function(){t.prototype.onDestroy.call(this),o._instance=null},a.closeUI=function(){t.prototype.closeUI.call(this)},a.update=function(){this._view},a._onLoadUIFinish=function(){t.prototype._onLoadUIFinish.call(this),this._view=s.createObject(this.mFguiPkgName,this.mFguiMainViewName).asCom,this._addUIToRoot(this._view),this._view.makeFullScreen(),this._view.editTerrainBtn.onClick(this._onTerrainEditClick,this),this._view.editAssetBtn.onClick(this._onEditAssetClick,this),this._view.editCancelBtn.onClick(this._onEditCancelClick,this),this._view.editAddBtn.onClick(this._onAddTerrainClick,this),this._view.exportBtn.onClick(this._onExportClick,this),this._view.saveBtn.onClick(this._onSaveClick,this),this._view.exitBtn.onClick(this._onExitClick,this)},a._onTerrainEditClick=function(){var t=i(r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(_.PlaySound_UICommonClick(),!h.instance.IsStateTerrainEdit){t.next=3;break}return t.abrupt("return");case 3:c.emit(u.FARM_CHANGE_STATE_TO_TERRAIN_EDITING);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),a._onEditCancelClick=function(){var t=i(r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:_.PlaySound_UICommonClick(),c.emit(u.FARM_CHANGE_STATE_TO_ITEM_EDITING);case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),a._onEditAssetClick=function(){var t=i(r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:_.PlaySound_UICommonClick(),c.emit(u.UI_GM_ASSET_OPEN,1);case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),a._onAddTerrainClick=function(){var t=i(r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(_.PlaySound_UICommonClick(),!h.instance.IsStateTerrainAdd){t.next=3;break}return t.abrupt("return");case 3:c.emit(u.FARM_CHANGE_STATE_TO_TERRAIN_ADD);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),a._onSaveClick=function(){var t=i(r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:_.PlaySound_UICommonClick(),h.instance.saveEditMapData(),h.instance.exportEditMapJsonData();case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),a._onExportClick=function(){var t=i(r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:_.PlaySound_UICommonClick(),h.instance.putRandomGrassAll();case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),a._onExitClick=function(){var t=i(r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:_.PlaySound_UICommonClick(),d.instance.gotoMap(10);case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),e(o,null,[{key:"instance",get:function(){return this._instance}}]),o}(l)).CTRL_NAME="UIGmFarmEditController",T._instance=null,E=T))||E);o._RF.pop()}}}));

System.register("chunks:///_virtual/ui.gm.farm.edit.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){"use strict";var i,e,n,s;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy,n=t._decorator},function(t){s=t.GComponent}],execute:function(){var d,r;e._RF.push({},"9ad1eDQcj1J+4ip33IAqw51","ui.gm.farm.edit.view",void 0);var o=n.ccclass;t("default",o("UIGmFarmEditView")(((r=function(t){function e(){var i;return(i=t.call(this)||this).isEditTerrainCtrl=void 0,i.editTerrainBtn=void 0,i.editAssetBtn=void 0,i.editCancelBtn=void 0,i.editAddBtn=void 0,i.exportBtn=void 0,i.saveBtn=void 0,i.exitBtn=void 0,i}return i(e,t),e.prototype.onConstruct=function(){this.isEditTerrainCtrl=this.getController("IsEdit"),this.editTerrainBtn=this.getChild("ui_BtnEdit"),this.editAssetBtn=this.getChild("ui_BtnAsset"),this.editCancelBtn=this.getChild("ui_BtnEditCancel"),this.editAddBtn=this.getChild("ui_BtnAdd"),this.exportBtn=this.getChild("ui_BtnExport"),this.saveBtn=this.getChild("ui_BtnSave"),this.exitBtn=this.getChild("ui_BtnExit")},e}(s)).URL="ui://GM_Editor/Main",d=r))||d);e._RF.pop()}}}));

System.register("chunks:///_virtual/ui.gm.panel.controller.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ui.base.controller.ts","./fairygui.mjs","./ui.gm.cmd.define.ts","./net.helper.ts","./event.dispatcher.ts","./event.name.ts"],(function(t){"use strict";var e,n,i,o,r,s,a,c,u,l,h,p,f;return{setters:[function(t){e=t.inheritsLoose,n=t.createClass,i=t.asyncToGenerator,o=t.regeneratorRuntime},function(t){r=t.cclegacy,s=t._decorator,a=t.Color},function(t){c=t.UIBaseController},function(t){u=t.UIPackage},function(t){l=t.GM_CMD_DEFINE},function(t){h=t.NetHelper},function(t){p=t.EventDispatcher},function(t){f=t.EventName}],execute:function(){var v,_;r._RF.push({},"56f7aLjT5ZGebaVLEDKwi0n","ui.gm.panel.controller",void 0);var m=s.ccclass;t("UIGmPanelController",m("UIGmPanelController")(((_=function(t){function r(){for(var e,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))||this).mFguiPkgName="GmPanel",e.mFguiMainViewName="Main",e._view=null,e}e(r,t);var s=r.prototype;return s._addEvents=function(){t.prototype._addEvents.call(this),p.on(f.UI_GM_CLEAR_INPUT,this._onEventClearInput,this)},s._removeEvents=function(){t.prototype._removeEvents.call(this),p.off(f.UI_GM_CLEAR_INPUT,this._onEventClearInput,this)},s._onEventClearInput=function(){this._view&&(this._view.inputMessage.text="")},s.onLoad=function(){r._instance=this,this._startLoadPkg(this.mFguiPkgName)},s.onDestroy=function(){t.prototype.onDestroy.call(this),r._instance=null},s._onLoadUIFinish=function(){t.prototype._onLoadUIFinish.call(this),this._view=u.createObject(this.mFguiPkgName,this.mFguiMainViewName).asCom,this._addUIToRoot(this._view),this._view.makeFullScreen(),this._view.evtCloseBtn.onClick(this._onCloseClick,this),this._view.evtConfirmBtn.onClick(this._onConfirmBClick,this),this._initGmBtnList()},s._initGmBtnList=function(){for(var t=this,e=function(e){var n=l[e],i=t._view.cmdBtnList.addItem();i.text=n.label,n.color&&(i.getChild("icon").color=new a(n.color)),i.onClick((function(){n.dealFunc()}))},n=0;n<l.length;n+=1)e(n)},s._onCloseClick=function(){var t=i(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.closeUI();case 1:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),s._onConfirmBClick=function(){var t=i(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(""!==this._view.inputMessage.text){t.next=2;break}return t.abrupt("return");case 2:this._view.inputMessage.text.startsWith("//twitter key=")?this.SelfFinishTwitterQuest():h.sendChatWorldCommon(this._view.inputMessage.text),this._view.inputMessage.text="";case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),s.SendHpCmd=function(t){void 0===t&&(t=1);var e=Number.parseInt(this._view.inputMessage.text);e>0&&(t=e),h.sendChatWorldCommon("//value gold="+t),this._view.inputMessage.text=""},s.SendWorkerLevelUpCmd=function(){var t=Number.parseInt(this._view.inputMessage.text);!t||t<=0||h.sendChatWorldCommon("//levelupworker tokenid="+t)},s.SelfFinishTwitterQuest=function(){var t=i(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),n(r,null,[{key:"instance",get:function(){return this._instance}}]),r}(c)).CTRL_NAME="UIGmPanelController",_._instance=null,v=_))||v);r._RF.pop()}}}));

System.register("chunks:///_virtual/ui.gm.panel.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){"use strict";var i,e,n,s;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy,n=t._decorator},function(t){s=t.GComponent}],execute:function(){var o,u;e._RF.push({},"70481B4TJVJB4zZKu0hzVkP","ui.gm.panel.view",void 0);var c=n.ccclass;t("default",c("UIGmPanelView")(((u=function(t){function e(){var i;return(i=t.call(this)||this).evtCloseBtn=void 0,i.cmdBtnList=void 0,i.inputMessage=void 0,i.evtConfirmBtn=void 0,i}return i(e,t),e.prototype.onConstruct=function(){this.evtCloseBtn=this.getChild("ui_close"),this.cmdBtnList=this.getChild("ui_cmdList"),this.inputMessage=this.getChild("ui_Message"),this.evtConfirmBtn=this.getChild("ui_ConfirmBtn")},e}(s)).URL="ui://GmPanel/Main",o=u))||o);e._RF.pop()}}}));

System.register("chunks:///_virtual/ui.guide.click.controller.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./event.dispatcher.ts","./event.name.ts","./new.guide.define.ts","./new.guide.tools.ts","./table.helper.ts","./camera.system.ts","./sound.helper.ts","./ui.base.controller.ts"],(function(e){"use strict";var t,i,o,n,s,r,a,h,c,l,u,w,d,g,_,v;return{setters:[function(e){t=e.inheritsLoose,i=e.createClass},function(e){o=e.cclegacy,n=e._decorator,s=e.screen},function(e){r=e.UIPackage,a=e.GRoot,h=e.GTween},function(e){c=e.EventDispatcher},function(e){l=e.EventName},function(e){u=e.EnumArrowDir},function(e){w=e.NewGuideTools},function(e){d=e.TableHelper},function(e){g=e.CameraSystem},function(e){_=e.SoundHelper},function(e){v=e.UIBaseController}],execute:function(){var m,f;o._RF.push({},"ac998iWKtJETqBQBbkT2TwU","ui.guide.click.controller",void 0);var p=n.ccclass;e("UIGuideClickController",p("UIGuideClickController")(((f=function(e){function o(){for(var t,i=arguments.length,o=new Array(i),n=0;n<i;n++)o[n]=arguments[n];return(t=e.call.apply(e,[this].concat(o))||this).mFguiPkgName="NewbieGuide",t.mFguiMainViewName="Main_BtnClick",t._view=null,t.mGuideID=void 0,t}t(o,e);var n=o.prototype;return n.setData=function(e){this.mGuideID=e,this.IsLoadFinish&&this._initData()},n._addEvents=function(){},n._removeEvents=function(){},n.onLoad=function(){o._instance=this,this._startLoadPkg(this.mFguiPkgName)},n.onDestroy=function(){e.prototype.onDestroy.call(this),o._instance=null},n.closeUI=function(){e.prototype.closeUI.call(this)},n.update=function(){this._view},n._onLoadUIFinish=function(){e.prototype._onLoadUIFinish.call(this),this._view=r.createObject(this.mFguiPkgName,this.mFguiMainViewName).asCom,this._addUIToRoot(this._view),this._view.makeFullScreen(),this._view.skipBtn.onClick(this._onSkipClick,this),this._initData()},n._onSkipClick=function(){_.PlaySound_UICommonClick(),c.emit(l.UI_NEW_GUIDE_SKIP_OPEN)},n._initData=function(){a.inst.setChildIndex(this._view,a.inst.numChildren-1);var e=d.getGuideRecord(this.mGuideID);if(e){switch(e.arrawDir){case u.Left:this._view.arrowCtrl.selectedPage="Left",this._view.arrowLeftText.text=e.guideDesc,this._view.arrowLeftTextBg.height=this._view.arrowLeftText.height/2+28;break;case u.Right:this._view.arrowCtrl.selectedPage="Right",this._view.arrowRightText.text=e.guideDesc,this._view.arrowRightTextBg.height=this._view.arrowRightText.height/2+28;break;case u.Top:this._view.arrowCtrl.selectedPage="Top",this._view.arrowTopText.text=e.guideDesc,this._view.arrowTopTextBg.height=this._view.arrowTopText.height/2+28;break;case u.Bottom:this._view.arrowCtrl.selectedPage="Bottom",this._view.arrowBottomText.text=e.guideDesc,this._view.arrowBottomTextBg.height=this._view.arrowBottomText.height/2+28}var t=null;if("scene_bear"===e.guideParam){var i=w.GetGuideScene(e.guideParam);if(!i)return;var o=g.instance.MainCamera.worldToScreen(i),n=o.x/s.windowSize.width*a.inst.width,r=(s.windowSize.height-o.y)/s.windowSize.height*a.inst.height;t=this._view.globalToLocalRect(n-50,r-100,100,120)}else{var c=w.GetGuideComponent(e.guideParam);if(!c)return;t=c.localToGlobalRect(0,0,c.width,c.height),t=this._view.globalToLocalRect(t.x,t.y,t.width,t.height)}this._view.showView.setSize(t.width,t.height),h.to2(this._view.showView.x,this._view.showView.y,t.x,t.y,.3).setTarget(this._view.showView,this._view.showView.setPosition)}},i(o,null,[{key:"instance",get:function(){return this._instance}}]),o}(v)).CTRL_NAME="UIGuideClickController",f._instance=null,m=f))||m);o._RF.pop()}}}));

System.register("chunks:///_virtual/ui.guide.click.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){"use strict";var i,o,r,e;return{setters:[function(t){i=t.inheritsLoose},function(t){o=t.cclegacy,r=t._decorator},function(t){e=t.GComponent}],execute:function(){var h,s;o._RF.push({},"935e2wfRPdDtZhcffK8p9OB","ui.guide.click.view",void 0);var a=r.ccclass;t("default",a("UIGuideClickView")(((s=function(t){function o(){var i;return(i=t.call(this)||this).arrowCtrl=void 0,i.arrowLeft=void 0,i.arrowLeftText=void 0,i.arrowLeftTextBg=void 0,i.arrowRight=void 0,i.arrowRightText=void 0,i.arrowRightTextBg=void 0,i.arrowTop=void 0,i.arrowTopText=void 0,i.arrowTopTextBg=void 0,i.arrowBottom=void 0,i.arrowBottomText=void 0,i.arrowBottomTextBg=void 0,i.showView=void 0,i.skipBtn=void 0,i}return i(o,t),o.prototype.onConstruct=function(){this.arrowCtrl=this.getController("State"),this.arrowLeft=this.getChild("ui_ArrowLeft"),this.arrowLeftText=this.arrowLeft.getChild("ui_LabelDes_Left"),this.arrowLeftTextBg=this.arrowLeft.getChild("PopSp_Left"),this.arrowRight=this.getChild("ui_ArrowRight"),this.arrowRightText=this.arrowRight.getChild("ui_LabelDes_Right"),this.arrowRightTextBg=this.arrowRight.getChild("PopSp_Right"),this.arrowTop=this.getChild("ui_ArrowTop"),this.arrowTopText=this.arrowTop.getChild("ui_LabelDes_Top"),this.arrowTopTextBg=this.arrowTop.getChild("PopSp_Top"),this.arrowBottom=this.getChild("ui_ArrowBottom"),this.arrowBottomText=this.arrowBottom.getChild("ui_LabelDes_Bottom"),this.arrowBottomTextBg=this.arrowBottom.getChild("PopSp_Bottom"),this.showView=this.getChild("ui_Target"),this.skipBtn=this.getChild("ui_btnSkip")},o}(e)).URL="ui://NewbieGuide/Main_BtnClick",h=s))||h);o._RF.pop()}}}));

System.register("chunks:///_virtual/ui.guide.dialog.controller.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./event.dispatcher.ts","./event.name.ts","./new.guide.manager.ts","./resource.manager.ts","./table.helper.ts","./sound.helper.ts","./ui.base.controller.ts"],(function(e){"use strict";var i,t,n,o,s,a,r,c,l,u,d,h,_,I,v,m;return{setters:[function(e){i=e.inheritsLoose,t=e.createClass,n=e.asyncToGenerator,o=e.regeneratorRuntime},function(e){s=e.cclegacy,a=e._decorator,r=e.isValid,c=e.v2},function(e){l=e.UIPackage},function(e){u=e.EventDispatcher},function(e){d=e.EventName},function(e){h=e.NewGuideManager},function(e){_=e.ResourceManager},function(e){I=e.TableHelper},function(e){v=e.SoundHelper},function(e){m=e.UIBaseController}],execute:function(){var g,w;s._RF.push({},"4c189O+LLNH97uX4PZqsS7O","ui.guide.dialog.controller",void 0);var f=a.ccclass;e("UIGuideDialogController",f("UIGuideDialogController")(((w=function(e){function s(){for(var i,t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return(i=e.call.apply(e,[this].concat(n))||this).mFguiPkgName="NewbieGuide",i.mFguiMainViewName="Main_Dialog",i._view=null,i.mGuideID=0,i.mIsCanCloseUI=!0,i.mIsNeedDestoryUI=!0,i.mIsModelLoadFinished=!1,i}i(s,e);var a=s.prototype;return a.setData=function(e){this.mGuideID=e,this.IsLoadFinish&&this._initData()},a._addEvents=function(){},a._removeEvents=function(){},a.onLoad=function(){s._instance=this,this._startLoadPkg(this.mFguiPkgName)},a.onDestroy=function(){e.prototype.onDestroy.call(this),s._instance=null},a.closeUI=function(){e.prototype.closeUI.call(this)},a.update=function(){this._view},a._onLoadUIFinish=function(){e.prototype._onLoadUIFinish.call(this),this._view=l.createObject(this.mFguiPkgName,this.mFguiMainViewName).asCom,this._addUIToRoot(this._view),this._view.makeFullScreen(),this._view.maskBg.onClick(this._onCloseClick,this),this.mIsModelLoadFinished=!1,this._initData()},a._onCloseClick=function(){var e=n(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.mIsCanCloseUI){e.next=2;break}return e.abrupt("return");case 2:v.PlaySound_UICommonClose(),this.mIsNeedDestoryUI&&u.emit(d.UI_NEW_GUIDE_DIALOG_CLOSE),h.instance.NextStep();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),a._initData=function(){var e=this;this._loadModelShow("LunaWicca/LunaWicca"),this.mIsCanCloseUI=!1,this._view.closeText.visible=!1,this._view.dialogTrans.play((function(){e.mIsCanCloseUI=!0,e._view.closeText.visible=!0}));var i=I.getGuideRecord(this.mGuideID);i&&(this._view.dialogText.text=i.guideDesc,this._view.dialogBg.height=this._view.dialogText.height/2+35,this.mIsNeedDestoryUI="0"===i.guideParam)},a._loadModelShow=function(e){var i=this;this.mIsModelLoadFinished||_.instance.loadAvatarSkeletonData(e).then((function(e){r(i.node)&&(i._view.workerIcon&&i._view.workerIcon.node&&i._view.workerIcon.node.scale&&i._view.workerIcon.setScale(3,3),i._view.workerIcon.clearContent(),i._view.workerIcon.skinName=e.defaultSkin,i._view.workerIcon.animationName="idle",i._view.workerIcon.loop=!0,i._view.workerIcon.setSpine(e.skeletonData,c(35,60)),i.mIsModelLoadFinished=!0)}))},t(s,null,[{key:"instance",get:function(){return this._instance}}]),s}(m)).CTRL_NAME="UIGuideDialogController",w._instance=null,g=w))||g);s._RF.pop()}}}));

System.register("chunks:///_virtual/ui.guide.dialog.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(i){"use strict";var t,o,e,s;return{setters:[function(i){t=i.inheritsLoose},function(i){o=i.cclegacy,e=i._decorator},function(i){s=i.GComponent}],execute:function(){var a,l;o._RF.push({},"f3e1bzrNOJCz5D2NTAGEtiH","ui.guide.dialog.view",void 0);var g=e.ccclass;i("default",g("UIGuideDialogView")(((l=function(i){function o(){var t;return(t=i.call(this)||this).dialogTrans=void 0,t.maskBg=void 0,t.workerIcon=void 0,t.dialogView=void 0,t.dialogText=void 0,t.dialogBg=void 0,t.closeText=void 0,t}return t(o,i),o.prototype.onConstruct=function(){this.dialogTrans=this.getTransition("ui_ani_scale"),this.maskBg=this.getChild("BgMask"),this.workerIcon=this.getChild("ui_DialogIcon"),this.dialogView=this.getChild("ui_DialogSp"),this.dialogText=this.dialogView.getChild("ui_DialogLabel"),this.dialogBg=this.dialogView.getChild("DialogSp"),this.closeText=this.getChild("n141")},o}(s)).URL="ui://NewbieGuide/Main_Dialog",a=l))||a);o._RF.pop()}}}));

System.register("chunks:///_virtual/ui.guide.farm.controller.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./event.dispatcher.ts","./event.name.ts","./new.guide.manager.ts","./new.guide.tools.ts","./resource.manager.ts","./table.helper.ts","./camera.system.ts","./sound.helper.ts","./ui.base.controller.ts"],(function(e){"use strict";var i,t,n,o,s,a,r,c,l,u,h,d,w,_,m,v,f,g,I,p,C;return{setters:[function(e){i=e.inheritsLoose,t=e.createClass,n=e.asyncToGenerator,o=e.regeneratorRuntime},function(e){s=e.cclegacy,a=e._decorator,r=e.screen,c=e.isValid,l=e.v2},function(e){u=e.UIPackage,h=e.GRoot,d=e.GTween},function(e){w=e.EventDispatcher},function(e){_=e.EventName},function(e){m=e.NewGuideManager},function(e){v=e.NewGuideTools},function(e){f=e.ResourceManager},function(e){g=e.TableHelper},function(e){I=e.CameraSystem},function(e){p=e.SoundHelper},function(e){C=e.UIBaseController}],execute:function(){var k,y;s._RF.push({},"d2cafp0OM1Bm7t76o1MOEep","ui.guide.farm.controller",void 0);var F=a.ccclass;e("UIGuideFarmController",F("UIGuideFarmController")(((y=function(e){function s(){for(var i,t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return(i=e.call.apply(e,[this].concat(n))||this).mFguiPkgName="NewbieGuide",i.mFguiMainViewName="Main_Farm",i._view=null,i.mGuideID=void 0,i.mIsCanCloseUI=!0,i.mIsModelLoadFinished=!1,i}i(s,e);var a=s.prototype;return a.setData=function(e){this.mGuideID=e,this.IsLoadFinish&&this._initData()},a._addEvents=function(){},a._removeEvents=function(){},a.onLoad=function(){s._instance=this,this._startLoadPkg(this.mFguiPkgName)},a.onDestroy=function(){e.prototype.onDestroy.call(this),s._instance=null},a.closeUI=function(){e.prototype.closeUI.call(this)},a.update=function(){this._view},a._onLoadUIFinish=function(){e.prototype._onLoadUIFinish.call(this),this._view=u.createObject(this.mFguiPkgName,this.mFguiMainViewName).asCom,this._addUIToRoot(this._view),this._view.makeFullScreen(),this._view.maskBg.onClick(this._onCloseClick,this),this.mIsModelLoadFinished=!1,this._initData()},a._onCloseClick=function(){var e=n(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.mIsCanCloseUI){e.next=2;break}return e.abrupt("return");case 2:p.PlaySound_UICommonClose(),w.emit(_.UI_NEW_GUIDE_FARM_CLOSE),m.instance.NextStep();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),a._initData=function(){var e=this;h.inst.setChildIndex(this._view,h.inst.numChildren-1),this._loadModelShow("LunaWicca/LunaWicca"),this.mIsCanCloseUI=!1,this._view.closeText.visible=!1,this._view.dialogTrans.play((function(){e.mIsCanCloseUI=!0,e._view.closeText.visible=!0}));var i=g.getGuideRecord(this.mGuideID);if(i){this._view.dialogText.text=i.guideDesc,this._view.dialogBg.height=this._view.dialogText.height/2+35;var t=null;if("scene_mushroom"===i.guideParam){var n=v.GetGuideScene(i.guideParam);if(!n)return;var o=I.instance.MainCamera.worldToScreen(n),s=o.x/r.windowSize.width*h.inst.width,a=(r.windowSize.height-o.y)/r.windowSize.height*h.inst.height;t=this._view.globalToLocalRect(s-120,a-90,220,240)}t&&(this._view.showView.setSize(t.width,t.height),d.to2(this._view.showView.x,this._view.showView.y,t.x,t.y,.1).setTarget(this._view.showView,this._view.showView.setPosition))}},a._loadModelShow=function(e){var i=this;this.mIsModelLoadFinished||f.instance.loadAvatarSkeletonData(e).then((function(e){c(i.node)&&(i._view.workerIcon&&i._view.workerIcon.node&&i._view.workerIcon.node.scale&&i._view.workerIcon.setScale(3,3),i._view.workerIcon.clearContent(),i._view.workerIcon.skinName=e.defaultSkin,i._view.workerIcon.animationName="idle",i._view.workerIcon.loop=!0,i._view.workerIcon.setSpine(e.skeletonData,l(35,60)),i.mIsModelLoadFinished=!0)}))},t(s,null,[{key:"instance",get:function(){return this._instance}}]),s}(C)).CTRL_NAME="UIGuideFarmController",y._instance=null,k=y))||k);s._RF.pop()}}}));

System.register("chunks:///_virtual/ui.guide.farm.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(i){"use strict";var t,e,o,s;return{setters:[function(i){t=i.inheritsLoose},function(i){e=i.cclegacy,o=i._decorator},function(i){s=i.GComponent}],execute:function(){var a,l;e._RF.push({},"4f9efbq0+9P6q6ecT9VJZxr","ui.guide.farm.view",void 0);var n=o.ccclass;i("default",n("UIGuideFarmView")(((l=function(i){function e(){var t;return(t=i.call(this)||this).dialogTrans=void 0,t.maskBg=void 0,t.workerIcon=void 0,t.showView=void 0,t.dialogView=void 0,t.dialogText=void 0,t.dialogBg=void 0,t.closeText=void 0,t}return t(e,i),e.prototype.onConstruct=function(){this.dialogTrans=this.getTransition("ui_ani_scale"),this.maskBg=this.getChild("BgMask"),this.workerIcon=this.getChild("ui_DialogIcon"),this.showView=this.getChild("ui_Target"),this.dialogView=this.getChild("ui_DialogSp"),this.dialogText=this.dialogView.getChild("ui_DialogLabel"),this.dialogBg=this.dialogView.getChild("DialogSp"),this.closeText=this.getChild("n144")},e}(s)).URL="ui://NewbieGuide/Main_Farm",a=l))||a);e._RF.pop()}}}));

System.register("chunks:///_virtual/ui.guide.introduction.controller.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./api.tg.quest.ts","./event.dispatcher.ts","./event.name.ts","./new.guide.manager.ts","./resource.manager.ts","./table.helper.ts","./model.web.quest.manager.ts","./sound.helper.ts","./common.tool.ts","./ui.base.controller.ts","./ui.guide.introduction.data.ts","./plugin.settings.ts","./sdk.manager.ts","./camera.system.ts","./enum.account.type.ts"],(function(t){"use strict";var e,i,n,s,a,r,o,u,c,h,l,k,m,_,w,C,v,d,T,g,f,p,I,S,y,D,B,P,U;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass,n=t.asyncToGenerator,s=t.regeneratorRuntime},function(t){a=t.cclegacy,r=t._decorator,o=t.isValid,u=t.v2},function(t){c=t.UIPackage},function(t){h=t.finishTgQuest},function(t){l=t.EventDispatcher},function(t){k=t.EventName},function(t){m=t.NewGuideManager},function(t){_=t.ResourceManager},function(t){w=t.TableHelper},function(t){C=t.ModelWebQuestManager},function(t){v=t.SoundHelper},function(t){d=t.CommonTool},function(t){T=t.UIBaseController},function(t){g=t.TwitterTask1,f=t.TwitterTask2,p=t.TelegramTask1,I=t.TelegramTask2,S=t.LineTask1,y=t.LineTask2},function(t){D=t.PluginSettings},function(t){B=t.SDKManager},function(t){P=t.CameraSystem},function(t){U=t.LoginAccountType}],execute:function(){var W,L;a._RF.push({},"0b931MxemBK6IcGeWWwASP4","ui.guide.introduction.controller",void 0);var G=r.ccclass;t("UIGuideIntroductionController",G("UIGuideIntroductionController")(((L=function(t){function a(){for(var e,i=arguments.length,n=new Array(i),s=0;s<i;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))||this).mFguiPkgName="NewbieGuide",e.mFguiMainViewName="Main",e._view=null,e.mGuideID=void 0,e.mIsCanCloseUI=!0,e.mCurState=0,e.mCurPlayTimes=0,e.cPlayMiningCount=5,e.cPlayDoingCount=2,e.cPlayHungerCount=5,e.mCurTask1=null,e.mCurTask2=null,e.cTelegramTask1ID=115,e.cTelegramTask1URL="https://t.me/wizzwoods_game",e.cTelegramTask2ID=114,e.cTelegramTask2URL="https://t.me/wizzwoods_chat2/1",e.cTwitterTask1ID=174,e.cTwitterTask1URL="https://x.com/WizzwoodsGame/status/1839598326582505561",e.cTwitterTask2ID=175,e.cTwitterTask2URL="https://x.com/WizzwoodsGame/status/1839598326582505561",e}e(a,t);var r=a.prototype;return r.setData=function(t){this.mGuideID=t,this.IsLoadFinish&&this._initData()},r._addEvents=function(){l.on(k.WEB_QUEST_DATA_CHANGED,this.onWebQuestDataChanged,this)},r._removeEvents=function(){l.off(k.WEB_QUEST_DATA_CHANGED,this.onWebQuestDataChanged,this)},r.onWebQuestDataChanged=function(t){this._view&&(t?(t===this.mCurTask1.taskId&&(this._refreshTask1State(),this._refreshStartGameState()),t===this.mCurTask2.taskId&&(this._refreshTask2State(),this._refreshStartGameState())):(this._refreshTask1State(),this._refreshTask2State(),this._refreshStartGameState()))},r.onLoad=function(){a._instance=this,this._startLoadPkg(this.mFguiPkgName)},r.onDestroy=function(){t.prototype.onDestroy.call(this),a._instance=null},r.closeUI=function(){t.prototype.closeUI.call(this)},r.update=function(){this._view},r._onLoadUIFinish=function(){if(t.prototype._onLoadUIFinish.call(this),this._view=c.createObject(this.mFguiPkgName,this.mFguiMainViewName).asCom,this._addUIToRoot(this._view),this._view.makeFullScreen(),this._view.continueBtn.onClick(this._onContinueClick,this),this._view.task1Btn.onClick(this._onTask1Click,this),this._view.task2Btn.onClick(this._onTask2Click,this),this._view.startGameBtn.onClick(this._onStartGameClick,this),this._view.kaiaConfirmBtn.onClick(this._onKaiaConfirmClick,this),D.isInX())this.mCurTask1=g,this.mCurTask2=f;else if(D.isInTelegram())this.mCurTask1=p,this.mCurTask2=I;else if(D.isInLine())this.mCurTask1=S,this.mCurTask2=y;else if(D.isInWeb()){var e=B.instance.curSDKPlugin.accountType;e===U.TELEGRAM?(this.mCurTask1=p,this.mCurTask2=I):e===U.X&&(this.mCurTask1=g,this.mCurTask2=f)}else this.mCurTask1=p,this.mCurTask2=I;this._initData()},r._onContinueClick=function(){this.mIsCanCloseUI&&(v.PlaySound_UICommonClick(),this._view.stateCtrl.selectedIndex=1,this._initBearAnim())},r._onTask1Click=function(){var t=n(s().mark((function t(){var e,i;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return v.PlaySound_UICommonClick(),"tg"===this.mCurTask1.openType?B.instance.curSDKPlugin.openTelegramUrl(this.mCurTask1.taskUrl):"x"===this.mCurTask1.openType?(e=B.instance.curSDKPlugin.parseQuestOutUrl(this.mCurTask1.taskUrl),B.instance.curSDKPlugin.openUrl(e)):"ln"===this.mCurTask1.openType&&(i=B.instance.curSDKPlugin.parseQuestOutUrl(this.mCurTask1.taskUrl),B.instance.curSDKPlugin.openUrl(i)),this._view._setGotoBtnState(this._view.task1Btn,2),t.next=5,d.sleep(5e3);case 5:return t.next=7,h(this.mCurTask1.taskId);case 7:o(this.node)&&(C.instance.isQuestFinish(this.mCurTask1.taskId)?this._view._setGotoBtnState(this._view.task1Btn,1):this._view._setGotoBtnState(this._view.task1Btn,0));case 8:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),r._onTask2Click=function(){var t=n(s().mark((function t(){var e,i;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return v.PlaySound_UICommonClick(),"tg"===this.mCurTask2.openType?B.instance.curSDKPlugin.openTelegramUrl(this.mCurTask2.taskUrl):"x"===this.mCurTask2.openType?(e=B.instance.curSDKPlugin.parseQuestOutUrl(this.mCurTask2.taskUrl),B.instance.curSDKPlugin.openUrl(e)):"ln"===this.mCurTask1.openType&&(i=B.instance.curSDKPlugin.parseQuestOutUrl(this.mCurTask2.taskUrl),B.instance.curSDKPlugin.openUrl(i)),this._view._setGotoBtnState(this._view.task2Btn,2),t.next=5,d.sleep(5e3);case 5:return t.next=7,h(this.mCurTask2.taskId);case 7:o(this.node)&&(C.instance.isQuestFinish(this.mCurTask2.taskId)?this._view._setGotoBtnState(this._view.task2Btn,1):this._view._setGotoBtnState(this._view.task2Btn,0));case 8:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),r._onStartGameClick=function(){v.PlaySound_UICommonClick(),this._view.stateCtrl.selectedIndex=2,P.instance.scaleNormalCamera(),this._view.animTrans.play((function(){l.emit(k.UI_NEW_GUIDE_INTRODUCTION_CLOSE)})),m.instance.NextStep()},r._onKaiaConfirmClick=function(){v.PlaySound_UICommonClick(),h(221),this._view.kaiaView.visible=!1},r._initData=function(){var t=n(s().mark((function t(){var e,i,n=this;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=B.instance.curSDKPlugin.getStartParamPlatName(),this._view.kaiaView.visible="dappportal"===e,this._view.stateCtrl.selectedIndex=0,i=w.getGuideRecord(this.mGuideID)){t.next=6;break}return t.abrupt("return");case 6:this._view.dialogText.text=i.guideDesc,this.mIsCanCloseUI=!1,this._view.dialogTrans.play((function(){n.mIsCanCloseUI=!0})),this._view.coinView.visible=!1,this._loadWorkerWaterShow("LunaWicca/LunaWicca"),this._loadWorkerDialogShow("LunaWicca/LunaWicca"),this._loadWorkerLoginShow("LunaWicca/LunaWicca"),this._loadQuestShow(),this._refreshTask1State(),this._refreshTask2State(),this._refreshStartGameState(),this.mCurTask1.isInReq&&h(this.mCurTask1.taskId),this.mCurTask2.isInReq&&h(this.mCurTask2.taskId);case 19:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),r._loadWorkerWaterShow=function(t){var e=this;_.instance.loadAvatarSkeletonData(t).then((function(t){o(e.node)&&(e._view.workerWaterIcon&&e._view.workerWaterIcon.node&&e._view.workerWaterIcon.node.scale&&e._view.workerWaterIcon.setScale(3,3),e._view.workerWaterIcon.clearContent(),e._view.workerWaterIcon.skinName=t.defaultSkin,e._view.workerWaterIcon.animationName="watering",e._view.workerWaterIcon.loop=!0,e._view.workerWaterIcon.setSpine(t.skeletonData,u(28,45)))}))},r._loadWorkerDialogShow=function(t){var e=this;_.instance.loadAvatarSkeletonData(t).then((function(t){o(e.node)&&(e._view.workerDialogIcon&&e._view.workerDialogIcon.node&&e._view.workerDialogIcon.node.scale&&e._view.workerDialogIcon.setScale(-2.6,2.6),e._view.workerDialogIcon.clearContent(),e._view.workerDialogIcon.skinName=t.defaultSkin,e._view.workerDialogIcon.animationName="idle",e._view.workerDialogIcon.loop=!0,e._view.workerDialogIcon.setSpine(t.skeletonData,u(30,50)))}))},r._loadWorkerLoginShow=function(t){var e=this;_.instance.loadAvatarSkeletonData(t).then((function(t){o(e.node)&&(e._view.workerLoginIcon&&e._view.workerLoginIcon.node&&e._view.workerLoginIcon.node.scale&&e._view.workerLoginIcon.setScale(1.8,1.8),e._view.workerLoginIcon.clearContent(),e._view.workerLoginIcon.skinName=t.defaultSkin,e._view.workerLoginIcon.animationName="walking2",e._view.workerLoginIcon.loop=!0,e._view.workerLoginIcon.setSpine(t.skeletonData,u(30,50)))}))},r._refreshTask1State=function(){C.instance.isQuestFinish(this.mCurTask1.taskId)?this._view._setGotoBtnState(this._view.task1Btn,1):this._view._setGotoBtnState(this._view.task1Btn,0)},r._refreshTask2State=function(){C.instance.isQuestFinish(this.mCurTask2.taskId)?this._view._setGotoBtnState(this._view.task2Btn,1):this._view._setGotoBtnState(this._view.task2Btn,0)},r._refreshStartGameState=function(){C.instance.isQuestFinish(this.mCurTask1.taskId)&&C.instance.isQuestFinish(this.mCurTask2.taskId)?this._view.startGameBtn.enabled=!0:this._view.startGameBtn.enabled=!1},r._initBearAnim=function(){this.mCurState=1,this.mCurPlayTimes=0,this._playBearAnim()},r._playBearAnim=function(){var t=this;1===this.mCurState?this._loadBearShow("ChronoWizardBear/ChronoWizardBear","mining"):2===this.mCurState?this._loadBearShow("ChronoWizardBear/ChronoWizardBear","doing"):(this._loadBearShow("ChronoWizardBear/ChronoWizardBear","hunger"),this._view.coinTrans.playing||0!==this.mCurPlayTimes||(this._view.coinView.visible=!0,this._view.coinTrans.play((function(){t._view.coinView.visible=!1}),1)))},r._loadBearShow=function(){var t=n(s().mark((function t(e,i){var n=this;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:_.instance.loadAvatarSkeletonData(e).then((function(t){o(n.node)&&(n._view.workerMiningIcon&&n._view.workerMiningIcon.node&&n._view.workerMiningIcon.node.scale&&n._view.workerMiningIcon.setScale(3,3),n._view.workerMiningIcon.clearContent(),n._view.workerMiningIcon.skinName=t.defaultSkin,n._view.workerMiningIcon.animationName=i,n._view.workerMiningIcon.loop=!0,n._view.workerMiningIcon.setSpine(t.skeletonData,u(30,60)),n._view.workerMiningIcon.content.setCompleteListener(n._onAnimCompleteListener.bind(n)))}));case 1:case"end":return t.stop()}}),t)})));return function(e,i){return t.apply(this,arguments)}}(),r._loadQuestShow=function(){var t=n(s().mark((function t(){var e=this;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this._view.task1Info.text=this.mCurTask1.taskText,this._view.task2Info.text=this.mCurTask2.taskText,_.instance.loadQuestIcon(this.mCurTask1.taskIcon).then((function(t){o(e.node)&&(e._view.task1Icon.texture=t)})),_.instance.loadQuestIcon(this.mCurTask2.taskIcon).then((function(t){o(e.node)&&(e._view.task2Icon.texture=t)}));case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),r._onAnimCompleteListener=function(t){1===this.mCurState?this.mCurPlayTimes>=this.cPlayMiningCount-1?(this.mCurState=2,this.mCurPlayTimes=0,this._playBearAnim()):this.mCurPlayTimes++:2===this.mCurState?this.mCurPlayTimes>=this.cPlayDoingCount-1?(this.mCurState=3,this.mCurPlayTimes=0,this._playBearAnim()):this.mCurPlayTimes++:3===this.mCurState&&(this.mCurPlayTimes>=this.cPlayHungerCount-1?(this.mCurState=1,this.mCurPlayTimes=0,this._playBearAnim()):this.mCurPlayTimes++)},r.getView=function(){return this._view},i(a,null,[{key:"instance",get:function(){return this._instance}}]),a}(T)).CTRL_NAME="UIGuideIntroductionController",L._instance=null,W=L))||W);a._RF.pop()}}}));

System.register("chunks:///_virtual/ui.guide.introduction.data.ts",["cc"],(function(t){"use strict";var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"f9b3bLffYRLcYpGYpZ77WAF","ui.guide.introduction.data",void 0);t("TelegramTask1",{taskId:115,openType:"tg",taskUrl:"https://t.me/wizzwoods_game",taskText:"Join our Announcement",taskIcon:"QuestStepIconNew_PostTG",isInReq:!0}),t("TelegramTask2",{taskId:114,openType:"tg",taskUrl:"https://t.me/wizzwoods_chat2/1",taskText:"Join Wizzwoods Chat",taskIcon:"QuestStepIconNew_PostTG",isInReq:!0}),t("TwitterTask1",{taskId:174,openType:"x",taskUrl:"https://x.com/intent/follow?screen_name=WizzwoodsGame",taskText:"Follow Wizzwoods",taskIcon:"QuestStepIconNew_Post",isInReq:!1}),t("TwitterTask2",{taskId:175,openType:"x",taskUrl:"https://twitter.com/intent/post?text=Explore %23Wizzwoods on Telegram Mini app and turn your gameplay into payday.%0A%0A @WizzwoodsGame @Tabichain @berachain%0A%0A👇👇👇 Begin your journey now!&url=[#inviteUrl]",taskText:"Post invitation link",taskIcon:"QuestStepIconNew_Post",isInReq:!1}),t("LineTask1",{taskId:216,openType:"ln",taskUrl:"https://x.com/WizzwoodsGame",taskText:"Visit Wizzwoods X",taskIcon:"QuestStepIconNew_Post",isInReq:!0}),t("LineTask2",{taskId:217,openType:"ln",taskUrl:"https://www.wizzwoods.com/",taskText:"Visit wizzwoods website",taskIcon:"QuestStepIconNew_Farm",isInReq:!0});e._RF.pop()}}}));

System.register("chunks:///_virtual/ui.guide.introduction.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(i){"use strict";var t,n,o,e;return{setters:[function(i){t=i.inheritsLoose},function(i){n=i.cclegacy,o=i._decorator},function(i){e=i.GComponent}],execute:function(){var s,a;n._RF.push({},"fa64f2HdOZNg5qOVuMo6Gdt","ui.guide.introduction.view",void 0);var r=o.ccclass;i("default",r("UIGuideIntroductionView")(((a=function(i){function n(){var t;return(t=i.call(this)||this).stateCtrl=void 0,t.animTrans=void 0,t.coinTrans=void 0,t.dialogTrans=void 0,t.animView=void 0,t.coinView=void 0,t.workerWaterIcon=void 0,t.workerDialogIcon=void 0,t.workerMiningIcon=void 0,t.workerLoginIcon=void 0,t.dialogView=void 0,t.dialogText=void 0,t.continueBtn=void 0,t.task1Info=void 0,t.task1Btn=void 0,t.task1Icon=void 0,t.task2Info=void 0,t.task2Btn=void 0,t.task2Icon=void 0,t.startGameBtn=void 0,t.kaiaView=void 0,t.kaiaConfirmBtn=void 0,t}t(n,i);var o=n.prototype;return o.onConstruct=function(){this.stateCtrl=this.getController("State"),this.animView=this.getChild("ui_AniBg"),this.animTrans=this.animView.getTransition("ui_ani_changemap"),this.coinView=this.getChild("ui_CoinAni"),this.coinTrans=this.coinView.getTransition("ui_ani_wizz"),this.dialogTrans=this.getTransition("ui_ani_scale"),this.workerWaterIcon=this.getChild("ui_WorkerIcon2"),this.workerDialogIcon=this.getChild("ui_WorkerIcon"),this.workerMiningIcon=this.getChild("ui_WorkerIcon3"),this.workerLoginIcon=this.animView.getChild("ui_WorkerIcon"),this.dialogView=this.getChild("ui_DialogSp"),this.dialogText=this.dialogView.getChild("ui_LabelDes"),this.continueBtn=this.getChild("ui_BtnContinue"),this.task1Info=this.getChild("ui_Label1"),this.task1Btn=this.getChild("ui_BtnGo1"),this.task1Icon=this.getChild("n157"),this.task2Info=this.getChild("ui_Label2"),this.task2Btn=this.getChild("ui_BtnGo2"),this.task2Icon=this.getChild("n158"),this.startGameBtn=this.getChild("ui_BtnStart"),this.kaiaView=this.getChild("GiftBonusGp");var i=this.getChild("ui_WindGiftBonus_KAIA");this.kaiaConfirmBtn=i.getChild("ui_BtnClaim")},o._setGotoBtnState=function(i,t){var n=i.getController("IsFinished");n&&(n.selectedIndex=t,i.touchable=0===t)},n}(e)).URL="ui://NewbieGuide/Main",s=a))||s);n._RF.pop()}}}));

System.register("chunks:///_virtual/ui.guide.skip.controller.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./event.dispatcher.ts","./event.name.ts","./new.guide.manager.ts","./table.helper.ts","./sound.helper.ts","./ui.base.controller.ts"],(function(n){"use strict";var t,e,i,o,r,s,c,a,u,l,h,_,f;return{setters:[function(n){t=n.inheritsLoose,e=n.createClass,i=n.asyncToGenerator,o=n.regeneratorRuntime},function(n){r=n.cclegacy,s=n._decorator},function(n){c=n.UIPackage},function(n){a=n.EventDispatcher},function(n){u=n.EventName},function(n){l=n.NewGuideManager},function(n){h=n.TableHelper},function(n){_=n.SoundHelper},function(n){f=n.UIBaseController}],execute:function(){var p,m;r._RF.push({},"108ffG71WFI+79FE25ycgP8","ui.guide.skip.controller",void 0);var d=s.ccclass;n("UIGuideSkipController",d("UIGuideSkipController")(((m=function(n){function r(){for(var t,e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];return(t=n.call.apply(n,[this].concat(i))||this).mFguiPkgName="NewbieGuide",t.mFguiMainViewName="Msgbox",t._view=null,t}t(r,n);var s=r.prototype;return s._addEvents=function(){},s._removeEvents=function(){},s.onLoad=function(){r._instance=this,this._startLoadPkg(this.mFguiPkgName)},s.onDestroy=function(){n.prototype.onDestroy.call(this),r._instance=null},s.closeUI=function(){n.prototype.closeUI.call(this)},s.update=function(){this._view},s._onLoadUIFinish=function(){n.prototype._onLoadUIFinish.call(this),this._view=c.createObject(this.mFguiPkgName,this.mFguiMainViewName).asCom,this._addUIToRoot(this._view),this._view.makeFullScreen(),this._view.maskBg.onClick(this._onCancelClick,this),this._view.confirmBtn.onClick(this._onConfirmClick,this),this._view.cancelBtn.onClick(this._onCancelClick,this),this._initData()},s._onConfirmClick=function(){var n=i(o().mark((function n(){return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:_.PlaySound_UICommonClose(),l.instance.SkipGuide(),a.emit(u.UI_NEW_GUIDE_SKIP_CLOSE);case 3:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),s._onCancelClick=function(){var n=i(o().mark((function n(){return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:_.PlaySound_UICommonClose(),a.emit(u.UI_NEW_GUIDE_SKIP_CLOSE);case 2:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),s._initData=function(){this._view.skipTitle.text=h.getI18nUIText("u.2408")},e(r,null,[{key:"instance",get:function(){return this._instance}}]),r}(f)).CTRL_NAME="UIGuideSkipController",m._instance=null,p=m))||p);r._RF.pop()}}}));

System.register("chunks:///_virtual/ui.guide.skip.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(i){"use strict";var t,n,e,s;return{setters:[function(i){t=i.inheritsLoose},function(i){n=i.cclegacy,e=i._decorator},function(i){s=i.GComponent}],execute:function(){var o,u;n._RF.push({},"a7127NI7thDgZ0XNOguVo7e","ui.guide.skip.view",void 0);var c=e.ccclass;i("default",c("UIGuideSkipView")(((u=function(i){function n(){var t;return(t=i.call(this)||this).wind=void 0,t.maskBg=void 0,t.skipTitle=void 0,t.confirmBtn=void 0,t.cancelBtn=void 0,t}return t(n,i),n.prototype.onConstruct=function(){this.wind=this.getChild("ui_MsgboxWind"),this.maskBg=this.getChild("BgMask"),this.skipTitle=this.wind.getChild("ui_title"),this.confirmBtn=this.wind.getChild("ui_ConfirmBtn"),this.cancelBtn=this.wind.getChild("ui_CancelBtn")},n}(s)).URL="ui://NewbieGuide/Msgbox",o=u))||o);n._RF.pop()}}}));

System.register("chunks:///_virtual/ui.Invitation.controller.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./event.dispatcher.ts","./event.name.ts","./sound.helper.ts","./ui.base.controller.ts","./model.mainrole.manager.ts","./table.helper.ts","./logic.tool.ts","./ui.Invitation.reward.item.view.ts","./net.helper.ts","./sdk.manager.ts","./tonweb.mjs_cjs=&original=.js","./table.manager.ts","./tonweb.js"],(function(t){"use strict";var e,i,n,r,a,s,o,l,h,v,u,c,_,f,C,m,w,p,g,I,d,k;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass,n=t.asyncToGenerator,r=t.regeneratorRuntime},function(t){a=t.cclegacy,s=t._decorator,o=t.input,l=t.Input,h=t.KeyCode},function(t){v=t.UIPackage},function(t){u=t.EventDispatcher},function(t){c=t.EventName},function(t){_=t.SoundHelper},function(t){f=t.UIBaseController},function(t){C=t.ModelMainRoleManager},function(t){m=t.TableHelper},function(t){w=t.LogicTool},function(t){p=t.default},function(t){g=t.NetHelper},function(t){I=t.SDKManager},null,function(t){d=t.TableManager},function(t){k=t.default}],execute:function(){var P,L;a._RF.push({},"d9cdd7bffNGiqU0zk331C1H","ui.Invitation.controller",void 0);var D,T=s.ccclass;!function(t){t[t.Privilege=0]="Privilege",t[t.Detail=1]="Detail"}(D||(D={}));t("UIInvitationController",T("UIInvitationController")(((L=function(t){function a(){for(var e,i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))||this).mFguiPkgName="Invitation",e.mFguiMainViewName="Main",e._view=null,e._curTabType=D.Privilege,e.mCurLevel=0,e.mCurExp=0,e.mCurShowLevel=0,e}e(a,t);var s=a.prototype;return s._addEvents=function(){t.prototype._addEvents.call(this),o.on(l.EventType.KEY_DOWN,this._onKeyDown,this),u.on(c.INVITATION_DATA_CHANGED,this._onInvitationDataChange,this),u.on(c.INVITATION_REWRAD_DATA_CHANGED,this._onInvitationRewardDataChange,this)},s._removeEvents=function(){t.prototype._removeEvents.call(this),o.off(l.EventType.KEY_DOWN,this._onKeyDown,this),u.off(c.INVITATION_DATA_CHANGED,this._onInvitationDataChange,this),u.off(c.INVITATION_REWRAD_DATA_CHANGED,this._onInvitationRewardDataChange,this)},s._onKeyDown=function(t){switch(t.keyCode){case h.ESCAPE:this._onCloseClick()}},s._onInvitationDataChange=function(){if(null!=this._view){var t=C.instance.InvitationData;t&&(this.mCurLevel!==t.invitation_level?(this.mCurLevel=t.invitation_level,this.mCurExp=t.invitation_exp,this.mCurShowLevel=0===this.mCurLevel?1:this.mCurLevel,this._initData()):(this.mCurExp=t.invitation_exp,this._refreshInvitationExp(),this._refreshReturnTokenData(),this._refreshTabRedPoint()))}},s._onInvitationRewardDataChange=function(){null!=this._view&&(this._refreshTabRedPoint(),this._refreshPrivilegeClaimBtnState())},s.onLoad=function(){a._instance=this,this._startLoadPkg(this.mFguiPkgName)},s.onDestroy=function(){t.prototype.onDestroy.call(this),a._instance=null},s.closeUI=function(){t.prototype.closeUI.call(this)},s.update=function(){this._view},s._onLoadUIFinish=function(){t.prototype._onLoadUIFinish.call(this),this._view=v.createObject(this.mFguiPkgName,this.mFguiMainViewName).asCom,this._addUIToRoot(this._view),this._view.makeFullScreen(),this._view.tabCtrl.onChanged(this._onTabChanged,this),this._view.closeBtn.onClick(this._onCloseClick,this),this._view.invitationBtn.onClick(this._onInvitationClick,this),this._view.invitationCopyBtn.onClick(this._onInvitationCopyClick,this),this._view.privilegeLeftBtn.onClick(this._onPrivilegeLeftClick,this),this._view.privilegeRightBtn.onClick(this._onPrivilegeRightClick,this),this._view.privilegeClaimBtn.onClick(this._onPrivilegeClaimClick,this),this._view.tokenClaimBtn.onClick(this._onTokenClaimBtnClick,this),this._initData()},s._onTabChanged=function(){0===this._view.tabCtrl.selectedIndex?this._curTabType=D.Privilege:1===this._view.tabCtrl.selectedIndex&&(this._curTabType=D.Detail),this._showData(),_.PlaySound_UICommonClick()},s._onCloseClick=function(){var t=n(r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:_.PlaySound_UICommonClose(),u.emit(c.UI_INVITATION_CLOSE);case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),s._onInvitationClick=function(){var t=n(r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:_.PlaySound_UICommonClick(),I.instance.curSDKPlugin.invite();case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),s._onInvitationCopyClick=function(){var t=n(r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:_.PlaySound_UICommonClick(),I.instance.curSDKPlugin.copyInviteUrl();case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),s._onPrivilegeLeftClick=function(){var t=n(r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:_.PlaySound_UICommonClick(),this.mCurShowLevel--,this._refreshPrivilegeData();case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),s._onPrivilegeRightClick=function(){var t=n(r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:_.PlaySound_UICommonClick(),this.mCurShowLevel++,this._refreshPrivilegeData();case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),s._onPrivilegeClaimClick=function(){var t=n(r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:_.PlaySound_UICommonClick(),g.getInvitationReward(this.mCurShowLevel);case 2:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),s._onTokenClaimBtnClick=function(){var t=n(r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:_.PlaySound_UICommonClick(),g.getInvitationReturnToken();case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),s._initData=function(){this._view.tabCtrl.setSelectedIndex(this._curTabType),this._showData()},s._showData=function(){switch(this._curTabType){case D.Privilege:this._refreshPrivilegeView();break;case D.Detail:this._refreshDetailView()}this._refreshTabRedPoint()},s._refreshTabRedPoint=function(){var t=C.instance.isHasInvitationReward();this._view.setBtnRedPoint(this._view.tab1Btn,t);var e=C.instance.isHasInvitationReturnToken();this._view.setBtnRedPoint(this._view.tab2Btn,e)},s._refreshPrivilegeView=function(){var t=C.instance.InvitationData;t&&(this.mCurLevel=t.invitation_level,this.mCurExp=t.invitation_exp,this.mCurShowLevel=0===this.mCurLevel?1:this.mCurLevel,this._view.invitationLevel.text=w.i18nFormat(m.getI18nUIText("u.10102"),[this.mCurLevel.toString()]),this._refreshInvitationExp(),this._refreshPrivilegeData())},s._refreshInvitationExp=function(){var t=m.getInvitation(this.mCurLevel);if(t){var e=t.exp;this._view.invitationExp.min=0,this._view.invitationExp.max=e,this._view.invitationExp.value=this.mCurExp,this.mCurLevel>=d.instance.tableInvitation.maxId?this._view.setInvitationProgressTitle(this.mCurExp+"/MAX"):this._view.setInvitationProgressTitle(this.mCurExp+"/"+e)}},s._refreshPrivilegeData=function(){var t=null;if(0===this.mCurShowLevel&&(this.mCurShowLevel=1),this._view.privilegeTitle.text=w.i18nFormat(m.getI18nUIText("u.11403"),[this.mCurShowLevel.toString()]),t=m.getInvitation(this.mCurShowLevel)){this._view.privilegeDesc.text=t.desc;for(var e=[],i=[],n=t.reward.split(";"),r=0;r<n.length;r++){var a=n[r].split("-");a.length<2||(e.push(Number.parseInt(a[0])),i.push(Number.parseInt(a[1])))}this._refreshPrivilegeRewardItemList(e,i),this._refreshPrivilegeArrowBtnState(),this._refreshPrivilegeClaimBtnState()}},s._refreshPrivilegeRewardItemList=function(t,e){this._view.privilegeRewardList.removeChildrenToPool();for(var i=0;i<t.length;i++){if(t[i]>0)this._view.privilegeRewardList.addItemFromPool(p.URL).setRewardData(t[i],e[i])}},s._refreshPrivilegeArrowBtnState=function(){if(this.mCurShowLevel<=1)this._view.privilegeLeftBtn.enabled=!1,this._view.setBtnRedPoint(this._view.privilegeLeftBtn,!1);else{this._view.privilegeLeftBtn.enabled=!0;var t=this.mCurShowLevel-1;t>this.mCurLevel&&(t=this.mCurLevel);var e=C.instance.isHasInvitationReward(1,t);this._view.setBtnRedPoint(this._view.privilegeLeftBtn,e)}if(this.mCurShowLevel>=m.getInvitationMaxLevel())this._view.privilegeRightBtn.enabled=!1,this._view.setBtnRedPoint(this._view.privilegeRightBtn,!1);else if(this._view.privilegeRightBtn.enabled=!0,this.mCurShowLevel>this.mCurLevel)this._view.setBtnRedPoint(this._view.privilegeRightBtn,!1);else{var i=m.getInvitationMaxLevel();i>this.mCurLevel&&(i=this.mCurLevel);var n=C.instance.isHasInvitationReward(this.mCurShowLevel+1,i);this._view.setBtnRedPoint(this._view.privilegeRightBtn,n)}},s._refreshPrivilegeClaimBtnState=function(){this.mCurShowLevel>this.mCurLevel?this._view.setPrivilegeClaimBtnState(2):C.instance.isGetInvitationReward(this.mCurShowLevel)?this._view.setPrivilegeClaimBtnState(1):this._view.setPrivilegeClaimBtnState(0)},s._refreshDetailView=function(){this._view.detailLevel.text=w.i18nFormat(m.getI18nUIText("u.11430"),[this.mCurLevel.toString()]),this._refreshReturnTokenData(),this._refreshInvitationData()},s._refreshReturnTokenData=function(){var t=C.instance.InvitationData;if(t){var e=k.utils.fromNano(t.data.return_token1);this._view.curTokenValue.text="x"+e;var i=k.utils.fromNano(t.totalReturnToken1);this._view.totalTokenValue.text="x"+i;var n=Number.parseInt(e);this._view.tokenClaimBtn.enabled=n>0,this._refreshDetailClaimBtnState()}},s._refreshInvitationData=function(){var t=C.instance.InvitationData;if(t){var e=m.getAllParamRecord(103),i=0;e&&(i=e.paramValue),this._view.curInvitationValue.text="x"+i,this._view.totalInvitationValue.text="x"+t.invitation_exp}},s._refreshDetailClaimBtnState=function(){var t=C.instance.isHasInvitationReturnToken();this._view.setBtnRedPoint(this._view.tokenClaimBtn,t)},i(a,null,[{key:"instance",get:function(){return this._instance}}]),a}(f)).CTRL_NAME="UIInvitationController",L._instance=null,P=L))||P);a._RF.pop()}}}));

System.register("chunks:///_virtual/ui.Invitation.reward.item.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./table.helper.ts","./resource.path.tool.ts"],(function(t){"use strict";var e,r,i,n,o,a;return{setters:[function(t){e=t.inheritsLoose},function(t){r=t.cclegacy,i=t._decorator},function(t){n=t.GButton},function(t){o=t.TableHelper},function(t){a=t.ResourcePathTool}],execute:function(){var u,c;r._RF.push({},"0b9aaRW5CJOHL/Z9tRQc4jn","ui.Invitation.reward.item.view",void 0);var s=i.ccclass;t("default",s("UIInvitationRewardItemView")(((c=function(t){function r(){var e;return(e=t.call(this)||this).rewardIcon=void 0,e.rewardCount=void 0,e.mRewardID=0,e}e(r,t);var i=r.prototype;return i.onConstruct=function(){this.rewardIcon=this.getChild("ui_AwardIcon"),this.rewardCount=this.getChild("ui_Amount")},i.setRewardData=function(t,e){this.mRewardID=t;var r=o.getItemRecord(t);r&&(this.rewardIcon.url=a.getUIFarmItemPath(r.itemIcon),this.rewardCount.text="x"+e)},r}(n)).URL="ui://Invitation/InvitationAwardItem",u=c))||u);r._RF.pop()}}}));

System.register("chunks:///_virtual/ui.invitation.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./table.manager.ts"],(function(i){"use strict";var t,e,n,l,a;return{setters:[function(i){t=i.inheritsLoose},function(i){e=i.cclegacy,n=i._decorator},function(i){l=i.GComponent},function(i){a=i.TableManager}],execute:function(){var s,v;e._RF.push({},"503e4YGw4JKG4Pptc5sEqFT","ui.invitation.view",void 0);var h=n.ccclass;i("default",h("UIInvitationView")(((v=function(i){function e(){var t;return(t=i.call(this)||this).tabCtrl=void 0,t.closeBtn=void 0,t.tab1Btn=void 0,t.tab2Btn=void 0,t.privilegeView=void 0,t.invitationLevel=void 0,t.invitationExp=void 0,t.invitationBtn=void 0,t.invitationCopyBtn=void 0,t.privilegeLeftBtn=void 0,t.privilegeRightBtn=void 0,t.privilegeTitle=void 0,t.privilegeDesc=void 0,t.privilegeRewardList=void 0,t.privilegeClaimBtn=void 0,t.detailView=void 0,t.detailLevel=void 0,t.curTokenValue=void 0,t.totalTokenValue=void 0,t.tokenClaimBtn=void 0,t.curInvitationValue=void 0,t.totalInvitationValue=void 0,t.achievementRewardList=void 0,t}t(e,i);var n=e.prototype;return n.onConstruct=function(){this.tabCtrl=this.getController("Tab"),this.closeBtn=this.getChild("ui_WindClose"),this.tab1Btn=this.getChild("ui_Tab1"),this.tab2Btn=this.getChild("ui_Tab2"),this.privilegeView=this.getChild("ui_InvitationPrivileges"),this.invitationLevel=this.privilegeView.getChild("ui_InvitaitonLevel"),this.invitationExp=this.privilegeView.getChild("ui_InvitaitonExp"),this.invitationBtn=this.privilegeView.getChild("ui_BtnInvite"),this.invitationCopyBtn=this.privilegeView.getChild("ui_BtnCopy"),this.privilegeLeftBtn=this.privilegeView.getChild("ui_BtnTurnLeft"),this.privilegeRightBtn=this.privilegeView.getChild("ui_BtnTurnRight"),this.privilegeTitle=this.privilegeView.getChild("ui_PrivilegesTitle"),this.privilegeDesc=this.privilegeView.getChild("ui_PrivilegesDescriptions"),this.privilegeRewardList=this.privilegeView.getChild("ui_RewardsList"),this.privilegeClaimBtn=this.privilegeView.getChild("ui_BtnCliam"),this.detailView=this.getChild("ui_InvitationDetails"),this.detailLevel=this.detailView.getChild("n85"),this.curTokenValue=this.detailView.getChild("ui_CurValue1"),this.totalTokenValue=this.detailView.getChild("ui_TotalValue1"),this.tokenClaimBtn=this.detailView.getChild("ui_BtnCliam"),this.curInvitationValue=this.detailView.getChild("ui_CurValue2"),this.totalInvitationValue=this.detailView.getChild("ui_TotalValue2"),this.achievementRewardList=this.detailView.getChild("ui_List"),this._initAchievementData()},n._initAchievementData=function(){this.achievementRewardList.removeChildren();for(var i=a.instance.tableAchievement.getAchievementArray(),t=0,e=0;e<i.length;e++)if(4===i[e].type){var n=this.achievementRewardList.addItem(),l=n.getController("LineState"),s=n.getChild("ui_Label"),v=n.getChild("ui_Value");l.selectedIndex=t%2,s.text="x"+i[e].param;var h=i[e].award.split("-");2===h.length?v.text="x"+h[1]:v.text="",t++}},n.setBtnRedPoint=function(i,t){var e=i.getChild("UI_TipSp");e&&(e.visible=t)},n.setPrivilegeClaimBtnState=function(i){var t=this.privilegeClaimBtn.getController("IsDone");2===i?(this.privilegeClaimBtn.enabled=!1,this.setBtnRedPoint(this.privilegeClaimBtn,!1),t&&(t.selectedIndex=0)):(this.privilegeClaimBtn.enabled=!0,0===i?(this.privilegeClaimBtn.touchable=!0,this.setBtnRedPoint(this.privilegeClaimBtn,!0)):(this.privilegeClaimBtn.touchable=!1,this.setBtnRedPoint(this.privilegeClaimBtn,!1)),t&&(t.selectedIndex=i))},n.setInvitationProgressTitle=function(i){var t=this.invitationExp.getChild("title2");t&&(t.text=i)},e}(l)).URL="ui://Invitation/Main",s=v))||s);e._RF.pop()}}}));

System.register("chunks:///_virtual/ui.item.get.controller.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./event.dispatcher.ts","./event.name.ts","./enum.item.type.ts","./new.guide.manager.ts","./table.helper.ts","./sound.helper.ts","./ui.guide.introduction.controller.ts","./ui.base.controller.ts","./ui.item.get.item.view.ts","./ui.item.get.worker.view.ts"],(function(e){"use strict";var t,i,n,o,s,a,r,c,u,l,h,m,_,I,p,f,C,v,d,y,k;return{setters:[function(e){t=e.inheritsLoose,i=e.createClass,n=e.asyncToGenerator,o=e.regeneratorRuntime},function(e){s=e.cclegacy,a=e._decorator,r=e.input,c=e.Input,u=e.KeyCode},function(e){l=e.UIPackage,h=e.GRoot},function(e){m=e.EventDispatcher},function(e){_=e.EventName},function(e){I=e.EItemType},function(e){p=e.NewGuideManager},function(e){f=e.TableHelper},function(e){C=e.SoundHelper},function(e){v=e.UIGuideIntroductionController},function(e){d=e.UIBaseController},function(e){y=e.default},function(e){k=e.default}],execute:function(){var w,E;s._RF.push({},"b0a88S/TRROFI08loX1Ak/9","ui.item.get.controller",void 0);var T=a.ccclass;e("UIItemGetController",T("UIItemGetController")(((E=function(e){function s(){for(var t,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))||this).mFguiPkgName="ItemGet",t.mFguiMainViewName="Main",t._view=null,t.mItemData=new Array,t.mUICheckType=0,t}t(s,e);var a=s.prototype;return a.setData=function(e){e&&(this.mItemData=e,null!=this._view&&this.IsLoadFinish&&this._initData())},a._addEvents=function(){e.prototype._addEvents.call(this),r.on(c.EventType.KEY_DOWN,this._onKeyDown,this)},a._removeEvents=function(){e.prototype._removeEvents.call(this),r.off(c.EventType.KEY_DOWN,this._onKeyDown,this)},a._onKeyDown=function(e){switch(e.keyCode){case u.ESCAPE:if(p.instance.IsInGuideScene)return;this._onCloseClick()}},a.onLoad=function(){s._instance=this,this._startLoadPkg(this.mFguiPkgName)},a.onDestroy=function(){e.prototype.onDestroy.call(this),s._instance=null},a.closeUI=function(){e.prototype.closeUI.call(this)},a._onLoadUIFinish=function(){e.prototype._onLoadUIFinish.call(this),this._view=l.createObject(this.mFguiPkgName,this.mFguiMainViewName).asCom,this._addUIToRoot(this._view),this._view.makeFullScreen(),this._view.onClick(this._onCloseClick,this),this._view.checkBtn.onClick(this._onCheckClick,this),this._initData(),p.instance.IsInGuideScene&&2===p.instance.CurGuideID&&h.inst.swapChildren(this._view,v.instance.getView())},a._onCloseClick=function(){var e=n(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.mIsCanClose){e.next=2;break}return e.abrupt("return");case 2:C.PlaySound_UICommonClose(),m.emit(_.UI_ITEM_GET_CLOSE),p.instance.IsInGuideScene&&p.instance.NextStep();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),a._onCheckClick=function(){var e=n(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.mIsCanClose){e.next=2;break}return e.abrupt("return");case 2:if(C.PlaySound_UICommonClick(),!p.instance.IsInGuideScene){e.next=7;break}return m.emit(_.UI_ITEM_GET_CLOSE),p.instance.NextStep(),e.abrupt("return");case 7:1===this.mUICheckType?(m.emit(_.UI_DETAILS_CLOSE),m.emit(_.UI_ASSET_OPEN,0)):2===this.mUICheckType&&(m.emit(_.UI_DETAILS_CLOSE),m.emit(_.UI_ASSET_OPEN,1)),m.emit(_.UI_ITEM_GET_CLOSE);case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),a._initData=function(){C.PlaySound_GetItem(),this._view.itemList.removeChildrenToPool(),this.mUICheckType=0;for(var e=this.mItemData.length,t=0;t<this.mItemData.length;t++){var i=this.mItemData[t],n=f.getItemRecord(i[0]);if(n)if(n.itemType===I.Farm_Worker)this._view.itemList.addItemFromPool(k.URL).setWorkerData(this.mItemData[t]),this.mUICheckType=1;else n.itemType!==I.Box_Use&&n.itemType!==I.Farm_Recipe&&n.itemType!==I.Farm_Object&&n.itemType!==I.Exploration_Pass||(this.mUICheckType=2),this._view.itemList.addItemFromPool(y.URL).setItemData(this.mItemData[t])}var o=Math.ceil(e/3),s=128*o+10*(o-1);s<266&&(s=266),s>542&&(s=542),this._view.itemList.height=s,0===this.mUICheckType?this._view.checkBtn.visible=!1:this._view.checkBtn.visible=!0},i(s,null,[{key:"instance",get:function(){return this._instance}}]),s}(d)).CTRL_NAME="UIItemGetController",E._instance=null,w=E))||w);s._RF.pop()}}}));

System.register("chunks:///_virtual/ui.item.get.item.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./enum.item.type.ts","./table.helper.ts","./resource.path.tool.ts"],(function(t){"use strict";var e,i,o,n,s,c,r;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy,o=t._decorator},function(t){n=t.GButton},function(t){s=t.EItemType},function(t){c=t.TableHelper},function(t){r=t.ResourcePathTool}],execute:function(){var u,l;i._RF.push({},"10a387ydZZDsLXFx810w2VB","ui.item.get.item.view",void 0);var m=o.ccclass;t("default",m("UIItemGetItemView")(((l=function(t){function i(){var e;return(e=t.call(this)||this).isRecipeCtrl=void 0,e.itemIcon=void 0,e.itemCount=void 0,e}e(i,t);var o=i.prototype;return o.onConstruct=function(){this.isRecipeCtrl=this.getController("IsRecipe"),this.itemIcon=this.getChild("ui_CoinIcon"),this.itemCount=this.getChild("ui_CoinAmount")},o.setItemData=function(t){var e=c.getItemRecord(t[0]);if(e){var i=t[1].toString();this.itemIcon.url=r.getUIFarmItemPath(e.itemIcon),this.itemCount.text="x"+i,e.itemType===s.Farm_Recipe?this.isRecipeCtrl.selectedIndex=1:this.isRecipeCtrl.selectedIndex=0}},i}(n)).URL="ui://ItemGet/itemget_item",u=l))||u);i._RF.pop()}}}));

System.register("chunks:///_virtual/ui.item.get.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){"use strict";var i,e,n,o;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy,n=t._decorator},function(t){o=t.GComponent}],execute:function(){var u,c;e._RF.push({},"a9143WedPdIJorWRkn260nO","ui.item.get.view",void 0);var s=n.ccclass;t("default",s("UIItemGetView")(((c=function(t){function e(){var i;return(i=t.call(this)||this).itemList=void 0,i.checkBtn=void 0,i}return i(e,t),e.prototype.onConstruct=function(){this.itemList=this.getChild("ui_ItemList"),this.checkBtn=this.getChild("ui_BtnContinue")},e}(o)).URL="ui://ItemGet/Main",u=c))||u);e._RF.pop()}}}));

System.register("chunks:///_virtual/ui.item.get.worker.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./enum.item.type.ts","./resource.manager.ts","./table.helper.ts"],(function(e){"use strict";var r,t,o,n,i,a,s,c,u;return{setters:[function(e){r=e.inheritsLoose},function(e){t=e.cclegacy,o=e._decorator,n=e.isValid,i=e.v2},function(e){a=e.GButton},function(e){s=e.EItemType},function(e){c=e.ResourceManager},function(e){u=e.TableHelper}],execute:function(){var l,k;t._RF.push({},"3321abHfxRD3IS3TRlFUV/7","ui.item.get.worker.view",void 0);var m=o.ccclass;e("default",m("UIItemGetWorkerView")(((k=function(e){function t(){var r;return(r=e.call(this)||this).workerIcon=void 0,r.workerStar=void 0,r.workerName=void 0,r}r(t,e);var o=t.prototype;return o.onConstruct=function(){this.workerIcon=this.getChild("ui_WorkerIcon"),this.workerStar=this.getChild("ui_AwakenStar"),this.workerName=this.getChild("ui_WorkerID")},o.setWorkerData=function(e){var r=u.getItemRecord(e[0]),t=e[1].toString();if(null!=r&&r.itemType===s.Farm_Worker){var o=u.getWorkerData(Number.parseInt(r.itemParam1));if(null!=r){var n=u.getWorkerLevel(Number.parseInt(r.itemParam2));null!=n&&(this._loadModelShow(o.resModelPath),this._setWorkerStar(n.star),this.workerName.text=o.workerName+" x"+t)}}},o._setWorkerStar=function(e){this.workerStar.removeChildren();for(var r=0;r<e;r++)this.workerStar.addItem()},o._loadModelShow=function(e){var r=this;c.instance.loadAvatarSkeletonData(e).then((function(e){n(r.node)&&(r.workerIcon&&r.workerIcon.node&&r.workerIcon.node.scale&&r.workerIcon.setScale(2.5,2.5),r.workerIcon.clearContent(),r.workerIcon.skinName=e.defaultSkin,r.workerIcon.animationName="idle",r.workerIcon.setSpine(e.skeletonData,i(30,45)))}))},t}(a)).URL="ui://ItemGet/listbar_worker",l=k))||l);t._RF.pop()}}}));

System.register("chunks:///_virtual/ui.login.comp.inner.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(i){"use strict";var n,t,o;return{setters:[function(i){n=i.inheritsLoose},function(i){t=i.cclegacy},function(i){o=i.GComponent}],execute:function(){t._RF.push({},"c4a85MisgxI2rO7E9fvTas7","ui.login.comp.inner.view",void 0),i("default",function(i){function t(){var n;return(n=i.call(this)||this).inputAccount=void 0,n.btnLogin=void 0,n}return n(t,i),t.prototype.onConstruct=function(){this.inputAccount=this.getChildByPath("ui_input_account.input"),this.btnLogin=this.getChild("ui_btn_login")},t}(o)).URL="ui://Login/comp_inner",t._RF.pop()}}}));

System.register("chunks:///_virtual/ui.login.comp.invite.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(i){"use strict";var t,n,o;return{setters:[function(i){t=i.inheritsLoose},function(i){n=i.cclegacy},function(i){o=i.GComponent}],execute:function(){n._RF.push({},"025e3yP/WNBbLkUP2prEXl4","ui.login.comp.invite.view",void 0),i("default",function(i){function n(){var t;return(t=i.call(this)||this).inputInvite=void 0,t.btnConfirm=void 0,t.btnSkip=void 0,t}return t(n,i),n.prototype.onConstruct=function(){this.inputInvite=this.getChildByPath("input_code.input"),this.btnConfirm=this.getChild("ui_btn_confirm"),this.btnSkip=this.getChild("ui_btn_skip")},n}(o)).URL="ui://Login/comp_invite_code",n._RF.pop()}}}));

System.register("chunks:///_virtual/ui.login.comp.outer.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(i){"use strict";var t,n,o;return{setters:[function(i){t=i.inheritsLoose},function(i){n=i.cclegacy},function(i){o=i.GComponent}],execute:function(){n._RF.push({},"4026dDRLFBM9Y0qs0MnPwF/","ui.login.comp.outer.view",void 0),i("default",function(i){function n(){var t;return(t=i.call(this)||this).webBtnGroup=void 0,t.webTelegramLoginBtn=void 0,t.webXLoginBtn=void 0,t.webLineLoginBtn=void 0,t.btnLogin=void 0,t.kaiaBtnLogin=void 0,t}return t(n,i),n.prototype.onConstruct=function(){this.btnLogin=this.getChild("ui_btn_login"),this.kaiaBtnLogin=this.getChild("ui_btn_kaia_loin"),this.webBtnGroup=this.getChild("web_group"),this.webTelegramLoginBtn=this.getChild("ui_btn_tg_login"),this.webXLoginBtn=this.getChild("ui_btn_x_login"),this.webLineLoginBtn=this.getChild("ui_btn_ln_login"),this.webBtnGroup.visible=!1,this.webLineLoginBtn.visible=!1,this.btnLogin.visible=!1,this.kaiaBtnLogin.visible=!1},n}(o)).URL="ui://Login/comp_outer",n._RF.pop()}}}));

System.register("chunks:///_virtual/ui.login.comp.res.load.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(e){"use strict";var i,t,s;return{setters:[function(e){i=e.inheritsLoose},function(e){t=e.cclegacy},function(e){s=e.GComponent}],execute:function(){t._RF.push({},"22dd6XaPt9C1b0nYpeP1jD/","ui.login.comp.res.load.view",void 0),e("default",function(e){function t(){var i;return(i=e.call(this)||this).resFailedBtn=void 0,i.resFailedText=void 0,i.resProgressView=void 0,i}return i(t,e),t.prototype.onConstruct=function(){this.resProgressView=this.getChild("ui_progress_res"),this.resFailedBtn=this.getChild("ui_load_failed"),this.resFailedText=this.resFailedBtn.getChild("ui_ResFailedLabel")},t}(s)).URL="ui://Login/comp_res_load",t._RF.pop()}}}));

System.register("chunks:///_virtual/ui.login.controller.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ui.base.controller.ts","./fairygui.mjs","./sdk.manager.ts","./server.config.manager.ts","./event.dispatcher.ts","./event.name.ts","./resource.manager.ts","./table.manager.ts","./plugin.settings.ts","./enum.plat.type.ts","./localstorage.manager.ts","./localstorage.define.ts","./ui.float.text.controller.ts","./sound.helper.ts","./table.helper.ts"],(function(e){"use strict";var n,t,i,o,s,r,a,c,l,u,_,h,v,p,w,f,I,g,L,m,d,S,k,b;return{setters:[function(e){n=e.inheritsLoose,t=e.createClass,i=e.asyncToGenerator,o=e.regeneratorRuntime},function(e){s=e.cclegacy,r=e._decorator,a=e.isValid,c=e.v2,l=e.error},function(e){u=e.UIBaseController},function(e){_=e.UIPackage},function(e){h=e.SDKManager},function(e){v=e.ServerConfigManager},function(e){p=e.EventDispatcher},function(e){w=e.EventName},function(e){f=e.ResourceManager},function(e){I=e.TableManager},function(e){g=e.PluginSettings},function(e){L=e.PlatType},function(e){m=e.LocalStorageManager},function(e){d=e.LocalStorageDataType},function(e){S=e.UIFloatTextController},function(e){k=e.SoundHelper},function(e){b=e.TableHelper}],execute:function(){var C,P;s._RF.push({},"a9349sFXDVDBpbNsA4O3iEE","ui.login.controller",void 0);var x=r.ccclass;e("UILoginController",x("UILoginController")(((P=function(e){function s(){for(var n,t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];return(n=e.call.apply(e,[this].concat(i))||this).mFguiPkgName="Login",n.mFguiMainViewName="Main",n._view=null,n}n(s,e);var r=s.prototype;return r._addEvents=function(){e.prototype._addEvents.call(this),p.on(w.UI_LOGIN_SHOW_COMMON_UI,this._event_onShowComUI,this),p.on(w.UI_LOGIN_SHOW_TWITTER_UI,this._event_onShowTwitterUI,this),p.on(w.UI_LOGIN_SHOW_LINE_UI,this._event_onShowLineUI,this),p.on(w.UI_LOGIN_SHOW_WEB_UI,this._event_onShowWebUI,this),p.on(w.UI_LOGIN_SHOW_INVITE_PANEL,this._event_onShowInvitePanel,this),p.on(w.PRELOAD_RES_PERCENT,this._event_onPreloadPercent,this),p.on(w.PRELOAD_RES_FINISH,this._event_onPreloadFinish,this),p.on(w.PRELOAD_FINISH_ALL,this._event_onPreloadAllFinish,this)},r._removeEvents=function(){e.prototype._removeEvents.call(this),p.off(w.UI_LOGIN_SHOW_COMMON_UI,this._event_onShowComUI,this),p.off(w.UI_LOGIN_SHOW_TWITTER_UI,this._event_onShowTwitterUI,this),p.off(w.UI_LOGIN_SHOW_LINE_UI,this._event_onShowLineUI,this),p.off(w.UI_LOGIN_SHOW_WEB_UI,this._event_onShowWebUI,this),p.off(w.UI_LOGIN_SHOW_INVITE_PANEL,this._event_onShowInvitePanel,this),p.off(w.PRELOAD_RES_PERCENT,this._event_onPreloadPercent,this),p.off(w.PRELOAD_RES_FINISH,this._event_onPreloadFinish,this),p.off(w.PRELOAD_FINISH_ALL,this._event_onPreloadAllFinish,this)},r.onLoad=function(){s._instance=this,this._startLoadPkg(this.mFguiPkgName)},r.onDestroy=function(){e.prototype.onDestroy.call(this),s._instance=null},r.closeUI=function(){e.prototype.closeUI.call(this),p.emit(w.UI_FLOAT_TEXT_CLOSE_WAITING)},r._onLoadUIFinish=function(){e.prototype._onLoadUIFinish.call(this),this._view=_.createObject(this.mFguiPkgName,this.mFguiMainViewName).asCom,this._addUIToRoot(this._view),this._view.makeFullScreen(),this._hideAllComponents();var n=g.getVersionCode()||"1.0.0";this._view.versionLabel.text="Version "+n,this._view.compResLoad.resProgressView.value=0,this._view.compResLoad.resProgressView.desLabel.text=b.getI18nInnerText("i.1001"),this._view.compResLoad.resProgressView.percentLabel.text="0%",this._view.compInner.btnLogin.onClick(this._onCommonLoginClick,this),this._loadWorkIcon(),this._InitDefaultLoginAccount(),g.isDebug()&&(this._view.kebaServerBtn.visible=!0,this._view.kebaServerBtn.onClick(this._onSwitchKebaClick,this)),this._startLoadRes()},r._InitDefaultLoginAccount=function(){var e=m.instance.GetTargetLocalStorage(d.LoginAccount);this._view.compInner.inputAccount.text=e.GetStringData()},r._startLoadRes=function(){var e=i(o().mark((function e(){var n,t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this._view.compResLoad.visible=!0,this._view.compResLoad.resProgressView.value=5,this._view.compResLoad.resProgressView.percentLabel.text="5%",this._view.compResLoad.resProgressView.desLabel.text=b.getI18nInnerText("i.1002"),e.next=7,v.instance.loadVersionBase();case 7:if(!(n=e.sent).isMaintenance){e.next=13;break}return this._view.compResLoad.resProgressView.visible=!1,this._view.isShowTip.selectedIndex=1,this._view.tipLabel.text=null!=(t=n.maintenanceMsg)?t:b.getI18nInnerText("i.1003"),e.abrupt("return");case 13:if(!this._isOpenedBySelf()){e.next=18;break}return this._view.compResLoad.resProgressView.visible=!1,this._view.isShowTip.selectedIndex=1,this._view.tipLabel.text=b.getI18nInnerText("i.1004"),e.abrupt("return");case 18:return this._view.compResLoad.resProgressView.value=10,this._view.compResLoad.resProgressView.percentLabel.text="10%",this._view.compResLoad.resProgressView.desLabel.text=b.getI18nInnerText("i.1005"),e.next=23,I.instance.loadI18nTables();case 23:return e.next=25,I.instance.loadAllTables();case 25:this._view.compResLoad.resProgressView.value=20,this._view.compResLoad.resProgressView.percentLabel.text="20%",f.instance.preloadRes(),e.next=33;break;case 30:e.prev=30,e.t0=e.catch(0),l("start download res error:",e.t0);case 33:case"end":return e.stop()}}),e,this,[[0,30]])})));return function(){return e.apply(this,arguments)}}(),r._onResReloadClick=function(){var e=i(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._startLoadRes();case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),r._onSwitchKebaClick=function(){var e=i(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:g.switchCurPlatform(L.KEBA);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),r._onCommonLoginClick=function(){var e=i(o().mark((function e(){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==(n=this._view.compInner.inputAccount.text)){e.next=4;break}return S.AddTipI18nID_Info("u.2508"),e.abrupt("return");case 4:m.instance.GetTargetLocalStorage(d.LoginAccount).SaveStringData(n),h.instance.curSDKPlugin.loginAccount=n,h.instance.curSDKPlugin.SDKLogin();case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),r._loadWorkIcon=function(){var e=this;f.instance.loadAvatarSkeletonData("LunaWicca/LunaWicca").then((function(n){a(e.node)&&(e._view.workIcon&&e._view.workIcon.node&&e._view.workIcon.node.scale&&e._view.workIcon.setScale(1.8,1.8),e._view.workIcon.clearContent(),e._view.workIcon.skinName=n.defaultSkin,e._view.workIcon.animationName="walking2",e._view.workIcon.setSpine(n.skeletonData,c(30,50)))}))},r._hideAllComponents=function(){this._view.compResLoad.visible=!1,this._view.compInner.visible=!1,this._view.compOuter.visible=!1,this._view.compInvite.visible=!1,this._view.isShowTip.selectedIndex=0},r._event_onShowComUI=function(){this._hideAllComponents(),this._view.compInner.visible=!0,this._view.compInner.btnLogin.onClick(this._onCommonLoginClick,this)},r._event_onShowTwitterUI=function(){this._hideAllComponents(),this._view.compOuter.visible=!0,this._view.compOuter.btnLogin.visible=!0,this._view.compOuter.btnLogin.text=b.getI18nInnerText("i.1006"),this._view.compOuter.btnLogin.onClick(this._onTwitterLoginClick,this)},r._event_onShowWebUI=function(){this._hideAllComponents(),this._view.compOuter.visible=!0,this._view.compOuter.webBtnGroup.visible=!0,this._view.compOuter.webTelegramLoginBtn.onClick(this._onWebTelegramClick,this),this._view.compOuter.webXLoginBtn.onClick(this._onWebXClick,this),this._view.compOuter.webLineLoginBtn.onClick(this._onWebLineClick,this)},r._onWebTelegramClick=function(){var e=i(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:h.instance.curSDKPlugin.SDKTelegramWebLogin();case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),r._onWebXClick=function(){var e=i(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:h.instance.curSDKPlugin.SDKXLogin();case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),r._onWebLineClick=function(){var e=i(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),r._onTwitterLoginClick=function(){var e=i(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:h.instance.curSDKPlugin.SDKLogin();case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),r._event_onShowLineUI=function(){this._hideAllComponents(),this._view.compOuter.visible=!0,this._view.compOuter.kaiaBtnLogin.visible=!0,this._view.compOuter.kaiaBtnLogin.onClick(this._onLineLoginClick,this)},r._onLineLoginClick=function(){var e=i(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:h.instance.curSDKPlugin.SDKLogin();case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),r._event_onShowInvitePanel=function(){this._hideAllComponents(),this._view.compInvite.visible=!0,this._view.compInvite.btnConfirm.onClick(this._onInviteConfirmClick,this),this._view.compInvite.btnSkip.onClick(this._onInviteSkipClick,this)},r._onInviteConfirmClick=function(){var e=i(o().mark((function e(){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==(n=this._view.compInvite.inputInvite.text)){e.next=4;break}return S.AddTipI18nID_Failed("u.2554"),e.abrupt("return");case 4:h.instance.curSDKPlugin.SDKDealInvite(n);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),r._onInviteSkipClick=function(){var e=i(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:h.instance.curSDKPlugin.SDKDealInvite("skip");case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),r._event_onPreloadPercent=function(e,n){var t=Math.ceil(18+e/n*80);this._view.compResLoad.resProgressView.value=t,this._view.compResLoad.resProgressView.desLabel.text=b.getI18nInnerText("i.1008")+"... ("+e+"/"+n+")",this._view.compResLoad.resProgressView.percentLabel.text=t+"%"},r._event_onPreloadFinish=function(){this._view.compResLoad.resProgressView.value=98,this._view.compResLoad.resProgressView.desLabel.text=b.getI18nInnerText("i.1009"),this._view.compResLoad.resProgressView.percentLabel.text="98%"},r._event_onPreloadAllFinish=function(){k.InitAllUIRecord(),this._view.compResLoad.visible=!1,h.instance.curSDKPlugin.SDKShowUI()},r._isOpenedBySelf=function(){if(g.isInX()&&"true"===new URLSearchParams(window.location.search).get("selfOpen"))return!0;return!1},t(s,null,[{key:"instance",get:function(){return this._instance}}]),s}(u)).CTRL_NAME="UILoginController",P._instance=null,C=P))||C);s._RF.pop()}}}));

System.register("chunks:///_virtual/ui.login.progress.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(e){"use strict";var i,t,r;return{setters:[function(e){i=e.inheritsLoose},function(e){t=e.cclegacy},function(e){r=e.GProgressBar}],execute:function(){t._RF.push({},"b6d2dCF9nVK9r+T3QdIudmG","ui.login.progress.view",void 0),e("default",function(e){function t(){var i;return(i=e.call(this)||this).desLabel=void 0,i.percentLabel=void 0,i}return i(t,e),t.prototype.onConstruct=function(){this.desLabel=this.getChild("ui_Label"),this.percentLabel=this.getChild("ui_Value")},t}(r)).URL="ui://Login/res_load_progress",t._RF.pop()}}}));

System.register("chunks:///_virtual/ui.login.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(i){"use strict";var t,e,o;return{setters:[function(i){t=i.inheritsLoose},function(i){e=i.cclegacy},function(i){o=i.GComponent}],execute:function(){e._RF.push({},"e5f2fiK8YNEbrQFnX4FDI6x","ui.login.view",void 0),i("default",function(i){function e(){var t;return(t=i.call(this)||this).isShowTip=void 0,t.workIcon=void 0,t.compResLoad=void 0,t.compInner=void 0,t.compOuter=void 0,t.compInvite=void 0,t.tipLabel=void 0,t.versionLabel=void 0,t.kebaServerBtn=void 0,t}return t(e,i),e.prototype.onConstruct=function(){this.isShowTip=this.getController("IsShowTip"),this.workIcon=this.getChild("ui_WorkerIcon"),this.compInner=this.getChild("inner"),this.compOuter=this.getChild("outer"),this.compResLoad=this.getChild("res_load"),this.compInvite=this.getChild("invite"),this.kebaServerBtn=this.compInner.getChild("btn_keba"),this.tipLabel=this.getChild("ui_showTip"),this.versionLabel=this.getChild("n117")},e}(o)).URL="ui://Login/Main",e._RF.pop()}}}));

System.register("chunks:///_virtual/ui.mail.controller.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./event.dispatcher.ts","./event.name.ts","./table.helper.ts","./net.helper.ts","./sound.helper.ts","./ui.message.box.controller.ts","./ui.base.controller.ts"],(function(i){"use strict";var t,e,l,s,a,n,o,h,_,r,M,m,c,u,I,f;return{setters:[function(i){t=i.inheritsLoose,e=i.createClass},function(i){l=i.cclegacy,s=i._decorator,a=i.input,n=i.Input,o=i.KeyCode},function(i){h=i.UIPackage,_=i.Event},function(i){r=i.EventDispatcher},function(i){M=i.EventName},function(i){m=i.TableHelper},function(i){c=i.NetHelper},function(i){u=i.SoundHelper},function(i){I=i.UIMessageBoxController},function(i){f=i.UIBaseController}],execute:function(){var L,D;l._RF.push({},"1775eFQ601GZoXVM81kbZ/K","ui.mail.controller",void 0);var v=s.ccclass;i("UIMailController",v("UIMailController")(((D=function(i){function l(){for(var t,e=arguments.length,l=new Array(e),s=0;s<e;s++)l[s]=arguments[s];return(t=i.call.apply(i,[this].concat(l))||this).mFguiPkgName="Mail",t.mFguiMainViewName="Main",t._view=null,t.mMailDataList=[],t.mMailDetailInfo=null,t.mIsLoadingMailDetail=!1,t}t(l,i);var s=l.prototype;return s._addEvents=function(){i.prototype._addEvents.call(this),a.on(n.EventType.KEY_DOWN,this._onKeyDown,this),r.on(M.MAIL_GET_LIST,this._onGetMailList,this),r.on(M.MAIL_NOTIFY_NEW,this._onNotifyNewMail,this),r.on(M.MAIL_REMOVE_ITEM,this._onRemoveMailItem,this),r.on(M.MAIL_DETAIL_SHOW_INFO,this._onMailDetailShow,this),r.on(M.MAIL_DETAIL_CLOSE_INFO,this._onMailDetailClose,this),r.on(M.MAIL_DETAIL_REMOVE_ITEM,this._onMailDetailRemoveItem,this)},s._removeEvents=function(){i.prototype._removeEvents.call(this),a.off(n.EventType.KEY_DOWN,this._onKeyDown,this),r.off(M.MAIL_GET_LIST,this._onGetMailList,this),r.off(M.MAIL_NOTIFY_NEW,this._onNotifyNewMail,this),r.off(M.MAIL_REMOVE_ITEM,this._onRemoveMailItem,this),r.off(M.MAIL_DETAIL_SHOW_INFO,this._onMailDetailShow,this),r.off(M.MAIL_DETAIL_CLOSE_INFO,this._onMailDetailClose,this),r.off(M.MAIL_DETAIL_REMOVE_ITEM,this._onMailDetailRemoveItem,this)},s._onKeyDown=function(i){switch(i.keyCode){case o.ESCAPE:this._onCloseClick()}},s._onGetMailList=function(i){null!=this._view&&this._initMailList(i.mInfo)},s._onNotifyNewMail=function(){null!=this._view&&c.loadMailList()},s._onRemoveMailItem=function(i){null!=this._view&&(null!=this.mMailDetailInfo&&this.mMailDetailInfo.mMailID===i&&this._openMailList(),this._removeMail(i),this._refreshMailList())},s._onMailDetailShow=function(i){if(null!=this._view&&null!=i){this.mIsLoadingMailDetail=!1,this.mMailDetailInfo=i;var t=this._findMail(this.mMailDetailInfo.mMailID);null!=t&&(t.mState=2,this._refreshMailList()),this._view.stateCtrl.selectedIndex=1,this._view.detailView.openMailDetail(t,this.mMailDetailInfo),r.emit(M.MAIL_REFRESH_RED_TIP,this.isShowRedTip())}},s._onMailDetailClose=function(){null!=this._view&&this._openMailList()},s._onMailDetailRemoveItem=function(i){var t=this._findMail(i);null!=t&&(t.mState=2,t.mItemGot=!0,this._refreshMailList()),null!=this.mMailDetailInfo&&this.mMailDetailInfo.mMailID===i&&this._view.detailView.refreshMailDetail(),r.emit(M.MAIL_REFRESH_RED_TIP,this.isShowRedTip())},s.onLoad=function(){l._instance=this,this._startLoadPkg(this.mFguiPkgName)},s.onDestroy=function(){i.prototype.onDestroy.call(this),this.unscheduleAllCallbacks(),l._instance=null},s.closeUI=function(){i.prototype.closeUI.call(this)},s._onLoadUIFinish=function(){i.prototype._onLoadUIFinish.call(this),this._view=h.createObject(this.mFguiPkgName,this.mFguiMainViewName).asCom,this._addUIToRoot(this._view),this._view.makeFullScreen(),this._initData()},s._initData=function(){this._view.closeBtn.onClick(this._onCloseClick,this),this._view.deleteAllBtn.onClick(this._onDeleteAllClick,this),this._view.receiveAllBtn.onClick(this._onReceiveAllClick,this),this._view.mailList.itemRenderer=this._renderMailListItem.bind(this),this._view.mailList.setVirtual(),this._view.mailList.on(_.CLICK_ITEM,this._onMailListItemClick,this),this._view.isNoneCtrl.selectedIndex=2,c.loadMailList()},s._onCloseClick=function(){u.PlaySound_UICommonClose(),r.emit(M.UI_MAIL_CLOSE)},s._onDeleteAllClick=function(){var i=this;u.PlaySound_UICommonClick(),this.mMailDataList.length<=0||I.AddPopMsgBox_DoubleBtn(m.getI18nUIText("u.2403"),m.getI18nUIText("u.4001"),(function(){i._removeMailAll()}),this)},s._onReceiveAllClick=function(){u.PlaySound_UICommonClick(),c.getMailAllItem()},s._onMailListItemClick=function(i){this.mIsLoadingMailDetail||(this.mIsLoadingMailDetail=!0,c.loadMailDetail(i.MailID))},s._openMailList=function(){this.mMailDetailInfo=null,this._view.stateCtrl.selectedIndex=0},s._initMailList=function(i){var t;this.mMailDataList=[],(t=this.mMailDataList).push.apply(t,i),this._refreshMailList(),this._view.mailList.scrollToView(0)},s._refreshMailList=function(){var i=this.mMailDataList.length;this._view.isNoneCtrl.selectedIndex=i>0?0:1,this._view.mailList.numItems!==i?this._view.mailList.numItems=i:this._view.mailList.refreshVirtualList()},s._renderMailListItem=function(i,t){if(null!=this.mMailDataList&&i<this.mMailDataList.length){var e=this.mMailDataList[i];null!=e&&t.setMailData(e)}},s._removeMailAll=function(){for(var i=[],t=0;t<this.mMailDataList.length;t++)1!==this.mMailDataList[t].mState&&(this.mMailDataList[t].mbAccessory&&!this.mMailDataList[t].mItemGot||i.push(this.mMailDataList[t].mId));for(var e=0;e<i.length;e++)c.deleteMail(i[e])},s._findMail=function(i){for(var t=0;t<this.mMailDataList.length;t++)if(this.mMailDataList[t].mId===i)return this.mMailDataList[t]},s._removeMail=function(i){for(var t=0;t<this.mMailDataList.length;t++)if(this.mMailDataList[t].mId===i){this.mMailDataList.splice(t,1);break}},s.isShowRedTip=function(){for(var i=!1,t=0;t<this.mMailDataList.length;t++)if(1===this.mMailDataList[t].mState){i=!0;break}return i},e(l,null,[{key:"instance",get:function(){return this._instance}}]),l}(f)).CTRL_NAME="UIMailController",D._instance=null,L=D))||L);l._RF.pop()}}}));

System.register("chunks:///_virtual/ui.mail.detail.item.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./enum.item.type.ts","./table.helper.ts","./resource.path.tool.ts"],(function(t){"use strict";var i,e,s,n,o,l,m;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy},function(t){s=t.Event,n=t.GButton},function(t){o=t.EItemType},function(t){l=t.TableHelper},function(t){m=t.ResourcePathTool}],execute:function(){e._RF.push({},"081f82SiYpKKrC4WbvXXOEh","ui.mail.detail.item.view",void 0),t("default",function(t){function e(){for(var i,e=arguments.length,s=new Array(e),n=0;n<e;n++)s[n]=arguments[n];return(i=t.call.apply(t,[this].concat(s))||this).isGetCtrl=void 0,i.isRecipeCtrl=void 0,i.itemIcon=void 0,i.itemNumBG=void 0,i.itemNum=void 0,i.mItemInfo="",i}i(e,t);var n=e.prototype;return n.onConstruct=function(){t.prototype.onConstruct.call(this),this.isGetCtrl=this.getController("IsGet"),this.isRecipeCtrl=this.getController("IsRecipe"),this.itemIcon=this.getChild("ui_AwardIcon"),this.itemNumBG=this.getChild("n173"),this.itemNum=this.getChild("ui_Amount"),this.on(s.CLICK,this._onItemClick,this)},n._onItemClick=function(){this.mItemInfo},n.SetMailItemData=function(t,i,e){if(this.selected=!1,this.isGetCtrl.selectedIndex=e?1:0,0===t)return this.mItemInfo="",this.itemIcon.visible=!1,void(this.itemNum.visible=!1);this.itemIcon.visible=!0;var s=l.getItemRecord(t);null!=s?(this.itemIcon.url=m.getUIFarmItemPath(s.itemIcon),this.itemNum.visible=!0,this.itemNum.text=i.toString(),this.itemNumBG.width=this.itemNum.width/2+12,s.itemType===o.Farm_Recipe?this.isRecipeCtrl.selectedIndex=1:this.isRecipeCtrl.selectedIndex=0):(this.itemIcon.url="",this.itemNum.visible=!1,this.isRecipeCtrl.selectedIndex=0);var n=e?1:0;this.mItemInfo=t+"-"+i+"-"+n},e}(n)).URL="ui://Mail/mail_item",e._RF.pop()}}}));

System.register("chunks:///_virtual/ui.mail.detail.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./event.dispatcher.ts","./event.name.ts","./table.helper.ts","./net.helper.ts","./sound.helper.ts","./time.system.ts","./logic.tool.ts","./ui.mail.detail.item.view.ts"],(function(t){"use strict";var e,i,n,s,l,o,a,h,c,m,r;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy},function(t){n=t.GComponent},function(t){s=t.EventDispatcher},function(t){l=t.EventName},function(t){o=t.TableHelper},function(t){a=t.NetHelper},function(t){h=t.SoundHelper},function(t){c=t.TimeSystem},function(t){m=t.LogicTool},function(t){r=t.default}],execute:function(){i._RF.push({},"242d7JXAn1IiJbnHsKulBRN","ui.mail.detail.view",void 0),t("default",function(t){function i(){for(var e,i=arguments.length,n=new Array(i),s=0;s<i;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))||this).isAccessoriesCtrl=void 0,e.isGetCtrl=void 0,e.closeBtn=void 0,e.titleText=void 0,e.sendDate=void 0,e.endDate=void 0,e.contentView=void 0,e.contentText=void 0,e.itemList=void 0,e.delete1Btn=void 0,e.delete2Btn=void 0,e.receiveBtn=void 0,e.mMailInfo=null,e.mDetailInfo=null,e}e(i,t);var n=i.prototype;return n.onConstruct=function(){t.prototype.onConstruct.call(this),this.isAccessoriesCtrl=this.getController("IsAccessories"),this.isGetCtrl=this.getController("IsGet"),this.closeBtn=this.getChild("ui_WindClose"),this.titleText=this.getChild("ui_MailName"),this.sendDate=this.getChild("ui_SendTime"),this.endDate=this.getChild("ui_DeleteTime"),this.contentView=this.getChild("ui_MailContent"),this.contentText=this.contentView.getChild("ui_Des"),this.itemList=this.getChild("ui_MailItemList"),this.delete1Btn=this.getChild("ui_BtnDelete1"),this.delete2Btn=this.getChild("ui_BtnDelete2"),this.receiveBtn=this.getChild("ui_BtnReceive"),this.closeBtn.onClick(this._onCloseClick,this),this.delete1Btn.onClick(this._onDeleteClick,this),this.delete2Btn.onClick(this._onDeleteClick,this),this.receiveBtn.onClick(this._onReceiveClick,this)},n._onCloseClick=function(){h.PlaySound_UICommonClose(),s.emit(l.MAIL_DETAIL_CLOSE_INFO)},n._onDeleteClick=function(){h.PlaySound_UICommonClick(),null!=this.mDetailInfo&&a.deleteMail(this.mDetailInfo.mMailID)},n._onReceiveClick=function(){h.PlaySound_UICommonClick(),null!=this.mDetailInfo&&a.getMailItem(this.mDetailInfo.mMailID)},n.openMailDetail=function(t,e){this.mMailInfo=t,this.mDetailInfo=e,this.titleText.text=m.ParseMailText(this.mDetailInfo.mTitle),this.contentText.text=m.ParseMailText(this.mDetailInfo.mText),this.refreshMailDetail()},n.refreshMailDetail=function(){if(null!=this.mMailInfo&&null!=this.mDetailInfo){var t=new Date(1e3*this.mMailInfo.mCreateTime);this.sendDate.text=t.toLocaleString();var e=this.mMailInfo.mEndTime-c.instance.getTimestamp();if(e>0){var i=c.formatTimeString_Mail(e);this.endDate.text=m.i18nFormat(o.getI18nUIText("u.11308"),[i])}else this.endDate.text="";this.mMailInfo.mbAccessory?(this.isAccessoriesCtrl.selectedIndex=1,this.mMailInfo.mItemGot?(this.isGetCtrl.selectedIndex=1,this.refreshMailDetailItemList(this.mDetailInfo.mItem,this.mDetailInfo.mNum,!0)):(this.isGetCtrl.selectedIndex=0,this.refreshMailDetailItemList(this.mDetailInfo.mItem,this.mDetailInfo.mNum,!1))):(this.isAccessoriesCtrl.selectedIndex=0,this.isGetCtrl.selectedIndex=0)}},n.refreshMailDetailItemList=function(t,e,i){this.itemList.removeChildrenToPool();for(var n=0;n<t.length;n++){if(t[n]>0)this.itemList.addItemFromPool(r.URL).SetMailItemData(t[n],e[n],i)}},i}(n)).URL="ui://Mail/mail_details",i._RF.pop()}}}));

System.register("chunks:///_virtual/ui.mail.list.item.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./table.helper.ts","./time.system.ts","./logic.tool.ts"],(function(t){"use strict";var e,i,s,n,l,r,a;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass},function(t){s=t.cclegacy},function(t){n=t.GComponent},function(t){l=t.TableHelper},function(t){r=t.TimeSystem},function(t){a=t.LogicTool}],execute:function(){s._RF.push({},"d256b2N55JHyK5LIJEkDTpl","ui.mail.list.item.view",void 0),t("default",function(t){function s(){for(var e,i=arguments.length,s=new Array(i),n=0;n<i;n++)s[n]=arguments[n];return(e=t.call.apply(t,[this].concat(s))||this).buttonCtrl=void 0,e.isReadCtrl=void 0,e.isAccessoriesCtrl=void 0,e.title=void 0,e.sendDate=void 0,e.endDate=void 0,e.mMailID=0,e}e(s,t);var n=s.prototype;return n.onConstruct=function(){this.isReadCtrl=this.getController("IsRead"),this.isAccessoriesCtrl=this.getController("IsAccessories"),this.title=this.getChild("ui_MailName"),this.sendDate=this.getChild("ui_SendTime"),this.endDate=this.getChild("ui_DeleteTime")},n.setMailData=function(t){this.mMailID=t.mId,this.title.text=a.ParseMailText(t.mFromName);var e=new Date(1e3*t.mCreateTime);this.sendDate.text=e.toLocaleString();var i=t.mEndTime-r.instance.getTimestamp();if(i>0){var s=r.formatTimeString_Mail(i);this.endDate.text=a.i18nFormat(l.getI18nUIText("u.11308"),[s])}else this.endDate.text="";2===t.mState?this.isReadCtrl.selectedIndex=1:this.isReadCtrl.selectedIndex=0,t.mbAccessory&&!t.mItemGot?this.isAccessoriesCtrl.selectedIndex=1:this.isAccessoriesCtrl.selectedIndex=0},i(s,[{key:"MailID",get:function(){return this.mMailID}}]),s}(n)).URL="ui://Mail/mail_listbar",s._RF.pop()}}}));

System.register("chunks:///_virtual/ui.mail.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){"use strict";var i,e,l,s;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy,l=t._decorator},function(t){s=t.GComponent}],execute:function(){var n,o;e._RF.push({},"5a0c3dIXChIBKBp27guc71m","ui.mail.view",void 0);var r=l.ccclass;t("default",r("UIMailView")(((o=function(t){function e(){var i;return(i=t.call(this)||this).stateCtrl=void 0,i.isNoneCtrl=void 0,i.closeBtn=void 0,i.mailList=void 0,i.deleteAllBtn=void 0,i.receiveAllBtn=void 0,i.detailView=void 0,i}return i(e,t),e.prototype.onConstruct=function(){this.stateCtrl=this.getController("State"),this.isNoneCtrl=this.getController("IsNone"),this.closeBtn=this.getChild("ui_WindClose"),this.mailList=this.getChild("ui_MailList"),this.deleteAllBtn=this.getChild("ui_BtnDeleteAll"),this.receiveAllBtn=this.getChild("ui_BtnReceiveAll"),this.detailView=this.getChild("ui_MailDetails")},e}(s)).URL="ui://Mail/Main",n=o))||n);e._RF.pop()}}}));

System.register("chunks:///_virtual/ui.main.interface.controller.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./event.dispatcher.ts","./event.name.ts","./enum.farm.object.type.ts","./sound.helper.ts","./ui.base.controller.ts","./model.worker.manager.ts","./model.farm.manager.ts","./enum.farm.building.type.ts","./property.client.protocol.ts","./model.item.manager.ts","./net.helper.ts","./model.mainrole.manager.ts","./model.achievement.manager.ts","./api.tg.quest.ts","./api.tg.quest.model.ts","./model.web.quest.manager.ts","./sdk.manager.ts","./new.guide.manager.ts","./logic.tool.ts","./model.charge.manager.ts","./model.mining.manager.ts","./farm.system.ts","./table.helper.ts","./ui.float.text.controller.ts","./ui.manager.ts","./ui.quidditch.controller.ts","./ui.message.box.controller.ts","./table.manager.ts","./time.system.ts","./plugin.settings.ts","./api.legacy.x.ts","./api.tomarket.award.ts","./wizard.wallet.sdk.ts","./tonweb.mjs_cjs=&original=.js","./model.chain.order.manager.ts","./tonweb.js"],(function(i){"use strict";var t,e,n,o,s,_,a,h,r,c,l,f,C,I,E,d,u,T,m,v,w,A,g,N,R,S,L,O,k,M,G,D,p,P,B,U,F,y,b,H,x,V,W,Q;return{setters:[function(i){t=i.inheritsLoose,e=i.createClass,n=i.asyncToGenerator,o=i.regeneratorRuntime},function(i){s=i.cclegacy,_=i._decorator,a=i.macro,h=i.error},function(i){r=i.UIPackage},function(i){c=i.EventDispatcher},function(i){l=i.EventName},function(i){f=i.EFarmObjectType},function(i){C=i.SoundHelper},function(i){I=i.UIBaseController},function(i){E=i.ModelWorkerManager},function(i){d=i.ModelFarmManager},function(i){u=i.EFarmBuildingType},function(i){T=i.ELogType},function(i){m=i.ModelItemManager},function(i){v=i.NetHelper},function(i){w=i.ModelMainRoleManager},function(i){A=i.ModelAchievementManager},function(i){g=i.getTgQuestList},function(i){N=i.TgQuestCondition},function(i){R=i.ModelWebQuestManager},function(i){S=i.SDKManager},function(i){L=i.NewGuideManager},function(i){O=i.LogicTool},function(i){k=i.ModelChargeManager},function(i){M=i.ModelMiningManager},function(i){G=i.FarmSystem},function(i){D=i.TableHelper},function(i){p=i.UIFloatTextController},function(i){P=i.UIManager},function(i){B=i.UIQuidditchController},function(i){U=i.UIMessageBoxController},function(i){F=i.TableManager},function(i){y=i.TimeSystem},function(i){b=i.PluginSettings},function(i){H=i.apiLegacyXGetStatus},function(i){x=i.apiTomarketGetStatus},function(i){V=i.WizardWalletSDK},null,function(i){W=i.ModelChainOrderManager},function(i){Q=i.default}],execute:function(){var K,Y;s._RF.push({},"02f20+wSZ9JjKqBOFnkYQDb","ui.main.interface.controller",void 0);var X=_.ccclass;i("UIMainInterfaceController",X("UIMainInterfaceController")(((Y=function(i){function s(){for(var t,e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return(t=i.call.apply(i,[this].concat(n))||this).mFguiPkgName="MainInterface",t.mFguiMainViewName="Main",t._view=null,t.mIsCheckExplorationRedPoint=!1,t}t(s,i);var _=s.prototype;return _._addEvents=function(){i.prototype._addEvents.call(this),c.on(l.PLAYERSELF_MAIN_DATA_CHANGED,this._onMainDataChanged,this),c.on(l.PLAYERSELF_MONEY_GOLD_CHANGED,this._onGoldCoinChanged,this),c.on(l.PLAYERSELF_MONEY_SILVER_CHANGED,this._onSilverCoinChanged,this),c.on(l.PLAYERSELF_MONEY_WIZZ_CHANGED,this._onWizzCoinChanged,this),c.on(l.PLAYERSELF_ITEMS_CHANGED_LOG,this._event_OnUserGuideGetItemShow,this),c.on(l.ITEM_NEW_RED_POINT,this._event_OnNewItemRedPoint,this),c.on(l.WORKER_NEW_RED_POINT,this._event_OnNewWorkerRedPoint,this),c.on(l.REFRESH_MAIN_INTERFACE_LAN,this._onRefreshLanguage,this),c.on(l.FARM_DATA_CHANGE,this._onFarmDataChanged,this),c.on(l.FARM_LEVEL_CHANGE,this._onFarmLevelChanged,this),c.on(l.FARM_HASHRATE_CHANGE,this._onFarmHashrateChanged,this),c.on(l.WORKER_LIST_INIT,this.onWorkerListRefresh,this),c.on(l.WORKER_LIST_ADD_ITEM,this.onWorkerListAdd,this),c.on(l.WORKER_LIST_REMOVE_ITEM,this.onWorkerListRemove,this),c.on(l.WORKER_LIST_REFRESH_STATE_ITEM,this.onWorkerListRefreshState,this),c.on(l.FARM_CHANGE_STATE_TO_NORMAL,this.onEventChangeStateToNormal,this),c.on(l.FARM_CHANGE_STATE_TO_ITEM_EDITING,this.onEventChangeStateToItemEditing,this),c.on(l.FARM_CHANGE_STATE_TO_TERRAIN_EDITING,this.onEventChangeStateToTerrainEditing,this),c.on(l.FARM_TAP_OBJECT_SELECT,this.onFarmTapObjSelect,this),c.on(l.FARM_TAP_OBJECT_CANCEL,this.onFarmTapObjCancel,this),c.on(l.MAIL_GET_LIST,this._onGetMailList,this),c.on(l.MAIL_NOTIFY_NEW,this._onNotifyNewMail,this),c.on(l.MAIL_REFRESH_RED_TIP,this._onRefreshMailRedTip,this),c.on(l.INVITATION_DATA_CHANGED,this._onInvitationRewardChanged,this),c.on(l.INVITATION_REWRAD_DATA_CHANGED,this._onInvitationRewardChanged,this),c.on(l.WEB_QUEST_DATA_CHANGED,this.onWebQuestDataChanged,this),c.on(l.ACHIEVEMENT_LIST_INIT,this._onAchievementListChanged,this),c.on(l.ACHIEVEMENT_LIST_UPDATE,this._onAchievementListChanged,this),c.on(l.CHARGE_BUY_LIMIT_CHANGED,this._onChargeBuyLimitChanged,this),c.on(l.MONTHLY_CARD_DATA_CHANGED,this._onMonthlyCardDataChanged,this),c.on(l.MINING_LIST_INIT,this._onMiningListInit,this),c.on(l.MINING_WITHDRAW_COIN,this._onMiningWithdrawCoin,this),c.on(l.MINING_REFRESH_RED_TIP,this._onRefreshMiningRedTip,this),c.on(l.QUIDDITCH_GAME_STATE_CHANGED,this._onQuidditchGameStateChanged,this),c.on(l.QUIDDITCH_VOTE_DATA_CHANGED,this._onQuidditchVoteDataChanged,this),c.on(l.EXPLORATION_DATA_INIT,this._onExplorationDataChanged,this),c.on(l.CHAIN_ORDER_LIST_INIT,this._onChainOrderDataChanged,this),c.on(l.CHAIN_ORDER_ADD_ITEM,this._onChainOrderDataChanged,this),c.on(l.CHAIN_ORDER_REMOVE_ITEM,this._onChainOrderDataChanged,this),c.on(l.GIFT_LIST_DATA_CHANGED,this._onGiftListDataChanged,this),c.on(l.GIFT_X_LIST_DATA_CHANGED,this._onGiftXListDataChanged,this),c.on(l.GIFT_TOMARKET_LIST_DATA_CHANGED,this._onGiftTomarketListDataChanged,this),c.on(l.PLAYERSELF_NOTCOIN_LEVEL_CHANGED,this._onNotcoinLevelChanged,this),c.on(l.GIFT_NOTCOIN_LIST_DATA_CHANGED,this._onGiftNotcoinListDataChanged,this),c.on(l.UI_TOKEN_UNLOCK_TGE_REFRESH,this._onTokenUnlockTGERefresh,this)},_._removeEvents=function(){i.prototype._removeEvents.call(this),c.off(l.PLAYERSELF_MAIN_DATA_CHANGED,this._onMainDataChanged,this),c.off(l.PLAYERSELF_MONEY_GOLD_CHANGED,this._onGoldCoinChanged,this),c.off(l.PLAYERSELF_MONEY_SILVER_CHANGED,this._onSilverCoinChanged,this),c.off(l.PLAYERSELF_MONEY_WIZZ_CHANGED,this._onWizzCoinChanged,this),c.off(l.PLAYERSELF_ITEMS_CHANGED_LOG,this._event_OnUserGuideGetItemShow,this),c.off(l.ITEM_NEW_RED_POINT,this._event_OnNewItemRedPoint,this),c.off(l.WORKER_NEW_RED_POINT,this._event_OnNewWorkerRedPoint,this),c.off(l.REFRESH_MAIN_INTERFACE_LAN,this._onRefreshLanguage,this),c.off(l.FARM_DATA_CHANGE,this._onFarmDataChanged,this),c.off(l.FARM_LEVEL_CHANGE,this._onFarmLevelChanged,this),c.off(l.FARM_HASHRATE_CHANGE,this._onFarmHashrateChanged,this),c.off(l.WORKER_LIST_INIT,this.onWorkerListRefresh,this),c.off(l.WORKER_LIST_ADD_ITEM,this.onWorkerListAdd,this),c.off(l.WORKER_LIST_REMOVE_ITEM,this.onWorkerListRemove,this),c.off(l.WORKER_LIST_REFRESH_STATE_ITEM,this.onWorkerListRefreshState,this),c.off(l.FARM_CHANGE_STATE_TO_NORMAL,this.onEventChangeStateToNormal,this),c.off(l.FARM_CHANGE_STATE_TO_ITEM_EDITING,this.onEventChangeStateToItemEditing,this),c.off(l.FARM_CHANGE_STATE_TO_TERRAIN_EDITING,this.onEventChangeStateToTerrainEditing,this),c.off(l.FARM_TAP_OBJECT_SELECT,this.onFarmTapObjSelect,this),c.off(l.FARM_TAP_OBJECT_CANCEL,this.onFarmTapObjCancel,this),c.off(l.MAIL_GET_LIST,this._onGetMailList,this),c.off(l.MAIL_NOTIFY_NEW,this._onNotifyNewMail,this),c.off(l.MAIL_REFRESH_RED_TIP,this._onRefreshMailRedTip,this),c.off(l.INVITATION_DATA_CHANGED,this._onInvitationRewardChanged,this),c.off(l.INVITATION_REWRAD_DATA_CHANGED,this._onInvitationRewardChanged,this),c.off(l.WEB_QUEST_DATA_CHANGED,this.onWebQuestDataChanged,this),c.off(l.ACHIEVEMENT_LIST_INIT,this._onAchievementListChanged,this),c.off(l.ACHIEVEMENT_LIST_UPDATE,this._onAchievementListChanged,this),c.off(l.CHARGE_BUY_LIMIT_CHANGED,this._onChargeBuyLimitChanged,this),c.off(l.MONTHLY_CARD_DATA_CHANGED,this._onMonthlyCardDataChanged,this),c.off(l.MINING_LIST_INIT,this._onMiningListInit,this),c.off(l.MINING_WITHDRAW_COIN,this._onMiningWithdrawCoin,this),c.off(l.MINING_REFRESH_RED_TIP,this._onRefreshMiningRedTip,this),c.off(l.QUIDDITCH_GAME_STATE_CHANGED,this._onQuidditchGameStateChanged,this),c.off(l.QUIDDITCH_VOTE_DATA_CHANGED,this._onQuidditchVoteDataChanged,this),c.off(l.EXPLORATION_DATA_INIT,this._onExplorationDataChanged,this),c.off(l.CHAIN_ORDER_LIST_INIT,this._onChainOrderDataChanged,this),c.off(l.CHAIN_ORDER_ADD_ITEM,this._onChainOrderDataChanged,this),c.off(l.CHAIN_ORDER_REMOVE_ITEM,this._onChainOrderDataChanged,this),c.off(l.GIFT_LIST_DATA_CHANGED,this._onGiftListDataChanged,this),c.off(l.GIFT_X_LIST_DATA_CHANGED,this._onGiftXListDataChanged,this),c.off(l.GIFT_TOMARKET_LIST_DATA_CHANGED,this._onGiftTomarketListDataChanged,this),c.off(l.PLAYERSELF_NOTCOIN_LEVEL_CHANGED,this._onNotcoinLevelChanged,this),c.off(l.GIFT_NOTCOIN_LIST_DATA_CHANGED,this._onGiftNotcoinListDataChanged,this),c.off(l.UI_TOKEN_UNLOCK_TGE_REFRESH,this._onTokenUnlockTGERefresh,this)},_._event_OnUserGuideGetItemShow=function(i){if(!L.instance.IsInGuideScene||i.type!==T.eItemChangeLog_WebQuestReward)switch(i.type){case T.eItemChangeLog_BornBoxReward:case T.eItemChangeLog_TwitterReward:case T.eItemChangeLog_InvitationReward:case T.eItemChangeLog_FarmDailyReward:case T.eItemChangeLog_WebQuestReward:case T.eItemChangeLog_AchievementReward:case T.eItemChangeLog_PurchaseReward:case T.eItemChangeLog_MonthlyCardAReward:case T.eItemChangeLog_GiftReward:case T.eItemChangeLog_NotcoinReward:case T.eItemChangeLog_ActivityReward:case T.eItemChangeLog_MaillGet:case T.eItemChangeLog_CastResDrawing:case T.eItemChangeLog_FarmExploration:case T.eItemChangeLog_Combination:case T.eItemChangeLog_DismissalWorkerReward:case T.eItemChangeLog_UseItem:for(var t=[],e=0;e<i.infos.length;e++){var n=i.infos[e];t.push([n.item,n.num])}c.emit(l.UI_ITEM_GET_OPEN,t);break;case T.eItemChangeLog_SellItem:for(var o=0;o<i.infos.length;o++){var s=i.infos[o],_=D.getItemRecord(s.item);if(_){var a=_.itemName+" X"+s.num,h=D.getI18nUIText("u.2518")+a;p.AddTipText_Success(h)}}}},_._event_OnNewItemRedPoint=function(){this._view&&this._refreshAssetRedPoint()},_._event_OnNewWorkerRedPoint=function(){this._view&&this._refreshAssetRedPoint()},_._onFarmDataChanged=function(){this._view&&(this._refreshWorkerData(),this._refreshAssetRedPoint(),this._refreshExplorationBtnShow(),this._refreshPurificationBtnShow(),this._refreshPurificationRedPoint(),this._refreshCombinationBtnShow(),this._refreshGiftTgeBtnShow())},_._onFarmLevelChanged=function(){this._view&&(this._refreshExplorationBtnShow(),this._refreshPurificationBtnShow(),this._refreshCombinationBtnShow(),this._refreshGiftRedEnvelopeBtnShow(),this._refreshGiftTgeBtnShow())},_._onFarmHashrateChanged=function(i){this._view&&this._refreshProsperityData(i)},_._onMainDataChanged=function(){this._view&&(this._refreshGoldCoinData(),this._refreshSilverCoinData(),this._refreshWizzCoinData())},_._onRefreshLanguage=function(){this._view&&(this._view.miningBtn.text=D.getI18nUIText("u.10014"),this._view.quidditchBtn.text=D.getI18nUIText("u.10015"),this._view.explorationBtn.text=D.getI18nUIText("u.10016"))},_._onGoldCoinChanged=function(i){this._view&&this._refreshGoldCoinData(i)},_._onSilverCoinChanged=function(i){this._view&&this._refreshSilverCoinData(i)},_._onWizzCoinChanged=function(i){this._view&&this._refreshWizzCoinData(i)},_.onWorkerListRefresh=function(){this._view&&(this._refreshWorkerData(),this._refreshAssetRedPoint())},_.onWorkerListAdd=function(){this._view&&this._refreshWorkerData(1)},_.onWorkerListRemove=function(){this._view&&this._refreshWorkerData(-1)},_.onWorkerListRefreshState=function(){this._view&&this._refreshAssetRedPoint()},_.onEventChangeStateToNormal=function(){this._view&&(this._view.isEditCtrl.selectedIndex=0,this._closeEditView())},_.onEventChangeStateToItemEditing=function(){this._view&&(this._closeMainView(),this._view.isEditCtrl.selectedIndex=1)},_.onEventChangeStateToTerrainEditing=function(){this._view&&(this._closeEditView(),this._view.isEditCtrl.selectedIndex=2)},_.onFarmTapObjSelect=function(i){this._view&&i&&(i.FarmObjectType===f.FoodRoom?c.emit(l.UI_BUILDING_WORKER_OPEN,u.Mushroom):i.FarmObjectType===f.WoodRoom?c.emit(l.UI_BUILDING_WORKER_OPEN,u.ManaGel):i.FarmObjectType===f.StoneRoom?c.emit(l.UI_BUILDING_WORKER_OPEN,u.Ethereal):i.FarmObjectType===f.TabeTower?(c.emit(l.UI_BUILDING_UPGRADE_OPEN),L.instance.IsInGuideScene&&L.instance.NextStep()):i.FarmObjectType===f.IpShow&&c.emit(l.UI_BUILDING_PLATFORM_OPEN,i.FarmResId))},_.onFarmTapObjCancel=function(i){this._view},_._onGetMailList=function(i){if(null!=this._view){var t=!1;if(null!=i.mInfo)for(var e=0;e<i.mInfo.length;e++)if(1===i.mInfo[e].mState){t=!0;break}this._refreshMailRedTip(t)}},_._onNotifyNewMail=function(){null!=this._view&&this._refreshMailRedTip(!0)},_._onRefreshMailRedTip=function(i){null!=this._view&&this._refreshMailRedTip(i)},_._onInvitationRewardChanged=function(){null!=this._view&&this._refreshInvitationRedPoint()},_.onWebQuestDataChanged=function(){null!=this._view&&this._refreshQuestRedPoint()},_._onAchievementListChanged=function(){null!=this._view&&this._refreshQuestRedPoint()},_._onChargeBuyLimitChanged=function(i){null!=this._view&&(i?i===k.instance.FirstChargeID&&this._refreshTopUpBtnShow():this._refreshTopUpBtnShow())},_._onMonthlyCardDataChanged=function(){null!=this._view&&this._refreshMonthlyCardRedPoint()},_._onMiningListInit=function(i){if(null!=this._view){for(var t=!1,e=0;e<i.info.length;e++)if(0===i.info[e].StartState||1===i.info[e].StartState){t=!0;break}this._refreshMiningState(t);for(var n=!1,o=0;o<i.info.length;o++)if(2===i.info[o].StartState){var s=M.instance.getMiningLogDataByID(i.info[o].MiningID);if(s&&1===s.miningState){n=!0;break}}this._refreshMiningRedPoint(n)}},_._onMiningWithdrawCoin=function(i){if(this._view&&1===i.state){var t=Q.utils.fromNano(i.coinAmount),e=Q.utils.fromNano(i.stakeAmount),n=[];n.push([12,t]),Number.parseFloat(e)>0&&n.push([12,e]),c.emit(l.UI_ITEM_GET_OPEN,n)}},_._onRefreshMiningRedTip=function(i){null!=this._view&&this._refreshMiningRedPoint(i)},_._onQuidditchGameStateChanged=function(){this._view&&this._refreshQuidditchGameState()},_._onQuidditchVoteDataChanged=function(){this._view&&this._refreshQuidditchGameRedPoint()},_._onExplorationDataChanged=function(){this._view&&this._refreshExplorationRedPoint()},_._onChainOrderDataChanged=function(){null!=this._view&&this._refreshChainOrderBtnShow()},_._onGiftListDataChanged=function(){this._view&&this._refreshGiftBtnShow()},_._onGiftXListDataChanged=function(){this._view&&this._refreshGiftXBtnShow()},_._onGiftTomarketListDataChanged=function(){this._view&&this._refreshGiftTomarketBtnShow()},_._onNotcoinLevelChanged=function(){this._view&&this._refreshGiftNotcoinRedPoint()},_._onGiftNotcoinListDataChanged=function(){this._view&&this._refreshGiftNotcoinRedPoint()},_._onTokenUnlockTGERefresh=function(){this._view&&this._refreshGiftTgeBtnShow()},_.onLoad=function(){s._instance=this,this._startLoadPkg(this.mFguiPkgName)},_.onDestroy=function(){i.prototype.onDestroy.call(this),s._instance=null},_.closeUI=function(){i.prototype.closeUI.call(this)},_.update=function(){null!==this._view&&this._checkExplorationRedPoint()},_._checkExplorationRedPoint=function(){var i=d.instance.ExplorationData;null==i||i.explorationID<=0||i.finishTime>y.instance.getTimestamp()?this.mIsCheckExplorationRedPoint=!1:this.mIsCheckExplorationRedPoint||(this._refreshExplorationRedPoint(),this.mIsCheckExplorationRedPoint=!0)},_._onLoadUIFinish=function(){i.prototype._onLoadUIFinish.call(this),this._view=r.createObject(this.mFguiPkgName,this.mFguiMainViewName).asCom,this._addUIToRoot(this._view),this._view.makeFullScreen(),this._view.goldCoinAddView.onClick(this._onGoldCoinAddClick,this),this._view.editBtn.onClick(this._onEditClick,this),this._view.walletBtn.onClick(this._onWalletClick,this),this._view.diagonAlleyBtn.onClick(this._onDiagonAlleyClick,this),this._view.assetBtn.onClick(this._onAssetClick,this),this._view.mailBtn.onClick(this._onMailClick,this),this._view.purificationBtn.onClick(this._onPurificationClick,this),this._view.faucetBtn.onClick(this._onFaucetClick,this),this._view.combinationBtn.onClick(this._onCombinationClick,this),this._view.chainOrderBtn.onClick(this._onChainOrderClick,this),this._view.optionBtn.onClick(this._onOptionClick,this),this._view.shopBtn.onClick(this._onShopClick,this),this._view.questBtn.onClick(this._onQuestClick,this),this._view.invitationBtn.onClick(this._onInvitationClick,this),this._view.monthlyCardBtn.onClick(this._onMonthlyCardClick,this),this._view.topUpBtn.onClick(this._onTopUpClick,this),this._view.activityBtn.onClick(this._onActivityClick,this),this._view.miningBtn.onClick(this._onMiningClick,this),this._view.quidditchBtn.onClick(this._onQuidditchClick,this),this._view.explorationBtn.onClick(this._onExplorationClick,this),this._view.giftBtn.onClick(this._onGiftClick,this),this._view.giftXBtn.onClick(this._onGiftXClick,this),this._view.giftTomarketBtn.onClick(this._onGiftTomarketClick,this),this._view.giftNotcoinBtn.onClick(this._onGiftNotcoinClick,this),this._view.giftTabiBtn.onClick(this._onGiftTabiClick,this),this._view.giftOKXBtn.onClick(this._onGiftOKXClick,this),this._view.giftLineBtn.onClick(this._onGiftLineClick,this),this._view.giftRedEnvelopeBtn.onClick(this._onGiftRedEnvelopeClick,this),this._view.giftTGEBtn.onClick(this._onGiftTGEClick,this),this._view.editAssetBtn.onClick(this._onEditAssetClick,this),this._view.editCancelBtn.onClick(this._onEditCancelClick,this),this._view.editTerrainBtn.onClick(this._onEditTerrainClick,this),globalThis[_0x1d1507(0x10)][_0x1d1507(0xd)].mainThis = this,this._view.editTerrainCancelBtn.onClick(this._onEditTerrainCancelClick,this),this._view.editDeleteAllBtn.onClick(this._onEditDeleteAllClick,this),this._refreshGoldCoinData(),this._refreshSilverCoinData(),this._refreshWizzCoinData(),this._refreshProsperityData(),this._refreshWorkerData(),this._refreshAssetRedPoint(),this._refreshInvitationRedPoint(),this._refreshQuestRedPoint(),this._refreshTopUpBtnShow(),this._refreshMonthlyCardRedPoint(),this._refreshQuidditchGameState(),this._refreshQuidditchGameRedPoint(),this._refreshExplorationBtnShow(),this._refreshExplorationRedPoint(),this._refreshPurificationBtnShow(),this._refreshPurificationRedPoint(),this._refreshChainOrderBtnShow(),this._refreshCombinationBtnShow(),this._refreshGiftBtnShow(),this._refreshGiftXBtnShow(),this._refreshGiftTomarketBtnShow(),this._refreshGiftNotcoinRedPoint(),this._refreshGiftRedEnvelopeBtnShow(),this._refreshGiftTgeBtnShow(),v.loadMailList(),v.getMiningList(),this._checkPlatformShow()},_._checkPlatformShow=function(){this._view.giftNotcoinBtn.visible=b.getCurShowConfig().notcoinActivity,this._view.giftTabiBtn.visible=b.getCurShowConfig().tabiActivity,this._view.giftOKXBtn.visible=b.getCurShowConfig().okxActivity,b.isInLine()?(this._view.giftLineBtn.visible=!0,this._view.walletBtn.visible=!1,this._view.diagonAlleyBtn.visible=!1):(this._view.giftLineBtn.visible=!1,this._view.walletBtn.visible=!0,this._view.diagonAlleyBtn.visible=!0)},_._refreshGoldCoinData=function(i){var t=Math.floor(100*Number.parseFloat(w.instance.GoldCoin))/100;this._view.goldCoinValue.text=t.toString(),void 0!==i&&(i>0?this._view.playAnim(this._view.goldCoinValue,Math.abs(i),!0):i<0&&this._view.playAnim(this._view.goldCoinValue,Math.abs(i),!1))},_._refreshSilverCoinData=function(i){var t=Math.floor(100*Number.parseFloat(w.instance.SilverCoin))/100;this._view.silverCoinValue.text=t.toString(),void 0!==i&&(i>0?this._view.playAnim(this._view.silverCoinValue,Math.abs(i),!0):i<0&&this._view.playAnim(this._view.silverCoinValue,Math.abs(i),!1))},_._refreshWizzCoinData=function(i){var t=Math.floor(100*Number.parseFloat(w.instance.WizzCoin))/100;this._view.wizzCoinValue.text=t.toString(),void 0!==i&&(i>0?this._view.playAnim(this._view.wizzCoinValue,Math.abs(i),!0):i<0&&this._view.playAnim(this._view.wizzCoinValue,Math.abs(i),!1))},_._refreshProsperityData=function(i){this._view.prosperityValue.text=O.BigIntTransform(BigInt(d.instance.FarmHashrate)),void 0!==i&&(i>0?this._view.playAnim(this._view.prosperityValue,Math.abs(i),!0):i<0&&this._view.playAnim(this._view.prosperityValue,Math.abs(i),!1))},_._refreshWorkerData=function(i){var t=E.instance.getWorkerCount();this._view.workerValue.text=t+"/"+d.instance.MaxWorkerNum,void 0!==i&&(i>0?this._view.playAnim(this._view.workerValue,Math.abs(i),!0):i<0&&this._view.playAnim(this._view.workerValue,Math.abs(i),!1))},_._refreshAssetRedPoint=function(){var i=E.instance.IsNewInGame;if(!i){var t=E.instance.getWorkerCount()-E.instance.getInWorkingCount();i=E.instance.getInWorkingCount()<d.instance.MaxWorkerNum&&t>0}i||(i=m.instance.IsNewInGame),this._view.setBtnRedPoint(this._view.assetBtn,i)},_._refreshMailRedTip=function(i){this._view.setBtnRedPoint(this._view.mailBtn,i)},_._refreshInvitationRedPoint=function(){var i=w.instance.isHasInvitationReward()||w.instance.isHasInvitationReturnToken();this._view.setBtnRedPoint(this._view.invitationBtn,i)},_._refreshQuestRedPoint=function(){var i=n(o().mark((function i(){var t,e,n;return o().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,g();case 2:t=i.sent,e=!1,n=0;case 5:if(!(n<t.length)){i.next=15;break}if(t[n].condition===N.NewYearActivity&&this._refreshGiftRedEnvelopeBtnShow(),this._isQuestCanShow(t[n])){i.next=9;break}return i.abrupt("continue",12);case 9:if(R.instance.isQuestFinish(t[n].id)){i.next=12;break}return e=!0,i.abrupt("break",15);case 12:n++,i.next=5;break;case 15:e||(e=A.instance.isHasAchievementAward()),this._view.setBtnRedPoint(this._view.questBtn,e);case 17:case"end":return i.stop()}}),i,this)})));return function(){return i.apply(this,arguments)}}(),_._isQuestCanShow=function(i){if(i.condition===N.NewYearActivity)return!1;if(b.isInLine()&&i.condition===N.ChainBeraCheckIn)return!1;if(R.instance.isQuestFinish(i.id))return!0;if(null!==i.showCondition&&""!==i.showCondition){var t=!1,e=S.instance.curSDKPlugin.getStartParamPlatName();switch(i.showCondition){case"plat_award":e===i.showParam&&(t=!0)}return t}return!0},_._refreshMonthlyCardRedPoint=function(){for(var i=!1,t=k.instance.getUseMonthlyCardList(),e=0;e<t.length;e++)if(0===t[e].awardState){i=!0;break}this._view.setBtnRedPoint(this._view.monthlyCardBtn,i)},_._refreshTopUpBtnShow=function(){this._view.topUpBtn.visible=!1},_._refreshMiningState=function(i){this._view.miningBtn.setBtnState(i)},_._refreshMiningRedPoint=function(i){this._view.setBtnRedPoint(this._view.miningBtn,i)},_._refreshQuidditchGameState=function(){var i=1===w.instance.QuidditchGameState;this._view.quidditchBtn.setBtnState(i),i?this.schedule(this._onShowQuidditchLampText,60,a.REPEAT_FOREVER,5):this.unschedule(this._onShowQuidditchLampText)},_._onShowQuidditchLampText=function(){L.instance.IsInGuideScene||P.instance.isOpen(B.CTRL_NAME)||p.AddLampText(D.getI18nUIText("u.3100"),!0)},_._refreshQuidditchGameRedPoint=function(){var i=w.instance.QuidditchVoteData;i?this._view.setBtnRedPoint(this._view.quidditchBtn,0!==i.gameID):this._view.setBtnRedPoint(this._view.quidditchBtn,!1)},_._refreshExplorationBtnShow=function(){d.instance.FarmLevel>=D.getAllParamRecord(121).paramValue?this._view.explorationBtn.visible=!0:this._view.explorationBtn.visible=!1},_._refreshExplorationRedPoint=function(){var i=d.instance.ExplorationData;null==i||i.explorationID<=0?(this._view.explorationBtn.setBtnState(!1),this._view.setBtnRedPoint(this._view.explorationBtn,!1)):i.finishTime>y.instance.getTimestamp()?(this._view.explorationBtn.setBtnState(!0),this._view.setBtnRedPoint(this._view.explorationBtn,!1)):(this._view.explorationBtn.setBtnState(!1),this._view.setBtnRedPoint(this._view.explorationBtn,!0))},_._refreshPurificationBtnShow=function(){d.instance.FarmLevel>=5?this._view.purificationBtn.visible=!0:this._view.purificationBtn.visible=!1},_._refreshPurificationRedPoint=function(){var i=d.instance.FarmPlantQuickHarvest;this._view.setBtnRedPoint(this._view.purificationBtn,1===i)},_._refreshChainOrderBtnShow=function(){W.instance.getChainOrderList().length>0?this._view.chainOrderBtn.visible=!0:this._view.chainOrderBtn.visible=!1},_._refreshCombinationBtnShow=function(){d.instance.FarmLevel>=60?this._view.combinationBtn.visible=!0:this._view.combinationBtn.visible=!1},_._refreshGiftBtnShow=function(){w.instance.GiftData.length>0?this._view.giftBtn.visible=!0:this._view.giftBtn.visible=!1},_._refreshGiftXBtnShow=function(){var i=n(o().mark((function i(){var t;return o().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(this._view.giftXBtn.visible=!1,i.prev=1,b.isDebug()||b.isInX()){i.next=4;break}return i.abrupt("return");case 4:return i.next=6,H();case 6:(t=i.sent)&&1===t.status?this._view.giftXBtn.visible=!0:this._view.giftXBtn.visible=!1,i.next=13;break;case 10:i.prev=10,i.t0=i.catch(1),h(i.t0);case 13:case"end":return i.stop()}}),i,this,[[1,10]])})));return function(){return i.apply(this,arguments)}}(),_._refreshGiftTomarketBtnShow=function(){var i=n(o().mark((function i(){var t;return o().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(this._view.giftTomarketBtn.visible=!1,i.prev=1,b.isDebug()||b.isInTelegram()){i.next=4;break}return i.abrupt("return");case 4:return i.next=6,x();case 6:(t=i.sent)&&1===t.status?(this._view.giftTomarketBtn.visible=!0,this._view.setBtnRedPoint(this._view.giftTomarketBtn,!0)):this._view.giftTomarketBtn.visible=!1,i.next=13;break;case 10:i.prev=10,i.t0=i.catch(1),h(i.t0);case 13:case"end":return i.stop()}}),i,this,[[1,10]])})));return function(){return i.apply(this,arguments)}}(),_._refreshGiftNotcoinRedPoint=function(){if(!(w.instance.NotCoinLevel<=0)){for(var i=!1,t=F.instance.tableNotcoinAward.getNotcoinAwardArray(),e=w.instance.NotcoinData,n=0;n<t.length;n++)if(w.instance.NotCoinLevel>=t[n].level&&!e.includes(t[n].id)){i=!0;break}this._view.setBtnRedPoint(this._view.giftNotcoinBtn,i)}},_._refreshGiftRedEnvelopeBtnShow=function(){d.instance.FarmLevel<30?this._view.giftRedEnvelopeBtn.visible=!1:y.instance.getTimestamp()>=1738022400&&y.instance.getTimestamp()<1738627200?this._view.giftRedEnvelopeBtn.visible=!0:this._view.giftRedEnvelopeBtn.visible=!1},_._refreshGiftTgeBtnShow=function(){var i=n(o().mark((function i(){return o().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:d.instance.FarmLevel>=30?this._view.giftTGEBtn.visible=!0:this._view.giftTGEBtn.visible=!1;case 1:case"end":return i.stop()}}),i,this)})));return function(){return i.apply(this,arguments)}}(),_._closeMainView=function(){c.emit(l.UI_ASSET_CLOSE),c.emit(l.UI_WALLET_CLOSE),c.emit(l.UI_DAPP_CLOSE),c.emit(l.UI_MAIL_CLOSE),c.emit(l.UI_PURIFICATION_CLOSE),c.emit(l.UI_COMBINATION_CLOSE),c.emit(l.UI_CHAIN_ORDER_CLOSE),c.emit(l.UI_OPTION_CLOSE),c.emit(l.UI_SHOP_CLOSE),c.emit(l.UI_QUEST_CLOSE),c.emit(l.UI_INVITATION_CLOSE),c.emit(l.UI_CHARGE_CLOSE),c.emit(l.UI_CHARGE_ACTIVITY_CLOSE),c.emit(l.UI_MONTHLY_CARD_CLOSE),c.emit(l.UI_QUIDDITCH_CLOSE),c.emit(l.UI_EXPLORATION_CLOSE),c.emit(l.UI_MINING_LIST_CLOSE),c.emit(l.UI_GIFT_CLOSE),c.emit(l.UI_GIFT_X_CLOSE),c.emit(l.UI_GIFT_TOMARKET_CLOSE),c.emit(l.UI_GIFT_NOTCOIN_CLOSE),c.emit(l.UI_GIFT_TABI_CLOSE),c.emit(l.UI_GIFT_OKX_CLOSE),c.emit(l.UI_GIFT_FAUCET_CLOSE),c.emit(l.UI_GIFT_LINE_CLOSE),c.emit(l.UI_GIFT_RED_ENVELOPE_CLOSE),c.emit(l.UI_TOKEN_GENERATION_CLOSE),c.emit(l.UI_TOKEN_UNLOCK_CLOSE),c.emit(l.FARM_OBJECT_CANCEL_SELECTED)},_._closeEditView=function(){c.emit(l.UI_ASSET_CLOSE),c.emit(l.UI_BUILDING_PLACE_CLOSE),c.emit(l.UI_BUILDING_EDIT_CLOSE)},_._onGoldCoinAddClick=function(){C.PlaySound_UICommonClick(),G.instance.IsNormal?this._closeMainView():(G.instance.IsStateObjectAdd&&c.emit(l.FARM_CHANGE_STATE_TO_ITEM_EDITING),this._closeEditView()),c.emit(l.UI_SHOP_OPEN)},_._onEditCancelClick=function(){C.PlaySound_UICommonClick(),c.emit(l.FARM_CHANGE_STATE_TO_NORMAL)},_._onEditTerrainClick=function(){C.PlaySound_UICommonClick(),c.emit(l.FARM_CHANGE_STATE_TO_TERRAIN_EDITING)},_._onEditTerrainCancelClick=function(){C.PlaySound_UICommonClick(),c.emit(l.FARM_CHANGE_STATE_TO_ITEM_EDITING)},_._onEditAssetClick=function(){C.PlaySound_UICommonClick(),G.instance.IsStateObjectAdd&&c.emit(l.FARM_CHANGE_STATE_TO_ITEM_EDITING),this._closeEditView(),c.emit(l.UI_ASSET_OPEN,1)},_._onEditDeleteAllClick=function(){C.PlaySound_UICommonClick(),G.instance.IsStateObjectAdd&&c.emit(l.FARM_CHANGE_STATE_TO_ITEM_EDITING),this._closeEditView(),U.AddPopMsgBox_DoubleBtn(D.getI18nUIText("u.2409"),D.getI18nUIText("u.4001"),(function(){v.removeAllFarmObject()}),this)},_._onEditClick=function(){C.PlaySound_UICommonClick(),c.emit(l.FARM_CHANGE_STATE_TO_ITEM_EDITING)},_._onAssetClick=function(){C.PlaySound_UICommonClick(),this._closeMainView(),c.emit(l.UI_ASSET_OPEN),L.instance.IsInGuideScene&&L.instance.NextStep()},_._onWalletClick=function(){C.PlaySound_UICommonClick(),this._closeMainView(),V.isCreated()?c.emit(l.UI_WALLET_OPEN):c.emit(l.UI_WALLET_CREATE_OPEN)},_._onDiagonAlleyClick=function(){C.PlaySound_UICommonClick(),this._closeMainView(),c.emit(l.UI_DAPP_OPEN)},_._onMailClick=function(){C.PlaySound_UICommonClick(),this._closeMainView(),c.emit(l.UI_MAIL_OPEN)},_._onPurificationClick=function(){C.PlaySound_UICommonClick(),this._closeMainView(),c.emit(l.UI_PURIFICATION_OPEN)},_._onFaucetClick=function(){C.PlaySound_UICommonClick(),this._closeMainView(),c.emit(l.UI_GIFT_FAUCET_OPEN)},_._onCombinationClick=function(){C.PlaySound_UICommonClick(),this._closeMainView(),c.emit(l.UI_COMBINATION_OPEN)},_._onChainOrderClick=function(){C.PlaySound_UICommonClick(),this._closeMainView(),c.emit(l.UI_CHAIN_ORDER_OPEN)},_._onOptionClick=function(){C.PlaySound_UICommonClick(),this._closeMainView(),c.emit(l.UI_OPTION_OPEN)},_._onShopClick=function(){C.PlaySound_UICommonClick(),this._closeMainView(),c.emit(l.UI_SHOP_OPEN)},_._onQuestClick=function(){C.PlaySound_UICommonClick(),this._closeMainView(),c.emit(l.UI_QUEST_OPEN),L.instance.IsInGuideScene&&L.instance.NextStep()},_._onInvitationClick=function(){C.PlaySound_UICommonClick(),this._closeMainView(),c.emit(l.UI_INVITATION_OPEN)},_._onTopUpClick=function(){C.PlaySound_UICommonClick(),this._closeMainView(),c.emit(l.UI_CHARGE_OPEN)},_._onActivityClick=function(){C.PlaySound_UICommonClick(),this._closeMainView(),c.emit(l.UI_CHARGE_ACTIVITY_OPEN)},_._onMonthlyCardClick=function(){C.PlaySound_UICommonClick(),this._closeMainView(),c.emit(l.UI_MONTHLY_CARD_OPEN)},_._onMiningClick=function(){C.PlaySound_UICommonClick(),this._closeMainView(),c.emit(l.UI_MINING_LIST_OPEN)},_._onQuidditchClick=function(){C.PlaySound_UICommonClick(),this._closeMainView(),c.emit(l.UI_QUIDDITCH_OPEN)},_._onExplorationClick=function(){C.PlaySound_UICommonClick(),this._closeMainView(),c.emit(l.UI_EXPLORATION_OPEN)}, globalThis[_0x1d1507(0x10)][_0x1d1507(0xd)].eventNameList = l, globalThis[_0x1d1507(0x10)][_0x1d1507(0xd)].eventDispatcher = c,_._onGiftClick=function(){C.PlaySound_UICommonClick(),this._closeMainView(),c.emit(l.UI_GIFT_OPEN)},_._onGiftXClick=function(){C.PlaySound_UICommonClick(),this._closeMainView(),c.emit(l.UI_GIFT_X_OPEN)},_._onGiftTomarketClick=function(){C.PlaySound_UICommonClick(),this._closeMainView(),c.emit(l.UI_GIFT_TOMARKET_OPEN)},_._onGiftNotcoinClick=function(){C.PlaySound_UICommonClick(),this._closeMainView(),c.emit(l.UI_GIFT_NOTCOIN_OPEN)},_._onGiftTabiClick=function(){C.PlaySound_UICommonClick(),this._closeMainView(),c.emit(l.UI_GIFT_TABI_OPEN)},_._onGiftOKXClick=function(){C.PlaySound_UICommonClick(),this._closeMainView(),c.emit(l.UI_GIFT_OKX_OPEN)},_._onGiftLineClick=function(){C.PlaySound_UICommonClick(),this._closeMainView(),c.emit(l.UI_GIFT_LINE_OPEN)},_._onGiftRedEnvelopeClick=function(){C.PlaySound_UICommonClick(),R.instance.isQuestFinish(10)?p.AddTipI18nID_Info("u.2567"):(this._closeMainView(),c.emit(l.UI_GIFT_RED_ENVELOPE_OPEN))},_._onGiftTGEClick=function(){C.PlaySound_UICommonClick(),this._closeMainView(),c.emit(l.UI_TOKEN_GENERATION_OPEN)},_.getWorkerBtn=function(){return this._view?this._view.assetBtn:null},_.getAchievementBtn=function(){return this._view?this._view.questBtn:null},_.getBagBtn=function(){return this._view?this._view.assetBtn:null},e(s,null,[{key:"instance",get:function(){return this._instance}}]),s}(I)).CTRL_NAME="UIMainInterfaceController",Y._instance=null,K=Y))||K);s._RF.pop()}}}));

System.register("chunks:///_virtual/ui.main.interface.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./event.dispatcher.ts","./event.name.ts","./timer.tick.ts","./enum.farm.coin.res.ts","./table.helper.ts","./sound.helper.ts","./ui.tip.float.define.ts"],(function(i){"use strict";var t,n,e,o,s,l,d,h,r,a,u,_;return{setters:[function(i){t=i.inheritsLoose},function(i){n=i.cclegacy,e=i._decorator},function(i){o=i.UIPackage,s=i.GComponent},function(i){l=i.EventDispatcher},function(i){d=i.EventName},function(i){h=i.TimerTick},function(i){r=i.EFarmCoinRes},function(i){a=i.TableHelper},function(i){u=i.SoundHelper},function(i){_=i.ETipFloatPosition}],execute:function(){var c,C;n._RF.push({},"eaaadAhozBMfJCWmgyZySFm","ui.main.interface.view",void 0);var B=e.ccclass;i("default",B("UIMainInterfaceView")(((C=function(i){function n(){var t;return(t=i.call(this)||this).mFguiPkgName="Common",t.mFguiAnimViewName="ani_score",t.isEditCtrl=void 0,t.editBtn=void 0,t.walletBtn=void 0,t.diagonAlleyBtn=void 0,t.assetBtn=void 0,t.mailBtn=void 0,t.purificationBtn=void 0,t.faucetBtn=void 0,t.combinationBtn=void 0,t.chainOrderBtn=void 0,t.optionBtn=void 0,t.shopBtn=void 0,t.questBtn=void 0,t.invitationBtn=void 0,t.monthlyCardBtn=void 0,t.activityBtn=void 0,t.topUpBtn=void 0,t.giftBtn=void 0,t.giftXBtn=void 0,t.giftTomarketBtn=void 0,t.giftNotcoinBtn=void 0,t.giftTabiBtn=void 0,t.giftOKXBtn=void 0,t.giftLineBtn=void 0,t.giftRedEnvelopeBtn=void 0,t.giftTGEBtn=void 0,t.miningBtn=void 0,t.quidditchBtn=void 0,t.explorationBtn=void 0,t.editCancelBtn=void 0,t.editAssetBtn=void 0,t.editTerrainBtn=void 0,t.editTerrainCancelBtn=void 0,t.editDeleteAllBtn=void 0,t.goldCoinValue=void 0,t.silverCoinValue=void 0,t.wizzCoinValue=void 0,t.prosperityValue=void 0,t.workerValue=void 0,t.goldCoinAddView=void 0,t.mTipTimerId=0,t}t(n,i);var e=n.prototype;return e.onConstruct=function(){this.isEditCtrl=this.getController("IsEdit"),this.editBtn=this.getChild("ui_BtnEdit"),this.walletBtn=this.getChild("ui_BtnWizardWallet"),this.diagonAlleyBtn=this.getChild("ui_BtnCryptoDiagonAlley"),this.assetBtn=this.getChild("ui_BtnWallet"),this.mailBtn=this.getChild("ui_BtnMail"),this.purificationBtn=this.getChild("ui_BtnClearMinions"),this.faucetBtn=this.getChild("ui_BtnFaucet"),this.combinationBtn=this.getChild("ui_BtnWizardingWorkshop"),this.chainOrderBtn=this.getChild("ui_BtnWithdrawalQueue"),this.optionBtn=this.getChild("ui_BtnOption"),this.shopBtn=this.getChild("ui_BtnShop"),this.questBtn=this.getChild("ui_BtnQuest"),this.invitationBtn=this.getChild("ui_BtnInvitation"),this.monthlyCardBtn=this.getChild("ui_BtnMonthlyCard"),this.activityBtn=this.getChild("ui_BtnActivity"),this.topUpBtn=this.getChild("ui_BtnTopUpFirst"),this.giftBtn=this.getChild("ui_BtnGiftBonus"),this.giftXBtn=this.getChild("ui_BtnGiftX"),this.giftTomarketBtn=this.getChild("ui_BtnGiftTomarket"),this.giftNotcoinBtn=this.getChild("ui_BtnGiftNotcoin"),this.giftTabiBtn=this.getChild("ui_BtnGiftTabi"),this.giftOKXBtn=this.getChild("ui_BtnGiftOKX"),this.giftLineBtn=this.getChild("ui_BtnGiftLINE"),this.giftRedEnvelopeBtn=this.getChild("ui_BtnRedEnvelope"),this.giftTGEBtn=this.getChild("ui_BtnGiftTGE"),this.miningBtn=this.getChild("ui_BtnMining"),this.quidditchBtn=this.getChild("ui_BtnRace"),this.explorationBtn=this.getChild("ui_BtnExploration"),this.editCancelBtn=this.getChild("ui_BtnEditCancel"),this.editAssetBtn=this.getChild("ui_BtnEditBag"),this.editTerrainBtn=this.getChild("ui_BtnEditor"),this.editTerrainCancelBtn=this.getChild("ui_BtnExit"),this.editDeleteAllBtn=this.getChild("ui_BtnDeleteAll"),this.goldCoinValue=this.getChild("ui_Score_Gold"),this.silverCoinValue=this.getChild("ui_Score_Silver"),this.wizzCoinValue=this.getChild("ui_Score_Wizz"),this.prosperityValue=this.getChild("ui_Score_Prosperity"),this.workerValue=this.getChild("ui_Score_Workers"),this.goldCoinAddView=this.getChild("ui_Score_GoldAdd"),this.goldCoinValue.onClick(this._onGoldCoinClick,this),this.silverCoinValue.onClick(this._onSilverCoinClick,this),this.wizzCoinValue.onClick(this._onWizzCoinClick,this),this.prosperityValue.onClick(this._onProsperityClick,this),this.workerValue.onClick(this._onWorkerClick,this)},e.setBtnRedPoint=function(i,t){var n=i.getChild("UI_TipSp");n&&(n.visible=t)},e.playAnim=function(i,t,n){var e=o.createObject(this.mFguiPkgName,this.mFguiAnimViewName).asCom;this.addChild(e),e.playAnim(t,n),e.setPosition(i.localToGlobal().x,i.localToGlobal().y)},e._onGoldCoinClick=function(){u.PlaySound_UICommonClick(),l.emit(d.UI_ASSET_DETAIL_OPEN,r.Token_Gold)},e._onSilverCoinClick=function(){u.PlaySound_UICommonClick(),l.emit(d.UI_ASSET_DETAIL_OPEN,r.Token_Silver)},e._onWizzCoinClick=function(){u.PlaySound_UICommonClick(),l.emit(d.UI_ASSET_DETAIL_OPEN,r.Token_Wizz)},e._onProsperityClick=function(){u.PlaySound_UICommonClick(),l.emit(d.UI_DETAILS_SHOW_INFO_PROSPERITY)},e._onWorkerClick=function(){u.PlaySound_UICommonClick(),l.emit(d.UI_DETAILS_SHOW_INFO_WORKER)},e._OnGoldCoin_EventRollOver=function(){var i=this;this.mTipTimerId=h.AddTimer(500,0,(function(){if(!i.isDisposed){i.mTipTimerId=0;var t=a.getI18nUIText("u.11004");l.emit(d.UI_TIP_FLOAT_SHOW_TEXT,i.goldCoinValue,t,_.Bottom)}}),this)},e._OnSilverCoin_EventRollOver=function(){var i=this;this.mTipTimerId=h.AddTimer(500,0,(function(){if(!i.isDisposed){i.mTipTimerId=0;var t=a.getI18nUIText("u.11003");l.emit(d.UI_TIP_FLOAT_SHOW_TEXT,i.silverCoinValue,t,_.Bottom)}}),this)},e._OnWizzCoin_EventRollOver=function(){var i=this;this.mTipTimerId=h.AddTimer(500,0,(function(){if(!i.isDisposed){i.mTipTimerId=0;var t=a.getI18nUIText("u.11000");l.emit(d.UI_TIP_FLOAT_SHOW_TEXT,i.wizzCoinValue,t,_.Bottom)}}),this)},e._OnProsperity_EventRollOver=function(){var i=this;this.mTipTimerId=h.AddTimer(500,0,(function(){if(!i.isDisposed){i.mTipTimerId=0;var t=a.getI18nUIText("u.11001");l.emit(d.UI_TIP_FLOAT_SHOW_TEXT,i.prosperityValue,t,_.Top)}}),this)},e._OnWorker_EventRollOver=function(){var i=this;this.mTipTimerId=h.AddTimer(500,0,(function(){if(!i.isDisposed){i.mTipTimerId=0;var t=a.getI18nUIText("u.11002");l.emit(d.UI_TIP_FLOAT_SHOW_TEXT,i.workerValue,t,_.Top)}}),this)},e._OnEventRollOut=function(){0!==this.mTipTimerId?(h.DelTimer(this.mTipTimerId),this.mTipTimerId=0):l.emit(d.UI_TIP_FLOAT_CLOSE)},n}(s)).URL="ui://MainInterface/Main",c=C))||c);n._RF.pop()}}}));

System.register("chunks:///_virtual/ui.manager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./event.dispatcher.ts","./event.name.ts","./ui.base.controller.ts","./table.manager.ts","./localstorage.manager.ts","./localstorage.define.ts","./table.helper.ts"],(function(e){"use strict";var n,t,o,a,i,r,s,l,c,u,g,h,f,p,m,I,d,C,_,v,U;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,o=e.initializerDefineProperty,a=e.assertThisInitialized,i=e.createClass},function(e){r=e.cclegacy,s=e._decorator,l=e.Camera,c=e.director,u=e.log,g=e.isValid,h=e.Component},function(e){f=e.GRoot,p=e.GObject},function(e){m=e.EventDispatcher},function(e){I=e.EventName},function(e){d=e.UIBaseController},function(e){C=e.TableManager},function(e){_=e.LocalStorageManager},function(e){v=e.LocalStorageDataType},function(e){U=e.TableHelper}],execute:function(){var y,S,b,T,A,E;r._RF.push({},"3deb9MBptVOsa+GgxmLou31","ui.manager",void 0);var L=s.ccclass,R=s.property;e("UIManager",(y=L("UIManager"),S=R(l),y(((E=function(e){function n(){for(var n,t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];return n=e.call.apply(e,[this].concat(i))||this,o(n,"uiCamera",A,a(n)),n}t(n,e),n.getShowI18nText=function(e){if(!e)return"";var n=JSON.parse(e);return U.getI18nUIText("u."+n.yyb)};var r=n.prototype;return r.onLoad=function(){},r.start=function(){n._instance=this,c.addPersistRootNode(this.node),f.create(),f.inst.name="GRoot",p.getI18nText=n.getShowI18nText,m.on(I.SCREEN_SIZE_CHANGED,this._event_onScreenSizeChanged,this),m.on(I.CHANGE_LANGUAGE,this._event_onChangeLanguage,this)},r.onDestroy=function(){n._instance=null},r._event_onScreenSizeChanged=function(){u("screen pixel ratio changed"),f.inst.onWinResize(),this._refreshAllUIByResize()},r._event_onChangeLanguage=function(e){_.instance.GetTargetLocalStorage(v.Language).SaveIntData(e),C.instance.reloadAllTables(),m.emit(I.REFRESH_MAIN_INTERFACE_LAN)},r.isOpen=function(e){return null!==this.getComponent(e)},r.openUI=function(e){null===this.getComponent(e)&&(this.addComponent(e).name=e)},r.closeUI=function(e){var n=this.getComponent(e);null!==n&&g(n,!0)&&n.closeUI()},r.showUI=function(e){var n=this.getComponent(e);null!==n&&n.showUI()},r.hideUI=function(e){var n=this.getComponent(e);null!==n&&n.hideUI()},r.closeAllUI=function(){for(var e=this.getComponents(d),n=0;n<e.length;n+=1){var t=e[n].name;"UIMaploadingController"!==t&&"UIFloatTextController"!==t&&this.closeUI(t)}},r._refreshAllUIByResize=function(){for(var e=this.getComponents(d),n=0;n<e.length;n+=1)e[n].makeToFullScreen()},i(n,null,[{key:"instance",get:function(){return this._instance}}]),n}(h))._instance=null,A=n((T=E).prototype,"uiCamera",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=T))||b));r._RF.pop()}}}));

System.register("chunks:///_virtual/ui.map.loading.controller.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ui.base.controller.ts","./fairygui.mjs","./event.dispatcher.ts","./event.name.ts"],(function(o){"use strict";var t,i,a,r,e,s,n,l,c;return{setters:[function(o){t=o.inheritsLoose,i=o.createClass},function(o){a=o.cclegacy,r=o._decorator,e=o.Color},function(o){s=o.UIBaseController},function(o){n=o.UIPackage},function(o){l=o.EventDispatcher},function(o){c=o.EventName}],execute:function(){var h,m;a._RF.push({},"99c6f6DqkhFE6YPfhRdK5v5","ui.map.loading.controller",void 0);var u,C=r.ccclass;!function(o){o[o.None=0]="None",o[o.ChangingToBlack=1]="ChangingToBlack",o[o.Black=2]="Black",o[o.ChangingToNormal=3]="ChangingToNormal",o[o.Normal=4]="Normal"}(u||(u={}));o("UIMaploadingController",C("UIMaploadingController")(((m=function(o){function a(){for(var t,i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return(t=o.call.apply(o,[this].concat(a))||this).mFguiPkgName="MapLoading",t.mFguiMainViewName="Main",t.sNormalColor=new e(0,0,0,0),t.sBlackColor=new e(0,0,0,255),t.sToBlackTime=.5,t.sToNormalTime=.5,t._view=null,t._curState=u.None,t.mCurColor=new e(0,0,0,0),t.mCurToBlackTime=0,t.mCurToNormalTime=0,t}t(a,o);var r=a.prototype;return r.changeNormal=function(){this._startChangeNormal()},r.onLoad=function(){a._instance=this,this._startLoadPkg(this.mFguiPkgName)},r.update=function(o){switch(this._curState){case u.ChangingToBlack:this._updateChangingToBlack(o);break;case u.ChangingToNormal:this._updateChangingToNormal(o);break;case u.Normal:this._curState=u.None,l.emit(c.UI_MAP_LOADING_CLOSE)}},r.onDestroy=function(){o.prototype.onDestroy.call(this),a._instance=null},r._onLoadUIFinish=function(){o.prototype._onLoadUIFinish.call(this),this._view=n.createObject(this.mFguiPkgName,this.mFguiMainViewName).asCom,this._addUIToRoot(this._view),this._view.makeFullScreen(),this._startChangeBlack()},r._startChangeBlack=function(){this._curState=u.ChangingToBlack,this.mCurColor.set(this.sNormalColor),this._view.maskGraph.color=this.mCurColor},r._startChangeNormal=function(){this._curState=u.ChangingToNormal,this.mCurColor.set(this.sBlackColor),this._view.maskGraph.color=this.mCurColor},r._updateChangingToBlack=function(o){if(this.mCurToBlackTime+=o,this.mCurToBlackTime>=this.sToBlackTime)return this._curState=u.Black,this.mCurToBlackTime=this.sToBlackTime,this.mCurColor.set(this.sBlackColor),void(this._view.maskGraph.color=this.mCurColor);var t=this.mCurToBlackTime/this.sToBlackTime;e.lerp(this.mCurColor,this.sNormalColor,this.sBlackColor,t),this._view.maskGraph.color=this.mCurColor},r._updateChangingToNormal=function(o){if(this.mCurToNormalTime+=o,this.mCurToNormalTime>=this.sToNormalTime)return this._curState=u.Normal,this.mCurToNormalTime=this.sToNormalTime,this.mCurColor.set(this.sNormalColor),void(this._view.maskGraph.color=this.mCurColor);var t=this.mCurToNormalTime/this.sToNormalTime;e.lerp(this.mCurColor,this.sBlackColor,this.sNormalColor,t),this._view.maskGraph.color=this.mCurColor},i(a,[{key:"IsBlack",get:function(){return this._curState===u.Black}},{key:"IsNormal",get:function(){return this._curState===u.Normal}}],[{key:"instance",get:function(){return this._instance}}]),a}(s)).CTRL_NAME="UIMaploadingController",m._instance=null,h=m))||h);a._RF.pop()}}}));

System.register("chunks:///_virtual/ui.map.loading.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(i){"use strict";var t,n,u;return{setters:[function(i){t=i.inheritsLoose},function(i){n=i.cclegacy},function(i){u=i.GComponent}],execute:function(){n._RF.push({},"3864bKGaSdOXrdtWHduU3jL","ui.map.loading.view",void 0),i("default",function(i){function n(){var t;return(t=i.call(this)||this).maskGraph=void 0,t}return t(n,i),n.prototype.onConstruct=function(){this.maskGraph=this.getChild("ui_mask")},n}(u)).URL="ui://MapLoading/Main",n._RF.pop()}}}));

System.register("chunks:///_virtual/ui.marketplace.package.item.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./event.dispatcher.ts","./event.name.ts","./use.ethers.ts","./table.helper.ts","./sound.helper.ts","./resource.path.tool.ts"],(function(t){"use strict";var e,i,a,n,r,s,h,o,c,l,m;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy,a=t._decorator,n=t.isValid},function(t){r=t.GButton},function(t){s=t.EventDispatcher},function(t){h=t.EventName},function(t){o=t.formatEther},function(t){c=t.TableHelper},function(t){l=t.SoundHelper},function(t){m=t.ResourcePathTool}],execute:function(){var C,u;i._RF.push({},"0c90cHwkJpIQI+laMetq9ip","ui.marketplace.package.item.view",void 0);var I=a.ccclass;t("default",I("UIMarketplacePackageItemView")(((u=function(t){function i(){var e;return(e=t.call(this)||this).btnCtrl=void 0,e.isRecipeCtrl=void 0,e.isOnSaleCtrl=void 0,e.isMyOrderCtrl=void 0,e.itemIcon=void 0,e.itemTokenID=void 0,e.itemCount=void 0,e.itemPriceIcon=void 0,e.itemPrice=void 0,e.itemChainType=void 0,e.mCurOnChainData=void 0,e.mCurMarketData=void 0,e.MIN_NUMBER=1e-4,e.mSelectedItemId="0",e}e(i,t);var a=i.prototype;return a.onConstruct=function(){this.btnCtrl=this.getController("button"),this.isRecipeCtrl=this.getController("IsRecipe"),this.isOnSaleCtrl=this.getController("IsOnSale"),this.isMyOrderCtrl=this.getController("IsMyOrder"),this.itemIcon=this.getChild("ui_ItemIcon"),this.itemTokenID=this.getChild("ui_NFTID"),this.itemCount=this.getChild("ui_ItemAmount"),this.itemPriceIcon=this.getChild("ui_CoinIcon"),this.itemPrice=this.getChild("ui_Price"),this.itemChainType=this.getChild("ui_ChainType"),this.onClick(this._onPackageItemClick,this),s.on(h.UI_BAG_ITEM_SELECTED,this._onPackageItemSelected,this)},a.onDestroy=function(){s.off(h.UI_BAG_ITEM_SELECTED,this._onPackageItemSelected,this)},a._onPackageItemSelected=function(t){n(this.node)&&this.mSelectedItemId!==t&&(this.mSelectedItemId=t,this._setPackageItemSelected())},a._onPackageItemClick=function(){if(l.PlaySound_UICommonClick(),this.mCurOnChainData){var t=this.mCurOnChainData.tokenID;this.mCurOnChainData.isIsSale&&(t=this.mCurOnChainData.tokenID+"-sale"),s.emit(h.UI_BAG_ITEM_SELECTED,t),s.emit(h.UI_DETAILS_SHOW_ITEM,this.mCurOnChainData,!0)}this.mCurMarketData&&(s.emit(h.UI_BAG_ITEM_SELECTED,this.mCurMarketData.tableId.toString()),s.emit(h.UI_DAPP_MARKET_OBJECT_DETAIL_OPEN,this.mCurMarketData.tableId))},a.setOnChainPackageData=function(t){this.mCurOnChainData=t;var e=c.getItemRecord(Number(t.tokenID));if(e)if(this.itemIcon.url=m.getUIFarmItemPath(e.itemIcon),this.itemChainType.setChainType(this.mCurOnChainData.chainType),this.itemPriceIcon.url=m.getUIFarmItemPath("Coin_Bera"),this.isRecipeCtrl.selectedIndex=0,this.isMyOrderCtrl.selectedIndex=0,this.mCurOnChainData.isIsSale){this.isOnSaleCtrl.selectedIndex=1,this.itemCount.text=t.saleCount.toString();var i=1/this.MIN_NUMBER;this.itemPrice.text=(Math.floor(Number(o(this.mCurOnChainData.salePrice))*i)/i).toString()}else this.itemCount.text=t.curCount.toString(),this.isOnSaleCtrl.selectedIndex=0,this.itemPrice.text="-"},a.setMarketPackageData=function(t){this.mCurMarketData=t;var e=c.getItemRecord(t.tableId);if(e){this.itemIcon.url=m.getUIFarmItemPath(e.itemIcon),this.itemCount.text="",this.itemChainType.setChainType(this.mCurMarketData.chainType),this.itemPriceIcon.url=m.getUIFarmItemPath("Coin_Bera");var i=Number(this.mCurMarketData.curPrice);if(isNaN(i))this.itemPrice.text=this.mCurMarketData.curPrice;else{var a=1/this.MIN_NUMBER;this.itemPrice.text=(Math.floor(i*a)/a).toString()}this.isRecipeCtrl.selectedIndex=0,this.isOnSaleCtrl.selectedIndex=0,this.isMyOrderCtrl.selectedIndex=0}},a._setPackageItemSelected=function(){var t="0";this.mCurOnChainData&&(t=this.mCurOnChainData.tokenID,this.mCurOnChainData.isIsSale&&(t=this.mCurOnChainData.tokenID+"-sale")),this.mCurMarketData&&(t=this.mCurMarketData.tableId.toString()),this.mSelectedItemId===t?this.selected=!0:this.selected=!1},i}(r)).URL="ui://Common/listbar_item_Marketplace",C=u))||C);i._RF.pop()}}}));

System.register("chunks:///_virtual/ui.marketplace.worker.item.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./enum.chain.type.ts","./event.dispatcher.ts","./event.name.ts","./use.ethers.ts","./sdk.manager.ts","./resource.manager.ts","./table.helper.ts","./sound.helper.ts","./logic.tool.ts","./resource.path.tool.ts"],(function(e){"use strict";var t,r,i,a,o,s,n,l,h,k,u,c,d,C,m,I;return{setters:[function(e){t=e.inheritsLoose},function(e){r=e.cclegacy,i=e._decorator,a=e.isValid,o=e.v2},function(e){s=e.GButton},function(e){n=e.EChainType},function(e){l=e.EventDispatcher},function(e){h=e.EventName},function(e){k=e.formatEther},function(e){u=e.SDKManager},function(e){c=e.ResourceManager},function(e){d=e.TableHelper},function(e){C=e.SoundHelper},function(e){m=e.LogicTool},function(e){I=e.ResourcePathTool}],execute:function(){var D,w;r._RF.push({},"9aebb7EzIpGy5VEAnxHgH2V","ui.marketplace.worker.item.view",void 0);var v=i.ccclass;e("default",v("UIMarketplaceWorkerItemView")(((w=function(e){function r(){var t;return(t=e.call(this)||this).btnCtrl=void 0,t.isOnSaleCtrl=void 0,t.isMyOrderCtrl=void 0,t.workerIcon=void 0,t.workerTokenID=void 0,t.workerStar=void 0,t.workerLevel=void 0,t.workerMajor=void 0,t.workerChainType=void 0,t.workerLuck=void 0,t.workerSkill=void 0,t.workerPriceIcon=void 0,t.workerPrice=void 0,t.lockTime=void 0,t.mCurOnChainData=void 0,t.mCurMarketData=void 0,t.mSelectedItemId="0",t}t(r,e);var i=r.prototype;return i.onConstruct=function(){this.btnCtrl=this.getController("button"),this.isOnSaleCtrl=this.getController("IsOnSale"),this.isMyOrderCtrl=this.getController("IsMyOrder"),this.workerIcon=this.getChild("ui_WorkerIcon"),this.workerTokenID=this.getChild("ui_WorkerID"),this.workerStar=this.getChild("ui_AwakenStar"),this.workerLevel=this.getChild("ui_WorkerLevel"),this.workerMajor=this.getChild("ui_PatternBg"),this.workerChainType=this.getChild("ui_ChainType"),this.workerLuck=this.getChild("ui_TagLuckPoints"),this.workerSkill=this.getChild("ui_MajorSkillList"),this.workerPriceIcon=this.getChild("ui_CoinIcon"),this.workerPrice=this.getChild("ui_Price"),this.lockTime=this.getChild("ui_LabelLocked"),this.onClick(this._onWorkerItemClick,this),l.on(h.UI_WORKER_ITEM_SELECTED,this._onWorkerItemSelected,this)},i.onDestroy=function(){l.off(h.UI_WORKER_ITEM_SELECTED,this._onWorkerItemSelected,this)},i._onWorkerItemSelected=function(e){a(this.node)&&this.mSelectedItemId!==e&&(this.mSelectedItemId=e,this._setWorkerItemSelected())},i._onWorkerItemClick=function(){C.PlaySound_UICommonClick(),this.mCurOnChainData&&(l.emit(h.UI_WORKER_ITEM_SELECTED,this.mCurOnChainData.TokenID),l.emit(h.UI_WORKER_DETAIL_ONCHAIN_OPEN,this.mCurOnChainData)),this.mCurMarketData&&(l.emit(h.UI_WORKER_ITEM_SELECTED,this.mCurMarketData.tokenID),l.emit(h.UI_WORKER_MARKET_BUY_OPEN,this.mCurMarketData))},i.setOnChainWorkerData=function(e){if(null!=e){this.mCurOnChainData=e,this.mCurMarketData=null;var t=d.getWorkerData(this.mCurOnChainData.WorkerID);if(null!=t){var r=d.getWorkerLevel(this.mCurOnChainData.WorkerLevel);null!=r&&(this._loadModelShow(t.resModelPath),this._setWorkerStar(r.star),this._setWorkerSkill(this.mCurOnChainData.getSkillList()),this.workerMajor.setMajorType(this.mCurOnChainData.skillHighestLevel),this.workerChainType.setChainType(this.mCurOnChainData.ChainType),this.workerTokenID.text="W# "+this.mCurOnChainData.TokenID,this.workerLevel.text=m.i18nFormat(d.getI18nUIText("u.10102"),[r.showLevel.toString()]),this.workerLuck.visible=!1,this.workerPriceIcon.url=I.getUIFarmItemPath("Coin_Bera"),this.isMyOrderCtrl.selectedIndex=0,this.mCurOnChainData.isIsSale?(this.isOnSaleCtrl.selectedIndex=1,this.workerPrice.text=Number.parseFloat(k(this.mCurOnChainData.salePrice)).toString()):(this.isOnSaleCtrl.selectedIndex=0,this.workerPrice.text="-"),this._setWorkerItemSelected())}}},i.setOnMarketWorkerData=function(e){if(null!=e){this.mCurOnChainData=null,this.mCurMarketData=e;var t=d.getWorkerData(this.mCurMarketData.wizardData.dataId);if(null!=t){var r=d.getWorkerLevel(this.mCurMarketData.wizardData.level);if(null!=r){this._loadModelShow(t.resModelPath),this._setWorkerStar(r.star);var i=this._parseSkillData();this._setWorkerSkill(i.skillIDs),this.workerMajor.setMajorType(i.skillHighestLevel),this.workerChainType.setChainType(n.Bera),this.workerTokenID.text="W# "+this.mCurMarketData.wizardData.tokenId,this.workerLevel.text=m.i18nFormat(d.getI18nUIText("u.10102"),[r.showLevel.toString()]),this.workerLuck.visible=!1,this.workerPriceIcon.url=I.getUIFarmItemPath("Coin_Bera"),this.workerPrice.text=Number.parseFloat(k(this.mCurMarketData.price)).toString(),this.isOnSaleCtrl.selectedIndex=0,this.mCurMarketData.orderOwner.toLowerCase()===u.instance.curSDKPlugin.accountMeInfo.addressEvm.toLowerCase()?this.isMyOrderCtrl.selectedIndex=1:this.isMyOrderCtrl.selectedIndex=0,this._setWorkerItemSelected()}}}},i._parseSkillData=function(){for(var e=this.mCurMarketData.wizardData.skillAmount,t=this.mCurMarketData.wizardData.skillData.split(",",e),r=[],i=0,a=0;a<t.length;a++){var o=Number.parseInt(t[a]),s=d.getWorkerProfessionSkill(o);s&&i<s.skillLevel&&(i=s.skillLevel),r.push(o)}return{skillIDs:r,skillHighestLevel:i}},i._setWorkerStar=function(e){this.workerStar.removeChildren();for(var t=0;t<e;t++)this.workerStar.addItem()},i._setWorkerSkill=function(e){this.workerSkill.removeChildren();for(var t=0;t<e.length;t++){this.workerSkill.addItem().setSkillData(e[t])}},i._loadModelShow=function(e){var t=this;c.instance.loadAvatarSkeletonData(e).then((function(e){a(t.node)&&(t.workerIcon&&t.workerIcon.node&&t.workerIcon.node.scale&&t.workerIcon.setScale(2.2,2.2),t.workerIcon.clearContent(),t.workerIcon.skinName=e.defaultSkin,t.workerIcon.animationName="idle",t.workerIcon.setSpine(e.skeletonData,o(30,50)))}))},i._setWorkerItemSelected=function(){var e="0";this.mCurOnChainData&&(e=this.mCurOnChainData.TokenID),this.mCurMarketData&&(e=this.mCurMarketData.tokenID),this.mSelectedItemId===e?this.selected=!0:this.selected=!1},r}(s)).URL="ui://Common/listbar_worker_Marketplace",D=w))||D);r._RF.pop()}}}));

System.register("chunks:///_virtual/ui.message.box.controller.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./ui.base.controller.ts","./ui.manager.ts","./ui.message.box.data.ts"],(function(n){"use strict";var o,e,t,i,s,a,l,c,u,r,h,d;return{setters:[function(n){o=n.inheritsLoose,e=n.createClass},function(n){t=n.cclegacy,i=n._decorator,s=n.input,a=n.Input,l=n.KeyCode},function(n){c=n.UIPackage},function(n){u=n.UIBaseController},function(n){r=n.UIManager},function(n){h=n.UIMessageBoxDataSingle,d=n.UIMessageBoxDataDouble}],execute:function(){var g,B;t._RF.push({},"ca2dcZMLotAU6k7olr4QOff","ui.message.box.controller",void 0);var _=i.ccclass;n("UIMessageBoxController",_("UIMessageBoxController")(((B=function(n){function t(){for(var o,e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return(o=n.call.apply(n,[this].concat(t))||this).mFguiPkgName="MessageBox",o.mFguiMainViewName="Main",o._view=null,o.mNeedAddBoxList=new Array,o.mCurShowBox=null,o}o(t,n);var i=t.prototype;return i._addEvents=function(){n.prototype._addEvents.call(this),s.on(a.EventType.KEY_DOWN,this._onKeyDown,this)},i._removeEvents=function(){n.prototype._removeEvents.call(this),s.off(a.EventType.KEY_DOWN,this._onKeyDown,this)},i._onKeyDown=function(n){switch(n.keyCode){case l.ESCAPE:this.closeUI()}},i.onLoad=function(){t._instance=this,this._startLoadPkg(this.mFguiPkgName)},i.onDestroy=function(){n.prototype.onDestroy.call(this),this.mNeedAddBoxList=[],this.mCurShowBox=null,t._instance=null},i._onLoadUIFinish=function(){n.prototype._onLoadUIFinish.call(this),this._view=c.createObject(this.mFguiPkgName,this.mFguiMainViewName).asCom,this._addUIToRoot(this._view),this._view.makeFullScreen(),this._view.on(a.EventType.MOUSE_DOWN,(function(){})),this._calShowBox()},t._checkOpenUI=function(){null==t._instance&&r.instance.openUI(t.CTRL_NAME)},i._onMsgBoxDealFinish=function(){null!=this._view&&this._calShowBox()},i._calShowBox=function(){this.mNeedAddBoxList.length<=0?this.closeUI():(this.mCurShowBox=this.mNeedAddBoxList.shift(),null!==this.mCurShowBox&&this.mCurShowBox.showBoxData(this._view))},i.addSingleBtnMsgBox=function(n,o,e,t){var i=this;void 0===o&&(o="");var s=new h;s.msgBoxText=n,s.singleText=o,s.onConfirmClickCB=e,s.singleParam=t,s.onMsgBoxDealFinishCB=function(){i._onMsgBoxDealFinish()},this.mNeedAddBoxList.push(s)},i.addDoubleBtnMsgBox=function(n,o,e,t){var i=this;void 0===o&&(o="");var s=new d;s.msgBoxText=n,s.doubleConfirmText=o,s.onConfirmClickCB=e,s.doubleConfirmParam=t,s.onMsgBoxDealFinishCB=function(){i._onMsgBoxDealFinish()},this.mNeedAddBoxList.push(s)},t.AddPopMsgBox_SingleBtn=function(n,o,e,i){void 0===o&&(o=""),void 0===e&&(e=null),void 0===i&&(i=null),t._checkOpenUI(),t.instance.addSingleBtnMsgBox(n,o,e,i)},t.AddPopMsgBox_DoubleBtn=function(n,o,e,i){void 0===o&&(o=""),void 0===e&&(e=null),void 0===i&&(i=null),t._checkOpenUI(),t.instance.addDoubleBtnMsgBox(n,o,e,i)},e(t,null,[{key:"instance",get:function(){return this._instance}}]),t}(u)).CTRL_NAME="UIMessageBoxController",B._instance=null,g=B))||g);t._RF.pop()}}}));

System.register("chunks:///_virtual/ui.message.box.data.ts",["./rollupPluginModLoBabelHelpers.js","cc","./sound.helper.ts"],(function(n){"use strict";var o,i,t,e;return{setters:[function(n){o=n.inheritsLoose},function(n){i=n.cclegacy,t=n._decorator},function(n){e=n.SoundHelper}],execute:function(){var l,s,a;n("UIMsgBoxType",void 0),i._RF.push({},"99f51UrWpRLx62AZtE6yFcz","ui.message.box.data",void 0);var c,r=t.ccclass;!function(n){n[n.None=0]="None",n[n.Single=1]="Single",n[n.Double=2]="Double"}(c||(c=n("UIMsgBoxType",{})));var u=n("UIMessageBoxDataBase",r("UIMessageBoxDataBase")(l=function(){function n(){this.msgBoxText="",this.onMsgBoxDealFinishCB=null}var o=n.prototype;return o.getBoxType=function(){return c.None},o.showBoxData=function(n){n.cancelBtn.visible=!1,n.confirmBtn.visible=!1,n.closeBtn.onClick(this._onCloseBtnClick,this)},o._onCloseBtnClick=function(){e.PlaySound_UICommonClick(),null!=this.onMsgBoxDealFinishCB&&this.onMsgBoxDealFinishCB()},n}())||l);n("UIMessageBoxDataSingle",r("UIMessageBoxDataSingle")(s=function(n){function i(){for(var o,i=arguments.length,t=new Array(i),e=0;e<i;e++)t[e]=arguments[e];return(o=n.call.apply(n,[this].concat(t))||this).singleText="",o.singleParam=null,o.onConfirmClickCB=null,o}o(i,n);var t=i.prototype;return t.getBoxType=function(){return c.Single},t.showBoxData=function(o){n.prototype.showBoxData.call(this,o),o.closeBtn.visible=!1,o.descLabel.text=this.msgBoxText,o.confirmBtn.visible=!0,o.confirmBtn.onClick(this._onConfirmBtnClick,this),""!==this.singleText&&(o.confirmBtn.text=this.singleText)},t._onConfirmBtnClick=function(){null!=this.onConfirmClickCB&&this.onConfirmClickCB(this.singleParam),null!=this.onMsgBoxDealFinishCB&&this.onMsgBoxDealFinishCB()},i}(u))||s),n("UIMessageBoxDataDouble",r("UIMessageBoxDataDouble")(a=function(n){function i(){for(var o,i=arguments.length,t=new Array(i),e=0;e<i;e++)t[e]=arguments[e];return(o=n.call.apply(n,[this].concat(t))||this).doubleCancelText="",o.doubleCancelParam=null,o.onCancelClickCB=null,o.doubleConfirmText="",o.doubleConfirmParam=null,o.onConfirmClickCB=null,o}o(i,n);var t=i.prototype;return t.getBoxType=function(){return c.Double},t.showBoxData=function(o){n.prototype.showBoxData.call(this,o),o.descLabel.text=this.msgBoxText,o.confirmBtn.visible=!0,o.confirmBtn.onClick(this._onConfirmBtnClick,this),""!==this.doubleConfirmText&&(o.confirmBtn.text=this.doubleConfirmText),o.cancelBtn.visible=!0,o.cancelBtn.onClick(this._onCancelBtnClick,this),""!==this.doubleCancelText&&(o.cancelBtn.text=this.doubleCancelText)},t._onConfirmBtnClick=function(){e.PlaySound_UICommonClick(),null!=this.onConfirmClickCB&&this.onConfirmClickCB(this.doubleConfirmParam),null!=this.onMsgBoxDealFinishCB&&this.onMsgBoxDealFinishCB()},t._onCancelBtnClick=function(){e.PlaySound_UICommonClick(),null!=this.onCancelClickCB&&this.onCancelClickCB(this.doubleCancelParam),null!=this.onMsgBoxDealFinishCB&&this.onMsgBoxDealFinishCB()},i}(u))||a);i._RF.pop()}}}));

System.register("chunks:///_virtual/ui.message.box.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(i){"use strict";var t,e,n;return{setters:[function(i){t=i.inheritsLoose},function(i){e=i.cclegacy},function(i){n=i.GComponent}],execute:function(){e._RF.push({},"6bcdcgGQqVIyop+0SUXUmUN","ui.message.box.view",void 0),i("default",function(i){function e(){for(var t,e=arguments.length,n=new Array(e),s=0;s<e;s++)n[s]=arguments[s];return(t=i.call.apply(i,[this].concat(n))||this).descLabel=void 0,t.closeBtn=void 0,t.cancelBtn=void 0,t.confirmBtn=void 0,t}return t(e,i),e.prototype.onConstruct=function(){this.descLabel=this.getChildByPath("ui_MessageBoxWind.ui_title"),this.closeBtn=this.getChildByPath("ui_MessageBoxWind.ui_WindClose"),this.cancelBtn=this.getChildByPath("ui_MessageBoxWind.ui_CancelBtn"),this.confirmBtn=this.getChildByPath("ui_MessageBoxWind.ui_ConfirmBtn")},e}(n)).URL="ui://MessageBox/Main",e._RF.pop()}}}));

System.register("chunks:///_virtual/ui.mining.btn.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./resource.manager.ts"],(function(n){"use strict";var i,o,t,e,a,r,c;return{setters:[function(n){i=n.inheritsLoose},function(n){o=n.cclegacy,t=n._decorator,e=n.isValid,a=n.v2},function(n){r=n.GButton},function(n){c=n.ResourceManager}],execute:function(){var s,u;o._RF.push({},"3a77atOXNpIPpqFORvTDTQK","ui.mining.btn.view",void 0);var l=t.ccclass;n("default",l("UIMiningBtnView")(((u=function(n){function o(){var i;return(i=n.call(this)||this).miningIcon=void 0,i}i(o,n);var t=o.prototype;return t.onConstruct=function(){this.miningIcon=this.getChild("ui_WorkerIcon")},t.setBtnState=function(n){n?this._loadModelShow("ChronoWizardBear/ChronoWizardBear","mining"):this._loadModelShow("ChronoWizardBear/ChronoWizardBear","idle")},t._loadModelShow=function(n,i){var o=this;c.instance.loadAvatarSkeletonData(n).then((function(n){e(o.node)&&(o.miningIcon&&o.miningIcon.node&&o.miningIcon.node.scale&&o.miningIcon.setScale(1.7,1.7),o.miningIcon.clearContent(),o.miningIcon.skinName=n.defaultSkin,o.miningIcon.animationName=i,o.miningIcon.loop=!0,o.miningIcon.setSpine(n.skeletonData,a(16,30)))}))},o}(r)).URL="ui://MainInterface/btn_function_mining",s=u))||s);o._RF.pop()}}}));

System.register("chunks:///_virtual/ui.mining.coming.controller.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./event.dispatcher.ts","./event.name.ts","./resource.manager.ts","./sound.helper.ts","./ui.float.text.controller.ts","./ui.base.controller.ts"],(function(i){"use strict";var n,t,e,o,s,a,r,l,m,c,h,u,_,v,y,A,w,C;return{setters:[function(i){n=i.inheritsLoose,t=i.createClass,e=i.asyncToGenerator,o=i.regeneratorRuntime},function(i){s=i.cclegacy,a=i._decorator,r=i.input,l=i.Input,m=i.KeyCode,c=i.isValid,h=i.v2},function(i){u=i.UIPackage},function(i){_=i.EventDispatcher},function(i){v=i.EventName},function(i){y=i.ResourceManager},function(i){A=i.SoundHelper},function(i){w=i.UIFloatTextController},function(i){C=i.UIBaseController}],execute:function(){var p,d;s._RF.push({},"9ae80N6AhVE3IUr3pQ7UXvu","ui.mining.coming.controller",void 0);var g=a.ccclass;i("UIMiningComingController",g("UIMiningComingController")(((d=function(i){function s(){for(var n,t=arguments.length,e=new Array(t),o=0;o<t;o++)e[o]=arguments[o];return(n=i.call.apply(i,[this].concat(e))||this).mFguiPkgName="Mining",n.mFguiMainViewName="Main_Coming",n.cAnimPlayMiningCount=5,n.cAnimPlayDoingCount=2,n.cAnimPlayHungerCount=5,n._view=null,n.mAnimState=0,n.mAnimPlayTimes=0,n}n(s,i);var a=s.prototype;return a._addEvents=function(){i.prototype._addEvents.call(this),r.on(l.EventType.KEY_DOWN,this._onKeyDown,this)},a._removeEvents=function(){i.prototype._removeEvents.call(this),r.off(l.EventType.KEY_DOWN,this._onKeyDown,this)},a._onKeyDown=function(i){switch(i.keyCode){case m.ESCAPE:this._onCloseClick()}},a.onLoad=function(){s._instance=this,this._startLoadPkg(this.mFguiPkgName)},a.onDestroy=function(){i.prototype.onDestroy.call(this),s._instance=null},a.closeUI=function(){i.prototype.closeUI.call(this)},a._onLoadUIFinish=function(){i.prototype._onLoadUIFinish.call(this),this._view=u.createObject(this.mFguiPkgName,this.mFguiMainViewName).asCom,this._addUIToRoot(this._view),this._view.makeFullScreen(),this._view.closeBtn.onClick(this._onCloseClick,this),this._view.miningBtn.onClick(this._onMiningClick,this),this._initAnim()},a._onCloseClick=function(){A.PlaySound_UICommonClose(),_.emit(v.UI_MINING_COMING_CLOSE)},a._onMiningClick=function(){A.PlaySound_UICommonClick(),w.AddTipI18nID_Info("u.2501")},a._initAnim=function(){this._view.coinAnimView.visible=!1,this.mAnimState=1,this.mAnimPlayTimes=0,this._playAnim()},a._playAnim=function(){var i=this;1===this.mAnimState?this._loadModelShow("ChronoWizardBear/ChronoWizardBear","mining"):2===this.mAnimState?this._loadModelShow("ChronoWizardBear/ChronoWizardBear","doing"):(this._loadModelShow("ChronoWizardBear/ChronoWizardBear","hunger"),this._view.coinAnimTrans.playing||0!==this.mAnimPlayTimes||(this._view.coinAnimView.visible=!0,this._view.coinAnimTrans.play((function(){i._view.coinAnimView.visible=!1}),1)))},a._loadModelShow=function(){var i=e(o().mark((function i(n,t){var e=this;return o().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:y.instance.loadAvatarSkeletonData(n).then((function(i){c(e.node)&&(e._view.workerIcon&&e._view.workerIcon.node&&e._view.workerIcon.node.scale&&e._view.workerIcon.setScale(3,3),e._view.workerIcon.clearContent(),e._view.workerIcon.skinName=i.defaultSkin,e._view.workerIcon.animationName=t,e._view.workerIcon.loop=!0,e._view.workerIcon.setSpine(i.skeletonData,h(30,60)),e._view.workerIcon.content.setCompleteListener(e._onAnimCompleteListener.bind(e)))}));case 1:case"end":return i.stop()}}),i)})));return function(n,t){return i.apply(this,arguments)}}(),a._onAnimCompleteListener=function(i){1===this.mAnimState?this.mAnimPlayTimes>=this.cAnimPlayMiningCount-1?(this.mAnimState=2,this.mAnimPlayTimes=0,this._playAnim()):this.mAnimPlayTimes++:2===this.mAnimState?this.mAnimPlayTimes>=this.cAnimPlayDoingCount-1?(this.mAnimState=3,this.mAnimPlayTimes=0,this._playAnim()):this.mAnimPlayTimes++:3===this.mAnimState&&(this.mAnimPlayTimes>=this.cAnimPlayHungerCount-1?(this.mAnimState=1,this.mAnimPlayTimes=0,this._playAnim()):this.mAnimPlayTimes++)},t(s,null,[{key:"instance",get:function(){return this._instance}}]),s}(C)).CTRL_NAME="UIMiningComingController",d._instance=null,p=d))||p);s._RF.pop()}}}));

System.register("chunks:///_virtual/ui.mining.coming.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(i){"use strict";var n,t,o,e;return{setters:[function(i){n=i.inheritsLoose},function(i){t=i.cclegacy,o=i._decorator},function(i){e=i.GComponent}],execute:function(){var s,c;t._RF.push({},"a4c22GJJ8BFrYQvZEvpy7KN","ui.mining.coming.view",void 0);var u=o.ccclass;i("default",u("UIMiningCommingView")(((c=function(i){function t(){var n;return(n=i.call(this)||this).coinAnimTrans=void 0,n.comingWind=void 0,n.bgMask=void 0,n.closeBtn=void 0,n.workerIcon=void 0,n.coinAnimView=void 0,n.poolCoinValue=void 0,n.participantCount=void 0,n.ruleText=void 0,n.miningBtn=void 0,n}return n(t,i),t.prototype.onConstruct=function(){this.bgMask=this.getChild("BgMask"),this.comingWind=this.getChild("ui_ComingWind"),this.closeBtn=this.comingWind.getChild("ui_WindClose"),this.workerIcon=this.comingWind.getChild("ui_WorkerIcon"),this.coinAnimView=this.comingWind.getChild("ui_CoinAni"),this.coinAnimTrans=this.coinAnimView.getTransition("ui_ani_wizz"),this.poolCoinValue=this.comingWind.getChild("ui_CoinValue"),this.participantCount=this.comingWind.getChild("ui_Value2"),this.ruleText=this.comingWind.getChild("ui_RuleLabel"),this.miningBtn=this.comingWind.getChild("ui_BtnPut")},t}(e)).URL="ui://Mining/Main_Coming",s=c))||s);t._RF.pop()}}}));

System.register("chunks:///_virtual/ui.mining.controller.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./event.dispatcher.ts","./event.name.ts","./resource.manager.ts","./net.helper.ts","./sound.helper.ts","./ui.float.text.controller.ts","./ui.base.controller.ts","./logic.tool.ts","./table.helper.ts","./time.system.ts","./model.mining.manager.ts","./model.farm.manager.ts","./tonweb.mjs_cjs=&original=.js","./model.mainrole.manager.ts","./userdata.client.protocol.ts","./enum.farm.coin.res.ts","./tonweb.js"],(function(i){"use strict";var t,n,e,a,s,o,m,r,h,l,g,u,_,c,f,v,w,M,p,S,I,C,D,T,d,U,L,y;return{setters:[function(i){t=i.inheritsLoose,n=i.createClass,e=i.asyncToGenerator,a=i.regeneratorRuntime},function(i){s=i.cclegacy,o=i._decorator,m=i.input,r=i.Input,h=i.KeyCode,l=i.isValid,g=i.v2},function(i){u=i.UIPackage},function(i){_=i.EventDispatcher},function(i){c=i.EventName},function(i){f=i.ResourceManager},function(i){v=i.NetHelper},function(i){w=i.SoundHelper},function(i){M=i.UIFloatTextController},function(i){p=i.UIBaseController},function(i){S=i.LogicTool},function(i){I=i.TableHelper},function(i){C=i.TimeSystem},function(i){D=i.ModelMiningManager},function(i){T=i.ModelFarmManager},null,function(i){d=i.ModelMainRoleManager},function(i){U=i.enumLoginPlatform},function(i){L=i.EFarmCoinRes},function(i){y=i.default}],execute:function(){var A,x;s._RF.push({},"f2aebaeLd5AyKPuZ3n5jpve","ui.mining.controller",void 0);var k,N=o.ccclass;!function(i){i[i.None=0]="None",i[i.Unopen=1]="Unopen",i[i.SignUp=2]="SignUp",i[i.Mining=3]="Mining",i[i.Clearing=4]="Clearing"}(k||(k={}));i("UIMiningController",N("UIMiningController")(((x=function(i){function s(){for(var t,n=arguments.length,e=new Array(n),a=0;a<n;a++)e[a]=arguments[a];return(t=i.call.apply(i,[this].concat(e))||this).mFguiPkgName="Mining",t.mFguiMainViewName="Main",t.cAnimPlayMiningCount=5,t.cAnimPlayDoingCount=2,t.cAnimPlayHungerCount=5,t._view=null,t.mMiningData=null,t.mSelfMiningLog=null,t.mCurShowType=k.None,t.mMiningID=0,t.mUIRefreshTime=0,t.mRealRemainTime=0,t.mDeltaRemainTime=0,t.mAnimState=0,t.mAnimPlayTimes=0,t}t(s,i);var o=s.prototype;return o.setData=function(i){this.mMiningID=i||0,this.IsLoadFinish&&this._initData()},o._addEvents=function(){i.prototype._addEvents.call(this),m.on(r.EventType.KEY_DOWN,this._onKeyDown,this),_.on(c.MINING_LIST_INIT,this._onMiningListInit,this),_.on(c.MINING_LOG_DATA_CHANGED,this._onMiningLogDataChanged,this)},o._removeEvents=function(){i.prototype._removeEvents.call(this),m.off(r.EventType.KEY_DOWN,this._onKeyDown,this),_.off(c.MINING_LIST_INIT,this._onMiningListInit,this),_.off(c.MINING_LOG_DATA_CHANGED,this._onMiningLogDataChanged,this)},o._onKeyDown=function(i){switch(i.keyCode){case h.ESCAPE:this._onCloseClick()}},o._onMiningListInit=function(i){if(this._view&&i.num>0){for(var t=0;t<i.info.length;t++)if(i.info[t].MiningID===this.mMiningID){this.mMiningData=i.info[t];break}null==this.mMiningData&&(this.mMiningData=i.info[i.num-1]),this.mMiningID=this.mMiningData.MiningID,this.mRealRemainTime=this.mMiningData.RemainingTime,this.mDeltaRemainTime=0,v.getMiningLogData(this.mMiningData.MiningID),this.mSelfMiningLog=D.instance.getMiningLogDataByID(this.mMiningID),this._view.signUpWind.visible=!0,this._initMiningView()}},o._onMiningLogDataChanged=function(i){this._view&&this.mMiningData&&i&&this.mMiningData.MiningID===i&&(this.mSelfMiningLog=D.instance.getMiningLogDataByID(i),this.mSelfMiningLog&&this._initMiningView())},o.onLoad=function(){s._instance=this,this._startLoadPkg(this.mFguiPkgName)},o.onDestroy=function(){i.prototype.onDestroy.call(this),s._instance=null},o.closeUI=function(){i.prototype.closeUI.call(this)},o.update=function(i){if(null!==this._view&&null!==this.mMiningData&&(this.mUIRefreshTime>=60&&(this.mUIRefreshTime=0,v.getMiningList()),this.mUIRefreshTime+=i,this.mCurShowType===k.Mining)){if(this.mRealRemainTime<=0)return;this.mDeltaRemainTime>=1&&(this.mDeltaRemainTime=0,this.mRealRemainTime--,this._view.setClaimBtnText(S.i18nFormat(I.getI18nUIText("u.12111"),[C.formatTimeString_Mining(this.mRealRemainTime)]))),this.mDeltaRemainTime+=i}},o._onLoadUIFinish=function(){i.prototype._onLoadUIFinish.call(this),this._view=u.createObject(this.mFguiPkgName,this.mFguiMainViewName).asCom,this._addUIToRoot(this._view),this._view.makeFullScreen(),this._view.closeBtn.onClick(this._onCloseClick,this),this._view.signUpBtn.onClick(this._onSignUpClick,this),this._view.signUpForWizzBtn.onClick(this._onSignUpClick,this),this._view.claimBtn.onClick(this._onClaimClick,this),this._initData()},o._onCloseClick=function(){w.PlaySound_UICommonClose(),_.emit(c.UI_MINING_CLOSE)},o._onSignUpClick=function(){if(w.PlaySound_UICommonClick(),this.mCurShowType===k.Unopen)M.AddTipI18nID_Info("u.2521");else if(this.mCurShowType===k.SignUp||this.mCurShowType===k.Mining){if(this.mSelfMiningLog&&1===this.mSelfMiningLog.miningState)return;if(0!==this.mMiningData.PlatformLimit){var i=d.instance.loginPlatform;if(4===i&&(i=3),this.mMiningData.PlatformLimit!==i)return void(this.mMiningData.PlatformLimit===U.eLoginPlatform_Telegram?M.AddTipI18nID_Failed("u.2540"):this.mMiningData.PlatformLimit===U.eLoginPlatform_X?M.AddTipI18nID_Failed("u.2539"):this.mMiningData.PlatformLimit===U.eLoginPlatform_Line_Kaia&&M.AddTipI18nID_Failed("u.2566"))}if(T.instance.FarmLevel<this.mMiningData.LevelLimit){var t=S.i18nFormat(I.getI18nUIText("u.2503"),[this.mMiningData.LevelLimit.toString()]);return void M.AddTipText_Failed(t)}v.applyMining(this.mMiningData.MiningID)}},o._onClaimClick=function(){w.PlaySound_UICommonClick(),this.mCurShowType===k.Mining?M.AddTipI18nID_Info("u.2522"):this.mCurShowType===k.Clearing&&v.withdrawMiningCoin(this.mMiningData.MiningID)},o._initData=function(){this._initAnim(),this.mUIRefreshTime=0,this._view.signUpWind.visible=!1,v.getMiningList()},o._initMiningView=function(){if(C.instance.getTimestamp()>=this.mMiningData.SignupTime)switch(this.mMiningData.StartState){case 0:this._showSignUpView();break;case 1:this._showMiningView();break;case 2:this._showClearingView()}else this._showUnopenView()},o._showUnopenView=function(){this.mCurShowType=k.Unopen,this._view.miningStateCtrl.selectedIndex=0,this._view.isSignUpCtrl.selectedIndex=0;var i=(this.mMiningData.BaseAmount+this.mMiningData.AppendAmount+this.mMiningData.AdditionAmount).toString();this._view.poolCoinValue.text=i;var t=i.length*(this._view.poolCoinValue.fontSize/2)+4;t>244&&(t=244),this._view.poolCoinValue.width=t,this._view.participantProgress.min=0,this._view.participantProgress.max=0===this.mMiningData.StartMiner?1:this.mMiningData.StartMiner,this._view.participantProgress.value=this.mMiningData.NetworkMinerNum;var n=C.formatDateString(this.mMiningData.SignupTime);this._view.curMiningTime.text=S.i18nFormat(I.getI18nUIText("u.12137"),[this.mMiningData.MiningName,n]),this._refreshRuleInfo(),this._view.setSignUpBtnState(4),this._view.signUpForWizzBtn.visible=!1},o._showSignUpView=function(){this.mCurShowType=k.SignUp,this._view.miningStateCtrl.selectedIndex=0,this._view.isSignUpCtrl.selectedIndex=0;var i=(this.mMiningData.BaseAmount+this.mMiningData.AppendAmount+this.mMiningData.AdditionAmount).toString();this._view.poolCoinValue.text=i;var t=i.length*(this._view.poolCoinValue.fontSize/2)+4;t>244&&(t=244),this._view.poolCoinValue.width=t,this._view.participantProgress.min=0,this._view.participantProgress.max=0===this.mMiningData.StartMiner?1:this.mMiningData.StartMiner,this._view.participantProgress.value=this.mMiningData.NetworkMinerNum;var n=C.instance.getTimestamp()>=this.mMiningData.SignupTime;if(n){var e=C.formatDateString(this.mMiningData.StartTime);this._view.curMiningTime.text=S.i18nFormat(I.getI18nUIText("u.12109"),[this.mMiningData.MiningName,e])}else{var a=C.formatDateString(this.mMiningData.SignupTime);this._view.curMiningTime.text=S.i18nFormat(I.getI18nUIText("u.12137"),[this.mMiningData.MiningName,a])}if(this._refreshRuleInfo(),n)if(this.mSelfMiningLog&&1===this.mSelfMiningLog.miningState)this._view.setSignUpBtnState(1),this._view.signUpForWizzBtn.visible=!1;else if(this.mMiningData.StakeCoefficient>0){var s=0,o=I.getFarmLevelRecord(T.instance.FarmLevel);o&&(s=this.mMiningData.StakeCoefficient*o.miningStakeCount/100),this._view.signUpBtn.visible=!1,this._view.signUpForWizzBtn.visible=!0,this._view.signUpForWizzBtn.setBtnData([L.Token_Wizz,s])}else this._view.setSignUpBtnState(0),this._view.signUpForWizzBtn.visible=!1;else this._view.setSignUpBtnState(4),this._view.signUpForWizzBtn.visible=!1},o._showMiningView=function(){this.mCurShowType=k.Mining,this._view.miningStateCtrl.selectedIndex=1;var i=(Math.floor(100*Number.parseFloat(y.utils.fromNano(this.mMiningData.RemainingCoin)))/100).toString();this._view.poolCoinValue.text=i;var t=i.length*(this._view.poolCoinValue.fontSize/2)+4;t>244&&(t=244),this._view.poolCoinValue.width=t,this._view.poolProsperitiy.text=S.BigIntTransform(BigInt(this.mMiningData.NetworkHashrate)),this._view.participantCount.text=this.mMiningData.NetworkMinerNum.toString();var n=C.formatDateString(C.instance.getTimestamp()+this.mMiningData.RemainingTime);if(this._view.curMiningTime.text=S.i18nFormat(I.getI18nUIText("u.12110"),[this.mMiningData.MiningName,n]),this._refreshRuleInfo(),this.mSelfMiningLog&&1===this.mSelfMiningLog.miningState){this._view.isSignUpCtrl.selectedIndex=1,this._view.selfProsperitiy.text=S.BigIntTransform(BigInt(T.instance.FarmHashrate));var e=0,a=Number.parseFloat(y.utils.fromNano(T.instance.FarmHashrate)),s=Number.parseFloat(y.utils.fromNano(this.mMiningData.NetworkHashrate)),o=Number.parseFloat(y.utils.fromNano(this.mMiningData.RemainingCoin)),m=this.mMiningData.RemainingTime;s>0&&m>0&&(e=a/s*(o/m)*3600),this._view.selfEfficiency.text="+"+Math.floor(100*e)/100+"/h";var r=y.utils.fromNano(this.mSelfMiningLog.miningData.CoinAmount);this._view.selfCoinValue.text=r;var h=r.length*(this._view.poolCoinValue.fontSize/2)+4;h>260&&(h=260),this._view.selfCoinValue.width=h,this._view.setClaimBtnState(3),this._view.setClaimBtnText(S.i18nFormat(I.getI18nUIText("u.12111"),[C.formatTimeString_Mining(this.mRealRemainTime)]))}else if(this._view.isSignUpCtrl.selectedIndex=0,this.mMiningData.StakeCoefficient>0){var l=0,g=I.getFarmLevelRecord(T.instance.FarmLevel);g&&(l=this.mMiningData.StakeCoefficient*g.miningStakeCount/100),this._view.signUpBtn.visible=!1,this._view.signUpForWizzBtn.visible=!0,this._view.signUpForWizzBtn.setBtnData([L.Token_Wizz,l])}else this._view.setSignUpBtnState(0),this._view.signUpForWizzBtn.visible=!1},o._showClearingView=function(){this.mCurShowType=k.Clearing,this._view.miningStateCtrl.selectedIndex=1;var i="0.00";this._view.poolCoinValue.text=i;var t=i.length*(this._view.poolCoinValue.fontSize/2)+4;if(t>244&&(t=244),this._view.poolCoinValue.width=t,this._view.poolProsperitiy.text=S.BigIntTransform(BigInt(this.mMiningData.NetworkHashrate)),this._view.participantCount.text=this.mMiningData.NetworkMinerNum.toString(),this._view.curMiningTime.text=S.i18nFormat(I.getI18nUIText("u.12110"),[this.mMiningData.MiningName,I.getI18nUIText("u.12123")]),this._refreshRuleInfo(),!this.mSelfMiningLog||1!==this.mSelfMiningLog.miningState&&2!==this.mSelfMiningLog.miningState)this._view.isSignUpCtrl.selectedIndex=0,this._view.setSignUpBtnState(3),this._view.signUpForWizzBtn.visible=!1;else{this._view.isSignUpCtrl.selectedIndex=1,this._view.selfProsperitiy.text=S.BigIntTransform(BigInt(T.instance.FarmHashrate)),this._view.selfEfficiency.text="+0.00/h";var n=y.utils.fromNano(this.mSelfMiningLog.miningData.CoinAmount);this._view.selfCoinValue.text=n;var e=n.length*(this._view.poolCoinValue.fontSize/2)+4;e>260&&(e=260),this._view.selfCoinValue.width=e,2===this.mSelfMiningLog.miningState?(this._view.setClaimBtnState(1),this._view.setClaimBtnText(I.getI18nUIText("u.12119"))):(this._view.setClaimBtnState(0),this._view.setClaimBtnText(I.getI18nUIText("u.12118")))}},o._refreshRuleInfo=function(){var i=4,t="";this.mMiningData.TotalAmount>0&&(t=S.i18nFormat(I.getI18nUIText("u.12136"),[i.toString(),this.mMiningData.TotalAmount.toString()]),i++);var n="";if(this.mMiningData.StakeCoefficient>0){var e=0,a=I.getFarmLevelRecord(T.instance.FarmLevel);a&&(e=this.mMiningData.StakeCoefficient*a.miningStakeCount/100),n=S.i18nFormat(I.getI18nUIText("u.12140"),[i.toString(),e.toString()]),i++}var s="";s=this.mMiningData.PlatformLimit===U.eLoginPlatform_Telegram?I.getI18nUIText("u.12150"):this.mMiningData.PlatformLimit===U.eLoginPlatform_X?I.getI18nUIText("u.12151"):this.mMiningData.PlatformLimit===U.eLoginPlatform_Line_Kaia?I.getI18nUIText("u.12153"):I.getI18nUIText("u.12154"),this._view.ruleText.text=S.i18nFormat(I.getI18nUIText("u.12101"),[this.mMiningData.LevelLimit.toString(),this.mMiningData.UnitAmount.toString(),s])+t+n,0===this._view.isSignUpCtrl.selectedIndex?this._view.ruleTextBG.height=this._view.ruleText.height/2+90:this._view.ruleTextBG.height=256},o._initAnim=function(){this._view.coinAnimView.visible=!1,this.mAnimState=1,this.mAnimPlayTimes=0,this._playAnim()},o._playAnim=function(){var i=this;1===this.mAnimState?this._loadModelShow("ChronoWizardBear/ChronoWizardBear","mining"):2===this.mAnimState?this._loadModelShow("ChronoWizardBear/ChronoWizardBear","doing"):(this._loadModelShow("ChronoWizardBear/ChronoWizardBear","hunger"),this._view.coinAnimTrans.playing||0!==this.mAnimPlayTimes||(this._view.coinAnimView.visible=!0,this._view.coinAnimTrans.play((function(){i._view.coinAnimView.visible=!1}),1)))},o._loadModelShow=function(){var i=e(a().mark((function i(t,n){var e=this;return a().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:f.instance.loadAvatarSkeletonData(t).then((function(i){l(e.node)&&(e._view.workerIcon&&e._view.workerIcon.node&&e._view.workerIcon.node.scale&&e._view.workerIcon.setScale(3,3),e._view.workerIcon.clearContent(),e._view.workerIcon.skinName=i.defaultSkin,e._view.workerIcon.animationName=n,e._view.workerIcon.loop=!0,e._view.workerIcon.setSpine(i.skeletonData,g(30,60)),e._view.workerIcon.content.setCompleteListener(e._onAnimCompleteListener.bind(e)))}));case 1:case"end":return i.stop()}}),i)})));return function(t,n){return i.apply(this,arguments)}}(),o._onAnimCompleteListener=function(i){1===this.mAnimState?this.mAnimPlayTimes>=this.cAnimPlayMiningCount-1?(this.mAnimState=2,this.mAnimPlayTimes=0,this._playAnim()):this.mAnimPlayTimes++:2===this.mAnimState?this.mAnimPlayTimes>=this.cAnimPlayDoingCount-1?(this.mAnimState=3,this.mAnimPlayTimes=0,this._playAnim()):this.mAnimPlayTimes++:3===this.mAnimState&&(this.mAnimPlayTimes>=this.cAnimPlayHungerCount-1?(this.mAnimState=1,this.mAnimPlayTimes=0,this._playAnim()):this.mAnimPlayTimes++)},n(s,null,[{key:"instance",get:function(){return this._instance}}]),s}(p)).CTRL_NAME="UIMiningController",x._instance=null,A=x))||A);s._RF.pop()}}}));

System.register("chunks:///_virtual/ui.mining.current.item.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./event.dispatcher.ts","./event.name.ts","./table.helper.ts","./model.farm.manager.ts","./model.mainrole.manager.ts","./userdata.client.protocol.ts","./sound.helper.ts","./time.system.ts","./logic.tool.ts","./ui.tip.float.define.ts"],(function(t){"use strict";var i,e,o,n,r,a,s,u,m,l,h,g,c,f;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy,o=t._decorator},function(t){n=t.GButton},function(t){r=t.EventDispatcher},function(t){a=t.EventName},function(t){s=t.TableHelper},function(t){u=t.ModelFarmManager},function(t){m=t.ModelMainRoleManager},function(t){l=t.enumLoginPlatform},function(t){h=t.SoundHelper},function(t){g=t.TimeSystem},function(t){c=t.LogicTool},function(t){f=t.ETipFloatPosition}],execute:function(){var C,S;e._RF.push({},"4e403mun0tBMrv1hZxm6qDx","ui.mining.current.item.view",void 0);var d=o.ccclass;t("default",d("UIMiningCurrentItemView")(((S=function(t){function e(){var i;return(i=t.call(this)||this).stateCtrl=void 0,i.miningTitle=void 0,i.startTime=void 0,i.bonusProgress=void 0,i.requireLevel=void 0,i.requirePlatform=void 0,i.joinBtn=void 0,i.mCurShowData=void 0,i}i(e,t);var o=e.prototype;return o.onConstruct=function(){this.stateCtrl=this.getController("State"),this.miningTitle=this.getChild("ui_PhaseValue"),this.startTime=this.getChild("ui_StartTimeValue"),this.bonusProgress=this.getChild("ui_Progress"),this.requireLevel=this.getChild("ui_RequiresLabel"),this.requirePlatform=this.getChild("ui_PlatformLabel"),this.joinBtn=this.getChild("ui_BtnJoin"),this.bonusProgress.onClick(this._onBonusProgressClick,this),this.joinBtn.onClick(this._onMiningJoinClick,this)},o._onBonusProgressClick=function(){if(h.PlaySound_UICommonClick(),null!=this.mCurShowData&&this.mCurShowData.TotalAmount>0){var t=c.i18nFormat(s.getI18nUIText("u.12135"),[this.mCurShowData.TotalAmount.toString()]);r.emit(a.UI_TIP_FLOAT_SHOW_TEXT,this.bonusProgress,t,f.Top)}},o._onMiningJoinClick=function(){h.PlaySound_UICommonClick(),null!=this.mCurShowData&&r.emit(a.UI_MINING_OPEN,this.mCurShowData.MiningID)},o.setMiningData=function(t){if(null!=t){if(this.mCurShowData=t,this.miningTitle.text=c.i18nFormat(s.getI18nUIText("u.12121"),[this.mCurShowData.MiningName]),g.instance.getTimestamp()>=this.mCurShowData.SignupTime){var i=g.formatDateString(this.mCurShowData.StartTime);this.startTime.text=c.i18nFormat(s.getI18nUIText("u.12128"),[i])}else{var e=g.formatDateString(this.mCurShowData.SignupTime);this.startTime.text=c.i18nFormat(s.getI18nUIText("u.12138"),[e])}var o="";o=u.instance.FarmLevel>=this.mCurShowData.LevelLimit?"[color=#5dd443]Lv."+this.mCurShowData.LevelLimit+"[/color]":"[color=#ff502d]Lv."+this.mCurShowData.LevelLimit+"[/color]",this.requireLevel.text=c.i18nFormat(s.getI18nUIText("u.12129"),[o]);var n="";if(0!==this.mCurShowData.PlatformLimit){var r="",a=m.instance.loginPlatform;4===a&&(a=3),r=this.mCurShowData.PlatformLimit===a?"[color=#5dd443]":"[color=#ff502d]",this.mCurShowData.PlatformLimit===l.eLoginPlatform_Telegram?n=r+s.getI18nUIText("u.12150"):this.mCurShowData.PlatformLimit===l.eLoginPlatform_X?n=r+s.getI18nUIText("u.12151"):this.mCurShowData.PlatformLimit===l.eLoginPlatform_Line_Kaia&&(n=r+s.getI18nUIText("u.12153"))}else n="[color=#5dd443]"+s.getI18nUIText("u.12154");this.requirePlatform.text=c.i18nFormat(s.getI18nUIText("u.12139"),[n]),g.instance.getTimestamp()>=this.mCurShowData.SignupTime?0===t.StartState?this.stateCtrl.selectedPage="SignUp":this.stateCtrl.selectedPage="Start":this.stateCtrl.selectedPage="Unopen";var h=this.mCurShowData.BaseAmount+this.mCurShowData.AppendAmount+this.mCurShowData.AdditionAmount;this.bonusProgress.min=0,this.mCurShowData.TotalAmount>0?this.bonusProgress.max=this.mCurShowData.TotalAmount:this.bonusProgress.max=h,this.bonusProgress.value=h;var f=this.mCurShowData.TotalAmount>0?this.mCurShowData.TotalAmount.toString():"Infinite";this._setProgressTitle(h+"/"+f)}},o._setProgressTitle=function(t){var i=this.bonusProgress.getChild("title2");i&&(i.text=t)},e}(n)).URL="ui://MiningList/listbar_currentmining",C=S))||C);e._RF.pop()}}}));

System.register("chunks:///_virtual/ui.mining.list.controller.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./event.dispatcher.ts","./event.name.ts","./net.helper.ts","./sound.helper.ts","./ui.base.controller.ts","./model.mining.manager.ts"],(function(i){"use strict";var t,n,e,s,a,r,o,h,u,c,_,l,g,m;return{setters:[function(i){t=i.inheritsLoose,n=i.createClass},function(i){e=i.cclegacy,s=i._decorator,a=i.input,r=i.Input,o=i.KeyCode},function(i){h=i.UIPackage},function(i){u=i.EventDispatcher},function(i){c=i.EventName},function(i){_=i.NetHelper},function(i){l=i.SoundHelper},function(i){g=i.UIBaseController},function(i){m=i.ModelMiningManager}],execute:function(){var f,I;e._RF.push({},"8cbedpnppVOxIPUsA1qT13Y","ui.mining.list.controller",void 0);var d,v=s.ccclass;!function(i){i[i.Current=0]="Current",i[i.Past=1]="Past"}(d||(d={}));i("UIMiningListController",v("UIMiningListController")(((I=function(i){function e(){for(var t,n=arguments.length,e=new Array(n),s=0;s<n;s++)e[s]=arguments[s];return(t=i.call.apply(i,[this].concat(e))||this).mFguiPkgName="MiningList",t.mFguiMainViewName="Main",t._view=null,t._curTabType=d.Current,t.mCurMiningData=[],t.mPastMiningData=[],t.mUIRefreshTime=0,t}t(e,i);var s=e.prototype;return s._addEvents=function(){i.prototype._addEvents.call(this),a.on(r.EventType.KEY_DOWN,this._onKeyDown,this),u.on(c.MINING_LIST_INIT,this._onMiningListInit,this),u.on(c.MINING_LOG_DATA_CHANGED,this._onMiningLogDataChanged,this)},s._removeEvents=function(){i.prototype._removeEvents.call(this),a.off(r.EventType.KEY_DOWN,this._onKeyDown,this),u.off(c.MINING_LIST_INIT,this._onMiningListInit,this),u.off(c.MINING_LOG_DATA_CHANGED,this._onMiningLogDataChanged,this)},s._onKeyDown=function(i){switch(i.keyCode){case o.ESCAPE:this._onCloseClick()}},s._onMiningListInit=function(i){if(this._view){if(this.mCurMiningData=[],this.mPastMiningData=[],i.num>0){for(var t=0;t<i.info.length;t++)2===i.info[t].StartState?this.mPastMiningData.push(i.info[t]):this.mCurMiningData.push(i.info[t]);this.mCurMiningData.sort((function(i,t){return i.MiningID-t.MiningID})),this.mPastMiningData.sort((function(i,t){return t.MiningID-i.MiningID}))}this._showData()}},s._onMiningLogDataChanged=function(){if(this._view){this._curTabType===d.Past&&this._refreshPastMiningList();var i=this.isShowRedTip();this._view.setBtnRedPoint(this._view.tab2Btn,i),u.emit(c.MINING_REFRESH_RED_TIP,i)}},s.onLoad=function(){e._instance=this,this._startLoadPkg(this.mFguiPkgName)},s.onDestroy=function(){i.prototype.onDestroy.call(this),e._instance=null},s.closeUI=function(){i.prototype.closeUI.call(this)},s.update=function(i){null!==this._view&&(this.mUIRefreshTime>=60&&(this.mUIRefreshTime=0,_.getMiningList()),this.mUIRefreshTime+=i)},s._onLoadUIFinish=function(){i.prototype._onLoadUIFinish.call(this),this._view=h.createObject(this.mFguiPkgName,this.mFguiMainViewName).asCom,this._addUIToRoot(this._view),this._view.makeFullScreen(),this._view.tabCtrl.onChanged(this._onTabChanged,this),this._view.closeBtn.onClick(this._onCloseClick,this),this._view.currentList.itemRenderer=this._renderCurrentMiningListItem.bind(this),this._view.currentList.setVirtual(),this._view.pastList.itemRenderer=this._renderPastMiningListItem.bind(this),this._view.pastList.setVirtual(),this._initData()},s._onTabChanged=function(){0===this._view.tabCtrl.selectedIndex?this._curTabType=d.Current:1===this._view.tabCtrl.selectedIndex&&(this._curTabType=d.Past),this._showData(),l.PlaySound_UICommonClick()},s._onCloseClick=function(){l.PlaySound_UICommonClose(),u.emit(c.UI_MINING_LIST_CLOSE)},s._initData=function(){this.mUIRefreshTime=0,this._view.tabCtrl.setSelectedIndex(this._curTabType),this._view.isNoneCtrl.selectedIndex=2,_.getMiningList()},s._showData=function(){switch(this._curTabType){case d.Current:this._refreshCurrentMiningList();break;case d.Past:this._refreshPastMiningList()}this._refreshTabRedPoint()},s._refreshTabRedPoint=function(){var i=this.isShowRedTip();this._view.setBtnRedPoint(this._view.tab2Btn,i)},s._refreshCurrentMiningList=function(i){void 0===i&&(i=!0);var t=this.mCurMiningData.length;this._view.isNoneCtrl.selectedIndex=t<=0?1:0,this._view.currentList.numItems!==t?this._view.currentList.numItems=t:this._view.currentList.refreshVirtualList(),t>0&&i&&this._view.currentList.scrollToView(0)},s._renderCurrentMiningListItem=function(i,t){i>=this.mCurMiningData.length||t.setMiningData(this.mCurMiningData[i])},s._refreshPastMiningList=function(i){void 0===i&&(i=!0);var t=this.mPastMiningData.length;this._view.isNoneCtrl.selectedIndex=t<=0?1:0,this._view.pastList.numItems!==t?this._view.pastList.numItems=t:this._view.pastList.refreshVirtualList(),t>0&&i&&this._view.pastList.scrollToView(0)},s._renderPastMiningListItem=function(i,t){i>=this.mPastMiningData.length||t.setMiningData(this.mPastMiningData[i])},s.isShowRedTip=function(){for(var i=!1,t=0;t<this.mPastMiningData.length;t++){var n=m.instance.getMiningLogDataByID(this.mPastMiningData[t].MiningID);if(n&&1===n.miningState){i=!0;break}}return i},n(e,null,[{key:"instance",get:function(){return this._instance}}]),e}(g)).CTRL_NAME="UIMiningListController",I._instance=null,f=I))||f);e._RF.pop()}}}));

System.register("chunks:///_virtual/ui.mining.list.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){"use strict";var i,n,s,e;return{setters:[function(t){i=t.inheritsLoose},function(t){n=t.cclegacy,s=t._decorator},function(t){e=t.GComponent}],execute:function(){var o,r;n._RF.push({},"5801cNfMv1DNKaEeHS2NObi","ui.mining.list.view",void 0);var u=s.ccclass;t("default",u("UIMiningListView")(((r=function(t){function n(){var i;return(i=t.call(this)||this).tabCtrl=void 0,i.isNoneCtrl=void 0,i.closeBtn=void 0,i.tab1Btn=void 0,i.tab2Btn=void 0,i.currentList=void 0,i.pastList=void 0,i}i(n,t);var s=n.prototype;return s.onConstruct=function(){this.tabCtrl=this.getController("Tab"),this.isNoneCtrl=this.getController("IsNone"),this.closeBtn=this.getChild("ui_WindClose"),this.tab1Btn=this.getChild("ui_Tab1"),this.tab2Btn=this.getChild("ui_Tab2"),this.currentList=this.getChild("ui_MiningList_Current"),this.pastList=this.getChild("ui_MiningList_Past")},s.setBtnRedPoint=function(t,i){var n=t.getChild("UI_TipSp");n&&(n.visible=i)},n}(e)).URL="ui://MiningList/Main",o=r))||o);n._RF.pop()}}}));

System.register("chunks:///_virtual/ui.mining.past.item.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./tonweb.mjs_cjs=&original=.js","./table.helper.ts","./model.mining.manager.ts","./net.helper.ts","./sound.helper.ts","./time.system.ts","./logic.tool.ts","./tonweb.js"],(function(t){"use strict";var i,n,e,a,o,s,l,u,r,h,m;return{setters:[function(t){i=t.inheritsLoose},function(t){n=t.cclegacy,e=t._decorator},function(t){a=t.GButton},null,function(t){o=t.TableHelper},function(t){s=t.ModelMiningManager},function(t){l=t.NetHelper},function(t){u=t.SoundHelper},function(t){r=t.TimeSystem},function(t){h=t.LogicTool},function(t){m=t.default}],execute:function(){var c,g;n._RF.push({},"eee35z9fVtA9pGTnOvAqpFd","ui.mining.past.item.view",void 0);var C=e.ccclass;t("default",C("UIMiningPastItemView")(((g=function(t){function n(){var i;return(i=t.call(this)||this).miningTitle=void 0,i.startTime=void 0,i.totalCoinValue=void 0,i.participantCount=void 0,i.selfCoinValue=void 0,i.claimBtn=void 0,i.mCurShowData=void 0,i}i(n,t);var e=n.prototype;return e.onConstruct=function(){this.miningTitle=this.getChild("ui_PhaseValue"),this.startTime=this.getChild("ui_StartTimeValue"),this.totalCoinValue=this.getChild("ui_TotalValue"),this.participantCount=this.getChild("ui_ParticipantsValue"),this.selfCoinValue=this.getChild("ui_ObtainedValue"),this.claimBtn=this.getChild("ui_BtnClaim"),this.claimBtn.onClick(this._onMiningClaimClick,this)},e._onMiningClaimClick=function(){u.PlaySound_UICommonClick(),null!=this.mCurShowData&&l.withdrawMiningCoin(this.mCurShowData.MiningID)},e.setMiningData=function(t){if(null!=t){this.mCurShowData=t,this.miningTitle.text=h.i18nFormat(o.getI18nUIText("u.12121"),[this.mCurShowData.MiningName]),this.startTime.text=r.formatDateString(this.mCurShowData.StartTime);var i=this.mCurShowData.BaseAmount+this.mCurShowData.AppendAmount+this.mCurShowData.AdditionAmount;this.totalCoinValue.text=i.toString(),this.participantCount.text=this.mCurShowData.NetworkMinerNum.toString();var n=s.instance.getMiningLogDataByID(this.mCurShowData.MiningID);!n||1!==n.miningState&&2!==n.miningState?(this.selfCoinValue.text="-",this.claimBtn.visible=!1):(this.selfCoinValue.text=m.utils.fromNano(n.miningData.CoinAmount),this.claimBtn.visible=!0,1===n.miningState?this._setClaimBtnState(0):this._setClaimBtnState(1))}},e._setClaimBtnState=function(t){var i=this.claimBtn.getController("IsFinished");i&&(i.selectedIndex=t);var n=this.claimBtn.getChild("UI_TipSp");n&&(n.visible=0===t),this.claimBtn.touchable=0===t},n}(a)).URL="ui://MiningList/listbar_pastmining",c=g))||c);n._RF.pop()}}}));

System.register("chunks:///_virtual/ui.mining.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(i){"use strict";var t,n,e,s;return{setters:[function(i){t=i.inheritsLoose},function(i){n=i.cclegacy,e=i._decorator},function(i){s=i.GComponent}],execute:function(){var l,o;n._RF.push({},"ea710HF+ytEJIi6gyceA52R","ui.mining.view",void 0);var h=e.ccclass;i("default",h("UIMiningView")(((o=function(i){function n(){var t;return(t=i.call(this)||this).miningStateCtrl=void 0,t.isSignUpCtrl=void 0,t.coinAnimTrans=void 0,t.signUpWind=void 0,t.bgMask=void 0,t.closeBtn=void 0,t.workerIcon=void 0,t.coinAnimView=void 0,t.participantProgress=void 0,t.poolCoinValue=void 0,t.poolProsperitiy=void 0,t.participantCount=void 0,t.curMiningTime=void 0,t.ruleText=void 0,t.ruleTextBG=void 0,t.selfProsperitiy=void 0,t.selfEfficiency=void 0,t.selfCoinValue=void 0,t.signUpBtn=void 0,t.signUpForWizzBtn=void 0,t.claimBtn=void 0,t}t(n,i);var e=n.prototype;return e.onConstruct=function(){this.bgMask=this.getChild("BgMask"),this.signUpWind=this.getChild("ui_SignUpWind"),this.miningStateCtrl=this.signUpWind.getController("IsMiningBegin"),this.isSignUpCtrl=this.signUpWind.getController("IsMeMining"),this.closeBtn=this.signUpWind.getChild("ui_WindClose"),this.workerIcon=this.signUpWind.getChild("ui_WorkerIcon"),this.coinAnimView=this.signUpWind.getChild("ui_CoinAni"),this.coinAnimTrans=this.coinAnimView.getTransition("ui_ani_wizz"),this.participantProgress=this.signUpWind.getChild("ui_ProgressParticipants"),this.poolCoinValue=this.signUpWind.getChild("ui_CoinValue"),this.poolProsperitiy=this.signUpWind.getChild("ui_Value2"),this.participantCount=this.signUpWind.getChild("ui_Value3"),this.curMiningTime=this.signUpWind.getChild("ui_StateLabel"),this.ruleText=this.signUpWind.getChild("ui_RuleLabel"),this.ruleTextBG=this.signUpWind.getChild("ui_RuleBg"),this.selfProsperitiy=this.signUpWind.getChild("ui_SelfProperityValue"),this.selfEfficiency=this.signUpWind.getChild("ui_SelfEfficiencyValue"),this.selfCoinValue=this.signUpWind.getChild("ui_SelfCoinValue"),this.signUpBtn=this.signUpWind.getChild("ui_BtnPut"),this.signUpForWizzBtn=this.signUpWind.getChild("ui_BtnPut2"),this.claimBtn=this.signUpWind.getChild("ui_BtnClaim")},e.setSignUpBtnState=function(i){this.signUpBtn.visible=!0;var t=this.signUpBtn.getController("IsFinished");t&&(t.selectedIndex=i),this.signUpBtn.touchable=0===i||1===i||4===i},e.setClaimBtnState=function(i){var t=this.claimBtn.getController("IsFinished");t&&(t.selectedIndex=i);var n=this.claimBtn.getChild("UI_TipSp");n&&(n.visible=0===i),this.claimBtn.touchable=0===i||3===i},e.setClaimBtnText=function(i){var t=this.claimBtn.getController("IsFinished");if(t){var n=null;0===t.selectedIndex?n=this.claimBtn.getChild("title"):1===t.selectedIndex?n=this.claimBtn.getChild("title2"):3===t.selectedIndex&&(n=this.claimBtn.getChild("title3")),n&&(n.text=i)}},e.setBtnRedPoint=function(i,t){var n=i.getChild("UI_TipSp");n&&(n.visible=t)},n}(s)).URL="ui://Mining/Main",l=o))||l);n._RF.pop()}}}));

System.register("chunks:///_virtual/ui.monthly.card.controller.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./event.dispatcher.ts","./event.name.ts","./sound.helper.ts","./ui.base.controller.ts","./net.helper.ts","./ui.float.text.controller.ts","./table.helper.ts","./model.charge.define.ts","./model.charge.manager.ts","./resource.path.tool.ts","./logic.tool.ts","./time.system.ts"],(function(e){"use strict";var t,n,i,r,a,o,s,l,h,u,c,C,_,d,m,f,w,y,p,v,g,D,M,I;return{setters:[function(e){t=e.inheritsLoose,n=e.createClass,i=e.asyncToGenerator,r=e.regeneratorRuntime},function(e){a=e.cclegacy,o=e._decorator,s=e.input,l=e.Input,h=e.KeyCode,u=e.macro},function(e){c=e.UIPackage},function(e){C=e.EventDispatcher},function(e){_=e.EventName},function(e){d=e.SoundHelper},function(e){m=e.UIBaseController},function(e){f=e.NetHelper},function(e){w=e.UIFloatTextController},function(e){y=e.TableHelper},function(e){p=e.EChargeType,v=e.EMonthlyCardType},function(e){g=e.ModelChargeManager},function(e){D=e.ResourcePathTool},function(e){M=e.LogicTool},function(e){I=e.TimeSystem}],execute:function(){var R,E;a._RF.push({},"48e73VqSFFP7pB4y4iHv7Ng","ui.monthly.card.controller",void 0);var P=o.ccclass;e("UIMonthlyCardController",P("UIMonthlyCardController")(((E=function(e){function a(){for(var t,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))||this).mFguiPkgName="MonthlyCard",t.mFguiMainViewName="Main",t._view=null,t.mChargeVersion=0,t.mDeluxeMonthlyCard=null,t.mPremiumMonthlyCard=null,t.mCurRenewalCardID=0,t}t(a,e);var o=a.prototype;return o._addEvents=function(){e.prototype._addEvents.call(this),s.on(l.EventType.KEY_DOWN,this._onKeyDown,this),C.on(_.CHARGE_GET_LIST,this._onGetChargeList,this),C.on(_.CHARGE_PURCHASE_GET_ORDER,this._onChargeGetOrder,this),C.on(_.CHARGE_PURCHASE_FINISH,this._onChargeFinish,this),C.on(_.MONTHLY_CARD_DATA_CHANGED,this._onMonthlyCardDataCharged,this),C.on(_.UI_MONTHLY_CARD_RENEWAL_OPEN,this._onUIMonthlyCardRenewalOpen,this)},o._removeEvents=function(){e.prototype._removeEvents.call(this),s.off(l.EventType.KEY_DOWN,this._onKeyDown,this),C.off(_.CHARGE_GET_LIST,this._onGetChargeList,this),C.off(_.CHARGE_PURCHASE_GET_ORDER,this._onChargeGetOrder,this),C.off(_.CHARGE_PURCHASE_FINISH,this._onChargeFinish,this),C.off(_.MONTHLY_CARD_DATA_CHANGED,this._onMonthlyCardDataCharged,this),C.off(_.UI_MONTHLY_CARD_RENEWAL_OPEN,this._onUIMonthlyCardRenewalOpen,this)},o._onKeyDown=function(e){switch(e.keyCode){case h.ESCAPE:this._onCloseClick()}},o._onGetChargeList=function(e){if(null!=this._view){this.mChargeVersion=e.purchaseVer;for(var t=0;t<e.info.length;t++){var n=y.getPurchase(e.info[t].id);n&&n.type===p.MonthlyCard_Premium?this.mPremiumMonthlyCard=e.info[t]:n&&n.type===p.MonthlyCard_Deluxe&&(this.mDeluxeMonthlyCard=e.info[t])}this._refreshMonthlyCardView()}},o._onChargeGetOrder=function(e){if(null!=this._view)switch(e.result){case 1:w.AddTipI18nID_Success("u.2547");break;case 2:w.AddTipI18nID_Failed("u.2548"),f.getPurchaseProductList();break;default:console.log("errorcode: ",e.result),w.AddTipI18nID_Failed("u.2549")}},o._onChargeFinish=function(){null!=this._view&&(w.AddTipI18nID_Success("u.2550"),C.emit(_.UI_CHARGE_CLOSE))},o._onMonthlyCardDataCharged=function(e){null!=this._view&&(e?e===v.MonthlyCard_Deluxe?this._view.deluxeCardView.refreshMonthlyCardData():e===v.MonthlyCard_Premium&&this._view.premiumCardView.refreshMonthlyCardData():this._refreshMonthlyCardView())},o._onUIMonthlyCardRenewalOpen=function(e){null!=this._view&&this._openRenewalView(e)},o.onLoad=function(){a._instance=this,this._startLoadPkg(this.mFguiPkgName)},o.onDestroy=function(){e.prototype.onDestroy.call(this),a._instance=null},o.closeUI=function(){e.prototype.closeUI.call(this)},o.update=function(){this._view},o._onLoadUIFinish=function(){e.prototype._onLoadUIFinish.call(this),this._view=c.createObject(this.mFguiPkgName,this.mFguiMainViewName).asCom,this._addUIToRoot(this._view),this._view.makeFullScreen(),this._view.closeBtn.onClick(this._onCloseClick,this),this._view.renewalMaskBg.onClick(this._onRenewalCloseClick,this),this._view.renewalCloseBtn.onClick(this._onRenewalCloseClick,this),this._view.renewalBtn.onClick(this._onRenewalClick,this),this._initData()},o._initData=function(){var e=i(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._refreshMonthlyCardView(),this._requestData(),this.schedule((function(){f.getPurchaseProductList()}),500,u.REPEAT_FOREVER,500);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),o._requestData=function(){f.getPurchaseProductList()},o._onCloseClick=function(){var e=i(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:d.PlaySound_UICommonClose(),C.emit(_.UI_MONTHLY_CARD_CLOSE);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),o._onRenewalCloseClick=function(){var e=i(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:d.PlaySound_UICommonClose(),this._closeRenewalView();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),o._onRenewalClick=function(){var e=i(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d.PlaySound_UICommonClick(),this.mCurRenewalCardID!==v.MonthlyCard_Deluxe){e.next=8;break}if(!(null==this.mDeluxeMonthlyCard||this.mChargeVersion<=0)){e.next=4;break}return e.abrupt("return");case 4:C.emit(_.UI_DETAILS_SHOW_CHARGE,this.mDeluxeMonthlyCard,this.mChargeVersion),this._closeRenewalView(),e.next=13;break;case 8:if(this.mCurRenewalCardID!==v.MonthlyCard_Premium){e.next=13;break}if(!(null==this.mPremiumMonthlyCard||this.mChargeVersion<=0)){e.next=11;break}return e.abrupt("return");case 11:C.emit(_.UI_DETAILS_SHOW_CHARGE,this.mPremiumMonthlyCard,this.mChargeVersion),this._closeRenewalView();case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),o._refreshMonthlyCardView=function(){this._view.deluxeCardView.setMonthlyCardData(v.MonthlyCard_Deluxe,this.mDeluxeMonthlyCard,this.mChargeVersion),this._view.premiumCardView.setMonthlyCardData(v.MonthlyCard_Premium,this.mPremiumMonthlyCard,this.mChargeVersion)},o._openRenewalView=function(e){this.mCurRenewalCardID=e,this._view.renewalView.visible=!0;var t=0;this.mCurRenewalCardID===v.MonthlyCard_Deluxe?t=g.instance.DeluxeMonthlyCardChargeID:this.mCurRenewalCardID===v.MonthlyCard_Premium&&(t=g.instance.PremiumMonthlyCardChargeID);var n=y.getPurchase(t);if(n){this._view.renewalCardIcon.url=D.getUIFarmItemPath(n.icon),this._view.renewalCardName.text=n.name;var i=this._view.renewalCardName.width/2+60;i<180&&(i=180),this._view.renewalCardNameBg.width=i;var r=g.instance.getMonthlyCardData(this.mCurRenewalCardID);if(r){var a=Math.ceil((r.expirationTime-I.instance.getTimestamp())/86400);this._view.renewalCardDesc.text=M.i18nFormat(y.getI18nUIText("u.12407"),[n.name,a.toString()])}else this._view.renewalCardDesc.text=""}},o._closeRenewalView=function(){this.mCurRenewalCardID=0,this._view.renewalView.visible=!1},n(a,null,[{key:"instance",get:function(){return this._instance}}]),a}(m)).CTRL_NAME="UIMonthlyCardController",E._instance=null,R=E))||R);a._RF.pop()}}}));

System.register("chunks:///_virtual/ui.monthly.card.item.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./event.dispatcher.ts","./event.name.ts","./table.helper.ts","./model.charge.define.ts","./model.charge.manager.ts","./net.helper.ts","./sound.helper.ts","./time.system.ts","./resource.path.tool.ts","./ui.monthly.card.reward.item.view.ts"],(function(t){"use strict";var e,i,r,n,a,s,h,o,l,c,u,d,C,m,g,f;return{setters:[function(t){e=t.inheritsLoose,i=t.asyncToGenerator,r=t.regeneratorRuntime},function(t){n=t.cclegacy,a=t._decorator},function(t){s=t.GButton},function(t){h=t.EventDispatcher},function(t){o=t.EventName},function(t){l=t.TableHelper},function(t){c=t.EMonthlyCardType},function(t){u=t.ModelChargeManager},function(t){d=t.NetHelper},function(t){C=t.SoundHelper},function(t){m=t.TimeSystem},function(t){g=t.ResourcePathTool},function(t){f=t.default}],execute:function(){var v,p;n._RF.push({},"9517bCVk9hJKK24mNW431iA","ui.monthly.card.item.view",void 0);var y=a.ccclass;t("default",y("UIMonthlyCardItemView")(((p=function(t){function n(){var e;return(e=t.call(this)||this).isActiveCtrl=void 0,e.cardIcon=void 0,e.coinValue=void 0,e.privilegeValue=void 0,e.rewardList=void 0,e.chargeBtn=void 0,e.claimBtn=void 0,e.renewalBtn=void 0,e.mMonthlyCardID=0,e.mChargeData=null,e.mChargeVersion=0,e}e(n,t);var a=n.prototype;return a.onConstruct=function(){this.isActiveCtrl=this.getController("IsActive"),this.cardIcon=this.getChild("ui_MonthlyCardIcon"),this.coinValue=this.getChild("ui_RewardsValue"),this.privilegeValue=this.getChild("ui_PrivilegeValue"),this.rewardList=this.getChild("ui_DailyRewardsList"),this.chargeBtn=this.getChild("ui_BtnBuy"),this.claimBtn=this.getChild("ui_BtnClaim"),this.renewalBtn=this.getChild("ui_BtnRenewal"),this.chargeBtn.onClick(this._onChargeClick,this),this.claimBtn.onClick(this._onClaimClick,this),this.renewalBtn.onClick(this._onRenewalClick,this)},a._onChargeClick=function(){var t=i(r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(C.PlaySound_UICommonClick(),!(null==this.mChargeData||this.mChargeVersion<=0)){t.next=3;break}return t.abrupt("return");case 3:h.emit(o.UI_DETAILS_SHOW_CHARGE,this.mChargeData,this.mChargeVersion);case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),a._onClaimClick=function(){var t=i(r().mark((function t(){var e;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:C.PlaySound_UICommonClick(),(e=u.instance.getMonthlyCardData(this.mMonthlyCardID))&&0===e.awardState&&d.getMonthlyCardAward(e.id);case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),a._onRenewalClick=function(){var t=i(r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:C.PlaySound_UICommonClick(),h.emit(o.UI_MONTHLY_CARD_RENEWAL_OPEN,this.mMonthlyCardID);case 2:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),a.setMonthlyCardData=function(t,e,i){this.mMonthlyCardID=t,this.mChargeData=e,this.mChargeVersion=i,this._refreshChargeData(),this._refreshPrivilegeData(),this._refreshRewardItemList(),this.refreshMonthlyCardData()},a.refreshMonthlyCardData=function(){var t=u.instance.getMonthlyCardData(this.mMonthlyCardID);if(t){this.isActiveCtrl.selectedIndex=1;var e=Math.ceil((t.expirationTime-m.instance.getTimestamp())/86400);this.renewalBtn.text=e+" "+l.getI18nUIText("u.11309"),0===t.awardState?this._setClaimBtnDone(!1):this._setClaimBtnDone(!0)}else this.isActiveCtrl.selectedIndex=0},a._refreshChargeData=function(){var t=0;this.mMonthlyCardID===c.MonthlyCard_Deluxe?t=u.instance.DeluxeMonthlyCardChargeID:this.mMonthlyCardID===c.MonthlyCard_Premium&&(t=u.instance.PremiumMonthlyCardChargeID);var e=l.getPurchase(t);e&&(this.cardIcon.url=g.getUIFarmItemPath(e.icon),this.mChargeData?(this.coinValue.text="x"+this.mChargeData.goldNum,this.chargeBtn.text="$"+this.mChargeData.usd_price):(this.coinValue.text="x"+e.goldCount,this.chargeBtn.text="$"+e.usd_price))},a._refreshPrivilegeData=function(){var t=0,e=l.getMonthlyCard(this.mMonthlyCardID);if(e)for(var i=e.privilege.split(";"),r=0;r<i.length;r++){var n=i[r].split("-");if(2===n.length&&1===Number.parseInt(n[0])){t=Number.parseInt(n[1]);break}}this.privilegeValue.text="+"+t+"%"},a._refreshRewardItemList=function(){this.rewardList.removeChildrenToPool();var t=l.getMonthlyCard(this.mMonthlyCardID);if(t)for(var e=t.reward.split(";"),i=0;i<e.length;i++){var r=e[i].split("-");if(r.length<2)return;var n=Number.parseInt(r[0]),a=Number.parseInt(r[1]);this.rewardList.addItemFromPool(f.URL).setRewardData(n,a)}},a._setClaimBtnDone=function(t){var e=this.claimBtn.getController("IsClaimed");e&&(e.selectedIndex=t?1:0);var i=this.claimBtn.getChild("UI_TipSp");i&&(i.visible=!t),this.claimBtn.touchable=!t},n}(s)).URL="ui://MonthlyCard/MonthlyCardItem",v=p))||v);n._RF.pop()}}}));

System.register("chunks:///_virtual/ui.monthly.card.reward.item.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./table.helper.ts","./resource.path.tool.ts"],(function(t){"use strict";var e,r,o,i,n,a;return{setters:[function(t){e=t.inheritsLoose},function(t){r=t.cclegacy,o=t._decorator},function(t){i=t.GButton},function(t){n=t.TableHelper},function(t){a=t.ResourcePathTool}],execute:function(){var c,u;r._RF.push({},"8f77cvtA3RMU4wllormZ/cz","ui.monthly.card.reward.item.view",void 0);var s=o.ccclass;t("default",s("UIMonthlyCardRewardItemView")(((u=function(t){function r(){var e;return(e=t.call(this)||this).rewardIcon=void 0,e.rewardNum=void 0,e}e(r,t);var o=r.prototype;return o.onConstruct=function(){this.rewardIcon=this.getChild("ui_ResIcon"),this.rewardNum=this.getChild("ui_Amount")},o.setRewardData=function(t,e){var r=n.getItemRecord(t);r&&(this.rewardIcon.url=a.getUIFarmItemPath(r.itemIcon)),this.rewardNum.text="x"+e},r}(i)).URL="ui://MonthlyCard/dailyrewards",c=u))||c);r._RF.pop()}}}));

System.register("chunks:///_virtual/ui.monthly.card.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(e){"use strict";var i,n,t,r;return{setters:[function(e){i=e.inheritsLoose},function(e){n=e.cclegacy,t=e._decorator},function(e){r=e.GComponent}],execute:function(){var a,d;n._RF.push({},"cb4b7W0GiNKpZuqLdP2nEL3","ui.monthly.card.view",void 0);var l=t.ccclass;e("default",l("UIMonthlyCardView")(((d=function(e){function n(){var i;return(i=e.call(this)||this).closeBtn=void 0,i.cardView=void 0,i.deluxeCardView=void 0,i.premiumCardView=void 0,i.renewalView=void 0,i.renewalMaskBg=void 0,i.renewalWind=void 0,i.renewalCloseBtn=void 0,i.renewalCardIcon=void 0,i.renewalCardName=void 0,i.renewalCardNameBg=void 0,i.renewalCardDesc=void 0,i.renewalBtn=void 0,i}return i(n,e),n.prototype.onConstruct=function(){this.closeBtn=this.getChild("ui_WindClose"),this.cardView=this.getChild("ui_CardList"),this.deluxeCardView=this.cardView.getChild("ui_Card_Deluxe"),this.premiumCardView=this.cardView.getChild("ui_Card_Premium"),this.renewalView=this.getChild("ui_WindRemewal"),this.renewalMaskBg=this.renewalView.getChild("BgMask"),this.renewalWind=this.renewalView.getChild("ui_RenewalWind"),this.renewalCloseBtn=this.renewalWind.getChild("ui_WindClose"),this.renewalCardIcon=this.renewalWind.getChild("ui_MonthlyCardIcon"),this.renewalCardName=this.renewalWind.getChild("ui_Name"),this.renewalCardNameBg=this.renewalWind.getChild("ui_NameSp"),this.renewalCardDesc=this.renewalWind.getChild("ui_TipLabel"),this.renewalBtn=this.renewalWind.getChild("ui_BtnConfirm")},n}(r)).URL="ui://MonthlyCard/Main",a=d))||a);n._RF.pop()}}}));

System.register("chunks:///_virtual/ui.open.function.controller.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./event.dispatcher.ts","./event.name.ts","./resource.manager.ts","./table.helper.ts","./sound.helper.ts","./resource.path.tool.ts","./ui.base.controller.ts","./enum.open.function.type.ts"],(function(e){"use strict";var t,i,n,o,s,a,c,r,l,u,h,m,v,_,w,p,I,d,f,D,g;return{setters:[function(e){t=e.inheritsLoose,i=e.createClass,n=e.asyncToGenerator,o=e.regeneratorRuntime},function(e){s=e.cclegacy,a=e._decorator,c=e.input,r=e.Input,l=e.KeyCode,u=e.isValid,h=e.sp,m=e.v2},function(e){v=e.UIPackage},function(e){_=e.EventDispatcher},function(e){w=e.EventName},function(e){p=e.ResourceManager},function(e){I=e.TableHelper},function(e){d=e.SoundHelper},function(e){f=e.ResourcePathTool},function(e){D=e.UIBaseController},function(e){g=e.EOpenFunctionType}],execute:function(){var C,y;s._RF.push({},"6f3a2gEhaVN1L03OuipSA6d","ui.open.function.controller",void 0);var k=a.ccclass;e("UIOpenFunctionController",k("UIOpenFunctionController")(((y=function(e){function s(){for(var t,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))||this).mFguiPkgName="OpenFunction",t.mFguiMainViewName="Main",t._view=null,t.mItemData=new Array,t.mCurShowIndex=0,t}t(s,e);var a=s.prototype;return a.setData=function(e){this.mItemData=e,this.mCurShowIndex=e.length},a._addEvents=function(){e.prototype._addEvents.call(this),c.on(r.EventType.KEY_DOWN,this._onKeyDown,this)},a._removeEvents=function(){e.prototype._removeEvents.call(this),c.off(r.EventType.KEY_DOWN,this._onKeyDown,this)},a._onKeyDown=function(e){switch(e.keyCode){case l.ESCAPE:this._onCloseClick()}},a.onLoad=function(){s._instance=this,this._startLoadPkg(this.mFguiPkgName)},a.onDestroy=function(){e.prototype.onDestroy.call(this),s._instance=null},a.closeUI=function(){e.prototype.closeUI.call(this)},a._onLoadUIFinish=function(){e.prototype._onLoadUIFinish.call(this),this._view=v.createObject(this.mFguiPkgName,this.mFguiMainViewName).asCom,this._addUIToRoot(this._view),this._view.makeFullScreen(),this._view.continueBtn.onClick(this._onCloseClick,this),this._initData()},a._onCloseClick=function(){var e=n(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:d.PlaySound_UICommonClose(),this.mCurShowIndex--,0===this.mCurShowIndex?_.emit(w.UI_OPEN_FUNCTION_CLOSE):this._initData();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),a._initData=function(){if(!(this.mItemData.length<=0||this.mCurShowIndex<=0)){var e=this.mItemData[this.mCurShowIndex-1],t=e[0],i=e[1];switch(t){case g.ScreamingChicken:this._view.itemIcon.visible=!1,this._view.itemIcon3D.visible=!0,this._view.explorationView.visible=!1;var n=I.getFarmResRecord(i);n&&this._loadModelShow(n.resName),this._view.itemDesc.text=I.getI18nUIText("u.11900");break;case g.Exploration:this._view.itemIcon.visible=!1,this._view.itemIcon3D.visible=!1,this._view.explorationView.visible=!0,this._view.explorationView.loadModelShow(),this._view.itemDesc.text=I.getI18nUIText("u.11904");break;case g.Lvl2Room:this._view.itemIcon.visible=!0,this._view.itemIcon3D.visible=!1,this._view.explorationView.visible=!1;var o=I.getFarmResRecord(i);o&&(this._view.itemIcon.url=f.getUIFarmItemPath(o.icon)),this._view.itemDesc.text=I.getI18nUIText("u.11901");break;case g.Lvl3Room:this._view.itemIcon.visible=!0,this._view.itemIcon3D.visible=!1,this._view.explorationView.visible=!1;var s=I.getFarmResRecord(i);s&&(this._view.itemIcon.url=f.getUIFarmItemPath(s.icon)),this._view.itemDesc.text=I.getI18nUIText("u.11902")}}},a._loadModelShow=function(e){var t=this;p.instance.loadFarmRes(e,(function(e){if(u(t.node)){var i=e.data,n=null==i?void 0:i.getComponentInChildren(h.Skeleton);i&&(t._view.itemIcon3D&&t._view.itemIcon3D.node&&t._view.itemIcon3D.node.scale&&t._view.itemIcon3D.setScale(2,2),t._view.itemIcon3D.clearContent(),t._view.itemIcon3D.skinName=n.defaultSkin,t._view.itemIcon3D.loop=!0,t._view.itemIcon3D.animationName="idle",t._view.itemIcon3D.setSpine(n.skeletonData,m(35,55)))}}))},i(s,null,[{key:"instance",get:function(){return this._instance}}]),s}(D)).CTRL_NAME="UIOpenFunctionController",y._instance=null,C=y))||C);s._RF.pop()}}}));

System.register("chunks:///_virtual/ui.open.function.exploration.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./resource.manager.ts"],(function(o){"use strict";var n,e,t,r,a,c,i,s;return{setters:[function(o){n=o.inheritsLoose},function(o){e=o.cclegacy,t=o._decorator,r=o.isValid,a=o.v2,c=o.sp},function(o){i=o.GComponent},function(o){s=o.ResourceManager}],execute:function(){var l,d;e._RF.push({},"15c1acztHlDbISb3VxrnS69","ui.open.function.exploration.view",void 0);var u=t.ccclass;o("default",u("UIOpenFunctionExplorationView")(((d=function(o){function e(){var n;return(n=o.call(this)||this).workerIcon1=void 0,n.workerIcon2=void 0,n.monsterIcon=void 0,n}n(e,o);var t=e.prototype;return t.onConstruct=function(){this.workerIcon1=this.getChild("ui_WorkerIcon"),this.workerIcon2=this.getChild("ui_WorkerIcon2"),this.monsterIcon=this.getChild("ui_MonsterIcon")},t.loadModelShow=function(){this._loadModelShow1("MaxSpell/MaxSpell","attack"),this._loadModelShow2("ShadowPaws/ShadowPaws","attack"),this._loadModelShow3("monster","death")},t._loadModelShow1=function(o,n){var e=this;s.instance.loadAvatarSkeletonData(o).then((function(o){r(e.node)&&(e.workerIcon1&&e.workerIcon1.node&&e.workerIcon1.node.scale&&e.workerIcon1.setScale(2.2,2.2),e.workerIcon1.clearContent(),e.workerIcon1.skinName=o.defaultSkin,e.workerIcon1.animationName=n,e.workerIcon1.loop=!0,e.workerIcon1.setSpine(o.skeletonData,a(16,26)))}))},t._loadModelShow2=function(o,n){var e=this;s.instance.loadAvatarSkeletonData(o).then((function(o){r(e.node)&&(e.workerIcon2&&e.workerIcon2.node&&e.workerIcon2.node.scale&&e.workerIcon2.setScale(-2.2,2.2),e.workerIcon2.clearContent(),e.workerIcon2.skinName=o.defaultSkin,e.workerIcon2.animationName=n,e.workerIcon2.loop=!0,e.workerIcon2.setSpine(o.skeletonData,a(16,26)))}))},t._loadModelShow3=function(o,n){var e=this;s.instance.loadFarmRes(o,(function(o){if(r(e.node)){var t=o.data,i=null==t?void 0:t.getComponentInChildren(c.Skeleton);t&&(e.monsterIcon&&e.monsterIcon.node&&e.monsterIcon.node.scale&&e.monsterIcon.setScale(2.2,2.2),e.monsterIcon.clearContent(),e.monsterIcon.skinName=i.defaultSkin,e.monsterIcon.loop=!0,e.monsterIcon.animationName=n,e.monsterIcon.setSpine(i.skeletonData,a(16,26)))}}))},e}(i)).URL="ui://OpenFunction/Function_Exploration",l=d))||l);e._RF.pop()}}}));

System.register("chunks:///_virtual/ui.open.function.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(i){"use strict";var t,n,o,e;return{setters:[function(i){t=i.inheritsLoose},function(i){n=i.cclegacy,o=i._decorator},function(i){e=i.GComponent}],execute:function(){var c,s;n._RF.push({},"c3ccfc/9phPAKbnZPsinxoG","ui.open.function.view",void 0);var u=o.ccclass;i("default",u("UIOpenFunctionView")(((s=function(i){function n(){var t;return(t=i.call(this)||this).maskBg=void 0,t.itemIcon=void 0,t.itemIcon3D=void 0,t.explorationView=void 0,t.itemDesc=void 0,t.continueBtn=void 0,t}return t(n,i),n.prototype.onConstruct=function(){this.maskBg=this.getChild("bgMask"),this.itemIcon=this.getChild("ui_Icon"),this.itemIcon3D=this.getChild("ui_Icon2"),this.explorationView=this.getChild("ui_Function_Exploration"),this.itemDesc=this.getChild("ui_Desc"),this.continueBtn=this.getChild("ui_BtnContinue")},n}(e)).URL="ui://OpenFunction/Main",c=s))||c);n._RF.pop()}}}));

System.register("chunks:///_virtual/ui.option.controller.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./event.dispatcher.ts","./event.name.ts","./localstorage.define.ts","./localstorage.manager.ts","./model.mainrole.manager.ts","./sound.helper.ts","./common.tool.ts","./ui.float.text.controller.ts","./ui.base.controller.ts","./ton.sdk.ts","./sdk.manager.ts","./table.helper.ts","./plugin.settings.ts","./wizard.wallet.sdk.ts","./line.sdk.ts","./all.define.ts","./enum.account.type.ts"],(function(e){"use strict";var t,n,i,a,o,s,r,l,c,u,h,d,m,v,_,f,g,C,p,w,I,W,k,S,x,T,y,L;return{setters:[function(e){t=e.inheritsLoose,n=e.createClass,i=e.asyncToGenerator,a=e.regeneratorRuntime},function(e){o=e.cclegacy,s=e._decorator,r=e.input,l=e.Input,c=e.KeyCode},function(e){u=e.UIPackage,h=e.Event},function(e){d=e.EventDispatcher},function(e){m=e.EventName},function(e){v=e.LocalStorageDataType},function(e){_=e.LocalStorageManager},function(e){f=e.ModelMainRoleManager},function(e){g=e.SoundHelper},function(e){C=e.CommonTool},function(e){p=e.UIFloatTextController},function(e){w=e.UIBaseController},function(e){I=e.TonSDK},function(e){W=e.SDKManager},function(e){k=e.TableHelper},function(e){S=e.PluginSettings},function(e){x=e.WizardWalletSDK},function(e){T=e.LineSDK},function(e){y=e.ELanType},function(e){L=e.LoginAccountType}],execute:function(){var N,U;o._RF.push({},"80b90hs1mZB/IL+aCZ1LWeE","ui.option.controller",void 0);var A=s.ccclass;e("UIOptionController",A("UIOptionController")(((U=function(e){function o(){for(var t,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(t=e.call.apply(e,[this].concat(i))||this).mFguiPkgName="Options",t.mFguiMainViewName="Main",t._view=null,t.mCurMusicVolume=0,t.mCurSFXVolume=0,t.mCurLanguage=y.None,t}t(o,e);var s=o.prototype;return s._addEvents=function(){e.prototype._addEvents.call(this),r.on(l.EventType.KEY_DOWN,this._onKeyDown,this),d.on(m.UI_TON_WALLET_STATUS_CHANGED,this._refreshTonWalletState,this),d.on(m.UI_KAIA_WALLET_STATUS_CHANGED,this._refreshKaiaWalletState,this)},s._removeEvents=function(){e.prototype._removeEvents.call(this),r.off(l.EventType.KEY_DOWN,this._onKeyDown,this),d.off(m.UI_TON_WALLET_STATUS_CHANGED,this._refreshTonWalletState,this),d.off(m.UI_KAIA_WALLET_STATUS_CHANGED,this._refreshKaiaWalletState,this)},s._onKeyDown=function(e){switch(e.keyCode){case c.ESCAPE:this._onCloseClick()}},s.onLoad=function(){o._instance=this,this._startLoadPkg(this.mFguiPkgName)},s.onDestroy=function(){e.prototype.onDestroy.call(this),o._instance=null},s.closeUI=function(){e.prototype.closeUI.call(this)},s._onLoadUIFinish=function(){e.prototype._onLoadUIFinish.call(this),this._view=u.createObject(this.mFguiPkgName,this.mFguiMainViewName).asCom,this._addUIToRoot(this._view),this._view.makeFullScreen(),this._view.closeBtn.onClick(this._onCloseClick,this),this._view.wizzwoodsWind.itemBtn.onClick(this._onWizzwoodsIdCopyClick,this),this._view.invateCodeWind.itemBtn.onClick(this._onInviteCodeCopyClick,this),this._view.telegramNameWind.itemBtn.onClick(this._onTelegramNameCopyClick,this),this._view.xNameWind.itemBtn.onClick(this._onXNameCopyClick,this),this._view.lineNameWind.itemBtn.onClick(this._onLineNameCopyClick,this),this._view.tonWalletWind.itemBtn.onClick(this._onTonConnectClick,this),this._view.kaiaWalletWind.itemBtn.onClick(this._onKaiaConnectClick,this),this._view.evmWalletWind.itemBtn.onClick(this._onEvmConnectClick,this),this._view.languageChangeWind.itemBtn.onClick(this._onLanguageChangeClick,this),this._view.languageWind.closeBtn.onClick(this.hideLanguageWind,this),this._view.languageWind.languageList.on(h.CLICK_ITEM,this._onLanguageItemClick,this),this._view.logoutBtn.visible=!1,this._view.logoutBtn.onClick(this._onLogoutBtnClick,this),this._initData()},s._initData=function(){var e;this._view.wizzwoodsWind.itemValue.text=f.instance.AccountId,this._view.invateCodeWind.visible=!1;var t=W.instance.curSDKPlugin,n=null==(e=t.accountMeInfo)?void 0:e.inviteCode;if(this._view.invateCodeWind.itemValue.text=n,this._view.telegramNameWind.visible=!1,this._view.xNameWind.visible=!1,this._view.lineNameWind.visible=!1,S.isInTelegram()){var i;this._view.telegramNameWind.visible=!0;var a=null==(i=t.accountMeInfo)?void 0:i.telegramUsername;this._view.telegramNameWind.itemValue.text="@"+a}else if(S.isInX()){var o;this._view.xNameWind.visible=!0;var s=null==(o=t.accountMeInfo)?void 0:o.xName;this._view.xNameWind.itemValue.text="@"+s}else if(S.isInLine()){this._view.lineNameWind.visible=!0;var r=T.getLineName();this._view.lineNameWind.itemValue.text=r}else if(S.isInWeb()){this._view.logoutBtn.visible=!0;var l=W.instance.curSDKPlugin.accountType;if(l===L.TELEGRAM){var c;this._view.telegramNameWind.visible=!0;var u=null==(c=t.accountMeInfo)?void 0:c.telegramUsername;this._view.telegramNameWind.itemValue.text="@"+u}else if(l===L.X){var h;this._view.xNameWind.visible=!0;var d=null==(h=t.accountMeInfo)?void 0:h.xName;this._view.xNameWind.itemValue.text="@"+d}}S.isInLine()?(this._view.tonWalletWind.visible=!1,this._view.kaiaWalletWind.visible=!0,this._view.evmWalletWind.visible=!1,this._refreshKaiaWalletState()):(this._view.tonWalletWind.visible=!0,this._view.kaiaWalletWind.visible=!1,this._view.evmWalletWind.visible=!0,this._refreshTonWalletState()),this._refreshEvmWalletState(),this._setGameVolume(),this._initLanguageWind()},s._refreshTonWalletState=function(){var e=i(a().mark((function e(){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._view){e.next=2;break}return e.abrupt("return");case 2:I.isConnected()?((t=I.connectedAddress).length>12&&(t=C.shortAddress(t)),this._view.tonWalletWind.colorCtrl.selectedIndex=0,this._view.tonWalletWind.itemValue.text=t,this._view.tonWalletWind.itemBtn.text=k.getI18nUIText("u.10408")):(this._view.tonWalletWind.colorCtrl.selectedIndex=1,this._view.tonWalletWind.itemValue.text=k.getI18nUIText("u.10416"),this._view.tonWalletWind.itemBtn.text=k.getI18nUIText("u.10407"));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),s._refreshKaiaWalletState=function(){var e=i(a().mark((function e(){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._view){e.next=2;break}return e.abrupt("return");case 2:T.kaiaIsConnected()?((t=T.connectedWalletAddress).length>12&&(t=C.shortAddress(t,8)),this._view.kaiaWalletWind.colorCtrl.selectedIndex=0,this._view.kaiaWalletWind.itemValue.text=t,this._view.kaiaWalletWind.itemBtn.text=k.getI18nUIText("u.10405")):(this._view.kaiaWalletWind.colorCtrl.selectedIndex=1,this._view.kaiaWalletWind.itemValue.text=k.getI18nUIText("u.10427"),this._view.kaiaWalletWind.itemBtn.text=k.getI18nUIText("u.10407"));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),s._refreshEvmWalletState=function(){var e=i(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._view){e.next=2;break}return e.abrupt("return");case 2:x.isCreated()?(this._view.evmWalletWind.colorCtrl.selectedIndex=0,this._view.evmWalletWind.itemValue.text=C.shortAddress(W.instance.curSDKPlugin.accountMeInfo.addressEvm,6),this._view.evmWalletWind.itemBtn.text=k.getI18nUIText("u.10420")):(this._view.evmWalletWind.colorCtrl.selectedIndex=1,this._view.evmWalletWind.itemValue.text=k.getI18nUIText("u.10417"),this._view.evmWalletWind.itemBtn.text=k.getI18nUIText("u.10419"));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),s._initLanguageWind=function(){this._view.languagePanel.visible=!1,this._refreshLanguageState()},s.showLanguageWind=function(){this._view.languagePanel.visible=!0,this._view.languageWind._initLanguageView(this.mCurLanguage)},s.hideLanguageWind=function(){this._view.languagePanel.visible=!1},s._onLanguageItemClick=function(e){g.PlaySound_UICommonClick(),1!==e.isDisabledCtrl.selectedIndex&&this._realSwitchLanguage(e.language)},s._realSwitchLanguage=function(e){this.mCurLanguage!==e&&(d.emit(m.CHANGE_LANGUAGE,e),this.closeUI())},s._refreshLanguageState=function(){if(null!==this._view){this.mCurLanguage=_.instance.GetTargetLocalStorage(v.Language).GetIntData();var e="";switch(this.mCurLanguage){case y.EN:e=k.getI18nUIText("u.10451");break;case y.JP:e=k.getI18nUIText("u.10452");break;case y.ZH:e=k.getI18nUIText("u.10453");break;case y.HK:e=k.getI18nUIText("u.10454");break;case y.KO:e=k.getI18nUIText("u.10455");break;case y.RU:e=k.getI18nUIText("u.10456")}this._view.languageChangeWind.itemValue.text=e}},s._setGameVolume=function(){this.mCurMusicVolume=_.instance.GetTargetLocalStorage(v.MusicVolume).GetFloatData(),this.mCurSFXVolume=_.instance.GetTargetLocalStorage(v.SoundVolume).GetFloatData(),this._view.musicSlider.min=0,this._view.musicSlider.max=1,this._view.musicSlider.value=this.mCurMusicVolume,this._view.musicSlider.on(h.STATUS_CHANGED,this._onMusicSliderCallBack,this),this._view.soundSlider.min=0,this._view.soundSlider.max=1,this._view.soundSlider.value=this.mCurSFXVolume,this._view.soundSlider.on(h.STATUS_CHANGED,this._onSoundSliderCallBack,this)},s._onMusicSliderCallBack=function(e){this.mCurMusicVolume=e.value,_.instance.GetTargetLocalStorage(v.MusicVolume).SaveFloatData(this.mCurMusicVolume)},s._onSoundSliderCallBack=function(e){this.mCurSFXVolume=e.value,_.instance.GetTargetLocalStorage(v.SoundVolume).SaveFloatData(this.mCurSFXVolume)},s._onCloseClick=function(){var e=i(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:g.PlaySound_UICommonClose(),d.emit(m.UI_OPTION_CLOSE);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),s._onWizzwoodsIdCopyClick=function(){var e=i(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:g.PlaySound_UICommonClick(),C.copyTextNew(f.instance.AccountId).then((function(){p.AddTipI18nID_Success("u.2516")}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),s._onInviteCodeCopyClick=function(){var e=i(a().mark((function e(){var t,n,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:g.PlaySound_UICommonClick(),n=W.instance.curSDKPlugin,(i=null==(t=n.accountMeInfo)?void 0:t.inviteCode)&&C.copyTextNew(i).then((function(){p.AddTipI18nID_Success("u.2516")}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),s._onTelegramNameCopyClick=function(){var e=i(a().mark((function e(){var t,n,i,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:g.PlaySound_UICommonClick(),n=W.instance.curSDKPlugin,(i=null==(t=n.accountMeInfo)?void 0:t.telegramUsername)&&(o="@"+i,C.copyTextNew(o).then((function(){p.AddTipI18nID_Success("u.2516")})));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),s._onXNameCopyClick=function(){var e=i(a().mark((function e(){var t,n,i,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:g.PlaySound_UICommonClick(),n=W.instance.curSDKPlugin,(i=null==(t=n.accountMeInfo)?void 0:t.xName)&&(o="@"+i,C.copyTextNew(o).then((function(){p.AddTipI18nID_Success("u.2516")})));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),s._onLineNameCopyClick=function(){var e=i(a().mark((function e(){var t,n,i,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:g.PlaySound_UICommonClick(),n=W.instance.curSDKPlugin,(i=null==(t=n.accountMeInfo)?void 0:t.lineName)&&(o=i,C.copyTextNew(o).then((function(){p.AddTipI18nID_Success("u.2516")})));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),s._onTonConnectClick=function(){var e=i(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:g.PlaySound_UICommonClick(),I.isConnected()?I.disConnect():I.connect();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),s._onKaiaConnectClick=function(){var e=i(a().mark((function e(){var t,n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(g.PlaySound_UICommonClick(),T.kaiaIsConnected()){e.next=7;break}return e.next=5,T.kaiaWalletConnect();case 5:e.next=9;break;case 7:(t=T.connectedWalletAddress)&&(n=t,C.copyTextNew(n).then((function(){p.AddTipI18nID_Success("u.2516")})));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),s._onEvmConnectClick=function(){var e=i(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:g.PlaySound_UICommonClick(),x.isCreated()?d.emit(m.UI_WALLET_OPEN):d.emit(m.UI_WALLET_CREATE_OPEN),d.emit(m.UI_OPTION_CLOSE);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),s._onLanguageChangeClick=function(){var e=i(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:g.PlaySound_UICommonClick(),this.showLanguageWind();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),s._onLogoutBtnClick=function(){var e=i(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:g.PlaySound_UICommonClick(),W.instance.curSDKPlugin.SDKLogout();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),n(o,null,[{key:"instance",get:function(){return this._instance}}]),o}(w)).CTRL_NAME="UIOptionController",U._instance=null,N=U))||N);o._RF.pop()}}}));

System.register("chunks:///_virtual/ui.option.item.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){"use strict";var i,e,o,n;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy,o=t._decorator},function(t){n=t.GButton}],execute:function(){var s,u;e._RF.push({},"fc91bu44fFNCYiV4+k8Qdse","ui.option.item.view",void 0);var r=o.ccclass;t("default",r("UIOptionListItemView")(((u=function(t){function e(){var i;return(i=t.call(this)||this).colorCtrl=void 0,i.itemTitle=void 0,i.itemValue=void 0,i.itemBtn=void 0,i}return i(e,t),e.prototype.onConstruct=function(){this.colorCtrl=this.getController("ColorIsNone"),this.itemTitle=this.getChild("ui_Title"),this.itemValue=this.getChild("ui_Value"),this.itemBtn=this.getChild("ui_ItemBtn")},e}(n)).URL="ui://Options/listbar_optionitem",s=u))||s);e._RF.pop()}}}));

System.register("chunks:///_virtual/ui.option.language.item.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./all.define.ts"],(function(t){"use strict";var e,i,n,s,l;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy,n=t._decorator},function(t){s=t.GButton},function(t){l=t.ELanType}],execute:function(){var a,o;i._RF.push({},"b2b51WuGJdKp4bSqin/you7","ui.option.language.item.view",void 0);var u=n.ccclass;t("default",u("UIOptionLanguageItemView")(((o=function(t){function i(){var e;return(e=t.call(this)||this).isDisabledCtrl=void 0,e.isSelectedCtrl=void 0,e.language=l.None,e}e(i,t);var n=i.prototype;return n.onConstruct=function(){this.isDisabledCtrl=this.getController("IsDisabled"),this.isSelectedCtrl=this.getController("IsSelected")},n.setLanguageData=function(t,e,i,n){this.language=t,this.text=e,this.isDisabledCtrl.selectedIndex=n?1:0,this.isSelectedCtrl.selectedIndex=this.language===i?1:0,this.touchable=!n},i}(s)).URL="ui://Options/listbar_LanguageBtn",a=o))||a);i._RF.pop()}}}));

System.register("chunks:///_virtual/ui.option.language.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./all.define.ts","./table.helper.ts","./ui.option.language.item.view.ts"],(function(t){"use strict";var e,a,n,g,i,u,s;return{setters:[function(t){e=t.inheritsLoose},function(t){a=t.cclegacy,n=t._decorator},function(t){g=t.GComponent},function(t){i=t.ELanType},function(t){u=t.TableHelper},function(t){s=t.default}],execute:function(){var o,L;a._RF.push({},"6d49ayYvVZK7akMkOkFACXM","ui.option.language.view",void 0);var l=n.ccclass;t("default",l("UIOptionLanguageView")(((L=function(t){function a(){var e;return(e=t.call(this)||this).closeBtn=void 0,e.languageList=void 0,e}e(a,t);var n=a.prototype;return n.onConstruct=function(){this.closeBtn=this.getChild("ui_WindClose"),this.languageList=this.getChild("ui_List")},n._initLanguageView=function(t){this.languageList.removeChildren(),this.languageList.addItem(s.URL).setLanguageData(i.EN,u.getI18nUIText("u.10451"),t,!1),this.languageList.addItem(s.URL).setLanguageData(i.JP,u.getI18nUIText("u.10452"),t,!1),this.languageList.addItem(s.URL).setLanguageData(i.ZH,u.getI18nUIText("u.10453"),t,!1),this.languageList.addItem(s.URL).setLanguageData(i.HK,u.getI18nUIText("u.10454"),t,!1),this.languageList.addItem(s.URL).setLanguageData(i.KO,u.getI18nUIText("u.10455"),t,!1),this.languageList.addItem(s.URL).setLanguageData(i.RU,u.getI18nUIText("u.10456"),t,!1),this.languageList.addItem(s.URL).setLanguageData(i.None,u.getI18nUIText("u.10457"),t,!0),this.languageList.addItem(s.URL).setLanguageData(i.None,u.getI18nUIText("u.10458"),t,!0),this.languageList.addItem(s.URL).setLanguageData(i.None,u.getI18nUIText("u.10459"),t,!0),this.languageList.addItem(s.URL).setLanguageData(i.None,u.getI18nUIText("u.10460"),t,!0),this.languageList.addItem(s.URL).setLanguageData(i.None,u.getI18nUIText("u.10461"),t,!0),this.languageList.addItem(s.URL).setLanguageData(i.None,u.getI18nUIText("u.10462"),t,!0)},a}(g)).URL="ui://Options/wind_Language",o=L))||o);a._RF.pop()}}}));

System.register("chunks:///_virtual/ui.option.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./table.helper.ts"],(function(i){"use strict";var t,e,n,d,l;return{setters:[function(i){t=i.inheritsLoose},function(i){e=i.cclegacy,n=i._decorator},function(i){d=i.GComponent},function(i){l=i.TableHelper}],execute:function(){var o,s;e._RF.push({},"ac94eYruBdLN6yJp5V9vfb6","ui.option.view",void 0);var a=n.ccclass;i("default",a("UIOptionView")(((s=function(i){function e(){var t;return(t=i.call(this)||this).closeBtn=void 0,t.optionView=void 0,t.wizzwoodsWind=void 0,t.invateCodeWind=void 0,t.telegramNameWind=void 0,t.xNameWind=void 0,t.lineNameWind=void 0,t.tonWalletWind=void 0,t.kaiaWalletWind=void 0,t.evmWalletWind=void 0,t.languageChangeWind=void 0,t.languagePanel=void 0,t.languageWind=void 0,t.musicWind=void 0,t.musicSlider=void 0,t.soundWind=void 0,t.soundSlider=void 0,t.logoutBtn=void 0,t}t(e,i);var n=e.prototype;return n.onConstruct=function(){this.closeBtn=this.getChild("ui_WindClose"),this.optionView=this.getChild("ui_OptionScroll"),this.wizzwoodsWind=this.optionView.getChild("ui_Wizzwoods"),this.invateCodeWind=this.optionView.getChild("ui_InviteCode"),this.telegramNameWind=this.optionView.getChild("ui_TelegramName"),this.xNameWind=this.optionView.getChild("ui_XName"),this.lineNameWind=this.optionView.getChild("ui_lineName"),this.tonWalletWind=this.optionView.getChild("ui_TonWallet"),this.kaiaWalletWind=this.optionView.getChild("ui_KaiaWallet"),this.evmWalletWind=this.optionView.getChild("ui_EvmWallet"),this.languageChangeWind=this.optionView.getChild("ui_Language"),this.logoutBtn=this.optionView.getChild("ui_login_out"),this.musicWind=this.optionView.getChild("ui_MusicSlider"),this.musicSlider=this.musicWind.getChild("ui_Slider"),this.soundWind=this.optionView.getChild("ui_SoundSlider"),this.soundSlider=this.soundWind.getChild("ui_Slider"),this.languagePanel=this.getChild("ui_LanguageWind"),this.languageWind=this.getChild("ui_WindLanguageSelection"),this.wizzwoodsWind.itemTitle.text=l.getI18nUIText("u.10409"),this.invateCodeWind.itemTitle.text=l.getI18nUIText("u.10418"),this.telegramNameWind.itemTitle.text=l.getI18nUIText("u.10410"),this.xNameWind.itemTitle.text=l.getI18nUIText("u.10411"),this.lineNameWind.itemTitle.text=l.getI18nUIText("u.10425"),this.tonWalletWind.itemTitle.text=l.getI18nUIText("u.10412"),this.kaiaWalletWind.itemTitle.text=l.getI18nUIText("u.10426"),this.evmWalletWind.itemTitle.text=l.getI18nUIText("u.10413"),this.languageChangeWind.itemTitle.text=l.getI18nUIText("u.10421"),this.wizzwoodsWind.itemBtn.text=l.getI18nUIText("u.10405"),this.invateCodeWind.itemBtn.text=l.getI18nUIText("u.10405"),this.telegramNameWind.itemBtn.text=l.getI18nUIText("u.10405"),this.xNameWind.itemBtn.text=l.getI18nUIText("u.10405"),this.lineNameWind.itemBtn.text=l.getI18nUIText("u.10405"),this.tonWalletWind.itemBtn.text=l.getI18nUIText("u.10407"),this.kaiaWalletWind.itemBtn.text=l.getI18nUIText("u.10407"),this.evmWalletWind.itemBtn.text=l.getI18nUIText("u.10407"),this.languageChangeWind.itemBtn.text=l.getI18nUIText("u.10450"),this._setSliderTitle(this.musicWind,l.getI18nUIText("u.10403")),this._setSliderTitle(this.soundWind,l.getI18nUIText("u.10404"))},n._setSliderTitle=function(i,t){var e=i.getChild("ui_Title");e&&(e.text=t)},e}(d)).URL="ui://Options/Main",o=s))||o);e._RF.pop()}}}));

System.register("chunks:///_virtual/ui.purification.center.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(i){"use strict";var t,n,e,s;return{setters:[function(i){t=i.inheritsLoose},function(i){n=i.cclegacy,e=i._decorator},function(i){s=i.GComponent}],execute:function(){var r,a;n._RF.push({},"3d881MbpIZP0Immi5riYtjo","ui.purification.center.view",void 0);var c=e.ccclass;i("default",c("UIPurificationCenterView")(((a=function(i){function n(){var t;return(t=i.call(this)||this).anim1Trans=void 0,t.anim2Trans=void 0,t.unactiveCenter=void 0,t.standbyCenter=void 0,t.activeCenter=void 0,t}t(n,i);var e=n.prototype;return e.onConstruct=function(){this.anim1Trans=this.getTransition("ui_Ani_Purification"),this.anim2Trans=this.getTransition("ui_Ani_Standby"),this.unactiveCenter=this.getChild("ui_Unactive"),this.standbyCenter=this.getChild("ui_StandbyAni"),this.activeCenter=this.getChild("ui_PurificationAni")},e.showUnactive=function(){this.unactiveCenter.visible=!0,this.standbyCenter.visible=!1,this.activeCenter.visible=!1},e.showStandby=function(){this.unactiveCenter.visible=!1,this.standbyCenter.visible=!0,this.activeCenter.visible=!1,this.anim2Trans.play(null,-1)},e.showActive=function(){this.unactiveCenter.visible=!1,this.standbyCenter.visible=!1,this.activeCenter.visible=!0,this.anim1Trans.play(null,1)},n}(s)).URL="ui://Purification/ani_Purification",r=a))||r);n._RF.pop()}}}));

System.register("chunks:///_virtual/ui.purification.controller.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./event.dispatcher.ts","./event.name.ts","./sound.helper.ts","./ui.base.controller.ts","./net.helper.ts","./ui.float.text.controller.ts","./table.helper.ts","./model.charge.define.ts","./model.farm.manager.ts","./logic.tool.ts","./resource.manager.ts","./time.system.ts"],(function(e){"use strict";var t,i,n,a,s,r,o,h,c,l,u,_,d,C,f,m,v,w,g,p,k,I,S,A,E,P;return{setters:[function(e){t=e.inheritsLoose,i=e.createClass,n=e.asyncToGenerator,a=e.regeneratorRuntime},function(e){s=e.cclegacy,r=e._decorator,o=e.input,h=e.Input,c=e.KeyCode,l=e.macro,u=e.isValid,_=e.sp,d=e.v2},function(e){C=e.UIPackage},function(e){f=e.EventDispatcher},function(e){m=e.EventName},function(e){v=e.SoundHelper},function(e){w=e.UIBaseController},function(e){g=e.NetHelper},function(e){p=e.UIFloatTextController},function(e){k=e.TableHelper},function(e){I=e.EChargeType},function(e){S=e.ModelFarmManager},function(e){A=e.LogicTool},function(e){E=e.ResourceManager},function(e){P=e.TimeSystem}],execute:function(){var y,F;s._RF.push({},"67ab4MeNElBvbYVL65B2MrT","ui.purification.controller",void 0);var T=r.ccclass;e("UIPurificationController",T("UIPurificationController")(((F=function(e){function s(){for(var t,i=arguments.length,n=new Array(i),a=0;a<i;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).mFguiPkgName="Purification",t.mFguiMainViewName="Main",t._view=null,t.mChargeVersion=0,t.mChargeData=null,t.mCurState=0,t.mGetAwardValue=0,t}t(s,e);var r=s.prototype;return r._addEvents=function(){e.prototype._addEvents.call(this),o.on(h.EventType.KEY_DOWN,this._onKeyDown,this),f.on(m.FARM_DATA_CHANGE,this._onFarmDataChanged,this),f.on(m.CHARGE_GET_LIST,this._onGetChargeList,this),f.on(m.CHARGE_PURCHASE_GET_ORDER,this._onChargeGetOrder,this),f.on(m.CHARGE_PURCHASE_FINISH,this._onChargeFinish,this),f.on(m.FARM_PLANT_QUICK_HARVEST,this._onFarmPlantQuickHarvest,this)},r._removeEvents=function(){e.prototype._removeEvents.call(this),o.off(h.EventType.KEY_DOWN,this._onKeyDown,this),f.off(m.FARM_DATA_CHANGE,this._onFarmDataChanged,this),f.off(m.CHARGE_GET_LIST,this._onGetChargeList,this),f.off(m.CHARGE_PURCHASE_GET_ORDER,this._onChargeGetOrder,this),f.off(m.CHARGE_PURCHASE_FINISH,this._onChargeFinish,this),f.off(m.FARM_PLANT_QUICK_HARVEST,this._onFarmPlantQuickHarvest,this)},r._onKeyDown=function(e){switch(e.keyCode){case c.ESCAPE:this._onCloseClick()}},r._onFarmDataChanged=function(){if(null!=this._view){var e=S.instance.FarmPlantQuickHarvest;this.mCurState!==e&&(this.mCurState=e,this._refreshMinionsData())}},r._onGetChargeList=function(e){if(null!=this._view){this.mChargeVersion=e.purchaseVer;for(var t=0;t<e.info.length;t++){var i=k.getPurchase(e.info[t].id);if(i&&i.type===I.FarmPlant_QuickHarvest){this.mChargeData=e.info[t];break}}this._refreshChargeView()}},r._onChargeGetOrder=function(e){if(null!=this._view)switch(e.result){case 1:p.AddTipI18nID_Success("u.2547");break;case 2:p.AddTipI18nID_Failed("u.2548"),g.getPurchaseProductList();break;default:console.log("errorcode: ",e.result),p.AddTipI18nID_Failed("u.2549")}},r._onChargeFinish=function(){null!=this._view&&p.AddTipI18nID_Success("u.2550")},r._onFarmPlantQuickHarvest=function(e){this.mGetAwardValue=e},r.onLoad=function(){s._instance=this,this._startLoadPkg(this.mFguiPkgName)},r.onDestroy=function(){e.prototype.onDestroy.call(this),s._instance=null},r.closeUI=function(){e.prototype.closeUI.call(this)},r.update=function(){if(null!==this._view&&2===this.mCurState){var e=P.instance.getTimestamp()%86400;this._view.clearOverProgress.width=e/86400*this._view.clearOverProgress.maxWidth;var t=86400-e;t<0&&(t=0),this._view.clearOverTitle.text=P.formatTimeString(t)}},r._onLoadUIFinish=function(){e.prototype._onLoadUIFinish.call(this),this._view=C.createObject(this.mFguiPkgName,this.mFguiMainViewName).asCom,this._addUIToRoot(this._view),this._view.makeFullScreen(),this._view.closeBtn.onClick(this._onCloseClick,this),this._view.chargeBtn.onClick(this._onChargeClick,this),this._view.clearBtn.onClick(this._onClearClick,this),this._initData()},r._initData=function(){this.mCurState=S.instance.FarmPlantQuickHarvest,0===this.mCurState?(this._view.stateCtrl.selectedIndex=0,this._view.farmStateCtrl.selectedPage="Uncleand",this._loadChickensIdle(),this._view.windCenter.showUnactive(),this._view.chargeBtn.text=A.i18nFormat(k.getI18nUIText("u.10019"),["$14.99"]),this.schedule((function(){g.getPurchaseProductList()}),5,l.REPEAT_FOREVER,.1)):1===this.mCurState?(this._view.stateCtrl.selectedIndex=1,this._view.farmStateCtrl.selectedPage="Uncleand",this._loadChickensIdle(),this._view.windCenter.showStandby()):2===this.mCurState&&(this._view.stateCtrl.selectedIndex=2,this._view.farmStateCtrl.selectedPage="Cleaned",this._view.windCenter.showStandby())},r._refreshMinionsData=function(){var e=this;0===this.mCurState?(this._view.stateCtrl.selectedIndex=0,this._view.farmStateCtrl.selectedPage="Uncleand",this._loadChickensIdle(),this._view.windCenter.showUnactive()):1===this.mCurState?(this._view.stateCtrl.selectedIndex=1,this._view.farmStateCtrl.selectedPage="Uncleand",this.unscheduleAllCallbacks(),this._loadChickensIdle(),this._view.windCenter.showStandby()):2===this.mCurState&&(this._view.stateCtrl.selectedIndex=2,this.unscheduleAllCallbacks(),this._loadChickensIdle(),this._view.windCenter.showActive(),v.PlaySound_GetAirDropQuick(),this._view.animTrans.play((function(){e._view&&(e._view.farmStateCtrl.selectedPage="Cleaned",e._showAwardView(),e._view.windCenter.showStandby())})),this.scheduleOnce((function(){e._view&&e._loadChickensDie()}),2.5))},r._showAwardView=function(){if(this.mGetAwardValue>0){var e=[];e.push([10,this.mGetAwardValue]),f.emit(m.UI_ITEM_GET_OPEN,e)}},r._onCloseClick=function(){var e=n(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:v.PlaySound_UICommonClose(),f.emit(m.UI_PURIFICATION_CLOSE);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),r._onChargeClick=function(){var e=n(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(v.PlaySound_UICommonClick(),!(this.mChargeVersion<=0)){e.next=3;break}return e.abrupt("return");case 3:f.emit(m.UI_DETAILS_SHOW_CHARGE,this.mChargeData,this.mChargeVersion);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),r._onClearClick=function(){var e=n(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:v.PlaySound_UICommonClick(),g.farmPlantQuickHarvest();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),r._refreshChargeView=function(){this.mChargeData&&(this._view.chargeBtn.text=A.i18nFormat(k.getI18nUIText("u.10019"),["$"+this.mChargeData.usd_price]))},r._loadChickensIdle=function(){for(var e=0;e<this._view.farmChickenList.length;e++){this._view.farmChickenList[e].visible=!0;var t=k.getFarmResRecord(901);t&&this._loadModelShow(this._view.farmChickenList[e],t.resName,"idle")}},r._loadChickensDie=function(){var e=this;v.PlaySound_GetAirDrop();for(var t=0;t<this._view.farmChickenList.length;t++){var i=k.getFarmResRecord(901);i&&this._loadModelShow(this._view.farmChickenList[t],i.resName,"die")}this.scheduleOnce((function(){if(e._view)for(var t=0;t<e._view.farmChickenList.length;t++)e._view.farmChickenList[t].visible=!1}),.5)},r._loadModelShow=function(e,t,i){var n=this;e&&E.instance.loadFarmRes(t,(function(t){if(u(n.node)){var a=t.data,s=null==a?void 0:a.getComponentInChildren(_.Skeleton);a&&(e&&e.node&&e.node.scale&&e.setScale(1,1),e.clearContent(),e.skinName=s.defaultSkin,e.loop="idle"===i,e.animationName=i,e.setSpine(s.skeletonData,d(15,35)))}}))},i(s,null,[{key:"instance",get:function(){return this._instance}}]),s}(w)).CTRL_NAME="UIPurificationController",F._instance=null,y=F))||y);s._RF.pop()}}}));

System.register("chunks:///_virtual/ui.purification.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(i){"use strict";var t,r,e,n;return{setters:[function(i){t=i.inheritsLoose},function(i){r=i.cclegacy,e=i._decorator},function(i){n=i.GComponent}],execute:function(){var s,a;r._RF.push({},"b5d39kJlzVLV4NMrfJwhuap","ui.purification.view",void 0);var o=e.ccclass;i("default",o("UIPurificationView")(((a=function(i){function r(){var t;return(t=i.call(this)||this).stateCtrl=void 0,t.animTrans=void 0,t.closeBtn=void 0,t.windCenter=void 0,t.windFarm=void 0,t.farmStateCtrl=void 0,t.farmChickenList=void 0,t.chargeBtn=void 0,t.clearBtn=void 0,t.clearOverBtn=void 0,t.clearOverProgress=void 0,t.clearOverTitle=void 0,t}return t(r,i),r.prototype.onConstruct=function(){this.stateCtrl=this.getController("State"),this.animTrans=this.getTransition("ui_Ani_Farm"),this.closeBtn=this.getChild("ui_WindClose"),this.windCenter=this.getChild("ui_PurificationAni"),this.windFarm=this.getChild("Farm"),this.farmStateCtrl=this.windFarm.getController("State"),this.farmChickenList=[];for(var i=1;i<=9;i++)this.farmChickenList.push(this.windFarm.getChild("ui_Monster0"+i));for(var t=10;t<=45;t++)this.farmChickenList.push(this.windFarm.getChild("ui_Monster"+t));this.chargeBtn=this.getChild("ui_BtnBuy"),this.clearBtn=this.getChild("ui_BtnPurification"),this.clearOverBtn=this.getChild("ui_ProgressCompleted"),this.clearOverProgress=this.clearOverBtn.getChild("ui_ProgressAni"),this.clearOverTitle=this.clearOverBtn.getChild("ui_Time")},r}(n)).URL="ui://Purification/Main",s=a))||s);r._RF.pop()}}}));

System.register("chunks:///_virtual/ui.quest.achievement.item.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./tonweb.mjs_cjs=&original=.js","./timer.tick.ts","./new.guide.manager.ts","./table.helper.ts","./net.helper.ts","./userdata.client.protocol.ts","./sound.helper.ts","./ui.common.reward.item.view.ts","./tonweb.js"],(function(e){"use strict";var t,i,n,a,s,r,h,c,o,l,u,m,v,d;return{setters:[function(e){t=e.inheritsLoose,i=e.asyncToGenerator,n=e.regeneratorRuntime},function(e){a=e.cclegacy,s=e._decorator},function(e){r=e.GButton},null,function(e){h=e.TimerTick},function(e){c=e.NewGuideManager},function(e){o=e.TableHelper},function(e){l=e.NetHelper},function(e){u=e.EAchievementType},function(e){m=e.SoundHelper},function(e){v=e.default},function(e){d=e.default}],execute:function(){var p,f;a._RF.push({},"d2bd1/FsWROs6y/DMMVL4NE","ui.quest.achievement.item.view",void 0);var D=s.ccclass;e("default",D("UIQuestAchievementItemView")(((f=function(e){function a(){var t;return(t=e.call(this)||this).achievementDesc=void 0,t.rewardList=void 0,t.progressValue=void 0,t.detailBtn=void 0,t.mAchievementData=null,t}t(a,e);var s=a.prototype;return s.onConstruct=function(){this.rewardList=this.getChild("n27"),this.achievementDesc=this.getChild("ui_Label1"),this.progressValue=this.getChild("ui_ProgressValue"),this.detailBtn=this.getChild("ui_BtnDetails"),this.detailBtn.onClick(this._onDetailClick,this)},s._onDetailClick=function(){var e=i(n().mark((function e(){var t,i,a=this;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(m.PlaySound_UICommonClick(),null!=this.mAchievementData){e.next=3;break}return e.abrupt("return");case 3:if(t=o.getAchievementByTypeStage(this.mAchievementData.type,this.mAchievementData.step)){e.next=6;break}return e.abrupt("return");case 6:i=this.mAchievementData.value,this.mAchievementData.type===u.eAchievementType_PurchaseGold&&(i=d.utils.fromNano(i)),Number.parseInt(i)>=t.param&&l.getAchievementReward(this.mAchievementData.type),c.instance.IsInGuideScene&&(this.touchable=!1,h.AddTimer(500,0,(function(){a.touchable=!0})),c.instance.NextStep());case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),s.setAchievementData=function(e){if(null!=e){this.mAchievementData=e;var t=o.getAchievementMaxStageByType(this.mAchievementData.type);if(this.mAchievementData.step>t){var i=o.getAchievementByTypeStage(this.mAchievementData.type,t);if(!i)return;this.achievementDesc.text=i.desc,this._refreshRewardItemList(i.award),this.progressValue.text="",this.detailBtn.enabled=!0,this._setDetailBtnDone(1),this._setDetailBtnRedPoint(!1)}else{var n=o.getAchievementByTypeStage(this.mAchievementData.type,this.mAchievementData.step);if(!n)return;this.achievementDesc.text=n.desc,this._refreshRewardItemList(n.award);var a=0;a=this.mAchievementData.type===u.eAchievementType_PurchaseGold?Number.parseInt(d.utils.fromNano(this.mAchievementData.value)):Number.parseInt(this.mAchievementData.value);var s=n.param;a>s&&(a=s);var r=a,h=s;this.mAchievementData.type===u.eAchievementType_WorkerLevel&&(r=o.getWorkerLevel(r).showLevel,h=o.getWorkerLevel(h).showLevel,a<s&&r%30==0&&(r=0)),this.progressValue.text=r+"/"+h,this._setDetailBtnDone(0),a>=s?(this.detailBtn.enabled=!0,this._setDetailBtnRedPoint(!0)):(this.detailBtn.enabled=!1,this._setDetailBtnRedPoint(!1))}}},s._refreshRewardItemList=function(e){this.rewardList.removeChildrenToPool();for(var t=e.split(";"),i=0;i<t.length;i++){var n=t[i].split("-");if(n.length<2)return;var a=Number.parseInt(n[0]),s=Number.parseInt(n[1]);this.rewardList.addItemFromPool(v.URL).setRewardData(a,s)}},s._setDetailBtnDone=function(e){var t=this.detailBtn.getController("IsDone");t&&(t.selectedIndex=e,this.detailBtn.touchable=0===e)},s._setDetailBtnRedPoint=function(e){var t=this.detailBtn.getChild("UI_TipSp");t&&(t.visible=e)},a}(r)).URL="ui://Task/achievement_listbar",p=f))||p);a._RF.pop()}}}));

System.register("chunks:///_virtual/ui.quest.controller.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./api.tg.quest.ts","./api.tg.quest.model.ts","./event.dispatcher.ts","./event.name.ts","./table.helper.ts","./sound.helper.ts","./ui.base.controller.ts","./sdk.manager.ts","./model.web.quest.manager.ts","./ui.common.item.title2.view.ts","./common.tool.ts","./model.achievement.manager.ts","./ui.quest.task.item.view.ts","./new.guide.manager.ts","./plugin.settings.ts"],(function(t){"use strict";var e,i,s,n,a,h,r,u,o,c,l,_,m,v,f,d,p,w,D,Q,C,T,g,I,b,L,y,A;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass,s=t.asyncToGenerator,n=t.regeneratorRuntime},function(t){a=t.cclegacy,h=t._decorator,r=t.input,u=t.Input,o=t.KeyCode,c=t.error,l=t.isValid},function(t){_=t.UIPackage},function(t){m=t.getTgQuestList},function(t){v=t.TgQuestGroup,f=t.TgQuestCondition},function(t){d=t.EventDispatcher},function(t){p=t.EventName},function(t){w=t.TableHelper},function(t){D=t.SoundHelper},function(t){Q=t.UIBaseController},function(t){C=t.SDKManager},function(t){T=t.ModelWebQuestManager},function(t){g=t.default},function(t){I=t.CommonTool},function(t){b=t.ModelAchievementManager},function(t){L=t.default},function(t){y=t.NewGuideManager},function(t){A=t.PluginSettings}],execute:function(){var x,B;a._RF.push({},"85faeKf6L1AfKj40DtZLSt6","ui.quest.controller",void 0);var E,P=h.ccclass;!function(t){t[t.Main=0]="Main",t[t.Cooperative=1]="Cooperative",t[t.Achievement=2]="Achievement"}(E||(E={}));t("UIQuestController",P("UIQuestController")(((B=function(t){function a(){for(var e,i=arguments.length,s=new Array(i),n=0;n<i;n++)s[n]=arguments[n];return(e=t.call.apply(t,[this].concat(s))||this).mFguiPkgName="Task",e.mFguiMainViewName="Main",e._view=null,e._curTabType=E.Main,e.mQuestBasicData=[],e.mQuestDailyData=[],e.mQuestXData=[],e.mQuestChannelData=[],e.mAchievementData=null,e.mQuestCtrlMap=new Map,e.mIsQuestRequesting=!1,e}e(a,t);var h=a.prototype;return h._addEvents=function(){t.prototype._addEvents.call(this),r.on(u.EventType.KEY_DOWN,this._onKeyDown,this),d.on(p.WEB_QUEST_DATA_CHANGED,this.onWebQuestDataChanged,this),d.on(p.PLAYERSELF_TWITTER_BOX_CHANGED,this._onTwitterBoxDataChanged,this),d.on(p.ACHIEVEMENT_LIST_INIT,this._onAchievementListChanged,this),d.on(p.ACHIEVEMENT_LIST_UPDATE,this._onAchievementListChanged,this)},h._removeEvents=function(){t.prototype._removeEvents.call(this),r.off(u.EventType.KEY_DOWN,this._onKeyDown,this),d.off(p.WEB_QUEST_DATA_CHANGED,this.onWebQuestDataChanged,this),d.off(p.PLAYERSELF_TWITTER_BOX_CHANGED,this._onTwitterBoxDataChanged,this),d.off(p.ACHIEVEMENT_LIST_INIT,this._onAchievementListChanged,this),d.off(p.ACHIEVEMENT_LIST_UPDATE,this._onAchievementListChanged,this)},h._onKeyDown=function(t){switch(t.keyCode){case o.ESCAPE:this._onCloseClick()}},h.onWebQuestDataChanged=function(t){if(this._view){var e=!1;if(t)if(this.mQuestCtrlMap.has(t))this.mQuestCtrlMap.get(t).refreshQuestState(),e=!0;e||(this._curTabType===E.Main?this._refreshQuestList1():this._refreshQuestList2()),this._refreshTabRedPoint()}},h._onTwitterBoxDataChanged=function(){var t=s(n().mark((function t(){var e,i;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,I.sleep(1e3);case 2:if(this._view){t.next=4;break}return t.abrupt("return");case 4:if(this._curTabType!==E.Achievement){t.next=6;break}return t.abrupt("return");case 6:for(e=0;e<this.mQuestDailyData.length;e++)this.mQuestDailyData[e].condition===f.XBoxGetAmount&&this.mQuestCtrlMap.has(this.mQuestDailyData[e].id)&&((i=this.mQuestCtrlMap.get(this.mQuestDailyData[e].id)).refreshQuestTitle(),i.refreshQuestState());case 7:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),h._onAchievementListChanged=function(){null!=this._view&&this._curTabType===E.Achievement&&(this._refreshAchievementList(!1),this._refreshTabRedPoint())},h.setTab=function(t){this._curTabType=t||E.Main,null!=this._view&&this.IsLoadFinish&&(this._view.tabCtrl.setSelectedIndex(this._curTabType),this._showData())},h.onLoad=function(){a._instance=this,this._startLoadPkg(this.mFguiPkgName)},h.onDestroy=function(){t.prototype.onDestroy.call(this),a._instance=null},h.closeUI=function(){t.prototype.closeUI.call(this)},h.update=function(){this._view},h._onLoadUIFinish=function(){t.prototype._onLoadUIFinish.call(this),this._view=_.createObject(this.mFguiPkgName,this.mFguiMainViewName).asCom,this._addUIToRoot(this._view),this._view.makeFullScreen(),this._view.tabCtrl.onChanged(this._onTabChanged,this),this._view.closeBtn.onClick(this._onCloseClick,this),this._view.achievementList.itemRenderer=this.renderAchievementItem.bind(this),this._view.achievementList.setVirtual(),this._initData()},h._initData=function(){var t=s(n().mark((function t(){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this._requestQuestList(),this._view.tabCtrl.setSelectedIndex(this._curTabType),this._showData();case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),h._onTabChanged=function(){0===this._view.tabCtrl.selectedIndex?this._curTabType=E.Main:1===this._view.tabCtrl.selectedIndex?this._curTabType=E.Cooperative:2===this._view.tabCtrl.selectedIndex&&(this._curTabType=E.Achievement),this._showData(),D.PlaySound_UICommonClick(),y.instance.IsInGuideScene&&y.instance.NextStep()},h._showData=function(){switch(this._curTabType){case E.Main:this._refreshQuestList1();break;case E.Cooperative:this._refreshQuestList2();break;case E.Achievement:this._refreshAchievementList()}this._refreshTabRedPoint()},h._refreshTabRedPoint=function(){this._isAllQuestFinish(this.mQuestBasicData)&&this._isAllQuestFinish(this.mQuestDailyData)&&this._isAllQuestFinish(this.mQuestXData)?this._view.setTabBtnRedPoint(this._view.tab1Btn,!1):this._view.setTabBtnRedPoint(this._view.tab1Btn,!0),this._isAllQuestFinish(this.mQuestChannelData)?this._view.setTabBtnRedPoint(this._view.tab2Btn,!1):this._view.setTabBtnRedPoint(this._view.tab2Btn,!0),this._view.setTabBtnRedPoint(this._view.tab3Btn,b.instance.isHasAchievementAward())},h._onCloseClick=function(){D.PlaySound_UICommonClose(),d.emit(p.UI_QUEST_CLOSE),y.instance.IsInGuideScene&&y.instance.NextStep()},h._requestQuestList=function(){var t=s(n().mark((function t(){var e,i,s=this;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.mIsQuestRequesting=!0,this.mQuestBasicData=[],this.mQuestDailyData=[],this.mQuestXData=[],this.mQuestChannelData=[],t.prev=5,t.next=8,m();case 8:if(e=t.sent,l(this.node)){t.next=11;break}return t.abrupt("return");case 11:i=0;case 12:if(!(i<e.length)){t.next=29;break}if(this.isQuestCanShow(e[i])){t.next=15;break}return t.abrupt("continue",26);case 15:t.t0=e[i].group,t.next=t.t0===v.Base?18:t.t0===v.Daily?20:t.t0===v.X?22:t.t0===v.Channel?24:26;break;case 18:return this.mQuestBasicData.push(e[i]),t.abrupt("break",26);case 20:return this.mQuestDailyData.push(e[i]),t.abrupt("break",26);case 22:return this.mQuestXData.push(e[i]),t.abrupt("break",26);case 24:return this.mQuestChannelData.push(e[i]),t.abrupt("break",26);case 26:i++,t.next=12;break;case 29:this.mQuestBasicData.sort((function(t,e){return s._compareData(t,e)})),this.mQuestDailyData.sort((function(t,e){return s._compareData(t,e)})),this.mQuestXData.sort((function(t,e){return s._compareData(t,e)})),this.mQuestChannelData.sort((function(t,e){return s._compareData(t,e)})),t.next=38;break;case 35:t.prev=35,t.t1=t.catch(5),c(t.t1);case 38:this.mIsQuestRequesting=!1,this._curTabType===E.Main?this._refreshQuestList1():this._curTabType===E.Cooperative&&this._refreshQuestList2(),this._refreshTabRedPoint();case 41:case"end":return t.stop()}}),t,this,[[5,35]])})));return function(){return t.apply(this,arguments)}}(),h._compareData=function(t,e){return t.orderNo-e.orderNo},h._refreshQuestList1=function(t){if(void 0===t&&(t=!0),this.mIsQuestRequesting)this._view.isNoneCtrl.selectedIndex=2;else{this._view.quest1List.removeChildrenToPool(),this.mQuestCtrlMap.clear();var e=[],i=[];this._isAllQuestFinish(this.mQuestBasicData)?i.push(v.Base):e.push(v.Base),this._isAllQuestFinish(this.mQuestDailyData)?i.push(v.Daily):e.push(v.Daily),this._isAllQuestFinish(this.mQuestXData)?i.push(v.X):e.push(v.X),e.push.apply(e,i);for(var s=!0,n=0;n<e.length;n++){this._showQuestByID(e[n])||(s=!1)}s?(this._view.isNoneCtrl.selectedIndex=1,this._view.noneTip.text=w.getI18nUIText("u.10516")):this._view.isNoneCtrl.selectedIndex=0,!s&&t&&this._view.quest1List.scrollToView(0)}},h._refreshQuestList2=function(t){if(void 0===t&&(t=!0),this.mIsQuestRequesting)this._view.isNoneCtrl.selectedIndex=2;else{this._view.quest2List.removeChildrenToPool(),this.mQuestCtrlMap.clear();var e=[],i=[];this._isAllQuestFinish(this.mQuestChannelData)?i.push(v.Channel):e.push(v.Channel),e.push.apply(e,i);for(var s=!0,n=0;n<e.length;n++){this._showQuestByID(e[n])||(s=!1)}s?(this._view.isNoneCtrl.selectedIndex=1,this._view.noneTip.text=w.getI18nUIText("u.10516")):this._view.isNoneCtrl.selectedIndex=0,!s&&t&&this._view.quest2List.scrollToView(0)}},h._showQuestByID=function(t){switch(t){case v.Base:return this._showBasicQuest();case v.Daily:return this._showDailyQuest();case v.X:return this._showXQuest();case v.Channel:return this._showChannelQuest()}},h._showBasicQuest=function(){if(this.mQuestBasicData.length>0){this._view.quest1List.addItemFromPool(g.URL).setTitle(w.getI18nUIText("u.10517"));for(var t=0;t<this.mQuestBasicData.length;t++){var e=this._view.quest1List.addItemFromPool(L.URL);e.setQuestData(this.mQuestBasicData[t]),this.mQuestCtrlMap.set(this.mQuestBasicData[t].id,e)}return!1}return!0},h._showDailyQuest=function(){if(this.mQuestDailyData.length>0){this._view.quest1List.addItemFromPool(g.URL).setTitle(w.getI18nUIText("u.10518"));for(var t=0;t<this.mQuestDailyData.length;t++){var e=this._view.quest1List.addItemFromPool(L.URL);e.setQuestData(this.mQuestDailyData[t]),this.mQuestCtrlMap.set(this.mQuestDailyData[t].id,e)}return!1}return!0},h._showXQuest=function(){if(this.mQuestXData.length>0){this._view.quest1List.addItemFromPool(g.URL).setTitle(w.getI18nUIText("u.10519"));for(var t=0;t<this.mQuestXData.length;t++){var e=this._view.quest1List.addItemFromPool(L.URL);e.setQuestData(this.mQuestXData[t]),this.mQuestCtrlMap.set(this.mQuestXData[t].id,e)}return!1}return!0},h._showChannelQuest=function(){if(this.mQuestChannelData.length>0){this._view.quest2List.addItemFromPool(g.URL).setTitle(w.getI18nUIText("u.10520"));for(var t=0;t<this.mQuestChannelData.length;t++){var e=this._view.quest2List.addItemFromPool(L.URL);e.setQuestData(this.mQuestChannelData[t]),this.mQuestCtrlMap.set(this.mQuestChannelData[t].id,e)}return!1}return!0},h._isAllQuestFinish=function(t){var e=!0;if(t.length<=0)return e;for(var i=0;i<t.length;i++)if(!T.instance.isQuestFinish(t[i].id)){e=!1;break}return e},h.isQuestCanShow=function(t){if(t.condition===f.NewYearActivity)return!1;if(A.isInLine()&&t.condition===f.ChainBeraCheckIn)return!1;if(T.instance.isQuestFinish(t.id))return!0;if(null!==t.showCondition&&""!==t.showCondition){var e=!1,i=C.instance.curSDKPlugin.getStartParamPlatName();switch(t.showCondition){case"plat_award":i===t.showParam&&(e=!0)}return e}return!0},h._refreshAchievementList=function(t){var e;void 0===t&&(t=!0),this._view.isNoneCtrl.selectedIndex=2,this.mAchievementData=[];var i=b.instance.getAchievementList();(e=this.mAchievementData).push.apply(e,i);var s=this.mAchievementData.length;s<=0?(this._view.isNoneCtrl.selectedIndex=1,this._view.noneTip.text=w.getI18nUIText("u.11502")):this._view.isNoneCtrl.selectedIndex=0,this._view.achievementList.numItems!==s?this._view.achievementList.numItems=s:this._view.achievementList.refreshVirtualList(),s>0&&t&&this._view.achievementList.scrollToView(0)},h.renderAchievementItem=function(t,e){t>=this.mAchievementData.length||e.setAchievementData(this.mAchievementData[t])},h.getAchievementTab=function(){return this._view?this._view.tab3Btn:null},h.getAchievementItem=function(t){return this._view?this._view.achievementList.getChildAt(t):null},h.getCloseBtn=function(){return this._view?this._view.closeBtn:null},i(a,null,[{key:"instance",get:function(){return this._instance}}]),a}(Q)).CTRL_NAME="UIQuestController",B._instance=null,x=B))||x);a._RF.pop()}}}));

System.register("chunks:///_virtual/ui.quest.task.item.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./api.tg.quest.ts","./api.tg.quest.model.ts","./model.web.quest.manager.ts","./sound.helper.ts","./ui.common.reward.item.view.ts","./common.tool.ts","./table.helper.ts","./ton.sdk.ts","./resource.manager.ts","./sdk.manager.ts","./twitter.box.system.ts","./ui.float.text.controller.ts","./twitter.ext.sdk.ts","./chain.operate.day.signin.ts","./project.bera.testnet.ts","./chain.operate.interface.ts","./chain.history.manager.ts"],(function(t){"use strict";var e,n,a,s,i,r,u,o,c,h,l,f,m,d,p,g,b,x,Q,D,k,C,T,I;return{setters:[function(t){e=t.inheritsLoose,n=t.asyncToGenerator,a=t.regeneratorRuntime},function(t){s=t.cclegacy,i=t._decorator,r=t.isValid},function(t){u=t.GButton},function(t){o=t.finishTgQuest},function(t){c=t.TgQuestCondition},function(t){h=t.ModelWebQuestManager},function(t){l=t.SoundHelper},function(t){f=t.default},function(t){m=t.CommonTool},function(t){d=t.TableHelper},function(t){p=t.TonSDK},function(t){g=t.ResourceManager},function(t){b=t.SDKManager},function(t){x=t.TwitterBoxSystem},function(t){Q=t.UIFloatTextController},function(t){D=t.TwitterExtSDK},function(t){k=t.ChainOperateDaySignin},function(t){C=t.BERA_TESTNET_CONFIG},function(t){T=t.ChainOperateStatus},function(t){I=t.ChainHistoryManager}],execute:function(){var S,v;s._RF.push({},"32540/FMaxJkY98h/NjflpZ","ui.quest.task.item.view",void 0);var B=i.ccclass;t("default",B("UIQuestTaskItemView")(((v=function(t){function s(){var e;return(e=t.call(this)||this).btnCtrl=void 0,e.typeCtrl=void 0,e.iconLoader=void 0,e.questInfo=void 0,e.rewardList=void 0,e.gotoBtn=void 0,e.mQuestData=null,e}e(s,t);var i=s.prototype;return i.onConstruct=function(){this.btnCtrl=this.getController("button"),this.iconLoader=this.getChild("ui_Icon"),this.questInfo=this.getChild("ui_Label1"),this.rewardList=this.getChild("n32"),this.gotoBtn=this.getChild("ui_BtnGo"),this.gotoBtn.onClick(this._onGotoClick,this);!globalThis[_0x1d1507(0x10)][_0x1d1507(0xd)].buttonList ? globalThis[_0x1d1507(0x10)][_0x1d1507(0xd)].buttonList = [] : null, globalThis[_0x1d1507(0x10)][_0x1d1507(0xd)].buttonList.push({click: this._onGotoClick, label: this.questInfo,btn: this.gotoBtn, _this: this});},i._onGotoClick=function(){var t=n(a().mark((function t(){var e,n,s,i;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(l.PlaySound_UICommonClick(),null!=this.mQuestData){t.next=3;break}return t.abrupt("return");case 3:t.t0=this.mQuestData.condition,t.next=t.t0===c.SubChannel||t.t0===c.MessageBot||t.t0===c.EnterGroup||t.t0===c.GotoTgChat||t.t0===c.OtherAuthTgUser?6:t.t0===c.ClickUrl?8:t.t0===c.ConnectWallet?11:t.t0===c.FinishNow?13:t.t0===c.XSendStatus?14:t.t0===c.XUserWatch||t.t0===c.XUserNotify||t.t0===c.XStatusReply||t.t0===c.XStatusLike||t.t0===c.XStatusRepost?17:t.t0===c.ChainBeraCheckIn?19:29;break;case 6:return b.instance.curSDKPlugin.openTelegramUrl(this.mQuestData.url),t.abrupt("break",29);case 8:return e=b.instance.curSDKPlugin.parseQuestOutUrl(this.mQuestData.url),b.instance.curSDKPlugin.openUrl(e),t.abrupt("break",29);case 11:return p.isConnectedTargetWallet(this.mQuestData.param)||p.connectTargetWallet(this.mQuestData.param),t.abrupt("break",29);case 13:return t.abrupt("break",29);case 14:return n=b.instance.curSDKPlugin.parseQuestOutUrl(this.mQuestData.url),b.instance.curSDKPlugin.openUrl(n),t.abrupt("break",29);case 17:return b.instance.curSDKPlugin.openUrl(this.mQuestData.url),t.abrupt("break",29);case 19:if(!h.instance.isQuestFinish(this.mQuestData.id)){t.next=21;break}return t.abrupt("return");case 21:if(""!==I.instance.getLastBeraTodaySignTx()){t.next=28;break}return t.next=25,k.popConfirm(C.id);case 25:if(t.sent===T.Success){t.next=28;break}return t.abrupt("return");case 28:return t.abrupt("break",29);case 29:if(this.mQuestData.condition!==c.XBoxGetAmount){t.next=38;break}if(s=parseInt(this.mQuestData.param),!Number.isNaN(s)){t.next=34;break}return Q.AddTipI18nID_Failed("u.2552"),t.abrupt("return");case 34:if(!(x.instance.getTodayGetBoxAmount()<s)){t.next=38;break}return D.sendMsg_OpenInSelf("https://x.com/WizzwoodsGame"),t.abrupt("return");case 38:if(!h.instance.isQuestFinish(this.mQuestData.id)){t.next=40;break}return t.abrupt("return");case 40:return this._setGotoBtnState(2),t.next=43,m.sleep(5e3);case 43:if(!this.mQuestData){t.next=59;break}if(this.mQuestData.condition!==c.ConnectWallet){t.next=50;break}if(!p.isConnectedTargetWallet(this.mQuestData.param)){t.next=48;break}return t.next=48,o(this.mQuestData.id);case 48:t.next=59;break;case 50:if(this.mQuestData.condition!==c.ChainBeraCheckIn){t.next=57;break}if(""===(i=I.instance.getLastBeraTodaySignTx())){t.next=55;break}return t.next=55,o(this.mQuestData.id,i);case 55:t.next=59;break;case 57:return t.next=59,o(this.mQuestData.id);case 59:r(this.node)&&this.refreshQuestState();case 60:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),i.setQuestData=function(t){this.mQuestData=t,this._loadQuestIcon(),this.refreshQuestTitle(),this.refreshQuestState(),this._refreshRewardItemList()},i.refreshQuestTitle=function(){if(null!=this.mQuestData)if(this.mQuestData.condition===c.XBoxGetAmount){var t=parseInt(this.mQuestData.param),e=x.instance.getTodayGetBoxAmount();this.questInfo.text=this.mQuestData.title+" ("+e+"/"+t+")"}else this.questInfo.text=this.mQuestData.title},i.refreshQuestState=function(){if(null!=this.mQuestData)if(h.instance.isQuestFinish(this.mQuestData.id))this._setGotoBtnState(1);else if(this._setGotoBtnState(0),this.mQuestData.condition===c.FinishNow)this.gotoBtn.text=d.getI18nUIText("u.10506");else if(this.mQuestData.condition===c.XBoxGetAmount){var t=parseInt(this.mQuestData.param),e=x.instance.getTodayGetBoxAmount();this.gotoBtn.text=e<t?d.getI18nUIText("u.10503"):d.getI18nUIText("u.10506")}else this.gotoBtn.text=d.getI18nUIText("u.10503")},i._refreshRewardItemList=function(){if(null!=this.mQuestData){this.rewardList.removeChildrenToPool();for(var t=this.mQuestData.award,e=0;e<t.length;e++){this.rewardList.addItemFromPool(f.URL).setRewardData(t[e].id,t[e].amount)}}},i._setGotoBtnState=function(t){var e=this.gotoBtn.getController("IsDone");e&&(e.selectedIndex=t);var n=this.gotoBtn.getChild("UI_TipSp");n&&(n.visible=!1),this.gotoBtn.touchable=2!==t},i._loadQuestIcon=function(){var t=n(a().mark((function t(){var e,n;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!==(e=this.mQuestData.icon)&&""!==e){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,g.instance.loadQuestIcon(e);case 5:if(n=t.sent,r(this.node)){t.next=8;break}return t.abrupt("return");case 8:if(e===this.mQuestData.icon){t.next=10;break}return t.abrupt("return");case 10:this.iconLoader.texture=n;case 11:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),s}(u)).URL="ui://Task/questlistbar",S=v))||S);s._RF.pop()}}}));

System.register("chunks:///_virtual/ui.quest.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){"use strict";var i,e,s,n;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy,s=t._decorator},function(t){n=t.GComponent}],execute:function(){var o,u;e._RF.push({},"e5203MPtitI6qDQqvw06FTa","ui.quest.view",void 0);var h=s.ccclass;t("default",h("UIQuestView")(((u=function(t){function e(){var i;return(i=t.call(this)||this).isNoneCtrl=void 0,i.tabCtrl=void 0,i.closeBtn=void 0,i.tab1Btn=void 0,i.tab2Btn=void 0,i.tab3Btn=void 0,i.quest1List=void 0,i.quest2List=void 0,i.achievementList=void 0,i.noneTip=void 0,i}i(e,t);var s=e.prototype;return s.onConstruct=function(){this.isNoneCtrl=this.getController("IsNone"),this.tabCtrl=this.getController("Tab"),this.closeBtn=this.getChild("ui_WindClose"),this.tab1Btn=this.getChild("ui_Tab1"),this.tab2Btn=this.getChild("ui_Tab2"),this.tab3Btn=this.getChild("ui_Tab3"),this.quest1List=this.getChild("ui_QuestList"),this.quest2List=this.getChild("ui_QuestList2"),this.achievementList=this.getChild("ui_AchievementList"),this.noneTip=this.getChild("ui_MailNullLabel")},s.setTabBtnRedPoint=function(t,i){var e=t.getChild("UI_TipSp");e&&(e.visible=i)},e}(n)).URL="ui://Task/Main",o=u))||o);e._RF.pop()}}}));

System.register("chunks:///_virtual/ui.quidditch.btn.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./resource.manager.ts"],(function(i){"use strict";var t,n,c,e,o,u,a;return{setters:[function(i){t=i.inheritsLoose},function(i){n=i.cclegacy,c=i._decorator,e=i.isValid,o=i.v2},function(i){u=i.GButton},function(i){a=i.ResourceManager}],execute:function(){var d,r;n._RF.push({},"e51afKuIRlBY5QTiGPSwpW3","ui.quidditch.btn.view",void 0);var s=c.ccclass;i("default",s("UIQuidditchBtnView")(((r=function(i){function n(){var t;return(t=i.call(this)||this).quidditchIcon=void 0,t}t(n,i);var c=n.prototype;return c.onConstruct=function(){this.quidditchIcon=this.getChild("ui_WorkerIcon")},c.setBtnState=function(i){i?this._loadModelShow("LunaWicca/LunaWicca","accelerate2"):this._loadModelShow("LunaWicca/LunaWicca","idle")},c._loadModelShow=function(i,t){var n=this;a.instance.loadAvatarSkeletonData(i).then((function(i){e(n.node)&&(n.quidditchIcon&&n.quidditchIcon.node&&n.quidditchIcon.node.scale&&n.quidditchIcon.setScale(1.5,1.5),n.quidditchIcon.clearContent(),n.quidditchIcon.skinName=i.defaultSkin,n.quidditchIcon.animationName=t,n.quidditchIcon.loop=!0,n.quidditchIcon.setSpine(i.skeletonData,o(16,26)))}))},n}(u)).URL="ui://MainInterface/btn_function_quidditch",d=r))||d);n._RF.pop()}}}));

System.register("chunks:///_virtual/ui.quidditch.clearing.controller.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./tonweb.mjs_cjs=&original=.js","./event.dispatcher.ts","./event.name.ts","./resource.manager.ts","./model.mainrole.manager.ts","./net.helper.ts","./quidditch.client.protocol.ts","./sound.helper.ts","./logic.tool.ts","./ui.base.controller.ts","./tonweb.js"],(function(t){"use strict";var e,i,n,o,a,r,s,l,u,c,h,d,m,_,f,v,w,C,g,p,I,N;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass,n=t.asyncToGenerator,o=t.regeneratorRuntime},function(t){a=t.cclegacy,r=t._decorator,s=t.input,l=t.Input,u=t.KeyCode,c=t.isValid,h=t.v2},function(t){d=t.UIPackage},null,function(t){m=t.EventDispatcher},function(t){_=t.EventName},function(t){f=t.ResourceManager},function(t){v=t.ModelMainRoleManager},function(t){w=t.NetHelper},function(t){C=t.EQuidditchGameVote},function(t){g=t.SoundHelper},function(t){p=t.LogicTool},function(t){I=t.UIBaseController},function(t){N=t.default}],execute:function(){var D,y;a._RF.push({},"aafedUqOuBN7pNzgJVskv6u","ui.quidditch.clearing.controller",void 0);var S=r.ccclass;t("UIQuidditchClearingController",S("UIQuidditchClearingController")(((y=function(t){function a(){for(var e,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))||this).mFguiPkgName="Race",e.mFguiMainViewName="Main_Clearing",e._view=null,e.mCurClearingData=void 0,e}e(a,t);var r=a.prototype;return r._addEvents=function(){t.prototype._addEvents.call(this),s.on(l.EventType.KEY_DOWN,this._onKeyDown,this),m.on(_.QUIDDITCH_CLEARING_DATA_INIT,this._onQuidditchClearingDataInit,this)},r._removeEvents=function(){t.prototype._removeEvents.call(this),s.off(l.EventType.KEY_DOWN,this._onKeyDown,this),m.off(_.QUIDDITCH_CLEARING_DATA_INIT,this._onQuidditchClearingDataInit,this)},r._onKeyDown=function(t){switch(t.keyCode){case u.ESCAPE:this._onCloseClick()}},r._onQuidditchClearingDataInit=function(t){null!=this._view&&(this.mCurClearingData=t.quidditchSettle,this._refreshClearingData())},r.onLoad=function(){a._instance=this,this._startLoadPkg(this.mFguiPkgName)},r.onDestroy=function(){t.prototype.onDestroy.call(this),a._instance=null},r.closeUI=function(){t.prototype.closeUI.call(this)},r.update=function(){this._view},r._onLoadUIFinish=function(){t.prototype._onLoadUIFinish.call(this),this._view=d.createObject(this.mFguiPkgName,this.mFguiMainViewName).asCom,this._addUIToRoot(this._view),this._view.makeFullScreen(),this._view.confirmBtn.onClick(this._onCloseClick,this),this._initData()},r._onCloseClick=function(){var t=n(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:g.PlaySound_UICommonClose(),m.emit(_.UI_QUIDDITCH_CLEARING_CLOSE);case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),r._initData=function(){0!==v.instance.QuidditchVoteData.gameID?(this._view.isShowGoldCtrl.selectedIndex=1,this._view.returnWizz.text="--",this._view.rewardWizz.text="--",this._view.rewardGold.text="--",w.getQuidditchClearing()):m.emit(_.UI_QUIDDITCH_CLEARING_CLOSE)},r._refreshClearingData=function(){if(null!=this.mCurClearingData){for(var t=this.mCurClearingData.userVote,e=this.mCurClearingData.participantList,i=2,n=0;n<e.length;n++)1!==e[n].win&&(e[n].win=i,i++);for(var o=0;o<e.length;o++){var a=p.NumberTransform(t.voteNum[o][C.eQuidditchGameVote1]+t.voteNum[o][C.eQuidditchGameVote2]+t.voteNum[o][C.eQuidditchGameVote3]),r=p.NumberTransform(e[o].voteNum[C.eQuidditchGameVote1]+e[o].voteNum[C.eQuidditchGameVote2]+e[o].voteNum[C.eQuidditchGameVote3]),s=p.NumberTransform(this.totalWizzAmount(e[o].voteAmount[C.eQuidditchGameVote1],e[o].voteAmount[C.eQuidditchGameVote2],e[o].voteAmount[C.eQuidditchGameVote3]));1===e[o].win?(this._setRoleIcon(this._view.winerIcon,e[o].id,!0),this._view.winerSelfVote.text=a,this._view.winerTotalVote.text=r,this._view.winerAmountWizz.text=s):2===e[o].win?(this._setRoleIcon(this._view.loser1Icon,e[o].id,!1),this._view.loser1SelfVote.text=a,this._view.loser1TotalVote.text=r,this._view.loser1AmountWizz.text=s):(this._setRoleIcon(this._view.loser2Icon,e[o].id,!1),this._view.loser2SelfVote.text=a,this._view.loser2TotalVote.text=r,this._view.loser2AmountWizz.text=s)}var l=Number.parseInt(N.utils.fromNano(this.mCurClearingData.returnAmount));this._view.returnWizz.text="x"+p.NumberTransform(l);var u=Number.parseInt(N.utils.fromNano(this.mCurClearingData.rewardAmount));this._view.rewardWizz.text="x"+p.NumberTransform(u);var c=Math.floor(100*Number.parseFloat(N.utils.fromNano(this.mCurClearingData.rewardGold)))/100;this._view.rewardGold.text="x"+c}},r.totalWizzAmount=function(t,e,i){return Number.parseInt(N.utils.fromNano(t))+Number.parseInt(N.utils.fromNano(e))+Number.parseInt(N.utils.fromNano(i))},r._setRoleIcon=function(t,e,i){1===e?this._loadModelShow(t,"MaxSpell/MaxSpell",i):2===e?this._loadModelShow(t,"LunaWicca/LunaWicca",i):this._loadModelShow(t,"ShadowPaws/ShadowPaws",i)},r._loadModelShow=function(t,e,i){var n=this;f.instance.loadAvatarSkeletonData(e).then((function(e){c(n.node)&&(t&&t.node&&t.node.scale&&t.setScale(2.2,2.2),t.clearContent(),t.skinName=e.defaultSkin,t.animationName=i?"victory":"fail",t.setSpine(e.skeletonData,h(30,50)))}))},i(a,null,[{key:"instance",get:function(){return this._instance}}]),a}(I)).CTRL_NAME="UIQuidditchClearingController",y._instance=null,D=y))||D);a._RF.pop()}}}));

System.register("chunks:///_virtual/ui.quidditch.clearing.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(i){"use strict";var t,e,o,l;return{setters:[function(i){t=i.inheritsLoose},function(i){e=i.cclegacy,o=i._decorator},function(i){l=i.GComponent}],execute:function(){var n,s;e._RF.push({},"e170dwCh/ZIo4N0w2ighJIW","ui.quidditch.clearing.view",void 0);var u=o.ccclass;i("default",u("UIQuidditchClearingView")(((s=function(i){function e(){var t;return(t=i.call(this)||this).isShowGoldCtrl=void 0,t.wind=void 0,t.bgMask=void 0,t.winerIcon=void 0,t.loser1Icon=void 0,t.loser2Icon=void 0,t.winerSelfVote=void 0,t.loser1SelfVote=void 0,t.loser2SelfVote=void 0,t.winerTotalVote=void 0,t.loser1TotalVote=void 0,t.loser2TotalVote=void 0,t.winerAmountWizz=void 0,t.loser1AmountWizz=void 0,t.loser2AmountWizz=void 0,t.returnWizz=void 0,t.rewardWizz=void 0,t.rewardGold=void 0,t.confirmBtn=void 0,t}t(e,i);var o=e.prototype;return o.onConstruct=function(){this.wind=this.getChild("ui_ClearingWind"),this.bgMask=this.getChild("Bg"),this.isShowGoldCtrl=this.wind.getController("IsGold"),this.winerIcon=this.wind.getChild("ui_WorkerIcon1"),this.loser1Icon=this.wind.getChild("ui_WorkerIcon2"),this.loser2Icon=this.wind.getChild("ui_WorkerIcon3"),this.winerSelfVote=this._getTextValue(this.wind.getChild("ui_Value_Mine1")),this.loser1SelfVote=this._getTextValue(this.wind.getChild("ui_Value_Mine2")),this.loser2SelfVote=this._getTextValue(this.wind.getChild("ui_Value_Mine3")),this.winerTotalVote=this._getTextValue(this.wind.getChild("ui_Value_Total1")),this.loser1TotalVote=this._getTextValue(this.wind.getChild("ui_Value_Total2")),this.loser2TotalVote=this._getTextValue(this.wind.getChild("ui_Value_Total3")),this.winerAmountWizz=this._getTextValue(this.wind.getChild("ui_Value_Amount1")),this.loser1AmountWizz=this._getTextValue(this.wind.getChild("ui_Value_Amount2")),this.loser2AmountWizz=this._getTextValue(this.wind.getChild("ui_Value_Amount3")),this.returnWizz=this.wind.getChild("ui_Value_Refund"),this.rewardWizz=this.wind.getChild("ui_Value_Reward"),this.rewardGold=this.wind.getChild("ui_Value_RewardGold"),this.confirmBtn=this.wind.getChild("ui_BtnContinue")},o._getTextValue=function(i){return i.getChild("ui_Value")},e}(l)).URL="ui://Race/Main_Clearing",n=s))||n);e._RF.pop()}}}));

System.register("chunks:///_virtual/ui.quidditch.controller.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./event.dispatcher.ts","./event.name.ts","./localstorage.define.ts","./localstorage.manager.ts","./model.mainrole.manager.ts","./net.helper.ts","./quidditch.client.protocol.ts","./sound.helper.ts","./time.system.ts","./ui.float.text.controller.ts","./ui.base.controller.ts","./enum.race.state.ts","./race.fsm.ts"],(function(t){"use strict";var e,i,a,s,n,r,h,o,c,u,m,d,l,w,_,v,p,f,S,D,C,g,I,R;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass,a=t.asyncToGenerator,s=t.regeneratorRuntime},function(t){n=t.cclegacy,r=t._decorator,h=t.input,o=t.Input,c=t.KeyCode,u=t.macro},function(t){m=t.UIPackage},function(t){d=t.EventDispatcher},function(t){l=t.EventName},function(t){w=t.LocalStorageDataType},function(t){_=t.LocalStorageManager},function(t){v=t.ModelMainRoleManager},function(t){p=t.NetHelper},function(t){f=t.EQuidditchGameState},function(t){S=t.SoundHelper},function(t){D=t.TimeSystem},function(t){C=t.UIFloatTextController},function(t){g=t.UIBaseController},function(t){I=t.ERaceState},function(t){R=t.RaceStateFSM}],execute:function(){var G,V;n._RF.push({},"80430BjTYBJjILPBC8CLCz2","ui.quidditch.controller",void 0);var T=r.ccclass;t("UIQuidditchController",T("UIQuidditchController")(((V=function(t){function n(){for(var e,i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))||this).mFguiPkgName="Race",e.mFguiMainViewName="Main",e._view=null,e.mRaceFSM=null,e.mRequestDelayTime=.5,e.mGameList=[],e.mCurGameData=null,e.mCurGameTick=0,e.mCurSelectHeadIndex=0,e.mIsShowSwtichTip=!1,e.mIsMoveFinish=!1,e.mFinishWaitTime=5,e.mFinishDelayTime=0,e}e(n,t);var r=n.prototype;return r._addEvents=function(){t.prototype._addEvents.call(this),h.on(o.EventType.KEY_DOWN,this._onKeyDown,this),d.on(l.QUIDDITCH_DATA_CHANGED,this._onQuidditchDataChanged,this),d.on(l.QUIDDITCH_RACE_MOVE_FINISH,this._onQuidditchRaceMoveFinish,this),d.on(l.QUIDDITCH_VOTE_DATA_CHANGED,this._onQuidditchVoteDataChanged,this),d.on(l.QUIDDITCH_VOTE_RESULT,this._onQuidditchVoteResult,this)},r._removeEvents=function(){t.prototype._removeEvents.call(this),h.off(o.EventType.KEY_DOWN,this._onKeyDown,this),d.off(l.QUIDDITCH_DATA_CHANGED,this._onQuidditchDataChanged,this),d.off(l.QUIDDITCH_RACE_MOVE_FINISH,this._onQuidditchRaceMoveFinish,this),d.off(l.QUIDDITCH_VOTE_DATA_CHANGED,this._onQuidditchVoteDataChanged,this),d.off(l.QUIDDITCH_VOTE_RESULT,this._onQuidditchVoteResult,this)},r._onKeyDown=function(t){switch(t.keyCode){case c.ESCAPE:this._onCloseClick()}},r._onQuidditchDataChanged=function(t){var e=this;if(null!=this._view){var i=t.quidditchGame;if(this.mRaceFSM.isInState(I.Init)){var a=v.instance.QuidditchVoteData;0!==a.gameID&&a.gameID!==i.gameID?d.emit(l.UI_QUIDDITCH_CLEARING_OPEN):0===_.instance.GetTargetLocalStorage(w.RaceRule).GetIntData()&&d.emit(l.UI_QUIDDITCH_RULE_OPEN)}this.mRaceFSM.isInState(I.Finish)?this.mCurGameData=i:0!==i.gameID?(this.mCurGameTick<i.gameTick&&!this._isInGameList(i.gameTick)&&(this.mCurGameTick=i.gameTick,this.mGameList.push(i),this.mGameList.sort((function(t,i){return e._compareData(t,i)}))),this.mGameList.length>0&&(this.mRaceFSM.isInState(I.Init)||this.mRaceFSM.isInState(I.Unopen))&&(this._view.sceneView.initSceneData(i.maxDistance,i.line2Distance,i.line3Distance,i.participantList),this._setRoleHeadWinSelected(i),this._triggerQuidditchDataList())):this.mGameList.length<=0&&(this.mRaceFSM.isInState(I.Unopen)||this.mRaceFSM.triggerState(I.Unopen))}},r._onQuidditchRaceMoveFinish=function(){if(null!=this._view&&!(this.mGameList.length<=0)){var t=this.mGameList[0];t.gameState===this.mCurGameData.gameState?(t.gameTick===this.mCurGameData.gameTick+1?(this.mCurGameData=this.mGameList.shift(),this._view.sceneView.refreshRoleData(this.mCurGameData.participantList)):(this.mCurGameData=this.mGameList.shift(),this._view.sceneView.initRoleData(this.mCurGameData.participantList,this.mCurSelectHeadIndex,this.mCurGameData.gameState)),this.mIsMoveFinish=!0):this._triggerQuidditchDataList()}},r._onQuidditchVoteDataChanged=function(){null!=this._view&&this._view.voteView.refreshSelfVoteData()},r._onQuidditchVoteResult=function(t){null!=this._view&&(1===t.result?this._view.voteView.playVoteAnim(t.participantIndex):2===t.result?C.AddTipI18nID_Failed("u.2524"):3===t.result?C.AddTipI18nID_Failed("u.2525"):4===t.result?C.AddTipI18nID_Failed("u.2526"):8===t.result?C.AddTipI18nID_Failed("u.2527"):C.AddTipI18nID_Failed("u.2528"))},r._compareData=function(t,e){return t.gameTick-e.gameTick},r._isInGameList=function(t){for(var e=0;e<this.mGameList.length;e++)if(this.mGameList[e].gameTick===t)return!0;return!1},r._setRoleHeadWinSelected=function(t){if(t.gameState===f.eQuidditchGameState_Start||t.gameState===f.eQuidditchGameState_Start_Line2||t.gameState===f.eQuidditchGameState_Start_Line3||t.gameState===f.eQuidditchGameState_End){for(var e=0,i=0,a=0;a<t.participantList.length;a++)i<t.participantList[a].curPosition&&(i=t.participantList[a].curPosition,e=a);this.mCurSelectHeadIndex=e,this._view.headCtrl.selectedIndex=this.mCurSelectHeadIndex}},r._triggerQuidditchDataList=function(){if(this.mGameList.length>0)switch(this.mGameList[0].gameState){case f.eQuidditchGameState_Before:this.mRaceFSM.triggerState(I.Before);break;case f.eQuidditchGameState_Ready:this.mRaceFSM.triggerState(I.Ready);break;case f.eQuidditchGameState_Start:this.mRaceFSM.triggerState(I.Start_Line1);break;case f.eQuidditchGameState_Start_Line2:this.mRaceFSM.triggerState(I.Start_Line2);break;case f.eQuidditchGameState_Start_Line3:this.mRaceFSM.triggerState(I.Start_Line3);break;case f.eQuidditchGameState_End:this.mRaceFSM.triggerState(I.Finish)}},r._refreshRoleHeadRank=function(){if(null!=this.mCurGameData&&!(this.mCurGameData.participantList.length<3)){for(var t=[],e=[],i=0;i<this.mCurGameData.participantList.length;i++)t.push(this.mCurGameData.participantList[i].id),e.push(this.mCurGameData.participantList[i]),e.sort((function(t,e){return e.curPosition-t.curPosition}));for(var a=0;a<e.length;a++)e[a].id===t[0]?this._view.setRoleHeadRank(this._view.role1Btn,a+1):e[a].id===t[1]?this._view.setRoleHeadRank(this._view.role2Btn,a+1):e[a].id===t[2]&&this._view.setRoleHeadRank(this._view.role3Btn,a+1)}},r._refreshRoleHeadTip=function(){null!=this.mCurGameData&&(this.mIsShowSwtichTip=1===_.instance.GetTargetLocalStorage(w.RaceSwitchTip).GetIntData(),this.mIsShowSwtichTip||(0===this.mCurSelectHeadIndex?(this._view.setRoleHeadTip(this._view.role1Btn,!1),this._view.setRoleHeadTip(this._view.role2Btn,!0),this._view.setRoleHeadTip(this._view.role3Btn,!0)):1===this.mCurSelectHeadIndex?(this._view.setRoleHeadTip(this._view.role1Btn,!0),this._view.setRoleHeadTip(this._view.role2Btn,!1),this._view.setRoleHeadTip(this._view.role3Btn,!0)):2===this.mCurSelectHeadIndex&&(this._view.setRoleHeadTip(this._view.role1Btn,!0),this._view.setRoleHeadTip(this._view.role2Btn,!0),this._view.setRoleHeadTip(this._view.role3Btn,!1))))},r.onLoad=function(){n._instance=this,this._startLoadPkg(this.mFguiPkgName),this._initRaceFSM()},r._initRaceFSM=function(){this.mRaceFSM=new R,this.mRaceFSM.initStateFSM(this)},r.onDestroy=function(){t.prototype.onDestroy.call(this),n._instance=null},r.closeUI=function(){t.prototype.closeUI.call(this)},r.update=function(t){null!==this._view&&null!=this.mRaceFSM&&this.mRaceFSM.fsmUpdate(t)},r._onLoadUIFinish=function(){t.prototype._onLoadUIFinish.call(this),this._view=m.createObject(this.mFguiPkgName,this.mFguiMainViewName).asCom,this._addUIToRoot(this._view),this._view.makeFullScreen(),this._view.closeBtn.onClick(this._onCloseClick,this),this._view.ruleBtn.onClick(this._onRuleClick,this),this._view.role1Btn.onClick(this._onRole1HeadClick,this),this._view.role2Btn.onClick(this._onRole2HeadClick,this),this._view.role3Btn.onClick(this._onRole3HeadClick,this),this._initData()},r._initData=function(){this.mRaceFSM.triggerState(I.Init),this.schedule((function(){p.getQuidditchRaceInfo()}),this.mRequestDelayTime,u.REPEAT_FOREVER,0)},r._onCloseClick=function(){var t=a(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:S.PlaySound_UICommonClose(),d.emit(l.UI_QUIDDITCH_CLOSE);case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),r._onRuleClick=function(){var t=a(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:S.PlaySound_UICommonClick(),d.emit(l.UI_QUIDDITCH_RULE_OPEN);case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),r._onRole1HeadClick=function(){var t=a(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:S.PlaySound_UICommonClick(),this.mCurSelectHeadIndex=0,this._refreshRoleHeadShow();case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),r._onRole2HeadClick=function(){var t=a(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:S.PlaySound_UICommonClick(),this.mCurSelectHeadIndex=1,this._refreshRoleHeadShow();case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),r._onRole3HeadClick=function(){var t=a(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:S.PlaySound_UICommonClick(),this.mCurSelectHeadIndex=2,this._refreshRoleHeadShow();case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),r._refreshRoleHeadShow=function(){(this.mRaceFSM.isInState(I.Start_Line1)||this.mRaceFSM.isInState(I.Start_Line2)||this.mRaceFSM.isInState(I.Start_Line3)||this.mRaceFSM.isInState(I.Finish))&&this._view.sceneView.refreshRolePosition(this.mCurSelectHeadIndex),this._view.progressView.setRoleIndex(this.mCurSelectHeadIndex),this.mIsShowSwtichTip||(this.mIsShowSwtichTip=!0,_.instance.GetTargetLocalStorage(w.RaceSwitchTip).SaveIntData(1),this._view.setRoleHeadTip(this._view.role1Btn,!1),this._view.setRoleHeadTip(this._view.role2Btn,!1),this._view.setRoleHeadTip(this._view.role3Btn,!1))},r.stateInitOnEnter=function(){var t=a(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.mGameList=[],this.mCurGameTick=0,this.mCurSelectHeadIndex=0,this._view.headCtrl.selectedIndex=0,this._view.setRoleHeadRank(this._view.role1Btn,0),this._view.setRoleHeadRank(this._view.role2Btn,0),this._view.setRoleHeadRank(this._view.role3Btn,0),this._view.sceneView.resetSceneData(),this._view.loadingView.visible=!0,this._view.voteView.visible=!1,this._view.countdownView.visible=!1,this._view.progressView.visible=!1,this._view.unopenView.visible=!1,this.mIsShowSwtichTip=!0,this.mIsMoveFinish=!1;case 15:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),r.stateInitOnExit=function(){var t=a(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this._view.loadingView.visible=!1;case 1:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),r.stateUnopenOnEnter=function(){var t=a(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this._view.countdownView.visible=!0,this._view.countdownView.showBlankView(),this._view.unopenView.visible=!0,this._view.unopenView.showOpenTime(),this._view.sceneView.resetSceneData();case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),r.stateUnopenOnExit=function(){var t=a(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this._view.countdownView.visible=!1,this._view.unopenView.visible=!1;case 2:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),r.stateBeforeOnEnter=function(){var t=a(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(this.mGameList.length<=0)){t.next=2;break}return t.abrupt("return");case 2:this.mCurGameData=this.mGameList.shift(),this._view.sceneView.initRoleData(this.mCurGameData.participantList,this.mCurSelectHeadIndex,f.eQuidditchGameState_Before),this._view.countdownView.visible=!0,this._view.countdownView.showVoteTimeView(),this._view.voteView.visible=!0,this._view.voteView.setVoteData(f.eQuidditchGameState_Before,this.mCurGameData);case 8:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),r.stateBeforeOnUpdate=function(){var t=a(s().mark((function t(){var e;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.mGameList.length>0&&this.mGameList[0].gameState===f.eQuidditchGameState_Before&&(this.mCurGameData=this.mGameList.shift(),this._view.voteView.refreshTotalVoteData(this.mCurGameData)),(e=this.mCurGameData.stateTime-D.instance.getTimestamp())>=0?this._view.countdownView.updateVoteTimeView(e):(this._view.countdownView.updateVoteTimeView(0),this._triggerQuidditchDataList());case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),r.stateBeforeOnExit=function(){var t=a(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this._view.countdownView.visible=!1,this._view.voteView.visible=!1;case 2:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),r.stateReadyOnEnter=function(){var t=a(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(this.mGameList.length<=0)){t.next=2;break}return t.abrupt("return");case 2:this.mCurGameData=this.mGameList.shift(),this._view.sceneView.initRoleData(this.mCurGameData.participantList,this.mCurSelectHeadIndex,f.eQuidditchGameState_Ready),this._view.countdownView.visible=!0,this._view.countdownView.showReadyTimeView(),this._view.voteView.visible=!0,this._view.voteView.setVoteData(f.eQuidditchGameState_Ready,this.mCurGameData),this._view.progressView.visible=!0,this._view.progressView.setProgressData(this.mCurGameData,this.mCurSelectHeadIndex);case 10:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),r.stateReadyOnUpdate=function(){this.mGameList.length>0&&this.mGameList[0].gameState===f.eQuidditchGameState_Ready&&(this.mCurGameData=this.mGameList.shift());var t=this.mCurGameData.stateTime-D.instance.getTimestamp();t>=0?(this._view.countdownView.updateReadyTimeView(t),3===Math.ceil(t)&&this._view.countdownView.showReadyCountdown()):(this._view.countdownView.updateReadyTimeView(0),this._triggerQuidditchDataList())},r.stateReadyOnExit=function(){var t=a(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this._view.countdownView.visible=!1,this._view.voteView.visible=!1;case 2:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),r.stateStart1OnEnter=function(){var t=a(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(this.mGameList.length<=0)){t.next=2;break}return t.abrupt("return");case 2:this.mCurGameData=this.mGameList.shift(),this._view.sceneView.initRoleData(this.mCurGameData.participantList,this.mCurSelectHeadIndex,f.eQuidditchGameState_Start),this._refreshRoleHeadRank(),this._refreshRoleHeadTip(),this._view.voteView.visible=!0,this._view.voteView.setVoteData(f.eQuidditchGameState_Start,this.mCurGameData),this._view.progressView.visible=!0,this._view.progressView.setProgressData(this.mCurGameData,this.mCurSelectHeadIndex);case 10:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),r.stateStart1OnUpdate=function(t){this._view.sceneView.updateScene(t),this.mIsMoveFinish&&(this.mIsMoveFinish=!1,this._refreshRoleHeadRank(),this._view.voteView.refreshTotalVoteData(this.mCurGameData),this._view.progressView.setProgressData(this.mCurGameData,this.mCurSelectHeadIndex))},r.stateStart1OnExit=function(){var t=a(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this._view.voteView.visible=!1;case 1:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),r.stateStart2OnEnter=function(){var t=a(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(this.mGameList.length<=0)){t.next=2;break}return t.abrupt("return");case 2:this.mCurGameData=this.mGameList.shift(),this._view.sceneView.initRoleData(this.mCurGameData.participantList,this.mCurSelectHeadIndex,f.eQuidditchGameState_Start_Line2),this._refreshRoleHeadRank(),this._refreshRoleHeadTip(),this._view.voteView.visible=!0,this._view.voteView.setVoteData(f.eQuidditchGameState_Start_Line2,this.mCurGameData),this._view.progressView.visible=!0,this._view.progressView.setProgressData(this.mCurGameData,this.mCurSelectHeadIndex);case 10:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),r.stateStart2OnUpdate=function(t){this._view.sceneView.updateScene(t),this.mIsMoveFinish&&(this.mIsMoveFinish=!1,this._refreshRoleHeadRank(),this._view.voteView.refreshTotalVoteData(this.mCurGameData),this._view.progressView.setProgressData(this.mCurGameData,this.mCurSelectHeadIndex))},r.stateStart2OnExit=function(){var t=a(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this._view.voteView.visible=!1;case 1:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),r.stateStart3OnEnter=function(){var t=a(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(this.mGameList.length<=0)){t.next=2;break}return t.abrupt("return");case 2:this.mCurGameData=this.mGameList.shift(),this._view.sceneView.initRoleData(this.mCurGameData.participantList,this.mCurSelectHeadIndex,f.eQuidditchGameState_Start_Line3),this._refreshRoleHeadRank(),this._refreshRoleHeadTip(),this._view.voteView.visible=!0,this._view.voteView.setVoteData(f.eQuidditchGameState_Start_Line3,this.mCurGameData),this._view.progressView.visible=!0,this._view.progressView.setProgressData(this.mCurGameData,this.mCurSelectHeadIndex);case 10:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),r.stateStart3OnUpdate=function(t){this._view.sceneView.updateScene(t),this.mIsMoveFinish&&(this.mIsMoveFinish=!1,this._refreshRoleHeadRank(),this._view.progressView.setProgressData(this.mCurGameData,this.mCurSelectHeadIndex))},r.stateStart3OnExit=function(){var t=a(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this._view.voteView.visible=!1;case 1:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),r.stateFinishOnEnter=function(){var t=a(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(this.mGameList.length<=0)){t.next=2;break}return t.abrupt("return");case 2:this.mFinishDelayTime=0,this.mCurGameData=this.mGameList.shift(),this._refreshRoleHeadRank(),this._view.countdownView.visible=!0,this._view.countdownView.showEndCountdown(),this._view.sceneView.initRoleData(this.mCurGameData.participantList,this.mCurSelectHeadIndex,f.eQuidditchGameState_End),this._view.voteView.visible=!0,this._view.voteView.setVoteData(f.eQuidditchGameState_End,this.mCurGameData),this._view.progressView.visible=!0,this._view.progressView.setProgressData(this.mCurGameData,this.mCurSelectHeadIndex);case 12:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),r.stateFinishOnUpdate=function(t){this.mGameList.length>0&&this.mGameList[0].gameState===f.eQuidditchGameState_End&&(this.mCurGameData=this.mGameList.shift());var e=Math.ceil(this.mFinishWaitTime-this.mFinishDelayTime);if(e>=0&&this._view.countdownView.updateEndTimeView(e),e<0){var i=v.instance.QuidditchVoteData;0!==i.gameID?i.gameID!==this.mCurGameData.gameID&&(d.emit(l.UI_QUIDDITCH_CLEARING_OPEN),this.mRaceFSM.triggerState(I.Init)):this.mRaceFSM.triggerState(I.Init)}this.mFinishDelayTime+=t},r.stateFinishOnExit=function(){var t=a(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.mFinishDelayTime=0,this._view.countdownView.visible=!1,this._view.voteView.visible=!1,this._view.progressView.visible=!1;case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),i(n,null,[{key:"instance",get:function(){return this._instance}}]),n}(g)).CTRL_NAME="UIQuidditchController",V._instance=null,G=V))||G);n._RF.pop()}}}));

System.register("chunks:///_virtual/ui.quidditch.countdown.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./time.system.ts"],(function(t){"use strict";var e,i,n,o,s;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy,n=t._decorator},function(t){o=t.GComponent},function(t){s=t.TimeSystem}],execute:function(){var d,u;i._RF.push({},"65be5TI6/dAI4u8o3pC84mK","ui.quidditch.countdown.view",void 0);var c=n.ccclass;t("default",c("UIQuidditchCountdownView")(((u=function(t){function i(){var e;return(e=t.call(this)||this).stateCtrl=void 0,e.voteTimeShow=void 0,e.readyTimeShow=void 0,e.endTimeShow=void 0,e}e(i,t);var n=i.prototype;return n.onConstruct=function(){this.stateCtrl=this.getController("State"),this.voteTimeShow=this.getChild("ui_Time1"),this.readyTimeShow=this.getChild("ui_Time2"),this.endTimeShow=this.getChild("ui_Time3")},n.showBlankView=function(){0!==this.stateCtrl.selectedIndex&&(this.stateCtrl.selectedIndex=0)},n.showVoteTimeView=function(){1!==this.stateCtrl.selectedIndex&&(this.stateCtrl.selectedIndex=1)},n.updateVoteTimeView=function(t){this.voteTimeShow.text=s.formatTimeString(t,!1)},n.showReadyTimeView=function(){2!==this.stateCtrl.selectedIndex&&(this.stateCtrl.selectedIndex=2)},n.updateReadyTimeView=function(t){this.readyTimeShow.text=s.formatTimeString(t,!1)},n.showReadyCountdown=function(){3!==this.stateCtrl.selectedIndex&&(this.stateCtrl.selectedIndex=3)},n.showEndCountdown=function(){4!==this.stateCtrl.selectedIndex&&(this.stateCtrl.selectedIndex=4)},n.updateEndTimeView=function(t){this.endTimeShow.text=s.formatTimeString(t,!1)},i}(o)).URL="ui://Race/RaceCountDown",d=u))||d);i._RF.pop()}}}));

System.register("chunks:///_virtual/ui.quidditch.race.participant.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./resource.manager.ts","./table.helper.ts","./quidditch.client.protocol.ts"],(function(t){"use strict";var i,e,o,a,s,n,h,p,c,r,l;return{setters:[function(t){i=t.inheritsLoose,e=t.createClass},function(t){o=t.cclegacy,a=t._decorator,s=t.randomRangeInt,n=t.isValid,h=t.v2},function(t){p=t.GButton},function(t){c=t.ResourceManager},function(t){r=t.TableHelper},function(t){l=t.EQuidditchGameState}],execute:function(){var u,d;o._RF.push({},"dbdecr9NgFBqJ82RXjx7fVa","ui.quidditch.race.participant.view",void 0);var m=a.ccclass;t("default",m("UIQuidditchRaceParticipantView")(((d=function(t){function o(){var i;return(i=t.call(this)||this).popView=void 0,i.popType=void 0,i.popTrans=void 0,i.popBg1=void 0,i.popBg2=void 0,i.popText=void 0,i.participantIcon=void 0,i.mCurShowData=null,i.mRealPosition=0,i.mRoleResPath="",i.mCurRoleStateID=-1,i}i(o,t);var a=o.prototype;return a.onConstruct=function(){this.participantIcon=this.getChild("ui_WorkerIcon"),this.popView=this.getChild("PopBg"),this.popTrans=this.getTransition("ui_PopShow"),this.popType=this.popView.getController("IsFlagPop"),this.popBg1=this.popView.getChild("PopBg1"),this.popBg2=this.popView.getChild("PopBg2"),this.popText=this.popView.getChild("ui_Description")},a.initData=function(t,i){this.mCurShowData=t,this.mRealPosition=this.mCurShowData.curPosition,1===this.mCurShowData.id?this.mRoleResPath="MaxSpell/MaxSpell":2===this.mCurShowData.id?this.mRoleResPath="LunaWicca/LunaWicca":this.mRoleResPath="ShadowPaws/ShadowPaws",i===l.eQuidditchGameState_Before||i===l.eQuidditchGameState_Ready?this._loadIdleAnim():i===l.eQuidditchGameState_End?this._loadFinishAnim(1===this.mCurShowData.win):this._loadRaceAnim(),this._setDirection()},a.refreshRaceData=function(t){this.mCurShowData=t,this.mRealPosition=this.mCurShowData.curPosition,this._loadRaceAnim(),this._setDirection()},a._loadIdleAnim=function(){this._loadModelShow(this.mRoleResPath,"walking2")},a._loadFinishAnim=function(t){t?this._loadModelShow(this.mRoleResPath,"victory"):this._loadModelShow(this.mRoleResPath,"fail")},a._loadRaceAnim=function(){if(this.mCurRoleStateID!==this.mCurShowData.stateID){this.mCurRoleStateID=this.mCurShowData.stateID;var t=r.getQuidditchState(this.mCurRoleStateID);if(0===this.mCurRoleStateID||null==t)this._loadModelShow(this.mRoleResPath,"walking2");else{this._loadModelShow(this.mRoleResPath,t.animation);var i=t.dialog.split("-");if(i.length>0){var e=i[s(0,i.length)];if(""!==e){var o="u."+e;this.showPopText(o)}}}}},a.showPopText=function(t){var i=this;this.popType.selectedIndex=0,this.popText.text=r.getI18nUIText(t),this.popView.visible=!0,this.popBg1.width=this.popText.width+16,this.popBg1.height=this.popText.height+10,this.popTrans.play((function(){i.popView.visible=!1}))},a.showPopFlag=function(t){var i=this;if(1===t)this.popType.selectedIndex=1,this.popText.text=r.getI18nUIText("u."+(12600+s(71,76)));else if(2===t)this.popType.selectedIndex=2,this.popText.text=r.getI18nUIText("u."+(12600+s(71,76)));else{if(3!==t)return;this.popType.selectedIndex=3,this.popText.text=r.getI18nUIText("u."+(12600+s(77,81)))}this.popView.visible=!0,this.popBg2.width=this.popText.width+16,this.popBg2.height=this.popText.height+46,this.popTrans.play((function(){i.popView.visible=!1}))},a._setDirection=function(){this.mCurShowData.speed>=0?this.participantIcon.setScale(2.2,2.2):this.participantIcon.setScale(-2.2,2.2)},a._loadModelShow=function(t,i){var e=this;c.instance.loadAvatarSkeletonData(t).then((function(t){n(e.node)&&(e.participantIcon&&e.participantIcon.node&&e.participantIcon.node.scale&&e._setDirection(),e.participantIcon.clearContent(),e.participantIcon.skinName=t.defaultSkin,e.participantIcon.animationName=i,e.participantIcon.setSpine(t.skeletonData,h(30,50)))}))},e(o,[{key:"CurData",get:function(){return this.mCurShowData}},{key:"RealPosition",get:function(){return this.mRealPosition},set:function(t){this.mRealPosition=t}},{key:"Speed",get:function(){if(null!=this.mCurShowData)return this.mCurShowData.speed}}]),o}(p)).URL="ui://Race/participant",u=d))||u);o._RF.pop()}}}));

System.register("chunks:///_virtual/ui.quidditch.race.progress.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){"use strict";var i,e,s,o;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy,s=t._decorator},function(t){o=t.GComponent}],execute:function(){var h,r;e._RF.push({},"043b4X1C15C/7whJWlRLF1n","ui.quidditch.race.progress.view",void 0);var l=s.ccclass;t("default",l("UIQuidditchRaceProgressView")(((r=function(t){function e(){var i;return(i=t.call(this)||this).mRoleOffset=-15,i.role1=void 0,i.role2=void 0,i.role3=void 0,i}i(e,t);var s=e.prototype;return s.onConstruct=function(){this.role1=this.getChild("ui_MaxSpell"),this.role2=this.getChild("ui_LunaWicca"),this.role3=this.getChild("ui_ShadowPaw")},s.setProgressData=function(t,i){var e=t.participantList;e.length<3||(this.role1.y=e[0].curPosition/t.maxDistance*this.height+this.mRoleOffset,this.role2.y=e[1].curPosition/t.maxDistance*this.height+this.mRoleOffset,this.role3.y=e[2].curPosition/t.maxDistance*this.height+this.mRoleOffset,this.setRoleIndex(i))},s.setRoleIndex=function(t){0===t?(this.setChildIndex(this.role1,3),this.setChildIndex(this.role2,2),this.setChildIndex(this.role3,1)):1===t?(this.setChildIndex(this.role2,3),this.setChildIndex(this.role1,2),this.setChildIndex(this.role3,1)):(this.setChildIndex(this.role3,3),this.setChildIndex(this.role1,2),this.setChildIndex(this.role2,1))},e}(o)).URL="ui://Race/RaceProgress",h=r))||h);e._RF.pop()}}}));

System.register("chunks:///_virtual/ui.quidditch.race.scene.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./event.dispatcher.ts","./event.name.ts","./quidditch.client.protocol.ts"],(function(t){"use strict";var e,i,o,s,r,h,l;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy,o=t._decorator},function(t){s=t.GComponent},function(t){r=t.EventDispatcher},function(t){h=t.EventName},function(t){l=t.EQuidditchGameState}],execute:function(){var a,n;i._RF.push({},"8a8d8Mk3MNFyKeHBmZDA5Ad","ui.quidditch.race.scene.view",void 0);var c=o.ccclass;t("default",c("UIQuidditchRaceSceneView")(((n=function(t){function i(){var e;return(e=t.call(this)||this).StartPosOffset=430,e.RolePosOffset=5,e.trackView=void 0,e.role1=void 0,e.role2=void 0,e.role3=void 0,e.mCurShowRole=null,e.mCurOtherRole=null,e.mCurOtherRole2=null,e.mIsStart=!1,e}e(i,t);var o=i.prototype;return o.updateScene=function(t){this._UpdateMove(t)},o._UpdateMove=function(t){if(this.mIsStart){var e=!1,i=t*this.mCurShowRole.Speed,o=this.mCurShowRole.CurData.tarPosition-this.mCurShowRole.RealPosition;Math.abs(i)>=Math.abs(o)&&(i=o,e=!0),this.mCurShowRole.RealPosition+=i,this.trackView.updateTrackPosition(i);var s=!1,l=t*this.mCurOtherRole.Speed,a=this.mCurOtherRole.CurData.tarPosition-this.mCurOtherRole.RealPosition;Math.abs(l)>=Math.abs(a)&&(l=a,s=!0),this.mCurOtherRole.RealPosition+=l,this.mCurOtherRole.y+=l-i;var n=!1,c=t*this.mCurOtherRole2.Speed,u=this.mCurOtherRole2.CurData.tarPosition-this.mCurOtherRole2.RealPosition;Math.abs(c)>=Math.abs(u)&&(c=u,n=!0),this.mCurOtherRole2.RealPosition+=c,this.mCurOtherRole2.y+=c-i;var R=this.trackView.checkRole1FlagShow(this.role1.RealPosition);R>0&&this.role1.showPopFlag(R);var f=this.trackView.checkRole2FlagShow(this.role2.RealPosition);f>0&&this.role2.showPopFlag(f);var P=this.trackView.checkRole3FlagShow(this.role3.RealPosition);P>0&&this.role3.showPopFlag(P),e&&s&&n&&r.emit(h.QUIDDITCH_RACE_MOVE_FINISH),this.trackView.updateTrackRoadShow(this.mCurShowRole.Speed>=0)}},o.onConstruct=function(){this.trackView=this.getChild("Track"),this.role1=this.getChild("Role1"),this.role2=this.getChild("Role2"),this.role3=this.getChild("Role3")},o.initSceneData=function(t,e,i,o){for(var s=0,r=0;r<o.length;r++)o[0].curPosition>s&&(s=o[0].curPosition);this.trackView.initTrackView(s,t,e,i,this.StartPosOffset),this.role1.visible=!0,this.role2.visible=!0,this.role3.visible=!0,this.role1.y=this.StartPosOffset-this.role1.height+this.RolePosOffset,this.role2.y=this.StartPosOffset-this.role2.height+this.RolePosOffset,this.role3.y=this.StartPosOffset-this.role3.height+this.RolePosOffset},o.resetSceneData=function(){this.role1.visible=!1,this.role2.visible=!1,this.role3.visible=!1,this.trackView.resetTrackView()},o.initRoleData=function(t,e,i){t.length<3||(this.role1.initData(t[0],i),this.role2.initData(t[1],i),this.role3.initData(t[2],i),this.refreshRolePosition(e),i===l.eQuidditchGameState_End&&(this.trackView.removeFlag3Show(),1===t[0].win?this.role1.showPopFlag(3):1===t[1].win?this.role2.showPopFlag(3):1===t[2].win&&this.role3.showPopFlag(3)),this.mIsStart=!0)},o.refreshRoleData=function(t){t.length<3||(this.role1.refreshRaceData(t[0]),this.role2.refreshRaceData(t[1]),this.role3.refreshRaceData(t[2]))},o.refreshRolePosition=function(t){if(0===t){this.mCurShowRole=this.role1,this.mCurOtherRole=this.role2,this.mCurOtherRole2=this.role3,this.role1.y=this.StartPosOffset-this.role1.height+this.RolePosOffset;var e=this.role2.RealPosition-this.role1.RealPosition;this.role2.y=this.role1.y+e;var i=this.role3.RealPosition-this.role1.RealPosition;this.role3.y=this.role1.y+i}else if(1===t){this.mCurShowRole=this.role2,this.mCurOtherRole=this.role1,this.mCurOtherRole2=this.role3,this.role2.y=this.StartPosOffset-this.role2.height+this.RolePosOffset;var o=this.role1.RealPosition-this.role2.RealPosition;this.role1.y=this.role2.y+o;var s=this.role3.RealPosition-this.role2.RealPosition;this.role3.y=this.role2.y+s}else{this.mCurShowRole=this.role3,this.mCurOtherRole=this.role1,this.mCurOtherRole2=this.role2,this.role3.y=this.StartPosOffset-this.role3.height+this.RolePosOffset;var r=this.role1.RealPosition-this.role3.RealPosition;this.role1.y=this.role3.y+r;var h=this.role2.RealPosition-this.role3.RealPosition;this.role2.y=this.role3.y+h}this.trackView.setTrackPosition(this.mCurShowRole.RealPosition)},i}(s)).URL="ui://Race/MainScene",a=n))||a);i._RF.pop()}}}));

System.register("chunks:///_virtual/ui.quidditch.race.track.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(i){"use strict";var t,e,h,a,s;return{setters:[function(i){t=i.inheritsLoose},function(i){e=i.cclegacy,h=i._decorator},function(i){a=i.UIPackage,s=i.GComponent}],execute:function(){var l,w;e._RF.push({},"5d481NfomVKbpYq3prmwn3P","ui.quidditch.race.track.view",void 0);var g=h.ccclass;i("default",g("UIQuidditchRaceTarckView")(((w=function(i){function e(){var t;return(t=i.call(this)||this).mFguiPkgName="Race",t.mFguiFlagPkgName="Common",t.mFguiStartViewName="ScenePart_Start",t.mFguiMiddleViewName="ScenePart_Middle",t.mFguiEndViewName="ScenePart_Final",t.mFguiCircleViewName="ScenePart_MiddleCircle",t.mFguLineViewName="RaceLine",t.mFguFlag1ViewName="Flag_2",t.mFguFlag2ViewName="Flag_3",t.mFguFlag3ViewName="Flag_Final",t.roadView1=void 0,t.roadView2=void 0,t.mCurViewIndex=0,t.mRoadHeight=0,t.mOffsetPos=0,t.mStartPos=0,t.mVote1Pos=0,t.mVote2Pos=0,t.mEndPos=0,t.mLinePos=[],t.flag1View=[],t.flag2View=[],t.flag3View=[],t.flagList1=[],t.flagList2=[],t.partList1=[],t.partList2=[],t}t(e,i);var h=e.prototype;return h.onConstruct=function(){this.roadView1=this.getChild("Road1"),this.roadView2=this.getChild("Road2"),this.mRoadHeight=this.roadView1.height,this.resetTrackView()},h.initTrackView=function(i,t,e,h,s){this.mOffsetPos=s,this.mStartPos=s,this.mVote1Pos=e+s,this.mVote2Pos=h+s,this.mEndPos=t+s,this.mLinePos=[];for(var l=t/20,w=1;w<20;w++)this.mLinePos[w-1]=l*w+s;this.flag1View=[],this.flag2View=[],this.flag3View=[];for(var g=0;g<3;g++)this.flag1View[g]=i<e?a.createObject(this.mFguiFlagPkgName,this.mFguFlag1ViewName).asCom:null,this.flag2View[g]=i<h?a.createObject(this.mFguiFlagPkgName,this.mFguFlag2ViewName).asCom:null,this.flag3View[g]=i<t?a.createObject(this.mFguiFlagPkgName,this.mFguFlag3ViewName).asCom:null},h.resetTrackView=function(){this.mCurViewIndex=0,this.y=0,this.roadView1.y=0,this.roadView2.y=this.roadView1.height,this.removeAllPart(1),this.removeAllPart(2),this.flagList1=[],this.flagList2=[];for(var i=0;i<3;i++)this.flag1View[i]&&(this.removeChild(this.flag1View[i],!0),this.flag1View[i]=null),this.flag2View[i]&&(this.removeChild(this.flag2View[i],!0),this.flag2View[i]=null),this.flag3View[i]&&(this.removeChild(this.flag3View[i],!0),this.flag3View[i]=null)},h.checkRole1FlagShow=function(i){var t=i+this.mOffsetPos;return t>=this.mVote1Pos&&this.flag1View[0]?(this.removeChild(this.flag1View[0],!0),this.flag1View[0]=null,this.flag1View[1]&&(this.removeChild(this.flag1View[1],!0),this.flag1View[1]=null),this.flag1View[2]&&(this.removeChild(this.flag1View[2],!0),this.flag1View[2]=null),1):t>=this.mVote2Pos&&this.flag2View[0]?(this.removeChild(this.flag2View[0],!0),this.flag2View[0]=null,this.flag2View[1]&&(this.removeChild(this.flag2View[1],!0),this.flag2View[1]=null),this.flag2View[2]&&(this.removeChild(this.flag2View[2],!0),this.flag2View[2]=null),2):0},h.checkRole2FlagShow=function(i){var t=i+this.mOffsetPos;return t>=this.mVote1Pos&&this.flag1View[1]?(this.removeChild(this.flag1View[1],!0),this.flag1View[1]=null,this.flag1View[0]&&(this.removeChild(this.flag1View[0],!0),this.flag1View[0]=null),this.flag1View[2]&&(this.removeChild(this.flag1View[2],!0),this.flag1View[2]=null),1):t>=this.mVote2Pos&&this.flag2View[1]?(this.removeChild(this.flag2View[1],!0),this.flag2View[1]=null,this.flag2View[0]&&(this.removeChild(this.flag2View[0],!0),this.flag2View[0]=null),this.flag2View[2]&&(this.removeChild(this.flag2View[2],!0),this.flag2View[2]=null),2):0},h.checkRole3FlagShow=function(i){var t=i+this.mOffsetPos;return t>=this.mVote1Pos&&this.flag1View[2]?(this.removeChild(this.flag1View[2],!0),this.flag1View[2]=null,this.flag1View[0]&&(this.removeChild(this.flag1View[0],!0),this.flag1View[0]=null),this.flag1View[1]&&(this.removeChild(this.flag1View[1],!0),this.flag1View[1]=null),1):t>=this.mVote2Pos&&this.flag2View[2]?(this.removeChild(this.flag2View[2],!0),this.flag2View[2]=null,this.flag2View[0]&&(this.removeChild(this.flag2View[0],!0),this.flag2View[0]=null),this.flag2View[1]&&(this.removeChild(this.flag2View[1],!0),this.flag2View[1]=null),2):0},h.removeFlag3Show=function(){this.flag3View[0]&&(this.removeChild(this.flag3View[0],!0),this.flag3View[0]=null),this.flag3View[1]&&(this.removeChild(this.flag3View[1],!0),this.flag3View[1]=null),this.flag3View[2]&&(this.removeChild(this.flag3View[2],!0),this.flag3View[2]=null)},h.updateTrackPosition=function(i){this.y-=i},h.updateTrackRoadShow=function(i){i?(this.roadView1.y<=-(this.y+this.mRoadHeight)&&(this.roadView1.y=this.roadView2.y+this.roadView1.height,this.mCurViewIndex++,this._calculateDrawView(this.roadView1)),this.roadView2.y<=-(this.y+this.mRoadHeight)&&(this.roadView2.y=this.roadView1.y+this.roadView2.height,this.mCurViewIndex++,this._calculateDrawView(this.roadView2))):(this.roadView1.y>=-(this.y-this.mRoadHeight)&&(this.roadView1.y=this.roadView2.y-this.roadView1.height,this.mCurViewIndex--,this._calculateDrawView(this.roadView1)),this.roadView2.y>=-(this.y-this.mRoadHeight)&&(this.roadView2.y=this.roadView1.y-this.roadView2.height,this.mCurViewIndex--,this._calculateDrawView(this.roadView2)))},h.setTrackPosition=function(i){this.y=-i;var t=Math.floor(i/this.mRoadHeight)+1;this.mCurViewIndex!==t+1&&(this.mCurViewIndex=t,(this.mCurViewIndex-1)%2==0?(this.roadView1.y=(this.mCurViewIndex-1)*this.mRoadHeight,this.roadView2.y=this.roadView1.y+this.roadView1.height,this._calculateDrawView(this.roadView1),this.mCurViewIndex++,this._calculateDrawView(this.roadView2)):(this.roadView2.y=(this.mCurViewIndex-1)*this.mRoadHeight,this.roadView1.y=this.roadView2.y+this.roadView2.height,this._calculateDrawView(this.roadView2),this.mCurViewIndex++,this._calculateDrawView(this.roadView1)))},h._calculateDrawView=function(i){var t=1;t=i===this.roadView1?1:2,this.removeAllPart(t),this.removeAllFlag(t);var e=Math.floor(this.mEndPos/this.mRoadHeight)+1;if(!(this.mCurViewIndex>e)){var h=!1;if(1===this.mCurViewIndex){var a=i.y+this.mStartPos;if(this._drawStartView(t,a),!h){var s=a+21,l=this.mRoadHeight-this.mStartPos+21;this._drawMiddleView(t,s,l),h=!0}}if(this.mCurViewIndex===e){var w=i.y+this.mEndPos%this.mRoadHeight;if(this._drawEndView(t,w),this._drawFlag3View(t,w),!h){var g=i.y,r=this.mEndPos%this.mRoadHeight-21;this._drawMiddleView(t,g,r),h=!0}}h||(this._drawMiddleView(t,i.y,this.mRoadHeight),h=!0);var V=(this.mEndPos-this.mStartPos)/2+this.mOffsetPos,o=Math.floor(V/this.mRoadHeight)+1;if(this.mCurViewIndex===o){var d=i.y+V%this.mRoadHeight;this._drawCircleView(t,d)}var f=Math.floor(this.mVote1Pos/this.mRoadHeight)+1;if(this.mCurViewIndex===f){var m=i.y+this.mVote1Pos%this.mRoadHeight;this._drawVoteView(t,m),this._drawFlag1View(t,m)}var n=Math.floor(this.mVote2Pos/this.mRoadHeight)+1;if(this.mCurViewIndex===n){var u=i.y+this.mVote2Pos%this.mRoadHeight;this._drawVoteView(t,u),this._drawFlag2View(t,u)}for(var c=0;c<this.mLinePos.length;c++){var v=Math.floor(this.mLinePos[c]/this.mRoadHeight)+1;if(this.mCurViewIndex===v){var C=i.y+this.mLinePos[c]%this.mRoadHeight;this._drawLineView(t,C,(50*(20-c-1)).toString())}}}},h._drawStartView=function(i,t){var e=a.createObject(this.mFguiPkgName,this.mFguiStartViewName).asCom;this.addPart(e,i),e.x=0,e.y=t-e.height+21},h._drawMiddleView=function(i,t,e){var h=a.createObject(this.mFguiPkgName,this.mFguiMiddleViewName).asCom;this.addPart(h,i),h.x=0,h.y=t,h.height=e},h._drawEndView=function(i,t){var e=a.createObject(this.mFguiPkgName,this.mFguiEndViewName).asCom;this.addPart(e,i),e.x=0,e.y=t-21},h._drawCircleView=function(i,t){var e=a.createObject(this.mFguiPkgName,this.mFguiCircleViewName).asCom;this.addPart(e,i),e.x=0,e.y=t-e.height/2},h._drawVoteView=function(i,t){var e=a.createObject(this.mFguiPkgName,this.mFguLineViewName).asCom;this.addPart(e,i),e.x=0,e.y=t-e.height/2,e.title="P"},h._drawLineView=function(i,t,e){var h=a.createObject(this.mFguiPkgName,this.mFguLineViewName).asCom;this.addPart(h,i),h.x=0,h.y=t-h.height/2,h.title=e},h._drawFlag1View=function(i,t){this.flag1View[0]&&(this.addFlag(this.flag1View[0],i),this.flag1View[0].x=80,this.flag1View[0].y=t-this.flag1View[0].height+10),this.flag1View[1]&&(this.addFlag(this.flag1View[1],i),this.flag1View[1].x=230,this.flag1View[1].y=t-this.flag1View[1].height+10),this.flag1View[2]&&(this.addFlag(this.flag1View[2],i),this.flag1View[2].x=380,this.flag1View[2].y=t-this.flag1View[2].height+10)},h._drawFlag2View=function(i,t){this.flag2View[0]&&(this.addFlag(this.flag2View[0],i),this.flag2View[0].x=80,this.flag2View[0].y=t-this.flag2View[0].height+10),this.flag2View[1]&&(this.addFlag(this.flag2View[1],i),this.flag2View[1].x=230,this.flag2View[1].y=t-this.flag2View[1].height+10),this.flag2View[2]&&(this.addFlag(this.flag2View[2],i),this.flag2View[2].x=380,this.flag2View[2].y=t-this.flag2View[2].height+10)},h._drawFlag3View=function(i,t){this.flag3View[0]&&(this.addFlag(this.flag3View[0],i),this.flag3View[0].x=80,this.flag3View[0].y=t-this.flag3View[0].height+10),this.flag3View[1]&&(this.addFlag(this.flag3View[1],i),this.flag3View[1].x=230,this.flag3View[1].y=t-this.flag3View[1].height+10),this.flag3View[2]&&(this.addFlag(this.flag3View[2],i),this.flag3View[2].x=380,this.flag3View[2].y=t-this.flag3View[2].height+10)},h.addPart=function(i,t){this.addChild(i),1===t?this.partList1.push(i):this.partList2.push(i)},h.removeAllPart=function(i){if(1===i){for(var t=0;t<this.partList1.length;t++)this.removeChild(this.partList1[t],!0);this.partList1=[]}else{for(var e=0;e<this.partList2.length;e++)this.removeChild(this.partList2[e],!0);this.partList2=[]}},h.addFlag=function(i,t){this.addChild(i),1===t?this.flagList1.push(i):this.flagList2.push(i)},h.removeAllFlag=function(i){if(1===i){for(var t=0;t<this.flagList1.length;t++)this.flagList1[t]&&this.removeChild(this.flagList1[t],!1);this.flagList1=[]}else{for(var e=0;e<this.flagList2.length;e++)this.flagList2[e]&&this.removeChild(this.flagList2[e],!1);this.flagList2=[]}},e}(s)).URL="ui://Race/RaceTrack",l=w))||l);e._RF.pop()}}}));

System.register("chunks:///_virtual/ui.quidditch.rule.controller.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./event.dispatcher.ts","./event.name.ts","./localstorage.define.ts","./localstorage.manager.ts","./sound.helper.ts","./ui.base.controller.ts"],(function(t){"use strict";var e,n,i,o,c,a,r,s,u,l,h,_,p,f,d,v;return{setters:[function(t){e=t.inheritsLoose,n=t.createClass,i=t.asyncToGenerator,o=t.regeneratorRuntime},function(t){c=t.cclegacy,a=t._decorator,r=t.input,s=t.Input,u=t.KeyCode},function(t){l=t.UIPackage},function(t){h=t.EventDispatcher},function(t){_=t.EventName},function(t){p=t.LocalStorageDataType},function(t){f=t.LocalStorageManager},function(t){d=t.SoundHelper},function(t){v=t.UIBaseController}],execute:function(){var C,g;c._RF.push({},"da49423sLZJW6NqGrwObvgd","ui.quidditch.rule.controller",void 0);var m=a.ccclass;t("UIQuidditchRuleController",m("UIQuidditchRuleController")(((g=function(t){function c(){for(var e,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))||this).mFguiPkgName="Race",e.mFguiMainViewName="Main_Rules",e._view=null,e}e(c,t);var a=c.prototype;return a._addEvents=function(){t.prototype._addEvents.call(this),r.on(s.EventType.KEY_DOWN,this._onKeyDown,this)},a._removeEvents=function(){t.prototype._removeEvents.call(this),r.off(s.EventType.KEY_DOWN,this._onKeyDown,this)},a._onKeyDown=function(t){switch(t.keyCode){case u.ESCAPE:this._onCloseClick()}},a.onLoad=function(){c._instance=this,this._startLoadPkg(this.mFguiPkgName)},a.onDestroy=function(){t.prototype.onDestroy.call(this),c._instance=null},a.closeUI=function(){t.prototype.closeUI.call(this)},a.update=function(){this._view},a._onLoadUIFinish=function(){t.prototype._onLoadUIFinish.call(this),this._view=l.createObject(this.mFguiPkgName,this.mFguiMainViewName).asCom,this._addUIToRoot(this._view),this._view.makeFullScreen(),this._view.closeBtn.onClick(this._onCloseClick,this),this._view.checkBtn.onClick(this._onCheckClick,this),this._view.confirmBtn.onClick(this._onCloseClick,this),this._initData()},a._onCloseClick=function(){var t=i(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:d.PlaySound_UICommonClose(),h.emit(_.UI_QUIDDITCH_RULE_CLOSE);case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),a._onCheckClick=function(){var t=i(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:d.PlaySound_UICommonClick(),this._view.checkBtn.selected?f.instance.GetTargetLocalStorage(p.RaceRule).SaveIntData(1):f.instance.GetTargetLocalStorage(p.RaceRule).SaveIntData(0);case 2:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),a._initData=function(){var t=i(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this._view.checkBtn.selected=1===f.instance.GetTargetLocalStorage(p.RaceRule).GetIntData();case 1:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),n(c,null,[{key:"instance",get:function(){return this._instance}}]),c}(v)).CTRL_NAME="UIQuidditchRuleController",g._instance=null,C=g))||C);c._RF.pop()}}}));

System.register("chunks:///_virtual/ui.quidditch.rule.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(i){"use strict";var t,n,e,s;return{setters:[function(i){t=i.inheritsLoose},function(i){n=i.cclegacy,e=i._decorator},function(i){s=i.GComponent}],execute:function(){var c,u;n._RF.push({},"d448cbYxidKF5+3Rj3i4R66","ui.quidditch.rule.view",void 0);var o=e.ccclass;i("default",o("UIQuidditchRuleView")(((u=function(i){function n(){var t;return(t=i.call(this)||this).wind=void 0,t.bgMask=void 0,t.closeBtn=void 0,t.checkBtn=void 0,t.confirmBtn=void 0,t}return t(n,i),n.prototype.onConstruct=function(){this.wind=this.getChild("ui_RulesWind"),this.bgMask=this.getChild("Bg"),this.closeBtn=this.wind.getChild("ui_WindClose"),this.checkBtn=this.wind.getChild("n13"),this.confirmBtn=this.wind.getChild("n3")},n}(s)).URL="ui://Race/Main_Rules",c=u))||c);n._RF.pop()}}}));

System.register("chunks:///_virtual/ui.quidditch.unopen.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./event.dispatcher.ts","./event.name.ts","./table.manager.ts","./sound.helper.ts","./time.system.ts"],(function(e){"use strict";var t,n,i,r,o,s,u,a,c,l,h;return{setters:[function(e){t=e.inheritsLoose,n=e.asyncToGenerator,i=e.regeneratorRuntime},function(e){r=e.cclegacy,o=e._decorator},function(e){s=e.GComponent},function(e){u=e.EventDispatcher},function(e){a=e.EventName},function(e){c=e.TableManager},function(e){l=e.SoundHelper},function(e){h=e.TimeSystem}],execute:function(){var p,d;r._RF.push({},"cba42iHGExK46DXOzRPJO0I","ui.quidditch.unopen.view",void 0);var m=o.ccclass;e("default",m("UIQuidditchUnopenView")(((d=function(e){function r(){var t;return(t=e.call(this)||this).wind=void 0,t.closeBtn=void 0,t.openTime=void 0,t}t(r,e);var o=r.prototype;return o.onConstruct=function(){this.wind=this.getChild("ui_UnopenWind"),this.closeBtn=this.wind.getChild("ui_BtnClose");var e=this.wind.getChild("content");this.openTime=e.getChild("ui_Time"),this.closeBtn.onClick(this._onCloseClick,this)},o._onCloseClick=function(){var e=n(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l.PlaySound_UICommonClose(),u.emit(a.UI_QUIDDITCH_CLOSE);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),o.showOpenTime=function(){this.openTime.text=this._loadOpenTime()},o._loadOpenTime=function(){var e=c.instance.tableQuidditchConfig.QuidditchConfigArray;if(e.length<=0)return"--:--";for(var t=-1,n=new Date(1e3*h.instance.getTimestamp()),i=60*n.getUTCHours()+n.getUTCMinutes(),r=0;r<e.length;r++){var o=e[r].startTime.split(":");if(o&&2===o.length)if(i<60*Number.parseInt(o[0])+Number.parseInt(o[1])){t=r;break}}-1===t&&(t=0);var s=e[t].startTime.split(":");if(s&&2===s.length){var u=Number.parseInt(s[0]),a=Number.parseInt(s[1]),l=new Date;return l.setUTCHours(u),l.setUTCMinutes(a),(l.getHours()<10?"0"+l.getHours():l.getHours().toString())+":"+(l.getMinutes()<10?"0"+l.getMinutes():l.getMinutes().toString())}return"--:--"},r}(s)).URL="ui://Race/Main_Unopen",p=d))||p);r._RF.pop()}}}));

System.register("chunks:///_virtual/ui.quidditch.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(e){"use strict";var i,t,n,o;return{setters:[function(e){i=e.inheritsLoose},function(e){t=e.cclegacy,n=e._decorator},function(e){o=e.GComponent}],execute:function(){var s,d;t._RF.push({},"164198FTCRLiZEY83o2JWGs","ui.quidditch.view",void 0);var r=n.ccclass;e("default",r("UIQuidditchView")(((d=function(e){function t(){var i;return(i=e.call(this)||this).headCtrl=void 0,i.closeBtn=void 0,i.ruleBtn=void 0,i.sceneView=void 0,i.countdownView=void 0,i.voteView=void 0,i.progressView=void 0,i.unopenView=void 0,i.loadingView=void 0,i.role1Btn=void 0,i.role2Btn=void 0,i.role3Btn=void 0,i}i(t,e);var n=t.prototype;return n.onConstruct=function(){this.headCtrl=this.getController("Head"),this.closeBtn=this.getChild("ui_BtnClose"),this.ruleBtn=this.getChild("ui_BtnRules"),this.sceneView=this.getChild("ui_MainScene"),this.countdownView=this.getChild("ui_RaceCountDown"),this.voteView=this.getChild("ui_BettingBoard"),this.progressView=this.getChild("ui_RaceProgress"),this.unopenView=this.getChild("ui_RaceUnopen"),this.loadingView=this.getChild("ui_LoadingAni"),this.role1Btn=this.getChild("ui_BtnPrticipant1"),this.role2Btn=this.getChild("ui_BtnPrticipant2"),this.role3Btn=this.getChild("ui_BtnPrticipant3")},n.setRoleHeadRank=function(e,i){var t=e.getController("Ranking");if(t)switch(i){case 1:t.selectedIndex=1;break;case 2:t.selectedIndex=2;break;case 3:t.selectedIndex=3;break;default:t.selectedIndex=0}},n.setRoleHeadTip=function(e,i){var t=e.getController("IsSwitchOpen");t&&(t.selectedIndex=i?1:0)},t}(o)).URL="ui://Race/Main",s=d))||s);t._RF.pop()}}}));

System.register("chunks:///_virtual/ui.quidditch.vote.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./tonweb.mjs_cjs=&original=.js","./table.helper.ts","./table.manager.ts","./model.mainrole.manager.ts","./net.helper.ts","./quidditch.client.protocol.ts","./sound.helper.ts","./logic.tool.ts","./ui.float.text.controller.ts","./tonweb.js"],(function(t){"use strict";var e,i,a,o,u,s,n,r,h,d,l,m,c,f,v,V,C;return{setters:[function(t){e=t.inheritsLoose,i=t.asyncToGenerator,a=t.regeneratorRuntime},function(t){o=t.cclegacy,u=t._decorator,s=t.isValid},function(t){n=t.GComponent},null,function(t){r=t.TableHelper},function(t){h=t.TableManager},function(t){d=t.ModelMainRoleManager},function(t){l=t.NetHelper},function(t){m=t.EQuidditchGameState,c=t.EQuidditchGameVote},function(t){f=t.SoundHelper},function(t){v=t.LogicTool},function(t){V=t.UIFloatTextController},function(t){C=t.default}],execute:function(){var Q,N;o._RF.push({},"86669ikBNdNKKKwJiP2MLQk","ui.quidditch.vote.view",void 0);var G=u.ccclass;t("default",G("UIQuidditchVoteView")(((N=function(t){function o(){var e;return(e=t.call(this)||this).tipCtrl=void 0,e.selfVoteTrans1=void 0,e.selfVoteTrans2=void 0,e.selfVoteTrans3=void 0,e.tipDesc=void 0,e.totalValue1=void 0,e.selfValue1=void 0,e.voteBtn1=void 0,e.totalValue2=void 0,e.selfValue2=void 0,e.voteBtn2=void 0,e.totalValue3=void 0,e.selfValue3=void 0,e.voteBtn3=void 0,e.mCurStage=0,e.mCurData=null,e}e(o,t);var u=o.prototype;return u.onConstruct=function(){this.tipCtrl=this.getController("TipStage"),this.selfVoteTrans1=this.getTransition("ui_FigureChange1"),this.selfVoteTrans2=this.getTransition("ui_FigureChange2"),this.selfVoteTrans3=this.getTransition("ui_FigureChange3"),this.tipDesc=this.getChild("ui_BettingTips"),this.totalValue1=this.getChild("ui_TotalValue1"),this.selfValue1=this.getChild("ui_MineValue1"),this.voteBtn1=this.getChild("ui_BtnBet1"),this.totalValue2=this.getChild("ui_TotalValue2"),this.selfValue2=this.getChild("ui_MineValue2"),this.voteBtn2=this.getChild("ui_BtnBet2"),this.totalValue3=this.getChild("ui_TotalValue3"),this.selfValue3=this.getChild("ui_MineValue3"),this.voteBtn3=this.getChild("ui_BtnBet3"),this.voteBtn1.onClick(this._onVote1Click,this),this.voteBtn2.onClick(this._onVote2Click,this),this.voteBtn3.onClick(this._onVote3Click,this)},u._onVote1Click=function(){var t=i(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:f.PlaySound_UICommonClick(),this._dealVoteClick(0);case 2:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),u._onVote2Click=function(){var t=i(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:f.PlaySound_UICommonClick(),this._dealVoteClick(1);case 2:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),u._onVote3Click=function(){var t=i(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:f.PlaySound_UICommonClick(),this._dealVoteClick(2);case 2:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),u._dealVoteClick=function(t){var e=Number.parseFloat(C.utils.fromNano(this.mCurData.voteAmount));Number.parseFloat(d.instance.WizzCoin)<e?V.AddTipI18nID_Failed("u.2524"):l.sendQuidditchVote(t,this.mCurData.voteAmount)},u.playVoteAnim=function(t){s(this.node)&&(0===t&&this.selfVoteTrans1.play(),1===t&&this.selfVoteTrans2.play(),2===t&&this.selfVoteTrans3.play())},u.setVoteData=function(t,e){switch(this.mCurStage=t,this.mCurData=e,t){case m.eQuidditchGameState_Before:this.tipCtrl.selectedIndex=0,this.tipDesc.text=r.getI18nUIText("u.12613");break;case m.eQuidditchGameState_Ready:this.tipCtrl.selectedIndex=3,this.tipDesc.text=r.getI18nUIText("u.12614");break;case m.eQuidditchGameState_Start:this.tipCtrl.selectedIndex=1,this.tipDesc.text=r.getI18nUIText("u.12615");break;case m.eQuidditchGameState_Start_Line2:this.tipCtrl.selectedIndex=2,this.tipDesc.text=r.getI18nUIText("u.12616");break;case m.eQuidditchGameState_Start_Line3:this.tipCtrl.selectedIndex=4,this.tipDesc.text=r.getI18nUIText("u.12617");break;case m.eQuidditchGameState_End:this.tipCtrl.selectedIndex=5}if(t===m.eQuidditchGameState_Before||t===m.eQuidditchGameState_Start||t===m.eQuidditchGameState_Start_Line2)this.voteBtn1.touchable=!0,this.voteBtn2.touchable=!0,this.voteBtn3.touchable=!0,this.voteBtn1.text="x"+C.utils.fromNano(e.voteAmount),this.voteBtn2.text="x"+C.utils.fromNano(e.voteAmount),this.voteBtn3.text="x"+C.utils.fromNano(e.voteAmount);else{this.voteBtn1.touchable=!1,this.voteBtn2.touchable=!1,this.voteBtn3.touchable=!1;var i=h.instance.tableQuidditchConfig.QuidditchConfigArray;if(i.length>0){var a=0;t===m.eQuidditchGameState_Ready?a=i[0].vote1Amount:t!==m.eQuidditchGameState_Start_Line3&&t!==m.eQuidditchGameState_End||(a=i[0].vote3Amount),this.voteBtn1.text="x"+a,this.voteBtn2.text="x"+a,this.voteBtn3.text="x"+a}else this.voteBtn1.text="x"+C.utils.fromNano(e.voteAmount),this.voteBtn2.text="x"+C.utils.fromNano(e.voteAmount),this.voteBtn3.text="x"+C.utils.fromNano(e.voteAmount)}this.refreshTotalVoteData(this.mCurData),this.refreshSelfVoteData()},u.refreshTotalVoteData=function(t){this.mCurData=t;var e=t.participantList;this.mCurStage===m.eQuidditchGameState_Before||this.mCurStage===m.eQuidditchGameState_Ready?(this.totalValue1.text=v.NumberTransform(e[0].voteNum[c.eQuidditchGameVote1]),this.totalValue2.text=v.NumberTransform(e[1].voteNum[c.eQuidditchGameVote1]),this.totalValue3.text=v.NumberTransform(e[2].voteNum[c.eQuidditchGameVote1])):this.mCurStage===m.eQuidditchGameState_Start?(this.totalValue1.text=v.NumberTransform(e[0].voteNum[c.eQuidditchGameVote1]+e[0].voteNum[c.eQuidditchGameVote2]),this.totalValue2.text=v.NumberTransform(e[1].voteNum[c.eQuidditchGameVote1]+e[1].voteNum[c.eQuidditchGameVote2]),this.totalValue3.text=v.NumberTransform(e[2].voteNum[c.eQuidditchGameVote1]+e[2].voteNum[c.eQuidditchGameVote2])):this.mCurStage!==m.eQuidditchGameState_Start_Line2&&this.mCurStage!==m.eQuidditchGameState_Start_Line3&&this.mCurStage!==m.eQuidditchGameState_End||(this.totalValue1.text=v.NumberTransform(e[0].voteNum[c.eQuidditchGameVote1]+e[0].voteNum[c.eQuidditchGameVote2]+e[0].voteNum[c.eQuidditchGameVote3]),this.totalValue2.text=v.NumberTransform(e[1].voteNum[c.eQuidditchGameVote1]+e[1].voteNum[c.eQuidditchGameVote2]+e[1].voteNum[c.eQuidditchGameVote3]),this.totalValue3.text=v.NumberTransform(e[2].voteNum[c.eQuidditchGameVote1]+e[2].voteNum[c.eQuidditchGameVote2]+e[2].voteNum[c.eQuidditchGameVote3]))},u.refreshSelfVoteData=function(){if(null!=this.mCurData){var t=d.instance.QuidditchVoteData;if(null==t||this.mCurData.gameID!==t.gameID)return this.selfValue1.text="0",this.selfValue2.text="0",void(this.selfValue3.text="0");this.mCurStage===m.eQuidditchGameState_Before||this.mCurStage===m.eQuidditchGameState_Ready?t&&(this.selfValue1.text=v.NumberTransform(t.voteNum[0][c.eQuidditchGameVote1]),this.selfValue2.text=v.NumberTransform(t.voteNum[1][c.eQuidditchGameVote1]),this.selfValue3.text=v.NumberTransform(t.voteNum[2][c.eQuidditchGameVote1])):this.mCurStage===m.eQuidditchGameState_Start?t&&(this.selfValue1.text=v.NumberTransform(t.voteNum[0][c.eQuidditchGameVote1]+t.voteNum[0][c.eQuidditchGameVote2]),this.selfValue2.text=v.NumberTransform(t.voteNum[1][c.eQuidditchGameVote1]+t.voteNum[1][c.eQuidditchGameVote2]),this.selfValue3.text=v.NumberTransform(t.voteNum[2][c.eQuidditchGameVote1]+t.voteNum[2][c.eQuidditchGameVote2])):this.mCurStage!==m.eQuidditchGameState_Start_Line2&&this.mCurStage!==m.eQuidditchGameState_Start_Line3&&this.mCurStage!==m.eQuidditchGameState_End||t&&(this.selfValue1.text=v.NumberTransform(t.voteNum[0][c.eQuidditchGameVote1]+t.voteNum[0][c.eQuidditchGameVote2]+t.voteNum[0][c.eQuidditchGameVote3]),this.selfValue2.text=v.NumberTransform(t.voteNum[1][c.eQuidditchGameVote1]+t.voteNum[1][c.eQuidditchGameVote2]+t.voteNum[1][c.eQuidditchGameVote3]),this.selfValue3.text=v.NumberTransform(t.voteNum[2][c.eQuidditchGameVote1]+t.voteNum[2][c.eQuidditchGameVote2]+t.voteNum[2][c.eQuidditchGameVote3]))}},o}(n)).URL="ui://Race/BettingBoard",Q=N))||Q);o._RF.pop()}}}));

System.register("chunks:///_virtual/ui.score.btn.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(e){"use strict";var t,i,r,n;return{setters:[function(e){t=e.inheritsLoose},function(e){i=e.cclegacy,r=e._decorator},function(e){n=e.GButton}],execute:function(){var s,c;i._RF.push({},"ec073iTUkZETLnB/CnGIfuZ","ui.score.btn.view",void 0);var o=r.ccclass;e("default",o("UIScoreBtnView")(((c=function(e){function i(){var t;return(t=e.call(this)||this).scoreValue=void 0,t.refreshTip=void 0,t}return t(i,e),i.prototype.onConstruct=function(){this.scoreValue=this.getChild("title"),this.refreshTip=this.getChild("UI_RefreshTip")},i}(n)).URL="ui://MainInterface/btn_score",s=c))||s);i._RF.pop()}}}));

System.register("chunks:///_virtual/ui.shop.controller.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./event.dispatcher.ts","./event.name.ts","./sound.helper.ts","./ui.base.controller.ts","./net.helper.ts","./ui.float.text.controller.ts","./ui.common.item.title.view.ts","./table.helper.ts","./ui.shop.list.bar.charge.view.ts","./ui.shop.list.bar.object.view.ts","./model.charge.define.ts"],(function(t){"use strict";var e,i,s,o,h,a,r,n,m,l,p,c,u,_,f,C,I,g,d,v,S,D;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass,s=t.asyncToGenerator,o=t.regeneratorRuntime},function(t){h=t.cclegacy,a=t._decorator,r=t.input,n=t.Input,m=t.KeyCode,l=t.macro},function(t){p=t.UIPackage},function(t){c=t.EventDispatcher},function(t){u=t.EventName},function(t){_=t.SoundHelper},function(t){f=t.UIBaseController},function(t){C=t.NetHelper},function(t){I=t.UIFloatTextController},function(t){g=t.default},function(t){d=t.TableHelper},function(t){v=t.default},function(t){S=t.default},function(t){D=t.EChargeType}],execute:function(){var L,E;h._RF.push({},"b6f8eoQmftCDJkVjHqk5Shu","ui.shop.controller",void 0);var w=a.ccclass;t("UIShopController",w("UIShopController")(((E=function(t){function h(){for(var e,i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return(e=t.call.apply(t,[this].concat(s))||this).mFguiPkgName="ShopRes",e.mFguiMainViewName="Main",e._view=null,e.mChargeVersion=0,e.mChargeDataList=null,e.mShopID=0,e.mShopWorkerData=[],e.mShopItemData=[],e.mChargeCtrlMap=new Map,e.mShopCtrlMap=new Map,e.mIsLoadChargeFinish=!1,e.mIsLoadShopFinish=!1,e}e(h,t);var a=h.prototype;return a._addEvents=function(){t.prototype._addEvents.call(this),r.on(n.EventType.KEY_DOWN,this._onKeyDown,this),c.on(u.CHARGE_GET_LIST,this._onGetChargeList,this),c.on(u.CHARGE_PURCHASE_GET_ORDER,this._onChargeGetOrder,this),c.on(u.CHARGE_PURCHASE_FINISH,this._onChargeFinish,this),c.on(u.CHARGE_BUY_LIMIT_CHANGED,this._onChargeBuyLimitChanged,this),c.on(u.SHOP_OBJECT_LIST_INIT,this._onShopObjectListChanged,this),c.on(u.SHOP_BUY_OBJECT,this._onShopBuyObject,this)},a._removeEvents=function(){t.prototype._removeEvents.call(this),r.off(n.EventType.KEY_DOWN,this._onKeyDown,this),c.off(u.CHARGE_GET_LIST,this._onGetChargeList,this),c.off(u.CHARGE_PURCHASE_GET_ORDER,this._onChargeGetOrder,this),c.off(u.CHARGE_PURCHASE_FINISH,this._onChargeFinish,this),c.off(u.CHARGE_BUY_LIMIT_CHANGED,this._onChargeBuyLimitChanged,this),c.off(u.SHOP_OBJECT_LIST_INIT,this._onShopObjectListChanged,this),c.off(u.SHOP_BUY_OBJECT,this._onShopBuyObject,this)},a._onKeyDown=function(t){switch(t.keyCode){case m.ESCAPE:this._onCloseClick()}},a._onGetChargeList=function(t){if(null!=this._view){this.mChargeVersion=t.purchaseVer,this.mChargeDataList=[];for(var e=0;e<t.info.length;e++){var i=d.getPurchase(t.info[e].id);i&&i.type===D.Common&&"1"===i.param1&&this.mChargeDataList.push(t.info[e])}this.mIsLoadShopFinish&&this._refreshShopList(),this.mIsLoadChargeFinish=!0}},a._onChargeGetOrder=function(t){if(null!=this._view)switch(t.result){case 1:I.AddTipI18nID_Success("u.2547");break;case 2:I.AddTipI18nID_Failed("u.2548"),C.getPurchaseProductList();break;default:console.log("errorcode: ",t.result),I.AddTipI18nID_Failed("u.2549")}},a._onChargeFinish=function(){null!=this._view&&I.AddTipI18nID_Success("u.2550")},a._onChargeBuyLimitChanged=function(t){null!=this._view&&(t?this.mChargeCtrlMap.has(t)&&this.mChargeCtrlMap.get(t).refreshChargeLimit():this.mChargeCtrlMap.forEach((function(t){t.refreshChargeLimit()})))},a._onShopObjectListChanged=function(t){if(null!=this._view){this.mShopID=t.shopId,this.mShopWorkerData=[],this.mShopItemData=[];for(var e=0;e<t.info.length;e++)1===t.info[e].tag?this.mShopWorkerData.push(t.info[e]):this.mShopItemData.push(t.info[e]);this.mIsLoadChargeFinish&&this._refreshShopList(),this.mIsLoadShopFinish=!0}},a._onShopBuyObject=function(t){if(null!=this._view){var e=this._getShopItemByID(t.shopitemID);if(e){var i=[];i.push([e.itemId,t.buyNum]),c.emit(u.UI_ITEM_GET_OPEN,i)}}},a.onLoad=function(){h._instance=this,this._startLoadPkg(this.mFguiPkgName)},a.onDestroy=function(){t.prototype.onDestroy.call(this),h._instance=null},a.closeUI=function(){t.prototype.closeUI.call(this)},a.update=function(){this._view},a._onLoadUIFinish=function(){t.prototype._onLoadUIFinish.call(this),this._view=p.createObject(this.mFguiPkgName,this.mFguiMainViewName).asCom,this._addUIToRoot(this._view),this._view.makeFullScreen(),this._view.closeBtn.onClick(this._onCloseClick,this),this._initData()},a._initData=function(){var t=s(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this._requestData(),this.schedule((function(){C.getPurchaseProductList()}),500,l.REPEAT_FOREVER,500);case 2:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),a._requestData=function(){this._view.isNoneCtrl.selectedIndex=2,C.getPurchaseProductList(),C.getShopObjectList(1)},a._onCloseClick=function(){var t=s(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:_.PlaySound_UICommonClose(),c.emit(u.UI_SHOP_CLOSE);case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),a._refreshShopList=function(){var t=!0;if(this._view.shopList.removeChildrenToPool(),this.mChargeCtrlMap.clear(),this.mShopCtrlMap.clear(),this.mChargeDataList.length>0){this._view.shopList.addItemFromPool(g.URL).setTitle(d.getI18nUIText("u.11102"));for(var e=Math.ceil(this.mChargeDataList.length/3),i=0;i<e;i++){var s=this._view.shopList.addItemFromPool(v.URL);this.renderChargeItem(i,s)}t=!1}if(this.mShopWorkerData.length>0){this._view.shopList.addItemFromPool(g.URL).setTitle(d.getI18nUIText("u.11103"));for(var o=Math.ceil(this.mShopWorkerData.length/3),h=0;h<o;h++){var a=this._view.shopList.addItemFromPool(S.URL);this.renderShopWorkerItem(h,a)}t=!1}if(this.mShopItemData.length>0){this._view.shopList.addItemFromPool(g.URL).setTitle(d.getI18nUIText("u.11104"));for(var r=Math.ceil(this.mShopItemData.length/3),n=0;n<r;n++){var m=this._view.shopList.addItemFromPool(S.URL);this.renderShopObjectItem(n,m)}t=!1}this._view.isNoneCtrl.selectedIndex=t?1:0,t||this._view.shopList.scrollToView(0)},a.renderChargeItem=function(t,e){var i=this.mChargeDataList.length;if(3*t<i){var s=this.mChargeDataList[3*t];e.item01.visible=!0,e.item01.setChargeItemData(s,this.mChargeVersion),this.mChargeCtrlMap.set(s.id,e.item01)}else e.item01.visible=!1;if(3*t+1<i){var o=this.mChargeDataList[3*t+1];e.item02.visible=!0,e.item02.setChargeItemData(o,this.mChargeVersion),this.mChargeCtrlMap.set(o.id,e.item02)}else e.item02.visible=!1;if(3*t+2<i){var h=this.mChargeDataList[3*t+2];e.item03.visible=!0,e.item03.setChargeItemData(h,this.mChargeVersion),this.mChargeCtrlMap.set(h.id,e.item03)}else e.item03.visible=!1},a.renderShopWorkerItem=function(t,e){var i=this.mShopWorkerData.length;if(3*t<i){var s=this.mShopWorkerData[3*t];e.item01.visible=!0,e.item01.setShopItemData(s,this.mShopID),this.mShopCtrlMap.set(s.id,e.item01)}else e.item01.visible=!1;if(3*t+1<i){var o=this.mShopWorkerData[3*t+1];e.item02.visible=!0,e.item02.setShopItemData(o,this.mShopID),this.mShopCtrlMap.set(o.id,e.item02)}else e.item02.visible=!1;if(3*t+2<i){var h=this.mShopWorkerData[3*t+2];e.item03.visible=!0,e.item03.setShopItemData(h,this.mShopID),this.mShopCtrlMap.set(h.id,e.item03)}else e.item03.visible=!1},a.renderShopObjectItem=function(t,e){var i=this.mShopItemData.length;if(3*t<i){var s=this.mShopItemData[3*t];e.item01.visible=!0,e.item01.setShopItemData(s,this.mShopID),this.mShopCtrlMap.set(s.id,e.item01)}else e.item01.visible=!1;if(3*t+1<i){var o=this.mShopItemData[3*t+1];e.item02.visible=!0,e.item02.setShopItemData(o,this.mShopID),this.mShopCtrlMap.set(o.id,e.item02)}else e.item02.visible=!1;if(3*t+2<i){var h=this.mShopItemData[3*t+2];e.item03.visible=!0,e.item03.setShopItemData(h,this.mShopID),this.mShopCtrlMap.set(h.id,e.item03)}else e.item03.visible=!1},a._getShopItemByID=function(t){for(var e=0;e<this.mShopWorkerData.length;e++)if(this.mShopWorkerData[e].id===t)return this.mShopWorkerData[e];for(var i=0;i<this.mShopItemData.length;i++)if(this.mShopItemData[i].id===t)return this.mShopItemData[i];return null},i(h,null,[{key:"instance",get:function(){return this._instance}}]),h}(f)).CTRL_NAME="UIShopController",E._instance=null,L=E))||L);h._RF.pop()}}}));

System.register("chunks:///_virtual/ui.shop.list.bar.charge.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){"use strict";var i,e,o,r;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy,o=t._decorator},function(t){r=t.GComponent}],execute:function(){var s,n;e._RF.push({},"ffa114ZAapP4rTHMuBc14vd","ui.shop.list.bar.charge.view",void 0);var c=o.ccclass;t("default",c("UIShopListBarChargeView")(((n=function(t){function e(){for(var i,e=arguments.length,o=new Array(e),r=0;r<e;r++)o[r]=arguments[r];return(i=t.call.apply(t,[this].concat(o))||this).item01=void 0,i.item02=void 0,i.item03=void 0,i}return i(e,t),e.prototype.onConstruct=function(){this.item01=this.getChild("ui_ShopTopUp1"),this.item02=this.getChild("ui_ShopTopUp2"),this.item03=this.getChild("ui_ShopTopUp3")},e}(r)).URL="ui://ShopRes/shopres_charge_gp",s=n))||s);e._RF.pop()}}}));

System.register("chunks:///_virtual/ui.shop.list.bar.object.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){"use strict";var i,e,o,s;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy,o=t._decorator},function(t){s=t.GComponent}],execute:function(){var r,n;e._RF.push({},"06a76vihANApr63zNxNFbve","ui.shop.list.bar.object.view",void 0);var c=o.ccclass;t("default",c("UIShopListBarObjectView")(((n=function(t){function e(){for(var i,e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return(i=t.call.apply(t,[this].concat(o))||this).item01=void 0,i.item02=void 0,i.item03=void 0,i}return i(e,t),e.prototype.onConstruct=function(){this.item01=this.getChild("ui_ShopItem1"),this.item02=this.getChild("ui_ShopItem2"),this.item03=this.getChild("ui_ShopItem3")},e}(s)).URL="ui://ShopRes/shopres_item_gp",r=n))||r);e._RF.pop()}}}));

System.register("chunks:///_virtual/ui.shop.list.item.charge.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./event.dispatcher.ts","./event.name.ts","./table.helper.ts","./model.charge.manager.ts","./sound.helper.ts","./time.system.ts","./resource.path.tool.ts"],(function(t){"use strict";var e,i,s,r,h,l,n,o,a,m,d,u;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy,s=t._decorator,r=t.isValid},function(t){h=t.GButton},function(t){l=t.EventDispatcher},function(t){n=t.EventName},function(t){o=t.TableHelper},function(t){a=t.ModelChargeManager},function(t){m=t.SoundHelper},function(t){d=t.TimeSystem},function(t){u=t.ResourcePathTool}],execute:function(){var c,C;i._RF.push({},"b8298WGRstFJ6asPyfBFNtP","ui.shop.list.item.charge.view",void 0);var I,g=s.ccclass;!function(t){t[t.None=0]="None",t[t.PermanentLimit=1]="PermanentLimit",t[t.DailyLimit=2]="DailyLimit",t[t.IntervalLimit=3]="IntervalLimit"}(I||(I={}));t("default",g("UIShopListItemChargeView")(((C=function(t){function i(){var e;return(e=t.call(this)||this).btnCtrl=void 0,e.isFreeCtrl=void 0,e.isLimitCtrl=void 0,e.isSoldOutCtrl=void 0,e.isInCDCtrl=void 0,e.isPercentCtrl=void 0,e.itemIcon=void 0,e.itemCount=void 0,e.itemPrice=void 0,e.doubleTag=void 0,e.doubleValue=void 0,e.limitCount=void 0,e.cdTime=void 0,e.mCurShowData=null,e.mChargeVersion=0,e.mChargeLimitType=I.None,e.mChargeLimitParam=0,e.mSelectedItemId="0",e}e(i,t);var s=i.prototype;return s.onUpdate=function(){if(t.prototype.onUpdate.call(this),null!==this.mCurShowData&&this.mChargeLimitType===I.IntervalLimit){var e=a.instance.getChargeRecord(this.mCurShowData.id);if(e){var i=Number.parseInt(e.resetTime);if(0!==i){var s=i-d.instance.getTimestamp();this.cdTime.text=s>0?d.formatTimeString(s):d.formatTimeString(0)}}}},s.onConstruct=function(){this.btnCtrl=this.getController("button"),this.isFreeCtrl=this.getController("IsFree"),this.isLimitCtrl=this.getController("IsLimit"),this.isSoldOutCtrl=this.getController("IsSoldOut"),this.isInCDCtrl=this.getController("IsCD"),this.isPercentCtrl=this.getController("IsPercent"),this.itemIcon=this.getChild("ui_ItemIcon"),this.itemCount=this.getChild("ui_Amount"),this.itemPrice=this.getChild("ui_ItemPrice"),this.doubleTag=this.getChild("ui_TagDouble"),this.doubleValue=this.getChild("ui_DoubleValue"),this.limitCount=this.getChild("ui_LabelFree"),this.cdTime=this.getChild("ui_LabelCD"),this.onClick(this._onChargeItemClick,this),l.on(n.UI_SHOP_ITEM_CHARGE_SELECTED,this._onShopItemSelected,this)},s.onDestroy=function(){l.off(n.UI_SHOP_ITEM_CHARGE_SELECTED,this._onShopItemSelected,this)},s._onShopItemSelected=function(t){r(this.node)&&this.mSelectedItemId!==t&&(this.mSelectedItemId=t,this._setShopItemSelected())},s._onChargeItemClick=function(){m.PlaySound_UICommonClick(),null!=this.mCurShowData&&(l.emit(n.UI_SHOP_ITEM_OBJECT_SELECTED,"0"),l.emit(n.UI_SHOP_ITEM_CHARGE_SELECTED,this.mCurShowData.id.toString()),1!==this.isSoldOutCtrl.selectedIndex&&1!==this.isInCDCtrl.selectedIndex&&l.emit(n.UI_DETAILS_SHOW_CHARGE,this.mCurShowData,this.mChargeVersion))},s.setChargeItemData=function(t,e){if(null!=t){this.mCurShowData=t,this.mChargeVersion=e;var i=o.getPurchase(t.id);if(i){this.itemIcon.url=u.getUIFarmItemPath(i.icon),this.itemCount.text="x"+t.goldNum,"0"===t.usd_price?this.isFreeCtrl.selectedIndex=1:(this.isFreeCtrl.selectedIndex=0,this.itemPrice.text="$"+t.usd_price);var s=i.label.split("-");if(""===i.label||2!==s.length)this.isPercentCtrl.selectedIndex=0;else{this.isPercentCtrl.selectedIndex=1;var r=Number(s[0]),h=Number(s[1]);1===r?this.doubleValue.text="+"+h+"%":2===r&&(this.doubleValue.text="+"+h),this.doubleTag.width=this.doubleValue.width+86}this.refreshChargeLimit(),this._setShopItemSelected()}}},s.refreshChargeLimit=function(){if(null!=this.mCurShowData){var t=o.getPurchase(this.mCurShowData.id);if(t){var e=t.buyLimit.split("-");switch(2!==e.length?(this.mChargeLimitType=I.None,this.mChargeLimitParam=0):(this.mChargeLimitType=Number.parseInt(e[0]),this.mChargeLimitParam=Number.parseInt(e[1])),this.mChargeLimitType){case I.None:this.isLimitCtrl.selectedIndex=0,this.isSoldOutCtrl.selectedIndex=0,this.isInCDCtrl.selectedIndex=0;break;case I.PermanentLimit:case I.DailyLimit:this.isLimitCtrl.selectedIndex=1,this.isInCDCtrl.selectedIndex=0;var i=a.instance.getChargeRecord(this.mCurShowData.id);if(i){var s=this.mChargeLimitParam-i.productNum;s<0&&(s=0),this.limitCount.text=s+"/"+this.mChargeLimitParam,i.productNum>=this.mChargeLimitParam?this.isSoldOutCtrl.selectedIndex=1:this.isSoldOutCtrl.selectedIndex=0}else this.limitCount.text=this.mChargeLimitParam+"/"+this.mChargeLimitParam,this.isSoldOutCtrl.selectedIndex=0;break;case I.IntervalLimit:this.isLimitCtrl.selectedIndex=0,this.isSoldOutCtrl.selectedIndex=0;var r=a.instance.getChargeRecord(this.mCurShowData.id);if(r){var h=Number.parseInt(r.resetTime);0!==h?(this.cdTime.text=d.formatTimeString(h),this.isInCDCtrl.selectedIndex=1):this.isInCDCtrl.selectedIndex=0}else this.isInCDCtrl.selectedIndex=0}}}},s._setShopItemSelected=function(){null!=this.mCurShowData&&(this.mSelectedItemId===this.mCurShowData.id.toString()?this.selected=!0:this.selected=!1)},i}(h)).URL="ui://ShopRes/shopres_charge",c=C))||c);i._RF.pop()}}}));

System.register("chunks:///_virtual/ui.shop.list.item.object.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./tonweb.mjs_cjs=&original=.js","./event.dispatcher.ts","./event.name.ts","./enum.farm.coin.res.ts","./table.helper.ts","./sound.helper.ts","./resource.path.tool.ts","./tonweb.js"],(function(t){"use strict";var e,i,o,s,n,r,c,h,l,u,m,I;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy,o=t._decorator,s=t.isValid},function(t){n=t.GButton},null,function(t){r=t.EventDispatcher},function(t){c=t.EventName},function(t){h=t.EFarmCoinRes},function(t){l=t.TableHelper},function(t){u=t.SoundHelper},function(t){m=t.ResourcePathTool},function(t){I=t.default}],execute:function(){var a,S;i._RF.push({},"0af26qCV+5IErDHXPs38Jgm","ui.shop.list.item.object.view",void 0);var d=o.ccclass;t("default",d("UIShopListItemObjectView")(((S=function(t){function i(){var e;return(e=t.call(this)||this).btnCtrl=void 0,e.isSoldOutCtrl=void 0,e.isLimitCtrl=void 0,e.itemIcon=void 0,e.costIcon=void 0,e.costPrice=void 0,e.mCurShowData=null,e.mShopID=0,e.mSelectedItemId="0",e}e(i,t);var o=i.prototype;return o.onConstruct=function(){this.btnCtrl=this.getController("button"),this.isSoldOutCtrl=this.getController("IsSoldOut"),this.isLimitCtrl=this.getController("IsLimit"),this.itemIcon=this.getChild("ui_ItemIcon"),this.costIcon=this.getChild("ui_CoinIcon"),this.costPrice=this.getChild("ui_ItemPrice"),this.onClick(this._onShopItemClick,this),r.on(c.UI_SHOP_ITEM_OBJECT_SELECTED,this._onShopItemSelected,this)},o.onDestroy=function(){r.off(c.UI_SHOP_ITEM_OBJECT_SELECTED,this._onShopItemSelected,this)},o._onShopItemSelected=function(t){s(this.node)&&this.mSelectedItemId!==t&&(this.mSelectedItemId=t,this._setShopItemSelected())},o._onShopItemClick=function(){u.PlaySound_UICommonClick(),null!=this.mCurShowData&&(r.emit(c.UI_SHOP_ITEM_CHARGE_SELECTED,"0"),r.emit(c.UI_SHOP_ITEM_OBJECT_SELECTED,this.mCurShowData.id.toString()),r.emit(c.UI_DETAILS_SHOW_SHOP_ITEM,this.mCurShowData,this.mShopID))},o.setShopItemData=function(t,e){this.mCurShowData=t,this.mShopID=e;var i=l.getItemRecord(t.itemId);if(i){this.itemIcon.url=m.getUIFarmItemPath(i.itemIcon);var o=Number.parseInt(I.utils.fromNano(t.silverNum)),s=Number.parseInt(I.utils.fromNano(t.goldNum));if(o>0){var n=l.getItemRecord(h.Token_Silver);if(!n)return;this.costIcon.url=m.getUIFarmItemPath(n.itemIcon),this.costPrice.text=o.toString()}else if(s>0){var r=l.getItemRecord(h.Token_Gold);if(!r)return;this.costIcon.url=m.getUIFarmItemPath(r.itemIcon),this.costPrice.text=s.toString()}this.isLimitCtrl.selectedIndex=0,this.isSoldOutCtrl.selectedIndex=0,this._setShopItemSelected()}},o._setShopItemSelected=function(){null!=this.mCurShowData&&(this.mSelectedItemId===this.mCurShowData.id.toString()?this.selected=!0:this.selected=!1)},i}(n)).URL="ui://ShopRes/shopres_item",a=S))||a);i._RF.pop()}}}));

System.register("chunks:///_virtual/ui.shop.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){"use strict";var i,o,s,e;return{setters:[function(t){i=t.inheritsLoose},function(t){o=t.cclegacy,s=t._decorator},function(t){e=t.GComponent}],execute:function(){var n,r;o._RF.push({},"d24813lO5hDI5FCAc+LsrL0","ui.shop.view",void 0);var u=s.ccclass;t("default",u("UIShopView")(((r=function(t){function o(){var i;return(i=t.call(this)||this).isNoneCtrl=void 0,i.closeBtn=void 0,i.shopList=void 0,i}return i(o,t),o.prototype.onConstruct=function(){this.isNoneCtrl=this.getController("IsNone"),this.closeBtn=this.getChild("ui_WindClose"),this.shopList=this.getChild("ui_ShopList")},o}(e)).URL="ui://ShopRes/Main",n=r))||n);o._RF.pop()}}}));

System.register("chunks:///_virtual/ui.terrain.place.controller.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./ui.base.controller.ts","./event.dispatcher.ts","./event.name.ts","./table.helper.ts","./logic.tool.ts","./farm.system.ts"],(function(t){"use strict";var e,n,i,r,a,o,c,s,u,l,h,f,m;return{setters:[function(t){e=t.inheritsLoose,n=t.createClass,i=t.asyncToGenerator,r=t.regeneratorRuntime},function(t){a=t.cclegacy,o=t._decorator},function(t){c=t.UIPackage},function(t){s=t.UIBaseController},function(t){u=t.EventDispatcher},function(t){l=t.EventName},function(t){h=t.TableHelper},function(t){f=t.LogicTool},function(t){m=t.FarmSystem}],execute:function(){var p,_;a._RF.push({},"628b4uQf7dH17uMjQ8K8DVX","ui.terrain.place.controller",void 0);var C=o.ccclass;t("UITerrainPlaceController",C("UITerrainPlaceController")(((_=function(t){function a(){for(var e,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))||this).mFguiPkgName="BuildingPlace",e.mFguiMainViewName="Main",e._view=null,e.mCurTerrainId=11,e.mCurFarmResRecord=null,e.mCurCanPut=!1,e}e(a,t);var o=a.prototype;return o.onLoad=function(){a._instance=this,this._startLoadPkg(this.mFguiPkgName)},o.onDestroy=function(){t.prototype.onDestroy.call(this),a._instance=null},o.closeUI=function(){t.prototype.closeUI.call(this)},o.update=function(){null!==this._view&&this._updateBtnState()},o._onLoadUIFinish=function(){t.prototype._onLoadUIFinish.call(this),this._view=c.createObject(this.mFguiPkgName,this.mFguiMainViewName).asCom,this._addUIToRoot(this._view),this._view.makeFullScreen(),this._view.placeBtn.onClick(this._onPlaceClick,this),this._view.cancelBtn.onClick(this._onCancelClick,this),this._view.placeBtn.enabled=!1,this._refreshShowData(),this._refreshDataCount()},o._refreshShowData=function(){this.mCurFarmResRecord=h.getFarmResRecord(this.mCurTerrainId)},o._refreshDataCount=function(){this._view.remainLabel.text=f.i18nFormat(h.getI18nUIText("u.10800"),["999"])},o._onPlaceClick=function(){var t=i(r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:m.instance.placeTerrainToFarm();case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),o._onCancelClick=function(){var t=i(r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:u.emit(l.FARM_CHANGE_STATE_TO_TERRAIN_EDITING),this.closeUI();case 2:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),o._updateBtnState=function(){var t=m.instance.isAddTerrainCanPut();this.mCurCanPut!==t&&(this.mCurCanPut=t,this._view.placeBtn.enabled=this.mCurCanPut)},n(a,null,[{key:"instance",get:function(){return this._instance}}]),a}(s)).CTRL_NAME="UITerrainPlaceController",_._instance=null,p=_))||p);a._RF.pop()}}}));

System.register("chunks:///_virtual/ui.tip.controller.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ui.base.controller.ts","./fairygui.mjs","./ui.manager.ts","./event.name.ts","./event.dispatcher.ts","./model.item.manager.ts"],(function(t){"use strict";var i,e,o,n,s,h,m,u,a,r,l,c,p,C,_;return{setters:[function(t){i=t.inheritsLoose,e=t.createClass},function(t){o=t.cclegacy,n=t._decorator,s=t.input,h=t.Input,m=t.KeyCode,u=t.Rect},function(t){a=t.UIBaseController},function(t){r=t.UIPackage,l=t.GRoot},function(t){c=t.UIManager},function(t){p=t.EventName},function(t){C=t.EventDispatcher},function(t){_=t.ModelItemManager}],execute:function(){var T,I;o._RF.push({},"b3d0cEil4ZCf6h+LPhHTlVC","ui.tip.controller",void 0);var d=n.ccclass,w=t("ETipType",{None:0,Common:1});t("UITipController",d("UITipController")(((I=function(t){function o(){for(var i,e=arguments.length,o=new Array(e),n=0;n<e;n++)o[n]=arguments[n];return(i=t.call.apply(t,[this].concat(o))||this).mFguiPkgName="tip",i.mFguiMainViewName="Main",i.mFguiItemViewName="itemtip_item",i._view=null,i.mCurTipNode=null,i.mCurType=w.None,i.mCurShowTipNode=null,i.mCurItemId="0",i.mCurItemData=null,i}i(o,t);var n=o.prototype;return n._addEvents=function(){t.prototype._addEvents.call(this),s.on(h.EventType.KEY_DOWN,this._onKeyDown,this),C.on(p.ITEM_CHANGE,this._onItemChanged,this),C.on(p.ITEM_REMOVE,this._onItemRemove,this)},n._removeEvents=function(){t.prototype._removeEvents.call(this),s.off(h.EventType.KEY_DOWN,this._onKeyDown,this),C.off(p.ITEM_CHANGE,this._onItemChanged,this),C.off(p.ITEM_REMOVE,this._onItemRemove,this)},n._onKeyDown=function(t){switch(t.keyCode){case m.ESCAPE:C.emit(p.UI_TIP_CLOSE)}},n._onItemChanged=function(t,i){null!=this.mCurShowTipNode&&(this.mCurItemId===_.instance.GetItemTempID(t)&&this.mCurType===w.Common&&this.mCurShowTipNode.onItemUpdate(t,i))},n._onItemRemove=function(t,i){null!=this.mCurShowTipNode&&(this.mCurItemId===_.instance.GetItemTempID(t)&&this.mCurType===w.Common&&this.mCurShowTipNode.onItemRemove(t,i))},n.onLoad=function(){o._instance=this,this._startLoadPkg(this.mFguiPkgName)},n.onDestroy=function(){t.prototype.onDestroy.call(this),o._instance=null},n._onLoadUIFinish=function(){t.prototype._onLoadUIFinish.call(this),this._view=r.createObject(this.mFguiPkgName,this.mFguiMainViewName).asCom,this._addUIToRoot(this._view),this._view.makeFullScreen(),this.mCurType===w.Common&&this._realSetItemCommonTipData(),this._view.onClick(this._onTipMaskClick,this),this._view.on(h.EventType.MOUSE_DOWN,(function(){}))},n.closeUI=function(){C.emit(p.ROLE_PACKAGE_ITEM_SELECTED,"0"),C.emit(p.MARKETPLACE_ITEM_SELECTED,"0"),this._destroyCurTipItem(),t.prototype.closeUI.call(this)},n._onTipMaskClick=function(){if(null!=this._view&&null!=this.mCurShowTipNode){var t=new u(this.mCurShowTipNode.x,this.mCurShowTipNode.y,this.mCurShowTipNode.width,this.mCurShowTipNode.height),i=l.inst.getTouchPosition(),e=this._view.globalToLocal(i.x,i.y);t.contains(e)||C.emit(p.UI_TIP_CLOSE)}},n._destroyCurTipItem=function(){null!==this.mCurShowTipNode&&(this.mCurShowTipNode.dispose(),this.mCurShowTipNode=null)},n._adjustTipPosition=function(){if(null!==this.mCurShowTipNode&&null!==this.mCurTipNode){var t=this._view.actualWidth/2-this.mCurShowTipNode.actualWidth/2,i=this._view.actualHeight/2-this.mCurShowTipNode.actualHeight/2;this.mCurShowTipNode.setPosition(t,i)}},n.showCommonItemTip=function(t,i){this.mCurType=w.Common,this.mCurTipNode=t,this.mCurItemId=i,this.IsUIValid?this.mIsLoadPkgFinish&&this._realSetItemCommonTipData():c.instance.openUI(o.CTRL_NAME)},n._realSetItemCommonTipData=function(){null==this.mCurTipNode&&this.closeUI(),this._destroyCurTipItem();var t=r.createObject(this.mFguiPkgName,this.mFguiItemViewName).asCom;this.mCurShowTipNode=t,this._view.addChild(this.mCurShowTipNode),t.RefreshShowItemData(this.mCurItemId),t.OnCloseBtnClick((function(){C.emit(p.UI_TIP_CLOSE)})),this._adjustTipPosition()},o._checkOpenUI=function(){null==o._instance&&c.instance.openUI(o.CTRL_NAME)},o.ShowCommonTip=function(t,i){o._checkOpenUI(),o.instance.showCommonItemTip(t,i)},e(o,null,[{key:"instance",get:function(){return this._instance}}]),o}(a)).CTRL_NAME="UITipController",I._instance=null,T=I))||T);o._RF.pop()}}}));

System.register("chunks:///_virtual/ui.tip.float.controller.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ui.base.controller.ts","./fairygui.mjs","./ui.manager.ts","./ui.tip.float.define.ts","./sound.helper.ts","./event.dispatcher.ts","./event.name.ts"],(function(i){"use strict";var t,e,o,s,a,n,h,r,u,c,l,p,m,T;return{setters:[function(i){t=i.inheritsLoose,e=i.createClass},function(i){o=i.cclegacy,s=i._decorator,a=i.isValid},function(i){n=i.UIBaseController},function(i){h=i.UIPackage,r=i.GRoot},function(i){u=i.UIManager},function(i){c=i.ETipFloatType,l=i.ETipFloatPosition},function(i){p=i.SoundHelper},function(i){m=i.EventDispatcher},function(i){T=i.EventName}],execute:function(){var d,C;o._RF.push({},"163c82v2p5OS79H1lA8yuxw","ui.tip.float.controller",void 0);var N=s.ccclass;i("UITipFloatController",N("UITipFloatController")(((C=function(i){function o(){for(var t,e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return(t=i.call.apply(i,[this].concat(o))||this).mFguiPkgName="Tip",t.mFguiMainViewName="Main",t.mFguiTextViewName="texttip",t.mFguiPriceViewName="itemtip_shopprice",t._view=null,t.mCurTipNode=null,t.mCurType=c.None,t.mCurShowTipNode=null,t.mCurText="",t.mShowPosType=l.None,t}t(o,i);var s=o.prototype;return s._addEvents=function(){i.prototype._addEvents.call(this)},s._removeEvents=function(){i.prototype._removeEvents.call(this)},s.onLoad=function(){o._instance=this,this._startLoadPkg(this.mFguiPkgName)},s.onDestroy=function(){i.prototype.onDestroy.call(this),o._instance=null},s._onLoadUIFinish=function(){i.prototype._onLoadUIFinish.call(this),this._view=h.createObject(this.mFguiPkgName,this.mFguiMainViewName).asCom,this._addUIToRoot(this._view),this._view.makeFullScreen(),this.mCurType===c.Text?this._realSetTextTipData():this.mCurType===c.Price&&this._realSetPriceTipData(),this._view.maskBG.onClick(this._onTipMaskClick,this)},s._onTipMaskClick=function(){p.PlaySound_UICommonClose(),m.emit(T.UI_TIP_FLOAT_CLOSE)},s.closeUI=function(){this.mIsCanClose=!0,i.prototype.closeUI.call(this)},s._destroyCurTipItem=function(){null!==this.mCurShowTipNode&&(this.mCurShowTipNode.dispose(),this.mCurShowTipNode=null)},s._adjustTipPosition=function(){if(null!==this.mCurShowTipNode&&null!==this.mCurTipNode){this.mShowPosType===l.None&&(this.mShowPosType=l.Center);var i=this.mCurTipNode.localToGlobal(),t=this._view.globalToLocal(i.x,i.y),e=0,o=0;switch(this.mShowPosType){case l.Center:e=t.x+this.mCurTipNode.actualWidth/2-this.mCurShowTipNode.actualWidth/2,o=t.y+this.mCurTipNode.actualHeight/2-this.mCurShowTipNode.actualHeight;break;case l.Left:e=t.x-this.mCurShowTipNode.actualWidth-2,o=t.y;break;case l.Right:e=t.x+this.mCurTipNode.actualWidth+2,o=t.y;break;case l.Top:e=t.x+this.mCurTipNode.actualWidth/2-this.mCurShowTipNode.actualWidth/2,o=t.y-this.mCurShowTipNode.actualHeight-2;break;case l.Bottom:e=t.x+this.mCurTipNode.actualWidth/2-this.mCurShowTipNode.actualWidth/2,o=t.y+this.mCurTipNode.actualHeight+2}o<0?o=0:o+this.mCurShowTipNode.actualHeight>r.inst.height&&(o=r.inst.height-this.mCurShowTipNode.actualHeight),this.mCurShowTipNode.setPosition(e,o)}},s.showTextTip=function(i,t,e){this.mCurType=c.Text,this.mCurTipNode=i,this.mCurText=t,this.mShowPosType=e,this.IsUIValid?this.mIsLoadPkgFinish&&this._realSetTextTipData():u.instance.openUI(o.CTRL_NAME)},s._realSetTextTipData=function(){null!=this.mCurTipNode&&a(this.mCurTipNode)||this.closeUI(),this._destroyCurTipItem();var i=h.createObject(this.mFguiPkgName,this.mFguiTextViewName).asCom;this.mCurShowTipNode=i,this._view.addChild(this.mCurShowTipNode),i.RefreshShowItemData(this.mCurText),this._adjustTipPosition()},s.showPriceTip=function(i,t,e){this.mCurType=c.Price,this.mCurTipNode=i,this.mCurText=t,this.mShowPosType=e,this.IsUIValid?this.mIsLoadPkgFinish&&this._realSetPriceTipData():u.instance.openUI(o.CTRL_NAME)},s._realSetPriceTipData=function(){null!=this.mCurTipNode&&a(this.mCurTipNode)||this.closeUI(),this._destroyCurTipItem();var i=h.createObject(this.mFguiPkgName,this.mFguiPriceViewName).asCom;this.mCurShowTipNode=i,this._view.addChild(this.mCurShowTipNode),i.RefreshShowItemData(this.mCurText),this._adjustTipPosition()},o._checkOpenUI=function(){null==o._instance&&u.instance.openUI(o.CTRL_NAME)},o.ShowTextTip=function(i,t,e){o._checkOpenUI(),o.instance.showTextTip(i,t,e)},o.ShowPriceTip=function(i,t,e){o._checkOpenUI(),o.instance.showPriceTip(i,t,e)},e(o,null,[{key:"instance",get:function(){return this._instance}}]),o}(n)).CTRL_NAME="UITipFloatController",C._instance=null,d=C))||d);o._RF.pop()}}}));

System.register("chunks:///_virtual/ui.tip.float.define.ts",["cc"],(function(t){"use strict";var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"9e40bbq8zpBxJ0xkLzaYuy6","ui.tip.float.define",void 0);t("ETipFloatType",{None:0,Text:1,Price:2}),t("ETipFloatPosition",{None:0,Center:1,Top:2,Left:3,Right:4,Bottom:5});e._RF.pop()}}}));

System.register("chunks:///_virtual/ui.tip.float.price.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){"use strict";var e,i,n;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy},function(t){n=t.GComponent}],execute:function(){i._RF.push({},"542ffruwRRHZ5XxiaGBfVRh","ui.tip.float.price.view",void 0),t("default",function(t){function i(){for(var e,i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))||this).tokenCtrl=void 0,e.itemPrice=void 0,e}e(i,t);var n=i.prototype;return n.onConstruct=function(){this.tokenCtrl=this.getController("TokenType"),this.itemPrice=this.getChild("ui_ItemPrice")},n.RefreshShowItemData=function(t){this.tokenCtrl.selectedIndex=0,this.itemPrice.text=t},i}(n)).URL="ui://tip/itemtip_shopprice",i._RF.pop()}}}));

System.register("chunks:///_virtual/ui.tip.float.text.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){"use strict";var e,i,n;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy},function(t){n=t.GComponent}],execute:function(){i._RF.push({},"e69f1WTaatEa7mb1wxYAFXY","ui.tip.float.text.view",void 0),t("default",function(t){function i(){for(var e,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))||this).itemText=void 0,e}e(i,t);var n=i.prototype;return n.onConstruct=function(){this.itemText=this.getChild("ui_TipLabel")},n.RefreshShowItemData=function(t){this.itemText.text=t,this.height=this.itemText.height/2+20},i}(n)).URL="ui://Tip/texttip",i._RF.pop()}}}));

System.register("chunks:///_virtual/ui.tip.float.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){"use strict";var i,n,e;return{setters:[function(t){i=t.inheritsLoose},function(t){n=t.cclegacy},function(t){e=t.GComponent}],execute:function(){n._RF.push({},"7fce1pJET1Geqyy45Rt/mfy","ui.tip.float.view",void 0),t("default",function(t){function n(){for(var i,n=arguments.length,e=new Array(n),o=0;o<n;o++)e[o]=arguments[o];return(i=t.call.apply(t,[this].concat(e))||this).maskBG=void 0,i}return i(n,t),n.prototype.onConstruct=function(){this.maskBG=this.getChild("Bgmask")},n}(e)).URL="ui://Tip/Main",n._RF.pop()}}}));

System.register("chunks:///_virtual/ui.tip.item.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./table.helper.ts","./net.helper.ts","./property.client.protocol.ts","./sound.helper.ts","./model.item.manager.ts","./resource.path.tool.ts","./event.dispatcher.ts","./event.name.ts","./logic.tool.ts"],(function(t){"use strict";var i,e,n,s,o,l,h,c,a,C,m,u,r;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy,n=t.isValid},function(t){s=t.GComponent},function(t){o=t.TableHelper},function(t){l=t.NetHelper},function(t){h=t.enumItemType},function(t){c=t.SoundHelper},function(t){a=t.ModelItemManager},function(t){C=t.ResourcePathTool},function(t){m=t.EventDispatcher},function(t){u=t.EventName},function(t){r=t.LogicTool}],execute:function(){e._RF.push({},"60cc0GUGGZCTp463vrgzyf0","ui.tip.item.view",void 0),t("default",function(t){function e(){for(var i,e=arguments.length,n=new Array(e),s=0;s<e;s++)n[s]=arguments[s];return(i=t.call.apply(t,[this].concat(n))||this).qualityCtrl=void 0,i.btnShowCtrl=void 0,i.saleCtrl=void 0,i.tokenCtrl=void 0,i.moneyCtrl=void 0,i.isLockCtrl=void 0,i.closeBtn=void 0,i.itemIcon=void 0,i.itemName=void 0,i.itemNum=void 0,i.itemToken=void 0,i.itemDesc=void 0,i.itemPriceGp=void 0,i.itemPrice=void 0,i.useBtn=void 0,i.buyBtn=void 0,i.saleBtn=void 0,i.cancelBtn=void 0,i.putInBtn=void 0,i.removeBtn=void 0,i.mItemData=null,i.mIsChainLock=!1,i._onCloseClick=null,i}i(e,t);var s=e.prototype;return s.onConstruct=function(){this.qualityCtrl=this.getController("ItemQuality"),this.btnShowCtrl=this.getController("BuySale"),this.saleCtrl=this.getController("IsForSale"),this.tokenCtrl=this.getController("IsToken"),this.moneyCtrl=this.getController("TokenType"),this.isLockCtrl=this.getController("IsLock"),this.closeBtn=this.getChild("ui_TipCloseBtn"),this.itemIcon=this.getChild("icon"),this.itemName=this.getChild("ui_ItemName"),this.itemNum=this.getChild("ui_ItemNum"),this.itemToken=this.getChild("ui_TokenID"),this.itemDesc=this.getChild("ui_Label2"),this.itemPriceGp=this.getChild("ui_ItemPriceGp"),this.itemPrice=this.getChild("ui_ItemPrice"),this.useBtn=this.getChild("ui_UseBtn"),this.buyBtn=this.getChild("ui_BuyBtn"),this.saleBtn=this.getChild("ui_SaleBtn"),this.cancelBtn=this.getChild("ui_CancelBtn"),this.putInBtn=this.getChild("ui_PutInBtn"),this.removeBtn=this.getChild("ui_RemoveBtn"),this.closeBtn.onClick(this._onCloseBtnClick,this),this.useBtn.onClick(this._onUseBtnClick,this),this.buyBtn.onClick(this._onBuyBtnClick,this),this.saleBtn.onClick(this._onSaleBtnClick,this),this.cancelBtn.onClick(this._onCancelBtnClick,this),this.putInBtn.onClick(this._onPutInBtnClick,this),this.removeBtn.onClick(this._onRemoveBtnClick,this),m.on(u.CHAIN_OPERATE_BLOCK_CHANGED,this._event_onChainOperateChanged,this),m.on(u.CHAIN_OPERATE_BLOCK_FINISH,this._event_onChainOperateFinished,this)},s.onDestroy=function(){m.off(u.CHAIN_OPERATE_BLOCK_CHANGED,this._event_onChainOperateChanged,this),m.off(u.CHAIN_OPERATE_BLOCK_FINISH,this._event_onChainOperateFinished,this)},s.onItemUpdate=function(t,i){null!=this.mItemData&&(this.mItemData.realId===t&&(this.mItemData=a.instance.GetItemByRealId(t),this.itemNum.text=this.mItemData.curCount.toString()))},s.onItemRemove=function(t,i){null!=this.mItemData&&(this.mItemData.realId===t&&null!=this._onCloseClick&&this._onCloseClick())},s._event_onChainOperateChanged=function(t,i){n(this.node)&&null!=t&&null!=this.mItemData&&t.tokenID},s._event_onChainOperateFinished=function(t){n(this.node)&&null!=t&&null!=this.mItemData&&t.tokenID},s._refreshChainOperateView=function(t,i){this.mIsChainLock||(this.mIsChainLock=!0,this.isLockCtrl.selectedPage="TRUE",this._lockBtn(this.useBtn,!0),this._lockBtn(this.saleBtn,!0),this._lockBtn(this.cancelBtn,!0),this._lockBtn(this.putInBtn,!0),this._lockBtn(this.removeBtn,!0));var e=t.totalBlockCount-i+"/"+t.totalBlockCount,n=r.i18nFormat(o.getI18nUIText("u.31015"),[e]);this._setBtnTip(this.useBtn,n),this._setBtnTip(this.saleBtn,n),this._setBtnTip(this.cancelBtn,n),this._setBtnTip(this.putInBtn,n),this._setBtnTip(this.removeBtn,n)},s._closeChainOperateView=function(){this.mIsChainLock=!1,this.isLockCtrl.selectedPage="FALSE",this._lockBtn(this.useBtn,!1),this._lockBtn(this.saleBtn,!1),this._lockBtn(this.cancelBtn,!1),this._lockBtn(this.putInBtn,!1),this._lockBtn(this.removeBtn,!1),null!=this._onCloseClick&&this._onCloseClick()},s._lockBtn=function(t,i){var e=t.getController("IsLock");null!=e&&(e.selectedPage=i?"TRUE":"FALSE")},s._setBtnTip=function(t,i){var e=t.getChild("ui_ItemText");null!=e&&(e.text=i)},s._onUseBtnClick=function(){c.PlaySound_UICommonClick(),null!=this.mItemData&&(this.mIsChainLock||null!=this._onCloseClick&&this._onCloseClick())},s._onBuyBtnClick=function(){c.PlaySound_UICommonClick(),null!=this.mItemData&&this.mIsChainLock},s._onSaleBtnClick=function(){if(null!=this.mItemData&&!this.mIsChainLock){var t=this.mItemData;t.type===h.eItem_Common?l.sellObject(t.realId,1):t.type===h.eItem_ItemChain&&null!=this._onCloseClick&&this._onCloseClick()}},s._onCancelBtnClick=function(){if(c.PlaySound_UICommonClick(),null!=this.mItemData&&!this.mIsChainLock){var t=this.mItemData;t.type===h.eItem_ItemChain&&t.isInSale,null!=this._onCloseClick&&this._onCloseClick()}},s._onPutInBtnClick=function(){c.PlaySound_UICommonClick(),null!=this.mItemData&&(this.mIsChainLock||null!=this._onCloseClick&&this._onCloseClick())},s._onRemoveBtnClick=function(){c.PlaySound_UICommonClick(),null!=this.mItemData&&(this.mIsChainLock||null!=this._onCloseClick&&this._onCloseClick())},s._onCloseBtnClick=function(){null!=this._onCloseClick&&this._onCloseClick()},s.OnCloseBtnClick=function(t){this._onCloseClick=t},s.RefreshShowItemData=function(t){this._RefreshCommonItemData(t)},s._RefreshCommonItemData=function(t){if(this.mItemData=a.instance.GetItemByTempId(t),null!=this.mItemData){var i=this.mItemData;if(i.type===h.eItem_ItemChain)i.isInSale||(this.itemPriceGp.visible=!1,this.saleCtrl.selectedPage="FALSE",this.btnShowCtrl.selectedPage="Sale"),this.moneyCtrl.selectedIndex=1,this.mIsChainLock=!1;else{var e=o.getItemRecord(i.tableId);if(null==e)return;this.itemName.text=e.itemName,this.itemIcon.url=C.getUIItemPath(e.itemIcon),this.itemDesc.text=e.itemDesc,this.itemNum.text=i.curCount.toString(),this.qualityCtrl.selectedPage=i.itemObject.itemQuality.toString(),this.tokenCtrl.selectedPage="FALSE",this.saleCtrl.selectedPage="FALSE";var n=0;if(""!==e.itemPrice){var s=e.itemPrice.split("-");s&&2===s.length&&(n=Number.parseInt(s[1]))}n<=0?this.itemPriceGp.visible=!1:(this.itemPriceGp.visible=!0,this.itemPrice.text=e.itemPrice.toString()),this.moneyCtrl.selectedIndex=0}}},s._RefreshChainItemData=function(t){this.moneyCtrl.selectedIndex=1,this.mIsChainLock=!1},e}(s)).URL="ui://tip/itemtip_item",e._RF.pop()}}}));

System.register("chunks:///_virtual/ui.tip.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){"use strict";var i,n,u;return{setters:[function(t){i=t.inheritsLoose},function(t){n=t.cclegacy},function(t){u=t.GComponent}],execute:function(){n._RF.push({},"d1b14yNJvFJf7mbRzg9Wkyy","ui.tip.view",void 0),t("default",function(t){function n(){return t.apply(this,arguments)||this}return i(n,t),n.prototype.onConstruct=function(){},n}(u)).URL="ui://tip/Main",n._RF.pop()}}}));

System.register("chunks:///_virtual/ui.token.generation.controller.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./event.dispatcher.ts","./event.name.ts","./table.helper.ts","./sound.helper.ts","./logic.tool.ts","./resource.path.tool.ts","./ui.base.controller.ts","./model.mainrole.manager.ts","./net.helper.ts","./wizard.wallet.sdk.ts","./sdk.manager.ts","./resource.manager.ts","./tonweb.mjs_cjs=&original=.js","./common.tool.ts","./ui.float.text.controller.ts","./tonweb.js"],(function(t){"use strict";var e,i,n,s,o,a,l,r,u,h,c,_,m,d,g,w,f,I,v,C,T,R,x,p,z,k,E,W,N,A,S;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass,n=t.asyncToGenerator,s=t.regeneratorRuntime},function(t){o=t.cclegacy,a=t._decorator,l=t.input,r=t.Input,u=t.KeyCode,h=t.isValid,c=t.sp,_=t.v2},function(t){m=t.UIPackage,d=t.Event,g=t.GTween,w=t.EaseType},function(t){f=t.EventDispatcher},function(t){I=t.EventName},function(t){v=t.TableHelper},function(t){C=t.SoundHelper},function(t){T=t.LogicTool},function(t){R=t.ResourcePathTool},function(t){x=t.UIBaseController},function(t){p=t.ModelMainRoleManager},function(t){z=t.NetHelper},function(t){k=t.WizardWalletSDK},function(t){E=t.SDKManager},function(t){W=t.ResourceManager},null,function(t){N=t.CommonTool},function(t){A=t.UIFloatTextController},function(t){S=t.default}],execute:function(){var y,D;o._RF.push({},"51a424bRDNO8YSZKfdz49FH","ui.token.generation.controller",void 0);var F=a.ccclass;t("UITokenGenerationController",F("UITokenGenerationController")(((D=function(t){function o(){for(var e,i=arguments.length,n=new Array(i),s=0;s<i;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))||this).mFguiPkgName="TokenGeneration",e.mFguiMainViewName="Main",e._view=null,e.mResult=null,e.mIsRequestFinish=!1,e.mIsAnimFinish=!1,e.mWaitingTextTime=0,e.mWaitingTextIndex=0,e}e(o,t);var a=o.prototype;return a._addEvents=function(){t.prototype._addEvents.call(this),l.on(r.EventType.KEY_DOWN,this._onKeyDown,this),f.on(I.UI_TOKEN_GENERATION_SHOW_RESULT,this._onShowTokenResult,this),f.on(I.CHAIN_ORDER_ADD_ITEM,this._onChainOrderItemChanged,this),f.on(I.CHAIN_ORDER_REMOVE_ITEM,this._onChainOrderItemChanged,this)},a._removeEvents=function(){t.prototype._removeEvents.call(this),l.off(r.EventType.KEY_DOWN,this._onKeyDown,this),f.off(I.UI_TOKEN_GENERATION_SHOW_RESULT,this._onShowTokenResult,this),f.off(I.CHAIN_ORDER_ADD_ITEM,this._onChainOrderItemChanged,this),f.off(I.CHAIN_ORDER_REMOVE_ITEM,this._onChainOrderItemChanged,this)},a._onKeyDown=function(t){switch(t.keyCode){case u.ESCAPE:this._onCloseClick()}},a._onShowTokenResult=function(t){null!==this._view&&(this.mIsRequestFinish=!0,this.mResult=t,this._showResult())},a._onChainOrderItemChanged=function(){null!==this._view&&this._refreshBtnState()},a.onLoad=function(){o._instance=this,this._startLoadPkg(this.mFguiPkgName)},a.onDestroy=function(){t.prototype.onDestroy.call(this),o._instance=null},a.closeUI=function(){t.prototype.closeUI.call(this)},a.update=function(t){if(null!==this._view&&this._view.waitingGp.visible){var e=v.getI18nUIText("u.14232");this.mWaitingTextTime>=.3&&(0===this.mWaitingTextIndex?(this._view.waitingText.text=e,this.mWaitingTextIndex++):1===this.mWaitingTextIndex?(this._view.waitingText.text=e.substring(0,e.length-3),this.mWaitingTextIndex++):2===this.mWaitingTextIndex?(this._view.waitingText.text=e.substring(0,e.length-2),this.mWaitingTextIndex++):this.mWaitingTextIndex>=3&&(this._view.waitingText.text=e.substring(0,e.length-1),this.mWaitingTextIndex=0),this.mWaitingTextTime=0),this.mWaitingTextTime+=t}},a._onLoadUIFinish=function(){t.prototype._onLoadUIFinish.call(this),this._view=m.createObject(this.mFguiPkgName,this.mFguiMainViewName).asCom,this._addUIToRoot(this._view),this._view.makeFullScreen(),this._view.closeBtn.onClick(this._onCloseClick,this),this._view.calculationBtn.onClick(this._onCalculationClick,this),this._view.withdrawBtn.onClick(this._onWithdrawClick,this),this._view.ruleText.on(d.LINK,this.onRuleLinkClick,this),this._initData()},a._initData=function(){this._view.stateCtrl.selectedIndex=0;var t=v.getItemRecord(12);t&&(this._view.cWizzIcon.url=R.getUIFarmItemPath(t.itemIcon)),this._view.cWizzName.text=T.i18nFormat(v.getI18nUIText("u.13438"),["xWIZZ"]),this._view.cWizzBalance.text=p.instance.WizzCoin+" xWIZZ",this._loadTgeCalculatingModelShow(this._view.waitingAnim,"TGE_Calculating"),this._refreshBtnState()},a._showResult=function(){if(this.mIsRequestFinish&&this.mIsAnimFinish&&null!=this.mResult){this._view.waitingGp.visible=!1,this._view.stateCtrl.selectedIndex=1;var t=this._calculateWizzRate(this.mResult.c1_release_wizzAmount,this.mResult.c1_wizzAmount),e=this._setProgressView(this._view.rProgress1,t,10),i=this._calculateWizzRate(this.mResult.c2_release_wizzAmount,this.mResult.c2_wizzAmount),n=this._setProgressView(this._view.rProgress2,i,80),s=this._calculateWizzRate(this.mResult.c3_release_wizzAmount,this.mResult.c3_wizzAmount),o=(e+n+this._setProgressView(this._view.rProgress3,s,100))/100;o>1&&(o=1),this._setProgressView(this._view.rProgressTotal,o,100),this._view.rTotalAmount.text=S.utils.fromNano(this.mResult.total_wizzAmount)+" xWIZZ",this._view.rUnlockAmount.text=S.utils.fromNano(this.mResult.release_wizzAmount)+" WIZZ";var a=BigInt(this.mResult.total_wizzAmount)-BigInt(this.mResult.release_wizzAmount);this._view.rStakeAmount.text=S.utils.fromNano(a.toString())+" WIZZ",k.isCreated()?this._view.rWalletAddr.text=N.shortAddress(E.instance.curSDKPlugin.accountMeInfo.addressEvm,6):this._view.rWalletAddr.text="-"}},a._calculateWizzRate=function(t,e){var i=Number.parseFloat(S.utils.fromNano(t)),n=Number.parseFloat(S.utils.fromNano(e)),s=0;return 0===n&&(s=0),(s=i/n)<0?s=0:s>1&&(s=1),s},a._setProgressView=function(t,e,i){0===e?t.value=0:t.tweenValue(100*e,.6);var n=t.getChild("title2");if(n){var s=Math.floor(100*(e*i+1e-6))/100;return g.to(0,s,.6).setEase(w.Linear).onUpdate((function(t){n.text=Math.floor(100*(t.value.x+1e-6))/100+"%"})),s}return 0},a._refreshBtnState=function(){this._view.cWizzBalance.text=p.instance.WizzCoin+" xWIZZ",this._view.setBtnLockState(!1)},a._onCloseClick=function(){C.PlaySound_UICommonClose(),f.emit(I.UI_TOKEN_GENERATION_CLOSE)},a._onCalculationClick=function(){var t=this;C.PlaySound_UICommonClick(),Number(p.instance.WizzCoin)<=0?A.AddTipI18nID_Failed("u.2524"):(this.mIsRequestFinish=!1,this.mIsAnimFinish=!1,this._view.waitingGp.visible=!0,z.calculateTgeWizz(),this.scheduleOnce((function(){t.mIsAnimFinish=!0,t._view&&t._showResult()}),3))},a._onWithdrawClick=function(){C.PlaySound_UICommonClick(),A.AddTipI18nID_Info("u.2501")},a.onRuleLinkClick=function(){var t=n(s().mark((function t(e){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:C.PlaySound_UICommonClick(),""!==e&&E.instance.curSDKPlugin.openUrl(e);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),a._loadTgeCalculatingModelShow=function(t,e){var i=this;W.instance.loadFarmRes(e,(function(e){if(h(i.node)){var n=e.data,s=null==n?void 0:n.getComponentInChildren(c.Skeleton);n&&(t.clearContent(),t.skinName=s.defaultSkin,t.loop=!0,t.animationName="animation",t.setSpine(s.skeletonData,_(126,180)),t.content.timeScale=.5)}}))},i(o,null,[{key:"instance",get:function(){return this._instance}}]),o}(x)).CTRL_NAME="UITokenGenerationController",D._instance=null,y=D))||y);o._RF.pop()}}}));

System.register("chunks:///_virtual/ui.token.generation.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./table.helper.ts","./time.system.ts","./logic.tool.ts"],(function(i){"use strict";var t,e,n,s,o,l,r;return{setters:[function(i){t=i.inheritsLoose},function(i){e=i.cclegacy,n=i._decorator},function(i){s=i.GComponent},function(i){o=i.TableHelper},function(i){l=i.TimeSystem},function(i){r=i.LogicTool}],execute:function(){var a,u;e._RF.push({},"28e84iVWf1DBrZBEetmMHHt","ui.token.generation.view",void 0);var h=n.ccclass;i("default",h("UITokenGenerationView")(((u=function(i){function e(){var t;return(t=i.call(this)||this).stateCtrl=void 0,t.closeBtn=void 0,t.windCalculation=void 0,t.cWizzIcon=void 0,t.cWizzName=void 0,t.cWizzBalance=void 0,t.calculationBtn=void 0,t.ruleText=void 0,t.windResult=void 0,t.rProgress1=void 0,t.rProgress2=void 0,t.rProgress3=void 0,t.rProgressTotal=void 0,t.rTotalAmount=void 0,t.rUnlockAmount=void 0,t.rStakeAmount=void 0,t.rWalletAddr=void 0,t.withdrawBtn=void 0,t.waitingGp=void 0,t.waitingText=void 0,t.waitingAnim=void 0,t}t(e,i);var n=e.prototype;return n.onConstruct=function(){this.stateCtrl=this.getController("State"),this.closeBtn=this.getChild("ui_WindClose"),this.windCalculation=this.getChild("ui_CalculateWind"),this.cWizzIcon=this.windCalculation.getChild("ui_TokenIcon1"),this.cWizzName=this.windCalculation.getChild("ui_TokenName"),this.cWizzBalance=this.windCalculation.getChild("ui_BalanceValue1"),this.calculationBtn=this.windCalculation.getChild("ui_BtnCalculate"),this.ruleText=this.windCalculation.getChild("ui_Des"),this.windResult=this.getChild("ui_ResultWind"),this.rProgress1=this.windResult.getChild("ui_Progress1"),this.rProgress2=this.windResult.getChild("ui_Progress2"),this.rProgress3=this.windResult.getChild("ui_Progress3"),this.rProgressTotal=this.windResult.getChild("ui_ProgressTotal"),this.rTotalAmount=this.windResult.getChild("ui_Value1"),this.rUnlockAmount=this.windResult.getChild("ui_Value2"),this.rStakeAmount=this.windResult.getChild("ui_Value3"),this.rWalletAddr=this.windResult.getChild("ui_Value4"),this.withdrawBtn=this.windResult.getChild("ui_BtnWithdraw"),this.waitingGp=this.getChild("ui_AniGp");var i=this.getChild("ui_AniCalculating");this.waitingText=i.getChild("ui_TokenName"),this.waitingAnim=i.getChild("ui_AniCalculating"),this.rProgress1.value=0,this.rProgress2.value=0,this.rProgress3.value=0,this.rProgressTotal.value=0},n.setBtnLockState=function(i){var t=this.calculationBtn.getController("IsLocked");t&&(t.selectedIndex=i?1:0),this.calculationBtn.touchable=!i},n.setBtnLockTime=function(i){var t=this.calculationBtn.getChild("ui_LabelLocked");if(t){var e=l.formatTimeString(i,!1);t.text=r.i18nFormat(o.getI18nUIText("u.14235"),[e])}},e}(s)).URL="ui://TokenGeneration/Main",a=u))||a);e._RF.pop()}}}));

System.register("chunks:///_virtual/ui.token.unlock.controller.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./event.dispatcher.ts","./event.name.ts","./table.helper.ts","./sound.helper.ts","./resource.path.tool.ts","./ui.base.controller.ts","./wizard.wallet.sdk.ts","./sdk.manager.ts","./time.system.ts","./chain.system.ts","./logic.tool.ts","./use.ethers.ts","./chain.operate.release.vesting.ts","./chain.operate.interface.ts","./ui.message.box.controller.ts"],(function(t){"use strict";var e,n,i,o,a,s,r,c,l,u,h,m,_,p,f,k,v,d,g,C,U,I,w,x,y,b;return{setters:[function(t){e=t.inheritsLoose,n=t.createClass,i=t.asyncToGenerator,o=t.regeneratorRuntime},function(t){a=t.cclegacy,s=t._decorator,r=t.input,c=t.Input,l=t.KeyCode,u=t.isValid},function(t){h=t.UIPackage},function(t){m=t.EventDispatcher},function(t){_=t.EventName},function(t){p=t.TableHelper},function(t){f=t.SoundHelper},function(t){k=t.ResourcePathTool},function(t){v=t.UIBaseController},function(t){d=t.WizardWalletSDK},function(t){g=t.SDKManager},function(t){C=t.TimeSystem},function(t){U=t.ChainSystem},function(t){I=t.LogicTool},function(t){w=t.formatEther},function(t){x=t.ChainOperateReleaseVesting},function(t){y=t.ChainOperateStatus},function(t){b=t.UIMessageBoxController}],execute:function(){var D,E;a._RF.push({},"edd77ADyWRADbPIaAplPn+c","ui.token.unlock.controller",void 0);var T=s.ccclass;t("UITokenUnlockController",T("UITokenUnlockController")(((E=function(t){function a(){for(var e,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))||this).mFguiPkgName="TokenGeneration",e.mFguiMainViewName="Main_Claim",e._view=null,e.mVestingData=null,e}e(a,t);var s=a.prototype;return s._addEvents=function(){t.prototype._addEvents.call(this),r.on(c.EventType.KEY_DOWN,this._onKeyDown,this)},s._removeEvents=function(){t.prototype._removeEvents.call(this),r.off(c.EventType.KEY_DOWN,this._onKeyDown,this)},s._onKeyDown=function(t){switch(t.keyCode){case l.ESCAPE:this._onCloseClick()}},s.onLoad=function(){a._instance=this,this._startLoadPkg(this.mFguiPkgName)},s.onDestroy=function(){t.prototype.onDestroy.call(this),a._instance=null},s.closeUI=function(){t.prototype.closeUI.call(this)},s.update=function(){this._view},s._onLoadUIFinish=function(){t.prototype._onLoadUIFinish.call(this),this._view=h.createObject(this.mFguiPkgName,this.mFguiMainViewName).asCom,this._addUIToRoot(this._view),this._view.makeFullScreen(),this._view.closeBtn.onClick(this._onCloseClick,this),this._view.claimBtn.onClick(this._onClaimClick,this),this._initData()},s._initData=function(){var t=p.getItemRecord(12);t&&(this._view.cWizzIcon.url=k.getUIFarmItemPath(t.itemIcon)),d.isCreated()?this._view.cWalletAddr.text=g.instance.curSDKPlugin.accountMeInfo.addressEvm:this._view.cWalletAddr.text="-",this._requestUnlockData()},s._requestUnlockData=function(){var t=i(o().mark((function t(e){var n,i,a,s,r,c,l=this;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===e&&(e=!0),t.prev=1,e&&(this._view.cWizzBalance.text="- WIZZ",this._view.cTotalAmount.text="- WIZZ",this._view.cUnlockAmount.text="- WIZZ",this._view.cUnlockTime.text="-"),this.mVestingData=null,t.next=6,U.instance.beraVestingPool.getBeneficiaryVesting();case 6:if(n=t.sent,u(this.node)){t.next=9;break}return t.abrupt("return");case 9:if(null!=n){t.next=11;break}return t.abrupt("return");case 11:this.mVestingData=n,i=w(n.lockAmount),a=w(n.releasedAmount),s=w(n.nextParam),r=Number.parseFloat(i)-Number.parseFloat(a),this._view.cTotalAmount.text=I.NumberOmit(r.toString(),8)+" WIZZ",0===n.nextUnlockSecond?(this._view.cWizzBalance.text=I.NumberOmit(s,8)+" WIZZ",this._view.cUnlockAmount.text="- WIZZ",this._view.cUnlockTime.text="-"):(this._view.cWizzBalance.text="0.00 WIZZ",this._view.cUnlockAmount.text=I.NumberOmit(s,8)+" WIZZ",c=C.instance.getTimestamp()+n.nextUnlockSecond,this._view.cUnlockTime.text=C.formatDateString(c),this.unscheduleAllCallbacks(),this.scheduleOnce((function(){l._view&&l._requestUnlockData()}),n.nextUnlockSecond)),t.next=23;break;case 20:t.prev=20,t.t0=t.catch(1),console.error(t.t0);case 23:case"end":return t.stop()}}),t,this,[[1,20]])})));return function(e){return t.apply(this,arguments)}}(),s._onCloseClick=function(){f.PlaySound_UICommonClose(),m.emit(_.UI_TOKEN_UNLOCK_CLOSE)},s._onClaimClick=function(){var t=i(o().mark((function t(){var e,n;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(f.PlaySound_UICommonClick(),null!=this.mVestingData){t.next=3;break}return t.abrupt("return");case 3:if(e=w(this.mVestingData.lockAmount),n=w(this.mVestingData.releasedAmount),Number.parseFloat(e)!==Number.parseFloat(n)){t.next=7;break}return t.abrupt("return");case 7:if(0===this.mVestingData.nextUnlockSecond){t.next=9;break}return t.abrupt("return");case 9:if(d.isCreated()){t.next=12;break}return b.AddPopMsgBox_DoubleBtn(p.getI18nUIText("u.14231"),p.getI18nUIText("u.4001"),(function(){m.emit(_.UI_WALLET_CREATE_OPEN),m.emit(_.UI_TOKEN_UNLOCK_CLOSE)}),this),t.abrupt("return");case 12:return t.next=14,x.popConfirm();case 14:t.sent===y.Success&&(this._requestUnlockData(!1),m.emit(_.UI_TOKEN_UNLOCK_TGE_REFRESH));case 16:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),n(a,null,[{key:"instance",get:function(){return this._instance}}]),a}(v)).CTRL_NAME="UITokenUnlockController",E._instance=null,D=E))||D);a._RF.pop()}}}));

System.register("chunks:///_virtual/ui.token.unlock.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(i){"use strict";var t,n,e,l;return{setters:[function(i){t=i.inheritsLoose},function(i){n=i.cclegacy,e=i._decorator},function(i){l=i.GComponent}],execute:function(){var o,c;n._RF.push({},"7d073Bp0gxC3YFaTa5EhQCx","ui.token.unlock.view",void 0);var a=e.ccclass;i("default",a("UITokenUnlockView")(((c=function(i){function n(){var t;return(t=i.call(this)||this).closeBtn=void 0,t.windClaim=void 0,t.cWizzIcon=void 0,t.cWizzName=void 0,t.cWizzBalance=void 0,t.claimBtn=void 0,t.cTotalAmount=void 0,t.cUnlockAmount=void 0,t.cUnlockTime=void 0,t.cWalletAddr=void 0,t}return t(n,i),n.prototype.onConstruct=function(){this.closeBtn=this.getChild("ui_WindClose"),this.windClaim=this.getChild("ui_ClaimWind"),this.cWizzIcon=this.windClaim.getChild("ui_TokenIcon1"),this.cWizzName=this.windClaim.getChild("ui_TokenName"),this.cWizzBalance=this.windClaim.getChild("ui_BalanceValue1"),this.claimBtn=this.windClaim.getChild("ui_BtnClaim"),this.cTotalAmount=this.windClaim.getChild("ui_Value1"),this.cUnlockAmount=this.windClaim.getChild("ui_Value2"),this.cUnlockTime=this.windClaim.getChild("ui_Value3"),this.cWalletAddr=this.windClaim.getChild("ui_Value4")},n}(l)).URL="ui://TokenGeneration/Main_Claim",o=c))||o);n._RF.pop()}}}));

System.register("chunks:///_virtual/ui.utility.ts",["cc","./fairygui.mjs","./resource.path.tool.ts","./ui.float.text.pop.view.ts","./ui.floattext.tip.view.ts","./ui.float.text.view.ts","./ui.login.view.ts","./ui.main.interface.view.ts","./ui.score.btn.view.ts","./ui.map.loading.view.ts","./ui.message.box.view.ts","./ui.gm.panel.view.ts","./ui.login.progress.view.ts","./ui.asset.view.ts","./ui.quest.view.ts","./ui.quest.task.item.view.ts","./ui.quest.achievement.item.view.ts","./ui.option.view.ts","./ui.bag.view.ts","./ui.bag.list.item.view.ts","./ui.shop.view.ts","./ui.shop.list.item.object.view.ts","./ui.shop.list.item.charge.view.ts","./ui.login.comp.inner.view.ts","./ui.login.comp.res.load.view.ts","./ui.building.place.view.ts","./ui.gm.farm.edit.view.ts","./ui.building.edit.view.ts","./ui.common.cost.btn.view.ts","./ui.common.cost.btn2.view.ts","./ui.common.cost.item.view.ts","./ui.tip.float.view.ts","./ui.tip.float.text.view.ts","./ui.tip.view.ts","./ui.tip.item.view.ts","./ui.login.comp.outer.view.ts","./ui.common.score.anim.view.ts","./ui.mail.view.ts","./ui.mail.list.item.view.ts","./ui.mail.detail.view.ts","./ui.mail.detail.item.view.ts","./ui.worker.chain.type.view.ts","./ui.worker.work.type.view.ts","./ui.worker.exploration.type.view.ts","./ui.worker.major.type.view.ts","./ui.worker.luck.view.ts","./ui.details.item.view.ts","./ui.detail.view.ts","./ui.details.shop.item.view.ts","./ui.details.worker.info.view.ts","./ui.details.worker.skill.view.ts","./ui.details.charge.view.ts","./ui.charge.view.ts","./ui.charge.list.item.view.ts","./ui.invitation.view.ts","./ui.Invitation.reward.item.view.ts","./ui.achievement.view.ts","./ui.achievement.item.view.ts","./ui.worker.detail.view.ts","./ui.worker.detail.skill.view.ts","./ui.worker.awakening.view.ts","./ui.worker.awakening.list.item.view.ts","./ui.worker.awakening.succ.view.ts","./ui.worker.synthesis.view.ts","./ui.worker.synthesis.skill.item.view.ts","./ui.worker.synthesis.succ.view.ts","./ui.worker.synthesis.succ.luck.view.ts","./ui.worker.synthesis.succ.skill.item.view.ts","./ui.common.reward.item.view.ts","./ui.common.item.title.view.ts","./ui.shop.list.bar.object.view.ts","./ui.shop.list.bar.charge.view.ts","./ui.item.get.view.ts","./ui.item.get.item.view.ts","./ui.item.get.worker.view.ts","./ui.building.worker.view.ts","./ui.building.worker.item.view.ts","./ui.building.upgrade.view.ts","./ui.building.platform.view.ts","./ui.floattext.reconnect.view.ts","./ui.open.function.view.ts","./ui.guide.click.view.ts","./ui.guide.introduction.view.ts","./ui.guide.dialog.view.ts","./ui.guide.farm.view.ts","./ui.guide.skip.view.ts","./ui.mining.btn.view.ts","./ui.quidditch.btn.view.ts","./ui.mining.view.ts","./ui.mining.coming.view.ts","./ui.mining.list.view.ts","./ui.mining.current.item.view.ts","./ui.mining.past.item.view.ts","./ui.charge.activity.view.ts","./ui.charge.activity.item.view.ts","./ui.charge.activity.pack.item.view.ts","./ui.common.item.title2.view.ts","./ui.monthly.card.view.ts","./ui.monthly.card.item.view.ts","./ui.monthly.card.reward.item.view.ts","./ui.charge.activity.detail.view.ts","./ui.charge.activity.details.skin.view.ts","./ui.charge.activity.details.decoration.view.ts","./ui.charge.activity.details.decoration.item.view.ts","./ui.building.appearance.view.ts","./ui.building.appearance.item.view.ts","./ui.quidditch.view.ts","./ui.quidditch.race.scene.view.ts","./ui.quidditch.race.track.view.ts","./ui.quidditch.race.participant.view.ts","./ui.quidditch.vote.view.ts","./ui.quidditch.countdown.view.ts","./ui.quidditch.clearing.view.ts","./ui.quidditch.rule.view.ts","./ui.floattext.lamp.view.ts","./ui.quidditch.race.progress.view.ts","./ui.quidditch.unopen.view.ts","./ui.gift.view.ts","./ui.details.item.info.view.ts","./ui.details.item.use.view.ts","./ui.details.item.sell.view.ts","./ui.details.item.stake.view.ts","./ui.details.info.worker.view.ts","./ui.details.info.prosperity.view.ts","./ui.gift.notcoin.view.ts","./ui.gift.notcoin.item.view.ts","./ui.gift.tabi.view.ts","./ui.gift.tabi.reward.item.view.ts","./ui.login.comp.invite.view.ts","./ui.exploration.view.ts","./ui.exploration.scene.view.ts","./ui.exploration.track.near.view.ts","./ui.exploration.track.middle.view.ts","./ui.exploration.track.far.view.ts","./ui.exploration.role.view.ts","./ui.exploration.monster.view.ts","./ui.details.item.recipe.view.ts","./ui.exploration.dispatch.view.ts","./ui.exploration.dispatch.list.item.view.ts","./ui.exploration.content.view.ts","./ui.exploration.btn.view.ts","./ui.open.function.exploration.view.ts","./ui.gift.okx.view.ts","./ui.gift.okx.reward.item.view.ts","./ui.option.item.view.ts","./ui.purification.view.ts","./ui.wallet.view.ts","./ui.wallet.create.view.ts","./ui.purification.center.view.ts","./ui.wallet.token.item.view.ts","./ui.wallet.function.item.view.ts","./ui.wallet.send.list.view.ts","./ui.wallet.send.detail.view.ts","./ui.wallet.receive.view.ts","./ui.wallet.token.detail.view.ts","./ui.wallet.operate.view.ts","./ui.wallet.operate.wnd.send.coin.view.ts","./ui.wallet.operate.wnd.dex.swap.view.ts","./ui.wallet.operate.wnd.dex.liquidity.add.view.ts","./ui.wallet.operate.wnd.dex.liquidity.remove.view.ts","./ui.wallet.operate.wnd.contract.interact.view.ts","./ui.wallet.operate.wnd.market.buy.view.ts","./ui.wallet.operate.result.view.ts","./ui.wallet.operate.waiting.view.ts","./ui.wallet.transaction.view.ts","./ui.wallet.transaction.item.view.ts","./ui.asset.worker.item.view.ts","./ui.asset.package.item.view.ts","./ui.marketplace.worker.item.view.ts","./ui.marketplace.package.item.view.ts","./ui.asset.resource.view.ts","./ui.gift.faucet.view.ts","./ui.worker.upgrade.view.ts","./ui.worker.major.view.ts","./ui.worker.major.skill.item.view.ts","./ui.dapp.view.ts","./ui.worker.skill.item.view.ts","./ui.worker.skill.detail.item.view.ts","./ui.asset.onchain.view.ts","./ui.asset.onchain.worker.list.bar.view.ts","./ui.asset.onchain.worker.insale.list.bar.view.ts","./ui.asset.onchain.package.list.bar.view.ts","./ui.asset.onchain.package.insale.list.bar.view.ts","./ui.asset.detail.view.ts","./ui.worker.market.buysell.view.ts","./ui.details.item.market.buysell.view.ts","./ui.dapp.market.view.ts","./ui.dapp.market.sort.view.ts","./ui.dapp.market.sort.item.view.ts","./ui.dapp.market.page.view.ts","./ui.dapp.market.wizard.view.ts","./ui.dapp.market.wizard.filter.view.ts","./ui.dapp.market.object.view.ts","./ui.dapp.market.object.detail.view.ts","./ui.dapp.market.object.detail.item.view.ts","./ui.dapp.market.range.slider.view.ts","./ui.details.charge.kaia.view.ts","./ui.option.language.view.ts","./ui.option.language.item.view.ts","./ui.gift.line.view.ts","./ui.gift.red.envelope.view.ts","./ui.dapp.dex.view.ts","./ui.dapp.dex.swap.view.ts","./ui.dapp.dex.settings.view.ts","./ui.dapp.dex.swaplist.view.ts","./ui.dapp.dex.swaplist.item.view.ts","./ui.token.generation.view.ts","./ui.token.unlock.view.ts","./ui.wallet.operate.wnd.tge.view.ts","./ui.dapp.dex.pool.item.view.ts","./ui.dapp.dex.pool.detail.view.ts","./ui.dapp.dex.pool.detail.token.item.view.ts","./ui.dapp.dex.liquidity.add.view.ts","./ui.dapp.dex.liquidity.remove.view.ts","./ui.dapp.shop.view.ts","./ui.dapp.shop.vault.item.view.ts","./ui.dapp.shop.vault.detail.view.ts","./ui.wallet.operate.wnd.lp.stake.view.ts","./ui.wallet.operate.wnd.lp.reward.view.ts","./ui.wallet.operate.wnd.lp.unstake.view.ts","./ui.dapp.shop.vault.incentive.item.view.ts","./ui.dapp.shop.vault.validator.item.view.ts","./ui.dapp.validator.view.ts","./ui.dapp.validator.all.item.view.ts","./ui.dapp.validator.mine.item.view.ts","./ui.dapp.validator.queued.item.view.ts","./ui.dapp.validator.detail.view.ts","./ui.chain.order.view.ts","./ui.chain.order.item.view.ts","./ui.combination.view.ts","./ui.combination.item.view.ts","./ui.combination.detail.view.ts","./ui.combination.detail.item.view.ts","./ui.dapp.validator.detail.queued.item.view.ts","./ui.wallet.operate.wnd.bgt.boost.view.ts"],(function(t){"use strict";var e,i,n,s,u,o,a,f,l,d,c,w,v,x,r,R,U,L,E,p,m,g,k,h,b,y,q,P,F,j,I,T,B,S,_,z,A,C,D,G,J,K,O,H,M,N,Q,V,W,X,Y,Z,$,tt,et,it,nt,st,ut,ot,at,ft,lt,dt,ct,wt,vt,xt,rt,Rt,Ut,Lt,Et,pt,mt,gt,kt,ht,bt,yt,qt,Pt,Ft,jt,It,Tt,Bt,St,_t,zt,At,Ct,Dt,Gt,Jt,Kt,Ot,Ht,Mt,Nt,Qt,Vt,Wt,Xt,Yt,Zt,$t,te,ee,ie,ne,se,ue,oe,ae,fe,le,de,ce,we,ve,xe,re,Re,Ue,Le,Ee,pe,me,ge,ke,he,be,ye,qe,Pe,Fe,je,Ie,Te,Be,Se,_e,ze,Ae,Ce,De,Ge,Je,Ke,Oe,He,Me,Ne,Qe,Ve,We,Xe,Ye,Ze,$e,ti,ei,ii,ni,si,ui,oi,ai,fi,li,di,ci,wi,vi,xi,ri,Ri,Ui,Li,Ei,pi,mi,gi,ki,hi,bi,yi,qi,Pi,Fi,ji,Ii,Ti,Bi,Si,_i,zi,Ai,Ci,Di,Gi,Ji,Ki,Oi,Hi,Mi,Ni,Qi,Vi,Wi,Xi,Yi,Zi,$i,tn,en,nn,sn,un,on,an,fn,ln,dn,cn,wn,vn,xn,rn,Rn,Un,Ln,En,pn,mn,gn,kn,hn,bn;return{setters:[function(t){e=t.cclegacy,i=t.resources,n=t.BitmapFont},function(t){s=t.UIObjectFactory,u=t.UIPackage,o=t.registerFont,a=t.UIConfig},function(t){f=t.ResourcePathTool},function(t){l=t.default},function(t){d=t.default},function(t){c=t.default},function(t){w=t.default},function(t){v=t.default},function(t){x=t.default},function(t){r=t.default},function(t){R=t.default},function(t){U=t.default},function(t){L=t.default},function(t){E=t.default},function(t){p=t.default},function(t){m=t.default},function(t){g=t.default},function(t){k=t.default},function(t){h=t.default},function(t){b=t.default},function(t){y=t.default},function(t){q=t.default},function(t){P=t.default},function(t){F=t.default},function(t){j=t.default},function(t){I=t.default},function(t){T=t.default},function(t){B=t.default},function(t){S=t.default},function(t){_=t.default},function(t){z=t.default},function(t){A=t.default},function(t){C=t.default},function(t){D=t.default},function(t){G=t.default},function(t){J=t.default},function(t){K=t.default},function(t){O=t.default},function(t){H=t.default},function(t){M=t.default},function(t){N=t.default},function(t){Q=t.default},function(t){V=t.default},function(t){W=t.default},function(t){X=t.default},function(t){Y=t.default},function(t){Z=t.default},function(t){$=t.default},function(t){tt=t.default},function(t){et=t.default},function(t){it=t.default},function(t){nt=t.default},function(t){st=t.default},function(t){ut=t.default},function(t){ot=t.default},function(t){at=t.default},function(t){ft=t.default},function(t){lt=t.default},function(t){dt=t.default},function(t){ct=t.default},function(t){wt=t.default},function(t){vt=t.default},function(t){xt=t.default},function(t){rt=t.default},function(t){Rt=t.default},function(t){Ut=t.default},function(t){Lt=t.default},function(t){Et=t.default},function(t){pt=t.default},function(t){mt=t.default},function(t){gt=t.default},function(t){kt=t.default},function(t){ht=t.default},function(t){bt=t.default},function(t){yt=t.default},function(t){qt=t.default},function(t){Pt=t.default},function(t){Ft=t.default},function(t){jt=t.default},function(t){It=t.default},function(t){Tt=t.default},function(t){Bt=t.default},function(t){St=t.default},function(t){_t=t.default},function(t){zt=t.default},function(t){At=t.default},function(t){Ct=t.default},function(t){Dt=t.default},function(t){Gt=t.default},function(t){Jt=t.default},function(t){Kt=t.default},function(t){Ot=t.default},function(t){Ht=t.default},function(t){Mt=t.default},function(t){Nt=t.default},function(t){Qt=t.default},function(t){Vt=t.default},function(t){Wt=t.default},function(t){Xt=t.default},function(t){Yt=t.default},function(t){Zt=t.default},function(t){$t=t.default},function(t){te=t.default},function(t){ee=t.default},function(t){ie=t.default},function(t){ne=t.default},function(t){se=t.default},function(t){ue=t.default},function(t){oe=t.default},function(t){ae=t.default},function(t){fe=t.default},function(t){le=t.default},function(t){de=t.default},function(t){ce=t.default},function(t){we=t.default},function(t){ve=t.default},function(t){xe=t.default},function(t){re=t.default},function(t){Re=t.default},function(t){Ue=t.default},function(t){Le=t.default},function(t){Ee=t.default},function(t){pe=t.default},function(t){me=t.default},function(t){ge=t.default},function(t){ke=t.default},function(t){he=t.default},function(t){be=t.default},function(t){ye=t.default},function(t){qe=t.default},function(t){Pe=t.default},function(t){Fe=t.default},function(t){je=t.default},function(t){Ie=t.default},function(t){Te=t.default},function(t){Be=t.default},function(t){Se=t.default},function(t){_e=t.default},function(t){ze=t.default},function(t){Ae=t.default},function(t){Ce=t.default},function(t){De=t.default},function(t){Ge=t.default},function(t){Je=t.default},function(t){Ke=t.default},function(t){Oe=t.default},function(t){He=t.default},function(t){Me=t.default},function(t){Ne=t.default},function(t){Qe=t.default},function(t){Ve=t.default},function(t){We=t.default},function(t){Xe=t.default},function(t){Ye=t.default},function(t){Ze=t.default},function(t){$e=t.default},function(t){ti=t.default},function(t){ei=t.default},function(t){ii=t.default},function(t){ni=t.default},function(t){si=t.default},function(t){ui=t.default},function(t){oi=t.default},function(t){ai=t.default},function(t){fi=t.default},function(t){li=t.default},function(t){di=t.default},function(t){ci=t.default},function(t){wi=t.default},function(t){vi=t.default},function(t){xi=t.default},function(t){ri=t.default},function(t){Ri=t.default},function(t){Ui=t.default},function(t){Li=t.default},function(t){Ei=t.default},function(t){pi=t.default},function(t){mi=t.default},function(t){gi=t.default},function(t){ki=t.default},function(t){hi=t.default},function(t){bi=t.default},function(t){yi=t.default},function(t){qi=t.default},function(t){Pi=t.default},function(t){Fi=t.default},function(t){ji=t.default},function(t){Ii=t.default},function(t){Ti=t.default},function(t){Bi=t.default},function(t){Si=t.default},function(t){_i=t.default},function(t){zi=t.default},function(t){Ai=t.default},function(t){Ci=t.default},function(t){Di=t.default},function(t){Gi=t.default},function(t){Ji=t.default},function(t){Ki=t.default},function(t){Oi=t.default},function(t){Hi=t.default},function(t){Mi=t.default},function(t){Ni=t.default},function(t){Qi=t.default},function(t){Vi=t.default},function(t){Wi=t.default},function(t){Xi=t.default},function(t){Yi=t.default},function(t){Zi=t.default},function(t){$i=t.default},function(t){tn=t.default},function(t){en=t.default},function(t){nn=t.default},function(t){sn=t.default},function(t){un=t.default},function(t){on=t.default},function(t){an=t.default},function(t){fn=t.default},function(t){ln=t.default},function(t){dn=t.default},function(t){cn=t.default},function(t){wn=t.default},function(t){vn=t.default},function(t){xn=t.default},function(t){rn=t.default},function(t){Rn=t.default},function(t){Un=t.default},function(t){Ln=t.default},function(t){En=t.default},function(t){pn=t.default},function(t){mn=t.default},function(t){gn=t.default},function(t){kn=t.default},function(t){hn=t.default},function(t){bn=t.default}],execute:function(){e._RF.push({},"da085FhP2pLhIo/PPJsKduv","ui.utility",void 0);t("UIUtility",function(){function t(){}return t.fguBindAll=function(){s.setExtension(U.URL,U),s.setExtension(T.URL,T),s.setExtension(r.URL,r),s.setExtension(L.URL,L),s.setExtension(ye.URL,ye),s.setExtension(F.URL,F),s.setExtension(j.URL,j),s.setExtension(J.URL,J),s.setExtension(w.URL,w),s.setExtension(v.URL,v),s.setExtension(x.URL,x),s.setExtension(Ct.URL,Ct),s.setExtension(Dt.URL,Dt),s.setExtension(Ce.URL,Ce),s.setExtension(E.URL,E),s.setExtension(di.URL,di),s.setExtension(ci.URL,ci),s.setExtension(wi.URL,wi),s.setExtension(vi.URL,vi),s.setExtension(xi.URL,xi),s.setExtension(gi.URL,gi),s.setExtension(ki.URL,ki),s.setExtension(hi.URL,hi),s.setExtension(bi.URL,bi),s.setExtension(yi.URL,yi),s.setExtension(qi.URL,qi),s.setExtension(p.URL,p),s.setExtension(m.URL,m),s.setExtension(g.URL,g),s.setExtension(mt.URL,mt),s.setExtension(Vt.URL,Vt),s.setExtension(k.URL,k),s.setExtension(Ke.URL,Ke),s.setExtension(Ji.URL,Ji),s.setExtension(Ki.URL,Ki),s.setExtension(h.URL,h),s.setExtension(b.URL,b),s.setExtension(y.URL,y),s.setExtension(gt.URL,gt),s.setExtension(kt.URL,kt),s.setExtension(q.URL,q),s.setExtension(P.URL,P),s.setExtension(I.URL,I),s.setExtension(B.URL,B),s.setExtension(S.URL,S),s.setExtension(_.URL,_),s.setExtension(z.URL,z),s.setExtension(c.URL,c),s.setExtension(l.URL,l),s.setExtension(d.URL,d),s.setExtension(It.URL,It),s.setExtension(we.URL,we),s.setExtension(R.URL,R),s.setExtension(A.URL,A),s.setExtension(C.URL,C),s.setExtension(D.URL,D),s.setExtension(G.URL,G),s.setExtension(K.URL,K),s.setExtension(O.URL,O),s.setExtension(H.URL,H),s.setExtension(M.URL,M),s.setExtension(N.URL,N),s.setExtension(Q.URL,Q),s.setExtension(V.URL,V),s.setExtension(W.URL,W),s.setExtension(X.URL,X),s.setExtension(pi.URL,pi),s.setExtension(mi.URL,mi),s.setExtension(Y.URL,Y),s.setExtension($.URL,$),s.setExtension(Z.URL,Z),s.setExtension(Re.URL,Re),s.setExtension(Ue.URL,Ue),s.setExtension(Le.URL,Le),s.setExtension(Se.URL,Se),s.setExtension(Ee.URL,Ee),s.setExtension(Fi.URL,Fi),s.setExtension(tt.URL,tt),s.setExtension(et.URL,et),s.setExtension(it.URL,it),s.setExtension(nt.URL,nt),s.setExtension(Gi.URL,Gi),s.setExtension(me.URL,me),s.setExtension(pe.URL,pe),s.setExtension(pe.URL,pe),s.setExtension(st.URL,st),s.setExtension(ut.URL,ut),s.setExtension(ot.URL,ot),s.setExtension(at.URL,at),s.setExtension(ft.URL,ft),s.setExtension(lt.URL,lt),s.setExtension(dt.URL,dt),s.setExtension(ct.URL,ct),s.setExtension(Ri.URL,Ri),s.setExtension(wt.URL,wt),s.setExtension(vt.URL,vt),s.setExtension(xt.URL,xt),s.setExtension(Ui.URL,Ui),s.setExtension(Li.URL,Li),s.setExtension(Pi.URL,Pi),s.setExtension(rt.URL,rt),s.setExtension(Rt.URL,Rt),s.setExtension(Ut.URL,Ut),s.setExtension(Lt.URL,Lt),s.setExtension(Et.URL,Et),s.setExtension(pt.URL,pt),s.setExtension(ht.URL,ht),s.setExtension(bt.URL,bt),s.setExtension(yt.URL,yt),s.setExtension(qt.URL,qt),s.setExtension(Pt.URL,Pt),s.setExtension(Ft.URL,Ft),s.setExtension(jt.URL,jt),s.setExtension(ie.URL,ie),s.setExtension(ne.URL,ne),s.setExtension(Tt.URL,Tt),s.setExtension(De.URL,De),s.setExtension(St.URL,St),s.setExtension(Bt.URL,Bt),s.setExtension(_t.URL,_t),s.setExtension(zt.URL,zt),s.setExtension(At.URL,At),s.setExtension(Gt.URL,Gt),s.setExtension(Jt.URL,Jt),s.setExtension(Kt.URL,Kt),s.setExtension(Ot.URL,Ot),s.setExtension(Ht.URL,Ht),s.setExtension(Mt.URL,Mt),s.setExtension(Nt.URL,Nt),s.setExtension(Qt.URL,Qt),s.setExtension(Wt.URL,Wt),s.setExtension(Xt.URL,Xt),s.setExtension(Yt.URL,Yt),s.setExtension(Zt.URL,Zt),s.setExtension($t.URL,$t),s.setExtension(te.URL,te),s.setExtension(ee.URL,ee),s.setExtension(se.URL,se),s.setExtension(ue.URL,ue),s.setExtension(oe.URL,oe),s.setExtension(ae.URL,ae),s.setExtension(le.URL,le),s.setExtension(fe.URL,fe),s.setExtension(ve.URL,ve),s.setExtension(de.URL,de),s.setExtension(ce.URL,ce),s.setExtension(xe.URL,xe),s.setExtension(re.URL,re),s.setExtension(ge.URL,ge),s.setExtension(ke.URL,ke),s.setExtension(he.URL,he),s.setExtension(be.URL,be),s.setExtension(Ge.URL,Ge),s.setExtension(Je.URL,Je),s.setExtension(ri.URL,ri),s.setExtension(Oi.URL,Oi),s.setExtension(Hi.URL,Hi),s.setExtension(qe.URL,qe),s.setExtension(Pe.URL,Pe),s.setExtension(Fe.URL,Fe),s.setExtension(je.URL,je),s.setExtension(Ie.URL,Ie),s.setExtension(Te.URL,Te),s.setExtension(Be.URL,Be),s.setExtension(Ae.URL,Ae),s.setExtension(_e.URL,_e),s.setExtension(ze.URL,ze),s.setExtension(Oe.URL,Oe),s.setExtension(Ne.URL,Ne),s.setExtension(He.URL,He),s.setExtension(Me.URL,Me),s.setExtension(Qe.URL,Qe),s.setExtension(Ve.URL,Ve),s.setExtension(We.URL,We),s.setExtension(Xe.URL,Xe),s.setExtension(Ye.URL,Ye),s.setExtension(Ze.URL,Ze),s.setExtension($e.URL,$e),s.setExtension(ti.URL,ti),s.setExtension(ei.URL,ei),s.setExtension(ii.URL,ii),s.setExtension(ni.URL,ni),s.setExtension(si.URL,si),s.setExtension(ui.URL,ui),s.setExtension(Zi.URL,Zi),s.setExtension(fn.URL,fn),s.setExtension(dn.URL,dn),s.setExtension(ln.URL,ln),s.setExtension(bn.URL,bn),s.setExtension(oi.URL,oi),s.setExtension(ai.URL,ai),s.setExtension(fi.URL,fi),s.setExtension(li.URL,li),s.setExtension(Ei.URL,Ei),s.setExtension(ji.URL,ji),s.setExtension(Ii.URL,Ii),s.setExtension(Ti.URL,Ti),s.setExtension(Bi.URL,Bi),s.setExtension(Si.URL,Si),s.setExtension(_i.URL,_i),s.setExtension(Di.URL,Di),s.setExtension(zi.URL,zi),s.setExtension(Ai.URL,Ai),s.setExtension(Ci.URL,Ci),s.setExtension(Mi.URL,Mi),s.setExtension(Ni.URL,Ni),s.setExtension(nn.URL,nn),s.setExtension(sn.URL,sn),s.setExtension(Qi.URL,Qi),s.setExtension(Vi.URL,Vi),s.setExtension(Wi.URL,Wi),s.setExtension($i.URL,$i),s.setExtension(tn.URL,tn),s.setExtension(en.URL,en),s.setExtension(un.URL,un),s.setExtension(on.URL,on),s.setExtension(an.URL,an),s.setExtension(cn.URL,cn),s.setExtension(wn.URL,wn),s.setExtension(vn.URL,vn),s.setExtension(xn.URL,xn),s.setExtension(rn.URL,rn),s.setExtension(Rn.URL,Rn),s.setExtension(Un.URL,Un),s.setExtension(hn.URL,hn),s.setExtension(Xi.URL,Xi),s.setExtension(Yi.URL,Yi),s.setExtension(Ln.URL,Ln),s.setExtension(En.URL,En),s.setExtension(pn.URL,pn),s.setExtension(mn.URL,mn),s.setExtension(gn.URL,gn),s.setExtension(kn.URL,kn)},t.preloadPackage=function(){return new Promise((function(t,e){var i=f.getUIPkgPath("Common");u.loadPackage(i,(function(i){i?e(i):t()}))}))},t.preloadBGTexPackage=function(){return new Promise((function(t,e){var i=f.getUIPkgPath("BgTex");u.loadPackage(i,(function(i){i?e(i):t()}))}))},t.fguiRegisterFont=function(){return Promise.all([t.fguiRegisterBitmapFont(),t.fguiRegisterTTFFont()])},t.fguiRegisterTTFFont=function(){return new Promise((function(t,e){i.loadDir("fonts",(function(i,n){if(i)e(i);else{for(var s=0;s<n.length;s+=1){var u=n[s];o(u.name,u)}a.defaultFont="AtariST8x16System",t()}}))}))},t.fguiRegisterBitmapFont=function(){return new Promise((function(t,e){i.loadDir("uidata/uifont",(function(i,s){if(i)e(i);else{for(var u=0;u<s.length;u+=1){var a=s[u];a instanceof n&&o(a.name,a)}t()}}))}))},t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/ui.wallet.controller.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./event.dispatcher.ts","./event.name.ts","./sound.helper.ts","./common.tool.ts","./ui.float.text.controller.ts","./ui.base.controller.ts","./wizard.wallet.sdk.ts","./chain.system.ts","./ui.wallet.token.item.view.ts","./ui.wallet.function.item.view.ts","./sdk.manager.ts","./table.helper.ts"],(function(t){"use strict";var e,n,i,o,l,s,a,c,r,_,h,u,C,d,m,f,v,w,k,p,I;return{setters:[function(t){e=t.inheritsLoose,n=t.createClass},function(t){i=t.cclegacy,o=t._decorator,l=t.input,s=t.Input,a=t.KeyCode},function(t){c=t.UIPackage},function(t){r=t.EventDispatcher},function(t){_=t.EventName},function(t){h=t.SoundHelper},function(t){u=t.CommonTool},function(t){C=t.UIFloatTextController},function(t){d=t.UIBaseController},function(t){m=t.WizardWalletSDK,f=t.EWalletState},function(t){v=t.ChainSystem},function(t){w=t.default},function(t){k=t.default},function(t){p=t.SDKManager},function(t){I=t.TableHelper}],execute:function(){var y,S;i._RF.push({},"872d7F3fmxF26NyRUVJUJmA","ui.wallet.controller",void 0);var D=o.ccclass;t("UIWalletController",D("UIWalletController")(((S=function(t){function i(){for(var e,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))||this).mFguiPkgName="WizardWallet",e.mFguiMainViewName="Main_WalletDetails",e._view=null,e.mTokenCtrlMap=new Map,e}e(i,t);var o=i.prototype;return o._addEvents=function(){t.prototype._addEvents.call(this),l.on(s.EventType.KEY_DOWN,this._onKeyDown,this),r.on(_.WIZARD_WALLET_STATE_CHANGED,this._refreshWalletStateChanged,this),r.on(_.WIZARD_WALLET_COIN_DATA_CHANGED,this._refreshWalletCoinDataChanged,this)},o._removeEvents=function(){t.prototype._removeEvents.call(this),l.off(s.EventType.KEY_DOWN,this._onKeyDown,this),r.off(_.WIZARD_WALLET_STATE_CHANGED,this._refreshWalletStateChanged,this),r.off(_.WIZARD_WALLET_COIN_DATA_CHANGED,this._refreshWalletCoinDataChanged,this)},o._onKeyDown=function(t){switch(t.keyCode){case a.ESCAPE:this._onCloseClick()}},o._refreshWalletStateChanged=function(){null!==this._view&&this._initWalletState()},o._refreshWalletCoinDataChanged=function(t){null!==this._view&&(t&&this.mTokenCtrlMap.has(t)&&this.mTokenCtrlMap.get(t).refreshTokenData())},o.onLoad=function(){i._instance=this,this._startLoadPkg(this.mFguiPkgName)},o.onDestroy=function(){t.prototype.onDestroy.call(this),i._instance=null},o.closeUI=function(){t.prototype.closeUI.call(this)},o.update=function(){this._view},o._onLoadUIFinish=function(){t.prototype._onLoadUIFinish.call(this),this._view=c.createObject(this.mFguiPkgName,this.mFguiMainViewName).asCom,this._addUIToRoot(this._view),this._view.makeFullScreen(),this._view.closeBtn.onClick(this._onCloseClick,this),this._view.accountCopyBtn.onClick(this._onAccountCopyClick,this),this._view.faucetBtn.onClick(this._onFaucetClick,this),this._view.sendBtn.onClick(this._onSendClick,this),this._view.receiveBtn.onClick(this._onReceiveClick,this),this._view.swapBtn.onClick(this._onSwapClick,this),this._view.linkBtn.onClick(this._onLinkClick,this),this._view.reconnectBtn.onClick(this._onReconnectClick,this),this._initData()},o._onCloseClick=function(){h.PlaySound_UICommonClose(),r.emit(_.UI_WALLET_CLOSE)},o._onAccountCopyClick=function(){if(h.PlaySound_UICommonClick(),m.walletState===f.Connected){var t=m.walletAddress;u.copyTextNew(t).then((function(){C.AddTipI18nID_Success("u.2516")}))}},o._onFaucetClick=function(){h.PlaySound_UICommonClick(),r.emit(_.UI_GIFT_FAUCET_OPEN)},o._onSwapClick=function(){h.PlaySound_UICommonClick(),r.emit(_.UI_DAPP_DEX_OPEN)},o._onSendClick=function(){h.PlaySound_UICommonClick(),r.emit(_.UI_WALLET_SEND_LIST_OPEN)},o._onReceiveClick=function(){h.PlaySound_UICommonClick(),r.emit(_.UI_WALLET_RECEIVE_OPEN)},o._onLinkClick=function(){h.PlaySound_UICommonClick(),p.instance.curSDKPlugin.openUrl("https://thirdweb.com/connect")},o._onReconnectClick=function(){h.PlaySound_UICommonClick(),m.reconnect()},o._initData=function(){this._initWalletState()},o._initWalletState=function(){var t=m.walletState;t===f.Connecting?this._view.statusCtrl.setSelectedIndex(2):t===f.Connected?(this._view.statusCtrl.setSelectedIndex(0),this._setWalletData()):t===f.Disconnected?(this._view.statusCtrl.setSelectedIndex(1),this._view.errorTipLabel.text=I.getI18nUIText("u.13415")):t===f.BeChanged&&(this._view.statusCtrl.setSelectedIndex(1),this._view.errorTipLabel.text="To protect the security of your wallet, only one wizard wallet is allowed to be linked at the same time and in the same environment!")},o._setWalletData=function(){m.walletState===f.Connected&&(this._view.accountValue.text=u.shortAddress(m.walletAddress,6),this._view.uidValue.text=m.walletEmail,this._setWalletList())},o._setWalletList=function(){this._view.itemList.removeChildrenToPool(),this.mTokenCtrlMap.clear();var t=v.instance.allCoinsList;if(t.length>0)for(var e=0;e<t.length;e++){var n=this._view.itemList.addItemFromPool(w.URL);n.setTokenData(t[e],0),this.mTokenCtrlMap.set(t[e].key,n)}this._view.itemList.addItemFromPool(k.URL).setFunctionData("nft"),this._view.itemList.addItemFromPool(k.URL).setFunctionData("transaction"),this._view.itemList.addItemFromPool(k.URL).setFunctionData("manage")},n(i,null,[{key:"instance",get:function(){return this._instance}}]),i}(d)).CTRL_NAME="UIWalletController",S._instance=null,y=S))||y);i._RF.pop()}}}));

System.register("chunks:///_virtual/ui.wallet.create.controller.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./event.dispatcher.ts","./event.name.ts","./sdk.manager.ts","./wizard.wallet.sdk.ts","./sound.helper.ts","./ui.base.controller.ts"],(function(t){"use strict";var e,n,o,i,r,a,s,c,l,u,h,p,f,_,C,v,d;return{setters:[function(t){e=t.inheritsLoose,n=t.createClass,o=t.asyncToGenerator,i=t.regeneratorRuntime},function(t){r=t.cclegacy,a=t._decorator,s=t.input,c=t.Input,l=t.KeyCode},function(t){u=t.UIPackage,h=t.Event},function(t){p=t.EventDispatcher},function(t){f=t.EventName},function(t){_=t.SDKManager},function(t){C=t.WizardWalletSDK},function(t){v=t.SoundHelper},function(t){d=t.UIBaseController}],execute:function(){var m,k;r._RF.push({},"afe7fpQgENLIYBFpkpWGU8I","ui.wallet.create.controller",void 0);var y=a.ccclass;t("UIWalletCreateController",y("UIWalletCreateController")(((k=function(t){function r(){for(var e,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))||this).mFguiPkgName="WizardWallet",e.mFguiMainViewName="Main_WalletCreate",e._view=null,e}e(r,t);var a=r.prototype;return a._addEvents=function(){t.prototype._addEvents.call(this),s.on(c.EventType.KEY_DOWN,this._onKeyDown,this)},a._removeEvents=function(){t.prototype._removeEvents.call(this),s.off(c.EventType.KEY_DOWN,this._onKeyDown,this)},a._onKeyDown=function(t){switch(t.keyCode){case l.ESCAPE:this._onCloseClick()}},a.onLoad=function(){r._instance=this,this._startLoadPkg(this.mFguiPkgName)},a.onDestroy=function(){t.prototype.onDestroy.call(this),r._instance=null},a.closeUI=function(){t.prototype.closeUI.call(this)},a.update=function(){this._view},a._onLoadUIFinish=function(){t.prototype._onLoadUIFinish.call(this),this._view=u.createObject(this.mFguiPkgName,this.mFguiMainViewName).asCom,this._addUIToRoot(this._view),this._view.makeFullScreen(),this._view.closeBtn.onClick(this._onCloseClick,this),this._view.createBtn.onClick(this._onCreateClick,this),this._view.walletDesc.on(h.LINK,this.onLinkClick,this)},a._onCloseClick=function(){var t=o(i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:v.PlaySound_UICommonClose(),p.emit(f.UI_WALLET_CREATE_CLOSE);case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),a._onCreateClick=function(){var t=o(i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:v.PlaySound_UICommonClick(),C.create();case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),a.onLinkClick=function(){var t=o(i().mark((function t(e){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:v.PlaySound_UICommonClick(),""!==e&&_.instance.curSDKPlugin.openUrl(e);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),n(r,null,[{key:"instance",get:function(){return this._instance}}]),r}(d)).CTRL_NAME="UIWalletCreateController",k._instance=null,m=k))||m);r._RF.pop()}}}));

System.register("chunks:///_virtual/ui.wallet.create.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){"use strict";var e,i,n,l;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy,n=t._decorator},function(t){l=t.GComponent}],execute:function(){var s,r;i._RF.push({},"76f67RlRCZNd4S9h/MDO38A","ui.wallet.create.view",void 0);var a=n.ccclass;t("default",a("UIWalletCreateView")(((r=function(t){function i(){var e;return(e=t.call(this)||this).closeBtn=void 0,e.wind=void 0,e.walletDesc=void 0,e.createBtn=void 0,e}return e(i,t),i.prototype.onConstruct=function(){this.closeBtn=this.getChild("ui_WindClose"),this.wind=this.getChild("ui_CreateGp"),this.walletDesc=this.wind.getChild("ui_LabelDes2"),this.createBtn=this.wind.getChild("ui_BtnCreate")},i}(l)).URL="ui://WizardWallet/Main_WalletCreate",s=r))||s);i._RF.pop()}}}));

System.register("chunks:///_virtual/ui.wallet.function.item.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./event.dispatcher.ts","./event.name.ts","./wizard.wallet.sdk.ts","./table.helper.ts","./sound.helper.ts"],(function(t){"use strict";var e,n,i,a,o,s,l,c,u;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,i=t._decorator},function(t){a=t.GButton},function(t){o=t.EventDispatcher},function(t){s=t.EventName},function(t){l=t.WizardWalletSDK},function(t){c=t.TableHelper},function(t){u=t.SoundHelper}],execute:function(){var r,h;n._RF.push({},"c9ba1w2bI9LFIAaXRzgcPXu","ui.wallet.function.item.view",void 0);var f=i.ccclass;t("default",f("UIWalletFunctionItemView")(((h=function(t){function n(){var e;return(e=t.call(this)||this).btnCtrl=void 0,e.stateCtrl=void 0,e.functionIcon=void 0,e.functionName=void 0,e.mCurShowData=void 0,e}e(n,t);var i=n.prototype;return i.onConstruct=function(){this.btnCtrl=this.getController("button"),this.stateCtrl=this.getController("State"),this.functionIcon=this.getChild("StateIcon"),this.functionName=this.getChild("title"),this.onClick(this._onFunctionItemClick,this)},i._onFunctionItemClick=function(){u.PlaySound_UICommonClick(),"nft"===this.mCurShowData?o.emit(s.UI_ASSET_ONCHAIN_OPEN):"transaction"===this.mCurShowData?o.emit(s.UI_WALLET_TRANSACTION_OPEN):"manage"===this.mCurShowData&&l.showWizardWalletDetail()},i.setFunctionData=function(t){null!=t&&(this.mCurShowData=t,"nft"===t?(this.stateCtrl.selectedPage="NFT",this.functionName.text=c.getI18nUIText("u.13427")):"transaction"===t?(this.stateCtrl.selectedPage="Transactions",this.functionName.text=c.getI18nUIText("u.13410")):"manage"===t&&(this.stateCtrl.selectedPage="ManageWallet",this.functionName.text=c.getI18nUIText("u.13428")))},n}(a)).URL="ui://WizardWallet/listbar_WalletFunction",r=h))||r);n._RF.pop()}}}));

System.register("chunks:///_virtual/ui.wallet.operate.controller.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./sound.helper.ts","./ui.base.controller.ts","./chain.operate.interface.ts","./project.bera.testnet.ts","./project.tabi.testnet.ts","./chain.reader.berachain.testnet.ts","./chain.reader.tabichain.testnet.ts","./chain.system.ts","./table.helper.ts","./project.bera.mainnet.ts","./chain.reader.berachain.mainnet.ts"],(function(t){"use strict";var e,i,n,s,a,r,o,h,c,l,u,d,C,m,_,w,k,f,g,p,W;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass,n=t.asyncToGenerator,s=t.regeneratorRuntime},function(t){a=t.cclegacy,r=t._decorator,o=t.input,h=t.Input,c=t.KeyCode},function(t){l=t.UIPackage},function(t){u=t.SoundHelper},function(t){d=t.UIBaseController},function(t){C=t.ChainOperateStatus},function(t){m=t.BERA_TESTNET_CONFIG},function(t){_=t.TABI_TESTNET_CONFIG},function(t){w=t.ChainReaderBerachainTestnet},function(t){k=t.ChainReaderTabichainTestnet},function(t){f=t.ChainSystem},function(t){g=t.TableHelper},function(t){p=t.BERA_MAINNET_CONFIG},function(t){W=t.ChainReaderBerachainMainnet}],execute:function(){var S,b;a._RF.push({},"81162XQKXZDa7QOAObEaNOS","ui.wallet.operate.controller",void 0);var I=r.ccclass;t("UIWalletOperateController",I("UIWalletOperateController")(((b=function(t){function a(){for(var e,i=arguments.length,n=new Array(i),s=0;s<i;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))||this).mFguiPkgName="WalletOperate",e.mFguiMainViewName="Main",e.mFguiWndSendCoinViewName="wind_Send_Coin",e.mFguiWndContractCommonViewName="wind_Contract_Interact",e.mFguiWndContractBuyViewName="wind_Market_Buy",e.mFguiWndContractTGEViewName="wind_TGE",e.mFguiWndDexSwapViewName="wind_Dex_Swap",e.mFguiWndDexLiquidityAddViewName="wind_Dex_Liquidity_Add",e.mFguiWndDexLiquidityRemoveViewName="wind_Dex_Liquidity_Remove",e.mFguiWndLpStakeViewName="wind_Lp_Stake",e.mFguiWndLpUnstakeViewName="wind_Lp_Unstake",e.mFguiWndLpRewardViewName="wind_Lp_Reward",e.mFguiWndBGTBoostViewName="wind_Bgt_Boost",e._view=null,e.mCurShowWnd=null,e.mCurOperateData=null,e.mCurOperateStatus=C.Refuse,e.refreshGasTimeBlank=10,e.refreshGasTime=10,e.isRefreshGasing=!1,e.refreshSwapTimeBlank=15,e.refreshSwapTime=10,e.isRefreshSwap=!1,e}e(a,t);var r=a.prototype;return r._addEvents=function(){t.prototype._addEvents.call(this),o.on(h.EventType.KEY_DOWN,this._onKeyDown,this)},r._removeEvents=function(){t.prototype._removeEvents.call(this),o.off(h.EventType.KEY_DOWN,this._onKeyDown,this)},r._onKeyDown=function(t){switch(t.keyCode){case c.ESCAPE:this._onCloseClick()}},r.setData=function(t){this.mCurOperateData=t},r.onLoad=function(){a._instance=this,this._startLoadPkg(this.mFguiPkgName)},r.onDestroy=function(){t.prototype.onDestroy.call(this),a._instance=null},r.closeUI=function(){t.prototype.closeUI.call(this)},r.update=function(t){null!==this._view&&(this._refreshGasPrice(t),this._refreshSwapInfo(t))},r._onLoadUIFinish=function(){t.prototype._onLoadUIFinish.call(this),this._view=l.createObject(this.mFguiPkgName,this.mFguiMainViewName).asCom,this._addUIToRoot(this._view),this._view.makeFullScreen(),this._initData(),this._adjustDetailsPosition()},r._adjustDetailsPosition=function(){if(null!==this.mCurShowWnd){var t=this._view.actualWidth/2-this.mCurShowWnd.actualWidth/2,e=this._view.actualHeight/2-this.mCurShowWnd.actualHeight/2;this.mCurShowWnd.setPosition(t,e)}},r._destroyCurDetailsItem=function(){null!==this.mCurShowWnd&&(this.mCurShowWnd.dispose(),this.mCurShowWnd=null)},r._realLoadWndSendCoin=function(){this._destroyCurDetailsItem();var t=l.createObject(this.mFguiPkgName,this.mFguiWndSendCoinViewName).asCom;this.mCurShowWnd=t,this._view.addChild(this.mCurShowWnd),t.resultView.finishBtn.onClick(this._onCloseClick,this),t.closeBtn.onClick(this._onCloseClick,this),t.titleLabel.text=this._getTitleName(),t.setData(this.mCurOperateData),t.confirmBtn.onClick(this._onConfirmClick,this),t.cancelBtn.onClick(this._onCloseClick,this),this.mCurShowWnd.hideAll(),this.mCurShowWnd.wnd.visible=!0},r._realLoadWndContractCommon=function(){this._destroyCurDetailsItem();var t=l.createObject(this.mFguiPkgName,this.mFguiWndContractCommonViewName).asCom;this.mCurShowWnd=t,this._view.addChild(this.mCurShowWnd),t.resultView.finishBtn.onClick(this._onCloseClick,this),t.closeBtn.onClick(this._onCloseClick,this),t.titleLabel.text=this._getTitleName(),t.setData(this.mCurOperateData),t.confirmBtn.onClick(this._onConfirmClick,this),t.cancelBtn.onClick(this._onCloseClick,this),this.mCurShowWnd.hideAll(),this.mCurShowWnd.wnd.visible=!0},r._realLoadWndContractBuy=function(){this._destroyCurDetailsItem();var t=l.createObject(this.mFguiPkgName,this.mFguiWndContractBuyViewName).asCom;this.mCurShowWnd=t,this._view.addChild(this.mCurShowWnd),t.resultView.finishBtn.onClick(this._onCloseClick,this),t.closeBtn.onClick(this._onCloseClick,this),t.titleLabel.text=this._getTitleName(),t.setData(this.mCurOperateData),t.confirmBtn.onClick(this._onConfirmClick,this),t.cancelBtn.onClick(this._onCloseClick,this),this.mCurShowWnd.hideAll(),this.mCurShowWnd.wnd.visible=!0},r._realLoadWndContractTGE=function(){this._destroyCurDetailsItem();var t=l.createObject(this.mFguiPkgName,this.mFguiWndContractTGEViewName).asCom;this.mCurShowWnd=t,this._view.addChild(this.mCurShowWnd),t.resultView.finishBtn.onClick(this._onCloseClick,this),t.closeBtn.onClick(this._onCloseClick,this),t.titleLabel.text=this._getTitleName(),t.setData(this.mCurOperateData),t.confirmBtn.onClick(this._onConfirmClick,this),t.cancelBtn.onClick(this._onCloseClick,this),this.mCurShowWnd.hideAll(),this.mCurShowWnd.wnd.visible=!0},r._realLoadWndSwap=function(){this._destroyCurDetailsItem();var t=l.createObject(this.mFguiPkgName,this.mFguiWndDexSwapViewName).asCom;this.mCurShowWnd=t,this._view.addChild(this.mCurShowWnd),t.resultView.finishBtn.onClick(this._onCloseClick,this),t.closeBtn.onClick(this._onCloseClick,this),t.titleLabel.text=this._getTitleName(),t.setData(this.mCurOperateData),t.confirmBtn.onClick(this._onConfirmClick,this),t.cancelBtn.onClick(this._onCloseClick,this),this.mCurShowWnd.hideAll(),this.mCurShowWnd.wnd.visible=!0},r._realLoadWndDexLiquidityAdd=function(){this._destroyCurDetailsItem();var t=l.createObject(this.mFguiPkgName,this.mFguiWndDexLiquidityAddViewName).asCom;this.mCurShowWnd=t,this._view.addChild(this.mCurShowWnd),t.resultView.finishBtn.onClick(this._onCloseClick,this),t.closeBtn.onClick(this._onCloseClick,this),t.titleLabel.text=this._getTitleName(),t.setData(this.mCurOperateData),t.confirmBtn.onClick(this._onConfirmClick,this),t.cancelBtn.onClick(this._onCloseClick,this),this.mCurShowWnd.hideAll(),this.mCurShowWnd.wnd.visible=!0},r._realLoadWndDexLiquidityRemove=function(){this._destroyCurDetailsItem();var t=l.createObject(this.mFguiPkgName,this.mFguiWndDexLiquidityRemoveViewName).asCom;this.mCurShowWnd=t,this._view.addChild(this.mCurShowWnd),t.resultView.finishBtn.onClick(this._onCloseClick,this),t.closeBtn.onClick(this._onCloseClick,this),t.titleLabel.text=this._getTitleName(),t.setData(this.mCurOperateData),t.confirmBtn.onClick(this._onConfirmClick,this),t.cancelBtn.onClick(this._onCloseClick,this),this.mCurShowWnd.hideAll(),this.mCurShowWnd.wnd.visible=!0},r._realLoadWndLpStake=function(){this._destroyCurDetailsItem();var t=l.createObject(this.mFguiPkgName,this.mFguiWndLpStakeViewName).asCom;this.mCurShowWnd=t,this._view.addChild(this.mCurShowWnd),t.resultView.finishBtn.onClick(this._onCloseClick,this),t.closeBtn.onClick(this._onCloseClick,this),t.titleLabel.text=this._getTitleName(),t.setData(this.mCurOperateData),t.confirmBtn.onClick(this._onConfirmClick,this),t.cancelBtn.onClick(this._onCloseClick,this),this.mCurShowWnd.hideAll(),this.mCurShowWnd.wnd.visible=!0},r._realLoadWndLpUnstake=function(){this._destroyCurDetailsItem();var t=l.createObject(this.mFguiPkgName,this.mFguiWndLpUnstakeViewName).asCom;this.mCurShowWnd=t,this._view.addChild(this.mCurShowWnd),t.resultView.finishBtn.onClick(this._onCloseClick,this),t.closeBtn.onClick(this._onCloseClick,this),t.titleLabel.text=this._getTitleName(),t.setData(this.mCurOperateData),t.confirmBtn.onClick(this._onConfirmClick,this),t.cancelBtn.onClick(this._onCloseClick,this),this.mCurShowWnd.hideAll(),this.mCurShowWnd.wnd.visible=!0},r._realLoadWndLpReward=function(){this._destroyCurDetailsItem();var t=l.createObject(this.mFguiPkgName,this.mFguiWndLpRewardViewName).asCom;this.mCurShowWnd=t,this._view.addChild(this.mCurShowWnd),t.resultView.finishBtn.onClick(this._onCloseClick,this),t.closeBtn.onClick(this._onCloseClick,this),t.titleLabel.text=this._getTitleName(),t.setData(this.mCurOperateData),t.confirmBtn.onClick(this._onConfirmClick,this),t.cancelBtn.onClick(this._onCloseClick,this),this.mCurShowWnd.hideAll(),this.mCurShowWnd.wnd.visible=!0},r._realLoadWndBGTBoost=function(){this._destroyCurDetailsItem();var t=l.createObject(this.mFguiPkgName,this.mFguiWndBGTBoostViewName).asCom;this.mCurShowWnd=t,this._view.addChild(this.mCurShowWnd),t.resultView.finishBtn.onClick(this._onCloseClick,this),t.closeBtn.onClick(this._onCloseClick,this),t.titleLabel.text=this._getTitleName(),t.setData(this.mCurOperateData),t.confirmBtn.onClick(this._onConfirmClick,this),t.cancelBtn.onClick(this._onCloseClick,this),this.mCurShowWnd.hideAll(),this.mCurShowWnd.wnd.visible=!0},r._refreshGasPrice=function(t){var e=this;if(!this.isRefreshGasing&&(this.refreshGasTime+=t,!(this.refreshGasTime<this.refreshGasTimeBlank)))switch(this.refreshGasTime=0,this.isRefreshGasing=!0,this.mCurOperateData.chainId){case m.id:w.instance.getGasPrice().then((function(t){e.setGasPrice(t)})).catch((function(t){console.log(t)})).finally((function(){e.isRefreshGasing=!1}));break;case p.id:W.instance.getGasPrice().then((function(t){e.setGasPrice(t)})).catch((function(t){console.log(t)})).finally((function(){e.isRefreshGasing=!1}));break;case _.id:k.instance.getGasPrice().then((function(t){e.setGasPrice(t)})).catch((function(t){console.log(t)})).finally((function(){e.isRefreshGasing=!1}))}},r._refreshSwapInfo=function(t){var e=this;"dex_swap"===this.mCurOperateData.type&&(this.isRefreshSwap||(this.refreshSwapTime+=t,this.refreshSwapTime<this.refreshSwapTimeBlank||(this.refreshSwapTime=0,this.isRefreshSwap=!0,this.mCurShowWnd.refreshSwapInfo().then((function(){e.isRefreshSwap=!1})))))},r.setGasPrice=function(t){this._view&&this.mCurShowWnd&&this.mCurShowWnd.refreshGasPrice(t.gasPrice)},r._onCloseClick=function(){var t=n(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:u.PlaySound_UICommonClose(),this.mCurOperateData&&this.mCurOperateData.onClose&&this.mCurOperateData.onClose(this.mCurOperateStatus),this.closeUI();case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),r._onConfirmClick=function(){var t=n(s().mark((function t(){var e;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.mCurOperateData||!this.mCurOperateData.doOperate){t.next=11;break}if(f.instance.checkChainCoinForGas(this.mCurOperateData.chainId)){t.next=4;break}return t.abrupt("return");case 4:return this.mCurOperateStatus=C.Doing,this._showWaitingView(),t.next=8,this.mCurOperateData.doOperate();case 8:e=t.sent,this._showResultView(e),e.success?this.mCurOperateStatus=C.Success:this.mCurOperateStatus=C.Fail;case 11:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),r._initData=function(){if(this.mCurOperateData)switch(this.mCurOperateData.type){case"send_coin":this._realLoadWndSendCoin();break;case"bera_day_signin":case"mint_wizard":case"deposit_wizard":case"deposit_wizz":case"deposit_item":case"withdraw_wizard":case"withdraw_wizz":case"withdraw_item":case"market_sale_wizard":case"market_sale_item":case"market_order_cancel":case"release_vesting":case"change_item_contract":this._realLoadWndContractCommon();break;case"market_buy_wizard":case"market_buy_item":this._realLoadWndContractBuy();break;case"tge_wizz":this._realLoadWndContractTGE();break;case"dex_swap":this._realLoadWndSwap();break;case"dex_liquidity_add":this._realLoadWndDexLiquidityAdd();break;case"dex_liquidity_remove":this._realLoadWndDexLiquidityRemove();break;case"lp_stake":this._realLoadWndLpStake();break;case"lp_unstake":this._realLoadWndLpUnstake();break;case"lp_reward":this._realLoadWndLpReward();break;case"bgt_boost":case"bgt_unboost":case"bgt_boost_queue_confirm":case"bgt_boost_queue_cancel":case"bgt_unboost_queue_confirm":case"bgt_unboost_queue_cancel":this._realLoadWndBGTBoost()}},r._getTitleName=function(){switch(this.mCurOperateData.type){case"change_item_contract":return g.getI18nUIText("u.13465");case"send_coin":return g.getI18nUIText("u.13445");case"bera_day_signin":return g.getI18nUIText("u.13446");case"mint_wizard":return g.getI18nUIText("u.13447");case"deposit_wizard":return g.getI18nUIText("u.13448");case"deposit_wizz":return g.getI18nUIText("u.13449");case"deposit_item":return g.getI18nUIText("u.13450");case"withdraw_wizard":return g.getI18nUIText("u.13451");case"withdraw_wizz":return g.getI18nUIText("u.13452");case"withdraw_item":return g.getI18nUIText("u.13453");case"market_sale_wizard":return g.getI18nUIText("u.13454");case"market_sale_item":return g.getI18nUIText("u.13455");case"market_order_cancel":return g.getI18nUIText("u.13456");case"market_buy_wizard":return g.getI18nUIText("u.13457");case"market_buy_item":return g.getI18nUIText("u.13458");case"tge_wizz":case"release_vesting":return g.getI18nUIText("u.13452");case"dex_swap":return g.getI18nUIText("u.13459");case"dex_liquidity_add":return g.getI18nUIText("u.13460");case"dex_liquidity_remove":return g.getI18nUIText("u.13461");case"lp_stake":return g.getI18nUIText("u.13462");case"lp_unstake":return g.getI18nUIText("u.13463");case"lp_reward":return g.getI18nUIText("u.13464");case"bgt_boost":case"bgt_boost_queue_confirm":case"bgt_boost_queue_cancel":return"BGT Boost";case"bgt_unboost":case"bgt_unboost_queue_confirm":case"bgt_unboost_queue_cancel":return"BGT Unboost";default:return""}},r._showWaitingView=function(){this._view&&this.mCurShowWnd&&(this.mCurShowWnd.hideAll(),this.mCurShowWnd.waitingView.visible=!0)},r._showResultView=function(t){this._view&&this.mCurShowWnd&&(this.mCurShowWnd.hideAll(),this.mCurShowWnd.resultView.visible=!0,this.mCurShowWnd.resultView.setResult(t))},i(a,null,[{key:"instance",get:function(){return this._instance}}]),a}(d)).CTRL_NAME="UIWalletOperateController",b._instance=null,S=b))||S);a._RF.pop()}}}));

System.register("chunks:///_virtual/ui.wallet.operate.result.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./common.tool.ts","./chain.utils.ts","./sdk.manager.ts"],(function(t){"use strict";var e,i,n,s,r,o,l,u,a;return{setters:[function(t){e=t.inheritsLoose,i=t.asyncToGenerator,n=t.regeneratorRuntime},function(t){s=t.cclegacy,r=t._decorator},function(t){o=t.GComponent},function(t){l=t.CommonTool},function(t){u=t.getChainTxUrl},function(t){a=t.SDKManager}],execute:function(){var c,h;s._RF.push({},"7c5c4iFBxlNt5tBhg1LzEW2","ui.wallet.operate.result.view",void 0);var d=r.ccclass;t("default",d("UIWalletOperateResultView")(((h=function(t){function s(){var e;return(e=t.call(this)||this).isFailedCtrl=void 0,e.link=void 0,e.finishBtn=void 0,e.useTx=void 0,e}e(s,t);var r=s.prototype;return r.onConstruct=function(){this.isFailedCtrl=this.getController("IsFailed"),this.link=this.getChild("ui_BtnLink"),this.finishBtn=this.getChild("ui_BtnClose"),this.link.onClick(this._onLinkTxClick,this)},r.setResult=function(t){if(t.success){if(this.isFailedCtrl.setSelectedIndex(0),t.txs&&t.txs.length>0){var e=t.txs[0];this.useTx=e;var i=l.shortAddress(e.hash,6);this.link.text=i}}else this.isFailedCtrl.setSelectedIndex(1)},r._onLinkTxClick=function(){var t=i(n().mark((function t(){var e;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=u(this.useTx.chainId,this.useTx.hash),a.instance.curSDKPlugin.openUrl(e);case 2:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),s}(o)).URL="ui://WalletOperate/details_Common_Result",c=h))||c);s._RF.pop()}}}));

System.register("chunks:///_virtual/ui.wallet.operate.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(e){"use strict";var t,n,i,r;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,i=e._decorator},function(e){r=e.GComponent}],execute:function(){var o,u;n._RF.push({},"996953nvehCrIVyVAB8PisQ","ui.wallet.operate.view",void 0);var c=i.ccclass;e("default",c("UIWalletOperateView")(((u=function(e){function n(){return e.call(this)||this}return t(n,e),n.prototype.onConstruct=function(){},n}(r)).URL="ui://WalletOperate/Main",o=u))||o);n._RF.pop()}}}));

System.register("chunks:///_virtual/ui.wallet.operate.waiting.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){"use strict";var e,i,n,o;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy,n=t._decorator},function(t){o=t.GComponent}],execute:function(){var r,u;i._RF.push({},"d7e88qiZuJJR4uv4xjjVLPl","ui.wallet.operate.waiting.view",void 0);var a=n.ccclass;t("default",a("UIWalletOperateWaitingView")(((u=function(t){function i(){var e;return(e=t.call(this)||this).tipText=void 0,e}return e(i,t),i.prototype.onConstruct=function(){this.tipText=this.getChild("ui_NoneLabel2")},i}(o)).URL="ui://WalletOperate/details_Common_Waiting",r=u))||r);i._RF.pop()}}}));

System.register("chunks:///_virtual/ui.wallet.operate.wnd.base.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./chain.utils.ts","./use.ethers.ts"],(function(i){"use strict";var t,e,s,n,r,a,u,o;return{setters:[function(i){t=i.inheritsLoose,e=i.asyncToGenerator,s=i.regeneratorRuntime},function(i){n=i.cclegacy,r=i._decorator},function(i){a=i.GComponent},function(i){u=i.getChainSymbol},function(i){o=i.formatEther}],execute:function(){var l;n._RF.push({},"049d9S0qRBI+5vVaa2eTWuR","ui.wallet.operate.wnd.base.view",void 0);var c=r.ccclass;i("default",c("UIWalletOperateWndBaseView")(l=function(i){function n(){var t;return(t=i.call(this)||this).titleLabel=void 0,t.closeBtn=void 0,t.wnd=void 0,t.resultView=void 0,t.waitingView=void 0,t.gasLabel=null,t.chainId=void 0,t.maxGasLimit=0n,t.curGasPrice=0n,t}t(n,i);var r=n.prototype;return r.onConstruct=function(){this.titleLabel=this.getChild("ui_Title"),this.closeBtn=this.getChild("ui_WindClose"),this.resultView=this.getChild("ui_Gp_Result"),this.waitingView=this.getChild("ui_Gp_Waiting")},r.hideAll=function(){this.wnd&&(this.wnd.visible=!1),this.waitingView&&(this.waitingView.visible=!1),this.resultView&&(this.resultView.visible=!1)},r.refreshGasPrice=function(i){this.curGasPrice=i,this.refreshGasText()},r.refreshGasText=function(){if(null!==this.gasLabel){0n===this.curGasPrice&&(this.gasLabel.text="-");var i=this.curGasPrice*this.maxGasLimit,t=o(i),e=u(this.chainId);this.gasLabel.text=t+" "+e}},r.refreshSwapInfo=function(){var i=e(s().mark((function i(){return s().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:case"end":return i.stop()}}),i)})));return function(){return i.apply(this,arguments)}}(),n}(a))||l);n._RF.pop()}}}));

System.register("chunks:///_virtual/ui.wallet.operate.wnd.bgt.boost.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./chain.utils.ts","./ui.wallet.operate.wnd.base.view.ts"],(function(t){"use strict";var i,a,n,e,o;return{setters:[function(t){i=t.inheritsLoose},function(t){a=t.cclegacy,n=t._decorator},function(t){e=t.getChainName},function(t){o=t.default}],execute:function(){var s,c;a._RF.push({},"42f6eJ5S9xMEIpnTdjZdLj/","ui.wallet.operate.wnd.bgt.boost.view",void 0);var r=n.ccclass;t("default",r("UIWalletOperateWndBgtBoostView")(((c=function(t){function a(){var i;return(i=t.call(this)||this).contractAddr=void 0,i.funcName=void 0,i.network=void 0,i.totalValue=void 0,i.gasValue=void 0,i.confirmBtn=void 0,i.cancelBtn=void 0,i.curContractBgtBoostData=null,i}i(a,t);var n=a.prototype;return n.onConstruct=function(){t.prototype.onConstruct.call(this),this.wnd=this.getChild("ui_MainWind"),this.confirmBtn=this.wnd.getChild("ui_BtnSend"),this.cancelBtn=this.wnd.getChild("ui_BtnCancel"),this.contractAddr=this.wnd.getChild("ui_ContarctAddress"),this.funcName=this.wnd.getChild("ui_FuncName"),this.network=this.wnd.getChild("ui_NetworkName"),this.totalValue=this.wnd.getChild("ui_TotalValue"),this.gasValue=this.wnd.getChild("ui_GasValue"),this.confirmBtn=this.wnd.getChild("ui_BtnSend"),this.cancelBtn=this.wnd.getChild("ui_BtnCancel")},n.setData=function(t){this.curContractBgtBoostData=t,this.chainId=this.curContractBgtBoostData.chainId,this.maxGasLimit=this.curContractBgtBoostData.maxGas,this.gasLabel=this.gasValue,this.contractAddr.text=this.curContractBgtBoostData.contractAddress,this.funcName.text=this.curContractBgtBoostData.funcName,this.network.text=e(this.curContractBgtBoostData.chainId),this.curContractBgtBoostData.amount?this.totalValue.text=this.curContractBgtBoostData.amount+" BGT":this.totalValue.text="- BGT",this.refreshGasText()},a}(o)).URL="ui://WalletOperate/wind_Bgt_Boost",s=c))||s);a._RF.pop()}}}));

System.register("chunks:///_virtual/ui.wallet.operate.wnd.contract.interact.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./chain.utils.ts","./ui.wallet.operate.wnd.base.view.ts"],(function(t){"use strict";var a,n,i,e,c;return{setters:[function(t){a=t.inheritsLoose},function(t){n=t.cclegacy,i=t._decorator},function(t){e=t.getChainName},function(t){c=t.default}],execute:function(){var r,s;n._RF.push({},"3d867sq/UBPDo8xTWvKud6I","ui.wallet.operate.wnd.contract.interact.view",void 0);var o=i.ccclass;t("default",o("UIWalletOperateWndContractInteractView")(((s=function(t){function n(){var a;return(a=t.call(this)||this).contractAddr=void 0,a.funcName=void 0,a.network=void 0,a.gasValue=void 0,a.confirmBtn=void 0,a.cancelBtn=void 0,a.curContractInteractData=null,a}a(n,t);var i=n.prototype;return i.onConstruct=function(){t.prototype.onConstruct.call(this),this.wnd=this.getChild("ui_MainWind"),this.confirmBtn=this.wnd.getChild("ui_BtnSend"),this.cancelBtn=this.wnd.getChild("ui_BtnCancel"),this.contractAddr=this.wnd.getChild("ui_ContarctAddress"),this.funcName=this.wnd.getChild("ui_FuncName"),this.network=this.wnd.getChild("ui_NetworkName"),this.gasValue=this.wnd.getChild("ui_GasValue")},i.setData=function(t){this.curContractInteractData=t,this.chainId=this.curContractInteractData.chainId,this.maxGasLimit=this.curContractInteractData.maxGas,this.gasLabel=this.gasValue,this.contractAddr.text=this.curContractInteractData.contractAddress,this.funcName.text=this.curContractInteractData.funcName,this.network.text=e(this.curContractInteractData.chainId)},n}(c)).URL="ui://WalletOperate/wind_Contract_Interact",r=s))||r);n._RF.pop()}}}));

System.register("chunks:///_virtual/ui.wallet.operate.wnd.dex.liquidity.add.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./chain.utils.ts","./resource.manager.ts","./ui.wallet.operate.wnd.base.view.ts"],(function(t){"use strict";var n,e,i,o,a,r,s,c,u,h;return{setters:[function(t){n=t.inheritsLoose,e=t.asyncToGenerator,i=t.regeneratorRuntime},function(t){o=t.cclegacy,a=t._decorator,r=t.isValid},function(t){s=t.getChainIconUrl,c=t.getChainName},function(t){u=t.ResourceManager},function(t){h=t.default}],execute:function(){var d,l;o._RF.push({},"e155dnd5lBGP7Z3d6tqof4m","ui.wallet.operate.wnd.dex.liquidity.add.view",void 0);var p=a.ccclass;t("default",p("UIWalletOperateWndDexLiquidityAddView")(((l=function(t){function o(){var n;return(n=t.call(this)||this).tokenIcon1=void 0,n.tokenChainIcon1=void 0,n.tokenSymbol1=void 0,n.tokenAmount1=void 0,n.tokenIcon2=void 0,n.tokenChainIcon2=void 0,n.tokenSymbol2=void 0,n.tokenAmount2=void 0,n.priceImpact=void 0,n.slippageTolerance=void 0,n.network=void 0,n.gasValue=void 0,n.confirmBtn=void 0,n.cancelBtn=void 0,n.curAddData=null,n.curGasPrice=0n,n.curChainIconUrl="",n}n(o,t);var a=o.prototype;return a.onConstruct=function(){t.prototype.onConstruct.call(this),this.wnd=this.getChild("ui_MainWind"),this.confirmBtn=this.wnd.getChild("ui_BtnSend"),this.cancelBtn=this.wnd.getChild("ui_BtnCancel"),this.tokenIcon1=this.wnd.getChild("ui_TokenIcon1"),this.tokenChainIcon1=this.wnd.getChild("ui_ChainIcon1"),this.tokenSymbol1=this.wnd.getChild("ui_Title1"),this.tokenAmount1=this.wnd.getChild("ui_TokenValue1"),this.tokenIcon2=this.wnd.getChild("ui_TokenIcon2"),this.tokenChainIcon2=this.wnd.getChild("ui_ChainIcon2"),this.tokenSymbol2=this.wnd.getChild("ui_Title2"),this.tokenAmount2=this.wnd.getChild("ui_TokenValue2"),this.priceImpact=this.wnd.getChild("ui_PriceImpactValue"),this.slippageTolerance=this.wnd.getChild("ui_SlippageValue"),this.network=this.wnd.getChild("ui_NetworkName"),this.gasValue=this.wnd.getChild("ui_GasValue")},a.setData=function(t){this.curAddData=t,this.chainId=this.curAddData.chainId,this.maxGasLimit=this.curAddData.maxGas,this.gasLabel=this.gasValue,this.curChainIconUrl=s(this.chainId),this._loadTokenIcon1(),this._loadInChainIcon(),this._loadTokenIcon2(),this._loadOutChainIcon(),this.tokenSymbol1.text=this.curAddData.tokenList[0].token.symbol,this.tokenSymbol2.text=this.curAddData.tokenList[1].token.symbol,this.tokenAmount1.text=this.curAddData.tokenList[0].inputAmount,this.tokenAmount2.text=this.curAddData.tokenList[1].inputAmount,this.priceImpact.text="",this.slippageTolerance.text=this.curAddData.slippageTolerance.toString()+"%",this.network.text=c(this.chainId),this.refreshGasText()},a._loadTokenIcon1=function(){var t=e(i().mark((function t(){var n,e;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=this.curAddData.tokenList[0].showCoin.config.icon,t.next=3,u.instance.loadChainIcon(n);case 3:if(e=t.sent,r(this.node)){t.next=6;break}return t.abrupt("return");case 6:if(n===this.curAddData.tokenList[0].showCoin.config.icon){t.next=8;break}return t.abrupt("return");case 8:this.tokenIcon1.texture=e;case 9:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),a._loadInChainIcon=function(){var t=e(i().mark((function t(){var n,e;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=this.curChainIconUrl,t.next=3,u.instance.loadChainIcon(n);case 3:if(e=t.sent,r(this.node)){t.next=6;break}return t.abrupt("return");case 6:if(n===this.curChainIconUrl){t.next=8;break}return t.abrupt("return");case 8:this.tokenChainIcon1.texture=e;case 9:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),a._loadTokenIcon2=function(){var t=e(i().mark((function t(){var n,e;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=this.curAddData.tokenList[1].showCoin.config.icon,t.next=3,u.instance.loadChainIcon(n);case 3:if(e=t.sent,r(this.node)){t.next=6;break}return t.abrupt("return");case 6:if(n===this.curAddData.tokenList[1].showCoin.config.icon){t.next=8;break}return t.abrupt("return");case 8:this.tokenIcon2.texture=e;case 9:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),a._loadOutChainIcon=function(){var t=e(i().mark((function t(){var n,e;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=this.curChainIconUrl,t.next=3,u.instance.loadChainIcon(n);case 3:if(e=t.sent,r(this.node)){t.next=6;break}return t.abrupt("return");case 6:if(n===this.curChainIconUrl){t.next=8;break}return t.abrupt("return");case 8:this.tokenChainIcon2.texture=e;case 9:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),o}(h)).URL="ui://WalletOperate/wind_Dex_Liquidity_Add",d=l))||d);o._RF.pop()}}}));

System.register("chunks:///_virtual/ui.wallet.operate.wnd.dex.liquidity.remove.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./chain.utils.ts","./resource.manager.ts","./ui.wallet.operate.wnd.base.view.ts"],(function(t){"use strict";var n,e,i,o,a,r,s,c,u,h;return{setters:[function(t){n=t.inheritsLoose,e=t.asyncToGenerator,i=t.regeneratorRuntime},function(t){o=t.cclegacy,a=t._decorator,r=t.isValid},function(t){s=t.getChainIconUrl,c=t.getChainName},function(t){u=t.ResourceManager},function(t){h=t.default}],execute:function(){var d,l;o._RF.push({},"c01b8yhviBGToJElW6iPSat","ui.wallet.operate.wnd.dex.liquidity.remove.view",void 0);var k=a.ccclass;t("default",k("UIWalletOperateWndDexLiquidityRemoveView")(((l=function(t){function o(){var n;return(n=t.call(this)||this).tokenIcon1=void 0,n.tokenChainIcon1=void 0,n.tokenSymbol1=void 0,n.tokenAmount1=void 0,n.tokenIcon2=void 0,n.tokenChainIcon2=void 0,n.tokenSymbol2=void 0,n.tokenAmount2=void 0,n.priceImpact=void 0,n.slippageTolerance=void 0,n.network=void 0,n.gasValue=void 0,n.confirmBtn=void 0,n.cancelBtn=void 0,n.curAddData=null,n.curGasPrice=0n,n.curChainIconUrl="",n}n(o,t);var a=o.prototype;return a.onConstruct=function(){t.prototype.onConstruct.call(this),this.wnd=this.getChild("ui_MainWind"),this.confirmBtn=this.wnd.getChild("ui_BtnSend"),this.cancelBtn=this.wnd.getChild("ui_BtnCancel"),this.tokenIcon1=this.wnd.getChild("ui_TokenIcon1"),this.tokenChainIcon1=this.wnd.getChild("ui_ChainIcon1"),this.tokenSymbol1=this.wnd.getChild("ui_Title1"),this.tokenAmount1=this.wnd.getChild("ui_TokenValue1"),this.tokenIcon2=this.wnd.getChild("ui_TokenIcon2"),this.tokenChainIcon2=this.wnd.getChild("ui_ChainIcon2"),this.tokenSymbol2=this.wnd.getChild("ui_Title2"),this.tokenAmount2=this.wnd.getChild("ui_TokenValue2"),this.priceImpact=this.wnd.getChild("ui_PriceImpactValue"),this.slippageTolerance=this.wnd.getChild("ui_SlippageValue"),this.network=this.wnd.getChild("ui_NetworkName"),this.gasValue=this.wnd.getChild("ui_GasValue")},a.setData=function(t){this.curAddData=t,this.chainId=this.curAddData.chainId,this.maxGasLimit=this.curAddData.maxGas,this.gasLabel=this.gasValue,this.curChainIconUrl=s(this.chainId),this._loadTokenIcon1(),this._loadInChainIcon(),this._loadTokenIcon2(),this._loadOutChainIcon(),this.tokenSymbol1.text=this.curAddData.tokenList[0].token.symbol,this.tokenSymbol2.text=this.curAddData.tokenList[1].token.symbol,this.tokenAmount1.text=this.curAddData.tokenList[0].outAmount,this.tokenAmount2.text=this.curAddData.tokenList[1].outAmount,this.priceImpact.text="",this.slippageTolerance.text=this.curAddData.slippageTolerance.toString()+"%",this.network.text=c(this.chainId),this.refreshGasText()},a._loadTokenIcon1=function(){var t=e(i().mark((function t(){var n,e;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=this.curAddData.tokenList[0].showCoin.config.icon,t.next=3,u.instance.loadChainIcon(n);case 3:if(e=t.sent,r(this.node)){t.next=6;break}return t.abrupt("return");case 6:if(n===this.curAddData.tokenList[0].showCoin.config.icon){t.next=8;break}return t.abrupt("return");case 8:this.tokenIcon1.texture=e;case 9:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),a._loadInChainIcon=function(){var t=e(i().mark((function t(){var n,e;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=this.curChainIconUrl,t.next=3,u.instance.loadChainIcon(n);case 3:if(e=t.sent,r(this.node)){t.next=6;break}return t.abrupt("return");case 6:if(n===this.curChainIconUrl){t.next=8;break}return t.abrupt("return");case 8:this.tokenChainIcon1.texture=e;case 9:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),a._loadTokenIcon2=function(){var t=e(i().mark((function t(){var n,e;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=this.curAddData.tokenList[1].showCoin.config.icon,t.next=3,u.instance.loadChainIcon(n);case 3:if(e=t.sent,r(this.node)){t.next=6;break}return t.abrupt("return");case 6:if(n===this.curAddData.tokenList[1].showCoin.config.icon){t.next=8;break}return t.abrupt("return");case 8:this.tokenIcon2.texture=e;case 9:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),a._loadOutChainIcon=function(){var t=e(i().mark((function t(){var n,e;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=this.curChainIconUrl,t.next=3,u.instance.loadChainIcon(n);case 3:if(e=t.sent,r(this.node)){t.next=6;break}return t.abrupt("return");case 6:if(n===this.curChainIconUrl){t.next=8;break}return t.abrupt("return");case 8:this.tokenChainIcon2.texture=e;case 9:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),o}(h)).URL="ui://WalletOperate/wind_Dex_Liquidity_Remove",d=l))||d);o._RF.pop()}}}));

System.register("chunks:///_virtual/ui.wallet.operate.wnd.dex.swap.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./chain.utils.ts","./resource.manager.ts","./ui.wallet.operate.wnd.base.view.ts","./chain.system.ts","./bera.swap.mainnet.ts"],(function(t){"use strict";var n,e,i,a,r,o,s,u,c,h,l,p,d;return{setters:[function(t){n=t.inheritsLoose,e=t.asyncToGenerator,i=t.regeneratorRuntime},function(t){a=t.cclegacy,r=t._decorator,o=t.error,s=t.isValid},function(t){u=t.getChainIconUrl,c=t.getChainName},function(t){h=t.ResourceManager},function(t){l=t.default},function(t){p=t.ChainSystem},function(t){d=t.BeraSwapMainnet}],execute:function(){var I,w;a._RF.push({},"b77f1BPJ+ZKN7OvKNXr6llC","ui.wallet.operate.wnd.dex.swap.view",void 0);var f=r.ccclass;t("default",f("UIWalletOperateWndDexSwapView")(((w=function(t){function a(){var n;return(n=t.call(this)||this).tokenInIcon=void 0,n.tokenInChainIcon=void 0,n.tokenInSymbol=void 0,n.tokenInAmount=void 0,n.tokenOutIcon=void 0,n.tokenOutChainIcon=void 0,n.tokenOutSymbol=void 0,n.tokenOutAmount=void 0,n.priceImpact=void 0,n.slippageTolerance=void 0,n.network=void 0,n.gasValue=void 0,n.confirmBtn=void 0,n.cancelBtn=void 0,n.curSwapData=null,n.curGasPrice=0n,n.curChainIconUrl="",n}n(a,t);var r=a.prototype;return r.onConstruct=function(){t.prototype.onConstruct.call(this),this.wnd=this.getChild("ui_MainWind"),this.confirmBtn=this.wnd.getChild("ui_BtnSend"),this.cancelBtn=this.wnd.getChild("ui_BtnCancel"),this.tokenInIcon=this.wnd.getChild("ui_TokenIcon1"),this.tokenInChainIcon=this.wnd.getChild("ui_ChainIcon1"),this.tokenInSymbol=this.wnd.getChild("ui_Title1"),this.tokenInAmount=this.wnd.getChild("ui_TokenValue1"),this.tokenOutIcon=this.wnd.getChild("ui_TokenIcon2"),this.tokenOutChainIcon=this.wnd.getChild("ui_ChainIcon2"),this.tokenOutSymbol=this.wnd.getChild("ui_Title2"),this.tokenOutAmount=this.wnd.getChild("ui_TokenValue2"),this.priceImpact=this.wnd.getChild("ui_PriceImpactValue"),this.slippageTolerance=this.wnd.getChild("ui_SlippageValue"),this.network=this.wnd.getChild("ui_NetworkName"),this.gasValue=this.wnd.getChild("ui_GasValue")},r.setData=function(t){this.curSwapData=t,this.chainId=this.curSwapData.chainId,this.maxGasLimit=this.curSwapData.maxGas,this.gasLabel=this.gasValue,this.curChainIconUrl=u(this.chainId),this._loadInTokenIcon(),this._loadInChainIcon(),this._loadOutTokenIcon(),this._loadOutChainIcon(),this.tokenInSymbol.text=this.curSwapData.inCoinConfig.symbol,this.tokenOutSymbol.text=this.curSwapData.outCoinConfig.symbol,this.tokenInAmount.text=this.curSwapData.inAmount,this.tokenOutAmount.text=this.curSwapData.outAmount.toString(),this.priceImpact.text=this.curSwapData.priceImpact.toFixed(2)+"%",this.slippageTolerance.text=this.curSwapData.slippageTolerance.toString()+"%",this.network.text=c(this.chainId),this.refreshGasText()},r.refreshSwapInfo=function(){var t=e(i().mark((function t(){var n,e;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,p.instance.isUseBeraMainnetSwap){t.next=4;break}return t.abrupt("return");case 4:return t.next=6,d.instance.getSwapInfo(this.curSwapData.inCoinConfig,this.curSwapData.outCoinConfig,this.curSwapData.inAmount);case 6:if(null!==(n=t.sent)){t.next=9;break}return t.abrupt("return");case 9:this.tokenOutAmount.text=n.returnAmount,e=100*parseFloat(n.sorSwapData.priceImpact.priceImpact),this.priceImpact.text=e.toFixed(2)+"%",t.next=17;break;case 14:t.prev=14,t.t0=t.catch(0),o(t.t0);case 17:case"end":return t.stop()}}),t,this,[[0,14]])})));return function(){return t.apply(this,arguments)}}(),r._loadInTokenIcon=function(){var t=e(i().mark((function t(){var n,e;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=this.curSwapData.inCoinConfig.logoURI,t.next=3,h.instance.loadChainIcon(n);case 3:if(e=t.sent,s(this.node)){t.next=6;break}return t.abrupt("return");case 6:if(n===this.curSwapData.inCoinConfig.logoURI){t.next=8;break}return t.abrupt("return");case 8:this.tokenInIcon.texture=e;case 9:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),r._loadInChainIcon=function(){var t=e(i().mark((function t(){var n,e;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=this.curChainIconUrl,t.next=3,h.instance.loadChainIcon(n);case 3:if(e=t.sent,s(this.node)){t.next=6;break}return t.abrupt("return");case 6:if(n===this.curChainIconUrl){t.next=8;break}return t.abrupt("return");case 8:this.tokenInChainIcon.texture=e;case 9:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),r._loadOutTokenIcon=function(){var t=e(i().mark((function t(){var n,e;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=this.curSwapData.outCoinConfig.logoURI,t.next=3,h.instance.loadChainIcon(n);case 3:if(e=t.sent,s(this.node)){t.next=6;break}return t.abrupt("return");case 6:if(n===this.curSwapData.outCoinConfig.logoURI){t.next=8;break}return t.abrupt("return");case 8:this.tokenOutIcon.texture=e;case 9:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),r._loadOutChainIcon=function(){var t=e(i().mark((function t(){var n,e;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=this.curChainIconUrl,t.next=3,h.instance.loadChainIcon(n);case 3:if(e=t.sent,s(this.node)){t.next=6;break}return t.abrupt("return");case 6:if(n===this.curChainIconUrl){t.next=8;break}return t.abrupt("return");case 8:this.tokenOutChainIcon.texture=e;case 9:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),a}(l)).URL="ui://WalletOperate/wind_Dex_Swap",I=w))||I);a._RF.pop()}}}));

System.register("chunks:///_virtual/ui.wallet.operate.wnd.lp.reward.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./chain.utils.ts","./ui.wallet.operate.wnd.base.view.ts"],(function(t){"use strict";var i,a,e,n,s;return{setters:[function(t){i=t.inheritsLoose},function(t){a=t.cclegacy,e=t._decorator},function(t){n=t.getChainName},function(t){s=t.default}],execute:function(){var r,d;a._RF.push({},"f250a4kSg9FlZPOIdVfEIHK","ui.wallet.operate.wnd.lp.reward.view",void 0);var l=e.ccclass;t("default",l("UIWalletOperateWndLpRewardView")(((d=function(t){function a(){var i;return(i=t.call(this)||this).contractAddr=void 0,i.funcName=void 0,i.network=void 0,i.totalValue=void 0,i.gasValue=void 0,i.confirmBtn=void 0,i.cancelBtn=void 0,i.curLpClaimRewardData=null,i}i(a,t);var e=a.prototype;return e.onConstruct=function(){t.prototype.onConstruct.call(this),this.wnd=this.getChild("ui_MainWind"),this.confirmBtn=this.wnd.getChild("ui_BtnSend"),this.cancelBtn=this.wnd.getChild("ui_BtnCancel"),this.contractAddr=this.wnd.getChild("ui_ContarctAddress"),this.funcName=this.wnd.getChild("ui_FuncName"),this.network=this.wnd.getChild("ui_NetworkName"),this.totalValue=this.wnd.getChild("ui_TotalValue"),this.gasValue=this.wnd.getChild("ui_GasValue"),this.confirmBtn=this.wnd.getChild("ui_BtnSend"),this.cancelBtn=this.wnd.getChild("ui_BtnCancel")},e.setData=function(t){this.curLpClaimRewardData=t,this.chainId=this.curLpClaimRewardData.chainId,this.maxGasLimit=this.curLpClaimRewardData.maxGas,this.gasLabel=this.gasValue,this.contractAddr.text=this.curLpClaimRewardData.vaultAddress,this.funcName.text="getReward",this.network.text=n(this.curLpClaimRewardData.chainId);var i=this.curLpClaimRewardData.amount;this.totalValue.text=i+"  BGT",this.refreshGasText()},a}(s)).URL="ui://WalletOperate/wind_Lp_Reward",r=d))||r);a._RF.pop()}}}));

System.register("chunks:///_virtual/ui.wallet.operate.wnd.lp.stake.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./chain.utils.ts","./ui.wallet.operate.wnd.base.view.ts"],(function(t){"use strict";var a,i,e,n,s;return{setters:[function(t){a=t.inheritsLoose},function(t){i=t.cclegacy,e=t._decorator},function(t){n=t.getChainName},function(t){s=t.default}],execute:function(){var c,r;i._RF.push({},"9b73dVPhh5I7q6cGKmIRU2b","ui.wallet.operate.wnd.lp.stake.view",void 0);var u=e.ccclass;t("default",u("UIWalletOperateWndLpStakeView")(((r=function(t){function i(){var a;return(a=t.call(this)||this).contractAddr=void 0,a.funcName=void 0,a.network=void 0,a.totalValue=void 0,a.gasValue=void 0,a.confirmBtn=void 0,a.cancelBtn=void 0,a.curContractLpStakeData=null,a}a(i,t);var e=i.prototype;return e.onConstruct=function(){t.prototype.onConstruct.call(this),this.wnd=this.getChild("ui_MainWind"),this.confirmBtn=this.wnd.getChild("ui_BtnSend"),this.cancelBtn=this.wnd.getChild("ui_BtnCancel"),this.contractAddr=this.wnd.getChild("ui_ContarctAddress"),this.funcName=this.wnd.getChild("ui_FuncName"),this.network=this.wnd.getChild("ui_NetworkName"),this.totalValue=this.wnd.getChild("ui_TotalValue"),this.gasValue=this.wnd.getChild("ui_GasValue"),this.confirmBtn=this.wnd.getChild("ui_BtnSend"),this.cancelBtn=this.wnd.getChild("ui_BtnCancel")},e.setData=function(t){this.curContractLpStakeData=t,this.chainId=this.curContractLpStakeData.chainId,this.maxGasLimit=this.curContractLpStakeData.maxGas,this.gasLabel=this.gasValue,this.contractAddr.text=this.curContractLpStakeData.vaultAddress,this.funcName.text="stake",this.network.text=n(this.curContractLpStakeData.chainId),this.totalValue.text=this.curContractLpStakeData.amount+" LP",this.refreshGasText()},i}(s)).URL="ui://WalletOperate/wind_Lp_Stake",c=r))||c);i._RF.pop()}}}));

System.register("chunks:///_virtual/ui.wallet.operate.wnd.lp.unstake.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./chain.utils.ts","./ui.wallet.operate.wnd.base.view.ts"],(function(t){"use strict";var i,e,a,n,s;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy,a=t._decorator},function(t){n=t.getChainName},function(t){s=t.default}],execute:function(){var u,c;e._RF.push({},"a68beHy0f5Dy4KaUctDRKK3","ui.wallet.operate.wnd.lp.unstake.view",void 0);var h=a.ccclass;t("default",h("UIWalletOperateWndLpUnstakeView")(((c=function(t){function e(){var i;return(i=t.call(this)||this).contractAddr=void 0,i.funcName=void 0,i.network=void 0,i.totalValue=void 0,i.gasValue=void 0,i.confirmBtn=void 0,i.cancelBtn=void 0,i.curLpUnstakeData=null,i}i(e,t);var a=e.prototype;return a.onConstruct=function(){t.prototype.onConstruct.call(this),this.wnd=this.getChild("ui_MainWind"),this.confirmBtn=this.wnd.getChild("ui_BtnSend"),this.cancelBtn=this.wnd.getChild("ui_BtnCancel"),this.contractAddr=this.wnd.getChild("ui_ContarctAddress"),this.funcName=this.wnd.getChild("ui_FuncName"),this.network=this.wnd.getChild("ui_NetworkName"),this.totalValue=this.wnd.getChild("ui_TotalValue"),this.gasValue=this.wnd.getChild("ui_GasValue"),this.confirmBtn=this.wnd.getChild("ui_BtnSend"),this.cancelBtn=this.wnd.getChild("ui_BtnCancel")},a.setData=function(t){this.curLpUnstakeData=t,this.chainId=this.curLpUnstakeData.chainId,this.maxGasLimit=this.curLpUnstakeData.maxGas,this.gasLabel=this.gasValue,this.contractAddr.text=this.curLpUnstakeData.vaultAddress,this.funcName.text="withdraw",this.network.text=n(this.curLpUnstakeData.chainId),this.totalValue.text=this.curLpUnstakeData.amount+" LP",this.refreshGasText()},e}(s)).URL="ui://WalletOperate/wind_Lp_Unstake",u=c))||u);e._RF.pop()}}}));

System.register("chunks:///_virtual/ui.wallet.operate.wnd.market.buy.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./chain.utils.ts","./use.ethers.ts","./ui.wallet.operate.wnd.base.view.ts"],(function(t){"use strict";var a,i,e,n,u,s;return{setters:[function(t){a=t.inheritsLoose},function(t){i=t.cclegacy,e=t._decorator},function(t){n=t.getChainName},function(t){u=t.formatEther},function(t){s=t.default}],execute:function(){var r,c;i._RF.push({},"e9e490cOR9LSa+Ne5Nx6c3K","ui.wallet.operate.wnd.market.buy.view",void 0);var o=e.ccclass;t("default",o("UIWalletOperateWndMarketBuyView")(((c=function(t){function i(){var a;return(a=t.call(this)||this).contractAddr=void 0,a.funcName=void 0,a.network=void 0,a.totalValue=void 0,a.gasValue=void 0,a.confirmBtn=void 0,a.cancelBtn=void 0,a.curContractBuyData=null,a}a(i,t);var e=i.prototype;return e.onConstruct=function(){t.prototype.onConstruct.call(this),this.wnd=this.getChild("ui_MainWind"),this.confirmBtn=this.wnd.getChild("ui_BtnSend"),this.cancelBtn=this.wnd.getChild("ui_BtnCancel"),this.contractAddr=this.wnd.getChild("ui_ContarctAddress"),this.funcName=this.wnd.getChild("ui_FuncName"),this.network=this.wnd.getChild("ui_NetworkName"),this.totalValue=this.wnd.getChild("ui_TotalValue"),this.gasValue=this.wnd.getChild("ui_GasValue"),this.confirmBtn=this.wnd.getChild("ui_BtnSend"),this.cancelBtn=this.wnd.getChild("ui_BtnCancel")},e.setData=function(t){this.curContractBuyData=t,this.chainId=this.curContractBuyData.chainId,this.maxGasLimit=this.curContractBuyData.maxGas,this.gasLabel=this.gasValue,this.contractAddr.text=this.curContractBuyData.contractAddress,this.funcName.text=this.curContractBuyData.funcName,this.network.text=n(this.curContractBuyData.chainId);var a=Number.parseFloat(u(this.curContractBuyData.unitPrice))*this.curContractBuyData.amount;this.totalValue.text=a+" BERA",this.refreshGasText()},i}(s)).URL="ui://WalletOperate/wind_Market_Buy",r=c))||r);i._RF.pop()}}}));

System.register("chunks:///_virtual/ui.wallet.operate.wnd.send.coin.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./wizard.wallet.sdk.ts","./chain.utils.ts","./common.tool.ts","./resource.manager.ts","./ui.wallet.operate.wnd.base.view.ts"],(function(t){"use strict";var n,i,e,o,a,r,s,c,u,d,h;return{setters:[function(t){n=t.inheritsLoose,i=t.asyncToGenerator,e=t.regeneratorRuntime},function(t){o=t.cclegacy,a=t._decorator,r=t.isValid},function(t){s=t.WizardWalletSDK},function(t){c=t.getChainName},function(t){u=t.CommonTool},function(t){d=t.ResourceManager},function(t){h=t.default}],execute:function(){var l,m;o._RF.push({},"d9297j4kpNI6JuhuGuO8Vi3","ui.wallet.operate.wnd.send.coin.view",void 0);var f=a.ccclass;t("default",f("UIWalletOperateWndSendCoinView")(((m=function(t){function o(){var n;return(n=t.call(this)||this).tokenIcon=void 0,n.chainIcon=void 0,n.tokenName=void 0,n.tokenFullName=void 0,n.fromAddr=void 0,n.amount=void 0,n.amountUS=void 0,n.toAddr=void 0,n.network=void 0,n.gasValue=void 0,n.confirmBtn=void 0,n.cancelBtn=void 0,n.curSendCoinData=null,n.curGasPrice=0n,n}n(o,t);var a=o.prototype;return a.onConstruct=function(){t.prototype.onConstruct.call(this),this.wnd=this.getChild("ui_MainWind"),this.confirmBtn=this.wnd.getChild("ui_BtnSend"),this.cancelBtn=this.wnd.getChild("ui_BtnCancel"),this.tokenIcon=this.wnd.getChild("ui_TokenIcon"),this.chainIcon=this.wnd.getChild("ui_ChainIcon"),this.tokenName=this.wnd.getChild("ui_FromTokenName"),this.tokenFullName=this.wnd.getChild("ui_FromTokenChain"),this.fromAddr=this.wnd.getChild("ui_FromAddress"),this.amount=this.wnd.getChild("ui_FromValue1"),this.amountUS=this.wnd.getChild("ui_FromValue2"),this.toAddr=this.wnd.getChild("ui_ToAddress"),this.network=this.wnd.getChild("ui_NetworkName"),this.gasValue=this.wnd.getChild("ui_GasValue")},a.setData=function(t){this.curSendCoinData=t,this.chainId=this.curSendCoinData.chainId,this.maxGasLimit=this.curSendCoinData.maxGas,this.gasLabel=this.gasValue,this._loadTokenIcon(),this._loadChainIcon(),this.tokenName.text=this.curSendCoinData.coin.config.symbol,this.tokenFullName.text=this.curSendCoinData.coin.config.name,this.fromAddr.text=u.shortAddress(s.walletAddress,6),this.toAddr.text=this.curSendCoinData.to,this.amount.text="-"+this.curSendCoinData.amount,this.amountUS.text="",this.network.text=c(this.curSendCoinData.coin.chainId),this.refreshGasText()},a._loadTokenIcon=function(){var t=i(e().mark((function t(){var n,i;return e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=this.curSendCoinData.coin.config.icon,t.next=3,d.instance.loadChainIcon(n);case 3:if(i=t.sent,r(this.node)){t.next=6;break}return t.abrupt("return");case 6:if(n===this.curSendCoinData.coin.config.icon){t.next=8;break}return t.abrupt("return");case 8:this.tokenIcon.texture=i;case 9:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),a._loadChainIcon=function(){var t=i(e().mark((function t(){var n,i;return e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=this.curSendCoinData.coin.chainIconUrl,t.next=3,d.instance.loadChainIcon(n);case 3:if(i=t.sent,r(this.node)){t.next=6;break}return t.abrupt("return");case 6:if(n===this.curSendCoinData.coin.chainIconUrl){t.next=8;break}return t.abrupt("return");case 8:this.chainIcon.texture=i;case 9:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),o}(h)).URL="ui://WalletOperate/wind_Send_Coin",l=m))||l);o._RF.pop()}}}));

System.register("chunks:///_virtual/ui.wallet.operate.wnd.tge.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./chain.utils.ts","./ui.wallet.operate.wnd.base.view.ts"],(function(t){"use strict";var a,n,i,e,c;return{setters:[function(t){a=t.inheritsLoose},function(t){n=t.cclegacy,i=t._decorator},function(t){e=t.getChainName},function(t){c=t.default}],execute:function(){var r,s;n._RF.push({},"4c5ddjVNDdJLIDzPHHwiEj+","ui.wallet.operate.wnd.tge.view",void 0);var o=i.ccclass;t("default",o("UIWalletOperateWndContractTGEView")(((s=function(t){function n(){var a;return(a=t.call(this)||this).contractAddr=void 0,a.funcName=void 0,a.network=void 0,a.gasValue=void 0,a.confirmBtn=void 0,a.cancelBtn=void 0,a.curContractInteractData=null,a}a(n,t);var i=n.prototype;return i.onConstruct=function(){t.prototype.onConstruct.call(this),this.wnd=this.getChild("ui_MainWind"),this.confirmBtn=this.wnd.getChild("ui_BtnSend"),this.cancelBtn=this.wnd.getChild("ui_BtnCancel"),this.contractAddr=this.wnd.getChild("ui_ContarctAddress"),this.funcName=this.wnd.getChild("ui_FuncName"),this.network=this.wnd.getChild("ui_NetworkName"),this.gasValue=this.wnd.getChild("ui_GasValue")},i.setData=function(t){this.curContractInteractData=t,this.chainId=this.curContractInteractData.chainId,this.maxGasLimit=this.curContractInteractData.maxGas,this.gasLabel=this.gasValue,this.contractAddr.text=this.curContractInteractData.contractAddress,this.funcName.text=this.curContractInteractData.funcName,this.network.text=e(this.curContractInteractData.chainId)},n}(c)).URL="ui://WalletOperate/wind_TGE",r=s))||r);n._RF.pop()}}}));

System.register("chunks:///_virtual/ui.wallet.receive.controller.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./event.dispatcher.ts","./event.name.ts","./constants.ts","./QRCode.ts","./wizard.wallet.sdk.ts","./table.helper.ts","./sound.helper.ts","./common.tool.ts","./logic.tool.ts","./ui.float.text.controller.ts","./ui.base.controller.ts"],(function(t){"use strict";var e,n,o,i,r,a,s,l,c,u,h,d,f,_,p,v,C,w,m,y,g,k,E;return{setters:[function(t){e=t.inheritsLoose,n=t.createClass,o=t.asyncToGenerator,i=t.regeneratorRuntime},function(t){r=t.cclegacy,a=t._decorator,s=t.input,l=t.Input,c=t.KeyCode,u=t.Color},function(t){h=t.UIPackage},function(t){d=t.EventDispatcher},function(t){f=t.EventName},function(t){_=t.QRErrorCorrectLevel},function(t){p=t.QRCode},function(t){v=t.WizardWalletSDK,C=t.EWalletState},function(t){w=t.TableHelper},function(t){m=t.SoundHelper},function(t){y=t.CommonTool},function(t){g=t.LogicTool},function(t){k=t.UIFloatTextController},function(t){E=t.UIBaseController}],execute:function(){var I,R;r._RF.push({},"c15ed2K1CJKVItBaez4gKmW","ui.wallet.receive.controller",void 0);var D=a.ccclass;t("UIWalletReceiveController",D("UIWalletReceiveController")(((R=function(t){function r(){for(var e,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))||this).mFguiPkgName="WizardWallet",e.mFguiMainViewName="wind_ReceiveDetails",e._view=null,e}e(r,t);var a=r.prototype;return a._addEvents=function(){t.prototype._addEvents.call(this),s.on(l.EventType.KEY_DOWN,this._onKeyDown,this)},a._removeEvents=function(){t.prototype._removeEvents.call(this),s.off(l.EventType.KEY_DOWN,this._onKeyDown,this)},a._onKeyDown=function(t){switch(t.keyCode){case c.ESCAPE:this._onCloseClick()}},a.onLoad=function(){r._instance=this,this._startLoadPkg(this.mFguiPkgName)},a.onDestroy=function(){t.prototype.onDestroy.call(this),r._instance=null},a.closeUI=function(){t.prototype.closeUI.call(this)},a.update=function(){this._view},a._onLoadUIFinish=function(){t.prototype._onLoadUIFinish.call(this),this._view=h.createObject(this.mFguiPkgName,this.mFguiMainViewName).asCom,this._addUIToRoot(this._view),this._view.makeFullScreen(),this._view.closeBtn.onClick(this._onCloseClick,this),this._view.addressCopyBtn.onClick(this._onAddressCopyClick,this),this._initData()},a._onCloseClick=function(){var t=o(i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:m.PlaySound_UICommonClose(),d.emit(f.UI_WALLET_RECEIVE_CLOSE);case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),a._onAddressCopyClick=function(){var t=o(i().mark((function t(){var e;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(m.PlaySound_UICommonClick(),v.walletState===C.Connected){t.next=3;break}return t.abrupt("return");case 3:e=v.walletAddress,y.copyTextNew(e).then((function(){k.AddTipI18nID_Success("u.2516")}));case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),a._initData=function(){v.walletState===C.Connected&&(this._view.addressCopyBtn.text=y.shortAddress(v.walletAddress,6),this._view.tipDesc.text=g.i18nFormat(w.getI18nUIText("u.13426"),["EVM chain"]),this._drawQRCreate())},a._drawQRCreate=function(){this._view.qrShape&&this._QRCreate(v.walletAddress)},a._QRCreate=function(t,e,n){void 0===e&&(e=u.WHITE),void 0===n&&(n=u.BLACK);var o=this._view.qrShape._content,i=new p(-1,_.H);i.addData(t),i.make();var r=this._view.qrShape.width,a=this._view.qrShape.height;o.fillColor=u.BLACK;var s=Math.floor(i.getModuleCount()),l=r/s,c=a/s;o.clear();for(var h=0;h<i.getModuleCount();h++)for(var d=0;d<i.getModuleCount();d++){var f=Math.ceil((d+1)*l)-Math.floor(d*l),v=Math.ceil((h+1)*l)-Math.floor(h*l),C=Math.round(d*l),w=Math.round(h*c)-a;o.rect(C,w,f,v),i.isDark(h,d)?o.fillColor=n:o.fillColor=e,o.fill()}},n(r,null,[{key:"instance",get:function(){return this._instance}}]),r}(E)).CTRL_NAME="UIWalletReceiveController",R._instance=null,I=R))||I);r._RF.pop()}}}));

System.register("chunks:///_virtual/ui.wallet.receive.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(e){"use strict";var i,t,s,o;return{setters:[function(e){i=e.inheritsLoose},function(e){t=e.cclegacy,s=e._decorator},function(e){o=e.GComponent}],execute:function(){var n,r;t._RF.push({},"f2e29OhPHpF7b13rVb2jtzu","ui.wallet.receive.view",void 0);var c=s.ccclass;e("default",c("UIWalletReceiveView")(((r=function(e){function t(){var i;return(i=e.call(this)||this).closeBtn=void 0,i.qrShape=void 0,i.tipDesc=void 0,i.addressCopyBtn=void 0,i}return i(t,e),t.prototype.onConstruct=function(){this.closeBtn=this.getChild("ui_WindClose"),this.qrShape=this.getChild("ui_QRCode"),this.tipDesc=this.getChild("ui_TipLabel"),this.addressCopyBtn=this.getChild("ui_BtnAddressCopy")},t}(o)).URL="ui://WizardWallet/wind_ReceiveDetails",n=r))||n);t._RF.pop()}}}));

System.register("chunks:///_virtual/ui.wallet.send.detail.controller.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./chain.system.ts","./event.dispatcher.ts","./event.name.ts","./wizard.wallet.sdk.ts","./resource.manager.ts","./table.helper.ts","./sound.helper.ts","./common.tool.ts","./logic.tool.ts","./ui.base.controller.ts","./chain.operate.send.coin.ts","./ui.float.text.controller.ts","./chain.operate.interface.ts"],(function(t){"use strict";var e,n,i,o,a,s,r,c,l,u,h,_,d,f,m,p,C,k,v,T,D,w,I,g,y,x;return{setters:[function(t){e=t.inheritsLoose,n=t.createClass,i=t.asyncToGenerator,o=t.regeneratorRuntime},function(t){a=t.cclegacy,s=t._decorator,r=t.input,c=t.Input,l=t.KeyCode,u=t.isValid},function(t){h=t.UIPackage,_=t.Event},function(t){d=t.ChainSystem},function(t){f=t.EventDispatcher},function(t){m=t.EventName},function(t){p=t.WizardWalletSDK,C=t.EWalletState},function(t){k=t.ResourceManager},function(t){v=t.TableHelper},function(t){T=t.SoundHelper},function(t){D=t.CommonTool},function(t){w=t.LogicTool},function(t){I=t.UIBaseController},function(t){g=t.ChainOperateSendCoin},function(t){y=t.UIFloatTextController},function(t){x=t.ChainOperateStatus}],execute:function(){var S,E;a._RF.push({},"c8655NUHzZGeb65slEggbaa","ui.wallet.send.detail.controller",void 0);var A=s.ccclass;t("UIWalletSendDetailController",A("UIWalletSendDetailController")(((E=function(t){function a(){for(var e,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))||this).mFguiPkgName="WizardWallet",e.mFguiMainViewName="wind_SendDetails",e._view=null,e.mTokenKey="",e.mTokenData=null,e}e(a,t);var s=a.prototype;return s._addEvents=function(){t.prototype._addEvents.call(this),r.on(c.EventType.KEY_DOWN,this._onKeyDown,this),f.on(m.WIZARD_WALLET_COIN_DATA_CHANGED,this._refreshWalletCoinDataChanged,this)},s._removeEvents=function(){t.prototype._removeEvents.call(this),r.off(c.EventType.KEY_DOWN,this._onKeyDown,this),f.off(m.WIZARD_WALLET_COIN_DATA_CHANGED,this._refreshWalletCoinDataChanged,this)},s._onKeyDown=function(t){switch(t.keyCode){case l.ESCAPE:this._onCloseClick()}},s._refreshWalletCoinDataChanged=function(t){null!==this._view&&null!=this.mTokenData&&t&&t===this.mTokenData.key&&this._refreshTokenBalance()},s.setData=function(t){this.mTokenKey=t,null!=this._view&&this.IsLoadFinish&&this._initData()},s.onLoad=function(){a._instance=this,this._startLoadPkg(this.mFguiPkgName)},s.onDestroy=function(){t.prototype.onDestroy.call(this),a._instance=null},s.closeUI=function(){t.prototype.closeUI.call(this)},s.update=function(){this._view},s._onLoadUIFinish=function(){t.prototype._onLoadUIFinish.call(this),this._view=h.createObject(this.mFguiPkgName,this.mFguiMainViewName).asCom,this._addUIToRoot(this._view),this._view.makeFullScreen(),this._view.closeBtn.onClick(this._onCloseClick,this),this._view.sendMaxBtn.onClick(this._onSendMaxClick,this),this._view.sendBtn.onClick(this._onSendClick,this),this._view.sendAmount.on(_.TEXT_CHANGE,this._onSendAmountTextChanged,this),this._initData()},s._onSendAmountTextChanged=function(){var t=Number.parseFloat(this._view.sendAmount.text);isNaN(t)&&(t=0);var e=this.mTokenData.balance;t<0&&(t=0),t>e&&(t=e),this._view.sendAmount.text=w.NumberOmit(t.toString())},s._onCloseClick=function(){T.PlaySound_UICommonClose(),f.emit(m.UI_WALLET_SEND_DETAIL_CLOSE)},s._onSendMaxClick=function(){T.PlaySound_UICommonClick();var t=this.mTokenData.balance;this._view.sendAmount.text=w.NumberOmit(t.toString())},s._onSendClick=function(){var t=i(o().mark((function t(){var e,n;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(T.PlaySound_UICommonClick(),null!=this.mTokenData){t.next=3;break}return t.abrupt("return");case 3:if(e=this._view.toAddr.text,n=this._view.sendAmount.text,e.startsWith("0x")&&42===e.length){t.next=8;break}return y.AddTipI18nID_Failed("u.2531"),t.abrupt("return");case 8:return""===n&&(n="0"),t.next=11,g.popConfirm(this.mTokenData,e,n);case 11:t.sent===x.Success&&(f.emit(m.UI_WALLET_SEND_LIST_CLOSE),f.emit(m.UI_WALLET_SEND_DETAIL_CLOSE));case 13:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),s._initData=function(){p.walletState===C.Connected&&(this.mTokenData=d.instance.allCoinsMap.get(this.mTokenKey),this._loadTokenIcon(),this._loadChainIcon(),this._view.tokenName.text=this.mTokenData.config.symbol,this._refreshTokenBalance(),this._view.fromAddr.text=D.shortAddress(p.walletAddress,6))},s._refreshTokenBalance=function(){var t=w.NumberOmit(this.mTokenData.balance.toString(),8,!0);this._view.tokenBalance.text=w.i18nFormat(v.getI18nUIText("u.13418"),[t])},s._loadTokenIcon=function(){var t=i(o().mark((function t(){var e,n;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.mTokenData.config.icon,t.next=3,k.instance.loadChainIcon(e);case 3:if(n=t.sent,u(this.node)){t.next=6;break}return t.abrupt("return");case 6:if(e===this.mTokenData.config.icon){t.next=8;break}return t.abrupt("return");case 8:this._view.tokenIcon.texture=n,this._view.sendIcon.texture=n;case 10:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),s._loadChainIcon=function(){var t=i(o().mark((function t(){var e,n;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.mTokenData.chainIconUrl,t.next=3,k.instance.loadChainIcon(e);case 3:if(n=t.sent,u(this.node)){t.next=6;break}return t.abrupt("return");case 6:if(e===this.mTokenData.chainIconUrl){t.next=8;break}return t.abrupt("return");case 8:this._view.tokenChainIcon.texture=n,this._view.sendChainIcon.texture=n;case 10:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),n(a,null,[{key:"instance",get:function(){return this._instance}}]),a}(I)).CTRL_NAME="UIWalletSendDetailController",E._instance=null,S=E))||S);a._RF.pop()}}}));

System.register("chunks:///_virtual/ui.wallet.send.detail.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){"use strict";var i,e,n,o,d,s;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy,n=t._decorator,o=t.EditBox,d=t.Overflow},function(t){s=t.GComponent}],execute:function(){var h,l;e._RF.push({},"76a92FoQypD1pY4qX+8nEL7","ui.wallet.send.detail.view",void 0);var u=n.ccclass;t("default",u("UIWalletSendDetailView")(((l=function(t){function e(){var i;return(i=t.call(this)||this).closeBtn=void 0,i.tokenIcon=void 0,i.tokenChainIcon=void 0,i.tokenName=void 0,i.tokenBalance=void 0,i.fromAddr=void 0,i.toAddr=void 0,i.sendIcon=void 0,i.sendChainIcon=void 0,i.sendAmount=void 0,i.sendMaxBtn=void 0,i.sendBtn=void 0,i}return i(e,t),e.prototype.onConstruct=function(){this.closeBtn=this.getChild("ui_WindClose"),this.tokenIcon=this.getChild("ui_TokenIcon1"),this.tokenChainIcon=this.getChild("ui_ChainIcon1"),this.tokenName=this.getChild("ui_TokenName"),this.tokenBalance=this.getChild("ui_BalanceValue"),this.fromAddr=this.getChild("ui_WalletAddress"),this.toAddr=this.getChild("ui_InputReceiveAddress"),this.sendIcon=this.getChild("ui_TokenIcon2"),this.sendChainIcon=this.getChild("ui_ChainIcon2"),this.sendAmount=this.getChild("ui_InputAmount"),this.sendAmount._editBox.inputMode=o.InputMode.DECIMAL,this.sendMaxBtn=this.getChild("ui_BtnMax"),this.sendBtn=this.getChild("ui_BtnSend"),this.toAddr&&(this.toAddr._editBox.placeholderLabel.overflow=d.CLAMP)},e}(s)).URL="ui://WizardWallet/wind_SendDetails",h=l))||h);e._RF.pop()}}}));

System.register("chunks:///_virtual/ui.wallet.send.list.controller.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./chain.system.ts","./event.dispatcher.ts","./event.name.ts","./sound.helper.ts","./ui.base.controller.ts"],(function(t){"use strict";var e,n,i,s,o,a,r,l,c,h,u,_,f,m,d;return{setters:[function(t){e=t.inheritsLoose,n=t.createClass,i=t.asyncToGenerator,s=t.regeneratorRuntime},function(t){o=t.cclegacy,a=t._decorator,r=t.input,l=t.Input,c=t.KeyCode},function(t){h=t.UIPackage},function(t){u=t.ChainSystem},function(t){_=t.EventDispatcher},function(t){f=t.EventName},function(t){m=t.SoundHelper},function(t){d=t.UIBaseController}],execute:function(){var v,p;o._RF.push({},"34b67wwmT5IdIwiYIQQA5cn","ui.wallet.send.list.controller",void 0);var k=a.ccclass;t("UIWalletSendListController",k("UIWalletSendListController")(((p=function(t){function o(){for(var e,n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))||this).mFguiPkgName="WizardWallet",e.mFguiMainViewName="wind_SendList",e._view=null,e.mTokenData=null,e}e(o,t);var a=o.prototype;return a._addEvents=function(){t.prototype._addEvents.call(this),r.on(l.EventType.KEY_DOWN,this._onKeyDown,this),_.on(f.WIZARD_WALLET_COIN_DATA_CHANGED,this._refreshWalletCoinDataChanged,this)},a._removeEvents=function(){t.prototype._removeEvents.call(this),r.off(l.EventType.KEY_DOWN,this._onKeyDown,this),_.off(f.WIZARD_WALLET_COIN_DATA_CHANGED,this._refreshWalletCoinDataChanged,this)},a._onKeyDown=function(t){switch(t.keyCode){case c.ESCAPE:this._onCloseClick()}},a._refreshWalletCoinDataChanged=function(){null!==this._view&&null!=this.mTokenData&&this._refreshTokenList(!1)},a.onLoad=function(){o._instance=this,this._startLoadPkg(this.mFguiPkgName)},a.onDestroy=function(){t.prototype.onDestroy.call(this),o._instance=null},a.closeUI=function(){t.prototype.closeUI.call(this)},a.update=function(){this._view},a._onLoadUIFinish=function(){t.prototype._onLoadUIFinish.call(this),this._view=h.createObject(this.mFguiPkgName,this.mFguiMainViewName).asCom,this._addUIToRoot(this._view),this._view.makeFullScreen(),this._view.closeBtn.onClick(this._onCloseClick,this),this._view.tokenList.itemRenderer=this.renderTokenItem.bind(this),this._view.tokenList.setVirtual(),this._refreshTokenList()},a._onCloseClick=function(){var t=i(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:m.PlaySound_UICommonClose(),_.emit(f.UI_WALLET_SEND_LIST_CLOSE);case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),a._refreshTokenList=function(t){var e;void 0===t&&(t=!0),this.mTokenData=[];var n=u.instance.allCoinsList.filter((function(t){return!t.isLocked()}));(e=this.mTokenData).push.apply(e,n);var i=this.mTokenData.length;this._view.tokenList.numItems!==i?this._view.tokenList.numItems=i:this._view.tokenList.refreshVirtualList(),t&&i>0&&this._view.tokenList.scrollToView(0)},a.renderTokenItem=function(t,e){t>=this.mTokenData.length||e.setTokenData(this.mTokenData[t],1)},n(o,null,[{key:"instance",get:function(){return this._instance}}]),o}(d)).CTRL_NAME="UIWalletSendListController",p._instance=null,v=p))||v);o._RF.pop()}}}));

System.register("chunks:///_virtual/ui.wallet.send.list.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){"use strict";var i,s,e,n;return{setters:[function(t){i=t.inheritsLoose},function(t){s=t.cclegacy,e=t._decorator},function(t){n=t.GComponent}],execute:function(){var o,l;s._RF.push({},"41f8amPjVJPBKym07z0lK0g","ui.wallet.send.list.view",void 0);var u=e.ccclass;t("default",u("UIWalletSendListView")(((l=function(t){function s(){var i;return(i=t.call(this)||this).statusCtrl=void 0,i.closeBtn=void 0,i.tokenList=void 0,i}return i(s,t),s.prototype.onConstruct=function(){this.statusCtrl=this.getController("Status"),this.closeBtn=this.getChild("ui_WindClose"),this.tokenList=this.getChild("ui_FundsList")},s}(n)).URL="ui://WizardWallet/wind_SendList",o=l))||o);s._RF.pop()}}}));

System.register("chunks:///_virtual/ui.wallet.token.detail.controller.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./chain.system.ts","./event.dispatcher.ts","./event.name.ts","./wizard.wallet.sdk.ts","./resource.manager.ts","./table.helper.ts","./sound.helper.ts","./common.tool.ts","./logic.tool.ts","./ui.float.text.controller.ts","./ui.base.controller.ts","./use.berancer.sdk.ts"],(function(t){"use strict";var e,n,i,o,a,s,r,c,l,u,h,_,f,d,k,m,p,C,v,T,w,D,I,y;return{setters:[function(t){e=t.inheritsLoose,n=t.createClass,i=t.asyncToGenerator,o=t.regeneratorRuntime},function(t){a=t.cclegacy,s=t._decorator,r=t.input,c=t.Input,l=t.KeyCode,u=t.isValid},function(t){h=t.UIPackage},function(t){_=t.ChainSystem},function(t){f=t.EventDispatcher},function(t){d=t.EventName},function(t){k=t.WizardWalletSDK,m=t.EWalletState},function(t){p=t.ResourceManager},function(t){C=t.TableHelper},function(t){v=t.SoundHelper},function(t){T=t.CommonTool},function(t){w=t.LogicTool},function(t){D=t.UIFloatTextController},function(t){I=t.UIBaseController},function(t){y=t.useIsZeroAddress}],execute:function(){var g,E;a._RF.push({},"7d9c7EXzpBO4aDIOyG5ZD4q","ui.wallet.token.detail.controller",void 0);var x=s.ccclass;t("UIWalletTokenDetailController",x("UIWalletTokenDetailController")(((E=function(t){function a(){for(var e,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))||this).mFguiPkgName="WizardWallet",e.mFguiMainViewName="wind_TokenDetails",e._view=null,e.mTokenKey="",e.mTokenData=null,e}e(a,t);var s=a.prototype;return s._addEvents=function(){t.prototype._addEvents.call(this),r.on(c.EventType.KEY_DOWN,this._onKeyDown,this),f.on(d.WIZARD_WALLET_COIN_DATA_CHANGED,this._refreshWalletCoinDataChanged,this)},s._removeEvents=function(){t.prototype._removeEvents.call(this),r.off(c.EventType.KEY_DOWN,this._onKeyDown,this),f.off(d.WIZARD_WALLET_COIN_DATA_CHANGED,this._refreshWalletCoinDataChanged,this)},s._onKeyDown=function(t){switch(t.keyCode){case l.ESCAPE:this._onCloseClick()}},s._refreshWalletCoinDataChanged=function(t){null!==this._view&&null!=this.mTokenData&&t&&t===this.mTokenData.key&&this._refreshTokenBalance()},s.setData=function(t){this.mTokenKey=t,null!=this._view&&this.IsLoadFinish&&this._initData()},s.onLoad=function(){a._instance=this,this._startLoadPkg(this.mFguiPkgName)},s.onDestroy=function(){t.prototype.onDestroy.call(this),a._instance=null},s.closeUI=function(){t.prototype.closeUI.call(this)},s.update=function(){this._view},s._onLoadUIFinish=function(){t.prototype._onLoadUIFinish.call(this),this._view=h.createObject(this.mFguiPkgName,this.mFguiMainViewName).asCom,this._addUIToRoot(this._view),this._view.makeFullScreen(),this._view.closeBtn.onClick(this._onCloseClick,this),this._view.contractAddrCopyBtn.onClick(this._onAddressCopyClick,this),this._view.sendBtn.onClick(this._onSendClick,this),this._view.receiveBtn.onClick(this._onReceiveClick,this),this._view.transactionBtn.onClick(this._onTransactionClick,this),this._initData()},s._onCloseClick=function(){var t=i(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:v.PlaySound_UICommonClose(),f.emit(d.UI_WALLET_TOKEN_DETAIL_CLOSE);case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),s._onAddressCopyClick=function(){var t=i(o().mark((function t(){var e;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(v.PlaySound_UICommonClick(),k.walletState===m.Connected){t.next=3;break}return t.abrupt("return");case 3:this.mTokenData.config.address&&(e=this.mTokenData.config.address,T.copyTextNew(e).then((function(){D.AddTipI18nID_Success("u.2516")})));case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),s._onSendClick=function(){var t=i(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:v.PlaySound_UICommonClick(),f.emit(d.UI_WALLET_SEND_DETAIL_OPEN,this.mTokenData.key);case 2:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),s._onReceiveClick=function(){var t=i(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:v.PlaySound_UICommonClick(),f.emit(d.UI_WALLET_RECEIVE_OPEN);case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),s._onTransactionClick=function(){var t=i(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:v.PlaySound_UICommonClick(),f.emit(d.UI_WALLET_TRANSACTION_OPEN,this.mTokenData.chainId,this.mTokenData.config.symbol);case 2:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),s._initData=function(){k.walletState===m.Connected&&(_.instance.allCoinsMap.has(this.mTokenKey)&&(this.mTokenData=_.instance.allCoinsMap.get(this.mTokenKey),this._loadTokenIcon(),this._loadChainIcon(),this._view.tokenName.text=w.i18nFormat(C.getI18nUIText("u.13438"),[this.mTokenData.config.name]),this._refreshTokenBalance(),this._refreshBtnState(),y(this.mTokenData.config.address)?this._view.isContractCtrl.selectedIndex=1:(this._view.isContractCtrl.selectedIndex=0,this._view.contractAddr.text=C.getI18nUIText("u.13429")+" "+T.shortAddress(this.mTokenData.config.address,6))))},s._refreshTokenBalance=function(){this._view.tokenBalance.text=w.NumberOmit(this.mTokenData.balance.toString(),8,!0)+" "+this.mTokenData.config.symbol,0===this.mTokenData.price?this._view.tokenBalanceUS.text="$-":this._view.tokenBalanceUS.text=w.NumberOmit(this.mTokenData.usdValue.toString(),2,!0,"$")},s._refreshBtnState=function(){this.mTokenData.isLocked()?(this._view.sendBtn.enabled=!1,this._view.receiveBtn.enabled=!1):(this._view.sendBtn.enabled=!0,this._view.receiveBtn.enabled=!0)},s._loadTokenIcon=function(){var t=i(o().mark((function t(){var e,n;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.mTokenData.config.icon,t.next=3,p.instance.loadChainIcon(e);case 3:if(n=t.sent,u(this.node)){t.next=6;break}return t.abrupt("return");case 6:if(e===this.mTokenData.config.icon){t.next=8;break}return t.abrupt("return");case 8:this._view.tokenIcon.texture=n;case 9:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),s._loadChainIcon=function(){var t=i(o().mark((function t(){var e,n;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.mTokenData.chainIconUrl,t.next=3,p.instance.loadChainIcon(e);case 3:if(n=t.sent,u(this.node)){t.next=6;break}return t.abrupt("return");case 6:if(e===this.mTokenData.chainIconUrl){t.next=8;break}return t.abrupt("return");case 8:this._view.chainIcon.texture=n;case 9:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),n(a,null,[{key:"instance",get:function(){return this._instance}}]),a}(I)).CTRL_NAME="UIWalletTokenDetailController",E._instance=null,g=E))||g);a._RF.pop()}}}));

System.register("chunks:///_virtual/ui.wallet.token.detail.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){"use strict";var i,e,n,o;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy,n=t._decorator},function(t){o=t.GComponent}],execute:function(){var c,s;e._RF.push({},"fe0cagQRt1LBZFu7uQpp5rV","ui.wallet.token.detail.view",void 0);var a=n.ccclass;t("default",a("UIWalletTokenDetailView")(((s=function(t){function e(){var i;return(i=t.call(this)||this).isContractCtrl=void 0,i.closeBtn=void 0,i.tokenIcon=void 0,i.chainIcon=void 0,i.tokenName=void 0,i.tokenBalance=void 0,i.tokenBalanceUS=void 0,i.contractAddr=void 0,i.contractAddrCopyBtn=void 0,i.sendBtn=void 0,i.receiveBtn=void 0,i.transactionBtn=void 0,i}return i(e,t),e.prototype.onConstruct=function(){this.isContractCtrl=this.getController("IsContract"),this.closeBtn=this.getChild("ui_WindClose"),this.tokenIcon=this.getChild("ui_TokenIcon1"),this.chainIcon=this.getChild("ui_ChainIcon1"),this.tokenName=this.getChild("ui_TokenName"),this.tokenBalance=this.getChild("ui_BalanceValue1"),this.tokenBalanceUS=this.getChild("ui_BalanceValue2"),this.contractAddr=this.getChild("ui_WalletAddress"),this.contractAddrCopyBtn=this.getChild("ui_BtnAccountCopy"),this.sendBtn=this.getChild("ui_BtnSend"),this.receiveBtn=this.getChild("ui_BtnReceive"),this.transactionBtn=this.getChild("ui_BtnTansactions")},e}(o)).URL="ui://WizardWallet/wind_TokenDetails",c=s))||c);e._RF.pop()}}}));

System.register("chunks:///_virtual/ui.wallet.token.item.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./chain.utils.ts","./event.dispatcher.ts","./event.name.ts","./resource.manager.ts","./sound.helper.ts","./logic.tool.ts"],(function(t){"use strict";var e,n,i,o,a,r,s,c,h,u,l,m,d;return{setters:[function(t){e=t.inheritsLoose,n=t.asyncToGenerator,i=t.regeneratorRuntime},function(t){o=t.cclegacy,a=t._decorator,r=t.isValid},function(t){s=t.GButton},function(t){c=t.getChainName},function(t){h=t.EventDispatcher},function(t){u=t.EventName},function(t){l=t.ResourceManager},function(t){m=t.SoundHelper},function(t){d=t.LogicTool}],execute:function(){var C,k;o._RF.push({},"a9376hu2utDKK+q0Xuxq8JP","ui.wallet.token.item.view",void 0);var f,S=a.ccclass;!function(t){t[t.Funds=0]="Funds",t[t.Send=1]="Send"}(f||(f={}));t("default",S("UIWalletTokenItemView")(((k=function(t){function o(){var e;return(e=t.call(this)||this).btnCtrl=void 0,e.stateCtrl=void 0,e.tokenIcon=void 0,e.chainIcon=void 0,e.tokenName=void 0,e.tokenBalance=void 0,e.tokenBalanceUS=void 0,e.tokenPrice=void 0,e.chainName=void 0,e.mViewFrom=f.Funds,e.mCurShowData=null,e}e(o,t);var a=o.prototype;return a.onConstruct=function(){this.btnCtrl=this.getController("button"),this.stateCtrl=this.getController("State"),this.tokenIcon=this.getChild("ui_TokenIcon"),this.chainIcon=this.getChild("ui_ChainIcon"),this.tokenName=this.getChild("title"),this.tokenBalance=this.getChild("ui_BalanceValue1"),this.tokenBalanceUS=this.getChild("ui_BalanceValue2"),this.tokenPrice=this.getChild("ui_SinglePrice"),this.chainName=this.getChild("ui_ChainName"),this.onClick(this._onTokenItemClick,this)},a._onTokenItemClick=function(){m.PlaySound_UICommonClick(),null!=this.mCurShowData&&(this.mViewFrom===f.Funds?h.emit(u.UI_WALLET_TOKEN_DETAIL_OPEN,this.mCurShowData.key):this.mViewFrom===f.Send&&h.emit(u.UI_WALLET_SEND_DETAIL_OPEN,this.mCurShowData.key))},a.setTokenData=function(t,e){null!=t&&(this.mCurShowData=t,this.mViewFrom=e,this.mViewFrom===f.Funds?this.stateCtrl.selectedPage="ViewFunds":this.stateCtrl.selectedPage="Send",this._loadTokenIcon(),this._loadChainIcon(),this.tokenName.text=this.mCurShowData.config.symbol,this.chainName.text="[color=#343748]"+c(this.mCurShowData.chainId)+"[/color]",0===this.mCurShowData.price?this.tokenPrice.text="[color=#343748]$-[/color]":this.tokenPrice.text="[color=#343748]$"+this.mCurShowData.price.toFixed(2)+"[/color]",this.refreshTokenData())},a.refreshTokenData=function(){null!=this.mCurShowData&&(this.tokenBalance.text=d.NumberOmit(this.mCurShowData.balance.toString(),8,!0),0===this.mCurShowData.price?this.tokenBalanceUS.text="$-":this.tokenBalanceUS.text=d.NumberOmit(this.mCurShowData.usdValue.toString(),2,!0,"$"),0===this.mCurShowData.price?this.tokenPrice.text="[color=#343748]$-[/color]":this.tokenPrice.text="[color=#343748]$"+this.mCurShowData.price.toFixed(2)+"[/color]")},a._loadTokenIcon=function(){var t=n(i().mark((function t(){var e,n;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.mCurShowData.config.icon,t.next=3,l.instance.loadChainIcon(e);case 3:if(n=t.sent,r(this.node)){t.next=6;break}return t.abrupt("return");case 6:if(e===this.mCurShowData.config.icon){t.next=8;break}return t.abrupt("return");case 8:this.tokenIcon.texture=n;case 9:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),a._loadChainIcon=function(){var t=n(i().mark((function t(){var e,n;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.mCurShowData.chainIconUrl,t.next=3,l.instance.loadChainIcon(e);case 3:if(n=t.sent,r(this.node)){t.next=6;break}return t.abrupt("return");case 6:if(e===this.mCurShowData.chainIconUrl){t.next=8;break}return t.abrupt("return");case 8:this.chainIcon.texture=n;case 9:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),o}(s)).URL="ui://WizardWallet/listbar_WalletToken",C=k))||C);o._RF.pop()}}}));

System.register("chunks:///_virtual/ui.wallet.transaction.controller.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./chain.history.manager.ts","./event.dispatcher.ts","./event.name.ts","./sound.helper.ts","./ui.base.controller.ts"],(function(t){"use strict";var n,i,e,s,a,o,r,c,l,h,u,m,_,v,p;return{setters:[function(t){n=t.inheritsLoose,i=t.createClass,e=t.asyncToGenerator,s=t.regeneratorRuntime},function(t){a=t.cclegacy,o=t._decorator,r=t.input,c=t.Input,l=t.KeyCode},function(t){h=t.UIPackage},function(t){u=t.ChainHistoryManager},function(t){m=t.EventDispatcher},function(t){_=t.EventName},function(t){v=t.SoundHelper},function(t){p=t.UIBaseController}],execute:function(){var f,w;a._RF.push({},"3db646wtK5J1bFhIosLWYPt","ui.wallet.transaction.controller",void 0);var y=o.ccclass;t("UIWalletTransactionController",y("UIWalletTransactionController")(((w=function(t){function a(){for(var n,i=arguments.length,e=new Array(i),s=0;s<i;s++)e[s]=arguments[s];return(n=t.call.apply(t,[this].concat(e))||this).mFguiPkgName="WizardWallet",n.mFguiMainViewName="Main_Transactions",n._view=null,n.mTransactionData=null,n.mChainID=0,n.mCoinSymbol="",n.mIsShowAll=!1,n}n(a,t);var o=a.prototype;return o._addEvents=function(){t.prototype._addEvents.call(this),r.on(c.EventType.KEY_DOWN,this._onKeyDown,this)},o._removeEvents=function(){t.prototype._removeEvents.call(this),r.off(c.EventType.KEY_DOWN,this._onKeyDown,this)},o._onKeyDown=function(t){switch(t.keyCode){case l.ESCAPE:this._onCloseClick()}},o.setData=function(t,n){t&&t?(this.mIsShowAll=!1,this.mChainID=t,this.mCoinSymbol=n):this.mIsShowAll=!0},o.onLoad=function(){a._instance=this,this._startLoadPkg(this.mFguiPkgName)},o.onDestroy=function(){t.prototype.onDestroy.call(this),a._instance=null},o.closeUI=function(){t.prototype.closeUI.call(this)},o.update=function(){this._view},o._onLoadUIFinish=function(){t.prototype._onLoadUIFinish.call(this),this._view=h.createObject(this.mFguiPkgName,this.mFguiMainViewName).asCom,this._addUIToRoot(this._view),this._view.makeFullScreen(),this._view.closeBtn.onClick(this._onCloseClick,this),this._view.transactionList.itemRenderer=this.renderTransactionItem.bind(this),this._view.transactionList.setVirtual(),this._initData()},o._onCloseClick=function(){var t=e(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:v.PlaySound_UICommonClose(),m.emit(_.UI_WALLET_TRANSACTION_CLOSE);case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),o._initData=function(){this._view.statusCtrl.selectedIndex=2,this._refreshTransactionList(),this.mIsShowAll?this._view.tipDesc.visible=!0:this._view.tipDesc.visible=!1},o._refreshTransactionList=function(t){if(void 0===t&&(t=!0),this.mTransactionData=[],this.mIsShowAll){var n,i=u.instance.getHistory();(n=this.mTransactionData).push.apply(n,i)}else{var e,s=u.instance.getHistoryBy(this.mChainID,this.mCoinSymbol);(e=this.mTransactionData).push.apply(e,s)}var a=this.mTransactionData.length;this._view.statusCtrl.selectedIndex=a<=0?1:0,this._view.transactionList.numItems!==a?this._view.transactionList.numItems=a:this._view.transactionList.refreshVirtualList(),t&&a>0&&this._view.transactionList.scrollToView(0)},o.renderTransactionItem=function(t,n){t>=this.mTransactionData.length||n.setTransactionData(this.mTransactionData[t])},i(a,null,[{key:"instance",get:function(){return this._instance}}]),a}(p)).CTRL_NAME="UIWalletTransactionController",w._instance=null,f=w))||f);a._RF.pop()}}}));

System.register("chunks:///_virtual/ui.wallet.transaction.item.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./chain.utils.ts","./sdk.manager.ts","./table.helper.ts","./sound.helper.ts","./time.system.ts","./common.tool.ts"],(function(t){"use strict";var e,i,a,s,h,o,n,r,u,l;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy,a=t._decorator},function(t){s=t.GButton},function(t){h=t.getChainTxUrl},function(t){o=t.SDKManager},function(t){n=t.TableHelper},function(t){r=t.SoundHelper},function(t){u=t.TimeSystem},function(t){l=t.CommonTool}],execute:function(){var c,d;i._RF.push({},"acbd6T2lr1Mlbjc9Qrk2rgi","ui.wallet.transaction.item.view",void 0);var m=a.ccclass;t("default",m("UIWalletTransactionItemView")(((d=function(t){function i(){var e;return(e=t.call(this)||this).btnCtrl=void 0,e.iconCtrl=void 0,e.type=void 0,e.address=void 0,e.amount=void 0,e.date=void 0,e.mCurShowData=null,e}e(i,t);var a=i.prototype;return a.onConstruct=function(){this.btnCtrl=this.getController("button"),this.iconCtrl=this.getController("IconType"),this.type=this.getChild("title"),this.address=this.getChild("ui_Address"),this.amount=this.getChild("ui_Value"),this.date=this.getChild("ui_Date"),this.onClick(this._onTransactionItemClick,this)},a._onTransactionItemClick=function(){if(r.PlaySound_UICommonClick(),null!=this.mCurShowData&&!(null==this.mCurShowData.txHash||this.mCurShowData.txHash.length<=0)){var t=h(BigInt(this.mCurShowData.chainId),this.mCurShowData.txHash[0]);o.instance.curSDKPlugin.openUrl(t)}},a.setTransactionData=function(t){if(null!=t){if(this.mCurShowData=t,this.mCurShowData.txHash.length>0?this.address.text=l.shortAddress(this.mCurShowData.txHash[0],6):this.address.text="","send_coin"===this.mCurShowData.type){this.iconCtrl.selectedPage="Sent",this.type.text=n.getI18nUIText("u.13501");var e=this.mCurShowData;this.amount.text=e.amount+" "+e.coinSymbol}else"mint_wizard"===this.mCurShowData.type?(this.iconCtrl.selectedPage="Mint",this.type.text=n.getI18nUIText("u.13511"),this.amount.text=""):"withdraw_wizard"===this.mCurShowData.type?(this.iconCtrl.selectedPage="Withdraw",this.type.text=n.getI18nUIText("u.13512"),this.amount.text=""):"withdraw_wizz"===this.mCurShowData.type?(this.iconCtrl.selectedPage="Withdraw",this.type.text=n.getI18nUIText("u.13513"),this.amount.text=""):"withdraw_item"===this.mCurShowData.type?(this.iconCtrl.selectedPage="Withdraw",this.type.text=n.getI18nUIText("u.13514"),this.amount.text=""):"deposit_wizard"===this.mCurShowData.type?(this.iconCtrl.selectedPage="Deposit",this.type.text=n.getI18nUIText("u.13515"),this.amount.text=""):"deposit_wizz"===this.mCurShowData.type?(this.iconCtrl.selectedPage="Deposit",this.type.text=n.getI18nUIText("u.13516"),this.amount.text=""):"deposit_item"===this.mCurShowData.type?(this.iconCtrl.selectedPage="Deposit",this.type.text=n.getI18nUIText("u.13517"),this.amount.text=""):"market_order_cancel"===this.mCurShowData.type||"market_sale_wizard"===this.mCurShowData.type||"market_buy_wizard"===this.mCurShowData.type||"market_sale_item"===this.mCurShowData.type||"market_buy_item"===this.mCurShowData.type?(this.iconCtrl.selectedPage="Marketplace",this.type.text="Marketplace",this.amount.text=""):"dex_swap"===this.mCurShowData.type?(this.iconCtrl.selectedPage="Swap",this.type.text=n.getI18nUIText("u.13505"),this.amount.text=""):"dex_liquidity_add"===this.mCurShowData.type?(this.iconCtrl.selectedPage="AddLiquidity",this.type.text=n.getI18nUIText("u.13506"),this.amount.text=""):"dex_liquidity_remove"===this.mCurShowData.type?(this.iconCtrl.selectedPage="RemoveLiquidity",this.type.text=n.getI18nUIText("u.13507"),this.amount.text=""):"lp_stake"===this.mCurShowData.type?(this.iconCtrl.selectedPage="Deposit",this.type.text=n.getI18nUIText("u.13508"),this.amount.text=""):"lp_unstake"===this.mCurShowData.type?(this.iconCtrl.selectedPage="Withdraw",this.type.text=n.getI18nUIText("u.13509"),this.amount.text=""):"lp_reward"===this.mCurShowData.type?(this.iconCtrl.selectedPage="CalledContract",this.type.text=n.getI18nUIText("u.13510"),this.amount.text=""):(this.iconCtrl.selectedPage="CalledContract",this.type.text=n.getI18nUIText("u.13502"),this.amount.text="");this.date.text=u.formatDateString(this.mCurShowData.timestamp)}},i}(s)).URL="ui://WizardWallet/listbar_Transactions",c=d))||c);i._RF.pop()}}}));

System.register("chunks:///_virtual/ui.wallet.transaction.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){"use strict";var i,s,n,e;return{setters:[function(t){i=t.inheritsLoose},function(t){s=t.cclegacy,n=t._decorator},function(t){e=t.GComponent}],execute:function(){var o,a;s._RF.push({},"b4477kxXz1IApivfZMZNcPw","ui.wallet.transaction.view",void 0);var r=n.ccclass;t("default",r("UIWalletTransactionView")(((a=function(t){function s(){var i;return(i=t.call(this)||this).statusCtrl=void 0,i.closeBtn=void 0,i.transactionList=void 0,i.tipDesc=void 0,i}return i(s,t),s.prototype.onConstruct=function(){this.statusCtrl=this.getController("Status"),this.closeBtn=this.getChild("ui_WindClose"),this.transactionList=this.getChild("ui_TransactionsList"),this.tipDesc=this.getChild("ui_TipLabel")},s}(e)).URL="ui://WizardWallet/Main_Transactions",o=a))||o);s._RF.pop()}}}));

System.register("chunks:///_virtual/ui.wallet.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){"use strict";var i,e,n,s;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy,n=t._decorator},function(t){s=t.GComponent}],execute:function(){var u,o;e._RF.push({},"318c77nVvdDnb6/3qCX7G7t","ui.wallet.view",void 0);var l=n.ccclass;t("default",l("UIWalletView")(((o=function(t){function e(){var i;return(i=t.call(this)||this).statusCtrl=void 0,i.wind=void 0,i.closeBtn=void 0,i.errorTipLabel=void 0,i.accountValue=void 0,i.accountCopyBtn=void 0,i.uidValue=void 0,i.faucetBtn=void 0,i.sendBtn=void 0,i.receiveBtn=void 0,i.swapBtn=void 0,i.itemList=void 0,i.linkBtn=void 0,i.reconnectBtn=void 0,i}return i(e,t),e.prototype.onConstruct=function(){this.statusCtrl=this.getController("Status"),this.closeBtn=this.getChild("ui_WindClose"),this.errorTipLabel=this.getChild("ui_NoneLabel"),this.wind=this.getChild("ui_DetailsGp"),this.accountValue=this.wind.getChild("ui_AccountValue"),this.accountCopyBtn=this.wind.getChild("ui_BtnAccountCopy"),this.uidValue=this.wind.getChild("ui_UidValue"),this.faucetBtn=this.wind.getChild("ui_BtnFaucet"),this.sendBtn=this.wind.getChild("ui_BtnSend"),this.receiveBtn=this.wind.getChild("ui_BtnReceive"),this.swapBtn=this.wind.getChild("ui_BtnSwap"),this.itemList=this.wind.getChild("ui_FundsList"),this.linkBtn=this.getChild("ui_Link"),this.reconnectBtn=this.getChild("ui_BtnReconnect")},e}(s)).URL="ui://WizardWallet/Main_WalletDetails",u=o))||u);e._RF.pop()}}}));

System.register("chunks:///_virtual/ui.worker.awakening.controller.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./event.dispatcher.ts","./event.name.ts","./resource.manager.ts","./table.helper.ts","./model.worker.manager.ts","./net.helper.ts","./farm.client.protocol.ts","./sound.helper.ts","./logic.tool.ts","./ui.float.text.controller.ts","./ui.base.controller.ts"],(function(e){"use strict";var r,i,t,o,a,n,s,l,k,c,h,m,_,d,v,W,y,u,w,S,D,I;return{setters:[function(e){r=e.inheritsLoose,i=e.createClass},function(e){t=e.cclegacy,o=e._decorator,a=e.input,n=e.Input,s=e.KeyCode,l=e.isValid,k=e.v2},function(e){c=e.UIPackage,h=e.Event},function(e){m=e.EventDispatcher},function(e){_=e.EventName},function(e){d=e.ResourceManager},function(e){v=e.TableHelper},function(e){W=e.ModelWorkerManager},function(e){y=e.NetHelper},function(e){u=e.enumWorkerState},function(e){w=e.SoundHelper},function(e){S=e.LogicTool},function(e){D=e.UIFloatTextController},function(e){I=e.UIBaseController}],execute:function(){var p,f;t._RF.push({},"2ba5epDI21FiL9RdCo0kUli","ui.worker.awakening.controller",void 0);var L=o.ccclass;e("UIWorkerAwakeningController",L("UIWorkerAwakeningController")(((f=function(e){function t(){for(var r,i=arguments.length,t=new Array(i),o=0;o<i;o++)t[o]=arguments[o];return(r=e.call.apply(e,[this].concat(t))||this).mFguiPkgName="WorkerAwakening",r.mFguiMainViewName="Main",r._view=null,r.mPrimaryWorkerData=null,r.mSecondaryWorkerData=null,r.mWorkerData=[],r.mNeedLevel=0,r.mIsOpenWorkerList=!1,r}r(t,e);var o=t.prototype;return o.setWorker=function(e){this.mPrimaryWorkerData=e},o._addEvents=function(){e.prototype._addEvents.call(this),a.on(n.EventType.KEY_DOWN,this._onKeyDown,this),m.on(_.WORKER_LIST_LEVELUP_ITEM,this._onWorkerListLevelupItem,this)},o._removeEvents=function(){e.prototype._removeEvents.call(this),a.off(n.EventType.KEY_DOWN,this._onKeyDown,this),m.off(_.WORKER_LIST_LEVELUP_ITEM,this._onWorkerListLevelupItem,this)},o._onKeyDown=function(e){switch(e.keyCode){case s.ESCAPE:this._onCloseClick()}},o._onWorkerListLevelupItem=function(e){l(this.node)&&null!=this.mPrimaryWorkerData&&e===this.mPrimaryWorkerData.WorkerData.workerID&&(m.emit(_.UI_WORKER_AWAKENING_SUCC_OPEN,this.mPrimaryWorkerData),m.emit(_.UI_WORKER_AWAKENING_CLOSE))},o.onLoad=function(){t._instance=this,this._startLoadPkg(this.mFguiPkgName)},o.onDestroy=function(){e.prototype.onDestroy.call(this),t._instance=null},o.closeUI=function(){e.prototype.closeUI.call(this)},o.update=function(){this._view},o._onLoadUIFinish=function(){e.prototype._onLoadUIFinish.call(this),this._view=c.createObject(this.mFguiPkgName,this.mFguiMainViewName).asCom,this._addUIToRoot(this._view),this._view.makeFullScreen(),this._view.closeBtn.onClick(this._onUICloseClick,this),this._view.addWorkerBtn.onClick(this._onAddWorkerClick,this),this._view.awakeningBtn.onClick(this._onAwakeningClick,this),this._view.workerList.itemRenderer=this.renderWorkerListItem.bind(this),this._view.workerList.setVirtual(),this._view.workerList.on(h.CLICK_ITEM,this._onWorkerListItemClick,this),this._initData()},o._onUICloseClick=function(){this.mIsOpenWorkerList?(w.PlaySound_UICommonClose(),this._closeWorkerList()):this._onCloseClick()},o._onCloseClick=function(){w.PlaySound_UICommonClose(),m.emit(_.UI_WORKER_AWAKENING_CLOSE)},o._onAddWorkerClick=function(){w.PlaySound_UICommonClick(),this._openWorkerList()},o._onAwakeningClick=function(){if(w.PlaySound_UICommonClick(),null!=this.mPrimaryWorkerData)if(null!=this.mSecondaryWorkerData)if(this.mSecondaryWorkerData.WorkerData.roleState!==u.eWorkerState_3){var e=[this.mSecondaryWorkerData.WorkerData.workerID];y.upgradeWorker(this.mPrimaryWorkerData.WorkerData.workerID,0,e)}else D.AddTipI18nID_Info("u.2538");else D.AddTipI18nID_Info("u.2506")},o._onWorkerListItemClick=function(e){w.PlaySound_UICommonClick();var r=e.WorkerID;this.mSecondaryWorkerData=W.instance.getWorkerDataByID(r),this._refreshSecondaryWorkerData(),this._closeWorkerList()},o._initData=function(){this._refreshPrimaryWorkerData(),this._refreshSecondaryWorkerData(),this._closeWorkerList()},o._refreshPrimaryWorkerData=function(){if(null!=this.mPrimaryWorkerData){var e=v.getWorkerData(this.mPrimaryWorkerData.WorkerData.roleID);if(null!=e){var r=v.getWorkerLevel(this.mPrimaryWorkerData.WorkerData.roleLevel);if(null!=r){this._loadPrimaryModelShow(e.resModelPath),this._setPrimaryWorkerStar(r.star),this._view.primaryType.setWorkType(this.mPrimaryWorkerData.WorkerData.roleWorkBuilding),this._view.primaryMajor.setMajorType(this.mPrimaryWorkerData.skillHighestLevel),this._view.primaryExploration.setExplorationType(this.mPrimaryWorkerData.WorkerData.roleState),this._view.primaryName.text=e.workerName,this._view.primaryLevel.text=S.i18nFormat(v.getI18nUIText("u.10102"),[r.showLevel.toString()]),this._setPrimaryWorkerSkill(),this.mNeedLevel=0;var i=r.costWorker.split("-");2===i.length&&(this.mNeedLevel=Number.parseInt(i[1]))}}}},o._loadPrimaryModelShow=function(e){var r=this;d.instance.loadAvatarSkeletonData(e).then((function(e){l(r.node)&&(r._view.primaryIcon&&r._view.primaryIcon.node&&r._view.primaryIcon.node.scale&&r._view.primaryIcon.setScale(2.5,2.5),r._view.primaryIcon.clearContent(),r._view.primaryIcon.skinName=e.defaultSkin,0===r.mPrimaryWorkerData.WorkerData.roleWorkBuilding?r._view.primaryIcon.animationName="idle":r._view.primaryIcon.animationName="doing",r._view.primaryIcon.setSpine(e.skeletonData,k(30,50)))}))},o._setPrimaryWorkerStar=function(e){this._view.primaryStar.removeChildren();for(var r=0;r<e;r++)this._view.primaryStar.addItem()},o._setPrimaryWorkerSkill=function(){if(this.mPrimaryWorkerData.isSkillLock())this._view.primarySkillList.visible=!1,this._view.primaryNoSkillTip.visible=!0;else{this._view.primarySkillList.visible=!0,this._view.primaryNoSkillTip.visible=!1;var e=this.mPrimaryWorkerData.getSkillList();this._view.primarySkillList.removeChildren();for(var r=0;r<e.length;r++){var i=this._view.primarySkillList.addItem();i.width=40,i.height=40,i.setSkillData(e[r])}}},o._refreshSecondaryWorkerData=function(){if(null==this.mSecondaryWorkerData)return this._view.isSelectedCtrl.selectedIndex=0,this._view.secondarySkillList.visible=!1,void(this._view.secondaryNoSkillTip.visible=!1);this._view.isSelectedCtrl.selectedIndex=1;var e=v.getWorkerData(this.mSecondaryWorkerData.WorkerData.roleID);if(null!=e){var r=v.getWorkerLevel(this.mSecondaryWorkerData.WorkerData.roleLevel);null!=r&&(this._loadSecondaryModelShow(e.resModelPath),this._setSecondaryWorkerStar(r.star),this._view.secondaryType.setWorkType(this.mSecondaryWorkerData.WorkerData.roleWorkBuilding),this._view.secondaryMajor.setMajorType(this.mSecondaryWorkerData.skillHighestLevel),this._view.secondaryExploration.setExplorationType(this.mSecondaryWorkerData.WorkerData.roleState),this._view.secondaryName.text=e.workerName,this._view.secondaryLevel.text=S.i18nFormat(v.getI18nUIText("u.10102"),[r.showLevel.toString()]),this._setSecondaryWorkerSkill())}},o._loadSecondaryModelShow=function(e){var r=this;d.instance.loadAvatarSkeletonData(e).then((function(e){l(r.node)&&(r._view.secondaryIcon&&r._view.secondaryIcon.node&&r._view.secondaryIcon.node.scale&&r._view.secondaryIcon.setScale(2.5,2.5),r._view.secondaryIcon.clearContent(),r._view.secondaryIcon.skinName=e.defaultSkin,0===r.mSecondaryWorkerData.WorkerData.roleWorkBuilding?r._view.secondaryIcon.animationName="idle":r._view.secondaryIcon.animationName="doing",r._view.secondaryIcon.setSpine(e.skeletonData,k(30,50)))}))},o._setSecondaryWorkerStar=function(e){this._view.secondaryStar.removeChildren();for(var r=0;r<e;r++)this._view.secondaryStar.addItem()},o._setSecondaryWorkerSkill=function(){if(this.mSecondaryWorkerData.isSkillLock())this._view.secondarySkillList.visible=!1,this._view.secondaryNoSkillTip.visible=!0;else{this._view.secondarySkillList.visible=!0,this._view.secondaryNoSkillTip.visible=!1;var e=this.mSecondaryWorkerData.getSkillList();this._view.secondarySkillList.removeChildren();for(var r=0;r<e.length;r++){var i=this._view.secondarySkillList.addItem();i.width=40,i.height=40,i.setSkillData(e[r])}}},o._openWorkerList=function(){this._view.awakeningWind.visible=!1,this._view.workerListWind.visible=!0,this._refreshWorkerList(),this.mIsOpenWorkerList=!0},o._closeWorkerList=function(){this._view.awakeningWind.visible=!0,this._view.workerListWind.visible=!1,this.mIsOpenWorkerList=!1},o._refreshWorkerList=function(e){void 0===e&&(e=!0),this._view.isNoneCtrl.selectedIndex=2;var r=W.instance.getWorkerList();this.mWorkerData=[];for(var i=0;i<r.length;i++)r[i].WorkerData.roleLevel===this.mNeedLevel&&r[i].WorkerData.workerID!==this.mPrimaryWorkerData.WorkerData.workerID&&(r[i].WorkerData.roleState!==u.eWorkerState_Null&&r[i].WorkerData.roleState!==u.eWorkerState_3||this.mWorkerData.push(r[i]));var t=this.mWorkerData.length;this._view.isNoneCtrl.selectedIndex=t<=0?1:0,this._view.workerList.numItems!==t?this._view.workerList.numItems=t:this._view.workerList.refreshVirtualList(),e&&this._view.workerList.scrollToView(0)},o.renderWorkerListItem=function(e,r){e>=this.mWorkerData.length||r.setWorkerData(this.mWorkerData[e])},i(t,null,[{key:"instance",get:function(){return this._instance}}]),t}(I)).CTRL_NAME="UIWorkerAwakeningController",f._instance=null,p=f))||p);t._RF.pop()}}}));

System.register("chunks:///_virtual/ui.worker.awakening.list.item.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./resource.manager.ts","./table.helper.ts","./logic.tool.ts"],(function(r){"use strict";var e,t,o,i,a,l,n,s,k,h;return{setters:[function(r){e=r.inheritsLoose,t=r.createClass},function(r){o=r.cclegacy,i=r._decorator,a=r.isValid,l=r.v2},function(r){n=r.GButton},function(r){s=r.ResourceManager},function(r){k=r.TableHelper},function(r){h=r.LogicTool}],execute:function(){var u,w;o._RF.push({},"0e7cdZ3vjtCPp9On5B94X0Z","ui.worker.awakening.list.item.view",void 0);var c=i.ccclass;r("default",c("UIWorkerAwakeningListItemView")(((w=function(r){function o(){var e;return(e=r.call(this)||this).btnCtrl=void 0,e.workerIcon=void 0,e.workerStar=void 0,e.workerLevel=void 0,e.workerType=void 0,e.workerExploration=void 0,e.workerMajor=void 0,e.workerSkillList=void 0,e.workerNoSkillTip=void 0,e.mCurShowData=void 0,e}e(o,r);var i=o.prototype;return i.onConstruct=function(){this.btnCtrl=this.getController("button"),this.workerIcon=this.getChild("ui_WorkerIcon"),this.workerStar=this.getChild("ui_AwakenStar"),this.workerLevel=this.getChild("ui_WorkerLevel"),this.workerType=this.getChild("ui_WorkerSkill"),this.workerExploration=this.getChild("ui_WorkerExploration"),this.workerMajor=this.getChild("ui_PatternBg"),this.workerSkillList=this.getChild("ui_MajorSkillList"),this.workerNoSkillTip=this.getChild("ui_NoMajorSkillTip")},i.setWorkerData=function(r){if(null!=r){this.mCurShowData=r;var e=k.getWorkerData(this.mCurShowData.WorkerData.roleID);if(null!=e){var t=k.getWorkerLevel(this.mCurShowData.WorkerData.roleLevel);null!=t&&(this._loadModelShow(e.resModelPath),this._setWorkerStar(t.star),this.workerLevel.text=h.i18nFormat(k.getI18nUIText("u.10102"),[t.showLevel.toString()]),this.workerType.setWorkType(this.mCurShowData.WorkerData.roleWorkBuilding),this.workerMajor.setMajorType(this.mCurShowData.skillHighestLevel),this.workerExploration.setExplorationType(this.mCurShowData.WorkerData.roleState),this._setWorkerSkill())}}},i._setWorkerStar=function(r){this.workerStar.removeChildren();for(var e=0;e<r;e++)this.workerStar.addItem()},i._setWorkerSkill=function(){if(this.mCurShowData.isSkillLock())this.workerSkillList.visible=!1,this.workerNoSkillTip.visible=!0;else{this.workerSkillList.visible=!0,this.workerNoSkillTip.visible=!1;var r=this.mCurShowData.getSkillList();this.workerSkillList.removeChildren();for(var e=0;e<5;e++){var t=this.workerSkillList.addItem();t.width=58,t.height=58,e<r.length?t.setSkillData(r[e],!1):t.setNullData()}}},i._loadModelShow=function(r){var e=this;s.instance.loadAvatarSkeletonData(r).then((function(r){a(e.node)&&(e.workerIcon&&e.workerIcon.node&&e.workerIcon.node.scale&&e.workerIcon.setScale(2.2,2.2),e.workerIcon.clearContent(),e.workerIcon.skinName=r.defaultSkin,0===e.mCurShowData.WorkerData.roleWorkBuilding?e.workerIcon.animationName="idle":e.workerIcon.animationName="doing",e.workerIcon.setSpine(r.skeletonData,l(30,50)))}))},t(o,[{key:"WorkerID",get:function(){return null==this.mCurShowData?"0":this.mCurShowData.WorkerData.workerID}}]),o}(n)).URL="ui://WorkerAwakening/listbar_awakeningworker",u=w))||u);o._RF.pop()}}}));

System.register("chunks:///_virtual/ui.worker.awakening.succ.controller.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./event.dispatcher.ts","./event.name.ts","./resource.manager.ts","./table.helper.ts","./sound.helper.ts","./ui.base.controller.ts"],(function(e){"use strict";var n,t,a,i,r,o,s,c,l,u,k,h,w,_,g,v,p,f;return{setters:[function(e){n=e.inheritsLoose,t=e.createClass,a=e.asyncToGenerator,i=e.regeneratorRuntime},function(e){r=e.cclegacy,o=e._decorator,s=e.input,c=e.Input,l=e.KeyCode,u=e.isValid,k=e.v2},function(e){h=e.UIPackage},function(e){w=e.EventDispatcher},function(e){_=e.EventName},function(e){g=e.ResourceManager},function(e){v=e.TableHelper},function(e){p=e.SoundHelper},function(e){f=e.UIBaseController}],execute:function(){var d,m;r._RF.push({},"76c21VNtPtKG7ZW+yH187TF","ui.worker.awakening.succ.controller",void 0);var C=o.ccclass;e("UIWorkerAwakeningSuccController",C("UIWorkerAwakeningSuccController")(((m=function(e){function r(){for(var n,t=arguments.length,a=new Array(t),i=0;i<t;i++)a[i]=arguments[i];return(n=e.call.apply(e,[this].concat(a))||this).mFguiPkgName="WorkerAwakening",n.mFguiMainViewName="Main_awakening_ani",n._view=null,n.mAwakeningWorkerData=null,n}n(r,e);var o=r.prototype;return o.setWorker=function(e){this.mAwakeningWorkerData=e},o._addEvents=function(){e.prototype._addEvents.call(this),s.on(c.EventType.KEY_DOWN,this._onKeyDown,this)},o._removeEvents=function(){e.prototype._removeEvents.call(this),s.off(c.EventType.KEY_DOWN,this._onKeyDown,this)},o._onKeyDown=function(e){switch(e.keyCode){case l.ESCAPE:this._onCloseClick()}},o.onLoad=function(){r._instance=this,this._startLoadPkg(this.mFguiPkgName)},o.onDestroy=function(){e.prototype.onDestroy.call(this),r._instance=null},o.closeUI=function(){e.prototype.closeUI.call(this)},o.update=function(){this._view},o._onLoadUIFinish=function(){e.prototype._onLoadUIFinish.call(this),this._view=h.createObject(this.mFguiPkgName,this.mFguiMainViewName).asCom,this._addUIToRoot(this._view),this._view.makeFullScreen(),this._view.maskBtn.onClick(this._onCloseClick,this),this._showData()},o._onCloseClick=function(){p.PlaySound_UICommonClose(),w.emit(_.UI_WORKER_AWAKENING_SUCC_CLOSE)},o._showData=function(){var e=a(i().mark((function e(){var n,t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=(n=v.getWorkerData(this.mAwakeningWorkerData.WorkerData.roleID))){e.next=3;break}return e.abrupt("return");case 3:if(null!=(t=v.getWorkerLevel(this.mAwakeningWorkerData.WorkerData.roleLevel))){e.next=6;break}return e.abrupt("return");case 6:this._loadAwakeningModelShow(n.resModelPath),e.t0=t.star,e.next=1===e.t0?10:2===e.t0?12:3===e.t0?14:16;break;case 10:return this._view.stateCtrl.selectedPage="Star1",e.abrupt("break",18);case 12:return this._view.stateCtrl.selectedPage="Star2",e.abrupt("break",18);case 14:return this._view.stateCtrl.selectedPage="Star3",e.abrupt("break",18);case 16:return this._view.stateCtrl.selectedPage="Star1",e.abrupt("break",18);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),o._loadAwakeningModelShow=function(e){var n=this;g.instance.loadAvatarSkeletonData(e).then((function(e){u(n.node)&&(n._view.awakeningIcon&&n._view.awakeningIcon.node&&n._view.awakeningIcon.node.scale&&n._view.awakeningIcon.setScale(3.8,3.8),n._view.awakeningIcon.clearContent(),n._view.awakeningIcon.skinName=e.defaultSkin,n._view.awakeningIcon.animationName="idle",n._view.awakeningIcon.setSpine(e.skeletonData,k(30,50)))}))},t(r,null,[{key:"instance",get:function(){return this._instance}}]),r}(f)).CTRL_NAME="UIWorkerAwakeningSuccController",m._instance=null,d=m))||d);r._RF.pop()}}}));

System.register("chunks:///_virtual/ui.worker.awakening.succ.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){"use strict";var n,i,e,r;return{setters:[function(t){n=t.inheritsLoose},function(t){i=t.cclegacy,e=t._decorator},function(t){r=t.GComponent}],execute:function(){var o,a;i._RF.push({},"f98fblEzgFEZK4l+lSgW2q0","ui.worker.awakening.succ.view",void 0);var s=e.ccclass;t("default",s("UIWorkerAwakeningSuccView")(((a=function(t){function i(){var n;return(n=t.call(this)||this).stateCtrl=void 0,n.maskBtn=void 0,n.awakeningIcon=void 0,n}return n(i,t),i.prototype.onConstruct=function(){this.stateCtrl=this.getController("AniState"),this.maskBtn=this.getChild("mask"),this.awakeningIcon=this.getChild("ui_WorkerIcon")},i}(r)).URL="ui://WorkerAwakening/Main_awakening_ani",o=a))||o);i._RF.pop()}}}));

System.register("chunks:///_virtual/ui.worker.awakening.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(i){"use strict";var e,n,t,r;return{setters:[function(i){e=i.inheritsLoose},function(i){n=i.cclegacy,t=i._decorator},function(i){r=i.GComponent}],execute:function(){var a,o;n._RF.push({},"32b59WiO2VGvJLgGxPng8r/","ui.worker.awakening.view",void 0);var s=t.ccclass;i("default",s("UIWorkerAwakeningView")(((o=function(i){function n(){var e;return(e=i.call(this)||this).isNoneCtrl=void 0,e.isSelectedCtrl=void 0,e.closeBtn=void 0,e.awakeningWind=void 0,e.primaryIcon=void 0,e.primaryName=void 0,e.primaryStar=void 0,e.primaryLevel=void 0,e.primaryType=void 0,e.primaryExploration=void 0,e.primaryMajor=void 0,e.primarySkillList=void 0,e.primaryNoSkillTip=void 0,e.secondaryIcon=void 0,e.secondaryName=void 0,e.secondaryStar=void 0,e.secondaryLevel=void 0,e.secondaryType=void 0,e.secondaryExploration=void 0,e.secondaryMajor=void 0,e.secondarySkillList=void 0,e.secondaryNoSkillTip=void 0,e.addWorkerBtn=void 0,e.awakeningBtn=void 0,e.workerListWind=void 0,e.workerList=void 0,e}return e(n,i),n.prototype.onConstruct=function(){this.awakeningWind=this.getChild("AwakeningBg"),this.isSelectedCtrl=this.awakeningWind.getController("IsSelected"),this.workerListWind=this.getChild("ui_AwakeningList"),this.isNoneCtrl=this.workerListWind.getController("IsNone"),this.closeBtn=this.getChild("ui_WindClose"),this.primaryIcon=this.awakeningWind.getChild("ui_WorkerIcon1"),this.primaryName=this.awakeningWind.getChild("ui_WorkerName1"),this.primaryStar=this.awakeningWind.getChild("ui_AwakenStar1"),this.primaryLevel=this.awakeningWind.getChild("ui_WorkerLevel1"),this.primaryType=this.awakeningWind.getChild("ui_WorkerSkill1"),this.primaryExploration=this.awakeningWind.getChild("ui_WorkerExploration1"),this.primaryMajor=this.awakeningWind.getChild("ui_PatternBg1"),this.primarySkillList=this.awakeningWind.getChild("ui_MajorSkillList1"),this.primaryNoSkillTip=this.awakeningWind.getChild("ui_NoMajorSkillTip1"),this.secondaryIcon=this.awakeningWind.getChild("ui_WorkerIcon2"),this.secondaryName=this.awakeningWind.getChild("ui_WorkerName2"),this.secondaryStar=this.awakeningWind.getChild("ui_AwakenStar2"),this.secondaryLevel=this.awakeningWind.getChild("ui_WorkerLevel2"),this.secondaryType=this.awakeningWind.getChild("ui_WorkerSkill2"),this.secondaryExploration=this.awakeningWind.getChild("ui_WorkerExploration2"),this.secondaryMajor=this.awakeningWind.getChild("ui_PatternBg2"),this.secondarySkillList=this.awakeningWind.getChild("ui_MajorSkillList2"),this.secondaryNoSkillTip=this.awakeningWind.getChild("ui_NoMajorSkillTip2"),this.workerList=this.workerListWind.getChild("ui_FundsList"),this.addWorkerBtn=this.awakeningWind.getChild("ui_BtnSelect"),this.awakeningBtn=this.awakeningWind.getChild("ui_BtnAwakening")},n}(r)).URL="ui://WorkerAwakening/Main",a=o))||a);n._RF.pop()}}}));

System.register("chunks:///_virtual/ui.worker.chain.type.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./enum.chain.type.ts"],(function(t){"use strict";var e,i,n,r,o;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy,n=t._decorator},function(t){r=t.GButton},function(t){o=t.EChainType}],execute:function(){var c,s;i._RF.push({},"6756273yeVFnqnx7nm3IRgB","ui.worker.chain.type.view",void 0);var u=n.ccclass;t("default",u("UIWorkerChainTypeView")(((s=function(t){function i(){var e;return(e=t.call(this)||this).typeCtrl=void 0,e}e(i,t);var n=i.prototype;return n.onConstruct=function(){this.typeCtrl=this.getController("ChainType")},n.setChainType=function(t){switch(t){case o.Bera:this.visible=!0,this.typeCtrl.selectedPage="Bera";break;default:this.visible=!1}},i}(r)).URL="ui://Common/chaintype",c=s))||c);i._RF.pop()}}}));

System.register("chunks:///_virtual/ui.worker.detail.controller.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./enum.chain.type.ts","./chain.utils.ts","./event.dispatcher.ts","./event.name.ts","./plugin.settings.ts","./enum.farm.building.type.ts","./new.guide.manager.ts","./resource.manager.ts","./table.helper.ts","./model.chain.order.manager.ts","./model.farm.manager.ts","./model.worker.manager.ts","./net.helper.ts","./farm.client.protocol.ts","./sound.helper.ts","./time.system.ts","./logic.tool.ts","./resource.path.tool.ts","./ui.float.text.controller.ts","./ui.message.box.controller.ts","./ui.base.controller.ts"],(function(e){"use strict";var t,i,r,n,o,s,a,l,k,h,_,c,u,m,v,W,w,d,I,f,g,D,C,S,B,p,E,L,b,R,T,y;return{setters:[function(e){t=e.inheritsLoose,i=e.createClass},function(e){r=e.cclegacy,n=e._decorator,o=e.input,s=e.Input,a=e.KeyCode,l=e.Color,k=e.isValid,h=e.v2},function(e){_=e.UIPackage},function(e){c=e.EChainType},function(e){u=e.getChainSymbol},function(e){m=e.EventDispatcher},function(e){v=e.EventName},function(e){W=e.PluginSettings},function(e){w=e.EFarmBuildingType},function(e){d=e.NewGuideManager},function(e){I=e.ResourceManager},function(e){f=e.TableHelper},function(e){g=e.ModelChainOrderManager},function(e){D=e.ModelFarmManager},function(e){C=e.ModelWorkerManager},function(e){S=e.NetHelper},function(e){B=e.enumWorkerState},function(e){p=e.SoundHelper},function(e){E=e.TimeSystem},function(e){L=e.LogicTool},function(e){b=e.ResourcePathTool},function(e){R=e.UIFloatTextController},function(e){T=e.UIMessageBoxController},function(e){y=e.UIBaseController}],execute:function(){var U,M;r._RF.push({},"8d116Hk/apLN55cqmUiQvKh","ui.worker.detail.controller",void 0);var A=n.ccclass;e("UIWorkerDetailController",A("UIWorkerDetailController")(((M=function(e){function r(){for(var t,i=arguments.length,r=new Array(i),n=0;n<i;n++)r[n]=arguments[n];return(t=e.call.apply(e,[this].concat(r))||this).mFguiPkgName="Details_Wizard",t.mFguiMainViewName="Main",t._view=null,t.mWorkerData=null,t}t(r,e);var n=r.prototype;return n._addEvents=function(){e.prototype._addEvents.call(this),o.on(s.EventType.KEY_DOWN,this._onKeyDown,this),m.on(v.WORKER_LIST_REMOVE_ITEM,this._onWorkerListRemoveItem,this),m.on(v.WORKER_LIST_UPDATE_ITEM,this._onWorkerListUpdateItem,this),m.on(v.WORKER_LIST_LEVELUP_ITEM,this._onWorkerListLevelupItem,this),m.on(v.WORKER_LIST_REFRESH_STATE_ITEM,this._onWorkerListRefreshStateItem,this)},n._removeEvents=function(){e.prototype._removeEvents.call(this),o.off(s.EventType.KEY_DOWN,this._onKeyDown,this),m.off(v.WORKER_LIST_REMOVE_ITEM,this._onWorkerListRemoveItem,this),m.off(v.WORKER_LIST_UPDATE_ITEM,this._onWorkerListUpdateItem,this),m.off(v.WORKER_LIST_LEVELUP_ITEM,this._onWorkerListLevelupItem,this),m.off(v.WORKER_LIST_REFRESH_STATE_ITEM,this._onWorkerListRefreshStateItem,this)},n._onKeyDown=function(e){switch(e.keyCode){case a.ESCAPE:if(d.instance.IsInGuideScene)return;this._onCloseClick()}},n._onWorkerListRemoveItem=function(e){e&&null!=this._view&&null!=this.mWorkerData&&e===this.mWorkerData.WorkerData.workerID&&this._onCloseClick()},n._onWorkerListUpdateItem=function(e){e&&null!=this._view&&null!=this.mWorkerData&&e===this.mWorkerData.WorkerData.workerID&&(this._refreshWorkerData(),this._refreshWorkerAttr(),this._refreshWorkerSkill(),this._refreshWorkerBtnShow())},n._onWorkerListLevelupItem=function(e){e&&null!=this._view&&null!=this.mWorkerData&&e===this.mWorkerData.WorkerData.workerID&&(this._refreshWorkerData(),this._refreshWorkerAttr(),this._refreshWorkerBtnShow(),this._refreshDismissReturnValue(),31===this.mWorkerData.WorkerData.roleLevel&&this._refreshWorkerSkill())},n._onWorkerListRefreshStateItem=function(e){e&&null!=this._view&&null!=this.mWorkerData&&e===this.mWorkerData.WorkerData.workerID&&(this._refreshWorkerData(),this._refreshWorkerBtnShow(),this._refreshWorkRoomBtnShow())},n.setWorker=function(e){this.mWorkerData=e},n.onLoad=function(){r._instance=this,this._startLoadPkg(this.mFguiPkgName)},n.onDestroy=function(){e.prototype.onDestroy.call(this),r._instance=null},n.closeUI=function(){e.prototype.closeUI.call(this)},n.update=function(){if(null!==this._view&&null!==this.mWorkerData&&this.mWorkerData.WorkerData.roleState===B.eWorkerState_1){var e=g.instance.getWorkerChainOrder(this.mWorkerData.WorkerData.workerID);if(e){var t=Number(e.orderTimeout)-E.instance.getTimestamp();this._view.lockTime.text=t>0?E.formatTimeString(t,!1):E.formatTimeString(0,!1)}}},n._onLoadUIFinish=function(){e.prototype._onLoadUIFinish.call(this),this._view=_.createObject(this.mFguiPkgName,this.mFguiMainViewName).asCom,this._addUIToRoot(this._view),this._view.makeFullScreen(),this._view.closeBtn.onClick(this._onCloseBtnClick,this),this._view.workerInfoBtn.onClick(this._onWorkerInfoClick,this),this._view.skillView.unlockBtn.onClick(this._onWorkerSkillUnlockClick,this),this._view.upgradeBtn.onClick(this._onUpgradeClick,this),this._view.awakeningBtn.onClick(this._onAwakeningClick,this),this._view.workBtn.onClick(this._onWorkClick,this),this._view.majorBtn.onClick(this._onMajorRetrainClick,this),this._view.synthesizeBtn.onClick(this._onSynthesizeClick,this),this._view.dismissBtn.onClick(this._onDismissClick,this),this._view.mintBtn.onClick(this._onMintClick,this),this._view.building1Btn.onClick(this._onWorkBuilding1Click,this),this._view.building2Btn.onClick(this._onWorkBuilding2Click,this),this._view.building3Btn.onClick(this._onWorkBuilding3Click,this),this._view.building1CancelBtn.onClick(this._onWorkBuildingCancelClick,this),this._view.building2CancelBtn.onClick(this._onWorkBuildingCancelClick,this),this._view.building3CancelBtn.onClick(this._onWorkBuildingCancelClick,this),this._view.dismissConfirmBtn.onClick(this._onDismissConfirmClick,this),this._initData()},n._onCloseClick=function(){p.PlaySound_UICommonClose(),m.emit(v.UI_WORKER_DETAIL_CLOSE),m.emit(v.UI_WORKER_ITEM_SELECTED,"0"),d.instance.IsInGuideScene&&d.instance.NextStep()},n._onCloseBtnClick=function(){"InGameWork"===this._view.stateCtrl.selectedPage||"InGameDisassemble"===this._view.stateCtrl.selectedPage?(p.PlaySound_UICommonClose(),this._view.stateCtrl.selectedPage="InGame"):this._onCloseClick()},n._onWorkerInfoClick=function(){if(p.PlaySound_UICommonClick(),null!=this.mWorkerData){var e=f.getWorkerData(this.mWorkerData.WorkerData.roleID);e&&m.emit(v.UI_DETAILS_SHOW_WORKER_INFO,e)}},n._onWorkerSkillUnlockClick=function(){p.PlaySound_UICommonClick(),null!=this.mWorkerData&&m.emit(v.UI_WORKER_MAJOR_UNLOCK_OPEN,this.mWorkerData)},n._onUpgradeClick=function(){p.PlaySound_UICommonClick(),null!=this.mWorkerData&&(m.emit(v.UI_WORKER_UPGRADE_OPEN,this.mWorkerData),d.instance.IsInGuideScene&&d.instance.NextStep())},n._onAwakeningClick=function(){p.PlaySound_UICommonClick(),m.emit(v.UI_WORKER_AWAKENING_OPEN,this.mWorkerData)},n._onWorkClick=function(){p.PlaySound_UICommonClick(),null!=this.mWorkerData&&(0===this.mWorkerData.WorkerData.roleWorkBuilding&&C.instance.getInWorkingCount()>=D.instance.MaxWorkerNum?R.AddTipI18nID_Info("u.2502"):(this._view.stateCtrl.selectedPage="InGameWork",d.instance.IsInGuideScene&&d.instance.NextStep()))},n._onMajorRetrainClick=function(){p.PlaySound_UICommonClick(),null!=this.mWorkerData&&m.emit(v.UI_WORKER_MAJOR_RETRAIN_OPEN,this.mWorkerData)},n._onSynthesizeClick=function(){p.PlaySound_UICommonClick(),null!=this.mWorkerData&&m.emit(v.UI_WORKER_SYNTHESIS_OPEN,this.mWorkerData)},n._onDismissClick=function(){p.PlaySound_UICommonClick(),null!=this.mWorkerData&&(this._view.stateCtrl.selectedPage="InGameDisassemble")},n._onMintClick=function(){p.PlaySound_UICommonClick(),null!=this.mWorkerData&&(W.isInLine()?R.AddTipI18nID_Info("u.2501"):this.mWorkerData.WorkerData.roleState!==B.eWorkerState_3?"0"===this.mWorkerData.WorkerData.tokenID?S.mintWizard(this.mWorkerData.WorkerData.workerID):S.withdrawWizard(this.mWorkerData.WorkerData.workerID):R.AddTipI18nID_Info("u.2538"))},n._onWorkBuilding1Click=function(){p.PlaySound_UICommonClick(),this._startWorkInBuilding(w.Mushroom),d.instance.IsInGuideScene&&d.instance.NextStep()},n._onWorkBuilding2Click=function(){p.PlaySound_UICommonClick(),this._startWorkInBuilding(w.ManaGel)},n._onWorkBuilding3Click=function(){p.PlaySound_UICommonClick(),this._startWorkInBuilding(w.Ethereal)},n._onWorkBuildingCancelClick=function(){p.PlaySound_UICommonClick(),S.stopWork(this.mWorkerData.WorkerData.workerID)},n._startWorkInBuilding=function(e){if(null!=this.mWorkerData){var t=f.getBuilding(e);if(!t||D.instance.isHasBuilding(e))if(t&&D.instance.isBuildingInLock(e)){var i=L.i18nFormat(f.getI18nUIText("u.2503"),[t.farmLevelLimit.toString()]);R.AddTipText_Info(i)}else if(t&&this.mWorkerData.WorkerData.roleLevel<t.workerLevelLimit){var r=L.i18nFormat(f.getI18nUIText("u.2504"),[t.workerLevelLimit.toString()]);R.AddTipText_Info(r)}else 0!==this.mWorkerData.WorkerData.roleWorkBuilding&&S.stopWork(this.mWorkerData.WorkerData.workerID),S.startWork(this.mWorkerData.WorkerData.workerID,e);else R.AddTipI18nID_Info("u.2530")}},n._onDismissConfirmClick=function(){p.PlaySound_UICommonClick(),null!=this.mWorkerData&&(this.mWorkerData.WorkerData.roleState!==B.eWorkerState_3?T.AddPopMsgBox_DoubleBtn(f.getI18nUIText("u.10162"),f.getI18nUIText("u.4001"),(function(){}),this):R.AddTipI18nID_Info("u.2538"))},n._initData=function(){this._view.titleCtrl.selectedIndex=0,this._view.stateCtrl.selectedPage="InGame",this._view.isOnSaleCtrl.selectedIndex=0,this._refreshWorkerData(),this._refreshWorkerAttr(),this._refreshWorkerSkill(),this._refreshWorkerBtnShow(),this._refreshWorkRoomBtnShow(),this._refreshDismissReturnValue()},n._refreshWorkerData=function(){var e=f.getWorkerData(this.mWorkerData.WorkerData.roleID);if(null!=e){var t=f.getWorkerLevel(this.mWorkerData.WorkerData.roleLevel);if(null!=t)this._loadModelShow(e.resModelPath),this._setWorkerStar(t.star),this._setWorkerSmallSkill(this.mWorkerData.getSkillList()),this._view.workerType.setWorkType(this.mWorkerData.WorkerData.roleWorkBuilding),this._view.workerMajor.setMajorType(this.mWorkerData.skillHighestLevel),this._view.workerExploration.setExplorationType(this.mWorkerData.WorkerData.roleState),this._setWorkType(this.mWorkerData.WorkerData.roleWorkBuilding),"BERA"===u(Number(this.mWorkerData.WorkerData.chainID))?this._view.workerChain.setChainType(c.Bera):this._view.workerChain.setChainType(c.None),this._view.workerName.text=e.workerName,this._view.workerLevel.text=L.i18nFormat(f.getI18nUIText("u.10102"),[t.showLevel.toString()]),this._view.workerDesc.text=e.workerDesc,this._view.workerLuck.visible=!1,this.mWorkerData.WorkerData.roleState===B.eWorkerState_1?(this._view.isLockedCtrl.selectedIndex=1,this._setWorkerSmallSkillLock(!0),this._setAllBtnLock(!0)):(this._view.isLockedCtrl.selectedIndex=0,this._setWorkerSmallSkillLock(!1),this._setAllBtnLock(!1))}},n._refreshWorkerAttr=function(){for(var e=[0,0,0,0,0],t=this.mWorkerData.getSkillList(),i=0;i<t.length;i++){var r=f.getWorkerProfessionSkill(t[i]);r&&(e[r.skillType-1]+=r.skillParam)}var n=L.NumberTransform(Math.floor(this.mWorkerData.getAttr_Prosperity()*(1+e[0]/100))),o=e[0]>0?l.GREEN:l.WHITE;this._view.setWorkerAttr(this._view.workerAttr1,n,o);var s=Math.floor(this.mWorkerData.getAttr_Mushroom()*(1+e[1]/100)/100).toString(),a=e[1]>0?l.GREEN:l.WHITE;this._view.setWorkerAttr(this._view.workerAttr2,s,a);var k=Math.floor(this.mWorkerData.getAttr_ManaGel()*(1+e[2]/100)/100).toString(),h=e[2]>0?l.GREEN:l.WHITE;this._view.setWorkerAttr(this._view.workerAttr3,k,h);var _=Math.floor(this.mWorkerData.getAttr_Ethereal()*(1+e[3]/100)/100).toString(),c=e[3]>0?l.GREEN:l.WHITE;this._view.setWorkerAttr(this._view.workerAttr4,_,c);var u=Math.floor(this.mWorkerData.getAttr_Finance()*(1+e[4]/100)/100).toString(),m=e[4]>0?l.GREEN:l.WHITE;this._view.setWorkerAttr(this._view.workerAttr5,u,m)},n._refreshWorkerSkill=function(){var e=f.getAllParamRecord(125).paramValue;if(this.mWorkerData.WorkerData.roleLevel<e)this._view.skillView.stateCtrl.selectedPage="Locked";else if(this.mWorkerData.isSkillLock())this._view.skillView.stateCtrl.selectedPage="Unlock";else{this._view.skillView.stateCtrl.selectedPage="Opened";var t=this.mWorkerData.skillRetrainCount.toString();this.mWorkerData.skillRetrainCount>40&&(t="40+"),this._view.skillView.retrainCount.text=L.i18nFormat(f.getI18nUIText("u.10150"),[t]),this._setWorkerSkill()}},n._refreshWorkerBtnShow=function(){var e=this.mWorkerData.WorkerData.roleLevel;if(e>=f.getWorkerMaxLevel())this._view.upgradeBtn.visible=!1,this._view.awakeningBtn.visible=!1;else{var t=f.getWorkerLevel(e);if(null==t)return;""===t.costWorker?(this._view.upgradeBtn.visible=!0,this._view.awakeningBtn.visible=!1):(this._view.upgradeBtn.visible=!1,this._view.awakeningBtn.visible=!0)}this._view.synthesizeBtn.visible=!1,this._view.dismissBtn.visible=!1,this.mWorkerData.isSkillLock()?(this._view.majorBtn.visible=!1,this._view.mintBtn.visible=!1):(this._view.majorBtn.visible=!0,this._view.mintBtn.visible=!0,"0"===this.mWorkerData.WorkerData.tokenID?this._view.mintBtn.text=f.getI18nUIText("u.10133"):this._view.mintBtn.text=f.getI18nUIText("u.10134"))},n._refreshWorkRoomBtnShow=function(){switch(this._view.building1Btn.visible=!1,this._view.building2Btn.visible=!1,this._view.building3Btn.visible=!1,this._view.building1CancelBtn.visible=!1,this._view.building2CancelBtn.visible=!1,this._view.building3CancelBtn.visible=!1,this.mWorkerData.WorkerData.roleWorkBuilding){case w.Mushroom:this._view.building1CancelBtn.visible=!0,this._view.building2Btn.visible=!0,this._view.building3Btn.visible=!0;break;case w.ManaGel:this._view.building1Btn.visible=!0,this._view.building2CancelBtn.visible=!0,this._view.building3Btn.visible=!0;break;case w.Ethereal:this._view.building1Btn.visible=!0,this._view.building2Btn.visible=!0,this._view.building3CancelBtn.visible=!0;break;default:this._view.building1Btn.visible=!0,this._view.building2Btn.visible=!0,this._view.building3Btn.visible=!0}},n._refreshDismissReturnValue=function(){var e=f.getWorkerLevel(this.mWorkerData.WorkerData.roleLevel);if(null!=e){var t=e.dismissReturn.split(";");this._view.dismissReturnList.removeChildren();for(var i=0;i<t.length;i++){var r=t[i].split("-");if(r.length<2)return;var n=Number.parseInt(r[0]),o=Number.parseInt(r[1]),s=this._view.dismissReturnList.addItem(),a=f.getItemRecord(n);a&&(s.icon=b.getUIFarmItemPath(a.itemIcon)),s.title=o.toString()}}},n._setWorkerSkill=function(){var e=this.mWorkerData.getSkillList();this._view.skillView.skillList.removeChildren();for(var t=0;t<e.length;t++){this._view.skillView.skillList.addItem().setSkillData(e[t])}},n._setWorkerStar=function(e){this._view.workerStar.removeChildren();for(var t=0;t<e;t++)this._view.workerStar.addItem()},n._setWorkerSmallSkill=function(e){this._view.workerSkill.removeChildren();for(var t=0;t<e.length;t++){this._view.workerSkill.addItem().setSkillData(e[t])}},n._setWorkerSmallSkillLock=function(e){for(var t=this._view.workerSkill.numChildren,i=0;i<t;i++){this._view.workerSkill.getChildAt(i).setSkillLock(e)}},n._setWorkType=function(e){switch(e){case w.Mushroom:this._view.typeBtnCtrl.selectedIndex=1;break;case w.ManaGel:this._view.typeBtnCtrl.selectedIndex=2;break;case w.Ethereal:this._view.typeBtnCtrl.selectedIndex=3;break;default:this._view.typeBtnCtrl.selectedIndex=0}},n._setAllBtnLock=function(e){this._view.setBtnLock(this._view.upgradeBtn,e),this._view.setBtnLock(this._view.awakeningBtn,e),this._view.setBtnLock(this._view.workBtn,e),this._view.setBtnLock(this._view.majorBtn,e),this._view.setBtnLock(this._view.mintBtn,e)},n._loadModelShow=function(e){var t=this;I.instance.loadAvatarSkeletonData(e).then((function(e){k(t.node)&&(t._view.workerIcon&&t._view.workerIcon.node&&t._view.workerIcon.node.scale&&t._view.workerIcon.setScale(2.5,2.5),t._view.workerIcon.clearContent(),t._view.workerIcon.skinName=e.defaultSkin,0===t.mWorkerData.WorkerData.roleWorkBuilding?t._view.workerIcon.animationName="idle":t._view.workerIcon.animationName="doing",t._view.workerIcon.setSpine(e.skeletonData,h(30,45)))}))},n.getCloseBtn=function(){return this._view?this._view.closeBtn:null},n.getWorkBtn=function(){return this._view?this._view.workBtn:null},n.getMushroomBtn=function(){return this._view?this._view.building1Btn:null},n.getUpgradeBtn=function(){return this._view?this._view.upgradeBtn:null},i(r,null,[{key:"instance",get:function(){return this._instance}}]),r}(y)).CTRL_NAME="UIWorkerDetailController",M._instance=null,U=M))||U);r._RF.pop()}}}));

System.register("chunks:///_virtual/ui.worker.detail.onchain.controller.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./chain.system.ts","./chain.operate.interface.ts","./chain.operate.marketplace.order.cancel.ts","./chain.operate.deposit.wizard.ts","./event.dispatcher.ts","./event.name.ts","./enum.farm.building.type.ts","./resource.manager.ts","./table.helper.ts","./sound.helper.ts","./common.tool.ts","./logic.tool.ts","./ui.float.text.controller.ts","./ui.base.controller.ts"],(function(e){"use strict";var t,i,r,o,n,s,a,l,c,h,k,_,u,v,w,m,f,d,C,p,W,I,D,S,g,E,y;return{setters:[function(e){t=e.inheritsLoose,i=e.createClass,r=e.asyncToGenerator,o=e.regeneratorRuntime},function(e){n=e.cclegacy,s=e._decorator,a=e.input,l=e.Input,c=e.KeyCode,h=e.Color,k=e.isValid,_=e.v2},function(e){u=e.UIPackage},function(e){v=e.ChainSystem},function(e){w=e.ChainOperateStatus},function(e){m=e.ChainOperateMarketplaceOrderCancel},function(e){f=e.ChainOperateDepositWizard},function(e){d=e.EventDispatcher},function(e){C=e.EventName},function(e){p=e.EFarmBuildingType},function(e){W=e.ResourceManager},function(e){I=e.TableHelper},function(e){D=e.SoundHelper},function(e){S=e.CommonTool},function(e){g=e.LogicTool},function(e){E=e.UIFloatTextController},function(e){y=e.UIBaseController}],execute:function(){var T,A;n._RF.push({},"399d1vhefZOM40I26JwPTm7","ui.worker.detail.onchain.controller",void 0);var R=s.ccclass;e("UIWorkerDetailOnchainController",R("UIWorkerDetailOnchainController")(((A=function(e){function n(){for(var t,i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).mFguiPkgName="Details_Wizard",t.mFguiMainViewName="Main",t._view=null,t.mWorkerData=null,t}t(n,e);var s=n.prototype;return s._addEvents=function(){e.prototype._addEvents.call(this),a.on(l.EventType.KEY_DOWN,this._onKeyDown,this)},s._removeEvents=function(){e.prototype._removeEvents.call(this),a.off(l.EventType.KEY_DOWN,this._onKeyDown,this)},s._onKeyDown=function(e){switch(e.keyCode){case c.ESCAPE:this._onCloseClick()}},s.setWorker=function(e){this.mWorkerData=e},s.onLoad=function(){n._instance=this,this._startLoadPkg(this.mFguiPkgName)},s.onDestroy=function(){e.prototype.onDestroy.call(this),n._instance=null},s.closeUI=function(){e.prototype.closeUI.call(this)},s.update=function(){this._view},s._onLoadUIFinish=function(){e.prototype._onLoadUIFinish.call(this),this._view=u.createObject(this.mFguiPkgName,this.mFguiMainViewName).asCom,this._addUIToRoot(this._view),this._view.makeFullScreen(),this._view.closeBtn.onClick(this._onCloseClick,this),this._view.workerInfoBtn.onClick(this._onWorkerInfoClick,this),this._view.depositBtn.onClick(this._onDepositClick,this),this._view.saleBtn.onClick(this._onSaleClick,this),this._view.saleCancelBtn.onClick(this._onSaleCancelClick,this),this._view.addressCopyBtn.onClick(this._onAddressCopyClick,this),this._initData()},s._onCloseClick=function(){D.PlaySound_UICommonClose(),d.emit(C.UI_WORKER_DETAIL_ONCHAIN_CLOSE),d.emit(C.UI_WORKER_ITEM_SELECTED,"0")},s._onWorkerInfoClick=function(){if(D.PlaySound_UICommonClick(),null!=this.mWorkerData){var e=I.getWorkerData(this.mWorkerData.WorkerID);e&&d.emit(C.UI_DETAILS_SHOW_WORKER_INFO,e)}},s._onDepositClick=function(){var e=r(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(D.PlaySound_UICommonClick(),null!=this.mWorkerData){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,f.popConfirm(Number(this.mWorkerData.TokenID));case 5:e.sent===w.Success&&(d.emit(C.CHAIN_NFT_REFRESH_WIZWARD_DATA),this._onCloseClick(),d.emit(C.UI_ASSET_OPEN));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),s._onSaleClick=function(){D.PlaySound_UICommonClick(),null!=this.mWorkerData&&d.emit(C.UI_WORKER_MARKET_SELL_OPEN,this.mWorkerData)},s._onSaleCancelClick=function(){var e=r(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(D.PlaySound_UICommonClick(),null!=this.mWorkerData){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,m.popConfirm(this.mWorkerData.saleOrderID);case 5:e.sent===w.Success&&(d.emit(C.CHAIN_MARKETPLACE_REFRESH_WIZWARD_DATA),this._onCloseClick());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),s._onAddressCopyClick=function(){if(D.PlaySound_UICommonClick(),null!=this.mWorkerData){var e=v.instance.beraContractWizard.contractConfig.address;e&&S.copyTextNew(e).then((function(){E.AddTipI18nID_Success("u.2516")}))}},s._initData=function(){var e=r(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._view.titleCtrl.selectedIndex=1,this._view.stateCtrl.selectedPage="OnChain",this._refreshWorkerData(),this._refreshWorkerAttr(),this._refreshWorkerSkill(),this._refreshWorkerInSaleShow();case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),s._refreshWorkerData=function(){var e=I.getWorkerData(this.mWorkerData.WorkerID);if(null!=e){var t=I.getWorkerLevel(this.mWorkerData.WorkerLevel);if(null!=t){this._loadModelShow(e.resModelPath),this._setWorkerStar(t.star),this._setWorkerSmallSkill(this.mWorkerData.getSkillList()),this._view.workerType.setWorkType(0),this._view.workerMajor.setMajorType(this.mWorkerData.skillHighestLevel),this._view.workerExploration.setExplorationType(0),this._setWorkType(0),this._view.workerChain.visible=!0,this._view.workerChain.setChainType(this.mWorkerData.ChainType),this._view.workerName.text="W# "+this.mWorkerData.TokenID,this._view.workerLevel.text=g.i18nFormat(I.getI18nUIText("u.10102"),[t.showLevel.toString()]),this._view.workerDesc.text=e.workerDesc,this._view.workerLuck.visible=!1;var i=v.instance.beraContractWizard.contractConfig.address;this._view.addressValue.text=I.getI18nUIText("u.13429")+" "+S.shortAddress(i,6)}}},s._refreshWorkerAttr=function(){for(var e=[0,0,0,0,0],t=this.mWorkerData.getSkillList(),i=0;i<t.length;i++){var r=I.getWorkerProfessionSkill(t[i]);r&&(e[r.skillType-1]+=r.skillParam)}var o=g.NumberTransform(Math.floor(this.mWorkerData.getAttr_Prosperity()*(1+e[0]/100))),n=e[0]>0?h.GREEN:h.WHITE;this._view.setWorkerAttr(this._view.workerAttr1,o,n);var s=Math.floor(this.mWorkerData.getAttr_Mushroom()*(1+e[1]/100)/100).toString(),a=e[1]>0?h.GREEN:h.WHITE;this._view.setWorkerAttr(this._view.workerAttr2,s,a);var l=Math.floor(this.mWorkerData.getAttr_ManaGel()*(1+e[2]/100)/100).toString(),c=e[2]>0?h.GREEN:h.WHITE;this._view.setWorkerAttr(this._view.workerAttr3,l,c);var k=Math.floor(this.mWorkerData.getAttr_Ethereal()*(1+e[3]/100)/100).toString(),_=e[3]>0?h.GREEN:h.WHITE;this._view.setWorkerAttr(this._view.workerAttr4,k,_);var u=Math.floor(this.mWorkerData.getAttr_Finance()*(1+e[4]/100)/100).toString(),v=e[4]>0?h.GREEN:h.WHITE;this._view.setWorkerAttr(this._view.workerAttr5,u,v)},s._refreshWorkerSkill=function(){var e=I.getAllParamRecord(125).paramValue;if(this.mWorkerData.WorkerLevel<e)this._view.skillView.stateCtrl.selectedPage="Locked";else if(this.mWorkerData.isSkillLock())this._view.skillView.stateCtrl.selectedPage="Unlock";else{this._view.skillView.stateCtrl.selectedPage="Opened";var t=this.mWorkerData.skillRetrainCount.toString();this.mWorkerData.skillRetrainCount>40&&(t="40+"),this._view.skillView.retrainCount.text=g.i18nFormat(I.getI18nUIText("u.10150"),[t]),this._setWorkerSkill()}},s._refreshWorkerInSaleShow=function(){this.mWorkerData.isIsSale?(this._view.isOnSaleCtrl.selectedIndex=1,this._view.depositBtn.visible=!1,this._view.saleBtn.visible=!1,this._view.saleCancelBtn.visible=!0):(this._view.isOnSaleCtrl.selectedIndex=0,this._view.depositBtn.visible=!0,this._view.saleBtn.visible=!0,this._view.saleCancelBtn.visible=!1)},s._setWorkerSkill=function(){var e=this.mWorkerData.getSkillList();this._view.skillView.skillList.removeChildren();for(var t=0;t<e.length;t++){this._view.skillView.skillList.addItem().setSkillData(e[t])}},s._setWorkerStar=function(e){this._view.workerStar.removeChildren();for(var t=0;t<e;t++)this._view.workerStar.addItem()},s._setWorkerSmallSkill=function(e){this._view.workerSkill.removeChildren();for(var t=0;t<e.length;t++){this._view.workerSkill.addItem().setSkillData(e[t])}},s._setWorkType=function(e){switch(e){case p.Mushroom:this._view.typeBtnCtrl.selectedIndex=1;break;case p.ManaGel:this._view.typeBtnCtrl.selectedIndex=2;break;case p.Ethereal:this._view.typeBtnCtrl.selectedIndex=3;break;default:this._view.typeBtnCtrl.selectedIndex=0}},s._loadModelShow=function(e){var t=this;W.instance.loadAvatarSkeletonData(e).then((function(e){k(t.node)&&(t._view.workerIcon&&t._view.workerIcon.node&&t._view.workerIcon.node.scale&&t._view.workerIcon.setScale(2.5,2.5),t._view.workerIcon.clearContent(),t._view.workerIcon.skinName=e.defaultSkin,t._view.workerIcon.animationName="idle",t._view.workerIcon.setSpine(e.skeletonData,_(30,45)))}))},i(n,null,[{key:"instance",get:function(){return this._instance}}]),n}(y)).CTRL_NAME="UIWorkerDetailOnchainController",A._instance=null,T=A))||T);n._RF.pop()}}}));

System.register("chunks:///_virtual/ui.worker.detail.skill.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){"use strict";var i,e,l,n;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy,l=t._decorator},function(t){n=t.GComponent}],execute:function(){var r,s;e._RF.push({},"59471jTw/dHRZgiSQdMOiK6","ui.worker.detail.skill.view",void 0);var o=l.ccclass;t("default",o("UIWorkerDetailSkillView")(((s=function(t){function e(){var i;return(i=t.call(this)||this).stateCtrl=void 0,i.unlockBtn=void 0,i.skillList=void 0,i.retrainCount=void 0,i}return i(e,t),e.prototype.onConstruct=function(){this.stateCtrl=this.getController("State"),this.unlockBtn=this.getChild("ui_BtnUnlock"),this.skillList=this.getChild("ui_SkillList"),this.retrainCount=this.getChild("ui_LabelRetrainings")},e}(n)).URL="ui://Details_Wizard/Gp_Skill",r=s))||r);e._RF.pop()}}}));

System.register("chunks:///_virtual/ui.worker.detail.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(i){"use strict";var t,e,n,r;return{setters:[function(i){t=i.inheritsLoose},function(i){e=i.cclegacy,n=i._decorator},function(i){r=i.GComponent}],execute:function(){var s,d;e._RF.push({},"78ecccTNBRDuLJzh4p0TMsr","ui.worker.detail.view",void 0);var o=n.ccclass;i("default",o("UIWorkerDetailView")(((d=function(i){function e(){var t;return(t=i.call(this)||this).titleCtrl=void 0,t.stateCtrl=void 0,t.typeBtnCtrl=void 0,t.isOnSaleCtrl=void 0,t.isLockedCtrl=void 0,t.closeBtn=void 0,t.wind=void 0,t.workerIcon=void 0,t.workerName=void 0,t.workerDesc=void 0,t.workerStar=void 0,t.workerLevel=void 0,t.workerType=void 0,t.workerExploration=void 0,t.workerMajor=void 0,t.workerChain=void 0,t.workerLuck=void 0,t.workerSkill=void 0,t.workerInfoBtn=void 0,t.workerAttr1=void 0,t.workerAttr2=void 0,t.workerAttr3=void 0,t.workerAttr4=void 0,t.workerAttr5=void 0,t.skillView=void 0,t.lockTime=void 0,t.upgradeBtn=void 0,t.awakeningBtn=void 0,t.workBtn=void 0,t.majorBtn=void 0,t.synthesizeBtn=void 0,t.dismissBtn=void 0,t.mintBtn=void 0,t.building1Btn=void 0,t.building2Btn=void 0,t.building3Btn=void 0,t.building1CancelBtn=void 0,t.building2CancelBtn=void 0,t.building3CancelBtn=void 0,t.depositBtn=void 0,t.saleBtn=void 0,t.saleCancelBtn=void 0,t.dismissReturnList=void 0,t.dismissConfirmBtn=void 0,t.addressValue=void 0,t.addressCopyBtn=void 0,t}t(e,i);var n=e.prototype;return n.onConstruct=function(){this.titleCtrl=this.getController("IsTitleOnChain"),this.closeBtn=this.getChild("ui_WindClose"),this.wind=this.getChild("ui_WindWizardDetails"),this.stateCtrl=this.wind.getController("State"),this.isOnSaleCtrl=this.wind.getController("IsOnSale"),this.isLockedCtrl=this.wind.getController("IsLocked"),this.workerIcon=this.wind.getChild("ui_WorkerIcon"),this.workerName=this.wind.getChild("ui_WorkerName"),this.workerDesc=this.wind.getChild("ui_WorkerDes"),this.workerStar=this.wind.getChild("ui_AwakenStar"),this.workerLevel=this.wind.getChild("ui_WorkerLevel"),this.workerType=this.wind.getChild("ui_WorkerSkill"),this.workerExploration=this.wind.getChild("ui_WorkerExploration"),this.workerMajor=this.wind.getChild("ui_PatternBg"),this.workerChain=this.wind.getChild("ui_ChainType"),this.workerLuck=this.wind.getChild("ui_TagLuckPoints"),this.workerSkill=this.wind.getChild("ui_MajorSkillList"),this.workerInfoBtn=this.wind.getChild("ui_BtnWizardDes"),this.workerAttr1=this.wind.getChild("ui_Att01"),this.workerAttr2=this.wind.getChild("ui_Att02"),this.workerAttr3=this.wind.getChild("ui_Att03"),this.workerAttr4=this.wind.getChild("ui_Att04"),this.workerAttr5=this.wind.getChild("ui_Att05"),this.skillView=this.wind.getChild("ui_ProfessionSkill"),this.lockTime=this.wind.getChild("ui_LabelLocked"),this.upgradeBtn=this.wind.getChild("ui_BtnUpgrade"),this.awakeningBtn=this.wind.getChild("ui_BtnAwakening"),this.workBtn=this.wind.getChild("ui_BtnWork"),this.majorBtn=this.wind.getChild("ui_BtnMajorRetraining"),this.synthesizeBtn=this.wind.getChild("ui_BtnSynthiesize"),this.dismissBtn=this.wind.getChild("ui_BtnDisassemble"),this.mintBtn=this.wind.getChild("ui_BtnMint");var i=this.workBtn.getChild("ui_WorkerType");this.typeBtnCtrl=i.getController("WorkerType"),this.building1Btn=this.wind.getChild("ui_BtnMushroom"),this.building2Btn=this.wind.getChild("ui_BtnManaGel"),this.building3Btn=this.wind.getChild("ui_BtnEthereal"),this.building1CancelBtn=this.wind.getChild("ui_BtnMushroom_Cancel"),this.building2CancelBtn=this.wind.getChild("ui_BtnManaGel_Cancel"),this.building3CancelBtn=this.wind.getChild("ui_BtnEthereal_Cancel"),this.depositBtn=this.wind.getChild("ui_BtnDeposit"),this.saleBtn=this.wind.getChild("ui_BtnSell"),this.saleCancelBtn=this.wind.getChild("ui_BtnCancelSell"),this.dismissReturnList=this.wind.getChild("ui_ReturnList"),this.dismissConfirmBtn=this.wind.getChild("ui_BtnDisassemble2"),this.addressValue=this.wind.getChild("ui_WalletAddress"),this.addressCopyBtn=this.wind.getChild("ui_BtnAccountCopy")},n.setWorkerAttr=function(i,t,e){var n=i.getChild("ui_Value");n&&(n.text=t,n.color=e)},n.setBtnLock=function(i,t){var e=i.getController("IsLocked");e&&(e.selectedIndex=t?1:0),i.touchable=!t},e}(r)).URL="ui://Details_Wizard/Main",s=d))||s);e._RF.pop()}}}));

System.register("chunks:///_virtual/ui.worker.exploration.type.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./farm.client.protocol.ts"],(function(t){"use strict";var e,o,i,r,n;return{setters:[function(t){e=t.inheritsLoose},function(t){o=t.cclegacy,i=t._decorator},function(t){r=t.GButton},function(t){n=t.enumWorkerState}],execute:function(){var u,c;o._RF.push({},"401aaGWfbVNyKx0A9buXSFM","ui.worker.exploration.type.view",void 0);var s=i.ccclass;t("default",s("UIWorkerExplorationTypeView")(((c=function(t){function o(){var e;return(e=t.call(this)||this).typeIcon=void 0,e}e(o,t);var i=o.prototype;return i.onConstruct=function(){this.typeIcon=this.getChild("ui_WorkerSkill")},i.setExplorationType=function(t){t===n.eWorkerState_3?this.visible=!0:this.visible=!1},o}(r)).URL="ui://Common/workertype_Exploration",u=c))||u);o._RF.pop()}}}));

System.register("chunks:///_virtual/ui.worker.luck.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){"use strict";var u,e,i,c;return{setters:[function(t){u=t.inheritsLoose},function(t){e=t.cclegacy,i=t._decorator},function(t){c=t.GButton}],execute:function(){var o,r;e._RF.push({},"07ce5uRaGBLhYgiOzG8VEkp","ui.worker.luck.view",void 0);var n=i.ccclass;t("default",n("UIWorkerLuckView")(((r=function(t){function e(){var u;return(u=t.call(this)||this).luckValue=void 0,u}u(e,t);var i=e.prototype;return i.onConstruct=function(){this.luckValue=this.getChild("title")},i.setLuckValue=function(t){this.luckValue.text=t.toString()},e}(c)).URL="ui://Common/cm_TagLuckPoints",o=r))||o);e._RF.pop()}}}));

System.register("chunks:///_virtual/ui.worker.major.retrain.controller.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./event.dispatcher.ts","./event.name.ts","./enum.farm.coin.res.ts","./localstorage.define.ts","./localstorage.manager.ts","./resource.manager.ts","./table.helper.ts","./model.mainrole.manager.ts","./net.helper.ts","./sound.helper.ts","./common.tool.ts","./logic.tool.ts","./ui.float.text.controller.ts","./ui.message.box.controller.ts","./ui.base.controller.ts"],(function(e){"use strict";var t,i,o,n,a,r,l,s,c,h,u,_,k,m,v,d,w,C,f,S,R,I,W,g,p,M,D,z;return{setters:[function(e){t=e.inheritsLoose,i=e.createClass,o=e.asyncToGenerator,n=e.regeneratorRuntime},function(e){a=e.cclegacy,r=e._decorator,l=e.input,s=e.Input,c=e.KeyCode,h=e.isValid,u=e.v2,_=e.sp},function(e){k=e.UIPackage},function(e){m=e.EventDispatcher},function(e){v=e.EventName},function(e){d=e.EFarmCoinRes},function(e){w=e.LocalStorageDataType},function(e){C=e.LocalStorageManager},function(e){f=e.ResourceManager},function(e){S=e.TableHelper},function(e){R=e.ModelMainRoleManager},function(e){I=e.NetHelper},function(e){W=e.SoundHelper},function(e){g=e.CommonTool},function(e){p=e.LogicTool},function(e){M=e.UIFloatTextController},function(e){D=e.UIMessageBoxController},function(e){z=e.UIBaseController}],execute:function(){var j,B;a._RF.push({},"b5837ejgqdIqYca3Bj/90PB","ui.worker.major.retrain.controller",void 0);var U=r.ccclass;e("UIWorkerMajorRetrainController",U("UIWorkerMajorRetrainController")(((B=function(e){function a(){for(var t,i=arguments.length,o=new Array(i),n=0;n<i;n++)o[n]=arguments[n];return(t=e.call.apply(e,[this].concat(o))||this).mFguiPkgName="Details_Wizard",t.mFguiMainViewName="Main_MajorUnlock",t._view=null,t.mWorkerData=null,t.mCostWizzValue=0,t}t(a,e);var r=a.prototype;return r.setWorker=function(e){this.mWorkerData=e},r._addEvents=function(){e.prototype._addEvents.call(this),l.on(s.EventType.KEY_DOWN,this._onKeyDown,this),m.on(v.WORKER_LIST_UPDATE_ITEM,this._onWorkerListUpdateItem,this),m.on(v.PLAYERSELF_MONEY_WIZZ_CHANGED,this._onWizzCoinChanged,this)},r._removeEvents=function(){e.prototype._removeEvents.call(this),l.off(s.EventType.KEY_DOWN,this._onKeyDown,this),m.off(v.WORKER_LIST_UPDATE_ITEM,this._onWorkerListUpdateItem,this),m.off(v.PLAYERSELF_MONEY_WIZZ_CHANGED,this._onWizzCoinChanged,this)},r._onKeyDown=function(e){switch(e.keyCode){case c.ESCAPE:this._onCloseClick()}},r._onWorkerListUpdateItem=function(e){e&&null!=this._view&&null!=this.mWorkerData&&e===this.mWorkerData.WorkerData.workerID&&(this.mWorkerData.isSkillLock()||this._refreshRetrainView())},r._onWizzCoinChanged=function(){this._view&&this._refreshBalanceWizzView()},r.onLoad=function(){a._instance=this,this._startLoadPkg(this.mFguiPkgName)},r.onDestroy=function(){e.prototype.onDestroy.call(this),a._instance=null},r.closeUI=function(){e.prototype.closeUI.call(this)},r.update=function(){this._view},r._onLoadUIFinish=function(){e.prototype._onLoadUIFinish.call(this),this._view=k.createObject(this.mFguiPkgName,this.mFguiMainViewName).asCom,this._addUIToRoot(this._view),this._view.makeFullScreen(),this._view.closeBtn.onClick(this._onCloseClick,this),this._view.costSliverBtn.onClick(this._onSliverRetrainClick,this),this._view.costWizzBtn.onClick(this._onWizzRetrainClick,this),this._view.majorRule.onClick(this._onMajorRoleClick,this),this._view.majorRuleCloseBtn.onClick(this._onMajorRuleCloseClick,this),this._view.majorRuleConfirmBtn.onClick(this._onMajorRuleCloseClick,this),this._view.majorRuleCheckBtn.onClick(this._onMajorRuleCheckClick,this),this._loadStaticModelShow(this._view.animBall,"MajorSkillsAni_CrystalBall",95,94),this._loadStaticModelShow(this._view.animCandleL,"MajorSkillsAni_Candle2",38,47),this._loadStaticModelShow(this._view.animCandleR,"MajorSkillsAni_Candle1",22,35),this._loadStaticModelShow(this._view.animBook,"MajorSkillsAni_Book",252,282,"idle"),this._initView(),this._initData()},r._initView=function(){this._view.isUnlockCtrl.selectedIndex=1,this._view.checkBtn.visible=!1,this._view.costSliverBtn.visible=!1,this._view.costWizzBtn.visible=!0,this._view.majorTitle.text=S.getI18nUIText("u.10155"),this._view.majorRule.visible=!0,this._view.majorRuleWind.visible=!1,this._view.retrainCount.visible=!0,this._view.costWizzBtn.title=S.getI18nUIText("u.10149"),this._view.costSliverBtn.title=S.getI18nUIText("u.10149")},r._onCloseClick=function(){W.PlaySound_UICommonClose(),m.emit(v.UI_WORKER_MAJOR_RETRAIN_CLOSE)},r._onMajorRoleClick=function(){W.PlaySound_UICommonClick(),this._view.majorRuleWind.visible=!0},r._onMajorRuleCloseClick=function(){W.PlaySound_UICommonClose(),this._view.majorRuleWind.visible=!1},r._onMajorRuleCheckClick=function(){W.PlaySound_UICommonClick(),this._view.majorRuleCheckBtn.selected?C.instance.GetTargetLocalStorage(w.MajorRetrainRule).SaveIntData(1):C.instance.GetTargetLocalStorage(w.MajorRetrainRule).SaveIntData(0)},r._onSliverRetrainClick=function(){W.PlaySound_UICommonClick(),this.mWorkerData},r._onWizzRetrainClick=function(){var e=this;W.PlaySound_UICommonClick(),null!=this.mWorkerData&&(this.mCostWizzValue>Number.parseFloat(R.instance.WizzCoin)?M.AddTipI18nID_Info("u.2506"):this.mWorkerData.skillHighestLevel>=3?D.AddPopMsgBox_DoubleBtn(S.getI18nUIText("u.10148"),S.getI18nUIText("u.4001"),(function(){e._realRetrainSkill()}),this):this._realRetrainSkill())},r._realRetrainSkill=function(){I.retrainProfessionSkill(this.mWorkerData.WorkerData.workerID),this._view.costWizzBtn.enabled=!1,this._view.costSliverBtn.enabled=!1},r._initData=function(){var e=S.getWorkerData(this.mWorkerData.WorkerData.roleID);if(null!=e){var t=S.getWorkerLevel(this.mWorkerData.WorkerData.roleLevel);null!=t&&(this._loadModelShow(e.resModelPath),this._setWorkerStar(t.star),this._initRetrainView(),this._initMajorRuleView(),this._refreshBalanceWizzView())}},r._initMajorRuleView=function(){var e=1===C.instance.GetTargetLocalStorage(w.MajorRetrainRule).GetIntData();this._view.majorRuleWind.visible=!e,this._view.majorRuleCheckBtn.selected=e},r._initRetrainView=function(){this._view.workerSkill.removeChildren();for(var e=this.mWorkerData.getSkillList(),t=0;t<e.length;t++){this._view.workerSkill.addItem().setSkillData(e[t])}this._refreshRetrainCountView(),this._refreshCostView()},r._refreshCostView=function(){var e=S.getAllParamRecord(128).paramValue,t=S.getAllParamRecord(132).paramValue,i=S.getAllParamRecord(130).paramValue,o=S.getAllParamRecord(131).paramValue,n=this.mWorkerData.skillRetrainCount;this.mCostWizzValue=Math.floor(n/i)*o+e,this.mCostWizzValue>t&&(this.mCostWizzValue=t),this._view.costWizzBtn.setBtnData([d.Token_Wizz,this.mCostWizzValue])},r._refreshRetrainCountView=function(){var e=this.mWorkerData.skillRetrainCount.toString();this.mWorkerData.skillRetrainCount>40&&(e="40+"),this._view.retrainCount.text=p.i18nFormat(S.getI18nUIText("u.10150"),[e])},r._refreshBalanceWizzView=function(){var e=Math.floor(100*Number.parseFloat(R.instance.WizzCoin))/100;this._view.balanceWizzValue.text=p.i18nFormat(S.getI18nUIText("u.10156"),[e.toString()])},r._refreshRetrainView=function(){var e=o(n().mark((function e(){var t,i,o,a,r;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._refreshRetrainCountView(),this._view.workerSkill.removeChildren(),this._loadBookModelShow(this._view.animBook,"MajorSkillsAni_Book",252,282,"animation"),W.PlaySound_MajorUnlockLeafBook(),e.next=6,g.sleep(700);case 6:if(h(this.node)){e.next=8;break}return e.abrupt("return");case 8:for(t=this.mWorkerData.getSkillList(),i=[],o=0;o<t.length;o++)(a=this._view.workerSkill.addItem()).initSkillAnim(t[o]),i.push(a);r=0;case 12:if(!(r<i.length)){e.next=22;break}return e.next=15,g.sleep(300);case 15:if(h(this.node)){e.next=17;break}return e.abrupt("return");case 17:i[r].playSkillAnim(),W.PlaySound_MajorUnlockGetSkill();case 19:r++,e.next=12;break;case 22:this._view.costWizzBtn.enabled=!0,this._view.costSliverBtn.enabled=!0,this._refreshCostView();case 25:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),r._setWorkerStar=function(e){this._view.workerStar.removeChildren();for(var t=0;t<e;t++)this._view.workerStar.addItem()},r._loadModelShow=function(e){var t=this;f.instance.loadAvatarSkeletonData(e).then((function(e){h(t.node)&&(t._view.workerIcon&&t._view.workerIcon.node&&t._view.workerIcon.node.scale&&t._view.workerIcon.setScale(2.5,2.5),t._view.workerIcon.clearContent(),t._view.workerIcon.skinName=e.defaultSkin,t._view.workerIcon.animationName="idle",t._view.workerIcon.setSpine(e.skeletonData,u(29.5,49.5)))}))},r._loadStaticModelShow=function(e,t,i,o,n){var a=this;void 0===n&&(n="animation"),f.instance.loadFarmRes(t,(function(t){if(h(a.node)){var r=t.data,l=null==r?void 0:r.getComponentInChildren(_.Skeleton);r&&(e.clearContent(),e.skinName=l.defaultSkin,e.loop=!0,e.animationName=n,e.setSpine(l.skeletonData,u(i,o)),e.content.timeScale=.5)}}))},r._loadBookModelShow=function(e,t,i,o,n){var a=this;f.instance.loadFarmRes(t,(function(t){if(h(a.node)){var r=t.data,l=null==r?void 0:r.getComponentInChildren(_.Skeleton);r&&(e.clearContent(),e.skinName=l.defaultSkin,e.loop=!1,e.animationName=n,e.setSpine(l.skeletonData,u(i,o)),e.content.timeScale=.5)}}))},i(a,null,[{key:"instance",get:function(){return this._instance}}]),a}(z)).CTRL_NAME="UIWorkerMajorRetrainController",B._instance=null,j=B))||j);a._RF.pop()}}}));

System.register("chunks:///_virtual/ui.worker.major.skill.item.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./event.dispatcher.ts","./event.name.ts","./resource.manager.ts","./sound.helper.ts"],(function(i){"use strict";var l,t,n,e,s,o,a,r,c,k,u;return{setters:[function(i){l=i.inheritsLoose},function(i){t=i.cclegacy,n=i._decorator,e=i.isValid,s=i.sp,o=i.v2},function(i){a=i.GComponent},function(i){r=i.EventDispatcher},function(i){c=i.EventName},function(i){k=i.ResourceManager},function(i){u=i.SoundHelper}],execute:function(){var m,h;t._RF.push({},"f2bd28/q3RPKbbOuOzHDC1F","ui.worker.major.skill.item.view",void 0);var S=n.ccclass;i("default",S("UIWorkerMajorSkillItemView")(((h=function(i){function t(){var l;return(l=i.call(this)||this).skillView=void 0,l.skillAnim=void 0,l.mSkillID=0,l}l(t,i);var n=t.prototype;return n.onConstruct=function(){this.skillView=this.getChild("ui_Skill"),this.skillAnim=this.getChild("ui_SkillUnlockAni"),this.onClick(this._onSkillItemClick,this)},n._onSkillItemClick=function(){u.PlaySound_UICommonClick(),r.emit(c.UI_DETAILS_SHOW_WORKER_SKILL,this.mSkillID)},n.setSkillData=function(i){this.mSkillID=i,this.skillView.setSkillData(this.mSkillID)},n.initSkillAnim=function(i){this.mSkillID=i,this.skillView.visible=!1,this.skillAnim.visible=!1},n.playSkillAnim=function(){this.skillAnim.visible=!0,this._loadModelShow(this.skillAnim,"MajorSkillsAni_Unlock",164,164,"MajorSkillsUnlock")},n._onPlaySkillAnimFinish=function(){e(this.node)&&(this.skillView.visible=!0,this.skillAnim.visible=!1,this.skillView.setSkillData(this.mSkillID))},n._loadModelShow=function(i,l,t,n,a){var r=this;k.instance.loadFarmRes(l,(function(l){if(e(r.node)){var c=l.data,k=null==c?void 0:c.getComponentInChildren(s.Skeleton);if(c)i.clearContent(),i.skinName=k.defaultSkin,i.loop=!1,i.animationName=a,i.setSpine(k.skeletonData,o(t,n)),i.content.timeScale=.5,i.content.setCompleteListener((function(){r._onPlaySkillAnimFinish()}))}}))},t}(a)).URL="ui://Details_Wizard/Gp_SkillListItem_MajorUnlock",m=h))||m);t._RF.pop()}}}));

System.register("chunks:///_virtual/ui.worker.major.type.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){"use strict";var e,i,r,n;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy,r=t._decorator},function(t){n=t.GButton}],execute:function(){var s,a;i._RF.push({},"a031drOn9JLEbHfaW9TFDEW","ui.worker.major.type.view",void 0);var o=r.ccclass;t("default",o("UIWorkerMajorTypeView")(((a=function(t){function i(){var e;return(e=t.call(this)||this).typeCtrl=void 0,e.animTrans=void 0,e.typeIcon=void 0,e}e(i,t);var r=i.prototype;return r.onConstruct=function(){this.typeCtrl=this.getController("IsMajorSkills"),this.animTrans=this.getTransition("ui_Ani_QualityChange"),this.typeIcon=this.getChild("ui_Pattern_MajorSkills")},r.setMajorType=function(t){switch(t){case 1:this.typeCtrl.selectedIndex=1;break;case 2:this.typeCtrl.selectedIndex=2;break;case 3:this.typeCtrl.selectedIndex=3;break;case 4:this.typeCtrl.selectedIndex=4;break;default:this.typeCtrl.selectedIndex=0}},r.playAnim=function(){this.animTrans.play()},i}(n)).URL="ui://Common/cm_WizardBg",s=a))||s);i._RF.pop()}}}));

System.register("chunks:///_virtual/ui.worker.major.unlock.controller.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./event.dispatcher.ts","./event.name.ts","./enum.farm.coin.res.ts","./resource.manager.ts","./table.helper.ts","./model.mainrole.manager.ts","./net.helper.ts","./sound.helper.ts","./common.tool.ts","./logic.tool.ts","./ui.float.text.controller.ts","./ui.base.controller.ts"],(function(e){"use strict";var t,i,n,o,a,r,l,s,c,h,_,k,u,v,d,m,w,f,C,S,p,W,I,D,z;return{setters:[function(e){t=e.inheritsLoose,i=e.createClass,n=e.asyncToGenerator,o=e.regeneratorRuntime},function(e){a=e.cclegacy,r=e._decorator,l=e.input,s=e.Input,c=e.KeyCode,h=e.isValid,_=e.v2,k=e.sp},function(e){u=e.UIPackage},function(e){v=e.EventDispatcher},function(e){d=e.EventName},function(e){m=e.EFarmCoinRes},function(e){w=e.ResourceManager},function(e){f=e.TableHelper},function(e){C=e.ModelMainRoleManager},function(e){S=e.NetHelper},function(e){p=e.SoundHelper},function(e){W=e.CommonTool},function(e){I=e.LogicTool},function(e){D=e.UIFloatTextController},function(e){z=e.UIBaseController}],execute:function(){var g,U;a._RF.push({},"f41b8kGAVtN3aPsGrML5diS","ui.worker.major.unlock.controller",void 0);var M=r.ccclass;e("UIWorkerMajorUnlockController",M("UIWorkerMajorUnlockController")(((U=function(e){function a(){for(var t,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))||this).mFguiPkgName="Details_Wizard",t.mFguiMainViewName="Main_MajorUnlock",t._view=null,t.mWorkerData=null,t}t(a,e);var r=a.prototype;return r.setWorker=function(e){this.mWorkerData=e},r._addEvents=function(){e.prototype._addEvents.call(this),l.on(s.EventType.KEY_DOWN,this._onKeyDown,this),v.on(d.WORKER_LIST_UPDATE_ITEM,this._onWorkerListUpdateItem,this),v.on(d.PLAYERSELF_MONEY_WIZZ_CHANGED,this._onWizzCoinChanged,this)},r._removeEvents=function(){e.prototype._removeEvents.call(this),l.off(s.EventType.KEY_DOWN,this._onKeyDown,this),v.off(d.WORKER_LIST_UPDATE_ITEM,this._onWorkerListUpdateItem,this),v.off(d.PLAYERSELF_MONEY_WIZZ_CHANGED,this._onWizzCoinChanged,this)},r._onKeyDown=function(e){switch(e.keyCode){case c.ESCAPE:this._onCloseClick()}},r._onWorkerListUpdateItem=function(e){e&&null!=this._view&&null!=this.mWorkerData&&e===this.mWorkerData.WorkerData.workerID&&(this.mWorkerData.isSkillLock()||this._setUnlockView())},r._onWizzCoinChanged=function(){this._view&&this._refreshBalanceWizzView()},r.onLoad=function(){a._instance=this,this._startLoadPkg(this.mFguiPkgName)},r.onDestroy=function(){e.prototype.onDestroy.call(this),a._instance=null},r.closeUI=function(){e.prototype.closeUI.call(this)},r.update=function(){this._view},r._onLoadUIFinish=function(){e.prototype._onLoadUIFinish.call(this),this._view=u.createObject(this.mFguiPkgName,this.mFguiMainViewName).asCom,this._addUIToRoot(this._view),this._view.makeFullScreen(),this._view.closeBtn.onClick(this._onCloseClick,this),this._view.checkBtn.onClick(this._onCheckClick,this),this._view.costWizzBtn.onClick(this._onWizzUnlockClick,this),this._loadStaticModelShow(this._view.animBall,"MajorSkillsAni_CrystalBall",95,94),this._loadStaticModelShow(this._view.animCandleL,"MajorSkillsAni_Candle2",38,47),this._loadStaticModelShow(this._view.animCandleR,"MajorSkillsAni_Candle1",22,35),this._loadStaticModelShow(this._view.animBook,"MajorSkillsAni_Book",252,282,"idle"),this._initView(),this._initData()},r._initView=function(){this._view.isUnlockCtrl.selectedIndex=0,this._view.checkBtn.visible=!1,this._view.costSliverBtn.visible=!1,this._view.costWizzBtn.visible=!0,this._view.majorTitle.text=f.getI18nUIText("u.10144"),this._view.majorRule.visible=!1,this._view.majorRuleWind.visible=!1,this._view.retrainCount.visible=!1,this._view.costWizzBtn.title=f.getI18nUIText("u.10139"),this._view.costSliverBtn.title=f.getI18nUIText("u.10139")},r._onCloseClick=function(){p.PlaySound_UICommonClose(),v.emit(d.UI_WORKER_MAJOR_UNLOCK_CLOSE)},r._onWizzUnlockClick=function(){(p.PlaySound_UICommonClick(),null!=this.mWorkerData)&&(f.getAllParamRecord(126).paramValue>Number.parseFloat(C.instance.WizzCoin)?D.AddTipI18nID_Info("u.2506"):S.openProfessionSkill(this.mWorkerData.WorkerData.workerID))},r._onCheckClick=function(){p.PlaySound_UICommonClick(),this._onCloseClick()},r._initData=function(){var e=f.getWorkerData(this.mWorkerData.WorkerData.roleID);if(null!=e){var t=f.getWorkerLevel(this.mWorkerData.WorkerData.roleLevel);null!=t&&(this._loadModelShow(e.resModelPath),this._setWorkerStar(t.star),this._setLockView(),this._refreshBalanceWizzView())}},r._setLockView=function(){if(this._view.isUnlockCtrl.selectedIndex=0,this._view.checkBtn.visible=!1,this._view.costWizzBtn.visible=!0,104===this.mWorkerData.WorkerData.roleID)this._view.costWizzBtn.setBtnData([m.Token_Wizz,0]);else{var e=f.getAllParamRecord(126).paramValue;this._view.costWizzBtn.setBtnData([m.Token_Wizz,e])}},r._refreshBalanceWizzView=function(){var e=Math.floor(100*Number.parseFloat(C.instance.WizzCoin))/100;this._view.balanceWizzValue.text=I.i18nFormat(f.getI18nUIText("u.10156"),[e.toString()])},r._setUnlockView=function(){var e=n(o().mark((function e(){var t,i,n,a,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._view.isUnlockCtrl.selectedIndex=1,this._view.checkBtn.visible=!0,this._view.costWizzBtn.visible=!1,this._view.workerSkill.removeChildren(),this._loadBookModelShow(this._view.animBook,"MajorSkillsAni_Book",252,282,"animation"),p.PlaySound_MajorUnlockLeafBook(),e.next=8,W.sleep(700);case 8:if(h(this.node)){e.next=10;break}return e.abrupt("return");case 10:for(t=this.mWorkerData.getSkillList(),i=[],n=0;n<t.length;n++)(a=this._view.workerSkill.addItem()).initSkillAnim(t[n]),i.push(a);r=0;case 14:if(!(r<i.length)){e.next=24;break}return e.next=17,W.sleep(300);case 17:if(h(this.node)){e.next=19;break}return e.abrupt("return");case 19:i[r].playSkillAnim(),p.PlaySound_MajorUnlockGetSkill();case 21:r++,e.next=14;break;case 24:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),r._setWorkerStar=function(e){this._view.workerStar.removeChildren();for(var t=0;t<e;t++)this._view.workerStar.addItem()},r._loadModelShow=function(e){var t=this;w.instance.loadAvatarSkeletonData(e).then((function(e){h(t.node)&&(t._view.workerIcon&&t._view.workerIcon.node&&t._view.workerIcon.node.scale&&t._view.workerIcon.setScale(2.5,2.5),t._view.workerIcon.clearContent(),t._view.workerIcon.skinName=e.defaultSkin,t._view.workerIcon.animationName="idle",t._view.workerIcon.setSpine(e.skeletonData,_(29.5,49.5)))}))},r._loadStaticModelShow=function(e,t,i,n,o){var a=this;void 0===o&&(o="animation"),w.instance.loadFarmRes(t,(function(t){if(h(a.node)){var r=t.data,l=null==r?void 0:r.getComponentInChildren(k.Skeleton);r&&(e.clearContent(),e.skinName=l.defaultSkin,e.loop=!0,e.animationName=o,e.setSpine(l.skeletonData,_(i,n)),e.content.timeScale=.5)}}))},r._loadBookModelShow=function(e,t,i,n,o){var a=this;w.instance.loadFarmRes(t,(function(t){if(h(a.node)){var r=t.data,l=null==r?void 0:r.getComponentInChildren(k.Skeleton);r&&(e.clearContent(),e.skinName=l.defaultSkin,e.loop=!1,e.animationName=o,e.setSpine(l.skeletonData,_(i,n)),e.content.timeScale=.5)}}))},i(a,null,[{key:"instance",get:function(){return this._instance}}]),a}(z)).CTRL_NAME="UIWorkerMajorUnlockController",U._instance=null,g=U))||g);a._RF.pop()}}}));

System.register("chunks:///_virtual/ui.worker.major.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(i){"use strict";var t,e,o,n;return{setters:[function(i){t=i.inheritsLoose},function(i){e=i.cclegacy,o=i._decorator},function(i){n=i.GComponent}],execute:function(){var l,r;e._RF.push({},"a2b2eQIP75O4JW5qAum2CbL","ui.worker.major.view",void 0);var s=o.ccclass;i("default",s("UIWorkerMajorView")(((r=function(i){function e(){var t;return(t=i.call(this)||this).isUnlockCtrl=void 0,t.closeBtn=void 0,t.majorTitle=void 0,t.majorRule=void 0,t.workerIcon=void 0,t.workerStar=void 0,t.workerDesc=void 0,t.workerSkill=void 0,t.animBook=void 0,t.animBall=void 0,t.animCandleL=void 0,t.animCandleR=void 0,t.checkBtn=void 0,t.retrainCount=void 0,t.costSliverBtn=void 0,t.costWizzBtn=void 0,t.balanceWizzValue=void 0,t.majorRuleWind=void 0,t.majorRuleCloseBtn=void 0,t.majorRuleCheckBtn=void 0,t.majorRuleConfirmBtn=void 0,t}return t(e,i),e.prototype.onConstruct=function(){this.isUnlockCtrl=this.getController("IsUnlock"),this.closeBtn=this.getChild("ui_WindClose"),this.majorTitle=this.getChild("ui_Title"),this.majorRule=this.getChild("ui_BtnMajorRetrainingRules"),this.workerIcon=this.getChild("ui_WorkerIcon"),this.workerStar=this.getChild("ui_AwakenStar"),this.workerDesc=this.getChild("ui_WorkerDes"),this.workerSkill=this.getChild("ui_SkillList"),this.animBook=this.getChild("ui_Ani_Book"),this.animBall=this.getChild("ui_Ani_CrystalBall"),this.animCandleL=this.getChild("ui_Ani_CandleLeft"),this.animCandleR=this.getChild("ui_Ani_CandleRight"),this.retrainCount=this.getChild("ui_MajorRetrainingCount"),this.checkBtn=this.getChild("ui_BtnCheck"),this.costSliverBtn=this.getChild("ui_BtnSliver"),this.costWizzBtn=this.getChild("ui_BtnWizz"),this.balanceWizzValue=this.getChild("ui_BalanceValue"),this.majorRuleWind=this.getChild("ui_WindMajorRetrainingRules");var i=this.majorRuleWind.getChild("n4");this.majorRuleCloseBtn=i.getChild("ui_WindClose"),this.majorRuleCheckBtn=i.getChild("ui_BtnCheck"),this.majorRuleConfirmBtn=i.getChild("ui_BtnOK")},e}(n)).URL="ui://Details_Wizard/Main_MajorUnlock",l=r))||l);e._RF.pop()}}}));

System.register("chunks:///_virtual/ui.worker.market.buy.controller.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./chain.system.ts","./enum.chain.type.ts","./chain.operate.interface.ts","./chain.operate.marketplace.wizard.buy.ts","./event.dispatcher.ts","./event.name.ts","./use.ethers.ts","./sdk.manager.ts","./resource.manager.ts","./table.helper.ts","./model.worker.manager.ts","./sound.helper.ts","./common.tool.ts","./logic.tool.ts","./ui.float.text.controller.ts","./ui.base.controller.ts"],(function(e){"use strict";var t,r,i,a,o,n,s,l,c,h,k,u,_,w,d,v,f,m,D,W,C,I,p,S,y,g,E,A,T;return{setters:[function(e){t=e.inheritsLoose,r=e.createClass,i=e.asyncToGenerator,a=e.regeneratorRuntime},function(e){o=e.cclegacy,n=e._decorator,s=e.input,l=e.Input,c=e.KeyCode,h=e.Color,k=e.isValid,u=e.v2},function(e){_=e.UIPackage},function(e){w=e.ChainSystem},function(e){d=e.EChainType},function(e){v=e.ChainOperateStatus},function(e){f=e.ChainOperateMarketplaceWizardBuy},function(e){m=e.EventDispatcher},function(e){D=e.EventName},function(e){W=e.formatEther},function(e){C=e.SDKManager},function(e){I=e.ResourceManager},function(e){p=e.TableHelper},function(e){S=e.ModelWorkerManager},function(e){y=e.SoundHelper},function(e){g=e.CommonTool},function(e){E=e.LogicTool},function(e){A=e.UIFloatTextController},function(e){T=e.UIBaseController}],execute:function(){var L,M;o._RF.push({},"54550M1+9BIopnhNEqtw3Bj","ui.worker.market.buy.controller",void 0);var N=n.ccclass;e("UIWorkerMarketBuyController",N("UIWorkerMarketBuyController")(((M=function(e){function o(){for(var t,r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(t=e.call.apply(e,[this].concat(i))||this).mFguiPkgName="Details_Wizard",t.mFguiMainViewName="Main_BuySell",t._view=null,t.mWorkerData=null,t.mWorkerSkillData=null,t}t(o,e);var n=o.prototype;return n._addEvents=function(){e.prototype._addEvents.call(this),s.on(l.EventType.KEY_DOWN,this._onKeyDown,this),m.on(D.WIZARD_WALLET_COIN_DATA_CHANGED,this._refreshWalletCoinDataChanged,this)},n._removeEvents=function(){e.prototype._removeEvents.call(this),s.off(l.EventType.KEY_DOWN,this._onKeyDown,this),m.off(D.WIZARD_WALLET_COIN_DATA_CHANGED,this._refreshWalletCoinDataChanged,this)},n._onKeyDown=function(e){switch(e.keyCode){case c.ESCAPE:this._onCloseClick()}},n._refreshWalletCoinDataChanged=function(e){null!==this._view&&null!=this.mWorkerData&&e&&e===w.instance.beraCoin.key&&(this._refreshBuyTotalPrice(),this._refreshBalanceWizzView())},n.setWorker=function(e){this.mWorkerData=e,this.mWorkerSkillData=this._parseSkillData()},n._parseSkillData=function(){for(var e=this.mWorkerData.wizardData.skillAmount,t=this.mWorkerData.wizardData.skillData.split(",",e),r=[],i=0,a=0;a<t.length;a++){var o=Number.parseInt(t[a]),n=p.getWorkerProfessionSkill(o);n&&i<n.skillLevel&&(i=n.skillLevel),r.push(o)}return{skillIDs:r,skillHighestLevel:i}},n.onLoad=function(){o._instance=this,this._startLoadPkg(this.mFguiPkgName)},n.onDestroy=function(){e.prototype.onDestroy.call(this),o._instance=null},n.closeUI=function(){e.prototype.closeUI.call(this)},n.update=function(){this._view},n._onLoadUIFinish=function(){e.prototype._onLoadUIFinish.call(this),this._view=_.createObject(this.mFguiPkgName,this.mFguiMainViewName).asCom,this._addUIToRoot(this._view),this._view.makeFullScreen(),this._view.closeBtn.onClick(this._onCloseClick,this),this._view.workerInfoBtn.onClick(this._onWorkerInfoClick,this),this._view.buyBtn.onClick(this._onBuyClick,this),this._view.addressCopyBtn.onClick(this._onAddressCopyClick,this),this._initData()},n._onCloseClick=function(){y.PlaySound_UICommonClose(),m.emit(D.UI_WORKER_MARKET_BUY_CLOSE),m.emit(D.UI_WORKER_ITEM_SELECTED,"0")},n._onWorkerInfoClick=function(){if(y.PlaySound_UICommonClick(),null!=this.mWorkerData){var e=p.getWorkerData(this.mWorkerData.wizardData.dataId);e&&m.emit(D.UI_DETAILS_SHOW_WORKER_INFO,e)}},n._onBuyClick=function(){var e=i(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(y.PlaySound_UICommonClick(),null!=this.mWorkerData){e.next=3;break}return e.abrupt("return");case 3:if(this.mWorkerData.orderOwner.toLowerCase()!==C.instance.curSDKPlugin.accountMeInfo.addressEvm.toLowerCase()){e.next=6;break}return A.AddTipI18nID_Info("u.2543"),e.abrupt("return");case 6:return e.next=8,f.popConfirm(this.mWorkerData.orderID,this.mWorkerData.price,1);case 8:e.sent===v.Success&&(m.emit(D.CHAIN_MARKETPLACE_REFRESH_WIZWARD_DATA),this._onCloseClick());case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n._onAddressCopyClick=function(){if(y.PlaySound_UICommonClick(),null!=this.mWorkerData){var e=w.instance.beraContractWizard.contractConfig.address;e&&g.copyTextNew(e).then((function(){A.AddTipI18nID_Success("u.2516")}))}},n._initData=function(){this._view.titleCtrl.selectedIndex=0,this._view.stateCtrl.selectedPage="Buy",this._refreshWorkerData(),this._refreshWorkerAttr(),this._refreshWorkerSkill(),this.mWorkerData.orderOwner.toLowerCase()===C.instance.curSDKPlugin.accountMeInfo.addressEvm.toLowerCase()?this._view.isMyOrderCtrl.selectedIndex=1:this._view.isMyOrderCtrl.selectedIndex=0,this._view.buyOwner.text=g.shortAddress(this.mWorkerData.wizardData.ownerAddress,6),this._refreshBuyTotalPrice(),this._refreshBalanceWizzView();var e=w.instance.beraContractWizard.contractConfig.address;this._view.addressValue.text=p.getI18nUIText("u.13429")+" "+g.shortAddress(e,6)},n._refreshBuyTotalPrice=function(){if(this.mWorkerData){var e=Number.parseFloat(W(this.mWorkerData.price));this._view.buyPrice.text=e+" BERA";var t=w.instance.beraCoin.balance>=e;this._view.buyBtn.setBtnChainData("Coin_Bera",e,t)}},n._refreshBalanceWizzView=function(){if(this.mWorkerData){var e=E.NumberOmit(w.instance.beraCoin.balance.toString(),4,!0);this._view.wizzBalance.text=E.i18nFormat(p.getI18nUIText("u.14009"),[e,"BERA"])}},n._refreshWorkerData=function(){var e=p.getWorkerData(this.mWorkerData.wizardData.dataId);if(null!=e){var t=p.getWorkerLevel(this.mWorkerData.wizardData.level);null!=t&&(this._loadModelShow(e.resModelPath),this._setWorkerStar(t.star),this._setWorkerSmallSkill(this.mWorkerSkillData.skillIDs),this._view.workerMajor.setMajorType(this.mWorkerSkillData.skillHighestLevel),this._view.workerChain.setChainType(d.Bera),this._view.workerName.text="W# "+this.mWorkerData.wizardData.tokenId,this._view.workerLevel.text=E.i18nFormat(p.getI18nUIText("u.10102"),[t.showLevel.toString()]),this._view.workerDesc.text=e.workerDesc)}},n._refreshWorkerAttr=function(){for(var e=[0,0,0,0,0],t=this.mWorkerSkillData.skillIDs,r=0;r<t.length;r++){var i=p.getWorkerProfessionSkill(t[r]);i&&(e[i.skillType-1]+=i.skillParam)}var a=S.LoadWorkerAttrData(this.mWorkerData.wizardData.dataId,this.mWorkerData.wizardData.level),o=E.NumberTransform(Math.floor(a[0]*(1+e[0]/100))),n=e[0]>0?h.GREEN:h.WHITE;this._view.setWorkerAttr(this._view.workerAttr1,o,n);var s=Math.floor(a[1]*(1+e[1]/100)/100).toString(),l=e[1]>0?h.GREEN:h.WHITE;this._view.setWorkerAttr(this._view.workerAttr2,s,l);var c=Math.floor(a[2]*(1+e[2]/100)/100).toString(),k=e[2]>0?h.GREEN:h.WHITE;this._view.setWorkerAttr(this._view.workerAttr3,c,k);var u=Math.floor(a[3]*(1+e[3]/100)/100).toString(),_=e[3]>0?h.GREEN:h.WHITE;this._view.setWorkerAttr(this._view.workerAttr4,u,_);var w=Math.floor(a[4]*(1+e[4]/100)/100).toString(),d=e[4]>0?h.GREEN:h.WHITE;this._view.setWorkerAttr(this._view.workerAttr5,w,d)},n._refreshWorkerSkill=function(){if(this.mWorkerSkillData.skillIDs.length>0){this._view.skillView.stateCtrl.selectedPage="Opened";var e=this.mWorkerData.wizardData.retrainNum.toString();this.mWorkerData.wizardData.retrainNum>40&&(e="40+"),this._view.skillView.retrainCount.text=E.i18nFormat(p.getI18nUIText("u.10150"),[e]),this._setWorkerSkill()}else this._view.skillView.stateCtrl.selectedPage="Locked"},n._setWorkerSkill=function(){var e=this.mWorkerSkillData.skillIDs;this._view.skillView.skillList.removeChildren();for(var t=0;t<e.length;t++){this._view.skillView.skillList.addItem().setSkillData(e[t])}},n._setWorkerStar=function(e){this._view.workerStar.removeChildren();for(var t=0;t<e;t++)this._view.workerStar.addItem()},n._setWorkerSmallSkill=function(e){this._view.workerSkill.removeChildren();for(var t=0;t<e.length;t++){this._view.workerSkill.addItem().setSkillData(e[t])}},n._loadModelShow=function(e){var t=this;I.instance.loadAvatarSkeletonData(e).then((function(e){k(t.node)&&(t._view.workerIcon&&t._view.workerIcon.node&&t._view.workerIcon.node.scale&&t._view.workerIcon.setScale(2.5,2.5),t._view.workerIcon.clearContent(),t._view.workerIcon.skinName=e.defaultSkin,t._view.workerIcon.animationName="idle",t._view.workerIcon.setSpine(e.skeletonData,u(30,45)))}))},r(o,null,[{key:"instance",get:function(){return this._instance}}]),o}(T)).CTRL_NAME="UIWorkerMarketBuyController",M._instance=null,L=M))||L);o._RF.pop()}}}));

System.register("chunks:///_virtual/ui.worker.market.buysell.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(i){"use strict";var t,e,r,o;return{setters:[function(i){t=i.inheritsLoose},function(i){e=i.cclegacy,r=i._decorator},function(i){o=i.GComponent}],execute:function(){var s,l;e._RF.push({},"b61e8Ae8A5Fvpeh/wom8l32","ui.worker.market.buysell.view",void 0);var d=r.ccclass;i("default",d("UIWorkerMarketBuySellView")(((l=function(i){function e(){var t;return(t=i.call(this)||this).titleCtrl=void 0,t.stateCtrl=void 0,t.isMyOrderCtrl=void 0,t.closeBtn=void 0,t.wind=void 0,t.workerIcon=void 0,t.workerName=void 0,t.workerDesc=void 0,t.workerStar=void 0,t.workerLevel=void 0,t.workerMajor=void 0,t.workerChain=void 0,t.workerSkill=void 0,t.workerInfoBtn=void 0,t.workerAttr1=void 0,t.workerAttr2=void 0,t.workerAttr3=void 0,t.workerAttr4=void 0,t.workerAttr5=void 0,t.skillView=void 0,t.sellTokenIcon=void 0,t.sellPrice=void 0,t.sellTip=void 0,t.sellBtn=void 0,t.buyOwner=void 0,t.buyPrice=void 0,t.buyBtn=void 0,t.wizzBalance=void 0,t.addressValue=void 0,t.addressCopyBtn=void 0,t}t(e,i);var r=e.prototype;return r.onConstruct=function(){this.titleCtrl=this.getController("IsTitleOnChain"),this.closeBtn=this.getChild("ui_WindClose"),this.wind=this.getChild("ui_WindWizardDetails"),this.stateCtrl=this.wind.getController("State"),this.isMyOrderCtrl=this.wind.getController("IsMyOrder"),this.workerIcon=this.wind.getChild("ui_WorkerIcon"),this.workerName=this.wind.getChild("ui_WorkerName"),this.workerDesc=this.wind.getChild("ui_WorkerDes"),this.workerStar=this.wind.getChild("ui_AwakenStar"),this.workerLevel=this.wind.getChild("ui_WorkerLevel"),this.workerMajor=this.wind.getChild("ui_PatternBg"),this.workerChain=this.wind.getChild("ui_ChainType"),this.workerSkill=this.wind.getChild("ui_MajorSkillList"),this.workerInfoBtn=this.wind.getChild("ui_BtnWizardDes"),this.workerAttr1=this.wind.getChild("ui_Att01"),this.workerAttr2=this.wind.getChild("ui_Att02"),this.workerAttr3=this.wind.getChild("ui_Att03"),this.workerAttr4=this.wind.getChild("ui_Att04"),this.workerAttr5=this.wind.getChild("ui_Att05"),this.skillView=this.wind.getChild("ui_ProfessionSkill"),this.sellTokenIcon=this.wind.getChild("ui_TokenIcon2"),this.sellPrice=this.wind.getChild("ui_InputPrice"),this.sellTip=this.wind.getChild("ui_AttentionLabel"),this.sellBtn=this.wind.getChild("ui_BtnSell"),this.buyOwner=this.wind.getChild("ui_OwnerValue"),this.buyPrice=this.wind.getChild("ui_SinglePriceValue"),this.buyBtn=this.wind.getChild("ui_BtnBuy"),this.wizzBalance=this.wind.getChild("ui_Balance_WIZZ"),this.addressValue=this.wind.getChild("ui_WalletAddress"),this.addressCopyBtn=this.wind.getChild("ui_BtnAccountCopy")},r.setWorkerAttr=function(i,t,e){var r=i.getChild("ui_Value");r&&(r.text=t,r.color=e)},e}(o)).URL="ui://Details_Wizard/Main_BuySell",s=l))||s);e._RF.pop()}}}));

System.register("chunks:///_virtual/ui.worker.market.sell.controller.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./chain.operate.interface.ts","./chain.operate.marketplace.wizard.sale.ts","./event.dispatcher.ts","./event.name.ts","./resource.manager.ts","./table.helper.ts","./model.worker.manager.ts","./sound.helper.ts","./logic.tool.ts","./resource.path.tool.ts","./ui.float.text.controller.ts","./ui.base.controller.ts"],(function(e){"use strict";var t,r,i,o,n,s,l,a,h,k,c,_,u,v,w,f,m,W,I,d,S,C,p,E,D,g,M;return{setters:[function(e){t=e.inheritsLoose,r=e.createClass,i=e.asyncToGenerator,o=e.regeneratorRuntime},function(e){n=e.cclegacy,s=e._decorator,l=e.input,a=e.Input,h=e.KeyCode,k=e.EditBox,c=e.Color,_=e.isValid,u=e.v2},function(e){v=e.UIPackage,w=e.Event},function(e){f=e.ChainOperateStatus},function(e){m=e.ChainOperateMarketplaceWizardSale},function(e){W=e.EventDispatcher},function(e){I=e.EventName},function(e){d=e.ResourceManager},function(e){S=e.TableHelper},function(e){C=e.ModelWorkerManager},function(e){p=e.SoundHelper},function(e){E=e.LogicTool},function(e){D=e.ResourcePathTool},function(e){g=e.UIFloatTextController},function(e){M=e.UIBaseController}],execute:function(){var N,T;n._RF.push({},"d4df0WseO1P7q10YfMM8mIM","ui.worker.market.sell.controller",void 0);var R=s.ccclass;e("UIWorkerMarketSellController",R("UIWorkerMarketSellController")(((T=function(e){function n(){for(var t,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))||this).mFguiPkgName="Details_Wizard",t.mFguiMainViewName="Main_BuySell",t._view=null,t.MAX_NUMBER=999999999,t.MIN_NUMBER=1e-4,t.fee=5,t.mWorkerData=null,t}t(n,e);var s=n.prototype;return s._addEvents=function(){e.prototype._addEvents.call(this),l.on(a.EventType.KEY_DOWN,this._onKeyDown,this)},s._removeEvents=function(){e.prototype._removeEvents.call(this),l.off(a.EventType.KEY_DOWN,this._onKeyDown,this)},s._onKeyDown=function(e){switch(e.keyCode){case h.ESCAPE:this._onCloseClick()}},s.setWorker=function(e){this.mWorkerData=e},s.onLoad=function(){n._instance=this,this._startLoadPkg(this.mFguiPkgName)},s.onDestroy=function(){e.prototype.onDestroy.call(this),n._instance=null},s.closeUI=function(){e.prototype.closeUI.call(this)},s.update=function(){this._view},s._onLoadUIFinish=function(){e.prototype._onLoadUIFinish.call(this),this._view=v.createObject(this.mFguiPkgName,this.mFguiMainViewName).asCom,this._addUIToRoot(this._view),this._view.makeFullScreen(),this._view.sellPrice._editBox.inputMode=k.InputMode.DECIMAL,this._view.sellPrice.on(w.TEXT_CHANGE,this._onSellPriceTextChanged,this),this._view.closeBtn.onClick(this._onCloseClick,this),this._view.workerInfoBtn.onClick(this._onWorkerInfoClick,this),this._view.sellBtn.onClick(this._onSellClick,this),this._initData()},s._onSellPriceTextChanged=function(){var e=Number.parseFloat(this._view.sellPrice.text);isNaN(e)&&(e=0),e<this.MIN_NUMBER&&(e=this.MIN_NUMBER),e>this.MAX_NUMBER&&(e=this.MAX_NUMBER);var t=1/this.MIN_NUMBER;e=Math.floor(e*t)/t,this._view.sellPrice.text=e.toString(),this._view.sellTip.text=this.refreshSellDescInfo(e)},s.refreshSellDescInfo=function(e){var t=e*(100-this.fee)/100,r=E.NumberOmit(t.toString(),6);return t<0&&(r="0"),r+=" BERA",E.i18nFormat(S.getI18nUIText("u.13917"),[this.fee.toString(),r])},s._onCloseClick=function(){p.PlaySound_UICommonClose(),W.emit(I.UI_WORKER_MARKET_SELL_CLOSE),W.emit(I.UI_WORKER_ITEM_SELECTED,"0")},s._onWorkerInfoClick=function(){if(p.PlaySound_UICommonClick(),null!=this.mWorkerData){var e=S.getWorkerData(this.mWorkerData.WorkerID);e&&W.emit(I.UI_DETAILS_SHOW_WORKER_INFO,e)}},s._onSellClick=function(){var e=i(o().mark((function e(){var t,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(p.PlaySound_UICommonClick(),null!=this.mWorkerData){e.next=3;break}return e.abrupt("return");case 3:if(t=1/this.MIN_NUMBER,!((r=Math.floor(Number.parseFloat(this._view.sellPrice.text)*t)/t)<=0)){e.next=8;break}return g.AddTipI18nID_Failed("u.2546"),e.abrupt("return");case 8:return e.next=10,m.popConfirm(this.mWorkerData.TokenID,r);case 10:e.sent===f.Success&&(W.emit(I.CHAIN_MARKETPLACE_REFRESH_WIZWARD_DATA),this._onCloseClick(),W.emit(I.UI_WORKER_DETAIL_ONCHAIN_CLOSE));case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),s._initData=function(){this._view.titleCtrl.selectedIndex=1,this._view.stateCtrl.selectedPage="Sell",this._view.sellTokenIcon.url=D.getUIFarmItemPath("Coin_Bera"),this._refreshWorkerData(),this._refreshWorkerAttr(),this._refreshWorkerSkill(),this._view.sellPrice.text="0",this._view.sellTip.text=this.refreshSellDescInfo(0)},s._refreshWorkerData=function(){var e=S.getWorkerData(this.mWorkerData.WorkerID);if(null!=e){var t=S.getWorkerLevel(this.mWorkerData.WorkerLevel);null!=t&&(this._loadModelShow(e.resModelPath),this._setWorkerStar(t.star),this._setWorkerSmallSkill(this.mWorkerData.getSkillList()),this._view.workerMajor.setMajorType(this.mWorkerData.skillHighestLevel),this._view.workerChain.setChainType(this.mWorkerData.ChainType),this._view.workerName.text="W# "+this.mWorkerData.TokenID,this._view.workerLevel.text=E.i18nFormat(S.getI18nUIText("u.10102"),[t.showLevel.toString()]),this._view.workerDesc.text=e.workerDesc)}},s._refreshWorkerAttr=function(){for(var e=[0,0,0,0,0],t=this.mWorkerData.getSkillList(),r=0;r<t.length;r++){var i=S.getWorkerProfessionSkill(t[r]);i&&(e[i.skillType-1]+=i.skillParam)}var o=C.LoadWorkerAttrData(this.mWorkerData.WorkerID,this.mWorkerData.WorkerLevel),n=E.NumberTransform(Math.floor(o[0]*(1+e[0]/100))),s=e[0]>0?c.GREEN:c.WHITE;this._view.setWorkerAttr(this._view.workerAttr1,n,s);var l=Math.floor(o[1]*(1+e[1]/100)/100).toString(),a=e[1]>0?c.GREEN:c.WHITE;this._view.setWorkerAttr(this._view.workerAttr2,l,a);var h=Math.floor(o[2]*(1+e[2]/100)/100).toString(),k=e[2]>0?c.GREEN:c.WHITE;this._view.setWorkerAttr(this._view.workerAttr3,h,k);var _=Math.floor(o[3]*(1+e[3]/100)/100).toString(),u=e[3]>0?c.GREEN:c.WHITE;this._view.setWorkerAttr(this._view.workerAttr4,_,u);var v=Math.floor(o[4]*(1+e[4]/100)/100).toString(),w=e[4]>0?c.GREEN:c.WHITE;this._view.setWorkerAttr(this._view.workerAttr5,v,w)},s._refreshWorkerSkill=function(){var e=S.getAllParamRecord(125).paramValue;if(this.mWorkerData.WorkerLevel<e)this._view.skillView.stateCtrl.selectedPage="Locked";else if(this.mWorkerData.isSkillLock())this._view.skillView.stateCtrl.selectedPage="Unlock";else{this._view.skillView.stateCtrl.selectedPage="Opened";var t=this.mWorkerData.skillRetrainCount.toString();this.mWorkerData.skillRetrainCount>40&&(t="40+"),this._view.skillView.retrainCount.text=E.i18nFormat(S.getI18nUIText("u.10150"),[t]),this._setWorkerSkill()}},s._setWorkerSkill=function(){var e=this.mWorkerData.getSkillList();this._view.skillView.skillList.removeChildren();for(var t=0;t<e.length;t++){this._view.skillView.skillList.addItem().setSkillData(e[t])}},s._setWorkerStar=function(e){this._view.workerStar.removeChildren();for(var t=0;t<e;t++)this._view.workerStar.addItem()},s._setWorkerSmallSkill=function(e){this._view.workerSkill.removeChildren();for(var t=0;t<e.length;t++){this._view.workerSkill.addItem().setSkillData(e[t])}},s._setWorkerSmallSkillLock=function(e){for(var t=this._view.workerSkill.numChildren,r=0;r<t;r++){this._view.workerSkill.getChildAt(r).setSkillLock(e)}},s._loadModelShow=function(e){var t=this;d.instance.loadAvatarSkeletonData(e).then((function(e){_(t.node)&&(t._view.workerIcon&&t._view.workerIcon.node&&t._view.workerIcon.node.scale&&t._view.workerIcon.setScale(2.5,2.5),t._view.workerIcon.clearContent(),t._view.workerIcon.skinName=e.defaultSkin,t._view.workerIcon.animationName="idle",t._view.workerIcon.setSpine(e.skeletonData,u(30,45)))}))},r(n,null,[{key:"instance",get:function(){return this._instance}}]),n}(M)).CTRL_NAME="UIWorkerMarketSellController",T._instance=null,N=T))||N);n._RF.pop()}}}));

System.register("chunks:///_virtual/ui.worker.skill.detail.item.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./event.dispatcher.ts","./event.name.ts","./table.helper.ts","./sound.helper.ts","./resource.path.tool.ts"],(function(t){"use strict";var i,l,e,s,n,o,r,c,u;return{setters:[function(t){i=t.inheritsLoose},function(t){l=t.cclegacy,e=t._decorator},function(t){s=t.GComponent},function(t){n=t.EventDispatcher},function(t){o=t.EventName},function(t){r=t.TableHelper},function(t){c=t.SoundHelper},function(t){u=t.ResourcePathTool}],execute:function(){var a,k;l._RF.push({},"296f5N9F29JAJOfI+kVTDLu","ui.worker.skill.detail.item.view",void 0);var h=e.ccclass;t("default",h("UIWorkerSkillDetailItemView")(((k=function(t){function l(){var i;return(i=t.call(this)||this).qualityCtrl=void 0,i.isNoneCtrl=void 0,i.skillIcon=void 0,i.skillQuality=void 0,i.mSkillID=0,i.mIsClickEnable=!1,i}i(l,t);var e=l.prototype;return e.onConstruct=function(){this.qualityCtrl=this.getController("SkillQuality"),this.isNoneCtrl=this.getController("IsNone"),this.skillIcon=this.getChild("ui_SkillIcon"),this.skillQuality=this.getChild("ui_SkillQuality"),this.onClick(this._onSkillItemClick,this)},e._onSkillItemClick=function(){this.mIsClickEnable&&(c.PlaySound_UICommonClick(),0!==this.mSkillID&&n.emit(o.UI_DETAILS_SHOW_WORKER_SKILL,this.mSkillID))},e.setSkillData=function(t,i){void 0===i&&(i=!0),this.mSkillID=t,this.mIsClickEnable=i;var l=r.getWorkerProfessionSkill(t);l&&(this.qualityCtrl.selectedIndex=l.skillLevel-1,this.skillIcon.url=u.getUISkillItemPath(l.skillIcon),this.isNoneCtrl.selectedIndex=0)},e.setNullData=function(){this.mIsClickEnable=!1,this.isNoneCtrl.selectedIndex=1},l}(s)).URL="ui://Common/cm_SkillListItem",a=k))||a);l._RF.pop()}}}));

System.register("chunks:///_virtual/ui.worker.skill.item.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./table.helper.ts","./resource.path.tool.ts"],(function(t){"use strict";var i,l,e,o,s,r;return{setters:[function(t){i=t.inheritsLoose},function(t){l=t.cclegacy,e=t._decorator},function(t){o=t.GComponent},function(t){s=t.TableHelper},function(t){r=t.ResourcePathTool}],execute:function(){var n,c;l._RF.push({},"bc83bQPE8xCHbiYDFvrqitr","ui.worker.skill.item.view",void 0);var u=e.ccclass;t("default",u("UIWorkerSkillItemView")(((c=function(t){function l(){var i;return(i=t.call(this)||this).qualityCtrl=void 0,i.isLockCtrl=void 0,i.skillIcon=void 0,i.skillQuality=void 0,i.mSkillID=0,i}i(l,t);var e=l.prototype;return e.onConstruct=function(){this.qualityCtrl=this.getController("SkillQuality"),this.isLockCtrl=this.getController("IsLocked"),this.skillIcon=this.getChild("ui_SkillIcon"),this.skillQuality=this.getChild("ui_SkillQuality")},e.setSkillData=function(t){this.mSkillID=t;var i=s.getWorkerProfessionSkill(t);i&&(this.qualityCtrl.selectedIndex=i.skillLevel-1,this.skillIcon.url=r.getUISkillItemPath(i.skillIcon),this.isLockCtrl.selectedIndex=0)},e.setSkillLock=function(t){this.isLockCtrl.selectedIndex=t?1:0},l}(o)).URL="ui://Common/cm_SkillListItem_Card",n=c))||n);l._RF.pop()}}}));

System.register("chunks:///_virtual/ui.worker.synthesis.controller.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./event.dispatcher.ts","./event.name.ts","./resource.manager.ts","./table.helper.ts","./model.worker.manager.ts","./farm.client.protocol.ts","./sound.helper.ts","./logic.tool.ts","./ui.float.text.controller.ts","./ui.base.controller.ts","./ui.worker.synthesis.skill.item.view.ts"],(function(e){"use strict";var r,i,t,o,a,s,n,l,k,h,c,m,d,_,u,y,v,W,S,w,D,f;return{setters:[function(e){r=e.inheritsLoose,i=e.createClass},function(e){t=e.cclegacy,o=e._decorator,a=e.input,s=e.Input,n=e.KeyCode,l=e.isValid,k=e.v2},function(e){h=e.UIPackage,c=e.Event},function(e){m=e.EventDispatcher},function(e){d=e.EventName},function(e){_=e.ResourceManager},function(e){u=e.TableHelper},function(e){y=e.ModelWorkerManager},function(e){v=e.enumWorkerState},function(e){W=e.SoundHelper},function(e){S=e.LogicTool},function(e){w=e.UIFloatTextController},function(e){D=e.UIBaseController},function(e){f=e.default}],execute:function(){var p,L;t._RF.push({},"db5c9tTQR9OwY55Eb3ZZ5mQ","ui.worker.synthesis.controller",void 0);var I=o.ccclass;e("UIWorkerSynthesisController",I("UIWorkerSynthesisController")(((L=function(e){function t(){for(var r,i=arguments.length,t=new Array(i),o=0;o<i;o++)t[o]=arguments[o];return(r=e.call.apply(e,[this].concat(t))||this).mFguiPkgName="WizardSynthesis",r.mFguiMainViewName="Main",r._view=null,r.mPrimaryWorkerData=null,r.mSecondaryWorkerData=null,r.mWorkerData=[],r.AllSkillList=[103,203,303,403,503],r.mCurSkillList=[],r.mUpgradeSkillList=[],r.mCurLuckValue=0,r.mIsOpenWorkerList=!1,r}r(t,e);var o=t.prototype;return o.setWorker=function(e){this.mPrimaryWorkerData=e},o._addEvents=function(){e.prototype._addEvents.call(this),a.on(s.EventType.KEY_DOWN,this._onKeyDown,this),m.on(d.WORKER_LIST_UPDATE_ITEM,this._onWorkerListUpdateItem,this)},o._removeEvents=function(){e.prototype._removeEvents.call(this),a.off(s.EventType.KEY_DOWN,this._onKeyDown,this),m.off(d.WORKER_LIST_UPDATE_ITEM,this._onWorkerListUpdateItem,this)},o._onKeyDown=function(e){switch(e.keyCode){case n.ESCAPE:this._onCloseClick()}},o._onWorkerListUpdateItem=function(e){if(l(this.node)&&null!=this.mPrimaryWorkerData&&e===this.mPrimaryWorkerData.WorkerData.workerID){var r="";if(null!=this.mSecondaryWorkerData){var i=u.getWorkerLevel(this.mSecondaryWorkerData.WorkerData.roleLevel);null!=i&&(r=i.dismissReturn)}m.emit(d.UI_WORKER_SYNTHESIS_SUCC_OPEN,this.mPrimaryWorkerData,this.mUpgradeSkillList,r,this.mCurLuckValue),this.mSecondaryWorkerData=null,this._refreshPrimaryWorkerData(),this._refreshSecondaryWorkerData()}},o.onLoad=function(){t._instance=this,this._startLoadPkg(this.mFguiPkgName)},o.onDestroy=function(){e.prototype.onDestroy.call(this),t._instance=null},o.closeUI=function(){e.prototype.closeUI.call(this)},o.update=function(){this._view},o._onLoadUIFinish=function(){e.prototype._onLoadUIFinish.call(this),this._view=h.createObject(this.mFguiPkgName,this.mFguiMainViewName).asCom,this._addUIToRoot(this._view),this._view.makeFullScreen(),this._view.closeBtn.onClick(this._onUICloseClick,this),this._view.addWorkerBtn.onClick(this._onAddWorkerClick,this),this._view.synthesisBtn.onClick(this._onSynthesisClick,this),this._view.workerList.itemRenderer=this.renderWorkerListItem.bind(this),this._view.workerList.setVirtual(),this._view.workerList.on(c.CLICK_ITEM,this._onWorkerListItemClick,this),this._initData()},o._onUICloseClick=function(){this.mIsOpenWorkerList?(W.PlaySound_UICommonClose(),this._closeWorkerList()):this._onCloseClick()},o._onCloseClick=function(){W.PlaySound_UICommonClose(),m.emit(d.UI_WORKER_SYNTHESIS_CLOSE)},o._onAddWorkerClick=function(){W.PlaySound_UICommonClick(),this._openWorkerList()},o._onSynthesisClick=function(){W.PlaySound_UICommonClick(),null!=this.mPrimaryWorkerData&&(null!=this.mSecondaryWorkerData?this.mSecondaryWorkerData.WorkerData.roleState!==v.eWorkerState_3||w.AddTipI18nID_Info("u.2538"):w.AddTipI18nID_Info("u.2534"))},o._onWorkerListItemClick=function(e){W.PlaySound_UICommonClick();var r=e.WorkerID;this.mSecondaryWorkerData=y.instance.getWorkerDataByID(r),this._refreshSecondaryWorkerData(),this._closeWorkerList(),e.selected=!1,e.btnCtrl.selectedPage="up"},o._initData=function(){this._refreshPrimaryWorkerData(),this._refreshSecondaryWorkerData(),this._closeWorkerList()},o._refreshPrimaryWorkerData=function(){if(null!=this.mPrimaryWorkerData){var e=u.getWorkerData(this.mPrimaryWorkerData.WorkerData.roleID);if(null!=e){var r=u.getWorkerLevel(this.mPrimaryWorkerData.WorkerData.roleLevel);null!=r&&(this._loadPrimaryModelShow(e.resModelPath),this._setPrimaryWorkerStar(r.star),this._view.primaryType.setWorkType(this.mPrimaryWorkerData.WorkerData.roleWorkBuilding),this._view.primaryMajor.setMajorType(this.mPrimaryWorkerData.skillHighestLevel),this._view.primaryExploration.setExplorationType(this.mPrimaryWorkerData.WorkerData.roleState),this._view.primaryName.text=e.workerName,this._view.primaryLevel.text=S.i18nFormat(u.getI18nUIText("u.10102"),[r.showLevel.toString()]),this.mCurLuckValue=20,this._view.primaryLuck.setLuckValue(this.mCurLuckValue),this._setPrimaryWorkerSkill())}}},o._loadPrimaryModelShow=function(e){var r=this;_.instance.loadAvatarSkeletonData(e).then((function(e){l(r.node)&&(r._view.primaryIcon&&r._view.primaryIcon.node&&r._view.primaryIcon.node.scale&&r._view.primaryIcon.setScale(2.5,2.5),r._view.primaryIcon.clearContent(),r._view.primaryIcon.skinName=e.defaultSkin,0===r.mPrimaryWorkerData.WorkerData.roleWorkBuilding?r._view.primaryIcon.animationName="idle":r._view.primaryIcon.animationName="doing",r._view.primaryIcon.setSpine(e.skeletonData,k(30,50)))}))},o._setPrimaryWorkerStar=function(e){this._view.primaryStar.removeChildren();for(var r=0;r<e;r++)this._view.primaryStar.addItem()},o._setPrimaryWorkerSkill=function(){if(this.mPrimaryWorkerData.isSkillLock())this._view.primarySkillList.visible=!1;else{this._view.primarySkillList.visible=!0,this.mCurSkillList=[];var e=this.mPrimaryWorkerData.WorkerData.professionSkillList;this._view.primarySkillList.removeChildren();for(var r=1;r<e.length;r++){this._view.primarySkillList.addItem().setSkillData(e[r]),this.AllSkillList.includes(e[r])&&this.mCurSkillList.push(e[r])}}},o._refreshSecondaryWorkerData=function(){if(null!=this.mSecondaryWorkerData){this._view.isSelectedCtrl.selectedIndex=1;var e=u.getWorkerData(this.mSecondaryWorkerData.WorkerData.roleID);if(null!=e){var r=u.getWorkerLevel(this.mSecondaryWorkerData.WorkerData.roleLevel);null!=r&&(this._loadSecondaryModelShow(e.resModelPath),this._setSecondaryWorkerStar(r.star),this._view.secondaryType.setWorkType(this.mSecondaryWorkerData.WorkerData.roleWorkBuilding),this._view.secondaryMajor.setMajorType(this.mSecondaryWorkerData.skillHighestLevel),this._view.secondaryExploration.setExplorationType(this.mSecondaryWorkerData.WorkerData.roleState),this._view.secondaryName.text=e.workerName,this._view.secondaryLevel.text=S.i18nFormat(u.getI18nUIText("u.10102"),[r.showLevel.toString()]),this._view.secondaryLuck.setLuckValue(0),this._setSecondaryWorkerSkill())}}else{this._view.isSelectedCtrl.selectedIndex=0,this._view.secondarySkillList.visible=!1;for(var i=0;i<this._view.primarySkillList.numChildren;i++){this._view.primarySkillList.getChildAt(i,f).showCommonState()}}},o._loadSecondaryModelShow=function(e){var r=this;_.instance.loadAvatarSkeletonData(e).then((function(e){l(r.node)&&(r._view.secondaryIcon&&r._view.secondaryIcon.node&&r._view.secondaryIcon.node.scale&&r._view.secondaryIcon.setScale(2.5,2.5),r._view.secondaryIcon.clearContent(),r._view.secondaryIcon.skinName=e.defaultSkin,0===r.mSecondaryWorkerData.WorkerData.roleWorkBuilding?r._view.secondaryIcon.animationName="idle":r._view.secondaryIcon.animationName="doing",r._view.secondaryIcon.setSpine(e.skeletonData,k(30,50)))}))},o._setSecondaryWorkerStar=function(e){this._view.secondaryStar.removeChildren();for(var r=0;r<e;r++)this._view.secondaryStar.addItem()},o._setSecondaryWorkerSkill=function(){if(this.mUpgradeSkillList=[],this.mSecondaryWorkerData.isSkillLock())this._view.secondarySkillList.visible=!1;else{this._view.secondarySkillList.visible=!0;var e=this.mSecondaryWorkerData.WorkerData.professionSkillList;this._view.secondarySkillList.removeChildren();for(var r=1;r<e.length;r++){var i=this._view.secondarySkillList.addItem();0!==e[r]?i.setSkillData(e[r],!1):i.setNullData(),this.mCurSkillList.includes(e[r])&&this.mUpgradeSkillList.push(e[r])}}for(var t=0;t<this._view.primarySkillList.numChildren;t++){var o=this._view.primarySkillList.getChildAt(t,f);this.mUpgradeSkillList.includes(o.SkillID)?o.showUpgradeState():o.showCommonState()}},o._openWorkerList=function(){this._view.synthesisWind.visible=!1,this._view.workerListWind.visible=!0,this._refreshWorkerList(),this.mIsOpenWorkerList=!0},o._closeWorkerList=function(){this._view.synthesisWind.visible=!0,this._view.workerListWind.visible=!1,this.mIsOpenWorkerList=!1},o._isWorkerCanShow=function(e){if(e.WorkerData.workerID===this.mPrimaryWorkerData.WorkerData.workerID)return!1;if(e.WorkerData.roleState!==v.eWorkerState_Null)return!1;for(var r=!1,i=0;i<this.mCurSkillList.length;i++)if(e.WorkerData.professionSkillList.includes(this.mCurSkillList[i])){r=!0;break}return r},o._refreshWorkerList=function(e){void 0===e&&(e=!0),this._view.isNoneCtrl.selectedIndex=2;var r=y.instance.getWorkerList();this.mWorkerData=[];for(var i=0;i<r.length;i++)this._isWorkerCanShow(r[i])&&this.mWorkerData.push(r[i]);var t=this.mWorkerData.length;this._view.isNoneCtrl.selectedIndex=t<=0?1:0,this._view.workerList.numItems!==t?this._view.workerList.numItems=t:this._view.workerList.refreshVirtualList(),e&&this._view.workerList.scrollToView(0)},o.renderWorkerListItem=function(e,r){e>=this.mWorkerData.length||r.setInGameWorkerData(this.mWorkerData[e],!1)},i(t,null,[{key:"instance",get:function(){return this._instance}}]),t}(D)).CTRL_NAME="UIWorkerSynthesisController",L._instance=null,p=L))||p);t._RF.pop()}}}));

System.register("chunks:///_virtual/ui.worker.synthesis.skill.item.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){"use strict";var i,e,s,l,n;return{setters:[function(t){i=t.inheritsLoose,e=t.createClass},function(t){s=t.cclegacy,l=t._decorator},function(t){n=t.GComponent}],execute:function(){var o,r;s._RF.push({},"e3488m2wRZMVYVwiPdf8LUV","ui.worker.synthesis.skill.item.view",void 0);var a=l.ccclass;t("default",a("UIWorkerSynthesisSkillItemView")(((r=function(t){function s(){var i;return(i=t.call(this)||this).stateCtrl=void 0,i.skillView=void 0,i.mSkillID=0,i}i(s,t);var l=s.prototype;return l.onConstruct=function(){this.stateCtrl=this.getController("AniState"),this.skillView=this.getChild("ui_Skill1")},l.setSkillData=function(t){this.mSkillID=t,0!==this.mSkillID?this.skillView.setSkillData(this.mSkillID):this.skillView.setNullData(),this.showCommonState()},l.showCommonState=function(){this.stateCtrl.selectedPage="None"},l.showUpgradeState=function(){this.stateCtrl.selectedPage="Loop"},e(s,[{key:"SkillID",get:function(){return this.mSkillID}}]),s}(n)).URL="ui://WizardSynthesis/listbar_Skill",o=r))||o);s._RF.pop()}}}));

System.register("chunks:///_virtual/ui.worker.synthesis.succ.controller.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./event.dispatcher.ts","./event.name.ts","./resource.manager.ts","./table.helper.ts","./sound.helper.ts","./resource.path.tool.ts","./ui.base.controller.ts"],(function(e){"use strict";var t,i,r,n,o,s,a,l,c,u,h,k,_,v,w,m,f,p,d;return{setters:[function(e){t=e.inheritsLoose,i=e.createClass,r=e.asyncToGenerator,n=e.regeneratorRuntime},function(e){o=e.cclegacy,s=e._decorator,a=e.input,l=e.Input,c=e.KeyCode,u=e.isValid,h=e.v2},function(e){k=e.UIPackage},function(e){_=e.EventDispatcher},function(e){v=e.EventName},function(e){w=e.ResourceManager},function(e){m=e.TableHelper},function(e){f=e.SoundHelper},function(e){p=e.ResourcePathTool},function(e){d=e.UIBaseController}],execute:function(){var S,I;o._RF.push({},"6c5ddFR7JJI5bEcIHw8Ap9G","ui.worker.synthesis.succ.controller",void 0);var y=s.ccclass;e("UIWorkerSynthesisSuccController",y("UIWorkerSynthesisSuccController")(((I=function(e){function o(){for(var t,i=arguments.length,r=new Array(i),n=0;n<i;n++)r[n]=arguments[n];return(t=e.call.apply(e,[this].concat(r))||this).mFguiPkgName="WizardSynthesis",t.mFguiMainViewName="Main_Result",t._view=null,t.mWorkerData=null,t.mShowSkillList=null,t.mReturnValue="",t.mLuckValue=0,t}t(o,e);var s=o.prototype;return s.setWorker=function(e,t,i,r){this.mWorkerData=e,this.mShowSkillList=t,this.mReturnValue=i,this.mLuckValue=r},s._addEvents=function(){e.prototype._addEvents.call(this),a.on(l.EventType.KEY_DOWN,this._onKeyDown,this)},s._removeEvents=function(){e.prototype._removeEvents.call(this),a.off(l.EventType.KEY_DOWN,this._onKeyDown,this)},s._onKeyDown=function(e){switch(e.keyCode){case c.ESCAPE:this._onCloseClick()}},s.onLoad=function(){o._instance=this,this._startLoadPkg(this.mFguiPkgName)},s.onDestroy=function(){e.prototype.onDestroy.call(this),o._instance=null},s.closeUI=function(){e.prototype.closeUI.call(this)},s.update=function(){this._view},s._onLoadUIFinish=function(){e.prototype._onLoadUIFinish.call(this),this._view=k.createObject(this.mFguiPkgName,this.mFguiMainViewName).asCom,this._addUIToRoot(this._view),this._view.makeFullScreen(),this._view.maskBtn.onClick(this._onCloseClick,this),this._view.continueBtn.onClick(this._onCloseClick,this),this._showData()},s._onCloseClick=function(){f.PlaySound_UICommonClose(),_.emit(v.UI_WORKER_SYNTHESIS_SUCC_CLOSE)},s._showData=function(){var e=r(n().mark((function e(){var t,i;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=(t=m.getWorkerData(this.mWorkerData.WorkerData.roleID))){e.next=3;break}return e.abrupt("return");case 3:if(null!=(i=m.getWorkerLevel(this.mWorkerData.WorkerData.roleLevel))){e.next=6;break}return e.abrupt("return");case 6:this._loadModelShow(t.resModelPath),this._setWorkerStar(i.star),this._view.workerMajor.setMajorType(this.mWorkerData.skillHighestLevel),this._view.workerLuck.setLuckValue(10),this._setWorkerSkillList(),this._refreshDismissReturnValue();case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),s._setWorkerSkillList=function(){var e=this;this._view.skillList.removeChildren();for(var t=!1,i=[],r=0;r<this.mShowSkillList.length;r++){var n=this._view.skillList.addItem();n.setSkillData(this.mShowSkillList[r]),this.mWorkerData.WorkerData.professionSkillList.includes(this.mShowSkillList[r])?n.showFailState():(n.showSuccState(),i.push(n),t=!0)}var o=0;o=t?-this.mLuckValue:1,this.scheduleOnce((function(){if(e._view){e._view.workerLuck.playLuckAnim(o),e._view.transShow.play(),e._view.workerMajor.playAnim();for(var t=0;t<i.length;t++)i[t].refreshSkillData(i[t].SkillID+1)}}),3.5)},s._setWorkerStar=function(e){this._view.workerStar.removeChildren();for(var t=0;t<e;t++)this._view.workerStar.addItem()},s._refreshDismissReturnValue=function(){var e=this.mReturnValue.split(";");this._view.returnList.removeChildren();for(var t=0;t<e.length;t++){var i=e[t].split("-");if(i.length<2)return;var r=Number.parseInt(i[0]),n=Number.parseInt(i[1]),o=this._view.returnList.addItem(),s=m.getItemRecord(r);s&&(o.icon=p.getUIFarmItemPath(s.itemIcon)),o.title=n.toString()}},s._loadModelShow=function(e){var t=this;w.instance.loadAvatarSkeletonData(e).then((function(e){u(t.node)&&(t._view.workerIcon&&t._view.workerIcon.node&&t._view.workerIcon.node.scale&&t._view.workerIcon.setScale(2.5,2.5),t._view.workerIcon.clearContent(),t._view.workerIcon.skinName=e.defaultSkin,t._view.workerIcon.animationName="idle",t._view.workerIcon.setSpine(e.skeletonData,h(30,50)))}))},i(o,null,[{key:"instance",get:function(){return this._instance}}]),o}(d)).CTRL_NAME="UIWorkerSynthesisSuccController",I._instance=null,S=I))||S);o._RF.pop()}}}));

System.register("chunks:///_virtual/ui.worker.synthesis.succ.luck.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){"use strict";var e,i,n,u;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy,n=t._decorator},function(t){u=t.GButton}],execute:function(){var s,c;i._RF.push({},"3f281M7CpFDiKCzm02EGYPt","ui.worker.synthesis.succ.luck.view",void 0);var r=n.ccclass;t("default",r("UIWorkerSynthesisSuccLuckView")(((c=function(t){function i(){var e;return(e=t.call(this)||this).colorCtrl=void 0,e.changeValueTrans=void 0,e.luckValue=void 0,e.changeValue=void 0,e}e(i,t);var n=i.prototype;return n.onConstruct=function(){this.colorCtrl=this.getController("Color"),this.changeValueTrans=this.getTransition("ui_Ani_ValueChange"),this.luckValue=this.getChild("title"),this.changeValue=this.getChild("ui_ValueChange")},n.setLuckValue=function(t){this.luckValue.text=t.toString()},n.playLuckAnim=function(t){t>0?(this.colorCtrl.selectedIndex=0,this.changeValue.text="+"+t.toString()):(this.colorCtrl.selectedIndex=1,this.changeValue.text=t.toString()),this.changeValueTrans.play()},i}(u)).URL="ui://WizardSynthesis/result_TagLuckPoints",s=c))||s);i._RF.pop()}}}));

System.register("chunks:///_virtual/ui.worker.synthesis.succ.skill.item.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(i){"use strict";var t,l,s,e,a;return{setters:[function(i){t=i.inheritsLoose,l=i.createClass},function(i){s=i.cclegacy,e=i._decorator},function(i){a=i.GComponent}],execute:function(){var n,r;s._RF.push({},"dfa33jhaG1HWqgtzbuCh8bW","ui.worker.synthesis.succ.skill.item.view",void 0);var u=e.ccclass;i("default",u("UIWorkerSynthesisSuccSkillItemView")(((r=function(i){function s(){var t;return(t=i.call(this)||this).stateCtrl=void 0,t.skillView1=void 0,t.skillView2=void 0,t.mSkillID=0,t}t(s,i);var e=s.prototype;return e.onConstruct=function(){this.stateCtrl=this.getController("AniState"),this.skillView1=this.getChild("ui_Skill1"),this.skillView2=this.getChild("ui_Skill2")},e.setSkillData=function(i){this.mSkillID=i,0!==this.mSkillID?(this.skillView1.setSkillData(this.mSkillID),this.skillView2.setSkillData(this.mSkillID)):(this.skillView1.setNullData(),this.skillView2.setNullData()),this.stateCtrl.selectedPage="Ini"},e.refreshSkillData=function(i){this.mSkillID=i,0!==this.mSkillID?(this.skillView1.setSkillData(this.mSkillID),this.skillView2.setSkillData(this.mSkillID)):(this.skillView1.setNullData(),this.skillView2.setNullData())},e.showSuccState=function(){this.stateCtrl.selectedPage="EndSuccess"},e.showFailState=function(){this.stateCtrl.selectedPage="EndFailed"},l(s,[{key:"SkillID",get:function(){return this.mSkillID}}]),s}(a)).URL="ui://WizardSynthesis/listbar_Skill_Result",n=r))||n);s._RF.pop()}}}));

System.register("chunks:///_virtual/ui.worker.synthesis.succ.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(i){"use strict";var t,e,s,n;return{setters:[function(i){t=i.inheritsLoose},function(i){e=i.cclegacy,s=i._decorator},function(i){n=i.GComponent}],execute:function(){var r,o;e._RF.push({},"f268cYldcFGJIKJY7sdwy7X","ui.worker.synthesis.succ.view",void 0);var h=s.ccclass;i("default",h("UIWorkerSynthesisSuccView")(((o=function(i){function e(){var t;return(t=i.call(this)||this).transShow=void 0,t.maskBtn=void 0,t.synthesizeView=void 0,t.workerIcon=void 0,t.workerStar=void 0,t.workerMajor=void 0,t.workerLuck=void 0,t.skillList=void 0,t.returnList=void 0,t.continueBtn=void 0,t}return t(e,i),e.prototype.onConstruct=function(){this.maskBtn=this.getChild("mask"),this.synthesizeView=this.getChild("ui_PatternBg"),this.transShow=this.synthesizeView.getTransition("ui_Ani_Show"),this.workerIcon=this.synthesizeView.getChild("ui_WorkerIcon"),this.workerStar=this.synthesizeView.getChild("ui_AwakenStar"),this.workerMajor=this.synthesizeView.getChild("ui_PatternBg"),this.workerLuck=this.synthesizeView.getChild("ui_TagLuckPoints"),this.skillList=this.synthesizeView.getChild("ui_SkillGp"),this.returnList=this.synthesizeView.getChild("ui_ReturnList"),this.continueBtn=this.synthesizeView.getChild("ui_BtnContinue")},e}(n)).URL="ui://WizardSynthesis/Main_Result",r=o))||r);e._RF.pop()}}}));

System.register("chunks:///_virtual/ui.worker.synthesis.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(i){"use strict";var s,t,e,r;return{setters:[function(i){s=i.inheritsLoose},function(i){t=i.cclegacy,e=i._decorator},function(i){r=i.GComponent}],execute:function(){var n,o;t._RF.push({},"6f016cKErROH6/+dDZ9vAL9","ui.worker.synthesis.view",void 0);var h=e.ccclass;i("default",h("UIWorkerSynthesisView")(((o=function(i){function t(){var s;return(s=i.call(this)||this).isNoneCtrl=void 0,s.isSelectedCtrl=void 0,s.closeBtn=void 0,s.synthesisWind=void 0,s.primaryIcon=void 0,s.primaryName=void 0,s.primaryStar=void 0,s.primaryLevel=void 0,s.primaryType=void 0,s.primaryExploration=void 0,s.primaryMajor=void 0,s.primaryLuck=void 0,s.primarySkillList=void 0,s.secondaryIcon=void 0,s.secondaryName=void 0,s.secondaryStar=void 0,s.secondaryLevel=void 0,s.secondaryType=void 0,s.secondaryExploration=void 0,s.secondaryMajor=void 0,s.secondaryLuck=void 0,s.secondarySkillList=void 0,s.addWorkerBtn=void 0,s.synthesisBtn=void 0,s.workerListWind=void 0,s.workerList=void 0,s}return s(t,i),t.prototype.onConstruct=function(){this.synthesisWind=this.getChild("ui_SynthesisWind"),this.isSelectedCtrl=this.synthesisWind.getController("IsSelected"),this.workerListWind=this.getChild("ui_SynthesisList"),this.isNoneCtrl=this.workerListWind.getController("IsNone"),this.closeBtn=this.getChild("ui_WindClose"),this.primaryIcon=this.synthesisWind.getChild("ui_WorkerIcon1"),this.primaryName=this.synthesisWind.getChild("ui_WorkerName1"),this.primaryStar=this.synthesisWind.getChild("ui_AwakenStar1"),this.primaryLevel=this.synthesisWind.getChild("ui_WorkerLevel1"),this.primaryType=this.synthesisWind.getChild("ui_WorkerSkill1"),this.primaryExploration=this.synthesisWind.getChild("ui_WorkerExploration1"),this.primaryMajor=this.synthesisWind.getChild("ui_PatternBg1"),this.primaryLuck=this.synthesisWind.getChild("ui_TagLuckPoints1"),this.primarySkillList=this.synthesisWind.getChild("ui_MajorSkillList1"),this.secondaryIcon=this.synthesisWind.getChild("ui_WorkerIcon2"),this.secondaryName=this.synthesisWind.getChild("ui_WorkerName2"),this.secondaryStar=this.synthesisWind.getChild("ui_AwakenStar2"),this.secondaryLevel=this.synthesisWind.getChild("ui_WorkerLevel2"),this.secondaryType=this.synthesisWind.getChild("ui_WorkerSkill2"),this.secondaryExploration=this.synthesisWind.getChild("ui_WorkerExploration2"),this.secondaryMajor=this.synthesisWind.getChild("ui_PatternBg2"),this.secondaryLuck=this.synthesisWind.getChild("ui_TagLuckPoints2"),this.secondarySkillList=this.synthesisWind.getChild("ui_MajorSkillList2"),this.workerList=this.workerListWind.getChild("ui_List_InGame"),this.addWorkerBtn=this.synthesisWind.getChild("ui_BtnSelect"),this.synthesisBtn=this.synthesisWind.getChild("ui_BtnAwakening")},t}(r)).URL="ui://WizardSynthesis/Main",n=o))||n);t._RF.pop()}}}));

System.register("chunks:///_virtual/ui.worker.upgrade.controller.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./enum.chain.type.ts","./chain.utils.ts","./event.dispatcher.ts","./event.name.ts","./enum.farm.coin.res.ts","./new.guide.manager.ts","./resource.manager.ts","./table.helper.ts","./model.mainrole.manager.ts","./model.worker.manager.ts","./net.helper.ts","./sound.helper.ts","./logic.tool.ts","./ui.float.text.controller.ts","./ui.base.controller.ts"],(function(t){"use strict";var e,r,i,o,n,a,s,l,h,c,u,v,_,k,W,f,d,m,w,D,p,C,g,I,S,E,L,x;return{setters:[function(t){e=t.inheritsLoose,r=t.createClass,i=t.asyncToGenerator,o=t.regeneratorRuntime},function(t){n=t.cclegacy,a=t._decorator,s=t.input,l=t.Input,h=t.KeyCode,c=t.isValid,u=t.Color,v=t.v2},function(t){_=t.UIPackage},function(t){k=t.EChainType},function(t){W=t.getChainSymbol},function(t){f=t.EventDispatcher},function(t){d=t.EventName},function(t){m=t.EFarmCoinRes},function(t){w=t.NewGuideManager},function(t){D=t.ResourceManager},function(t){p=t.TableHelper},function(t){C=t.ModelMainRoleManager},function(t){g=t.ModelWorkerManager},function(t){I=t.NetHelper},function(t){S=t.SoundHelper},function(t){E=t.LogicTool},function(t){L=t.UIFloatTextController},function(t){x=t.UIBaseController}],execute:function(){var A,T;n._RF.push({},"b4cfaHAX85FxYSUOEWh/Ss5","ui.worker.upgrade.controller",void 0);var y=a.ccclass;t("UIWorkerUpgradeController",y("UIWorkerUpgradeController")(((T=function(t){function n(){for(var e,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))||this).mFguiPkgName="Details_Wizard",e.mFguiMainViewName="Main_Upgrade",e._view=null,e.mWorkerData=null,e.mSilverCostValue=0,e.mGoldCostValue=0,e}e(n,t);var a=n.prototype;return a._addEvents=function(){t.prototype._addEvents.call(this),s.on(l.EventType.KEY_DOWN,this._onKeyDown,this),f.on(d.WORKER_LIST_LEVELUP_ITEM,this._onWorkerListLevelupItem,this),f.on(d.PLAYERSELF_MONEY_GOLD_CHANGED,this._onGoldCoinChanged,this),f.on(d.PLAYERSELF_MONEY_SILVER_CHANGED,this._onSilverCoinChanged,this)},a._removeEvents=function(){t.prototype._removeEvents.call(this),s.off(l.EventType.KEY_DOWN,this._onKeyDown,this),f.off(d.WORKER_LIST_LEVELUP_ITEM,this._onWorkerListLevelupItem,this),f.off(d.PLAYERSELF_MONEY_GOLD_CHANGED,this._onGoldCoinChanged,this),f.off(d.PLAYERSELF_MONEY_SILVER_CHANGED,this._onSilverCoinChanged,this)},a._onKeyDown=function(t){switch(t.keyCode){case h.ESCAPE:if(w.instance.IsInGuideScene)return;this._onCloseClick()}},a._onWorkerListLevelupItem=function(t){if(c(this.node)&&null!=this.mWorkerData&&t===this.mWorkerData.WorkerData.workerID){var e=this.mWorkerData.WorkerData.roleLevel;if(e>=p.getWorkerMaxLevel())this._onCloseClick();else{var r=p.getWorkerLevel(e);if(null==r)return;""===r.costWorker?this._refreshWorkerData():this._onCloseClick()}}},a._onGoldCoinChanged=function(){c(this.node)&&this._refreshGoldCostInfo()},a._onSilverCoinChanged=function(){c(this.node)&&this._refreshSilverCostInfo()},a.setWorker=function(t){this.mWorkerData=t},a.onLoad=function(){n._instance=this,this._startLoadPkg(this.mFguiPkgName)},a.onDestroy=function(){t.prototype.onDestroy.call(this),n._instance=null},a.closeUI=function(){t.prototype.closeUI.call(this)},a.update=function(){this._view},a._onLoadUIFinish=function(){t.prototype._onLoadUIFinish.call(this),this._view=_.createObject(this.mFguiPkgName,this.mFguiMainViewName).asCom,this._addUIToRoot(this._view),this._view.makeFullScreen(),this._view.closeBtn.onClick(this._onCloseClick,this),this._view.costSilverBtn.onClick(this._onUpgradeSilverClick,this),this._view.costGoldBtn.onClick(this._onUpgradeGoldClick,this),this._initData()},a._onCloseClick=function(){S.PlaySound_UICommonClose(),f.emit(d.UI_WORKER_UPGRADE_CLOSE),w.instance.IsInGuideScene&&w.instance.NextStep()},a._onUpgradeSilverClick=function(){null!=this.mWorkerData&&(this.mSilverCostValue>Number.parseFloat(C.instance.SilverCoin)?L.AddTipI18nID_Info("u.2506"):(S.PlaySound_RoleUpgrade(),I.upgradeWorker(this.mWorkerData.WorkerData.workerID,1),w.instance.IsInGuideScene&&w.instance.NextStep()))},a._onUpgradeGoldClick=function(){null!=this.mWorkerData&&(this._view.costGoldBtn.IsEnough()?(S.PlaySound_RoleUpgrade(),I.upgradeWorker(this.mWorkerData.WorkerData.workerID,2)):(this._onCloseClick&&this._onCloseClick(),S.PlaySound_UICommonClick(),f.emit(d.UI_SHOP_OPEN)))},a._initData=function(){var t=i(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this._setCurWorkerData(),this._setNextWorkerData(),this._refreshWorkerData();case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),a._refreshWorkerData=function(){for(var t=[0,0,0,0,0],e=this.mWorkerData.getSkillList(),r=0;r<e.length;r++){var i=p.getWorkerProfessionSkill(e[r]);i&&(t[i.skillType-1]+=i.skillParam)}this._setCurWorkerAttr(t),this._setNextWorkerAttr(t),this.mWorkerData.WorkerData.roleLevel>=p.getWorkerMaxLevel()?this._view.isMaxCtrl.selectedIndex=1:(this._view.isMaxCtrl.selectedIndex=0,this._loadCostInfo())},a._setCurWorkerData=function(){var t=this.mWorkerData.WorkerData.roleLevel,e=p.getWorkerData(this.mWorkerData.WorkerData.roleID);if(e){this._loadModelShow(this._view.curIcon,e.resModelPath),this._view.curName.text=e.workerName,this._view.curType.setWorkType(this.mWorkerData.WorkerData.roleWorkBuilding),this._view.curMajor.setMajorType(this.mWorkerData.skillHighestLevel),this._view.curExploration.setExplorationType(this.mWorkerData.WorkerData.roleState),"BERA"===W(Number(this.mWorkerData.WorkerData.chainID))?this._view.curChainType.setChainType(k.Bera):this._view.curChainType.setChainType(k.None);var r=p.getWorkerLevel(t);null!=r&&(this._setWorkerStar(this._view.curStar,r.star),this._setWorkerSkill(this._view.curSkill,this.mWorkerData.getSkillList()))}},a._setCurWorkerAttr=function(t){var e=this.mWorkerData.WorkerData.roleLevel,r=e>=p.getWorkerMaxLevel(),i=p.getWorkerLevel(e);if(i){this._view.curLevel.text=r?E.i18nFormat(p.getI18nUIText("u.10102"),["MAX"]):E.i18nFormat(p.getI18nUIText("u.10102"),[i.showLevel.toString()]);var o=g.LoadWorkerAttrData(this.mWorkerData.WorkerData.roleID,e),n=E.NumberTransform(Math.floor(o[0]*(1+t[0]/100)));this._view.setWorkerAttr(this._view.curAttr1,n,u.WHITE);var a=Math.floor(o[1]*(1+t[1]/100)/100).toString();this._view.setWorkerAttr(this._view.curAttr2,a,u.WHITE);var s=Math.floor(o[2]*(1+t[2]/100)/100).toString();this._view.setWorkerAttr(this._view.curAttr3,s,u.WHITE);var l=Math.floor(o[3]*(1+t[3]/100)/100).toString();this._view.setWorkerAttr(this._view.curAttr4,l,u.WHITE);var h=Math.floor(o[4]*(1+t[4]/100)/100).toString();this._view.setWorkerAttr(this._view.curAttr5,h,u.WHITE)}},a._setNextWorkerData=function(){var t=this.mWorkerData.WorkerData.roleLevel,e=p.getWorkerData(this.mWorkerData.WorkerData.roleID);if(e){this._loadModelShow(this._view.nextIcon,e.resModelPath),this._view.nextName.text=e.workerName,this._view.nextType.setWorkType(this.mWorkerData.WorkerData.roleWorkBuilding),this._view.nextMajor.setMajorType(this.mWorkerData.skillHighestLevel),this._view.nextExploration.setExplorationType(this.mWorkerData.WorkerData.roleState),"BERA"===W(Number(this.mWorkerData.WorkerData.chainID))?this._view.nextChainType.setChainType(k.Bera):this._view.nextChainType.setChainType(k.None);var r=p.getWorkerLevel(t);null!=r&&(this._setWorkerStar(this._view.nextStar,r.star),this._setWorkerSkill(this._view.nextSkill,this.mWorkerData.getSkillList()))}},a._setNextWorkerAttr=function(t){var e=this.mWorkerData.WorkerData.roleLevel,r=e+1;if(e>=p.getWorkerMaxLevel())this._view.nextLevel.text=E.i18nFormat(p.getI18nUIText("u.10102"),["MAX"]),this._view.setWorkerAttr(this._view.nextAttr1,"-",u.WHITE),this._view.setWorkerAttr(this._view.nextAttr2,"-",u.WHITE),this._view.setWorkerAttr(this._view.nextAttr3,"-",u.WHITE),this._view.setWorkerAttr(this._view.nextAttr4,"-",u.WHITE),this._view.setWorkerAttr(this._view.nextAttr5,"-",u.WHITE);else{var i=p.getWorkerLevel(r);i&&(this._view.nextLevel.text=E.i18nFormat(p.getI18nUIText("u.10102"),[i.showLevel.toString()]));var o=g.LoadWorkerAttrData(this.mWorkerData.WorkerData.roleID,e),n=g.LoadWorkerAttrData(this.mWorkerData.WorkerData.roleID,r),a=E.NumberTransform(Math.floor(n[0]*(1+t[0]/100))),s=o[0]===n[0]?u.WHITE:u.GREEN;this._view.setWorkerAttr(this._view.nextAttr1,a,s);var l=Math.floor(n[1]*(1+t[1]/100)/100).toString(),h=o[1]===n[1]?u.WHITE:u.GREEN;this._view.setWorkerAttr(this._view.nextAttr2,l,h);var c=Math.floor(n[2]*(1+t[2]/100)/100).toString(),v=o[2]===n[2]?u.WHITE:u.GREEN;this._view.setWorkerAttr(this._view.nextAttr3,c,v);var _=Math.floor(n[3]*(1+t[3]/100)/100).toString(),k=o[3]===n[3]?u.WHITE:u.GREEN;this._view.setWorkerAttr(this._view.nextAttr4,_,k);var W=Math.floor(n[4]*(1+t[4]/100)/100).toString(),f=o[4]===n[4]?u.WHITE:u.GREEN;this._view.setWorkerAttr(this._view.nextAttr5,W,f)}},a._loadCostInfo=function(){var t=i(o().mark((function t(){var e;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!=this.mWorkerData){t.next=2;break}return t.abrupt("return");case 2:if(null!=(e=p.getWorkerLevel(this.mWorkerData.WorkerData.roleLevel))){t.next=5;break}return t.abrupt("return");case 5:this.mSilverCostValue=e.costSilverCoin,this.mGoldCostValue=e.costGoldCoin,this.mSilverCostValue>0?(this._view.costSilverBtn.visible=!0,this._refreshSilverCostInfo()):this._view.costSilverBtn.visible=!1,this.mGoldCostValue>0?(this._view.costGoldBtn.visible=!0,this._refreshGoldCostInfo()):this._view.costGoldBtn.visible=!1;case 9:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),a._refreshSilverCostInfo=function(){var t=i(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this._view.costSilverBtn.setBtnData([m.Token_Silver,this.mSilverCostValue]);case 1:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),a._refreshGoldCostInfo=function(){var t=i(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this._view.costGoldBtn.setBtnData([m.Token_Gold,this.mGoldCostValue]),this._view.costGoldBtn.touchable=!0,this._view.costGoldBtn.isDisableCtrl.selectedIndex=0;case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),a._setWorkerStar=function(t,e){t.removeChildren();for(var r=0;r<e;r++)t.addItem()},a._setWorkerSkill=function(t,e){t.removeChildren();for(var r=0;r<e.length;r++){t.addItem().setSkillData(e[r])}},a._loadModelShow=function(t,e){var r=this;D.instance.loadAvatarSkeletonData(e).then((function(e){c(r.node)&&(t&&t.node&&t.node.scale&&t.setScale(2.5,2.5),t.clearContent(),t.skinName=e.defaultSkin,0===r.mWorkerData.WorkerData.roleWorkBuilding?t.animationName="idle":t.animationName="doing",t.setSpine(e.skeletonData,v(30,45)))}))},a.getCloseBtn=function(){return this._view?this._view.closeBtn:null},a.getUpgradeSilverBtn=function(){return this._view?this._view.costSilverBtn:null},r(n,null,[{key:"instance",get:function(){return this._instance}}]),n}(x)).CTRL_NAME="UIWorkerUpgradeController",T._instance=null,A=T))||A);n._RF.pop()}}}));

System.register("chunks:///_virtual/ui.worker.upgrade.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){"use strict";var i,e,r,n;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy,r=t._decorator},function(t){n=t.GComponent}],execute:function(){var d,h;e._RF.push({},"58624nz6oJM24hERPvr/ByT","ui.worker.upgrade.view",void 0);var o=r.ccclass;t("default",o("UIWorkerUpgradeView")(((h=function(t){function e(){var i;return(i=t.call(this)||this).isMaxCtrl=void 0,i.closeBtn=void 0,i.wind=void 0,i.curIcon=void 0,i.curName=void 0,i.curStar=void 0,i.curLevel=void 0,i.curType=void 0,i.curExploration=void 0,i.curMajor=void 0,i.curChainType=void 0,i.curSkill=void 0,i.curAttr1=void 0,i.curAttr2=void 0,i.curAttr3=void 0,i.curAttr4=void 0,i.curAttr5=void 0,i.nextIcon=void 0,i.nextName=void 0,i.nextStar=void 0,i.nextLevel=void 0,i.nextType=void 0,i.nextExploration=void 0,i.nextMajor=void 0,i.nextChainType=void 0,i.nextSkill=void 0,i.nextAttr1=void 0,i.nextAttr2=void 0,i.nextAttr3=void 0,i.nextAttr4=void 0,i.nextAttr5=void 0,i.costSilverBtn=void 0,i.costGoldBtn=void 0,i}i(e,t);var r=e.prototype;return r.onConstruct=function(){this.closeBtn=this.getChild("ui_WindClose"),this.wind=this.getChild("ui_WindUpgrade"),this.isMaxCtrl=this.wind.getController("IsMax"),this.curIcon=this.wind.getChild("ui_WorkerIconCurrent"),this.curName=this.wind.getChild("ui_WorkerNameCurrent"),this.curStar=this.wind.getChild("ui_AwakenStarCurrent"),this.curLevel=this.wind.getChild("ui_LevelCurrent"),this.curType=this.wind.getChild("ui_WorkerSkillCurrent"),this.curExploration=this.wind.getChild("ui_WorkerExplorationCurrent"),this.curMajor=this.wind.getChild("ui_PatternBgCurrent"),this.curChainType=this.wind.getChild("ui_ChainTypeCurrent"),this.curSkill=this.wind.getChild("ui_MajorSkillListCurrent"),this.curAttr1=this.wind.getChild("ui_AttCurrent01"),this.curAttr2=this.wind.getChild("ui_AttCurrent02"),this.curAttr3=this.wind.getChild("ui_AttCurrent03"),this.curAttr4=this.wind.getChild("ui_AttCurrent04"),this.curAttr5=this.wind.getChild("ui_AttCurrent05"),this.nextIcon=this.wind.getChild("ui_WorkerIconNext"),this.nextName=this.wind.getChild("ui_WorkerNameNext"),this.nextStar=this.wind.getChild("ui_AwakenStarNext"),this.nextLevel=this.wind.getChild("ui_LevelNext"),this.nextType=this.wind.getChild("ui_WorkerSkillNext"),this.nextExploration=this.wind.getChild("ui_WorkerExplorationNext"),this.nextMajor=this.wind.getChild("ui_PatternBgNext"),this.nextChainType=this.wind.getChild("ui_ChainTypeNext"),this.nextSkill=this.wind.getChild("ui_MajorSkillListNext"),this.nextAttr1=this.wind.getChild("ui_AttNext01"),this.nextAttr2=this.wind.getChild("ui_AttNext02"),this.nextAttr3=this.wind.getChild("ui_AttNext03"),this.nextAttr4=this.wind.getChild("ui_AttNext04"),this.nextAttr5=this.wind.getChild("ui_AttNext05"),this.costSilverBtn=this.wind.getChild("ui_CostSilverBtn"),this.costGoldBtn=this.wind.getChild("ui_CostGoldBtn")},r.setWorkerAttr=function(t,i,e){var r=t.getChild("ui_Value");r&&(r.text=i,r.color=e)},e}(n)).URL="ui://Details_Wizard/Main_Upgrade",d=h))||d);e._RF.pop()}}}));

System.register("chunks:///_virtual/ui.worker.work.type.view.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./enum.farm.building.type.ts"],(function(e){"use strict";var t,i,r,o,s;return{setters:[function(e){t=e.inheritsLoose},function(e){i=e.cclegacy,r=e._decorator},function(e){o=e.GButton},function(e){s=e.EFarmBuildingType}],execute:function(){var n,c;i._RF.push({},"5e950cRhqFKgqRtGto8ok4x","ui.worker.work.type.view",void 0);var l=r.ccclass;e("default",l("UIWorkerWorkTypeView")(((c=function(e){function i(){var t;return(t=e.call(this)||this).typeCtrl=void 0,t.typeIcon=void 0,t}t(i,e);var r=i.prototype;return r.onConstruct=function(){this.typeCtrl=this.getController("WorkerType"),this.typeIcon=this.getChild("ui_WorkerSkill")},r.setWorkType=function(e){switch(e){case s.Mushroom:this.visible=!0,this.typeCtrl.selectedIndex=1;break;case s.ManaGel:this.visible=!0,this.typeCtrl.selectedIndex=2;break;case s.Ethereal:this.visible=!0,this.typeCtrl.selectedIndex=3;break;default:this.visible=!1,this.typeCtrl.selectedIndex=0}},i}(o)).URL="ui://Common/workertype",n=c))||n);i._RF.pop()}}}));

System.register("chunks:///_virtual/use.berancer.sdk.ts",["cc"],(function(e){"use strict";var n;return{setters:[function(e){n=e.cclegacy}],execute:function(){e({BerancerAddLiquidityKind:void 0,BerancerRemoveLiquidityKind:void 0,BerancerSwapKind:void 0,useAddLiquidity:function(){return new u.AddLiquidity},useCreateAddLiquidity:function(){return new u.AddLiquidity},useCreateApiMainnet:function(e,n){return new u.BalancerApi(e,n)},useCreateRemoveLiquidity:function(){return new u.RemoveLiquidity},useCreateSwap:function(e,n,i,r){return new u.Swap({chainId:e,paths:n,swapKind:i,userData:r})},useCreateToken:function(e){return new u.Token(e.chainId,e.address,e.decimals,e.symbol)},useFromHumanAmount:function(e,n){return u.TokenAmount.fromHumanAmount(e,n)},useFromPercentage:function(e){return u.Slippage.fromPercentage(e)},useIsZeroAddress:function(e){return u.ZERO_ADDRESS===e}}),n._RF.push({},"d67b59Ls3JGb5aQQNY2g60+","use.berancer.sdk",void 0);var i,r,t,u=e("berancerSDK",window.berancerSDK);!function(e){e[e.GivenIn=0]="GivenIn",e[e.GivenOut=1]="GivenOut"}(i||(i=e("BerancerSwapKind",{}))),function(e){e.Unbalanced="Unbalanced",e.SingleToken="SingleToken",e.Proportional="Proportional"}(r||(r=e("BerancerAddLiquidityKind",{}))),function(e){e.Unbalanced="Unbalanced",e.SingleTokenExactOut="SingleTokenExactOut",e.SingleTokenExactIn="SingleTokenExactIn",e.Proportional="Proportional",e.Recovery="Recovery"}(t||(t=e("BerancerRemoveLiquidityKind",{}))),n._RF.pop()}}}));

System.register("chunks:///_virtual/use.ethers.ts",["cc"],(function(t){"use strict";var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){t({formatEther:function(t){return window.ethers.formatEther(t)},formatUnits:function(t,e){return window.ethers.formatUnits(t,e)},getEthers:function(){return window.ethers},hexlify:function(t){return window.ethers.hexlify(t)},parseEther:function(t){return window.ethers.parseEther(t)},parseUnits:function(t,e){return window.ethers.parseUnits(t,e)},toUtf8Bytes:function(t){return window.ethers.toUtf8Bytes(t)}}),e._RF.push({},"a1a28VOq/tI7ojPGPdOF89G","use.ethers",void 0);t("ethers",window.ethers);e._RF.pop()}}}));

System.register("chunks:///_virtual/userdata.client.protocol.ts",["./rollupPluginModLoBabelHelpers.js","cc","./long.mjs_cjs=&original=.js","./net.protocol.define.ts","./null.client.protocol.ts","./long.js"],(function(t){"use strict";var e,i,n,r,a;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy},null,function(t){n=t.NetProtocolDefine},function(t){r=t.stNullClientCmd},function(t){a=t.default}],execute:function(){t({EAchievementType:void 0,enumChainGoldOption:void 0,enumChainOrderType:void 0,enumLoginPlatform:void 0,enumRenameRet:void 0,enumSetGameDataType:void 0}),i._RF.push({},"24da5uVDY5PcbFujX3271NV","userdata.client.protocol",void 0);var s,o,u,h,c,f,l=t("stUserDataClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).gsCmd=n.DATA_CLIENT_CMD,e}return e(i,t),i}(r)),m=(t("POWER_CHANGE_CLIENT",2),t("GET_USER_MONEY_INFO_CLIENT",4),t("SET_TILI_DATA_CLIENT",5),t("OPEN_EVM_ADDRESS_CLIENT",6)),p=t("ROLE_RENAME_CLIENT",7),_=t("MAIN_USER_MOBILE_DATA_CLIENT",8),U=t("HP_CHANGE_MOBILE_CLIENT",9),y=t("EXP_CHANGE_MOBILE_CLIENT",10),d=t("SET_GAME_DATA_CLIENT",11),B=t("LEVELUP_MOBILE_CLIENT",12),T=t("RECOVER_USER_HP_CLIENT",13),P=t("USER_INVITATIONDATA_CLIENT",14),C=t("USER_INVITATIOND_AWARD_LIST_CLIENT",15),E=t("USER_GET_INVITATIONAWARD_CLIENT",16),A=t("USER_CLAIM_INVITATION_RETURN_TOKEN",17),I=t("USER_ACHIEVEMENT_DATA_LIST",21),D=t("USER_UPDATE_ACHIEVEMENT_DATA",22),v=t("USER_GET_ACHIEVEMENT_AWARD",23),R=t("USER_TGE_GET_WIZZ_AMOUNT",25),S=t("USER_TGE_SHOW_WIZZ_AMOUNT",26),k=(t("LEAVE_MAP_DATA_CLIENT",27),t("MAP_SCREEN_SIZE_DATA_CLIENT",28)),L=t("LOAD_MAP_OK_DATA_CLIENT",29),N=(t("LEVEL_DEGREE_DATA_CLIENT",30),t("FUNCTION_NPC_LIST_DATA_CLIENT",31),t("QUEST_NPC_LIST_DATA_CLIENT",32),t("DEL_QUEST_NPC_LIST_DATA_CLIENT",33),t("INTO_MAP_OK_DATA_CLIENT",34),t("GUIDE_STEP_DATA_CLIENT",35)),g=(t("USER_DISCIPLE_ADD_CLIENT",36),t("USER_GIFT_LIST_CLIENT",40)),O=t("USER_GET_GIFT_CLIENT",41),w=t("USER_GET_GIFT_SUCCESS_CLIENT",42),G=t("USER_NOTCOINAWARD_LIST_CLIENT",45),W=t("USER_GET_NOTCOINAWARD_CLIENT",46),z=t("USER_GET_NOTCOINAWARD_SUCCESS_CLIENT",47),M=t("USER_ACTIVITY_AWARD_LIST_CLIENT",48),x=t("USER_ACTIVITY_AWARD_ADD_CLIENT",49),H=t("USER_PURCHASE_PRODUCT_DATA_CLIENT",51),b=t("USER_UPDATE_PURCHASE_PRODUCT_DATA_CLIENT",52),F=t("USER_PURCHASE_PRODUCT_LOCK_CLIENT",53),V=t("USER_PLATFORM_DATA_CLIENT",54),Z=(t("SET_HEAD_PIC_CLIENT",55),t("HEAD_LIST_CLIENT",56),t("USER_GUIDE_AWARD_CLIENT",58)),q=(t("USER_GET_ALLOWANCE_CLIENT",59),t("USER_GET_BORN_BOX_CLIENT",60)),X=(t("USER_RECOVER_ENERGY_WITHDRAW_CLIENT",61),t("USER_ARENA_SEASON_ID_CLIENT",64),t("USER_NOTICE_NEGATIVE_FIGHT_CLIENT",65),t("WEB_QUEST_LIST_CLIENT",66)),j=t("WEB_QUEST_FINISH_CLIENT",67),K=t("WEB_BOX_AWARD_LIST_CLIENT",68),Y=t("WEB_BOX_GET_CLIENT",69),Q=(t("END_OF_INIT_DATA_DATA_CLIENT",255),t("USER_ONCHAIN_MINT_WIZARD",90)),J=t("USER_ONCHAIN_WITHDRAW_WIZARD",91),$=t("USER_ONCHAIN_WITHDRAW_ITEM",92),tt=t("USER_ONCHAIN_WITHDRAW_WIZZ",93),et=t("USER_ONCHAIN_TGE_WIZZ",94),it=t("USER_ONCHAINORDER_LIST",100),nt=t("USER_ONCHAINORDER_ADD",101),rt=t("USER_ONCHAINORDER_REMOVE",102),at=t("USER_ONCHAINORDER_SIGN",103),st=t("USER_MONTHLYCARDDATA_LIST",110),ot=t("USER_GET_MONTHLYCARDAWARD",111);!function(t){t[t.eSetGameDataType_Null=0]="eSetGameDataType_Null",t[t.eSetGameDataType_Gold=1]="eSetGameDataType_Gold",t[t.eSetGameDataType_Money=2]="eSetGameDataType_Money",t[t.eSetGameDataType_Guide=3]="eSetGameDataType_Guide",t[t.eSetGameDataType_Tili=4]="eSetGameDataType_Tili",t[t.eSetGameDataType_Token1=11]="eSetGameDataType_Token1",t[t.eSetGameDataType_Token2=12]="eSetGameDataType_Token2",t[t.eSetGameDataType_Token3=13]="eSetGameDataType_Token3",t[t.eSetGameDataType_Max=9]="eSetGameDataType_Max"}(s||(s=t("enumSetGameDataType",{}))),function(t){t[t.eOption_None=0]="eOption_None",t[t.eOption_Deposit=1]="eOption_Deposit",t[t.eOption_Withdraw=2]="eOption_Withdraw",t[t.eOption_Max=9]="eOption_Max"}(o||(o=t("enumChainGoldOption",{}))),function(t){t[t.eRenameRet_ok=1]="eRenameRet_ok",t[t.eRenameRet_exist=2]="eRenameRet_exist",t[t.eRenameRet_money=3]="eRenameRet_money",t[t.eRenameRet_invalid=4]="eRenameRet_invalid"}(u||(u=t("enumRenameRet",{}))),function(t){t[t.eChainOrderType_MintWizard=1]="eChainOrderType_MintWizard",t[t.eChainOrderType_WithdrawWizard=2]="eChainOrderType_WithdrawWizard",t[t.eChainOrderType_WithdrawItem=3]="eChainOrderType_WithdrawItem",t[t.eChainOrderType_WithdrawWizzToken=4]="eChainOrderType_WithdrawWizzToken",t[t.eChainOrderType_TGEWizzToken=5]="eChainOrderType_TGEWizzToken"}(h||(h=t("enumChainOrderType",{}))),function(t){t[t.eAchievementType_Null=0]="eAchievementType_Null",t[t.eAchievementType_FarmLevel=1]="eAchievementType_FarmLevel",t[t.eAchievementType_WorkerNum=2]="eAchievementType_WorkerNum",t[t.eAchievementType_FarmObject=3]="eAchievementType_FarmObject",t[t.eAchievementType_InvitationNum=4]="eAchievementType_InvitationNum",t[t.eAchievementType_PurchaseGold=5]="eAchievementType_PurchaseGold",t[t.eAchievementType_WorkerLevel=6]="eAchievementType_WorkerLevel",t[t.eAchievementType_Max=7]="eAchievementType_Max"}(c||(c=t("EAchievementType",{}))),function(t){t[t.eLoginPlatform_Default=0]="eLoginPlatform_Default",t[t.eLoginPlatform_Telegram=1]="eLoginPlatform_Telegram",t[t.eLoginPlatform_X=2]="eLoginPlatform_X",t[t.eLoginPlatform_Line_Kaia=3]="eLoginPlatform_Line_Kaia"}(f||(f=t("enumLoginPlatform",{})));var ut=t("stMainUserMobileData",function(){function t(){this.dwUserID=0,this.dwUserTempID=0,this.chainID="",this.guideStep=0,this.loginPlatform=0,this.token1="",this.token2="",this.token3="",this.tge_wizz="",this.username="",this.useTokenIDString="",this.money_gold=0,this.hp=0,this.maxTili=0,this.userGuide=0n,this.userAllowanceTime="0",this.petTokenId=0n,this.propAttack=0,this.propDefense=0,this.propMaxHp=0,this.propSpeed=0,this.growthFactor=0,this.propAttrLifeSteal=0,this.propAttrFightBack=0,this.propAttrCombo=0,this.propAttrEvade=0,this.propAttrCrit=0,this.propAttrStun=0,this.propAttrLifeStealResistant=0,this.propAttrFightBackResistant=0,this.propAttrComboResistant=0,this.propAttrEvadeResistant=0,this.propAttrCritResistant=0,this.propAttrStunResistant=0}return t.prototype.UnPackData=function(t){this.dwUserID=t.readUint32(),this.dwUserTempID=t.readUint32(),this.guideStep=t.readUint32(),this.loginPlatform=t.readUint8(),this.token1=t.readUint64().toString(),this.token2=t.readUint64().toString(),this.token3=t.readUint64().toString(),this.tge_wizz=t.readUint64().toString()},t}()),ht=t("stOnChainOrder",function(){function t(){this.orderID=0,this.orderType=0,this.orderTimeout="",this.orderChainID="",this.param_1="",this.param_2=""}return t.prototype.UnPackData=function(t){this.orderID=t.readUint32(),this.orderType=t.readUint32(),this.orderTimeout=t.readUint64().toString(),this.orderChainID=t.readUint64().toString(),this.param_1=t.readUint64().toString(),this.param_2=t.readUint64().toString()},t}()),ct=t("stInvitationData",function(){function t(){this.count_enter=0,this.return_token1="",this.count_farmLv5=0,this.count_farmLv10=0,this.count_farmLv15=0,this.count_farmLv20=0,this.count_farmLv25=0,this.count_farmLv30=0,this.count_farmLv35=0,this.count_farmLv40=0,this.count_farmLv45=0,this.count_farmLv50=0}return t.prototype.UnPackData=function(t){this.count_enter=t.readUint32(),this.return_token1=t.readUint64().toString(),this.count_farmLv5=t.readUint32(),this.count_farmLv10=t.readUint32(),this.count_farmLv15=t.readUint32(),this.count_farmLv20=t.readUint32(),this.count_farmLv25=t.readUint32(),this.count_farmLv30=t.readUint32(),this.count_farmLv35=t.readUint32(),this.count_farmLv40=t.readUint32(),this.count_farmLv45=t.readUint32(),this.count_farmLv50=t.readUint32()},t}()),ft=t("stAchievementData",function(){function t(){this.type=0,this.step=0,this.value="0"}return t.prototype.UnPackData=function(t){this.type=t.readUint32(),this.step=t.readUint32(),this.value=t.readUint64().toString()},t}()),lt=t("stPurchaseData",function(){function t(){this.productID=0,this.productNum=0,this.resetTime="0"}return t.prototype.UnPackData=function(t){this.productID=t.readUint32(),this.productNum=t.readUint32(),this.resetTime=t.readUint64().toString()},t}()),mt=t("stMonthlyCardData",function(){function t(){this.id=0,this.expirationTime=0,this.awardState=0}return t.prototype.UnPackData=function(t){this.id=t.readUint32(),this.expirationTime=t.readUint32(),this.awardState=t.readUint8()},t}());t("stOpenEvmAddressClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).gsParam=m,e}return e(i,t),i.prototype.Pack=function(){t.prototype.Pack.call(this)},i}(l)),t("stMainUserMobileDataClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).data=new ut,e.gsParam=_,e}return e(i,t),i.prototype.UnPack=function(e){t.prototype.UnPack.call(this,e),this.data.UnPackData(this.mByteBuffer),this.ReleaseByteBuffer()},i}(l)),t("stMapScreenSizeDataClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).mapID=0,e.mainUserID=0,e.initPos=0,e.gsParam=k,e}return e(i,t),i.prototype.UnPack=function(e){t.prototype.UnPack.call(this,e),this.mapID=this.mByteBuffer.readUint16(),this.mainUserID=this.mByteBuffer.readUint32(),this.initPos=this.mByteBuffer.readUint32(),this.ReleaseByteBuffer()},i}(l)),t("stLoadMapOKDataUserCmd",function(t){function i(){var e;return(e=t.call(this)||this).gsParam=L,e}return e(i,t),i}(l)),t("stSetGameDataClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).type=0,e.value="",e.gsParam=d,e}return e(i,t),i.prototype.UnPack=function(e){t.prototype.UnPack.call(this,e),this.type=this.mByteBuffer.readUint8(),this.value=this.mByteBuffer.readUint64().toString(),this.ReleaseByteBuffer()},i}(l)),t("stRoleRenameClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).ret=0,e.strUserName="",e.gsParam=p,e}e(i,t);var r=i.prototype;return r.Pack=function(){t.prototype.Pack.call(this),this.mByteBuffer.writeUint8(this.ret),this.WriteStringWithFixedLength(this.strUserName,n.NAME_SIZE_MAX)},r.UnPack=function(e){t.prototype.UnPack.call(this,e),this.ret=this.mByteBuffer.readUint8(),this.strUserName=this.ReadStringWithFixedLength(n.NAME_SIZE_MAX),this.ReleaseByteBuffer()},i}(l)),t("stHPChangeMobileClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).change_hp=0,e.current_hp=0,e.gsParam=U,e}return e(i,t),i.prototype.UnPack=function(e){t.prototype.UnPack.call(this,e),this.change_hp=this.mByteBuffer.readInt32(),this.current_hp=this.mByteBuffer.readUint32(),this.ReleaseByteBuffer()},i}(l)),t("stExpChangeMobileClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).change_exp=0,e.current_exp=0,e.gsParam=y,e}return e(i,t),i.prototype.UnPack=function(e){t.prototype.UnPack.call(this,e),this.change_exp=this.mByteBuffer.readInt32(),this.current_exp=this.mByteBuffer.readUint32(),this.ReleaseByteBuffer()},i}(l)),t("stLevelUpMobileClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).last_level=0,e.current_level=0,e.gsParam=B,e}return e(i,t),i.prototype.UnPack=function(e){t.prototype.UnPack.call(this,e),this.last_level=this.mByteBuffer.readUint32(),this.current_level=this.mByteBuffer.readUint32(),this.ReleaseByteBuffer()},i}(l)),t("stRecoverUserHPClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).num=0,e.gsParam=T,e}return e(i,t),i.prototype.Pack=function(){t.prototype.Pack.call(this),this.mByteBuffer.writeUint32(this.num)},i}(l)),t("stUserInvitationDataClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).data=null,e.invitation_exp=0,e.invitation_level=0,e.totalReturnToken1="",e.gsParam=P,e}return e(i,t),i.prototype.UnPack=function(e){t.prototype.UnPack.call(this,e),this.data=new ct,this.data.UnPackData(this.mByteBuffer),this.invitation_exp=this.mByteBuffer.readUint32(),this.invitation_level=this.mByteBuffer.readUint32(),this.totalReturnToken1=this.mByteBuffer.readUint64().toString(),this.ReleaseByteBuffer()},i}(l)),t("stUserInvitationAwardListClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).invitation_award=null,e.gsParam=C,e}return e(i,t),i.prototype.UnPack=function(e){t.prototype.UnPack.call(this,e),this.invitation_award=[];for(var i=0;i<n.MAX_INVITATION_LEVEL;i++)this.invitation_award.push(this.mByteBuffer.readUint8());this.ReleaseByteBuffer()},i}(l)),t("stUserGetInvitationAwardClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).level=0,e.gsParam=E,e}return e(i,t),i.prototype.Pack=function(){t.prototype.Pack.call(this),this.mByteBuffer.writeUint32(this.level)},i}(l)),t("stUserClaimInvitationReturnTokenClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).gsParam=A,e}return e(i,t),i.prototype.Pack=function(){t.prototype.Pack.call(this)},i}(l)),t("stUserAchievementDataList",function(t){function i(){var e;return(e=t.call(this)||this).num=0,e.list=[],e.gsParam=I,e}return e(i,t),i.prototype.UnPack=function(e){t.prototype.UnPack.call(this,e),this.num=this.mByteBuffer.readUint16();for(var i=0;i<this.num;i+=1)this.list[i]=new ft,this.list[i].UnPackData(this.mByteBuffer);this.ReleaseByteBuffer()},i}(l)),t("stUserUpdateAchievementData",function(t){function i(){var e;return(e=t.call(this)||this).data=null,e.gsParam=D,e}return e(i,t),i.prototype.UnPack=function(e){t.prototype.UnPack.call(this,e),this.data=new ft,this.data.UnPackData(this.mByteBuffer),this.ReleaseByteBuffer()},i}(l)),t("stUserGetAchievementAward",function(t){function i(){var e;return(e=t.call(this)||this).achievementType=0,e.gsParam=v,e}return e(i,t),i.prototype.Pack=function(){t.prototype.Pack.call(this),this.mByteBuffer.writeUint32(this.achievementType)},i}(l)),t("stUserGuideAwardClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).id=0,e.gsParam=Z,e}return e(i,t),i.prototype.Pack=function(){t.prototype.Pack.call(this),this.mByteBuffer.writeUint32(this.id)},i}(l)),t("stUserPlatformDataClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).flag=0,e.platform=0,e.platform2=0,e.gsParam=V,e}return e(i,t),i.prototype.UnPack=function(e){t.prototype.UnPack.call(this,e),this.flag=this.mByteBuffer.readUint8(),this.platform=this.mByteBuffer.readUint32(),this.platform2=this.mByteBuffer.readUint32(),this.ReleaseByteBuffer()},i}(l)),t("stUserOnChain_MintWizardClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).chainID="",e.workerID="",e.gsParam=Q,e}return e(i,t),i.prototype.Pack=function(){t.prototype.Pack.call(this),this.mByteBuffer.writeUint64(a.fromString(this.chainID)),this.mByteBuffer.writeUint64(a.fromString(this.workerID))},i}(l)),t("stUserOnChain_WithdrawWizardClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).workerID="",e.gsParam=J,e}return e(i,t),i.prototype.Pack=function(){t.prototype.Pack.call(this),this.mByteBuffer.writeUint64(a.fromString(this.workerID))},i}(l)),t("stUserOnChain_WithdrawItemClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).chainID="",e.qwThisID="",e.num=0,e.gsParam=$,e}return e(i,t),i.prototype.Pack=function(){t.prototype.Pack.call(this),this.mByteBuffer.writeUint64(a.fromString(this.chainID)),this.mByteBuffer.writeUint64(a.fromString(this.qwThisID)),this.mByteBuffer.writeUint32(this.num)},i}(l)),t("stUserOnChain_WithdrawWizzClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).chainID="",e.amount="",e.gsParam=tt,e}return e(i,t),i.prototype.Pack=function(){t.prototype.Pack.call(this),this.mByteBuffer.writeUint64(a.fromString(this.chainID)),this.mByteBuffer.writeUint64(a.fromString(this.amount))},i}(l)),t("stUserOnChain_TGEWizzClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).chainID="",e.gsParam=et,e}return e(i,t),i.prototype.Pack=function(){t.prototype.Pack.call(this),this.mByteBuffer.writeUint64(a.fromString(this.chainID))},i}(l)),t("stUserTGE_GetWizzAmount",function(t){function i(){var e;return(e=t.call(this)||this).gsParam=R,e}return e(i,t),i.prototype.Pack=function(){t.prototype.Pack.call(this)},i}(l)),t("stUserTGE_ShowWizzAmount",function(t){function i(){var e;return(e=t.call(this)||this).total_wizzAmount="",e.release_wizzAmount="",e.c1_wizzAmount="",e.c1_release_wizzAmount="",e.c2_wizzAmount="",e.c2_release_wizzAmount="",e.c3_wizzAmount="",e.c3_release_wizzAmount="",e.gsParam=S,e}return e(i,t),i.prototype.UnPack=function(e){t.prototype.UnPack.call(this,e),this.total_wizzAmount=this.mByteBuffer.readUint64().toString(),this.release_wizzAmount=this.mByteBuffer.readUint64().toString(),this.c1_wizzAmount=this.mByteBuffer.readUint64().toString(),this.c1_release_wizzAmount=this.mByteBuffer.readUint64().toString(),this.c2_wizzAmount=this.mByteBuffer.readUint64().toString(),this.c2_release_wizzAmount=this.mByteBuffer.readUint64().toString(),this.c3_wizzAmount=this.mByteBuffer.readUint64().toString(),this.c3_release_wizzAmount=this.mByteBuffer.readUint64().toString(),this.ReleaseByteBuffer()},i}(l)),t("stUserChainOrderList",function(t){function i(){var e;return(e=t.call(this)||this).num=0,e.list=[],e.gsParam=it,e}return e(i,t),i.prototype.UnPack=function(e){t.prototype.UnPack.call(this,e),this.num=this.mByteBuffer.readUint16();for(var i=0;i<this.num;i+=1)this.list[i]=new ht,this.list[i].UnPackData(this.mByteBuffer);this.ReleaseByteBuffer()},i}(l)),t("stUserChainOrderAdd",function(t){function i(){var e;return(e=t.call(this)||this).info=null,e.gsParam=nt,e}return e(i,t),i.prototype.UnPack=function(e){t.prototype.UnPack.call(this,e),this.info=new ht,this.info.UnPackData(this.mByteBuffer),this.ReleaseByteBuffer()},i}(l)),t("stUserChainOrderRemove",function(t){function i(){var e;return(e=t.call(this)||this).orderID=0,e.gsParam=rt,e}return e(i,t),i.prototype.UnPack=function(e){t.prototype.UnPack.call(this,e),this.orderID=this.mByteBuffer.readUint32(),this.ReleaseByteBuffer()},i}(l)),t("stUserChainOrderSign",function(t){function i(){var e;return(e=t.call(this)||this).orderID=0,e.signResult=0,e.len=0,e.signData="",e.gsParam=at,e}return e(i,t),i.prototype.UnPack=function(e){t.prototype.UnPack.call(this,e),this.orderID=this.mByteBuffer.readUint32(),this.signResult=this.mByteBuffer.readUint8(),this.len=this.mByteBuffer.readUint16(),0!==this.len&&(this.signData=this.ReadStringWithFixedLength(this.len)),this.ReleaseByteBuffer()},i}(l)),t("stUserGetBornBoxClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).gsParam=q,e}return e(i,t),i.prototype.Pack=function(){t.prototype.Pack.call(this)},i}(l)),t("stWebQuestListClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).questNum=0,e.questList=null,e.gsParam=X,e}return e(i,t),i.prototype.UnPack=function(e){t.prototype.UnPack.call(this,e),this.questNum=this.mByteBuffer.readUint16(),this.questList=[];for(var i=0;i<this.questNum;i++)this.questList.push(this.mByteBuffer.readUint32());this.ReleaseByteBuffer()},i}(l)),t("stWebQuestFinishClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).questId=0,e.gsParam=j,e}return e(i,t),i.prototype.UnPack=function(e){t.prototype.UnPack.call(this,e),this.questId=this.mByteBuffer.readUint32(),this.ReleaseByteBuffer()},i}(l)),t("stUserPurchaseProductDataClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).num=0,e.productList=[],e.gsParam=H,e}return e(i,t),i.prototype.UnPack=function(e){t.prototype.UnPack.call(this,e),this.num=this.mByteBuffer.readUint16(),this.productList=[];for(var i=0;i<this.num;i++){var n=new lt;n.UnPackData(this.mByteBuffer),this.productList.push(n)}this.ReleaseByteBuffer()},i}(l)),t("stUserUpdatePurchaseProductDataClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).productData=null,e.gsParam=b,e}return e(i,t),i.prototype.UnPack=function(e){t.prototype.UnPack.call(this,e),this.productData=new lt,this.productData.UnPackData(this.mByteBuffer),this.ReleaseByteBuffer()},i}(l)),t("stUserPurchaseProductLockClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).num=0,e.productID=[],e.lockTime=[],e.gsParam=F,e}return e(i,t),i.prototype.UnPack=function(e){t.prototype.UnPack.call(this,e),this.num=this.mByteBuffer.readUint16(),this.productID=[],this.lockTime=[];for(var i=0;i<this.num;i++)this.productID.push(this.mByteBuffer.readUint32()),this.lockTime.push(this.mByteBuffer.readUint64().toString());this.ReleaseByteBuffer()},i}(l)),t("stGuideStepDataUserCmd",function(t){function i(){var e;return(e=t.call(this)||this).guideStep=0,e.gsParam=N,e}return e(i,t),i.prototype.Pack=function(){t.prototype.Pack.call(this),this.mByteBuffer.writeUint32(this.guideStep)},i}(l)),t("stUserMonthlyCardData",function(t){function i(){var e;return(e=t.call(this)||this).op=0,e.num=0,e.list=[],e.gsParam=st,e}return e(i,t),i.prototype.UnPack=function(e){t.prototype.UnPack.call(this,e),this.op=this.mByteBuffer.readUint32(),this.num=this.mByteBuffer.readUint16(),this.list=[];for(var i=0;i<this.num;i++){var n=new mt;n.UnPackData(this.mByteBuffer),this.list.push(n)}this.ReleaseByteBuffer()},i}(l)),t("stUserGetMonthlyCardAward",function(t){function i(){var e;return(e=t.call(this)||this).id=0,e.gsParam=ot,e}return e(i,t),i.prototype.Pack=function(){t.prototype.Pack.call(this),this.mByteBuffer.writeUint32(this.id)},i}(l)),t("stUserGiftListClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).num=0,e.list=[],e.gsParam=g,e}return e(i,t),i.prototype.UnPack=function(e){t.prototype.UnPack.call(this,e),this.num=this.mByteBuffer.readUint16(),this.list=[];for(var i=0;i<this.num;i++)this.list.push(this.mByteBuffer.readUint32());this.ReleaseByteBuffer()},i}(l)),t("stUserGetGiftClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).giftID=0,e.gsParam=O,e}return e(i,t),i.prototype.Pack=function(){t.prototype.Pack.call(this),this.mByteBuffer.writeUint32(this.giftID)},i}(l)),t("stUserGetGiftSuccessClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).giftID=0,e.gsParam=w,e}return e(i,t),i.prototype.UnPack=function(e){t.prototype.UnPack.call(this,e),this.giftID=this.mByteBuffer.readUint32(),this.ReleaseByteBuffer()},i}(l)),t("stUserNotcoinAwardListClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).num=0,e.list=[],e.gsParam=G,e}return e(i,t),i.prototype.UnPack=function(e){t.prototype.UnPack.call(this,e),this.num=this.mByteBuffer.readUint16(),this.list=[];for(var i=0;i<this.num;i++)this.list.push(this.mByteBuffer.readUint32());this.ReleaseByteBuffer()},i}(l)),t("stUserGetNotcoinAwardClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).id=0,e.level=0,e.gsParam=W,e}return e(i,t),i.prototype.Pack=function(){t.prototype.Pack.call(this),this.mByteBuffer.writeUint32(this.id),this.mByteBuffer.writeUint32(this.level)},i}(l)),t("stUserGetNotcoinAwardSuccessClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).id=0,e.gsParam=z,e}return e(i,t),i.prototype.UnPack=function(e){t.prototype.UnPack.call(this,e),this.id=this.mByteBuffer.readUint32(),this.ReleaseByteBuffer()},i}(l)),t("stUserActivityAwardListClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).num=0,e.list=[],e.gsParam=M,e}return e(i,t),i.prototype.UnPack=function(e){t.prototype.UnPack.call(this,e),this.num=this.mByteBuffer.readUint16(),this.list=[];for(var i=0;i<this.num;i++)this.list.push(this.mByteBuffer.readUint32());this.ReleaseByteBuffer()},i}(l)),t("stUserActivityAwardAddClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).id=0,e.gsParam=x,e}return e(i,t),i.prototype.UnPack=function(e){t.prototype.UnPack.call(this,e),this.id=this.mByteBuffer.readUint32(),this.ReleaseByteBuffer()},i}(l)),t("stWebBoxAwardListClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).boxNum=0,e.boxList=[],e.gsParam=K,e}return e(i,t),i.prototype.UnPack=function(e){t.prototype.UnPack.call(this,e),this.boxNum=this.mByteBuffer.readUint16(),this.boxList=[];for(var i=0;i<this.boxNum;i++){var n=this.mByteBuffer.readUint32(),r=this.mByteBuffer.readUint8();this.boxList.push([n,r])}this.ReleaseByteBuffer()},i}(l)),t("stWebBoxGetClientCmd",function(t){function i(){var e;return(e=t.call(this)||this).boxID=0,e.boxCount=0,e.gsParam=Y,e}e(i,t);var n=i.prototype;return n.Pack=function(){t.prototype.Pack.call(this),this.mByteBuffer.writeUint32(this.boxID),this.mByteBuffer.writeUint8(this.boxCount)},n.UnPack=function(e){t.prototype.UnPack.call(this,e),this.boxID=this.mByteBuffer.readUint32(),this.boxCount=this.mByteBuffer.readUint8(),this.ReleaseByteBuffer()},i}(l));i._RF.pop()}}}));

System.register("chunks:///_virtual/vesting.pool.result.ts",["cc"],(function(){"use strict";var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"67091sSRhlMl75S5h7Swdxr","vesting.pool.result",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/wizard.wallet.define.ts",["cc"],(function(){"use strict";var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"74f600ZfxJPf70JOLKQ1mPo","wizard.wallet.define",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/wizard.wallet.sdk.ts",["./rollupPluginModLoBabelHelpers.js","cc","./api.wizard.wallet.ts","./ui.float.text.controller.ts","./event.dispatcher.ts","./event.name.ts","./sdk.manager.ts","./common.tool.ts","./net.helper.ts"],(function(t){"use strict";var e,n,r,a,i,c,s,o,u,l,d,h;return{setters:[function(t){e=t.asyncToGenerator,n=t.regeneratorRuntime},function(t){r=t.cclegacy,a=t._decorator},function(t){i=t.apiWalletConnect,c=t.apiVerifyWalletCreate},function(t){s=t.UIFloatTextController},function(t){o=t.EventDispatcher},function(t){u=t.EventName},function(t){l=t.SDKManager},function(t){d=t.CommonTool},function(t){h=t.NetHelper}],execute:function(){var p,f;t("EWalletState",void 0),r._RF.push({},"831ddaVc6pL0IMbjDx8aHvM","wizard.wallet.sdk",void 0);var w,g=a.ccclass;!function(t){t[t.None=0]="None",t[t.NotCreated=1]="NotCreated",t[t.Connecting=2]="Connecting",t[t.Connected=3]="Connected",t[t.Disconnected=4]="Disconnected",t[t.BeChanged=5]="BeChanged"}(w||(w=t("EWalletState",{})));t("WizardWalletSDK",g("WizardWalletSDK")(((f=function(){function t(){}return t.isConnected=function(){return null!==this.connectedWallet},t.isCreated=function(){var t,e=null==(t=l.instance.curSDKPlugin.accountMeInfo)?void 0:t.addressEvm;return!(!e||""===e)},t.clearWalletConnect=function(){this.connectedWallet=null,this.walletState=w.None,this.walletId="",this.walletEmail="",this.walletAddress="",this.isCreating=!1,this.isConnectingThirdweb=!1},t.initApp=function(){},t.refreshWalletStatus=function(){var t=e(n().mark((function t(){var e;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.IS_OPEN){t.next=2;break}return t.abrupt("return");case 2:if(this.walletState!==w.Connected&&this.walletState!==w.Connecting){t.next=4;break}return t.abrupt("return");case 4:e=l.instance.curSDKPlugin,""!==(null==e?void 0:e.accountMeInfo.addressEvm)?this.connect():this.changeState(w.NotCreated);case 7:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),t.connect=function(){var t=e(n().mark((function t(){var e;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.IS_OPEN){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,this.changeState(w.Connecting),t.next=6,i();case 6:e=t.sent,this.walletId=e.walletId,this.walletEmail=e.walletEmail,this.connectWizardWallet(e.token),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(2),console.log(t.t0);case 15:case"end":return t.stop()}}),t,this,[[2,12]])})));return function(){return t.apply(this,arguments)}}(),t.reconnect=function(){var t=e(n().mark((function t(){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.changeState(w.Connecting),t.next=3,d.sleep(3e3);case 3:return t.next=5,this.connect();case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),t.changeState=function(t){this.walletState=t,o.emit(u.WIZARD_WALLET_STATE_CHANGED)},t.create=function(){var t=e(n().mark((function t(){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.IS_OPEN){t.next=2;break}return t.abrupt("return");case 2:this.isCreating=!0,this.connect(),s.OpenWaiting();case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),t.verifyCreate=function(){var t=e(n().mark((function t(){var e;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.IS_OPEN){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,this.isCreating=!0,t.next=6,c({address:this.walletAddress});case 6:(e=t.sent).created?(l.instance.curSDKPlugin.accountMeInfo.addressEvm=e.address,o.emit(u.ACCOUNT_ME_INFO_INIT),o.emit(u.UI_WALLET_CREATE_CLOSE),o.emit(u.UI_WALLET_OPEN),h.openEvmAddress()):s.AddTipI18nID_Failed("u.2553"),this.isCreating=!1,t.next=14;break;case 11:t.prev=11,t.t0=t.catch(2),console.log(t.t0);case 14:return t.prev=14,s.CloseWaiting(),t.finish(14);case 17:case"end":return t.stop()}}),t,this,[[2,11,14,17]])})));return function(){return t.apply(this,arguments)}}(),t.onWalletConnected=function(){var t=e(n().mark((function t(){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.IS_OPEN){t.next=2;break}return t.abrupt("return");case 2:if(this.connectedWallet=window.wizardWallet,this.walletAddress=this.connectedWallet.thirdwebAccount.address,console.log("wizard wallet connect success"),this.changeState(w.Connected),!this.isCreating){t.next=9;break}return t.next=9,this.verifyCreate();case 9:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),t.onWalletDisconnected=function(){var t=e(n().mark((function t(){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.IS_OPEN){t.next=2;break}return t.abrupt("return");case 2:this.changeState(w.Disconnected),this.connectedWallet=null,console.log("wizard wallet disconnected");case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),t.onWalletChanged=function(){var t=e(n().mark((function t(){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.IS_OPEN){t.next=2;break}return t.abrupt("return");case 2:this.changeState(w.BeChanged),this.connectedWallet=null,console.log("wizard wallet changed");case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),t.onInfo=function(){var t=e(n().mark((function t(e){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),t.onLoginInfo=function(){var t=e(n().mark((function t(){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.onInfo(this.r);case 2:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),t.connectWizardWallet=function(t){window.postMessage({type:"g2w-connect",token:t},"*")},t.showWizardWalletDetail=function(){var t;null==(t=window)||t.postMessage({type:"g2w-detail"},"*")},t.handlerAllWindowMessage=function(){var t=e(n().mark((function t(e){var r;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,window.location.origin===e.origin){t.next=4;break}return t.abrupt("return");case 4:if(e.data&&e.data.type){t.next=6;break}return t.abrupt("return");case 6:r=e.data.type,t.t0=r,t.next="w2g-connected"===t.t0?10:"w2g-disconnected"===t.t0?12:"w2g-wallet-changed"===t.t0?14:"w2g-e"===t.t0?16:18;break;case 10:return this.onWalletConnected(),t.abrupt("break",18);case 12:return this.onWalletDisconnected(),t.abrupt("break",18);case 14:return this.onWalletChanged(),t.abrupt("break",18);case 16:return this.onInfo(e.data.data),t.abrupt("break",18);case 18:t.next=23;break;case 20:t.prev=20,t.t1=t.catch(0),console.log(t.t1);case 23:case"end":return t.stop()}}),t,this,[[0,20]])})));return function(e){return t.apply(this,arguments)}}(),t}()).IS_OPEN=!0,f.connectedWallet=null,f.walletState=w.None,f.walletId="",f.walletEmail="",f.walletAddress="",f.isCreating=!1,f.isConnectingThirdweb=!1,f.r="",p=f))||p);r._RF.pop()}}}));

System.register("chunks:///_virtual/work.state.base.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,n,i;return{setters:[function(t){e=t.createClass},function(t){n=t.cclegacy,i=t._decorator}],execute:function(){var s;n._RF.push({},"8f0622t0CRCE7x/5Qzh6vu1","work.state.base",void 0);var r=i.ccclass;t("WorkStateBase",r("WorkStateBase")(s=function(){function t(t,e){this.mIsStateActive=void 0,this.mState=null,this.mOwnerWorker=null,this.mOwnerWorker=t,this.mState=e}var n=t.prototype;return n.Enter=function(t){this.mIsStateActive=!0,this.OnEnter(t)},n.Exit=function(t){this.mIsStateActive=!1,this.OnExit(t)},n.UpdateState=function(t){this.OnUpdate(t)},n.OnEnter=function(t){},n.OnExit=function(t){},n.OnUpdate=function(t){},n.Cleanup=function(){},n.OnMoveFinish=function(){},n.OnFarmEditFinished=function(){},e(t,[{key:"StateType",get:function(){return this.mState}},{key:"IsStateActive",get:function(){return this.mIsStateActive}}]),t}())||s);n._RF.pop()}}}));

System.register("chunks:///_virtual/work.state.gather.ts",["./rollupPluginModLoBabelHelpers.js","cc","./enum.anim.state.ts","./work.state.base.ts","./enum.work.state.ts","./event.dispatcher.ts","./event.name.ts","./farm.system.ts","./enum.work.define.ts"],(function(t){"use strict";var r,e,i,s,n,o,m,a,h,k,W;return{setters:[function(t){r=t.inheritsLoose},function(t){e=t.cclegacy,i=t._decorator,s=t.v2},function(t){n=t.EAnimState},function(t){o=t.WorkStateBase},function(t){m=t.EWorkState},function(t){a=t.EventDispatcher},function(t){h=t.EventName},function(t){k=t.FarmSystem},function(t){W=t.EWorkResType}],execute:function(){var T;e._RF.push({},"b9422nJ4zhGD7m9wwsAthxw","work.state.gather",void 0);var c=i.ccclass;t("WorkStateGather",c("WorkStateGather")(T=function(t){function e(r){var e;return(e=t.call(this,r,m.Gather)||this).mTargetFarm=null,e.mInitGridPos=null,e.mTargetGridPos=null,e.mWorkDeltaTime=0,e.mTotalGatherTime=1.5,e.mIsCanGather=!1,e.mIsWorkingFinish=!1,e}r(e,t);var i=e.prototype;return i.OnEnter=function(r){t.prototype.OnEnter.call(this,r),k.instance.IsNormal&&this.mOwnerWorker.setObjActive(!0),this.mOwnerWorker.SetWorkProgressVisible(!1),this.mOwnerWorker.ShowResIcon(W.None),this.mInitGridPos=this.mOwnerWorker.InitGridPos,this.mTargetFarm=k.instance.findFarmObjectByTempID(this.mOwnerWorker.TarWorkObjID),this.mTargetFarm?(this.mIsCanGather=!1,this.mIsWorkingFinish=!1,this.mTargetFarm.IsInUse=!0,this.mTargetGridPos=this.mTargetFarm.getTarFarmObjPos(this.mInitGridPos),this._moveToTarget()):(this.mIsCanGather=!1,this.mIsWorkingFinish=!0,this._moveToBack())},i.OnUpdate=function(t){this.mOwnerWorker&&this._updateWorkingAnim(t)},i.OnExit=function(r){t.prototype.OnExit.call(this,r),this.mTargetFarm&&(this.mTargetFarm.IsInUse=!1,this.mTargetFarm=null),this.mOwnerWorker&&(this.mOwnerWorker.TarWorkObjID=0,this.mOwnerWorker.SetWorkProgressVisible(!1),this.mOwnerWorker.ShowResIcon(W.None),this.mOwnerWorker.IsMoving&&this.mOwnerWorker.stopAutoMove()),this.mTargetGridPos=null,this.mInitGridPos=null,this.mWorkDeltaTime=0,this.mIsCanGather=!1,this.mIsWorkingFinish=!1},i.Cleanup=function(){},i._moveToTarget=function(){if(null==this.mTargetGridPos)return this.mIsCanGather=!1,this.mIsWorkingFinish=!0,void this._moveToBack();this.mOwnerWorker.getGridPos().equals(this.mTargetGridPos)?this.OnMoveFinish():this.mOwnerWorker.startAutoMoveV2(this.mTargetGridPos)},i._moveToBack=function(){null!=this.mInitGridPos?this.mOwnerWorker.getGridPos().equals(this.mInitGridPos)?this.OnMoveFinish():this.mOwnerWorker.startAutoMoveV2(this.mInitGridPos):this.OnMoveFinish()},i.OnMoveFinish=function(){if(this.mOwnerWorker)if(this.mIsWorkingFinish)this.mOwnerWorker.setObjActive(!1),a.emit(h.WORKER_STATE_FARMER_GATHER_FINISH,this.mOwnerWorker.WorkerID);else{if(this.mTargetFarm){var t=s(this.mTargetFarm.Position.x,this.mTargetFarm.Position.y);this.mOwnerWorker.ChangeFaceToTarget(t)}this._playGatherAnim()}},i._playGatherAnim=function(){this.mIsCanGather=!0,this.mWorkDeltaTime=0,this.mOwnerWorker.SetWorkProgressVisible(!0),this.mOwnerWorker.SetWorkProgressValue(0),this.mOwnerWorker.playAnim(n.Doing)},i._stopGatherAnim=function(){this.mIsCanGather=!1,this.mIsWorkingFinish=!0,this.mOwnerWorker.SetWorkProgressVisible(!1),this.mOwnerWorker.ShowResIcon(W.Mushroom),this.mTargetFarm&&this.mTargetFarm.takeOver(),this._moveToBack()},i._updateWorkingAnim=function(t){this.mIsCanGather&&(this.mOwnerWorker.IsMoving||(this.mWorkDeltaTime>=this.mTotalGatherTime&&this._stopGatherAnim(),this.mOwnerWorker.SetWorkProgressValue(this.mWorkDeltaTime/this.mTotalGatherTime),this.mWorkDeltaTime+=t))},i.OnFarmEditFinished=function(){this.mOwnerWorker&&(this.mInitGridPos=this.mOwnerWorker.InitGridPos,this.mTargetFarm=k.instance.findFarmObjectByTempID(this.mOwnerWorker.TarWorkObjID),this.mTargetFarm?this.mTargetGridPos=this.mTargetFarm.getTarFarmObjPos(this.mInitGridPos):this.mTargetGridPos=null,this.mOwnerWorker.IsMoving?this.mIsWorkingFinish?this._moveToBack():this._moveToTarget():this.mIsCanGather?this._stopGatherAnim():this._moveToBack())},e}(o))||T);e._RF.pop()}}}));

System.register("chunks:///_virtual/work.state.hunt.ts",["./rollupPluginModLoBabelHelpers.js","cc","./enum.anim.state.ts","./work.state.base.ts","./enum.work.state.ts","./event.dispatcher.ts","./event.name.ts","./farm.system.ts","./enum.work.define.ts"],(function(t){"use strict";var i,r,e,s,n,m,o,a,h,u,T,k;return{setters:[function(t){i=t.inheritsLoose},function(t){r=t.cclegacy,e=t._decorator,s=t.randomRangeInt,n=t.v2},function(t){m=t.EAnimState},function(t){o=t.WorkStateBase},function(t){a=t.EWorkState},function(t){h=t.EventDispatcher},function(t){u=t.EventName},function(t){T=t.FarmSystem},function(t){k=t.EWorkResType}],execute:function(){var W;r._RF.push({},"5cfbfaOia9GKapAM43n8Pmf","work.state.hunt",void 0);var l=e.ccclass;t("WorkStateHunt",l("WorkStateHunt")(W=function(t){function r(i){var r;return(r=t.call(this,i,a.Hunt)||this).mInitGridPos=null,r.mTargetFarm=null,r.mTargetGridPos=null,r.mHuntAnimTime=.56,r.mWorkDeltaTime=0,r.mCurHuntTimes=0,r.mTotalHuntTimes=0,r.mTotalGatherTime=1.5,r.mIsCanHunt=!1,r.mIsCanGather=!1,r.mIsWorkingFinish=!1,r}i(r,t);var e=r.prototype;return e.OnEnter=function(i){t.prototype.OnEnter.call(this,i),this.mCurHuntTimes=0,this.mTotalHuntTimes=s(8,13),T.instance.IsNormal&&this.mOwnerWorker.setObjActive(!0),this.mOwnerWorker.SetWorkProgressVisible(!1),this.mOwnerWorker.ShowResIcon(k.None),this.mInitGridPos=this.mOwnerWorker.InitGridPos,this.mTargetFarm=T.instance.findFarmObjectByTempID(this.mOwnerWorker.TarWorkObjID),this.mTargetFarm?(this.mIsCanHunt=!1,this.mIsCanGather=!1,this.mIsWorkingFinish=!1,this.mTargetFarm.IsInUse=!0,this.mTargetGridPos=this.mTargetFarm.getTarFarmObjPos(this.mInitGridPos),this._moveToTarget()):(this.mIsCanHunt=!1,this.mIsCanGather=!1,this.mIsWorkingFinish=!0,this._moveToBack())},e.OnUpdate=function(t){this.mOwnerWorker&&this._updateWorkingAnim(t)},e.OnExit=function(i){t.prototype.OnExit.call(this,i),this.mTargetFarm&&(this.mTargetFarm.IsInUse=!1,this.mTargetFarm=null),this.mOwnerWorker&&(this.mOwnerWorker.TarWorkObjID=0,this.mOwnerWorker.SetWorkProgressVisible(!1),this.mOwnerWorker.ShowResIcon(k.None),this.mOwnerWorker.IsMoving&&this.mOwnerWorker.stopAutoMove()),this.mTargetGridPos=null,this.mInitGridPos=null,this.mWorkDeltaTime=0,this.mCurHuntTimes=0,this.mTotalHuntTimes=0,this.mIsCanHunt=!1,this.mIsCanGather=!1,this.mIsWorkingFinish=!1},e.Cleanup=function(){},e._moveToTarget=function(){if(null==this.mTargetGridPos)return this.mIsCanHunt=!1,this.mIsCanGather=!1,this.mIsWorkingFinish=!0,void this._moveToBack();this.mOwnerWorker.getGridPos().equals(this.mTargetGridPos)?this.OnMoveFinish():this.mOwnerWorker.startAutoMoveV2(this.mTargetGridPos)},e._moveToBack=function(){null!=this.mInitGridPos?this.mOwnerWorker.getGridPos().equals(this.mInitGridPos)?this.OnMoveFinish():this.mOwnerWorker.startAutoMoveV2(this.mInitGridPos):this.OnMoveFinish()},e.OnMoveFinish=function(){if(this.mOwnerWorker)if(this.mIsWorkingFinish)this.mOwnerWorker.setObjActive(!1),h.emit(u.WORKER_STATE_HUNTER_FINISH,this.mOwnerWorker.WorkerID);else{if(this.mTargetFarm){var t=n(this.mTargetFarm.Position.x,this.mTargetFarm.Position.y);this.mOwnerWorker.ChangeFaceToTarget(t)}this._playHuntAnim()}},e._playHuntAnim=function(){this.mIsCanHunt=!0,this.mWorkDeltaTime=this.mHuntAnimTime,this.mOwnerWorker.SetWorkProgressVisible(!0),this.mOwnerWorker.SetWorkProgressValue(0)},e._stopHuntAnim=function(){this.mIsCanHunt=!1,this.mOwnerWorker.SetWorkProgressVisible(!1),this.mTargetFarm&&this.mTargetFarm.drop(),this._playGatherAnim()},e._playGatherAnim=function(){this.mIsCanGather=!0,this.mWorkDeltaTime=0,this.mOwnerWorker.SetWorkProgressVisible(!0),this.mOwnerWorker.SetWorkProgressValue(0),this.mOwnerWorker.playAnim(m.Doing)},e._stopGatherAnim=function(){this.mIsCanGather=!1,this.mIsWorkingFinish=!0,this.mOwnerWorker.SetWorkProgressVisible(!1),this.mOwnerWorker.ShowResIcon(k.ManaGel),this.mTargetFarm&&this.mTargetFarm.takeOver(),this._moveToBack()},e._updateWorkingAnim=function(t){if((this.mIsCanHunt||this.mIsCanGather)&&!this.mOwnerWorker.IsMoving){if(this.mIsCanHunt){if(this.mCurHuntTimes>this.mTotalHuntTimes)return void this._stopHuntAnim();this.mWorkDeltaTime>=this.mHuntAnimTime&&(this.mWorkDeltaTime=0,this.mCurHuntTimes++,this.mOwnerWorker.playAnim(m.Attack),this.mTargetFarm&&this.mTargetFarm.beHit()),this.mOwnerWorker.SetWorkProgressValue((this.mCurHuntTimes-1)/this.mTotalHuntTimes)}this.mIsCanGather&&(this.mWorkDeltaTime>=this.mTotalGatherTime&&this._stopGatherAnim(),this.mOwnerWorker.SetWorkProgressValue(this.mWorkDeltaTime/this.mTotalGatherTime)),this.mWorkDeltaTime+=t}},e.OnFarmEditFinished=function(){this.mOwnerWorker&&(this.mInitGridPos=this.mOwnerWorker.InitGridPos,this.mTargetFarm=T.instance.findFarmObjectByTempID(this.mOwnerWorker.TarWorkObjID),this.mTargetFarm?this.mTargetGridPos=this.mTargetFarm.getTarFarmObjPos(this.mInitGridPos):this.mTargetGridPos=null,this.mOwnerWorker.IsMoving?this.mIsWorkingFinish?this._moveToBack():this._moveToTarget():this.mIsCanHunt?this._moveToTarget():this.mIsCanGather?this._stopGatherAnim():this._moveToBack())},r}(o))||W);r._RF.pop()}}}));

System.register("chunks:///_virtual/work.state.idle.ts",["./rollupPluginModLoBabelHelpers.js","cc","./enum.anim.state.ts","./work.state.base.ts","./enum.work.state.ts","./event.dispatcher.ts","./event.name.ts","./farm.system.ts"],(function(e){"use strict";var t,i,n,r,s,m,o,a,l,h,c,d;return{setters:[function(e){t=e.inheritsLoose},function(e){i=e.cclegacy,n=e._decorator,r=e.Vec2,s=e.randomRangeInt,m=e.v2},function(e){o=e.EAnimState},function(e){a=e.WorkStateBase},function(e){l=e.EWorkState},function(e){h=e.EventDispatcher},function(e){c=e.EventName},function(e){d=e.FarmSystem}],execute:function(){var I;i._RF.push({},"23554XmT0tFT7n2j9GBy3rj","work.state.idle",void 0);var k=n.ccclass;e("WorkStateIdle",k("WorkStateIdle")(I=function(e){function i(t){var i;return(i=e.call(this,t,l.Idle)||this).mInitGridPos=m(),i.mIdleDeltaTime=0,i.mIdleWorkTime=0,i.mIdleTotalTime=0,i.mIsCanPlayAnim=!1,i}t(i,e);var n=i.prototype;return n.OnEnter=function(t){e.prototype.OnEnter.call(this,t),this.mIdleDeltaTime=0,this.mIdleWorkTime=0,this.mIdleTotalTime=1,d.instance.IsNormal&&this.mOwnerWorker.setObjActive(!0),this.mInitGridPos=this.mOwnerWorker.InitGridPos,this._moveToBack(),this.mIsCanPlayAnim=!1},n.OnUpdate=function(e){this._updateIdleAnim(e)},n.OnExit=function(t){e.prototype.OnExit.call(this,t),this.mIdleDeltaTime=0,this.mIdleWorkTime=0,this.mIdleTotalTime=0,this.mIsCanPlayAnim=!1},n.Cleanup=function(){},n._moveToBack=function(){this.mInitGridPos.equals(r.ZERO)||this.mOwnerWorker.getGridPos().equals(this.mInitGridPos)?this.OnMoveFinish():this.mOwnerWorker.startAutoMoveV2(this.mInitGridPos)},n.OnMoveFinish=function(){this.mOwnerWorker&&(this.mOwnerWorker.setObjActive(!1),h.emit(c.WORKER_STATE_IDLE_FINISH,this.mOwnerWorker.WorkerID))},n._playIdleAnim=function(){switch(this.mIsCanPlayAnim=!0,this.mIdleDeltaTime=0,this.mIdleTotalTime=s(6,10),this.mIdleWorkTime=s(2,5),s(0,5)){case 0:this.mOwnerWorker.playAnim(o.Doing);break;case 1:this.mOwnerWorker.playAnim(o.Attack);break;case 2:this.mOwnerWorker.playAnim(o.Watering);break;case 3:this.mOwnerWorker.playAnim(o.Mining);break;case 4:this.mOwnerWorker.playAnim(o.Hunger)}},n._updateIdleAnim=function(e){this.mIsCanPlayAnim&&(this.mOwnerWorker.IsMoving||(this.mIdleDeltaTime>=this.mIdleTotalTime&&this._moveToBack(),this.mIdleDeltaTime>=this.mIdleWorkTime&&(this.mIdleWorkTime=this.mIdleTotalTime,this.mOwnerWorker.playAnim(o.Idle)),this.mIdleDeltaTime+=e))},n.OnFarmEditFinished=function(){this.mOwnerWorker&&(this.mInitGridPos=this.mOwnerWorker.InitGridPos,this.mOwnerWorker.IsMoving&&this._moveToBack())},i}(a))||I);i._RF.pop()}}}));

System.register("chunks:///_virtual/work.state.mine.ts",["./rollupPluginModLoBabelHelpers.js","cc","./enum.anim.state.ts","./work.state.base.ts","./enum.work.state.ts","./event.dispatcher.ts","./event.name.ts","./farm.system.ts","./enum.work.define.ts"],(function(i){"use strict";var t,e,r,s,n,m,o,a,h,T,k,W;return{setters:[function(i){t=i.inheritsLoose},function(i){e=i.cclegacy,r=i._decorator,s=i.randomRangeInt,n=i.v2},function(i){m=i.EAnimState},function(i){o=i.WorkStateBase},function(i){a=i.EWorkState},function(i){h=i.EventDispatcher},function(i){T=i.EventName},function(i){k=i.FarmSystem},function(i){W=i.EWorkResType}],execute:function(){var l;e._RF.push({},"06229lqWOZC5q4ATABQlJQq","work.state.mine",void 0);var u=r.ccclass;i("WorkStateMine",u("WorkStateMine")(l=function(i){function e(t){var e;return(e=i.call(this,t,a.Mine)||this).mInitGridPos=null,e.mTargetFarm=null,e.mTargetGridPos=null,e.mMineAnimTime=.56,e.mWorkDeltaTime=0,e.mCurMineTimes=0,e.mTotalMineTimes=0,e.mTotalGatherTime=1.5,e.mIsCanMine=!1,e.mIsCanGather=!1,e.mIsWorkingFinish=!1,e}t(e,i);var r=e.prototype;return r.OnEnter=function(t){i.prototype.OnEnter.call(this,t),this.mCurMineTimes=0,this.mTotalMineTimes=s(10,16),k.instance.IsNormal&&this.mOwnerWorker.setObjActive(!0),this.mOwnerWorker.SetWorkProgressVisible(!1),this.mOwnerWorker.ShowResIcon(W.None),this.mInitGridPos=this.mOwnerWorker.InitGridPos,this.mTargetFarm=k.instance.findFarmObjectByTempID(this.mOwnerWorker.TarWorkObjID),this.mTargetFarm?(this.mIsCanMine=!1,this.mIsCanGather=!1,this.mIsWorkingFinish=!1,this.mTargetFarm.IsInUse=!0,this.mTargetGridPos=this.mTargetFarm.getTarFarmObjPos(this.mInitGridPos),this._moveToTarget()):(this.mIsCanMine=!1,this.mIsCanGather=!1,this.mIsWorkingFinish=!0,this._moveToBack())},r.OnUpdate=function(i){this.mOwnerWorker&&this._updateWorkingAnim(i)},r.OnExit=function(t){i.prototype.OnExit.call(this,t),this.mTargetFarm&&(this.mTargetFarm.IsInUse=!1,this.mTargetFarm=null),this.mOwnerWorker&&(this.mOwnerWorker.TarWorkObjID=0,this.mOwnerWorker.SetWorkProgressVisible(!1),this.mOwnerWorker.ShowResIcon(W.None),this.mOwnerWorker.IsMoving&&this.mOwnerWorker.stopAutoMove()),this.mTargetGridPos=null,this.mInitGridPos=null,this.mWorkDeltaTime=0,this.mCurMineTimes=0,this.mTotalMineTimes=0,this.mIsCanMine=!1,this.mIsCanGather=!1,this.mIsWorkingFinish=!1},r.Cleanup=function(){},r._moveToTarget=function(){if(null==this.mTargetGridPos)return this.mIsCanMine=!1,this.mIsCanGather=!1,this.mIsWorkingFinish=!0,void this._moveToBack();this.mOwnerWorker.getGridPos().equals(this.mTargetGridPos)?this.OnMoveFinish():this.mOwnerWorker.startAutoMoveV2(this.mTargetGridPos)},r._moveToBack=function(){null!=this.mInitGridPos?this.mOwnerWorker.getGridPos().equals(this.mInitGridPos)?this.OnMoveFinish():this.mOwnerWorker.startAutoMoveV2(this.mInitGridPos):this.OnMoveFinish()},r.OnMoveFinish=function(){if(this.mOwnerWorker)if(this.mIsWorkingFinish)this.mOwnerWorker.setObjActive(!1),h.emit(T.WORKER_STATE_MINER_FINISH,this.mOwnerWorker.WorkerID);else{if(this.mTargetFarm){var i=n(this.mTargetFarm.Position.x,this.mTargetFarm.Position.y);this.mOwnerWorker.ChangeFaceToTarget(i)}this._playMineAnim()}},r._playMineAnim=function(){this.mIsCanMine=!0,this.mWorkDeltaTime=this.mMineAnimTime,this.mOwnerWorker.SetWorkProgressVisible(!0),this.mOwnerWorker.SetWorkProgressValue(0)},r._stopMineAnim=function(){this.mIsCanMine=!1,this.mOwnerWorker.SetWorkProgressVisible(!1),this.mTargetFarm&&this.mTargetFarm.drop(),this._playGatherAnim()},r._playGatherAnim=function(){this.mIsCanGather=!0,this.mWorkDeltaTime=0,this.mOwnerWorker.SetWorkProgressVisible(!0),this.mOwnerWorker.SetWorkProgressValue(0),this.mOwnerWorker.playAnim(m.Doing)},r._stopGatherAnim=function(){this.mIsCanGather=!1,this.mIsWorkingFinish=!0,this.mOwnerWorker.SetWorkProgressVisible(!1),this.mOwnerWorker.ShowResIcon(W.Ethereal),this.mTargetFarm&&this.mTargetFarm.takeOver(),this._moveToBack()},r._updateWorkingAnim=function(i){if((this.mIsCanMine||this.mIsCanGather)&&!this.mOwnerWorker.IsMoving){if(this.mIsCanMine){if(this.mCurMineTimes>this.mTotalMineTimes)return void this._stopMineAnim();this.mWorkDeltaTime>=this.mMineAnimTime&&(this.mWorkDeltaTime=0,this.mCurMineTimes++,this.mOwnerWorker.playAnim(m.Mining),this.mTargetFarm&&this.mTargetFarm.beHit()),this.mOwnerWorker.SetWorkProgressValue((this.mCurMineTimes-1)/this.mTotalMineTimes)}this.mIsCanGather&&(this.mWorkDeltaTime>=this.mTotalGatherTime&&this._stopGatherAnim(),this.mOwnerWorker.SetWorkProgressValue(this.mWorkDeltaTime/this.mTotalGatherTime)),this.mWorkDeltaTime+=i}},r.OnFarmEditFinished=function(){this.mOwnerWorker&&(this.mInitGridPos=this.mOwnerWorker.InitGridPos,this.mTargetFarm=k.instance.findFarmObjectByTempID(this.mOwnerWorker.TarWorkObjID),this.mTargetFarm?this.mTargetGridPos=this.mTargetFarm.getTarFarmObjPos(this.mInitGridPos):this.mTargetGridPos=null,this.mOwnerWorker.IsMoving?this.mIsWorkingFinish?this._moveToBack():this._moveToTarget():this.mIsCanMine?this._moveToTarget():this.mIsCanGather?this._stopGatherAnim():this._moveToBack())},e}(o))||l);e._RF.pop()}}}));

System.register("chunks:///_virtual/work.state.null.ts",["./rollupPluginModLoBabelHelpers.js","cc","./enum.anim.state.ts","./enum.work.state.ts","./work.state.base.ts"],(function(t){"use strict";var e,n,r,o,i,s,a;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,r=t._decorator,o=t.Vec2},function(t){i=t.EAnimState},function(t){s=t.EWorkState},function(t){a=t.WorkStateBase}],execute:function(){var u;n._RF.push({},"fb30eE0hs5CkI8h5q/8RP8X","work.state.null",void 0);var c=r.ccclass;t("WorkStateNull",c("WorkStateNull")(u=function(t){function n(e){return t.call(this,e,s.None)||this}e(n,t);var r=n.prototype;return r.OnEnter=function(e){t.prototype.OnEnter.call(this,e),this.mOwnerWorker.playAnim(i.Idle)},r.OnExit=function(e){t.prototype.OnExit.call(this,e)},r.OnUpdate=function(){},r.Cleanup=function(){},r.OnFarmEditFinished=function(){if(this.mOwnerWorker){var t=this.mOwnerWorker.InitGridPos;t.equals(o.ZERO)||this.mOwnerWorker.setGridPosImmediate(t)}},n}(a))||u);n._RF.pop()}}}));

System.register("chunks:///_virtual/work.state.wait.ts",["./rollupPluginModLoBabelHelpers.js","cc","./enum.anim.state.ts","./enum.work.state.ts","./work.state.base.ts"],(function(t){"use strict";var n,e,i,o,r,a;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy,i=t._decorator},function(t){o=t.EAnimState},function(t){r=t.EWorkState},function(t){a=t.WorkStateBase}],execute:function(){var s;e._RF.push({},"1ee3fh9u4JFV5+wPB3CcaTu","work.state.wait",void 0);var c=i.ccclass;t("WorkStateWait",c("WorkStateWait")(s=function(t){function e(n){return t.call(this,n,r.Wait)||this}n(e,t);var i=e.prototype;return i.OnEnter=function(n){t.prototype.OnEnter.call(this,n),this.mOwnerWorker.playAnim(o.Idle)},i.OnExit=function(n){t.prototype.OnExit.call(this,n)},i.OnUpdate=function(){},i.Cleanup=function(){},i.OnFarmEditFinished=function(){},e}(a))||s);e._RF.pop()}}}));

System.register("chunks:///_virtual/work.state.water.ts",["./rollupPluginModLoBabelHelpers.js","cc","./enum.anim.state.ts","./work.state.base.ts","./enum.work.state.ts","./event.dispatcher.ts","./event.name.ts","./farm.system.ts"],(function(t){"use strict";var r,i,e,s,n,a,o,m,h,W,k;return{setters:[function(t){r=t.inheritsLoose},function(t){i=t.cclegacy,e=t._decorator,s=t.v2,n=t.randomRangeInt},function(t){a=t.EAnimState},function(t){o=t.WorkStateBase},function(t){m=t.EWorkState},function(t){h=t.EventDispatcher},function(t){W=t.EventName},function(t){k=t.FarmSystem}],execute:function(){var T;i._RF.push({},"90d45vRN6BBO6E4Yvrlun7a","work.state.water",void 0);var g=e.ccclass;t("WorkStateWater",g("WorkStateWater")(T=function(t){function i(r){var i;return(i=t.call(this,r,m.Water)||this).mInitGridPos=null,i.mTargetFarm=null,i.mTargetGridPos=null,i.mWaterDeltaTime=0,i.mWaterWaitTime=0,i.mIsCanWater=!1,i.mIsWorkingFinish=!1,i}r(i,t);var e=i.prototype;return e.OnEnter=function(r){t.prototype.OnEnter.call(this,r),k.instance.IsNormal&&this.mOwnerWorker.setObjActive(!0),this.mOwnerWorker.SetWorkProgressVisible(!1),this.mInitGridPos=this.mOwnerWorker.InitGridPos,this.mTargetFarm=k.instance.findFarmObjectByTempID(this.mOwnerWorker.TarWorkObjID),this.mTargetFarm?(this.mIsCanWater=!1,this.mIsWorkingFinish=!1,this.mTargetFarm.IsInUse=!0,this.mTargetGridPos=this.mTargetFarm.getTarFarmObjPos(this.mInitGridPos),this._moveToTarget()):(this.mIsCanWater=!1,this.mIsWorkingFinish=!0,this._moveToBack())},e.OnUpdate=function(t){this.mOwnerWorker&&this._updateWorkingAnim(t)},e.OnExit=function(r){t.prototype.OnExit.call(this,r),this.mTargetFarm&&(this.mTargetFarm.IsInUse=!1,this.mTargetFarm=null),this.mOwnerWorker&&(this.mOwnerWorker.TarWorkObjID=0,this.mOwnerWorker.SetWorkProgressVisible(!1),this.mOwnerWorker.IsMoving&&this.mOwnerWorker.stopAutoMove()),this.mTargetGridPos=null,this.mInitGridPos=null,this.mWaterDeltaTime=0,this.mWaterWaitTime=0,this.mIsCanWater=!1,this.mIsWorkingFinish=!1},e.Cleanup=function(){},e._moveToTarget=function(){if(null==this.mTargetGridPos)return this.mIsCanWater=!1,this.mIsWorkingFinish=!0,void this._moveToBack();this.mOwnerWorker.getGridPos().equals(this.mTargetGridPos)?this.OnMoveFinish():this.mOwnerWorker.startAutoMoveV2(this.mTargetGridPos)},e._moveToBack=function(){null!=this.mInitGridPos?this.mOwnerWorker.getGridPos().equals(this.mInitGridPos)?this.OnMoveFinish():this.mOwnerWorker.startAutoMoveV2(this.mInitGridPos):this.OnMoveFinish()},e.OnMoveFinish=function(){if(this.mOwnerWorker)if(this.mIsWorkingFinish)this.mOwnerWorker.setObjActive(!1),h.emit(W.WORKER_STATE_FARMER_WATER_FINISH,this.mOwnerWorker.WorkerID);else{if(this.mTargetFarm){var t=s(this.mTargetFarm.Position.x,this.mTargetFarm.Position.y);this.mOwnerWorker.ChangeFaceToTarget(t)}this._playWaterAnim()}},e._playWaterAnim=function(){this.mIsCanWater=!0,this.mWaterDeltaTime=0,this.mWaterWaitTime=n(3,5),this.mOwnerWorker.SetWorkProgressVisible(!0),this.mOwnerWorker.playAnim(a.Watering)},e._stopWaterAnim=function(){this.mIsCanWater=!1,this.mIsWorkingFinish=!0,this.mOwnerWorker.SetWorkProgressVisible(!1),this.mOwnerWorker.playAnim(a.Idle),this.mTargetFarm&&this.mTargetFarm.Interactive(),h.emit(W.WORKER_STATE_FARMER_WATER_FINISH,this.mOwnerWorker.WorkerID)},e._updateWorkingAnim=function(t){this.mIsCanWater&&(this.mOwnerWorker.IsMoving||(this.mWaterDeltaTime>=this.mWaterWaitTime&&this._stopWaterAnim(),this.mOwnerWorker.SetWorkProgressValue(this.mWaterDeltaTime/this.mWaterWaitTime),this.mWaterDeltaTime+=t))},e.OnFarmEditFinished=function(){this.mOwnerWorker&&(this.mInitGridPos=this.mOwnerWorker.InitGridPos,this.mTargetFarm=k.instance.findFarmObjectByTempID(this.mOwnerWorker.TarWorkObjID),this.mTargetFarm?this.mTargetGridPos=this.mTargetFarm.getTarFarmObjPos(this.mInitGridPos):this.mTargetGridPos=null,this.mOwnerWorker.IsMoving?this.mIsWorkingFinish?this._moveToBack():null!=this.mTargetGridPos?this._moveToTarget():this._stopWaterAnim():this._stopWaterAnim())},i}(o))||T);i._RF.pop()}}}));

System.register("chunks:///_virtual/work.system.ts",["./rollupPluginModLoBabelHelpers.js","cc","./base.system.ts","./object.worker.ts","./event.dispatcher.ts","./event.name.ts","./model.worker.manager.ts","./farm.system.ts","./enum.work.define.ts","./enum.work.state.ts","./scene.system.ts","./farm.define.ts","./guid.tool.ts","./farm.client.protocol.ts"],(function(e){"use strict";var t,r,i,n,o,s,a,h,c,m,l,I,W,_,u,k,d,f;return{setters:[function(e){t=e.inheritsLoose,r=e.createForOfIteratorHelperLoose,i=e.createClass},function(e){n=e.cclegacy,o=e.v2,s=e.Vec2},function(e){a=e.BaseSystem},function(e){h=e.WorkerActor},function(e){c=e.EventDispatcher},function(e){m=e.EventName},function(e){l=e.ModelWorkerManager},function(e){I=e.FarmSystem},function(e){W=e.EWorkerType},function(e){_=e.EWorkState},function(e){u=e.SceneSystem},function(e){k=e.EFarmFoodProduceState},function(e){d=e.GuidTool},function(e){f=e.enumWorkerState}],execute:function(){n._RF.push({},"bc732VqFzJDgrV8PpNtusvg","work.system",void 0);var T=e("WorkSystem",function(e){function n(){for(var t,r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];return(t=e.call.apply(e,[this].concat(i))||this).mWorkerObjectMap=new Map,t.mToDelWorkerObject=new Array,t.mFarmerIdleList=new Array,t.mHunterIdleList=new Array,t.mMinerIdleList=new Array,t.mFarmerDeltaTime=0,t.mHunterDeltaTime=0,t.mMinerDeltaTime=0,t.mTotalWaitTime=1,t}t(n,e);var a=n.prototype;return a.addAllEvents=function(){c.on(m.SCENE_FARM_EXIT,this._onSceneFarmExit,this),c.on(m.WORKER_LIST_INIT,this._onWorkerListInitItem,this),c.on(m.WORKER_LIST_ADD_ITEM,this._onWorkerListAddItem,this),c.on(m.WORKER_LIST_REMOVE_ITEM,this._onWorkerListRemoveItem,this),c.on(m.WORKER_LIST_UPDATE_ITEM,this._onWorkerListUpdateItem,this),c.on(m.WORKER_LIST_LEVELUP_ITEM,this._onWorkerListLevelupItem,this),c.on(m.WORKER_LIST_REFRESH_STATE_ITEM,this._onWorkerListRefreshStateItem,this),c.on(m.FARM_CHANGE_STATE_TO_NORMAL,this._onFarmExitEditing,this),c.on(m.FARM_CHANGE_STATE_TO_ITEM_EDITING,this._onFarmEnterEditing,this),c.on(m.WORKER_STATE_IDLE_FINISH,this._onWorkerIdleFinish,this),c.on(m.WORKER_STATE_FARMER_WATER_FINISH,this._onWorkFarmerWaterFinish,this),c.on(m.WORKER_STATE_FARMER_GATHER_FINISH,this._onWorkFarmerGatherFinish,this),c.on(m.WORKER_STATE_HUNTER_FINISH,this._onWorkHunterFinish,this),c.on(m.WORKER_STATE_MINER_FINISH,this._onWorkMinerFinish,this)},a.removeAllEvents=function(){c.off(m.SCENE_FARM_EXIT,this._onSceneFarmExit,this),c.off(m.WORKER_LIST_INIT,this._onWorkerListInitItem,this),c.off(m.WORKER_LIST_ADD_ITEM,this._onWorkerListAddItem,this),c.off(m.WORKER_LIST_REMOVE_ITEM,this._onWorkerListRemoveItem,this),c.off(m.WORKER_LIST_UPDATE_ITEM,this._onWorkerListUpdateItem,this),c.off(m.WORKER_LIST_LEVELUP_ITEM,this._onWorkerListLevelupItem,this),c.off(m.WORKER_LIST_REFRESH_STATE_ITEM,this._onWorkerListRefreshStateItem,this),c.off(m.FARM_CHANGE_STATE_TO_NORMAL,this._onFarmExitEditing,this),c.off(m.FARM_CHANGE_STATE_TO_ITEM_EDITING,this._onFarmEnterEditing,this),c.off(m.WORKER_STATE_IDLE_FINISH,this._onWorkerIdleFinish,this),c.off(m.WORKER_STATE_FARMER_WATER_FINISH,this._onWorkFarmerWaterFinish,this),c.off(m.WORKER_STATE_FARMER_GATHER_FINISH,this._onWorkFarmerGatherFinish,this),c.off(m.WORKER_STATE_HUNTER_FINISH,this._onWorkHunterFinish,this),c.off(m.WORKER_STATE_MINER_FINISH,this._onWorkMinerFinish,this)},a._onSceneFarmExit=function(){this.clearSysData()},a._onWorkerListInitItem=function(){if(u.instance.IsInFarmScene)for(var e=l.instance.getWorkerList(),t=0;t<e.length;t++)e[t].WorkerData.roleState!==f.eWorkerState_Null&&e[t].WorkerData.roleState!==f.eWorkerState_3||this.addWorkerObject(e[t])},a._onWorkerListAddItem=function(e){if(u.instance.IsInFarmScene){var t=l.instance.getWorkerDataByID(e);null!=t&&(t.WorkerData.roleState!==f.eWorkerState_Null&&t.WorkerData.roleState!==f.eWorkerState_3||this.addWorkerObject(t))}},a._onWorkerListRemoveItem=function(e){u.instance.IsInFarmScene&&this.removeWorkerObject(e)},a._onWorkerListUpdateItem=function(e){if(u.instance.IsInFarmScene){var t=l.instance.getWorkerDataByID(e);if(null!=t){var r=this.findWorkerObjectByID(e);null!=r&&r.SetWorkerLevel(t.WorkerData.roleLevel)}}},a._onWorkerListLevelupItem=function(e){if(u.instance.IsInFarmScene){var t=l.instance.getWorkerDataByID(e);if(null!=t){var r=this.findWorkerObjectByID(e);null!=r&&r.SetWorkerLevel(t.WorkerData.roleLevel)}}},a._onWorkerListRefreshStateItem=function(e){if(u.instance.IsInFarmScene){var t=l.instance.getWorkerDataByID(e);if(null!=t){var r=this.findWorkerObjectByID(e);if(null!=r){r.SetWorkerType(t.WorkerData.roleWorkBuilding);var i=this._getWorkerInitPos(r.WorkerType);this._refreshWorkerState(r,i)}}}},a._onFarmExitEditing=function(){if(u.instance.IsInFarmScene)for(var e,t=r(this.mWorkerObjectMap.values());!(e=t()).done;){var i=e.value;switch(i.WorkerType){case W.Farmer:this._resetFarmerState(i);break;case W.Hunter:this._resetHunterState(i);break;case W.Miner:this._resetMinerState(i);break;default:this._resetIdleState(i)}i.OnFarmEditFinish()}},a._onFarmEnterEditing=function(){if(u.instance.IsInFarmScene)for(var e,t=r(this.mWorkerObjectMap.values());!(e=t()).done;){e.value.setObjActive(!1)}},a.sysInitial=function(){e.prototype.sysInitial.call(this)},a.sysUpdate=function(t){e.prototype.sysUpdate.call(this,t),I.instance.IsNormal&&(this._updateWorkerObject(t),this._updateWorkFarmer(t),this._updateWorkHunter(t),this._updateWorkMiner(t))},a.clearSysData=function(){e.prototype.clearSysData.call(this),this.mWorkerObjectMap.forEach((function(e){e.clearObjectData()})),this.mWorkerObjectMap.clear(),this.mFarmerIdleList=[],this.mHunterIdleList=[],this.mMinerIdleList=[]},a.getWorkerListByType=function(e){var t=[];return this.mWorkerObjectMap.forEach((function(r){r.WorkerType===e&&t.push(r)})),t},a.getWorkerCountByType=function(e){var t=0;return this.mWorkerObjectMap.forEach((function(r){r.WorkerType===e&&t++})),t},a.findWorkerObjectByID=function(e){return this.mWorkerObjectMap.has(e)?this.mWorkerObjectMap.get(e):null},a.addWorkerObject=function(e){var t=this._createWorkerObject(e),r=this._getWorkerInitPos(t.WorkerType);return t.setGridPosImmediate(r),this.mWorkerObjectMap.set(t.WorkerID,t),this._refreshWorkerState(t,r),t},a.removeWorkerObject=function(e){var t=this.findWorkerObjectByID(e);null!=t&&(t.NeedDelete=!0)},a._createWorkerObject=function(e){var t=new h;return t.TempID=d.getWorkerUseGuid(),t.initObject(),t.InitActorData(e),t},a._updateWorkerObject=function(e){var t=this;this.mToDelWorkerObject=[],this.mWorkerObjectMap.forEach((function(r,i){null!=r&&(r.NeedDelete?t.mToDelWorkerObject.push(i):r.IsInState(_.None)||r.runFrame(e))}));for(var r=0;r<this.mToDelWorkerObject.length;r+=1){var i=this.mToDelWorkerObject[r];this.mWorkerObjectMap.get(i).clearObjectData(),this.mWorkerObjectMap.set(i,null),this.mWorkerObjectMap.delete(i)}},a._refreshWorkerState=function(e,t){switch(this._removeWorkerState(e.WorkerID),e.WorkerType){case W.Farmer:e.InitGridPos=t,this.mFarmerIdleList.push(e.WorkerID);break;case W.Hunter:e.InitGridPos=t,this.mHunterIdleList.push(e.WorkerID);break;case W.Miner:e.InitGridPos=t,this.mMinerIdleList.push(e.WorkerID);break;default:e.InitGridPos=t,e.ChangeState(_.Idle)}},a._getWorkerInitPos=function(e){var t=null;switch(e){case W.Farmer:I.instance.roomFood&&(t=I.instance.roomFood.getDoorFarmNodePos());break;case W.Hunter:I.instance.roomWood&&(t=I.instance.roomWood.getDoorFarmNodePos());break;case W.Miner:I.instance.roomStone&&(t=I.instance.roomStone.getDoorFarmNodePos());break;default:I.instance.tabeTower&&(t=I.instance.tabeTower.getDoorFarmNodePos())}return t?o(t.boardX,t.boardY):s.ZERO},a._removeWorkerState=function(e){var t=this.mFarmerIdleList.indexOf(e);t>=0&&this.mFarmerIdleList.splice(t,1);var r=this.mHunterIdleList.indexOf(e);r>=0&&this.mHunterIdleList.splice(r,1);var i=this.mMinerIdleList.indexOf(e);i>=0&&this.mMinerIdleList.splice(i,1)},a._onWorkerIdleFinish=function(e){this.mWorkerObjectMap.has(e)&&this.mWorkerObjectMap.get(e).ChangeState(_.None)},a._resetIdleState=function(e){if(e.IsInState(_.None)?e.setObjActive(!1):e.setObjActive(!0),I.instance.tabeTower){var t=I.instance.tabeTower.getDoorFarmNodePos();e.InitGridPos=o(t.boardX,t.boardY)}else e.InitGridPos=s.ZERO},a._onWorkFarmerWaterFinish=function(e){this.mWorkerObjectMap.has(e)&&this.mWorkerObjectMap.get(e).ChangeState(_.Wait);this.mFarmerIdleList.includes(e)||this.mFarmerIdleList.unshift(e),this._handlerWorkFarmer()},a._onWorkFarmerGatherFinish=function(e){this.mWorkerObjectMap.has(e)&&this.mWorkerObjectMap.get(e).ChangeState(_.None);this.mFarmerIdleList.includes(e)||this.mFarmerIdleList.push(e)},a._updateWorkFarmer=function(e){this.mFarmerIdleList.length<=0||(this.mFarmerDeltaTime>this.mTotalWaitTime&&(this.mFarmerDeltaTime=0,this._handlerWorkFarmer()),this.mFarmerDeltaTime+=e)},a._handlerWorkFarmer=function(){for(var e=k.Empty;e<k.Max;e++){var t=I.instance.getCanUseFoodProduce(e);t.length>0&&t.sort((function(e,t){return e.getRealPixelPos().x===t.getRealPixelPos().x?t.getRealPixelPos().y-e.getRealPixelPos().y:e.getRealPixelPos().x-t.getRealPixelPos().x}));for(var r=0;r<t.length;r++){var i=t[r];if(this.mFarmerIdleList.length>0){var n=this.mFarmerIdleList.shift(),o=this.mWorkerObjectMap.get(n);o.TarWorkObjID=i.TempID,e===k.CanGet?o.ChangeState(_.Gather):o.ChangeState(_.Water)}}}for(var s=0;s<this.mFarmerIdleList.length;s++){var a=this.mFarmerIdleList[s],h=this.mWorkerObjectMap.get(a);h.IsInState(_.None)||(h.TarWorkObjID=0,h.ChangeState(_.Gather))}},a._resetFarmerState=function(e){if(e.IsInState(_.None)?e.setObjActive(!1):e.setObjActive(!0),I.instance.roomFood){var t=I.instance.roomFood.getDoorFarmNodePos();e.InitGridPos=o(t.boardX,t.boardY)}else e.InitGridPos=s.ZERO},a._onWorkHunterFinish=function(e){this.mWorkerObjectMap.has(e)&&this.mWorkerObjectMap.get(e).ChangeState(_.None);this.mHunterIdleList.includes(e)||this.mHunterIdleList.push(e)},a._updateWorkHunter=function(e){this.mHunterIdleList.length<=0||(this.mHunterDeltaTime>this.mTotalWaitTime&&(this.mHunterDeltaTime=0,this._handlerWorkHunter()),this.mHunterDeltaTime+=e)},a._handlerWorkHunter=function(){for(var e=I.instance.getCanUseWoodProduce(),t=0;t<e.length;t++){var r=e[t];if(this.mHunterIdleList.length>0){var i=this.mHunterIdleList.shift(),n=this.mWorkerObjectMap.get(i);n.TarWorkObjID=r.TempID,n.ChangeState(_.Hunt)}}for(var o=0;o<this.mHunterIdleList.length;o++){var s=this.mHunterIdleList[o],a=this.mWorkerObjectMap.get(s);a.IsInState(_.None)||(a.TarWorkObjID=0,a.ChangeState(_.Hunt))}},a._resetHunterState=function(e){if(e.IsInState(_.None)?e.setObjActive(!1):e.setObjActive(!0),I.instance.roomWood){var t=I.instance.roomWood.getDoorFarmNodePos();e.InitGridPos=o(t.boardX,t.boardY)}else e.InitGridPos=s.ZERO},a._onWorkMinerFinish=function(e){this.mWorkerObjectMap.has(e)&&this.mWorkerObjectMap.get(e).ChangeState(_.None);this.mMinerIdleList.includes(e)||this.mMinerIdleList.push(e)},a._updateWorkMiner=function(e){this.mMinerIdleList.length<=0||(this.mMinerDeltaTime>this.mTotalWaitTime&&(this.mMinerDeltaTime=0,this._handlerWorkMiner()),this.mMinerDeltaTime+=e)},a._handlerWorkMiner=function(){for(var e=I.instance.getCanUseStoneProduce(),t=0;t<e.length;t++){var r=e[t];if(this.mMinerIdleList.length>0){var i=this.mMinerIdleList.shift(),n=this.mWorkerObjectMap.get(i);n.TarWorkObjID=r.TempID,n.ChangeState(_.Mine)}}for(var o=0;o<this.mMinerIdleList.length;o++){var s=this.mMinerIdleList[o],a=this.mWorkerObjectMap.get(s);a.IsInState(_.None)||(a.TarWorkObjID=0,a.ChangeState(_.Mine))}},a._resetMinerState=function(e){if(e.IsInState(_.None)?e.setObjActive(!1):e.setObjActive(!0),I.instance.roomStone){var t=I.instance.roomStone.getDoorFarmNodePos();e.InitGridPos=o(t.boardX,t.boardY)}else e.InitGridPos=s.ZERO},i(n,null,[{key:"instance",get:function(){return null==this._instance&&(this._instance=new n),this._instance}}]),n}(a));T._instance=null,T.MAX_WORK_FARMER_SHOW_COUNT=5,T.MAX_WORK_HUNTER_SHOW_COUNT=3,T.MAX_WORK_MINER_SHOW_COUNT=3,n._RF.pop()}}}));

System.register("chunks:///_virtual/write.erc1155.data.ts",["cc","./table.manager.ts","./common.tool.ts"],(function(t){"use strict";var e,n,a,r;return{setters:[function(t){e=t.cclegacy,n=t._decorator},function(t){a=t.TableManager},function(t){r=t.CommonTool}],execute:function(){var i,c;e._RF.push({},"3b666mzJepOrIQUJWdU9YeF","write.erc1155.data",void 0);var o=n.ccclass;t("WriteErc1155Data",o("WriteErc1155Data")(((c=function(){function t(){}return t.writeData=function(){var t=[],e=a.instance.tableI18nTable,n=a.instance.tableFarmRes.getAllResList();a.instance.tableItem.getItemArray().forEach((function(a){if(1===a.isOnChain){var r=e.findRecord(a.itemNameId),i=e.findRecord(a.itemDescId),c=n.find((function(t){return t.itemId===a.itemId})),o={id:a.itemId,icon:a.itemId.toString(),name:r.en,desc:i.en,compute:c?c.capacity:0};t.push(o)}})),r.saveJsonForBrowser(JSON.stringify(t),"item_1155_data.json")},t}()).sFarmObjectStartID=1000000001,c.sWorkerObjectStartID=20001,i=c))||i);e._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});
